{"./":{"url":"./","title":"Introduction","keywords":"","body":"ä¸ªäººçŸ¥è¯†æ¡†æ¶ æ¥æºäºå¹³æ—¶å­¦ä¹ /å·¥ä½œï¼ŒåŒ…å« ç®—æ³•ä¸æ•°æ®ç»“æ„ / æ“ä½œç³»ç»Ÿ / æ•°æ®åº“ / è®¡ç®—æœºç³»ç»Ÿ / ç½‘ç»œ / ä¸­é—´ä»¶ / Java / è½¯ä»¶å·¥ç¨‹ / å‰ç«¯ / è¿ç»´ / ç½‘ç»œå®‰å…¨ æœ¬çŸ¥è¯†æ¡†æ¶å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯å‰æœŸå»ºç«‹æ¡†æ¶å¤§çº²ï¼ŒåæœŸä¸æ–­å®Œå–„ç»†èŠ‚ï¼Œå‘ˆä¸€ä¸ªèºæ—‹ä¸Šå‡çš„ç»“æ„ï¼Œå¦‚æœå‘ç°ä»»ä½•ä¸è¶³/é”™è¯¯ï¼Œæˆ–è€…éœ€è¦è¡¥å……çš„ï¼Œéƒ½æ¬¢è¿æäº¤issue/PR ! è°¢è°¢ï¼ï¼ï¼ åœ¨çº¿é˜…è¯»:https://note.ismy.wang https://b.ismy.wang(å›½å†…æœåŠ¡å™¨) note-mind ç¬”è®°æ€ç»´å¯¼å›¾: https://github.com/0xcaffebabe/note-mind å‚è€ƒæ–‡çŒ® ç»Ÿè®¡ï¼š ğŸ’ç®—æ³•ä¸æ•°æ®ç»“æ„ leetcode æ ‘ç›¸å…³ç®—æ³•é¢˜ åŸºæœ¬æ•°æ®ç»“æ„ ç®—æ³•ç­–ç•¥ æ’åº å † æŸ¥æ‰¾ æ ‘ å¹¶æŸ¥é›† å›¾ å­—ç¬¦ä¸² ğŸ’¾æ•°æ®åº“ç³»ç»Ÿ leetcode å½¢å¼åŒ–å…³ç³»æŸ¥è¯¢è¯­è¨€ æ•°æ®åº“è®¾è®¡å’ŒERæ¨¡å‹ å…³ç³»æ•°æ®åº“è®¾è®¡ å­˜å‚¨å’Œæ–‡ä»¶ç»“æ„ ç´¢å¼•ä¸æ•£åˆ— æŸ¥è¯¢å¤„ç† æŸ¥è¯¢ä¼˜åŒ– ORM äº‹åŠ¡ å¹¶å‘æ§åˆ¶ æ¢å¤ç³»ç»Ÿ æ•°æ®åº“ç³»ç»Ÿä½“ç³»ç»“æ„ å¹¶è¡Œæ•°æ®åº“ åˆ†å¸ƒå¼æ•°æ®åº“ æ•°æ®ä»“åº“ä¸æ•°æ®æŒ–æ˜ ä¿¡æ¯æ£€ç´¢ å¯¹è±¡æ•°æ®åº“ é«˜çº§åº”ç”¨å¼€å‘ æ—¶ç©ºæ•°æ®å’Œç§»åŠ¨æ€§ é«˜çº§äº‹åŠ¡å¤„ç† æ•°æ®æŠ€æœ¯ æ•°æ®æŒ–æ˜ å¤§æ•°æ® Hadoop ğŸ’½æ“ä½œç³»ç»Ÿ è¿›ç¨‹ä¸çº¿ç¨‹ å†…å­˜ç®¡ç† æ–‡ä»¶ç®¡ç† è¾“å…¥/è¾“å‡º æ­»é” è™šæ‹ŸåŒ–ä¸äº‘ å¤šå¤„ç†æœºç³»ç»Ÿ å®‰å…¨ è™šæ‹ŸåŒ– äº‘åŸç”Ÿ ğŸ™è½¯ä»¶å·¥ç¨‹ ç†è®º è½¯ä»¶è¿‡ç¨‹ è½¯ä»¶éœ€æ±‚ ç»“æ„åŒ–åˆ†ææ–¹æ³• ç»“æ„åŒ–è®¾è®¡æ–¹æ³• UML é¢å‘å¯¹è±¡ é¢å‘å¯¹è±¡èŒƒå¼ æ•æ·è½¯ä»¶å¼€å‘ è½¯ä»¶æµ‹è¯• é¡¹ç›®ç®¡ç† CMM äººæœˆç¥è¯ è½¯ä»¶å·¥è‰º é¢†åŸŸé©±åŠ¨è®¾è®¡ DevOps ServiceComb ç¼–ç  ä»£ç é‡æ„ ä»£ç å®¡æŸ¥ æ•´æ´ä»£ç  ç¼–ç è§„èŒƒ è®¾è®¡æ¨¡å¼ åˆ›å»ºå‹æ¨¡å¼ ç»“æ„å‹æ¨¡å¼ è¡Œä¸ºæ¨¡å¼ MVC æœåŠ¡è®¡ç®— æ¶æ„ ç¼–ç¨‹èŒƒå¼ è®¾è®¡åŸåˆ™ æ•°æ®ç³»ç»Ÿ ç³»ç»Ÿè®¾è®¡ åˆ†å¸ƒå¼ åˆ†å¸ƒå¼å…±è¯†ç®—æ³• åˆ†å¸ƒå¼ç³»ç»Ÿ åˆ†å¸ƒå¼äº‹åŠ¡ åˆ†å¸ƒå¼å®ç° é«˜å¹¶å‘ å¯ç”¨æ€§ æœåŠ¡å®¹é”™ æµé‡æ§åˆ¶ é›†ç¾¤ ç¼“å­˜ é™æ€åŒ– ğŸ”­æœåŠ¡å‘ç° ç½‘å…³ æ¶æ„å®‰å…¨ é›¶ä¿¡ä»»ç½‘ç»œ æœåŠ¡å®‰å…¨ å¯è§‚æµ‹æ€§ å¼€æ”¾å¹³å°è®¾è®¡ SSO æ”¯ä»˜ç³»ç»Ÿè®¾è®¡ ä¸­å° ç»„ä»¶æ„å»ºåŸåˆ™ è½¯ä»¶æ¶æ„ å®ç°ç»†èŠ‚ ç½‘ç«™æ¶æ„æ¼”è¿› æœåŠ¡æ¶æ„æ¼”è¿› Web å‰ç«¯ å‰åç«¯åˆ†ç¦» å‰ç«¯å·¥ç¨‹åŒ– æ¶æ„æ¨¡å¼ æ¦‚è§ˆ é¢†åŸŸé€»è¾‘æ¨¡å¼ æ•°æ®æºæ¶æ„æ¨¡å¼ å¯¹è±¡å…³ç³»è¡Œä¸ºæ¨¡å¼ å¯¹è±¡å…³ç³»ç»“æ„æ¨¡å¼ å¯¹è±¡å…³ç³»å…ƒæ•°æ®æ˜ å°„æ¨¡å¼ webè¡¨ç°æ¨¡å¼ åˆ†å¸ƒæ¨¡å¼ ç¦»çº¿å¹¶å‘æ¨¡å¼ ä¼šè¯æ¨¡å¼ åŸºæœ¬æ¨¡å¼ å¾®æœåŠ¡ æœåŠ¡å»ºæ¨¡ é›†æˆ äº‹åŠ¡ æ‹†åˆ† ä¸šåŠ¡é€»è¾‘ æŸ¥è¯¢ éƒ¨ç½² æµ‹è¯• ç›‘æ§ å®‰å…¨ è§„æ¨¡åŒ– åˆ†å¸ƒå¼æ—¥å¿— ServiceMesh SpringCloud æ³¨å†Œä¸­å¿ƒ æœåŠ¡æä¾›ä¸è°ƒç”¨ ç†”æ–­å™¨ä¸ç†”æ–­ç›‘æ§ é…ç½®ä¸­å¿ƒ æ¶ˆæ¯æ€»çº¿ æ¶ˆæ¯é©±åŠ¨ æœåŠ¡ç½‘å…³ é“¾è·¯è¿½è¸ª å¼€æ”¾å¹³å° SpringCloudAlibaba ğŸ’»è®¡ç®—æœºç³»ç»Ÿ æ•°æ®çš„è¡¨ç¤º è¿ç®—æ–¹æ³•ä¸è¿ç®—å™¨ æ±‡ç¼– å¤„ç†å™¨ä½“ç³»æ¶æ„ ä¼˜åŒ–ç¨‹åºæ€§èƒ½ å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ æŒ‡ä»¤ç³»ç»Ÿ æ€»çº¿ é“¾æ¥ å¼‚å¸¸æ§åˆ¶æµ è™šæ‹Ÿå†…å­˜ è¾“å…¥è¾“å‡ºç³»ç»Ÿ ç³»ç»Ÿçº§IO ç½‘ç»œç¼–ç¨‹ æ•°å­—é€»è¾‘ç”µè·¯ æ•°å­—é€»è¾‘ç”µè·¯åŸºç¡€ é€»è¾‘é—¨ç”µè·¯ ç»„åˆé€»è¾‘ç”µè·¯ æ—¶åºé€»è¾‘ç”µè·¯ æ—¶åºé€»è¾‘åŠŸèƒ½æ¨¡å— åŠå¯¼ä½“å­˜å‚¨å™¨ å¯ç¼–ç¨‹é€»è¾‘å™¨ä»¶ å¯ç¼–ç¨‹é€»è¾‘å™¨ä»¶ æ•°æ¨¡ä¸æ¨¡æ•°è½¬æ¢ ğŸ”ç½‘ç»œå®‰å…¨ ç½‘ç»œåè®®å®‰å…¨ ç½‘ç»œå®‰å…¨éš”ç¦»æŠ€æœ¯ ç½‘ç»œå®‰å…¨æŠ€æœ¯ å®‰å…¨åè®®æŠ€æœ¯ è¸©ç‚¹ æ‰«æ æŸ¥ç‚¹ æ”»å‡»Windows æ”»å‡»Unix APT æ‹¨å·æ”»å‡» æ— çº¿æ”»å‡» ç¡¬ä»¶æ”»å‡» webä¸æ•°æ®åº“æ”»å‡» ç§»åŠ¨è®¾å¤‡æ”»å‡» KALIæ¸—é€æµ‹è¯• ä¿¡æ¯æ”¶é›† ç›®æ ‡è¯†åˆ« æœåŠ¡æšä¸¾ æ¼æ´æ˜ å°„ ç¤¾ä¼šå·¥ç¨‹ æ¼æ´åˆ©ç”¨ æƒé™æå‡ è®¿é—®ç»´æŠ¤ Webå®‰å…¨ æµè§ˆå™¨å®‰å…¨ XSSæ”»å‡» CSRF ç‚¹å‡»åŠ«æŒ HTML5å®‰å…¨ æ³¨å…¥æ”»å‡» æ–‡ä»¶ä¸Šä¼ æ¼æ´ è®¤è¯ä¸ä¼šè¯ç®¡ç† åŠ å¯†ç®—æ³•ä¸éšæœºæ•° Webæ¡†æ¶å®‰å…¨ åº”ç”¨å±‚æ‹’ç»æœåŠ¡æ”»å‡» webæœåŠ¡å™¨é…ç½®å®‰å…¨ ä¸šåŠ¡å®‰å…¨ å®‰å…¨å¼€å‘ä¸å®‰å…¨è¿è¥ å¯†ç å­¦ â˜ï¸è®¡ç®—æœºç½‘ç»œ åº”ç”¨å±‚ RPC HTTP RESTful è¿è¾“å±‚ ç½‘ç»œå±‚ é“¾è·¯å±‚ æ— çº¿ç½‘ç»œ ç½‘ç»œå®‰å…¨ å¤šåª’ä½“ç½‘ç»œ äº‘è®¡ç®— Linux ç½‘ç»œè™šæ‹ŸåŒ– ğŸ‘¨â€ğŸ’»ç¼–ç¨‹è¯­è¨€ å¹¶å‘æ¨¡å‹ å‡½æ•°å¼ç¼–ç¨‹ Cè¯­è¨€ ç±»å‹è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼ å‡½æ•°ä¸ç¨‹åºç»“æ„ æŒ‡é’ˆä¸æ•°ç»„ ç»“æ„ è¾“å…¥ä¸è¾“å‡º UNIXç³»ç»Ÿæ¥å£ â˜•Java è¯­è¨€åŸºç¡€ Javaè°œé¢˜ JAVAç¼–ç¨‹è§„èŒƒ p3c å¸¸ç”¨API ç»§æ‰¿ä¸å¤šæ€ åµŒå¥—ç±» é›†åˆ å¼‚å¸¸ æ—¥å¿— IO æ³›å‹ æ³¨è§£ åå°„ Java å¹¶å‘ç¼–ç¨‹ å¹¶å‘ç¼–ç¨‹è®¾è®¡æ¨¡å¼ leetcode åŸºç¡€æ¦‚å¿µ å¹¶å‘å·¥å…·ç±» å¹¶å‘é›†åˆ çº¿ç¨‹æ±  Disruptor ç½‘ç»œç¼–ç¨‹ NIO ç½‘ç»œçˆ¬è™« Netty æ¦‚å¿µåŠä½“ç³»ç»“æ„ ä¼ è¾“ ByteBuf Channelç›¸å…³ å¼•å¯¼ ç¼–è§£ç å™¨ Lambda è¡¨è¾¾å¼ Stream æµ Java æ¨¡å—åŒ– JDBC è¯­æ³•ç³– ç¼–è¯‘å™¨API Java è¿è¡Œç®¡ç† Java æºç è§£æ åŸºç¡€ é›†åˆ List Map Set å¹¶å‘é›†åˆ é˜Ÿåˆ— çº¿ç¨‹ é” çº¿ç¨‹æ±  ç¼–è¯‘åŸç† JVM è‡ªåŠ¨å†…å­˜ç®¡ç† å†…å­˜ç»“æ„ åƒåœ¾å›æ”¶ å·¥å…· è°ƒä¼˜ å­—èŠ‚ç  å­—èŠ‚ç æ‰§è¡Œå¼•æ“ è¿è¡Œå‚æ•° ç±»åŠ è½½æœºåˆ¶ å‰ç«¯ç¼–è¯‘ä¸ä¼˜åŒ– åç«¯ç¼–è¯‘ä¸ä¼˜åŒ– Java å†…å­˜æ¨¡å‹ Jakara EE Servlet JSP Cookie&Session Filter&Listener JNDI JPA Freemarker -æ¡†æ¶- Mybatis æºç è§£æ CURDæ“ä½œ è¿æ¥æ± ä¸äº‹åŠ¡ å¤šè¡¨æ“ä½œ ç¼“å­˜ æ³¨è§£å¼€å‘ åˆ†é¡µæ’ä»¶ Mybatis-Plus Hibernate Dubbo JUnit JavaScript DOM äº‹ä»¶ BOM é¢å‘å¯¹è±¡ å‡½æ•° æ­£åˆ™è¡¨è¾¾å¼ AJAX ES5 ES6 NodeJS art-template Express æ¨¡å—åŒ– ç¬¬ä¸‰æ–¹åº“/æ¡†æ¶ jQuery Vue æ•°æ®æ¸²æŸ“ å±æ€§æ“ä½œ ç³»ç»ŸæŒ‡ä»¤ ç»„ä»¶ åŠ¨ç”» å‰ç«¯è·¯ç”± Vuex ReactJS python go typescript HasKell Ruby Io Prolog Scala Erlang Clojure Rust ğŸƒSpring springæ¦‚è§ˆ Beanæ³¨å†Œ Beanç”Ÿå‘½å‘¨æœŸ AOP äº‹åŠ¡ äº‹ä»¶ SpringMVC æ¸²æŸ“WEBè§†å›¾ SpringMVCé«˜çº§ç‰¹æ€§ SpringData ORM ç¼“å­˜æ•°æ® Elasticsearch SpringSecurity ç”¨æˆ·è®¤è¯ RBAC Springé›†æˆ ä½¿ç”¨è¿œç¨‹æœåŠ¡ SpringBoot SpringWebFlux ğŸ”¨DSL HTML CSS é€‰æ‹©å™¨ å­—ä½“æ ·å¼ å¤åˆé€‰æ‹©å™¨ æ ‡ç­¾æ˜¾å¼æ¨¡å¼ è¡Œé«˜ èƒŒæ™¯ ç›’å­æ¨¡å‹ æµ®åŠ¨ å®šä½ é«˜çº§æŠ€å·§ CSS3 Less Bootstrap xml GraphQL SQL ğŸšä¸­é—´ä»¶ æ•°æ®åº“ MySQL åŸºæœ¬ä½¿ç”¨ æ•°æ®ç±»å‹ è§†å›¾å’Œå­˜å‚¨ç¨‹åº å­˜å‚¨å¼•æ“ ç´¢å¼• ç®¡ç† ä¼˜åŒ– performance schema schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ– æ‰§è¡Œè®¡åˆ’ æŸ¥è¯¢ä¼˜åŒ– åˆ†åŒºè¡¨ Oracle Redis æ•°æ®ç»“æ„ API æŒä¹…åŒ– å®¢æˆ·ç«¯ å¤åˆ¶ å“¨å…µ é›†ç¾¤ MongoDB æ¶ˆæ¯é˜Ÿåˆ— ActiveMQ RabbitMQ RocketMQ Kafka æ¶ˆè´¹è€… ç”Ÿäº§è€… webå®¹å™¨/æœåŠ¡å™¨ Tomcat Nginx å…¨æ–‡æ£€ç´¢ Lucene ElasticSearch ç¼“å­˜ä¸­é—´ä»¶ EhCache Memcached åˆ†å¸ƒå¼ä¸­é—´ä»¶ Zookeeper xxl-job Apollo æ•°æ®åº“ä¸­é—´ä»¶ MyCat ShardingJDBC æ–‡ä»¶æœåŠ¡å™¨ FastDFS ğŸ“±ç§»åŠ¨å¼€å‘ å®‰å“ Activity Intent RecyclerView Handler IPCæœºåˆ¶ é€šçŸ¥æ  æ•°æ®ç»‘å®š å±å¹•é€‚é… Fragment ç§»åŠ¨webå¼€å‘ å°ç¨‹åºå¼€å‘ uniapp ğŸ› å¼€å‘å·¥å…· Linux Vim Git SVN Idea Gradle Maven åˆ†æ¨¡å—æ„å»º NPM WebPack ğŸ”‹è¿ç»´ æŒç»­é›†æˆ Docker K8s å®¹å™¨ç®¡ç† ğŸ¥½é€šè¯† é—®é¢˜è®°å½• æŠ€æœ¯ä¸ä¸–ç•Œ ä¸“ä¸šç´ å…» è®¾è®¡ ç¼–ç¨‹æ€æƒ³ æµ‹è¯•ä¸æ€ç»´ å­¦ä¹ æ–¹æ³•è®º åŒºå—é“¾ markdownå†™ä½œ æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ å‚è€ƒæ–‡çŒ® MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-07-14 14:28:18 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/ç®—æ³•ä¸æ•°æ®ç»“æ„.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/ç®—æ³•ä¸æ•°æ®ç»“æ„.html","title":"ğŸ’ç®—æ³•ä¸æ•°æ®ç»“æ„","keywords":"","body":"ç®—æ³•ä¸æ•°æ®ç»“æ„ ç®—æ³• æœ‰ç©·æ€§ ç¡®å®šæ€§ å¯è¡Œæ€§ è¾“å…¥è¾“å‡º å¥½çš„ç®—æ³• æ­£ç¡®æ€§ æ˜“è¯»æ€§ å¥å£®æ€§ é«˜æ•ˆæ€§ ä½å­˜å‚¨æ€§ æ—¶é—´å¤æ‚åº¦ å¸¸æ•° å¤šé¡¹å¼ n^2 n^3 æŒ‡æ•° 2^n n! å¯¹æ•° logn ç©ºé—´å¤æ‚åº¦ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-07 05:02:08 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/leetcode/leetcode.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/leetcode/leetcode.html","title":"leetcode","keywords":"","body":"leetcode ä¸¤æ•°ä¹‹å’Œ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤é ç»™å®š nums = [2, 7, 11, 15], target = 9 å› ä¸º nums[0] + nums[1] = 2 + 7 = 9 æ‰€ä»¥è¿”å› [0, 1] è§£æ³•1 æš´åŠ›æ±‚è§£ï¼ŒåŒé‡å¾ªç¯æ±‚å¾—æ•°ç»„çš„ä¸¤ä¸ªé¡¹ç­‰äºtargetçš„ç»„åˆ class Solution { public int[] twoSum(int[] nums, int target) { int[] ret =new int[2]; for(int i=0;i è€—æ—¶:60-100ms è§£æ³•2 ä½¿ç”¨mapå­˜å‚¨(target-æ•°ç»„çš„item,index) éå†æ•°ç»„ï¼Œæ ¹æ®æ•°ç»„çš„itemæŸ¥æ‰¾åˆ°indexï¼Œ å¦‚æœæ‰¾åˆ°çš„indexä¸ä¸å½“å‰éå†çš„indexç›¸åŒï¼Œ åˆ™ç»“æœå°±æ˜¯å½“å‰çš„indexä¸æŸ¥æ‰¾çš„index class Solution { public int[] twoSum(int[] nums, int target) { int[] result = new int[2]; Map map = new HashMap<>(); for (int i=0;i è€—æ—¶:3-4ms ç¿»è½¬32ä½æ•´æ•° 123 -> 321 è§£æ³•1 è½¬æ¢æˆå­—ç¬¦ä¸²ç¿»è½¬ class Solution { public int reverse(int x) { boolean f = false; if (x=0;i--){ sb.append(s.charAt(i)); } if (sb.toString().charAt(sb.length()-1) == '-'){ sb = sb.replace(sb.length()-1,sb.length(),\"\"); } long ret = Long.parseLong(sb.toString()); if (f){ ret = -ret; } if (ret > Integer.MAX_VALUE || ret è€—æ—¶ï¼š28ms è§£æ³•2 å°†è¿™ä¸ªæ•°é€šè¿‡åŒºåŸŸæ‹†è§£æˆnä¸ªä¸ªä½æ•° å†å€’åºnä¸ªä¸ªä½æ•°ç›¸åŠ  class Solution { public int reverse(int x) { int i; long result = 0; LinkedList list = new LinkedList<>(); long f =1; while (x!=0){ i = x%10; x/=10; if (x!=0){ f*=10; } list.offer(i); } while(list.size() != 0){ result +=list.poll()*f; f/=10; } // åˆ¤æ–­æº¢å‡º return (int)result == result ? (int)result:0; } } ä½¿ç”¨é˜Ÿåˆ—è§£å†³æ­£åºè½¬å€’åºé—®é¢˜ è€—æ—¶ï¼š3ms åˆ¤æ–­å›æ–‡æ•° åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ã€‚å›æ–‡æ•°æ˜¯æŒ‡æ­£åºï¼ˆä»å·¦å‘å³ï¼‰å’Œå€’åºï¼ˆä»å³å‘å·¦ï¼‰è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•´æ•° è§£æ³•1 è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç”Ÿæˆè¯¥å­—ç¬¦ä¸²çš„å€’åºå­—ç¬¦ä¸²ï¼Œè¿›è¡Œåˆ¤æ–­ class Solution { public boolean isPalindrome(int x) { String s = String.valueOf(x); StringBuilder sb = new StringBuilder(); for (int i=s.length()-1;i>=0;i--){ sb.append(s.charAt(i)); } if (sb.toString().equals(s)){ return true; } return false; } } è€—æ—¶ï¼š146ms è§£æ³•2 è¿‡æ»¤è´Ÿæ•°ï¼Œé€ä¸€æ‹†åˆ†ä¸ºnä¸ªä¸ªä½æ•°å€’åºåŠ å…¥é˜Ÿåˆ— å°†é˜Ÿåˆ—å…ƒç´ å‡ºé˜Ÿï¼Œè¿˜åŸä¸ºå€’åºçš„æ•´æ•°ï¼Œåˆ¤æ–­æ˜¯å¦ç›¸ç­‰ class Solution { public boolean isPalindrome(int x) { int x1 = x; if (x queue = new LinkedList<>(); int f =1; while(x !=0){ queue.add(x%10); x = x/10; if (x != 0) { f *=10; } } int ret = 0; while (queue.size()!=0) { ret+=queue.poll()*f; f/=10; } return ret == x1; } } è€—æ—¶ï¼š13ms ç½—é©¬æ•°å­—è½¬æ•´æ•° V -> 5 IV -> 4 å‡†å¤‡(å­—ç¬¦,æ•´æ•°)ï¼Œä»ä¸‹è¡¨1-ç»“æŸæ‰«æå­—ç¬¦ä¸² æ‰¾åˆ°ç½—é©¬å­—ç¬¦ä»£è¡¨çš„æ•´æ•°ï¼Œ å¦‚æœå½“å‰æ‰«ç çš„ç½—é©¬å­—ç¬¦æ¯”index-1çš„ç½—é©¬å­—ç¬¦è¿˜è¦å°ï¼Œ åˆ™å°†è¯¥ç½—é©¬å­—ç¬¦ä»£è¡¨çš„æ•´æ•°ç´¯åŠ åˆ°ç»“æœ å¦åˆ™å‡å»ä¸¤å€index-1ä½ç½®çš„å€¼ï¼ˆå› ä¸ºä½ å‰å·²ç»åŠ äº†ä¸€éï¼‰ import java.util.*; class Solution { public int romanToInt(String s) { Map map = new HashMap<>(); map.put('I',1); map.put('V',5); map.put('X',10); map.put('L',50); map.put('C',100); map.put('D',500); map.put('M',1000); int ret = 0; for(int i =0;i previous){ ret -=2*previous; } } } return ret; } } è€—æ—¶ï¼š8ms å­—ç¬¦ä¸²æ•°ç»„æœ€é•¿å…¬å…±å‰ç¼€ æš´åŠ›è§£æ³• å–å­—ç¬¦ä¸²æ•°ç»„ç¬¬ä¸€ä¸ªä½œä¸ºsrc åˆ†åˆ«æ±‚å¾—srcçš„æ‰€æœ‰å‰ç¼€ åˆ¤æ–­æ•°ç»„å…¶ä»–é¡¹æ˜¯å¦éƒ½æœ‰è¿™ä¸ªå‰ç¼€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæœ€é•¿å‰ç¼€åŠå½“å‰srcçš„å‰ç¼€ class Solution { public String longestCommonPrefix(String[] strs) { if (strs.length == 0) { return \"\"; } String prefix = \"\"; String src = strs[0]; for (int i =0;i è€—æ—¶ï¼š4ms æ‹¬å·åŒ¹é…é—®é¢˜ è¾“å…¥\"()\" -> true \"[)\" -> false ä½¿ç”¨æ ˆ å·¦æ‹¬å·æ˜¯å…¥æ ˆï¼Œå³æ‹¬å·å‡ºæ ˆ å¦‚æœå‘ç°å‡ºæ ˆçš„ä¸å…¥æ ˆä¸åŒ¹é…ï¼Œåˆ™ä¸åŒ¹é… æˆ–è€…å‘ç°è¾“å…¥å³æ‹¬å·æ—¶ï¼Œæ ˆä¸ºç©ºï¼Œä¹Ÿæ˜¯ä¸åŒ¹é… å­—ç¬¦ä¸²æ‰«æå®Œæˆæ—¶ï¼Œæ ˆä¸ºç©ºï¼Œè¡¨æ˜åŒ¹é… class Solution { public boolean isValid(String s) { LinkedList stack = new LinkedList<>(); Map map = new HashMap<>(); map.put('{','}'); map.put('[',']'); map.put('(',')'); for (int i=0;i è€—æ—¶ï¼š2ms åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ è¾“å…¥ï¼š1->2->4, 1->3->4 è¾“å‡ºï¼š1->1->2->3->4->4 è§£æ³• å½“ä¸¤ä¸ªæŒ‡é’ˆéƒ½ä¸ä¸ºç©ºæ—¶ï¼Œåˆ™åˆ¤æ–­å“ªä¸ªæŒ‡é’ˆçš„å€¼æ¯”è¾ƒå°ï¼Œ å°†è¾ƒå°çš„å€¼å­˜å…¥ç»“æœï¼Œç»“æœçš„æŒ‡é’ˆä¸æ¯”è¾ƒå°çš„æŒ‡é’ˆåç§» å¦‚æœåªæœ‰ä¸€ä¸ªæŒ‡é’ˆä¸ä¸ºç©ºï¼Œåˆ™ä¸æ–­å¯¹è¯¥æŒ‡é’ˆå­˜å…¥ç»“æœï¼Œå¹¶ä¸”å°†ç»“æœä¸è¯¥æŒ‡é’ˆåç§» /** * Definition for singly-linked list. * public class ListNode { * int val; * ListNode next; * ListNode(int x) { val = x; } * } */ class Solution { public ListNode mergeTwoLists(ListNode l1, ListNode l2) { if (l1 == null && l2 == null) { return null; } ListNode node = new ListNode(); ListNode ret = node; while(l1 != null && l2 != null) { if (l1.val è€—æ—¶ï¼š1ms åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ ç»™å®šæ•°ç»„ nums = [1,1,2], å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚ è§£æ³•1 ä»å·¦å‘å³æ‰«ææ•°ç»„ å¦‚æœå‘ç°è¢«æ‰«æå…ƒç´ ç­‰äºå·¦è¾¹å…ƒç´  åˆ™å°†è¯¥å…ƒç´ å¾€åçš„æ‰€æœ‰å…ƒç´ å¾€å‰ç§»åŠ¨ä¸€ä½ class Solution { public int removeDuplicates(int[] nums) { int length = nums.length; for (int i=1;i è€—æ—¶ï¼š86ms è§£æ³•2 åŒæŒ‡é’ˆè§£æ³• å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆiï¼Œé»˜è®¤æŒ‡å‘0 ä»1-næ‰«ææ•°ç»„ï¼Œå¦‚æœå‘ç°å³è¾¹ä¸ç­‰äºå·¦è¾¹ åˆ™i++ï¼Œç„¶åè®©æ•°ç»„içš„ä½ç½®å†…å®¹æ›¿æ¢ä¸ºæ‰«æä½ç½®çš„å†…å®¹ ç”±äºiä»£è¡¨çš„æ˜¯ä¸‹æ ‡ï¼Œæ‰€ä»¥æœ€åéœ€è¦i+1è½¬ä¸ºé•¿åº¦ class Solution { public int removeDuplicates(int[] nums) { if (nums.length == 0) return 0; int i = 0; for (int j = 1; j è€—æ—¶ï¼š1ms ç§»é™¤å…ƒç´  ç»™å®š nums = [3,2,2,3], val = 3, å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´  è§£æ³•1 è¿™é“é¢˜è·Ÿä¸Šä¸€é“é¢˜å¾ˆåƒï¼ŒåŒæ ·å¯ä»¥æ‰«æå…ƒç´ ï¼Œç­‰äºvalæ—¶å°±å°†åé¢çš„å…ƒç´ å…¨éƒ¨å‘å‰ç§»åŠ¨ä¸€ä½ è€—æ—¶ï¼š5ms è§£æ³•2 ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆi=0 ä»å·¦å‘å³æ‰«æå…ƒç´ ï¼Œå¦‚æœå‘ç°æ‰«æçš„å€¼ä¸ç­‰äºè¦è¢«ç§»é™¤çš„å€¼ åˆ™å°†æ‰«æçš„å€¼è½¬ç§»åˆ°æ•°ç»„içš„ä½ç½®ï¼Œç„¶åiå‘åç§»åŠ¨ä¸€ä½ class Solution { public int removeElement(int[] nums, int val) { int i = 0; for (int j=0; j è€—æ—¶ï¼š0ms IPåœ°å€æ— æ•ˆåŒ– ç»™ä½ ä¸€ä¸ªæœ‰æ•ˆçš„ IPv4 åœ°å€ addressï¼Œè¿”å›è¿™ä¸ª IP åœ°å€çš„æ— æ•ˆåŒ–ç‰ˆæœ¬ã€‚ æ‰€è°“æ— æ•ˆåŒ– IP åœ°å€ï¼Œå…¶å®å°±æ˜¯ç”¨ \"[.]\" ä»£æ›¿äº†æ¯ä¸ª \".\"ã€‚ è§£æ³• ä»å·¦è‡³å³æ‰«æå­—ç¬¦ï¼Œé‡åˆ°â€œ.â€å°±æ”¹ä¸º\"[.]\"å¦åˆ™åŸæ ·è¾“å‡º ä¸ºäº†æ•ˆç‡ï¼Œè¿™é‡Œä½¿ç”¨äº†StringBuffer class Solution { public String defangIPaddr(String address) { StringBuffer sb = new StringBuffer(); for(int i =0;i åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ è¾“å…¥: nums1 = [1,2,3,0,0,0], m = 3 nums2 = [2,5,6], n = 3 è¾“å‡º: [1,2,2,3,5,6] è·Ÿåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ç±»ä¼¼ class Solution { public void merge(int[] nums1, int m, int[] nums2, int n) { LinkedList list1 = new LinkedList<>(); for (int i=0;i list2 = new LinkedList<>(); for (int i=0;i list; if (list1.isEmpty()){ list=list2; }else { list = list1; } while(!list.isEmpty()){ nums1[index++]=list.remove(); } } } è€—æ—¶ï¼š2ms æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ https://leetcode-cn.com/problems/length-of-last-word/ è¾“å…¥: \"Hello World\" è¾“å‡º: 5 è§£æ³• ä»åå¾€å‰æ‰«ææ–‡æœ¬ å‘ç°å­—ç¬¦ä¸ºéç©ºæ ¼ï¼Œé•¿åº¦+1 å‘ç°å­—ç¬¦æ˜¯ç©ºæ ¼ï¼Œå¹¶ä¸”é•¿åº¦ä¸ç­‰äº0ï¼Œåˆ™å·²ç»æŸ¥æ‰¾åˆ°æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ class Solution { public int lengthOfLastWord(String s) { int length =0; for (int i=s.length()-1;i>=0;i--){ if (s.charAt(i) == ' ' && length != 0) { break; }else if (s.charAt(i) != ' '){ length ++; } } return length; } } è€—æ—¶ï¼š0ms åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list/ ç»™å®šä¸€ä¸ªæ’åºé“¾è¡¨ï¼Œåˆ é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ è§£æ³• éå†é“¾è¡¨ï¼Œå¦‚æœå‘ç°å½“å‰èŠ‚ç‚¹ç­‰äºåç»§èŠ‚ç‚¹ï¼Œåˆ™å°†å½“å‰èŠ‚ç‚¹çš„åç»§ä¿®æ”¹ä¸ºåç»§èŠ‚ç‚¹çš„åç»§ å½“å½“å‰èŠ‚ç‚¹æˆ–è€…åç»§èŠ‚ç‚¹ä¸ºnullï¼Œåœæ­¢éå† class Solution { public ListNode deleteDuplicates(ListNode head) { ListNode origin = head; while(head != null && head.next != null) { if (head.val == head.next.val) { head.next = head.next.next; continue; } head = head.next; } return origin; } } è€—æ—¶ï¼š0ms æ±‚1+2+â€¦+n æ±‚ 1+2+...+n ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚ https://leetcode-cn.com/problems/qiu-12n-lcof/ è§£æ³• ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼ return (n+1)*n/2; éªŒè¯å›æ–‡ä¸² ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒéªŒè¯å®ƒæ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œåªè€ƒè™‘å­—æ¯å’Œæ•°å­—å­—ç¬¦ï¼Œå¯ä»¥å¿½ç•¥å­—æ¯çš„å¤§å°å†™ https://leetcode-cn.com/problems/valid-palindrome/ è§£æ³• ç±»ä¼¼äºå‰é¢çš„éªŒè¯å›æ–‡æ•°å­—ï¼Œåˆ†åˆ«æ­£åºä¸é€†åºå°†å­—ç¬¦ä¸²å…¥æ ˆï¼Œæ¯”è¾ƒä¸¤ä¸ªæ ˆ class Solution { public boolean isPalindrome(String s) { s = s.toLowerCase(); LinkedList stack1 = new LinkedList<>(); LinkedList stack2 = new LinkedList<>(); for (int i=s.length()-1;i>=0;i--){ char c =s.charAt(i); if ((c >=48 && c =97 && c ç¯å½¢é“¾è¡¨ ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚ https://leetcode-cn.com/problems/linked-list-cycle/ è§£æ³• ä½¿ç”¨mapå­˜å‚¨éå†è¿‡çš„node å¯¹Listè¿›è¡Œéå†ï¼Œå‘ç°å­˜åœ¨è¿‡çš„nodeå³å­˜åœ¨ç¯ public class Solution { public boolean hasCycle(ListNode head) { Map map = new HashMap(); while(head != null){ if (map.containsKey(head)){ return true; } map.put(head,true); head = head.next; } return false; } } è€—æ—¶ï¼š5ms ä¸€ç»´æ•°ç»„çš„åŠ¨æ€å’Œ è¾“å…¥ï¼šnums = [1,2,3,4] è¾“å‡ºï¼š[1,3,6,10] è§£é‡Šï¼šåŠ¨æ€å’Œè®¡ç®—è¿‡ç¨‹ä¸º [1, 1+2, 1+2+3, 1+2+3+4] ã€‚ https://leetcode-cn.com/problems/running-sum-of-1d-array/ è§£æ³• æ±‚å‡ºnumsçš„å’Œï¼Œè®¾ç½®retçš„æœ€åä¸€ä¸ªå…ƒç´ ä¸ºsum éå†retæ•°ç»„å€’æ•°ç¬¬äºŒä¸ªè‡³ç¬¬ä¸€ä¸ªï¼Œretå…ƒç´ å†…å®¹ä¸ºåä¸€ä¸ªä¸‹æ ‡å…ƒç´ -numså¯¹åº”çš„æ•° class Solution { public int[] runningSum(int[] nums) { if (nums.length == 0) { return new int[]{}; } int[] ret = new int[nums.length]; int sum = 0; for (int i:nums){ sum+=i; } ret[ret.length-1]=sum; for(int i=nums.length-2;i>=0;i--){ ret[i] = ret[i+1]-nums[i+1]; } return ret; } } æ–æ³¢é‚£å¥‘æ•° ç»™å®š Nï¼Œè®¡ç®— F(N)ã€‚ https://leetcode-cn.com/problems/fibonacci-number/submissions/ è§£æ³•1 é€’å½’ class Solution { public int fib(int N) { if (N == 0 || N == 1) { return N; } return fib(N-1) + fib(N-2); } } è€—æ—¶:9ms è§£æ³•2 ä½¿ç”¨ç¼“å­˜é¿å…é‡å¤çš„è®¡ç®— class Solution { private int[] cache = new int[100]; public int fib(int N) { return fib0(N); } private int fib0(int N){ if (N == 0 || N == 1) { return N; } if (cache[N] == 0){ cache[N] = fib1(N); } return cache[N]; } private int fib1(int N){ if (N == 0 || N == 1) { return N; } return fib0(N-1) + fib0(N-2); } } è€—æ—¶:0ms åè½¬å­—ç¬¦ä¸² https://leetcode-cn.com/problems/reverse-string/ ä½¿ç”¨å‰ååŒæŒ‡é’ˆ ä¸¤ä¸ªæŒ‡é’ˆå¾€ä¸­é—´é  äº¤æ¢å…ƒç´  class Solution { public void reverseString(char[] s) { if (s.length åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— https://leetcode-cn.com/problems/single-number/ ä½¿ç”¨å¼‚æˆ–å»é™¤ç›¸åŒæ•°å­— class Solution { public int singleNumber(int[] nums) { int base = nums[0]; for(int i=1;i è€—æ—¶:1ms å®Œå…¨å¹³æ–¹æ•° https://leetcode-cn.com/problems/valid-perfect-square/submissions/ ä»1æ‰«æåˆ°num/2+1 æ¯æ¬¡é€’å¢1 class Solution { public boolean isPerfectSquare(int num) { int N = num/2+1; for (int i=1;i è€—æ—¶:1449ms ä¸¤æ•°ä¹‹å’Œ https://leetcode-cn.com/problems/sum-of-two-integers/submissions/ class Solution { public int getSum(int a, int b) { if (b >0){ while(b>0){ a++; b--; } }else if (b è€—æ—¶:946 çŒœæ•°å­—å¤§å° https://leetcode-cn.com/problems/guess-number-higher-or-lower/submissions/ public class Solution extends GuessGame { public int guessNumber(int n) { int low = 1; int high = n; while(low å¤šæ•°å…ƒç´  https://leetcode-cn.com/problems/majority-element/submissions/ è§£æ³•1ï¼šä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªæ•°å­—å‡ºç°çš„é¢‘ç‡ class Solution { public int majorityElement(int[] nums) { int n = nums.length/2; Map map = new HashMap<>(); for(int i :nums){ if (map.containsKey(i)){ map.put(i,map.get(i)+1); }else{ map.put(i,1); } } for(int i:map.keySet()){ if (map.get(i)>n){ return i; } } return -1; } } è€—æ—¶ï¼š16ms è§£æ³•2ï¼šæ‘©å°”æŠ•ç¥¨æ³•ï¼Ÿ class Solution { public int majorityElement(int[] nums) { if (nums.length == 0) return 0; int cnt = 0, last = nums[0]; for(int i : nums){ if (i == last) cnt++; else cnt--; if (cnt è·¯å¾„æ€»å’Œ https://leetcode-cn.com/problems/path-sum/submissions/ class Solution { public boolean hasPathSum(TreeNode root, int sum) { if (root == null){ return false; } if (root.left == null && root.right == null){ return root.val == sum; }else if(root.left == null){ return hasPathSum(root.right,sum-root.val); }else if(root.right == null){ return hasPathSum(root.left,sum-root.val); }else { return hasPathSum(root.right,sum-root.val) || hasPathSum(root.left,sum-root.val); } } } è€—æ—¶:0 é­”æœ¯ç´¢å¼• https://leetcode-cn.com/problems/magic-index-lcci/submissions/ class Solution { public int findMagicIndex(int[] nums) { for(int i=0;i è€—æ—¶:1 å·¦å¶å­ä¹‹å’Œ https://leetcode-cn.com/problems/sum-of-left-leaves/submissions/ class Solution { public int sumOfLeftLeaves(TreeNode root) { return sum(root,false); } public int sum(TreeNode root,boolean isLeft){ if (root == null){ return 0; } if (root.left == null && root.right == null){ if (isLeft){ return root.val; }else { return 0; } } return sum(root.left,true)+sum(root.right,false); } } è€—æ—¶:0 æ±‰æ˜è·ç¦» https://leetcode-cn.com/problems/hamming-distance/submissions/ class Solution { public int hammingDistance(int x, int y) { // å¼‚æˆ–ï¼šç›¸åŒä¸º0 ä¸åŒä¸º1 int z = x^y; int ret = 0; // è®¡ç®—äºŒè¿›åˆ¶æœ‰å¤šå°‘1 while(z!=0){ int t = z%2; z/=2; if (t == 1){ ret++; } } return ret; } } è€—æ—¶ï¼š0 ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨ https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof class Solution { public int[] reversePrint(ListNode head) { List list = new ArrayList<>(); walk(head,list); int [] ret = new int[list.size()]; for (int i=0;i list){ if (head == null){ return; } walk(head.next,list); list.add(head.val); } } è€—æ—¶ï¼š1 Excel è¡¨åˆ—åºå· https://leetcode-cn.com/problems/excel-sheet-column-number/submissions/ class Solution { public int titleToNumber(String s) { int ret = 0; int N = s.length(); for(int i=0;i è€—æ—¶ï¼š2 ç§»åŠ¨é›¶ https://leetcode-cn.com/problems/move-zeroes/submissions/ class Solution { public void moveZeroes(int[] nums) { int numOf0 = 0; int passOf0 =0; for(int i=0;i=nums.length-numOf0;i--){ nums[i]=0; } } } è€—æ—¶ï¼š0 å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/ é€’å½’åˆ°å°¾ä¸æ–­å¯¹è®¡æ•°å™¨+1 åˆ¤æ–­è®¡æ•°å™¨ç­‰äºç›®æ ‡å€¼ å°±è¿”å›å½“å‰éå†èŠ‚ç‚¹ class Solution { private ListNode ret; public ListNode getKthFromEnd(ListNode head, int k) { getKthFromEnd0(head,k,new int[]{0}); return ret; } private void getKthFromEnd0(ListNode head, int k,int[] arr) { if (head == null){ return; } getKthFromEnd0(head.next,k,arr); arr[0]=arr[0]+1; if (arr[0] == k){ ret = head; } } } è€—æ—¶ï¼š0 LCP 06. æ‹¿ç¡¬å¸ https://leetcode-cn.com/problems/na-ying-bi/ class Solution { public int minCount(int[] coins) { int count = 0; for (int i:coins){ count+=i/2; if (i % 2!= 0){ count+=1; } } return count; } } è€—æ—¶:0 å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/ class Solution { public char firstUniqChar(String s) { int[] map = new int[128]; for(char c : s.toCharArray()){ map[c] = map[c] + 1; } for(int i=0;i è€—æ—¶ï¼š6 1486. æ•°ç»„å¼‚æˆ–æ“ä½œ https://leetcode-cn.com/problems/xor-operation-in-an-array/ class Solution { public int xorOperation(int n, int start) { int ret=start; for(int i=1;i è€—æ—¶ï¼š0 å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸² https://leetcode-cn.com/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof/submissions/ class Solution { public String reverseLeftWords(String s, int n) { StringBuffer sb = new StringBuffer(); for(int i = n;i è€—æ—¶ï¼š5 å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­— https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/submissions/ class Solution { public int missingNumber(int[] nums) { int ret = nums[nums.length-1]; for(int i=0;i è€—æ—¶ï¼š0 å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼ https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/ class Solution { public String replaceSpace(String s) { StringBuffer sb = new StringBuffer(); for(int i=0;i è€—æ—¶ï¼š0 å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­— https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/ class Solution { public int findRepeatNumber(int[] nums) { int[] map = new int[nums.length]; for(int i:nums){ map[i] = map[i] + 1; } for(int i=0;i1){ return i; } } return -1; } } è€—æ—¶ï¼š1 å‰‘æŒ‡ Offer 17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•° https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/ class Solution { public int[] printNumbers(int n) { if (n == 0) return new int[]{}; int[] ret = new int[(int)Math.pow(10,n)-1]; for(int i=0;i è€—æ—¶ï¼š1 æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯ https://leetcode-cn.com/problems/valid-anagram/ class Solution { public boolean isAnagram(String s, String t) { int[] map1 = new int[128]; int[] map2 = new int[128]; for(int i=0;i è€—æ—¶ï¼š4 åè½¬é“¾è¡¨ https://leetcode-cn.com/problems/reverse-linked-list/ class Solution { public ListNode reverseList(ListNode head) { if (head == null) return null; LinkedList stack = new LinkedList<>(); while(head != null){ stack.push(head.val); head = head.next; } ListNode root = new ListNode(); ListNode origin = root; while(!stack.isEmpty()){ root.val = stack.pop(); if (!stack.isEmpty()){ root.next = new ListNode(); root = root.next; } } return origin; } } è€—æ—¶ï¼š0 389. æ‰¾ä¸åŒ https://leetcode-cn.com/problems/find-the-difference/ class Solution { public char findTheDifference(String s, String t) { int[] map = new int[128]; for(int i =0;i è€—æ—¶ï¼š4 412. Fizz Buzz https://leetcode-cn.com/problems/fizz-buzz/ class Solution { public List fizzBuzz(int n) { List list = new ArrayList<>(); for(int i=1;i è€—æ—¶ï¼š6 173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨ https://leetcode-cn.com/problems/binary-search-tree-iterator/ class BSTIterator { private LinkedList list = new LinkedList<>(); public BSTIterator(TreeNode root) { midVisist(root); } private void midVisist(TreeNode root){ if (root == null) return; midVisist(root.left); list.add(root.val); midVisist(root.right); } /** @return the next smallest number */ public int next() { return list.removeFirst(); } /** @return whether we have a next smallest number */ public boolean hasNext() { return !list.isEmpty(); } } è€—æ—¶ï¼š24 290. å•è¯è§„å¾‹ https://leetcode-cn.com/problems/word-pattern/ class Solution { public boolean wordPattern(String pattern, String s) { Map map1 = new HashMap<>(); Map map2 = new HashMap<>(); String[] strs = s.split(\" \"); if (strs.length != pattern.length()) return false; for(int i = 0;i è€—æ—¶ï¼š1 709. è½¬æ¢æˆå°å†™å­—æ¯ https://leetcode-cn.com/problems/to-lower-case/ class Solution { public String toLowerCase(String str) { StringBuffer sb = new StringBuffer(); for(int i =0;i= 65 && c è€—æ—¶ï¼š0 66. åŠ ä¸€ https://leetcode-cn.com/problems/plus-one/ class Solution { public int[] plusOne(int[] digits) { int[] ret = new int[digits.length+1]; for(int i=0;i=0;i--){ if (ret[i] == 10) { ret[i] = 0; f = true; continue; } if (f) { if (ret[i] == 9) { ret[i] = 0; f = true; }else { ret[i]++; f= false; } } } if (ret[0] == 0) { int[] trimArr = new int[ret.length-1]; System.arraycopy(ret,1,trimArr,0,trimArr.length); return trimArr; } return ret; } } è€—æ—¶ï¼š0 349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† https://leetcode-cn.com/problems/intersection-of-two-arrays/ class Solution { public int[] intersection(int[] nums1, int[] nums2) { HashSet s1 = new HashSet<>(); HashSet s2 = new HashSet<>(); for(int i : nums1) { s1.add(i); } for(int i : nums2) { s2.add(i); } if (s1.size() it = s1.iterator(); while(it.hasNext()){ var e = it.next(); if (!s2.contains(e)) it.remove(); } int[] ret = new int[s1.size()]; int count = 0; for(int i :s1){ ret[count] = i; count++; } return ret; } } è€—æ—¶ï¼š3 557. åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III https://leetcode-cn.com/problems/reverse-words-in-a-string-iii/ class Solution { public String reverseWords(String s) { if (s.length() == 0) return \"\"; StringBuffer sb = new StringBuffer(); for(int i =s.length()-1;i>=0;i--){ sb.append(s.charAt(i)); } String[] strs = sb.toString().split(\" \"); sb = new StringBuffer(); for(int i = strs.length-1;i>=0;i--){ sb.append(strs[i]); if (i != 0) sb.append(\" \"); } return sb.toString(); } } è€—æ—¶ï¼š10 811. å­åŸŸåè®¿é—®è®¡æ•° https://leetcode-cn.com/problems/subdomain-visit-count/ class Solution { public List subdomainVisits(String[] cpdomains) { Map map = new HashMap<>(256); for (String s : cpdomains){ String[] a = s.split(\" \"); int count = Integer.valueOf(a[0]); String domain = a[1]; for(int i=domain.length()-1;i>=0;i--){ char c = domain.charAt(i); if (c == '.') { String subDomain = domain.substring(i+1,domain.length()); Integer oldCount = map.get(subDomain); if (oldCount == null){ map.put(subDomain, count); }else { map.put(subDomain, oldCount + count); } } if (i == 0){ Integer oldCount = map.get(domain); if (oldCount == null){ map.put(domain, count); }else { map.put(domain, oldCount + count); } } } } List ret = new ArrayList<>(); for (String s: map.keySet()){ ret.add(map.get(s) + \" \" + s); } return ret; } } è€—æ—¶ï¼š21 876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ https://leetcode-cn.com/problems/middle-of-the-linked-list/ class Solution { public ListNode middleNode(ListNode head) { ListNode[] map = new ListNode[101]; int i = 1; while(head != null){ map[i]=head; i++; head = head.next; } if (i % 2 !=0) return map[i/2+1]; else return map[i/2]; } } è€—æ—¶ï¼š0 118. æ¨è¾‰ä¸‰è§’ https://leetcode-cn.com/problems/pascals-triangle/ class Solution { public List> generate(int numRows) { List> list = new ArrayList<>(); for(int i=0;i seq = new ArrayList<>(); for(int j = 0;j è€—æ—¶ï¼š1 231. 2çš„å¹‚ https://leetcode-cn.com/problems/power-of-two/ class Solution { public boolean isPowerOfTwo(int n) { int k = 1; while (true){ if (n == k) return true; if (k > n) return false; if (k è€—æ—¶ï¼š1 844. æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸² https://leetcode-cn.com/problems/backspace-string-compare/ class Solution { public boolean backspaceCompare(String S, String T) { LinkedList s1 = new LinkedList<>(); LinkedList s2 = new LinkedList<>(); for(int i = 0;i è€—æ—¶ï¼š2 747. è‡³å°‘æ˜¯å…¶ä»–æ•°å­—ä¸¤å€çš„æœ€å¤§æ•° https://leetcode-cn.com/problems/largest-number-at-least-twice-of-others/ class Solution { public int dominantIndex(int[] nums) { int maxIndex = 0; for(int i = 0;i nums[maxIndex]) maxIndex = i; } for(int i = 0;i nums[maxIndex] && i != maxIndex) return -1; } return maxIndex; } } è€—æ—¶ï¼š0 234. å›æ–‡é“¾è¡¨ https://leetcode-cn.com/problems/palindrome-linked-list/ class Solution { private ListNode origin; public boolean isPalindrome(ListNode head) { origin = head; return travel(head); } private boolean travel(ListNode head){ if (head == null) return true; if (!travel(head.next)){ return false; } if (head.val == origin.val){ origin = origin.next; return true; }else { return false; } } } è€—æ—¶ï¼š2 938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ https://leetcode-cn.com/problems/range-sum-of-bst/ class Solution { public int rangeSumBST(TreeNode root, int L, int R) { int[] sum = new int[]{0}; midTravel(root,sum,L,R); return sum[0]; } private void midTravel(TreeNode root,int[] sum,int l,int r){ if (root == null) return; midTravel(root.left, sum,l,r); if (root.val >=l && root.val è€—æ—¶ï¼š1 929. ç‹¬ç‰¹çš„ç”µå­é‚®ä»¶åœ°å€ https://leetcode-cn.com/problems/unique-email-addresses/ class Solution { public int numUniqueEmails(String[] emails) { List list = new ArrayList<>(); for(String s: emails){ String[] a = s.split(\"@\"); String name = a[0]; String domain = a[1]; StringBuilder sb = new StringBuilder(); for(int i = 0;i è€—æ—¶ï¼š12 744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯ https://leetcode-cn.com/problems/find-smallest-letter-greater-than-target/ class Solution { public char nextGreatestLetter(char[] letters, char target) { for(int i = 0;i target) return letters[i]; } return letters[0]; } } è€—æ—¶ï¼š0 191. ä½1çš„ä¸ªæ•° https://leetcode-cn.com/problems/number-of-1-bits/ int hammingWeight(uint32_t n) { int count = 0; while(n != 0){ if (n % 2 != 0) count++; n >>= 1; } return count; } è€—æ—¶ï¼š4 706. è®¾è®¡å“ˆå¸Œæ˜ å°„ https://leetcode-cn.com/problems/design-hashmap/ class MyHashMap { private static final int SIZE = 1000001; private Integer[] data = new Integer[SIZE]; public void put(int key, int value) { data[key % SIZE] = value; } public int get(int key) { Integer i = data[key % SIZE]; if (i == null) return -1; return i; } public void remove(int key) { data[key % SIZE] = null; } } è€—æ—¶ï¼š30 225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ https://leetcode-cn.com/problems/implement-stack-using-queues/ class MyStack { private LinkedList q1 = new LinkedList<>(); private LinkedList q2 = new LinkedList<>(); private int next = 0; public void push(int x) { q1.add(x); next = x; } /** Removes the element on top of the stack and returns that element. */ public int pop() { int size = q1.size(); int oldNext = next; for(int i = 0;i è€—æ—¶ï¼š0 é¢è¯•é¢˜ 01.01. åˆ¤å®šå­—ç¬¦æ˜¯å¦å”¯ä¸€ https://leetcode-cn.com/problems/is-unique-lcci/ è§£æ³•1ï¼šæš´åŠ›è§£æ³• class Solution { public boolean isUnique(String astr) { int l = astr.length(); for(int i = 0;i è€—æ—¶ï¼š0 é¢è¯•é¢˜ 01.02. åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’ https://leetcode-cn.com/problems/check-permutation-lcci/ class Solution { public boolean CheckPermutation(String s1, String s2) { if (s1.length() != s2.length()) return false; int[] map = new int[128]; for(int i = 0;i è€—æ—¶ï¼š0 49. å­—æ¯å¼‚ä½è¯åˆ†ç»„ https://leetcode-cn.com/problems/group-anagrams/ class Solution { public List> groupAnagrams(String[] strs) { HashMap map = new HashMap<>(128); int i = 0; List> list = new ArrayList<>(); for(String s : strs) { var arr = s.toCharArray(); Arrays.sort(arr); String key = Arrays.toString(arr); if (!map.containsKey(key)){ map.put(key, i); i++; list.add(new ArrayList<>()); list.get(list.size() -1).add(s); }else{ int index = map.get(key); list.get(index).add(s); } } return list; } } è€—æ—¶ï¼š10 804. å”¯ä¸€æ‘©å°”æ–¯å¯†ç è¯ https://leetcode-cn.com/problems/unique-morse-code-words/ class Solution { public int uniqueMorseRepresentations(String[] words) { String[] map = {\".-\",\"-...\",\"-.-.\",\"-..\",\".\",\"..-.\",\"--.\",\"....\",\"..\", \".---\",\"-.-\",\".-..\",\"--\",\"-.\",\"---\",\".--.\",\"--.-\",\".-.\",\"...\",\"-\",\"..-\", \"...-\",\".--\",\"-..-\",\"-.--\",\"--..\"}; Set set = new HashSet<>(); for(String s : words){ StringBuffer sb = new StringBuffer(); for(int i = 0;i è€—æ—¶ï¼š2 238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ https://leetcode-cn.com/problems/product-of-array-except-self/submissions/ class Solution { public int[] productExceptSelf(int[] nums) { int[] lMap = new int[nums.length]; int[] rMap = new int[nums.length]; int lAll = 1; int rAll = 1; for(int i = 0;i=0;i--){ rMap[i] = rAll; rAll *= nums[i]; } for(int i = 0;i è€—æ—¶ï¼š1 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/ class Solution { public int[] searchRange(int[] nums, int target) { int start = -1; int end = -1; for(int i = 0;i è€—æ—¶ï¼š1 387. å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ https://leetcode-cn.com/problems/first-unique-character-in-a-string/ class Solution { public int firstUniqChar(String s) { int[] map = new int[128]; for(int i = 0;i è€—æ—¶ï¼š7 1313. è§£å‹ç¼©ç¼–ç åˆ—è¡¨ https://leetcode-cn.com/problems/decompress-run-length-encoded-list/ class Solution(object): def decompressRLElist(self, nums): ret = [] for i in range(len(nums)/2): for j in range(nums[2*i]): ret.append(nums[2*i+1]) return ret è€—æ—¶ï¼š24 303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜ https://leetcode-cn.com/problems/range-sum-query-immutable/ class NumArray { private int[] nums; private int[] cache; public NumArray(int[] nums) { this.nums = nums; cache = new int[nums.length]; int total = 0; for(int i = 0;i è€—æ—¶ï¼š10 190. é¢ å€’äºŒè¿›åˆ¶ä½ https://leetcode-cn.com/problems/reverse-bits/ uint32_t reverseBits(uint32_t n) { int map[32]; int i = 0; uint32_t ret = 0; const uint32_t p = 1; while(n > 0){ map[31-i] = n%2; n /= 2; i++; } for(;i è€—æ—¶ï¼š0 771. å®çŸ³ä¸çŸ³å¤´ https://leetcode-cn.com/problems/jewels-and-stones/submissions/ class Solution { public int numJewelsInStones(String J, String S) { int[] map = new int[128]; int ret = 0; for(int i = 0;i è€—æ—¶ï¼š1 917. ä»…ä»…åè½¬å­—æ¯ https://leetcode-cn.com/problems/reverse-only-letters/ class Solution { public String reverseOnlyLetters(String S) { char[] strs = new char[S.length()]; int p = 0; for(int i=0;i= 97 && c = 65 && c = 97 && c = 65 && c è€—æ—¶ï¼š1 217. å­˜åœ¨é‡å¤å…ƒç´  https://leetcode-cn.com/problems/contains-duplicate/ class Solution { public boolean containsDuplicate(int[] nums) { if (nums.length set = new HashSet<>(nums.length); for(int i: nums) set.add(i); return set.size() != nums.length; è€—æ—¶ï¼š6 338. æ¯”ç‰¹ä½è®¡æ•° https://leetcode-cn.com/problems/counting-bits/ class Solution { public int[] countBits(int num) { int[] ret = new int[num+1]; for(int i=0;i 0) { ret[i]+=k%2; k/=2; } } return ret; } } è€—æ—¶ï¼š12 1389. æŒ‰æ—¢å®šé¡ºåºåˆ›å»ºç›®æ ‡æ•°ç»„ https://leetcode-cn.com/problems/create-target-array-in-the-given-order/ class Solution { public int[] createTargetArray(int[] nums, int[] index) { if (index.length target = new LinkedList<>(); for(int i = 0;i è€—æ—¶ï¼š2 1290. äºŒè¿›åˆ¶é“¾è¡¨è½¬æ•´æ•° https://leetcode-cn.com/problems/convert-binary-number-in-a-linked-list-to-integer/ class Solution { public int getDecimalValue(ListNode head) { LinkedList s = new LinkedList<>(); while(head != null) { s.push(head.val); head = head.next; } int ret = 0; int i = 0; while(!s.isEmpty()){ ret += s.pop() * Math.pow(2,i++); } return ret; } } è€—æ—¶ï¼š1 1295. ç»Ÿè®¡ä½æ•°ä¸ºå¶æ•°çš„æ•°å­— https://leetcode-cn.com/problems/find-numbers-with-even-number-of-digits/ class Solution { public int findNumbers(int[] nums) { int ret = 0; for(int i : nums){ if (String.valueOf(i).length() %2 == 0) ret++; } return ret; } } è€—æ—¶ï¼š2 933. æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•° https://leetcode-cn.com/problems/number-of-recent-calls/ class RecentCounter { private LinkedList s = new LinkedList<>(); public RecentCounter() { } public int ping(int t) { s.add(t); while(!s.isEmpty()){ if(s.peekLast() - s.peekFirst() è€—æ—¶ï¼š26 205. åŒæ„å­—ç¬¦ä¸² https://leetcode-cn.com/problems/isomorphic-strings/ class Solution { public boolean isIsomorphic(String s, String t) { Map m1 = new HashMap<>(); Map m2 = new HashMap<>(); for(int i=0;i è€—æ—¶ï¼š15 é¢è¯•é¢˜ 10.01. åˆå¹¶æ’åºçš„æ•°ç»„ https://leetcode-cn.com/problems/sorted-merge-lcci/ class Solution { public void merge(int[] A, int m, int[] B, int n) { int[] ret = new int[m + n]; int p=0, q=0, pos = 0; while(pos = m) { ret[pos++]=B[q++]; continue; } if (q >= n) { ret[pos++]=A[p++]; continue; } if (A[p] è€—æ—¶ï¼š0 1299. å°†æ¯ä¸ªå…ƒç´ æ›¿æ¢ä¸ºå³ä¾§æœ€å¤§å…ƒç´  https://leetcode-cn.com/problems/replace-elements-with-greatest-element-on-right-side/ class Solution { public int[] replaceElements(int[] arr) { PriorityQueue q = new PriorityQueue<>((Comparator) (o1, o2) -> o2-o1); int[] ret = new int[arr.length]; for(int i=arr.length-1;i>=0;i--){ if (q.peek() == null) { ret[i]=-1; }else{ ret[i]=q.peek(); } q.offer(arr[i]); } return ret; } } è€—æ—¶ï¼š10 228. æ±‡æ€»åŒºé—´ https://leetcode-cn.com/problems/summary-ranges/ class Solution { public List summaryRanges(int[] nums) { if (nums.length == 0) return List.of(); if (nums.length == 1) return List.of(nums[0] + \"\"); int n = nums.length; int p=0,q=0; List ret = new ArrayList<>(20); for(int i=0;i\"+nums[q]; } } } è€—æ—¶ï¼š8 674. æœ€é•¿è¿ç»­é€’å¢åºåˆ— https://leetcode-cn.com/problems/longest-continuous-increasing-subsequence/ class Solution { public int findLengthOfLCIS(int[] nums) { if(nums.length nums[i-1]) seq++; else seq = 1; if (seq > max) max = seq; } return max; } } è€—æ—¶ï¼š0 724. å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒç´¢å¼• https://leetcode-cn.com/problems/find-pivot-index/ class Solution { public int pivotIndex(int[] nums) { if (nums.length == 0) return -1; if (nums.length == 1) return 0; int[] l = new int[nums.length]; l[0] = nums[0]; int[] r = new int[nums.length]; r[nums.length - 1] = nums[nums.length - 1]; for(int i = 1;i=0;i--) r[i] = nums[i] + r[i+1]; for(int i = 0;i è€—æ—¶ï¼š2 237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ https://leetcode-cn.com/problems/delete-node-in-a-linked-list/ class Solution { public void deleteNode(ListNode node) { ListNode previous = null; while(node != null){ if (node.next != null) node.val = node.next.val; else previous.next = null; previous = node; node = node.next; } } } è€—æ—¶ï¼š0 1078. Bigram åˆ†è¯ https://leetcode-cn.com/problems/occurrences-after-bigram/ class Solution { public String[] findOcurrences(String text, String first, String second) { List list = new ArrayList<>(); String[] arr = text.split(\" \"); for(int i=2;i time:1 beat:93 643. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I https://leetcode-cn.com/problems/maximum-average-subarray-i/ /* * æ»‘åŠ¨çª—å£å’Œæ€è·¯ï¼šç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆï¼Œæ¯æ¬¡æ»‘åŠ¨æ€»å’Œå°±å‡å»å‰ä¸€ä¸ªï¼Œç„¶ååŠ ä¸Šåä¸€ä¸ª */ class Solution { public double findMaxAverage(int[] nums, int k) { if (nums.length max) max = t; } return max; } } time:4 beat:68 LCP 17. é€Ÿç®—æœºå™¨äºº https://leetcode-cn.com/problems/nGK0Fy/ class Solution { public int calculate(String s) { int x = 1, y = 0; int p = 0,q = 0; for(int i=0;i time:0 beat: 100 å‰‘æŒ‡ Offer 40. æœ€å°çš„kä¸ªæ•° https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/ class Solution { public int[] getLeastNumbers(int[] arr, int k) { PriorityQueue queue = new PriorityQueue<>((o1, o2) -> o1 - o2); for(int i:arr) queue.offer(i); int[] ret = new int[k]; for(int i=0;i time: 20 beat:31 160. ç›¸äº¤é“¾è¡¨ https://leetcode-cn.com/problems/intersection-of-two-linked-lists/ public class Solution { public ListNode getIntersectionNode(ListNode headA, ListNode headB) { Map map = new HashMap<>(); while(headA != null){ map.put(headA, true); headA = headA.next; } while(headB != null){ if (map.containsKey(headB)) return headB; headB = headB.next; } return null; } } time:9 beat:15 448. æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­— https://leetcode-cn.com/problems/find-all-numbers-disappeared-in-an-array/ è§£æ³•1ï¼šä½¿ç”¨bitmapå­˜å‚¨æ•°å­—æ˜¯å¦å‡ºç° è¿™ä¸ªæ–¹æ³•ä½¿ç”¨äº†é¢å¤–çš„å­˜å‚¨ç©ºé—´ class Solution { public List findDisappearedNumbers(int[] nums) { if (nums.length ret = new ArrayList<>(); for(int i = 1;i time: 4 beat: 98 å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ— https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/ ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æ ˆæ¥å®ç°FIFOçš„æ•ˆæœ class CQueue { private LinkedList main = new LinkedList<>(); private LinkedList help = new LinkedList<>(); public void appendTail(int value) { main.push(value); } public int deleteHead() { if (main.isEmpty()) return -1; int ret = -1; while(!main.isEmpty()){ ret = main.pop(); help.push(ret); } help.pop(); while(!help.isEmpty()){ main.push(help.pop()); } return ret; } } time:220 beat:11 å‰‘æŒ‡ Offer 57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­— https://leetcode-cn.com/problems/he-wei-sde-liang-ge-shu-zi-lcof/ class Solution { public int[] twoSum(int[] nums, int target) { int p = 0,q = nums.length - 1; while(p time:2 beat:95 485. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° https://leetcode-cn.com/problems/max-consecutive-ones/ class Solution { public int findMaxConsecutiveOnes(int[] nums) { int cnt = 0; int max = 0; for(int i : nums) { if (cnt >= max) max = cnt; if (i == 0) cnt = 0; else cnt++; if (cnt >= max) max = cnt; } return max; } } time:2 beat: 90 961. é‡å¤ N æ¬¡çš„å…ƒç´  https://leetcode-cn.com/problems/n-repeated-element-in-size-2n-array/ class Solution { public int repeatedNTimes(int[] A) { int[] map = new int[10001]; for(int i : A) map[i]++; int n = A.length/2; for(int i = 0;i= n) return i; return -1; } } time:2 beat: 47 284. é¡¶ç«¯è¿­ä»£å™¨ https://leetcode-cn.com/problems/peeking-iterator/ class PeekingIterator implements Iterator { private ArrayList list = new ArrayList<>(); private int pos=0; public PeekingIterator(Iterator iterator) { while(iterator.hasNext()) list.add(iterator.next()); } public Integer peek() { return list.get(pos); } @Override public Integer next() { return list.get(pos++); } @Override public boolean hasNext() { return pos time: 5 beat:99 å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ https://leetcode-cn.com/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/ class Solution { public int[] maxSlidingWindow(int[] nums, int k) { if (nums.length == 0) return new int[]{}; List ret = new ArrayList<>(); int n = nums.length - k+1; for(int i =0;i max) max = nums[j]; ret.add(max); } int[] ra = new int[ret.size()]; for(int i = 0;i time: 40 beat:10 1672. æœ€å¯Œæœ‰å®¢æˆ·çš„èµ„äº§æ€»é‡ https://leetcode-cn.com/problems/richest-customer-wealth/ class Solution { public int maximumWealth(int[][] accounts) { int max = 0; for(int[] a: accounts){ int sum = 0; for(int i: a) sum += i; if (sum > max) max = sum; } return max; } } time:0 beat:100 832. ç¿»è½¬å›¾åƒ https://leetcode-cn.com/problems/flipping-an-image/ class Solution { public int[][] flipAndInvertImage(int[][] A) { for(int[] a: A){ int p = 0,q = a.length - 1; while(p time:0 beat: 100 867. è½¬ç½®çŸ©é˜µ https://leetcode-cn.com/problems/transpose-matrix/ class Solution { public int[][] transpose(int[][] matrix) { int[][] reversed = new int[matrix[0].length][matrix.length]; for(int i = 0;i time: 1 beat: 38 é¢è¯•é¢˜ 16.01. äº¤æ¢æ•°å­— https://leetcode-cn.com/problems/swap-numbers-lcci/ class Solution(object): def swapNumbers(self, numbers): numbers[0] = numbers[1] + numbers[0] numbers[1] = numbers[0] - numbers[1] numbers[0] = numbers[0] - numbers[1] return numbers time:12 beat:91 896. å•è°ƒæ•°åˆ— https://leetcode-cn.com/problems/monotonic-array/ class Solution { public boolean isMonotonic(int[] A) { if (A.length == 1) return true; boolean lastIncr = false; boolean lastDecr = false; for(int i = 1;i 0) { // é€’å¢ if (lastDecr) return false; lastIncr = true; }else if (q time: 1 beat: 100 1470. é‡æ–°æ’åˆ—æ•°ç»„ https://leetcode-cn.com/problems/shuffle-the-array/ class Solution { public int[] shuffle(int[] nums, int n) { int p = 0,q = n; int[] ret = new int[nums.length]; for(int i = 0;i time: 0 beat: 100 304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜ https://leetcode-cn.com/problems/range-sum-query-2d-immutable/ class NumMatrix { private int[][] cache; public NumMatrix(int[][] matrix) { if (matrix.length == 0) cache = new int[0][0]; else cache = new int[matrix.length][matrix[0].length]; for(int i = 0;i time: 14 beat: 98 1047. åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹ https://leetcode-cn.com/problems/remove-all-adjacent-duplicates-in-string/ class Solution { public String removeDuplicates(String S) { LinkedList s = new LinkedList<>(); for(int i = 0;i=0;i--) ca[i] = s.pop(); StringBuilder sb = new StringBuilder(); for(int i = 0;i time: 16 beat: 72 1512. å¥½æ•°å¯¹çš„æ•°ç›® https://leetcode-cn.com/problems/number-of-good-pairs/ class Solution { public int numIdenticalPairs(int[] nums) { int cnt = 0; for(int i = 0;i time:1 beat:81 é¢è¯•é¢˜ 02.03. åˆ é™¤ä¸­é—´èŠ‚ç‚¹ https://leetcode-cn.com/problems/delete-middle-node-lcci/ class Solution { public void deleteNode(ListNode node) { ListNode prev = null; while(node != null){ if (prev != null) prev.val = node.val; if (node.next == null) break; prev = node; node = node.next; } if (prev != null) prev.next = null; } } time:0 beat: 100 1684. ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›® https://leetcode-cn.com/problems/count-the-number-of-consistent-strings/ class Solution { public int countConsistentStrings(String allowed, String[] words) { boolean[] map = new boolean[128]; for(int i = 0;i time:8 beat:74 1379. æ‰¾å‡ºå…‹éš†äºŒå‰æ ‘ä¸­çš„ç›¸åŒèŠ‚ç‚¹ https://leetcode-cn.com/problems/find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree/ class Solution { public final TreeNode getTargetCopy(final TreeNode original, final TreeNode cloned, final TreeNode target) { if (original == null) return null; if (original == target){ return cloned; } TreeNode left = getTargetCopy(original.left, cloned.left, target); TreeNode right = getTargetCopy(original.right, cloned.right, target); if (left != null) return left; if (right != null) return right; return null; } } time:2 beat:46 1464. æ•°ç»„ä¸­ä¸¤å…ƒç´ çš„æœ€å¤§ä¹˜ç§¯ https://leetcode-cn.com/problems/maximum-product-of-two-elements-in-an-array/ class Solution { public int maxProduct(int[] nums) { int max = -1; int second = -1; int maxIndex = 0; int secondIndex = 1; for(int i =0;i max) { max = nums[i]; maxIndex = i; } } for(int i =0;i second && i != maxIndex) { second = nums[i]; secondIndex = i; } } return (max-1) * (second - 1); } } time:1 beat:76 535. TinyURL çš„åŠ å¯†ä¸è§£å¯† https://leetcode-cn.com/problems/encode-and-decode-tinyurl/ import java.util.concurrent.atomic.*; public class Codec { private ConcurrentHashMap map = new ConcurrentHashMap<>(); private volatile AtomicInteger cnt = new AtomicInteger(); public String encode(String longUrl) { map.putIfAbsent(String.valueOf(cnt.incrementAndGet()), longUrl); return String.valueOf(cnt.get()); } public String decode(String shortUrl) { return map.get(shortUrl); } } time:2 beat: 68 åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/ class Solution { public int removeDuplicates(int[] nums) { if (nums.length == 0) return 0; int i = 0; for (int j = 1; j time:1 beat: 81 5734. åˆ¤æ–­å¥å­æ˜¯å¦ä¸ºå…¨å­—æ¯å¥ https://leetcode-cn.com/problems/check-if-the-sentence-is-pangram/ class Solution { public boolean checkIfPangram(String sentence) { if (sentence.length() time:2 beat:100 1822. æ•°ç»„å…ƒç´ ç§¯çš„ç¬¦å· https://leetcode-cn.com/problems/sign-of-the-product-of-an-array/ class Solution { public int arraySign(int[] nums) { boolean n = true; for(int i : nums){ if (i == 0) return 0; if (n && i 0) { n = true; continue; } if (!n && i > 0) { n = false; continue; } if (!n && i time: 1 beat:29 1365. æœ‰å¤šå°‘å°äºå½“å‰æ•°å­—çš„æ•°å­— https://leetcode-cn.com/problems/how-many-numbers-are-smaller-than-the-current-number/ class Solution { public int[] smallerNumbersThanCurrent(int[] nums) { int[] ret = new int[nums.length]; for(int i = 0;i time:18 beat:8 1476. å­çŸ©å½¢æŸ¥è¯¢ https://leetcode-cn.com/problems/subrectangle-queries/ class SubrectangleQueries { private int[][] rectangle; public SubrectangleQueries(int[][] rectangle) { this.rectangle = rectangle; } public void updateSubrectangle(int row1, int col1, int row2, int col2, int newValue) { for(int i = row1;i time: 30 beat:86 å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹ https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-di-kda-jie-dian-lcof/ class Solution { public int kthLargest(TreeNode root, int k) { LinkedList s = new LinkedList<>(); travel(root, s); int cnt = 1; while(!s.isEmpty()){ int i = s.pop(); if (cnt == k) return i; cnt++; } return -1; } public void travel(TreeNode root, LinkedList s){ if (root == null) return; travel(root.left, s); s.push(root.val); travel(root.right, s); } } time:1 beat:40 1603. è®¾è®¡åœè½¦ç³»ç»Ÿ https://leetcode-cn.com/problems/design-parking-system/ class ParkingSystem { private int big; private int medium; private int small; public ParkingSystem(int big, int medium, int small) { this.big = big; this.medium = medium; this.small = small; } public boolean addCar(int carType) { if (carType == 1) { if (big > 0) { big--; return true; } return false; } if (carType == 2) { if (medium > 0) { medium--; return true; } return false; } if (carType == 3) { if (small > 0){ small--; return true; } return false; } return false; } } time: 16 beat:9 977. æœ‰åºæ•°ç»„çš„å¹³æ–¹ https://leetcode-cn.com/problems/squares-of-a-sorted-array/ class Solution { public int[] sortedSquares(int[] nums) { for(int i=0;i=0;i--){ if (nums[p] > nums[q]){ ret[i] = nums[p++]; }else if (nums[p] time:1 beat:100 1304. å’Œä¸ºé›¶çš„Nä¸ªå”¯ä¸€æ•´æ•° class Solution { public int[] sumZero(int n) { if (n == 2) return new int[]{1, -1}; int preSum = 0; int[] ret = new int[n]; for(int i = 0;i time:0 beat: 100 é¢è¯•é¢˜ 02.02. è¿”å›å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ https://leetcode-cn.com/problems/kth-node-from-end-of-list-lcci/ class Solution { private int ret; private int cnt; public int kthToLast(ListNode head, int k) { cnt = 0; process(head, k); return ret; } public void process(ListNode head, int k){ if (head == null) { return; } process(head.next, k); cnt++; if (cnt == k) ret = head.val; } } time:0 beat:100 1261. åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´  https://leetcode-cn.com/problems/find-elements-in-a-contaminated-binary-tree/ è§£æ³•1 class FindElements { private TreeNode root; public FindElements(TreeNode root) { this.root = root; if (root != null) root.val = 0; recover(root); } public boolean find(int target) { return find(root, target); } private boolean find(TreeNode root, int target){ if (root == null) return false; if (root.val == target) return true; return find(root.left, target) || find(root.right, target); } private void recover(TreeNode root){ if (root == null) return; if (root.left != null) root.left.val = 2*root.val+1; if (root.right != null) root.right.val = 2*root.val+2; recover(root.left); recover(root.right); } } time: 1000+ beat:20 è§£æ³•2 ä¼˜åŒ–ï¼šå¢åŠ ç¼“å­˜ class FindElements { private TreeNode root; private Map map = new HashMap<>(); public FindElements(TreeNode root) { this.root = root; if (root != null) root.val = 0; recover(root); } public boolean find(int target) { return map.containsKey(target); } private void recover(TreeNode root){ if (root == null) return; if (root.left != null) { root.left.val = 2*root.val+1; map.put(root.left.val, true); } if (root.right != null) { root.right.val = 2*root.val+2; map.put(root.right.val, true); } recover(root.left); recover(root.right); time:28 beat:84 1678. è®¾è®¡ Goal è§£æå™¨ https://leetcode-cn.com/problems/goal-parser-interpretation/ class Solution { public String interpret(String command) { StringBuilder sb = new StringBuilder(); int p = 0,q = 1; for(;p time: 0 905. æŒ‰å¥‡å¶æ’åºæ•°ç»„ https://leetcode-cn.com/problems/sort-array-by-parity/ class Solution { public int[] sortArrayByParity(int[] nums) { if (nums.length == 1) return nums; int p = 0, q = nums.length - 1; int[] ret = new int[nums.length]; for(int i : nums){ if (i % 2 == 0) ret[p++] = i; else ret[q--] = i; } return ret; } } time:1 beat:100 1773. ç»Ÿè®¡åŒ¹é…æ£€ç´¢è§„åˆ™çš„ç‰©å“æ•°é‡ https://leetcode-cn.com/problems/count-items-matching-a-rule/ class Solution { public int countMatches(List> items, String ruleKey, String ruleValue) { return (int)items .stream() .filter(list -> { if (\"type\".equals(ruleKey)) return list.get(0).equals(ruleValue); else if (\"color\".equals(ruleKey)) return list.get(1).equals(ruleValue); else if (\"name\".equals(ruleKey)) return list.get(2).equals(ruleValue); return false; }) .count(); } } time:5 beat: 57 1848. åˆ°ç›®æ ‡å…ƒç´ çš„æœ€å°è·ç¦» https://leetcode-cn.com/problems/minimum-distance-to-the-target-element/ class Solution { public int getMinDistance(int[] nums, int target, int start) { int min = -1; int minVal = 0; int tmp = 0; for(int i = 0;i time: 1 beat:62 1450. åœ¨æ—¢å®šæ—¶é—´åšä½œä¸šçš„å­¦ç”Ÿäººæ•° https://leetcode-cn.com/problems/number-of-students-doing-homework-at-a-given-time/ class Solution { public int busyStudent(int[] startTime, int[] endTime, int queryTime) { int cnt = 0; for(int i = 0;i time: 0 1859. å°†å¥å­æ’åº https://leetcode-cn.com/problems/sorting-the-sentence/ class Solution { public String sortSentence(String s) { String[] a = s.split(\" \"); String[] ret = new String[a.length]; for(String str : a){ int index = Integer.parseInt(str.charAt(str.length() - 1) + \"\"); ret[index - 1] = str.substring(0, str.length() - 1); } StringBuilder sb = new StringBuilder(); for(int i = 0;i time:4 beat:28 é¢è¯•é¢˜ 04.08. é¦–ä¸ªå…±åŒç¥–å…ˆ https://leetcode-cn.com/problems/first-common-ancestor-lcci/ class Solution { public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) { List list = new ArrayList<>(); lowestCommonAncestor1(root, p, q, list); return list.get(list.size() - 1); } public void lowestCommonAncestor1(TreeNode root, TreeNode p, TreeNode q, List list) { if (root == null) return; if (hasChild(p, q)) list.add(p); if(hasChild(q, p)) list.add(q); if (hasChild(root, p) && hasChild(root, q)) list.add(root);; lowestCommonAncestor1(root.left, p, q, list); lowestCommonAncestor1(root.right, p, q, list); } private boolean hasChild(TreeNode root, TreeNode child) { if (root == null) return false; if (root == child) return true; return hasChild(root.left, child) || hasChild(root.right, child); } } time:2500+ beat:5 1662. æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦ç›¸ç­‰ https://leetcode-cn.com/problems/check-if-two-string-arrays-are-equivalent/ class Solution { public boolean arrayStringsAreEqual(String[] word1, String[] word2) { String s1 = Arrays.stream(word1) .collect(Collectors.joining()); String s2 = Arrays.stream(word2) .collect(Collectors.joining()); return s1.equals(s2); } } time:3 beat:11 342. 4çš„å¹‚ https://leetcode-cn.com/problems/power-of-four/ class Solution { public boolean isPowerOfFour(int n) { int cnt = 0; int lim = (int)Math.sqrt(n); while(cnt time:10 beat:8 é¢è¯•é¢˜ 17.04. æ¶ˆå¤±çš„æ•°å­— https://leetcode-cn.com/problems/missing-number-lcci/ class Solution { public int missingNumber(int[] nums) { if (nums.length time:1 beat:40 852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼• https://leetcode-cn.com/problems/peak-index-in-a-mountain-array/ class Solution { public int peakIndexInMountainArray(int[] arr) { int max = 0; for(int i = 0;i arr[max]) max = i; } return max; } } time:1 beat: 16 1869. å“ªç§è¿ç»­å­å­—ç¬¦ä¸²æ›´é•¿ https://leetcode-cn.com/problems/longer-contiguous-segments-of-ones-than-zeros/ class Solution { public boolean checkZeroOnes(String s) { return getMaxSeq(s, '1') > getMaxSeq(s, '0'); } private int getMaxSeq(String s, char n) { if (s.length() == 1) return s.charAt(0) == n ? 1 : 0; int p=0,q=0; int max = 0; for(int i = 0;i max) max = q - p; } return max; } } time:1 beat:98 1342. å°†æ•°å­—å˜æˆ 0 çš„æ“ä½œæ¬¡æ•° https://leetcode-cn.com/problems/number-of-steps-to-reduce-a-number-to-zero/ class Solution { public int numberOfSteps(int num) { int cnt = 0; while(num != 0) { if (num % 2 == 1) num--; else num /= 2; cnt++; } return cnt; } } time:0 beat:100 19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹ https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/ class Solution { private int cnt = 0; public ListNode removeNthFromEnd(ListNode head, int n) { remove(head, new int[]{n}); if (cnt == n) return head.next; return head; } private void remove(ListNode head, int[] n) { if (head == null) return; cnt++; remove(head.next, n); if (n[0] == 0) { head.next = head.next.next; } n[0]--; } } time:0 beat:100 1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ https://leetcode-cn.com/problems/deepest-leaves-sum/ class Solution { private int maxDepth = 0; private int sum; public int deepestLeavesSum(TreeNode root) { travel(root, 0); calc(root, 0); return sum; } private void calc(TreeNode root, int depth){ if (root == null) return; int curDepth = depth + 1; calc(root.left, curDepth); calc(root.right, curDepth); if (depth == maxDepth - 1) sum += root.val; } private void travel(TreeNode root, int depth){ if (depth > maxDepth) maxDepth = depth; if (root == null) return; int curDepth = depth + 1; travel(root.left, curDepth); travel(root.right, curDepth); } } time:1 beat:100 1833. é›ªç³•çš„æœ€å¤§æ•°é‡ https://leetcode-cn.com/problems/maximum-ice-cream-bars/ class Solution { public int maxIceCream(int[] costs, int coins) { PriorityQueue q = new PriorityQueue<>(Comparator.comparingInt(o -> o)); for (int i : costs) { q.offer(i); } int cnt = 0; while(coins > 0) { Integer i = q.poll(); if (i == null) return cnt; if (i > coins) return cnt; cnt++; coins -= i; } return cnt; } } time: 60+ beat: 5 1929. æ•°ç»„ä¸²è” https://leetcode-cn.com/problems/concatenation-of-array/ class Solution { public int[] getConcatenation(int[] nums) { int[] ans = new int[nums.length * 2]; for(int i = 0;i time:1 beat:100 1920. åŸºäºæ’åˆ—æ„å»ºæ•°ç»„ https://leetcode-cn.com/problems/build-array-from-permutation/ class Solution { public int[] buildArray(int[] nums) { int[] ans = new int[nums.length]; for(int i = 0;i 1720. è§£ç å¼‚æˆ–åçš„æ•°ç»„ https://leetcode-cn.com/problems/decode-xored-array/ class Solution { public int[] decode(int[] encoded, int first) { int[] ans = new int[encoded.length + 1]; ans[0] = first; for (int i = 1;i time:1 beat:100 1431. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­ https://leetcode-cn.com/problems/kids-with-the-greatest-number-of-candies/ class Solution { public List kidsWithCandies(int[] candies, int extraCandies) { int max = candies[0]; for(int i : candies) { if (i > max) max = i; } List ans = new ArrayList<>(candies.length); for(int i : candies) { ans.add(i + extraCandies >= max); } return ans; } } time:0 beat:100 1656. è®¾è®¡æœ‰åºæµ https://leetcode-cn.com/problems/design-an-ordered-stream/ class OrderedStream { private String[] data; private int ptr = 1; public OrderedStream(int n) { data = new String[n + 1]; } public List insert(int idKey, String value) { data[idKey] = value; List ans = new ArrayList<>(); int i = ptr; for (;i time: 78 beat: 98 MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-07-14 08:45:39 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/leetcode/æ ‘ç›¸å…³.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/leetcode/æ ‘ç›¸å…³.html","title":"æ ‘ç›¸å…³ç®—æ³•é¢˜","keywords":"","body":"æ ‘ç›¸å…³çš„ç®—æ³•é¢˜ è¿™ç§é¢˜ç›®çš„è§£æ³•ç‰¹ç‚¹ä¸€èˆ¬å°±æ˜¯ä¸¤ç§ï¼Œé€’å½’è·Ÿè¿­ä»£ã€‚ å¾ˆå¤šé¢˜ç›®çš„è§£æ³•åŸºæœ¬éƒ½æ˜¯é€šè¿‡å‰ä¸­ååºéå†çš„æ–¹å¼æ¥è§£ã€‚è¿­ä»£çš„è¯ä¸»è¦å¾—åˆ©ç”¨ä¸€ä¸ªé¢å¤–çš„æ ˆï¼Œé€šè¿‡ä¸æ–­çš„å‡ºå…¥æ ˆæ¥æ¨¡æ‹Ÿé€’å½’ã€‚ ç›¸åŒçš„æ ‘ ç»™å®šä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒå®ƒä»¬æ˜¯å¦ç›¸åŒ https://leetcode-cn.com/problems/same-tree/ è§£æ³• å¯¹ä¸¤æ£µæ ‘åšå‰åºéå†ï¼Œç»“æœå­˜åˆ°ä¸¤ä¸ªlistï¼Œæ¯”è¾ƒä¸¤ä¸ªlsitå³å¯ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦ç‰¹åˆ«å¤„ç†å·¦æ ‘ä¸ºç©ºï¼Œä½†å³æ ‘ä¸ä¸ºç©ºçš„æƒ…å†µ class Solution { public boolean isSameTree(TreeNode p, TreeNode q) { ArrayList list1 = new ArrayList<>(); ArrayList list2 = new ArrayList<>(); preWalk(p,list1); preWalk(q,list2); return list1.equals(list2); } public void preWalk(TreeNode p, List list){ if (p == null){ return ; } list.add(p.val); if (p.left == null && p.right != null) { list.add(null); } preWalk(p.left,list); preWalk(p.right,list); } } è€—æ—¶:0ms äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚ https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/ è§£æ³• åŒä¸Šé¢˜ï¼Œä¼ å…¥æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å›0 å¦åˆ™i++ æ¥ä¸‹æ¥é€’å½’è·å–å·¦å³å­æ ‘çš„æ·±åº¦ï¼Œè·å–æœ€å¤§æ·±åº¦ï¼Œç´¯åŠ åˆ°iå³å¯ class Solution { public int maxDepth(TreeNode root) { return getDepth(root,0); } public int getDepth(TreeNode root,int i) { if (root == null) { return 0; } i++; int left = getDepth(root.left,0); int right = getDepth(root.right,0); if (left > right) { return i + left; }else { return i + right; } } } è€—æ—¶ï¼š0ms äºŒå‰æ ‘çš„å±‚æ¬¡éå† ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼è‡ªåº•å‘ä¸Šçš„å±‚æ¬¡éå†ã€‚ ï¼ˆå³æŒ‰ä»å¶å­èŠ‚ç‚¹æ‰€åœ¨å±‚åˆ°æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„å±‚ï¼Œé€å±‚ä»å·¦å‘å³éå†ï¼‰ https://leetcode-cn.com/problems/binary-tree-level-order-traversal-ii/ è§£æ³• å¯¹æ ‘åšå‰åºéå†ï¼Œå°†ç»“æœå†™åˆ°listé‡Œï¼Œå†å¯¹listè¿›è¡Œreverse class Solution { public List> levelOrderBottom(TreeNode root) { ArrayList> list = new ArrayList<>(); walk(root,list,0); Collections.reverse(list); return list; } public void walk(TreeNode root,ArrayList> list,int p) { if (root == null) { return; } if (list.size()()); } list.get(p).add(root.val); walk(root.left,list,p+1); walk(root.right,list,p+1); } } è€—æ—¶ï¼š1ms äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ https://leetcode-cn.com/problems/minimum-depth-of-binary-tree/submissions/ class Solution { public int minDepth(TreeNode root) { if (root == null) return 0; if (root.left == null && root.right == null) return 1; int l = minDepth(root.left)+1; int r = minDepth(root.right)+1; if (root.left == null || root.right == null){ return Math.max(l,r); }else{ return Math.min(l,r); } } } è€—æ—¶ï¼š0 äºŒå‰æ ‘çš„ä¸­åºéå† https://leetcode-cn.com/problems/binary-tree-inorder-traversal/ class Solution { public List inorderTraversal(TreeNode root) { List list = new ArrayList<>(); walk(root, list); return list; } private void walk(TreeNode root, List list){ if (root == null) return; walk(root.left, list); list.add(root.val); walk(root.right, list); } } è€—æ—¶ï¼š0 226. ç¿»è½¬äºŒå‰æ ‘ https://leetcode-cn.com/problems/invert-binary-tree/ class Solution { public TreeNode invertTree(TreeNode root) { invertTree0(root); return root; } private void invertTree0(TreeNode root){ if (root == null) return; TreeNode t = root.left; root.left = root.right; root.right = t; if (root.left !=null) invertTree0(root.left); if (root.right !=null) invertTree0(root.right); } } è€—æ—¶ï¼š0 110. å¹³è¡¡äºŒå‰æ ‘ https://leetcode-cn.com/problems/balanced-binary-tree/ class Solution { public boolean isBalanced(TreeNode root) { if (root == null) return true; if (root.left == null && root.right == null) return true; if (Math.abs(treeHeight(root.left, 0) - treeHeight(root.right, 0)) > 1) return false; return isBalanced(root.left) && isBalanced(root.right); } private int treeHeight(TreeNode root, int i){ if (root == null) return i; i++; int l = treeHeight(root.left, i); int r = treeHeight(root.right, i); return l > r ? l : r; } } è€—æ—¶ï¼š1 145. äºŒå‰æ ‘çš„ååºéå† https://leetcode-cn.com/problems/binary-tree-postorder-traversal/ class Solution { public List postorderTraversal(TreeNode root) { List list = new ArrayList<>(); postOrder(root, list); return list; } private void postOrder(TreeNode root, List list){ if (root == null) return; postOrder(root.left, list); postOrder(root.right, list); list.add(root.val); } } è€—æ—¶ï¼š0 230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´  https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/ class Solution { public int kthSmallest(TreeNode root, int k) { return getKMin(root,k,new int[]{0}); } public int getKMin(TreeNode root,int k,int[] i){ if (root == null) return -1; int l = getKMin(root.left, k,i); i[0]++; if (i[0] == k) { return root.val; } int r = getKMin(root.right, k,i); if (l != -1) { return l; } if (r != -1) { return r; } return -1; } } è€—æ—¶ï¼š0 222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•° https://leetcode-cn.com/problems/count-complete-tree-nodes/ class Solution { public int countNodes(TreeNode root) { if (root == null) return 0; if (root.left == null && root.right == null) return 1; int l = countNodes(root.left); int r = countNodes(root.right); return l + r + 1; } } è€—æ—¶ï¼š0 144. äºŒå‰æ ‘çš„å‰åºéå† https://leetcode-cn.com/problems/binary-tree-preorder-traversal/ class Solution { public List preorderTraversal(TreeNode root) { List list = new ArrayList<>(); preTravel(root,list); return list; } private void preTravel(TreeNode root, List list){ if (root == null) return; list.add(root.val); preTravel(root.left, list); preTravel(root.right, list); } } è€—æ—¶ï¼š0 872. å¶å­ç›¸ä¼¼çš„æ ‘ https://leetcode-cn.com/problems/leaf-similar-trees/ class Solution { public boolean leafSimilar(TreeNode root1, TreeNode root2) { List list1 = new ArrayList<>(); List list2 = new ArrayList<>(); getLeafNodes(root1, list1); getLeafNodes(root2, list2); return list1.equals(list2); } private void getLeafNodes(TreeNode root, List list){ if (root == null) return ; if (root.left == null && root.right == null) list.add(root.val); getLeafNodes(root.left, list); getLeafNodes(root.right, list); } } è€—æ—¶ï¼š0 897. é€’å¢é¡ºåºæŸ¥æ‰¾æ ‘ https://leetcode-cn.com/problems/increasing-order-search-tree/ class Solution { public TreeNode increasingBST(TreeNode root) { if (root == null) return null; List list = new ArrayList<>(); travel(root, list); TreeNode ret = new TreeNode(); TreeNode origin = ret; for(int i=0;i list){ if (root == null) return; travel(root.left, list); list.add(root.val); travel(root.right, list); } } è€—æ—¶ï¼š0 MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-03 09:47:00 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/åŸºæœ¬æ•°æ®ç»“æ„.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/åŸºæœ¬æ•°æ®ç»“æ„.html","title":"åŸºæœ¬æ•°æ®ç»“æ„","keywords":"","body":"åŸºæœ¬æ•°æ®ç»“æ„ æ•°æ®ç»“æ„çš„ä½¿ç”¨è¦æ ¹æ®åœºæ™¯åŠæ•°æ®é‡æ¥å†³å®š çº¿æ€§ç»“æ„ çº¿æ€§è¡¨ nä¸ªæ•°æ®å…ƒç´ çš„æœ‰é™åºåˆ—ã€‚å¯ä»¥çœ‹åšæ•°ç»„ é“¾è¡¨ å¾ªç¯é“¾è¡¨ åŒå‘é“¾è¡¨ æ ˆ LIFO ç»“æ„ ä½¿ç”¨æ•°ç»„å®ç° ä½¿ç”¨é“¾è¡¨å®ç° é˜Ÿåˆ— å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„çº¿æ€§è¡¨ï¼Œåªå…è®¸åœ¨è¡¨çš„ä¸€æ®µè¿›è¡Œæ’å…¥ï¼Œå¦ä¸€ç«¯åˆ é™¤ å¾ªç¯é˜Ÿåˆ— é“¾è¡¨å®ç° æ ‘ç»“æ„ æœ‰å±‚æ¬¡çš„éçº¿æ€§ç»“æ„ å›¾ç»“æ„ å“ˆå¸Œç»“æ„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-21 02:21:55 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/ç®—æ³•ç­–ç•¥.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/ç®—æ³•ç­–ç•¥.html","title":"ç®—æ³•ç­–ç•¥","keywords":"","body":"ç®—æ³•ç­–ç•¥ è´ªå¿ƒç®—æ³• ä¸€ä¸ªè´ªå¿ƒç®—æ³•æ€»æ˜¯åšå‡ºå½“å‰æœ€å¥½çš„é€‰æ‹©ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæœŸæœ›é€šè¿‡å±€éƒ¨æœ€ä¼˜é€‰æ‹©ä»è€Œå¾—åˆ°å…¨å±€æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆã€‚ åšå‡ºé€‰æ‹© ä¸å¯åæ‚” å¯èƒ½å¾—ä¸åˆ°æœ€ä¼˜è§£ è´ªå¿ƒç­–ç•¥å†³å®šç®—æ³•å¥½å ç¡®å®šè´ªå¿ƒç­–ç•¥ é€‰æ‹©å½“å‰çœ‹ä¸Šå»æœ€å¥½çš„æ–¹æ¡ˆ ä¸€æ­¥ä¸€æ­¥å¾—åˆ°å±€éƒ¨æœ€ä¼˜è§£ å°†æ‰€æœ‰å±€éƒ¨æœ€ä¼˜è§£åˆå¹¶ç§°ä¸ºä¸€ä¸ªåŸæ¥é—®é¢˜çš„æœ€ä¼˜è§£ å†’æ³¡æ’åºå°±ä½¿ç”¨äº†è´ªå¿ƒç®—æ³• åŸåˆ™ è´ªå¿ƒåŸåˆ™ æ‰€è°“è´ªå¿ƒé€‰æ‹©æ€§è´¨æ˜¯æŒ‡åŸé—®é¢˜çš„æ•´ä½“æœ€ä¼˜è§£å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©å¾—åˆ° æœ€ä¼˜å­ç»“æ„ å½“ä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£æ—¶ï¼Œç§°æ­¤é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ èƒŒåŒ…é—®é¢˜ é€‰æ‹©ä¸€ä¸ªæœ€å¥½çš„è´ªå¿ƒç­–ç•¥ ç‰©å“å¯åˆ†å‰²ç§°ä¸ºèƒŒåŒ…é—®é¢˜ ç‰©å“ä¸å¯åˆ†å‰²ç§°ä¸º0-1èƒŒåŒ…é—®é¢˜ ä¼šè®®å®‰æ’é—®é¢˜ æœ€çŸ­è·¯å¾„é—®é¢˜ å“ˆå¤«æ›¼ç¼–ç  æœ€å°ç”Ÿæˆæ ‘ åˆ†æ²»æ³• å…¶æœ¬è´¨å°±æ˜¯å°†ä¸€ä¸ªå¤§è§„æ¨¡çš„é—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„ç›¸åŒå­é—®é¢˜ï¼Œåˆ†è€Œæ²»ä¹‹ é€’å½’ åˆ†æ”¯ç®—æ³•è¦ç´  åŸé—®é¢˜å¯ä»¥åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„ç›¸åŒå­é—®é¢˜ å­é—®é¢˜ç›¸äº’ç‹¬ç«‹ å­é—®é¢˜è§£å¯ä»¥åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£ äºŒåˆ†æŸ¥æ‰¾ å½’å¹¶æ’åº å¿«é€Ÿæ’åº å¤§æ•´æ•°ä¹˜æ³• åŠ¨æ€è§„åˆ’ åŸºç¡€ åŠ¨æ€è§„åˆ’çš„æ€æƒ³ç±»ä¼¼äºåˆ†æ²»æ³• ä¸è¿‡åŠ¨æ€è§„åˆ’æ˜¯ä»æœ€å°å­é—®é¢˜æ±‚èµ· å°†å°é—®é¢˜çš„è§£å­˜å‚¨èµ·æ¥ æ±‚è§£å¤§é—®é¢˜æ—¶ å¦‚æœéœ€è¦ç”¨åˆ°å°é—®é¢˜çš„è§£ ç›´æ¥ä½¿ç”¨å³å¯ æ— éœ€å†é‡å¤è®¡ç®— è¦ç´  æœ€ä¼˜å­ç»“æ„ é—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ å­é—®é¢˜é‡å  ä¸æ˜¯å¿…è¦æ¡ä»¶ ä½†æ˜¯æ˜¯åŠ¨æ€è§„åˆ’çš„ä¼˜åŠ¿ å…”å­åºåˆ— æœ€é•¿å…¬å…±å­ä¸² å›æº¯æ³• å›æº¯æ³•æ˜¯ä¸€ç§é€‰ä¼˜æœç´¢æ³•ï¼ŒæŒ‰ç…§é€‰ä¼˜æ¡ä»¶æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ã€‚å½“æœç´¢åˆ°æŸä¸€æ­¥æ—¶ï¼Œå‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸æ˜¯æœ€ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡ï¼Œå°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©ï¼Œè¿™ç§èµ°ä¸é€šå°±é€€å›å†èµ°çš„æŠ€æœ¯ç§°ä¸ºå›æº¯æ³•ï¼Œè€Œæ»¡è¶³å›æº¯æ¡ä»¶çš„æŸä¸ªçŠ¶æ€ç§°ä¸ºâ€œå›æº¯ç‚¹â€ã€‚ è¦ç´  è§£ç©ºé—´ ç”±æ‰€æœ‰å¯èƒ½è§£ç»„æˆçš„ç©ºé—´ å°†è¿™äº›è§£æŒ‰ä¸€å®šç»“æ„ç»„ç»‡èµ·æ¥ï¼šè§£ç©ºé—´æ ‘ éšçº¦æŸ ä¸æ»¡è¶³éšå…ƒç´ çš„åˆ†æ”¯æ— éœ€æœç´¢ ç›´æ¥å‰ªæ‰ ä¹Ÿç§°ä¸ºå‰ªæå‡½æ•° 0-1èƒŒåŒ… æœ€å¤§å›¾ åœ°å›¾ç€è‰² nçš‡å åˆ†æ”¯é™ç•Œæ³• å¹¿åº¦ä¼˜å…ˆ å›æº¯æ³•æ‰¾å‡ºæ‰€æœ‰è§£ åˆ†æ”¯é™ç•Œæ³•æ‰¾å‡ºä¸€ä¸ªæ¥ å›æº¯æ³•æ·±åº¦ä¼˜å…ˆ åˆ†æ”¯é™ç•Œæ³•å¹¿åº¦ä¼˜å…ˆ å›æº¯æ³•æœç´¢ä¸€æ¬¡ç”Ÿæˆä¸€ä¸ªå­©å­èŠ‚ç‚¹ åˆ†æ”¯é™ç•Œæ³•ä¸€æ¬¡ç”Ÿæˆæ‰€æœ‰èŠ‚ç‚¹ çº¿æ€§è§„åˆ’ç½‘ç»œæµ è§£å†³ ç¡®å®šå†³ç­–å˜é‡ å“ªäº›å˜é‡å¯¹æ¨¡æ¿æœ‰å½±å“ ç¡®å®šç›®æ ‡å‡½æ•° å«æœ‰å†³ç­–å˜é‡çš„çº¿æ€§å‡½æ•° æ‰¾å‡ºçº¦æŸæ¡ä»¶ å°†å¯¹å†³ç­–å˜é‡çš„çº¦æŸè¡¨ç¤ºä¸ºæ–¹ç¨‹æˆ–è€…ä¸ç­‰å¼ æ±‚æœ€ä¼˜è§£ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-04 08:01:17 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/æ’åº.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/æ’åº.html","title":"æ’åº","keywords":"","body":"æ’åº ä¸ºä»€ä¹ˆè¦å­¦ä¹ O(N^2)çš„æ’åºç®—æ³• æ˜¯å…¶ä»–ç®—æ³•çš„åŸºç¡€ ç¼–ç ç®€å• ä½œä¸ºå­è¿‡ç¨‹ï¼Œç”¨äºæ”¹è¿›å¤æ‚çš„æ’åºç®—æ³• æ’åºç®—æ³•çš„ç¨³å®šæ€§ å¯¹äºç›¸ç­‰çš„å…ƒç´ ï¼Œåœ¨æ’åºåï¼Œç›¸å¯¹ä½ç½®æ²¡æœ‰å‘ç”Ÿæ”¹å˜ é€‰æ‹©æ’åº æ¯ä¸€è½®å¾ªç¯æ‰¾åˆ°æ•°ç»„ä¸­æœ€å°çš„å…ƒç´ ï¼Œç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„æœ€å°å…ƒç´ å°†å®ƒä¸ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®ï¼Œç¬¬äºŒæ¬¡æ‰¾åˆ°çš„æœ€å°å…ƒç´ äº¤æ¢å°†å®ƒä¸ç¬¬äºŒä¸ªä½ç½®äº¤æ¢ï¼Œä»¥æ­¤ç±»æ¨ for (int i = 0; i æ’å…¥æ’åº æ’å…¥æ’åºæ˜¯ä»åå¾€å‰æ‰«æçš„ ç¬¬ä¸€æ¬¡ä»ååˆ°å‰é€ä¸ªæ‰«æä¸‹æ ‡1-0çš„å…ƒç´ ï¼Œå¦‚æœå‘ç°åé¢ä¸€ä¸ªæ¯”å‰é¢å°ï¼Œåˆ™ä¸¤ä¸ªäº¤æ¢ä½ç½®ï¼Œå¦åˆ™å°±å¼€å§‹ä¸‹ä¸€æ¬¡æ‰«æ ç¬¬äºŒæ¬¡ä»ååˆ°å‰é€ä¸ªæ‰«æä¸‹æ ‡2-0çš„å…ƒç´ ï¼Œå¦‚æœå‘ç°åé¢ä¸€ä¸ªæ¯”å‰é¢å°ï¼Œåˆ™ä¸¤ä¸ªäº¤æ¢ä½ç½® ï¼Œå¦åˆ™å°±å¼€å§‹ä¸‹ä¸€æ¬¡æ‰«æ ä¾æ­¤ç±»æ¨ æ’å…¥æ’åºå¯¹è¿‘ä¹æœ‰åºçš„æ•°ç»„æ€§èƒ½å¾ˆå¼º for (int i = 1; i 0; j--) { if (less(a[j], a[j - 1])) { swap(a, j, j - 1); }else { break; } } } // æ”¹è¿›åçš„æ’å…¥æ’åº for (int i = 1; i 0 && greater(a[j - 1], e); j--) { // å°† a[j]=a[j-1]; } a[j]=e; } å†’æ³¡æ’åº ç¬¬ä¸€æ¬¡æ‰«æä¸‹æ ‡ä¸º0çš„å…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´  ç¬¬äºŒæ¬¡æ‰«æä¸‹æ ‡ä¸º0çš„å…ƒç´ åˆ°å€’æ•°ç¬¬äºŒä¸ªå…ƒç´  æ¯æ¬¡æ‰«æå¦‚æœå‘ç°å³è¾¹æ¯”å·¦è¾¹å° åˆ™ä¸¤ä¸ªäº¤æ¢ä½ç½® ä»¥æ­¤ç±»æ¨ for (int i = 1; i å¸Œå°”æ’åº å¸Œå°”æ’åºæ˜¯å°†æ’å…¥æ’åºä¸­çš„äº¤æ¢ç›¸é‚»å…ƒç´ æ”¹ä¸ºäº¤æ¢ä¸ç›¸é‚»å…ƒç´  é€‰æ‹©ä¸€ä¸ªå¢é‡åºåˆ—t1ï¼Œt2ï¼Œâ€¦ï¼Œtk æŒ‰å¢é‡åºåˆ—ä¸ªæ•°kï¼Œå¯¹åºåˆ—è¿›è¡Œk è¶Ÿæ’åº int h = 1; // è®¡ç®—å¢é•¿åºåˆ—ï¼Œ1,4ï¼Œ13,40... while (h =1){ for (int i = h; i h && less(a[j - h], e); j-=h) { a[j]=a[j-h]; } a[j]=e; } h/=3; } å½’å¹¶æ’åº æŠŠé•¿åº¦ä¸ºnçš„è¾“å…¥åºåˆ—åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸ºn/2çš„å­åºåˆ—ï¼› å¯¹è¿™ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«é‡‡ç”¨å½’å¹¶æ’åºï¼› å°†ä¸¤ä¸ªæ’åºå¥½çš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„æ’åºåºåˆ— å¯¹ä¸¤ä¸ªæœ‰åºå­åºåˆ—è¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°ä¸€ä¸ªæ›´å¤§çš„æœ‰åºå­åºåˆ—ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªåºåˆ— ä½†æ˜¯ä¸€ä¸ªç¼ºç‚¹æ˜¯éœ€è¦é¢å¤–çš„O(N)ç©ºé—´ private void mergeSort(Comparable[] a, int l, int r) { if (l >= r) { return; } int mid = (l + r) / 2; mergeSort(a, l, mid); // å¯¹å·¦è¾¹æ’åº mergeSort(a, mid + 1, r); // å¯¹å³è¾¹æ’åº merge(a, l, mid, r); // å¯¹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œå½’å¹¶ } private void merge(Comparable[] a, int l, int mid, int r) { // å¼€è¾Ÿä¸€å—æ–°ç©ºé—´ç»™l-rä¹‹é—´çš„å…ƒç´  Comparable[] aux = new Comparable[r - l + 1]; for (int i = l; i mid) { // å¦‚æœå·¦æŒ‡é’ˆå·²ç»è·‘è¿‡äº†midï¼Œé‚£æ­¤æ—¶è®©å³æŒ‡é’ˆå»è·‘ a[k] = aux[j - l]; j++; } else if (j > r) { // å¦‚æœå³æŒ‡é’ˆå·²ç»è·‘å®Œäº†ï¼Œåˆ™æ­¤æ—¶è®©å·¦æŒ‡é’ˆå»è·‘ a[k] = aux[i - l]; i++; } else if (less(a[i - l], a[j - l])) { // å¦åˆ™å°±æ¯”è¾ƒå·¦å³ä¸¤æŒ‡é’ˆè°çš„å€¼æ¯”è¾ƒå°ï¼Œè°å°å°±æŠŠè°çš„å€¼å¤åˆ¶åˆ°ç»“æœé‡Œï¼Œç„¶åè¯¥æŒ‡é’ˆå¾€åç§»åŠ¨ a[k] = aux[i - l]; i++; } else { a[k] = aux[j - l]; j++; } } } ä¼˜åŒ– å½“mid+1ä½ç½®çš„å…ƒç´ å¤§äºmidä½ç½®çš„å…ƒç´ æ—¶ï¼Œå°±æ²¡æœ‰å¿…è¦è¿›è¡Œå½’å¹¶äº† if (greater(a[mid],a[mid+1])){ merge(a, l, mid, r); } ä¹Ÿå¯ä»¥å½“è¢«å½’å¹¶æ’åºçš„æ•°ç»„æ•°é‡å°äºæŸä¸€æ•°é‡çº§æ—¶ï¼Œä½¿ç”¨å…¶ä»–æ’åºç®—æ³•ï¼Œæ¥æé«˜æ€§èƒ½ è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº // æ¯æ¬¡å½’å¹¶çš„æ•°ç»„å¤§å°ä¾æ¬¡ä¸º1 2 4 ... for (int sz = 1; sz å¿«é€Ÿæ’åº é€‰å®šä¸€ä¸ªå…ƒç´ ï¼Œå°†æ¯”è¯¥å…ƒç´ å°çš„å…ƒç´ æ”¾å…¶å·¦è¾¹ï¼Œæ¯”å®ƒå¤§çš„æ”¾åœ¨å…¶å³è¾¹ï¼Œå¹¶é€’å½’åœ°å¯¹å®ƒå·¦å³ä¸¤è¾¹çš„å­åºåˆ—è¿›è¡Œæ’åº å¿«é€Ÿæ’åºåœ¨æœ€å·®çš„æƒ…å†µä¸‹ï¼Œä¼šé€€åŒ–ä¸ºO(N^2) private void quickSort(Comparable[] a, int l, int r) { if (l >= r) { return; } int p = partition(a, l, r); quickSort(a, l, p - 1); quickSort(a, p + 1, r); } /** * è¿”å›ä¸€ä¸ªpï¼Œä½¿å¾—a[l...p-1] a[p] */ private int partition(Comparable[] a, int l, int r) { var v = a[l]; int j = l; // ä»å·¦åˆ°å³æ‰«æï¼ˆä¸€ï¼‰ for (int i = l + 1; i ä¸€ äºŒ ä¸‰ ä¼˜åŒ– å½“æ•°ç»„é‡Œæœ‰å¤§é‡ç›¸åŒçš„å…ƒç´ ï¼Œå¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºé€€åŒ–åˆ°N^2,è§£å†³æ–¹æ³•æ˜¯åœ¨ä¸¤ä¾§ä½¿ç”¨åŒæŒ‡é’ˆå‘ä¸­é—´æ‰«æ åŒè·¯å¿«é€Ÿæ’åº private int partition(Comparable[] a, int l, int r) { var v = a[l]; // i:a[l+1...i] =v int i = l + 1, j = r; while (true) { while (i = l + 1 && greater(a[j], v)) j--; if (i > j) { break; } else { swap(a, i, j); i++;j--; } } swap(a,l,j); return j; } ä¸‰è·¯å¿«é€Ÿæ’åº private void quickSort(Comparable[] a, int l, int r) { if (l >= r) { return; } // partition var v = a[l]; int lt = l; // a[l+1...lt] v int i = l + 1; // a[lt+1...i) == v while (i 0) { swap(a, i, gt - 1); gt--; }else { i++; } } swap(a,i,lt); quickSort(a, l, lt - 1); quickSort(a, gt, r); } å½’å¹¶æ’åºä¸å¿«é€Ÿæ’åºçš„èƒŒå ä¸¤ä¸ªç®—æ³•éƒ½ä½¿ç”¨äº†åˆ†æ²»ç®—æ³• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-05 00:55:06 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/å †.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/å †.html","title":"å †","keywords":"","body":"å † åº”ç”¨ ä¼˜å…ˆçº§é˜Ÿåˆ— å †çš„å­˜å‚¨ äºŒå‰å † æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼ˆæœ€å¤§å †ï¼‰ ç”¨æ•°ç»„å­˜å‚¨äºŒå‰å † æ“ä½œ shift up æ–°åŠ å…¥çš„å…ƒç´ ä¸å…¶çˆ¶å…ƒç´ åˆ¤æ–­ï¼Œæ˜¯å¦æ¯”çˆ¶å…ƒç´ å¤§ï¼Œå¦‚æœæ˜¯ï¼Œäº¤æ¢ä¸¤ä¸ªå…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°å°äºå…¶çˆ¶äº² while (less(data,i/2,i)) { swap(data,i/2,i); i/=2; } shift down åªèƒ½å–å‡ºæ ¹èŠ‚ç‚¹çš„å…ƒç´ ï¼Œå–å‡ºåï¼Œä½¿ç”¨å †ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ å¡«è¡¥ç©ºç¼º å¡«è¡¥åï¼Œè·Ÿå·¦å³ä¸¤ä¸ªå­©å­æ¯”è¾ƒï¼Œå“ªä¸ªå­©å­å¤§å°±è·Ÿè°äº¤æ¢...ä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³è‡ªå·±æ¯”ä¸¤ä¸ªå­©å­éƒ½å¤§ while (2 * k å †æ’åº MaxHeap> heap = new MaxHeap<>(a.length+1); for (int i = 0; i Heapifyï¼ˆå †åŒ–ã€å°†æ•°ç»„è½¬ä¸ºå †ã€‘ï¼‰ å¯¹äºä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œå…¶æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹æ˜¯å…ƒç´ ä¸ªæ•°é™¤äºŒå–æ•´ æ‰€ä»¥è¦æŠŠä¸€ä¸ªæ•°ç»„å †åŒ–ï¼Œåªéœ€è¦å¯¹å…¶éå¶å­ç»“ç‚¹è¿›è¡Œshift down for (int i = 0; i = 1; i--) { shiftDown(i); } åŸåœ°å †æ’åº int n = a.length; // å…ˆå°†æ•´ä¸ªæ•°ç»„æ„é€ æˆä¸€ä¸ªæœ€å¤§å † for (int i = (n - 2) / 2; i >= 0; i--) { shiftDown(a, n, i); } // å°†å †ä¸­çš„ç¬¬ä¸€å¤§å…ƒç´ ç§»åˆ°æœ«å°¾ï¼Œå†æ¬¡æ„é€ æœ€å¤§å †(æ’é™¤æœ«å°¾æ’å¥½åºçš„å…ƒç´ ) // ç„¶åä¸‹ä¸€æ¬¡å¾ªç¯å†å°†ç¬¬ä¸€å¤§å…ƒç´ ç§»åˆ°å€’æ•°ç¬¬äºŒä¸ª...ä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³åªå‰©ä¸€ä¸ªå…ƒç´  for (int i = n - 1; i > 0; i--) { swap(a, 0, i); shiftDown(a, i, 0); } ç´¢å¼•å † å¼•å…¥ä¸€ä¸ªindexæ•°ç»„ï¼Œåœ¨å¢åˆ æ”¹æŸ¥çš„æ—¶å€™ï¼Œæä¾›ä¸€ä¸ªindex ç´¢å¼•å †æ ¹æ®è¿™ä¸ªindexæ‰¾åˆ°æ•°æ®åœ¨dataä¸­çš„ä½ç½® MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-09 04:10:30 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/æŸ¥æ‰¾.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/æŸ¥æ‰¾.html","title":"æŸ¥æ‰¾","keywords":"","body":"æŸ¥æ‰¾ é¡ºåºæŸ¥æ‰¾ æŒ‰ç…§é¡ºåºä¸€ä¸ªä¸ªæ¯”è¾ƒï¼Œç›´åˆ°åºåˆ—æœ«å°¾ int seq_search(int array[], int n, int key) { int i; for(i = 0; i äºŒåˆ†æŸ¥æ‰¾ é€šè¿‡å¯¹ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­å¯¹å…ƒç´ ä¾æ¬¡æ¯”è¾ƒï¼Œä»è€Œèƒ½å®ç°å¯¹æ•°çº§åˆ«æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾ æ ¹æ®å·¦å³æŒ‡é’ˆè®¡ç®—å‡ºä¸€ä¸ªmidæŒ‡é’ˆ å¦‚æœmidæŒ‡é’ˆå¤„çš„å…ƒç´ ç­‰äºç›®æ ‡å€¼ åˆ™è¦æŸ¥æ‰¾çš„ç›®æ ‡å°±æ˜¯åœ¨è¿™é‡Œ å¦åˆ™å¦‚æœmidå¤„çš„æŒ‡é’ˆæ¯”ç›®æ ‡å€¼å¤§ åˆ™å³æŒ‡é’ˆç­‰äºmid-1 å¦åˆ™å·¦æŒ‡é’ˆç­‰äºmid+1 ç„¶åé‡å¤ä¸Šè¿°æ“ä½œ ç›´åˆ°å·¦æŒ‡é’ˆå¤§äºå³æŒ‡é’ˆ int l = 0, r = a.length - 1; while (l äºŒå‰æŸ¥æ‰¾æ ‘ é«˜æ•ˆ ç‰¹ç‚¹ æ¯ä¸ªç»“ç‚¹çš„é”®å€¼å¤§äºå·¦å­©å­ï¼Œå°äºå³å­©å­ æ¯ä¸ªå­©å­åˆæ˜¯äºŒå‰æŸ¥æ‰¾æ ‘ äºŒåˆ†æŸ¥æ‰¾æ ‘ä¸ä¸€å®šæ˜¯å®Œå…¨äºŒå‰æ ‘ æ’å…¥ if (root == null) { count++; return new Node(key, value); // å½“å‰èŠ‚ç‚¹ä¸ºnullï¼Œåˆ™åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹è¿”å› } if (key.equals(root.key)) { //ã€€å½“å‰èŠ‚ç‚¹ç­‰äºè¦æ’å…¥çš„èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¦†ç›– root.value = value; } else if (less(key, root.key)) { //ã€€å½“å‰èŠ‚ç‚¹æ¯”è¦æ’å…¥çš„å¤§ï¼Œåˆ™å‘å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘æ’å…¥ root.left = insert(root.left, key, value); } else if (greater(key, root.key)) { //ã€€å½“å‰èŠ‚ç‚¹æ¯”è¦æ’å…¥çš„å°ï¼Œåˆ™å‘å½“å‰èŠ‚ç‚¹çš„å³å­æ ‘æ’å…¥ root.right = insert(root.right, key, value); } æŸ¥æ‰¾ åŸç†åŒæ’å…¥ï¼Œæ ¹æ®å·¦å­æ ‘æ¯”çˆ¶èŠ‚ç‚¹å°ï¼Œå³å­æ ‘æ¯”çˆ¶èŠ‚ç‚¹å¤§çš„æ¡ä»¶ if (root == null){ return null; } if (key.equals(root.key)){ return root.value; }else if(less(key,root.key)){ return search(root.left,key); }else { return search(root.right,key); } floorä¸ceil floorï¼šæ˜¯æœ€æ¥è¿‘keyå€¼ä¸”å°äºkeyçš„èŠ‚ç‚¹ ceilï¼šæ˜¯æœ€æ¥è¿‘keyå€¼ä¸”å¤§äºkeyçš„èŠ‚ç‚¹ éå† å‰åºéå† å…ˆè®¿é—®å½“å‰èŠ‚ç‚¹ï¼Œå†é€’å½’è®¿é—®å·¦å³å­æ ‘ if (root != null){ consumer.accept(root.key,root.value); preOrder(root.left,consumer); preOrder(root.right,consumer); } ä¸­åºéå† å…ˆé€’å½’è®¿é—®å·¦å­æ ‘ï¼Œå†è®¿é—®è‡ªèº«ï¼Œå†é€’å½’è®¿é—®å³å­æ ‘ if (root != null){ preOrder(root.left,consumer); consumer.accept(root.key,root.value); preOrder(root.right,consumer); } ååºéå† å…ˆé€’å½’è®¿é—®å·¦å³å­æ ‘ï¼Œåœ¨è®¿é—®è‡ªèº« if (root != null){ preOrder(root.left,consumer); preOrder(root.right,consumer); consumer.accept(root.key,root.value); } å¹¿åº¦ä¼˜å…ˆéå†(å±‚åº) Queue queue = new LinkedList<>(); queue.add(root); while (!queue.isEmpty()) { var node = queue.remove(); consumer.accept(node.key,node.value); if (node.left != null){ queue.add(node.left); } if (node.right != null){ queue.add(node.right); } } åˆ é™¤ åˆ†ä¸ºä¸‰ç§æƒ…å†µ åˆ é™¤å¶å­èŠ‚ç‚¹ ç›´æ¥è§£é™¤çˆ¶èŠ‚ç‚¹å¯¹å…¶çš„å¼•ç”¨å³å¯ åˆ é™¤åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹çš„ å°†çˆ¶èŠ‚ç‚¹æŒ‡å‘å…¶å­èŠ‚ç‚¹ private Node removeMax(Node node) { if (node.right == null) { // ä»£è¡¨å½“å‰èŠ‚ç‚¹å°±æ˜¯æœ€å¤§èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿”å›å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘ç»™çˆ¶èŠ‚ç‚¹ count--; return node.left; } // å°†åˆ é™¤çš„èŠ‚ç‚¹çš„å·¦å­æ ‘ä½œä¸ºçˆ¶èŠ‚ç‚¹çš„å³å­æ ‘ node.right = removeMax(node.right); return node; } åˆ é™¤æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„ Hubbard Deletion ä½¿ç”¨è¢«åˆ é™¤èŠ‚ç‚¹å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹æ¥ä»£æ›¿è¢«åˆ é™¤èŠ‚ç‚¹ å±€é™æ€§ åŒæ ·çš„æ•°æ®ä¼šå¯¹åº”ä¸åŒçš„æŸ¥æ‰¾æ ‘ æœ‰å¯èƒ½é€€åŒ–æˆé“¾è¡¨ 2-3æŸ¥æ‰¾æ ‘ æ’å…¥ 2-3æ ‘ä¹‹æ‰€ä»¥å®Œç¾å¹³è¡¡ï¼Œå…³é”®åœ¨äºæ’å…¥æ—¶çš„ç»´æŠ¤ èŠ‚ç‚¹åˆ†è£‚ æ’å…¥ç¤ºä¾‹ åˆ é™¤ çº¢é»‘æ ‘ åŸºæœ¬æ“ä½œ æ—‹è½¬ åè‰² æ’å…¥ æ–°æ’å…¥çš„èŠ‚ç‚¹å‡è®¾ä¸ºçº¢è‰² æƒ…å†µï¼‘ å¯¹ï½‚é€†æ—¶é’ˆæ—‹è½¬ æƒ…å†µ2 åè‰² æƒ…å†µ3 è¿›è¡Œé¡ºæ—¶é’ˆæ—‹è½¬,å˜æˆæƒ…å†µï¼’ åˆ é™¤ æ•£åˆ—è¡¨ æ ¹æ®é”®ï¼ˆKeyï¼‰è€Œç›´æ¥è®¿é—®åœ¨å†…å­˜å­˜å‚¨ä½ç½®çš„æ•°æ®ç»“æ„,ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒé€šè¿‡è®¡ç®—ä¸€ä¸ªå…³äºé”®å€¼çš„å‡½æ•°ï¼Œå°†æ‰€éœ€æŸ¥è¯¢çš„æ•°æ®æ˜ å°„åˆ°è¡¨ä¸­ä¸€ä¸ªä½ç½®æ¥è®¿é—®è®°å½•ï¼Œè¿™åŠ å¿«äº†æŸ¥æ‰¾é€Ÿåº¦ æ•£åˆ—å‡½æ•° è¿™ä¸ªè¿‡ç¨‹ä¼šè®²é”®è½¬åŒ–ä¸ºæ•°ç»„çš„ç´¢å¼• æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥ï¼ˆåˆå«åšé¢„æ˜ å°„pre-imageï¼‰é€šè¿‡æ•£åˆ—ç®—æ³•å˜æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œè¯¥è¾“å‡ºå°±æ˜¯æ•£åˆ—å€¼ æ•£åˆ—å†²çª å½“ä¸åŒçš„è¾“å…¥å¾—åˆ°ç›¸åŒçš„hashå€¼æ—¶ï¼Œç§°ä¸ºæ•£åˆ—å†²çª è§£å†³ï¼šæ‹‰é“¾æ³• å½“å‘ç”Ÿç¢°æ’çš„æ—¶å€™ï¼Œæ‹‰é“¾æ³•æ˜¯å°†ç¢°æ’çš„å…ƒç´ ä¸²æˆä¸€ä¸ªé“¾è¡¨ è§£å†³ï¼šçº¿æ€§æ¢æµ‹ å½“å‘ç”Ÿç¢°æ’çš„æ—¶å€™ï¼Œç›´æ¥æ£€æŸ¥æ•£åˆ—è¡¨ä¸­çš„ä¸‹ï¼®ä¸ªä½ç½®ï¼ˆï¼®å¯æ­£å¯è´Ÿï¼‰ åœ¨æŸ¥æ‰¾çš„æ—¶å€™ï¼Œå¦‚æ’å…¥ä¸€æ ·ä¸€ç›´è¿›è¡Œçº¿æ€§æ¢æµ‹ï¼Œç›´è‡³ç¢°åˆ°ä¸€ä¸ªé”®ä¸ºç©ºçš„æ§½ åˆ é™¤ åˆ é™¤çš„æ—¶å€™ï¼Œä¸èƒ½ç®€å•åœ°å°†æ§½ç½®ä¸ºç©ºï¼Œéœ€è¦å°†ä¸è¯¥é”®åŒæ•£åˆ—å€¼çš„é”®éƒ½å¾€å‰ç§»åŠ¨ï¼Œå¡«è¡¥å› ä¸ºè¯¥é”®è¢«åˆ é™¤è€Œé€ æˆçš„ç©ºç¼º è°ƒæ•´å¤§å° å½“æ•°ç»„å¤§å°å‘ç”Ÿæ”¹å˜ï¼Œä¸èƒ½ç›´æ¥ä½ç½®ä¸€å¯¹ä¸€è¿ç§»ï¼Œè€Œæ˜¯éœ€è¦å¯¹å…ˆå‰çš„æ¯ä¸ªå…ƒç´ ï¼Œé‡æ–°è®¡ç®—æ•£åˆ—(rehash)ï¼Œé‡æ–°æ”¾å…¥æ§½ javaä¸­çš„å®ç° JDK8åï¼ŒHashMapå½“å†²çªåˆ—è¡¨è¶…è¿‡ï¼˜ä¸ªä¹‹åï¼Œä¼šä½¿ç”¨çº¢é»‘æ ‘ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-05 01:16:04 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/æ ‘.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/æ ‘.html","title":"æ ‘","keywords":"","body":"æ ‘ ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥åªæœ‰æ ¹èŠ‚ç‚¹ ä¹Ÿå¯ä»¥æ˜¯ä¸€æ£µæ ‘ ... æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„æ ‘ç§°ä¸ºäºŒå‰æ ‘ å¹³è¡¡äºŒå‰æ ‘ æ ‘åŠå…¶å­æ ‘çš„å·¦å³é«˜åº¦å·®ä¸èƒ½è¶…è¿‡1 ç©ºæ ‘åŠåªæœ‰æ ¹èŠ‚ç‚¹çš„æ ‘ä¹Ÿæ˜¯å¹³è¡¡äºŒå‰æ ‘ äºŒå‰æŸ¥æ‰¾æ ‘ æ“…é•¿æ•°æ®çš„æŸ¥æ‰¾ å¯¹äºä»»ä½•èŠ‚ç‚¹ï¼š å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹éƒ½å°äºå®ƒ å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹éƒ½å¤§äºå®ƒ æŸ¥æ‰¾æ ‘éšç€æ•°æ®çš„ä¸æ–­å¢åŠ æˆ–æ’å…¥å®¹æ˜“å¤±è¡¡ AVLæ ‘ åœ¨å¢åŠ å’Œåˆ é™¤èŠ‚ç‚¹æ—¶é€šè¿‡æ—‹è½¬æ¥ä¿æŒå¹³è¡¡ å³æ—‹ï¼šä»¥æŸä¸ªèŠ‚ç‚¹ä¸ºä¸­å¿ƒ å°†å®ƒæ²‰å…¥å½“å‰å³å­èŠ‚ç‚¹çš„ä½ç½® ç„¶åè®©å½“å‰å·¦å­èŠ‚ç‚¹ä½œä¸ºæ–°æ ‘çš„æ ¹ å·¦æ—‹ï¼š çº¢é»‘æ ‘ çº¢é»‘æ ‘ä¸è¿½æ±‚å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1 è€Œæ˜¯ä¿è¯ä»æ ¹èŠ‚ç‚¹åˆ°å¶å°¾çš„æœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„2å€ å…¶ä»–çº¦æŸæ¡ä»¶ï¼š èŠ‚ç‚¹åªèƒ½æ˜¯çº¢è‰²æˆ–è€…é»‘è‰² æ ¹èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰² NIL(Nothing in leaf)èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰² ç›¸è¿çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¸èƒ½éƒ½æ˜¯çº¢è‰² æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„é»‘è‰²èŠ‚ç‚¹æ•°é‡éƒ½ç›¸åŒ çº¢é»‘æ ‘çš„ä»»ä½•æ—‹è½¬è‡³å¤š3æ¬¡å°±èƒ½å®Œæˆ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-22 04:17:20 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/å¹¶æŸ¥é›†.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/å¹¶æŸ¥é›†.html","title":"å¹¶æŸ¥é›†","keywords":"","body":"å¹¶æŸ¥é›† å¹¶æŸ¥é›†æ˜¯ä¸€ç§æ ‘å‹çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå¤„ç†ä¸€äº›ä¸äº¤é›†ï¼ˆDisjoint Setsï¼‰çš„åˆå¹¶åŠæŸ¥è¯¢é—®é¢˜ è¿æ¥é—®é¢˜ find findæ“ä½œè¿”å›è¯¥èŠ‚ç‚¹è¿æ¥çš„èŠ‚ç‚¹ int find(int p) { return data[p]; } å¦å¤–ä¸€ç§å®ç°ï¼Œé€šè¿‡åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰åŒæ ·çš„ç¥–å…ˆæ¥åˆ¤æ–­æ˜¯å¦ç›¸è¿ while (p != parent[p]) { p = parent[p]; } return p; isConnected åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦è¿æ¥åœ¨ä¸€èµ·çš„ï¼ˆåˆ¤æ–­è¿™ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦è¿æ¥äº†åŒä¸€ä¸ªèŠ‚ç‚¹ï¼‰ boolean isConnected(int p, int q) { return find(p) == find(q); } union è¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹ï¼ˆå°†ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å¦å¤–ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ int pid = find(p); int qid = find(q); if (pid == qid){ return; } for (int i = 0; i ä½¿ç”¨å¦å¤–ä¸€ç§å®ç°çš„union int qRoot = find(p); int pRoot = find(q); if (qRoot == pRoot){ return; } parent[pRoot]=qRoot; åŸºäºsizeçš„ä¼˜åŒ–ï¼Œç»´æŠ¤ä¸€ä¸ªsizeæ•°ç»„ï¼Œä»£è¡¨ä»¥iä¸ºæ ¹çš„é›†åˆçš„å…ƒç´ ä¸ªæ•° if (sz[pRoot] ä½¿ç”¨rankæ¥å†³å®šè°è¿æ¥è° if (rank[pRoot] rank[qRoot])) { parent[qRoot] = pRoot; } else { parent[pRoot] = qRoot; rank[qRoot] += 1; } è·¯å¾„å‹ç¼© find while (p != parent[p]) { parent[p]=parent[parent[p]]; p = parent[p]; } return p; MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-11 07:39:47 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/å›¾.html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/å›¾.html","title":"å›¾","keywords":"","body":"å›¾ ä¸€äº›æ¦‚å¿µ ä¸€ä¸ªå›¾ï¼ˆä¸€èˆ¬è®°ä½œ{\\displaystyle G}Gï¼‰ç”±ä¸¤ç±»å…ƒç´ æ„æˆï¼Œåˆ†åˆ«ç§°ä¸ºé¡¶ç‚¹ï¼ˆæˆ–èŠ‚ç‚¹ã€ç»“ç‚¹ï¼‰å’Œè¾¹ã€‚æ¯æ¡è¾¹æœ‰ä¸¤ä¸ªé¡¶ç‚¹ä½œä¸ºå…¶ç«¯ç‚¹ï¼Œæˆ‘ä»¬ç§°è¿™æ¡è¾¹â€œè¿æ¥â€äº†å®ƒçš„ä¸¤ä¸ªç«¯ç‚¹ åˆ†ç±» æœ‰å‘å›¾ä¸æ— å‘å›¾ æœ‰æƒå›¾ä¸æ— æƒå›¾ è¡¨ç¤ºæ–¹æ³• é‚»æ¥çŸ©é˜µ boolean[][] g; // nä»£è¡¨é¡¶ç‚¹çš„æ•°é‡ï¼Œvä»£è¡¨è¾¹çš„æ•°é‡ int n, m; // åˆ¤æ–­ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦å­˜åœ¨è¾¹ boolean hasEdge(int v, int w) { return g[v][w]; } // ç»™ä¸¤ä¸ªé¡¶ç‚¹å¢åŠ ä¸€æ¡è¾¹ void addEdge(int v, int w) { if (hasEdge(v, w)) { return; } g[v][w] = true; if (!directed) { g[w][v] = true; } m++; } // é‚»æ¥è¡¨ List> g; void addEdge(int v, int w) { g.get(v).add(w); if (!directed && v != w) { g.get(w).add(v); } m++; } boolean hasEdge(int v, int w) { for (int i = 0; i é‚»æ¥è¡¨é€‚åˆè¡¨ç¤ºç¨€ç–çš„å›¾ï¼Œé‚»æ¥çŸ©é˜µé€‚åˆè¡¨ç¤ºç¨ å¯†çš„å›¾ æœç´¢ æ·±åº¦ä¼˜å…ˆ ä»ä¸€ä¸ªç‚¹å¼€å§‹ å¦‚æœè¿™ä¸ªç‚¹æ²¡æœ‰è¢«è®¿é—®è¿‡ åˆ™é€‰æ‹©è¯¥ç‚¹çš„æŸä¸ªè¿æ¥ç‚¹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ ç›´åˆ°æ‰€æœ‰èƒ½è®¿é—®çš„é¡¶ç‚¹éƒ½è¢«è®¿é—®è¿‡ for (int i = 0; i å¹¿åº¦ä¼˜å…ˆ ä»ä¸€ä¸ªç‚¹å¼€å§‹ é€ä¸ªéå†ä¸è¯¥ç‚¹è¿æ¥çš„æ‰€æœ‰é¡¶ç‚¹ åœ¨éå†æŸèŠ‚ç‚¹æ—¶ å°†è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰è¿æ¥ç‚¹å…¥é˜Ÿ æ¯æ¬¡è¿›è¡Œå¹¿åº¦æœç´¢çš„èŠ‚ç‚¹å°±ä»é˜Ÿåˆ—é‡Œé¢æ‹¿ ä¸¤ä¸ªç®—æ³•çš„ä¸åŒä¹‹å¤„åªåœ¨äºè·å–ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æ–¹å¼ä¸ä¸€æ · å¹¿åº¦ä¼˜å…ˆä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æœ€æ—©åŠ å…¥çš„èŠ‚ç‚¹ æ·±åº¦ä¼˜å…ˆä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æœ€æ™šåŠ å…¥çš„èŠ‚ç‚¹ è¿é€šåˆ†é‡ æ— å‘å›¾Gçš„æå¤§è¿é€šå­å›¾ç§°ä¸ºGçš„è¿é€šåˆ†é‡ æœ‰å‘å›¾ è¡¨ç¤º åŒæ ·ä¹Ÿæ˜¯ä½¿ç”¨é‚»æ¥è¡¨è¡¨ç¤º å¯è¾¾æ€§ DFS ä¸ã€€BFSã€€åŒæ ·é€‚ç”¨äºæœ‰å‘å›¾ ç¯ æ‹“æ‰‘æ’åº å°†æ‰€æœ‰é¡¶ç‚¹æ’åºï¼Œä½¿å¾—æ‰€æœ‰çš„æœ‰å‘è¾¹å‡ä»æ’åœ¨å‰é¢çš„å…ƒç´ æŒ‡å‘åé¢çš„å…ƒç´  å¼ºè¿é€šæ€§ å¦‚æœä¸¤ä¸ªé¡¶ç‚¹äº’ç›¸å¯è¾¾ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯å¼ºè¿é€šçš„ æœ‰æƒå›¾ è¡¨ç¤º é‚»æ¥è¡¨ é‚»æ¥è¡¨ ä¸€å‰¯è¿é€šåŠ æƒæ— å‘å›¾ä¸­ä¸€æ£µæƒå€¼æœ€å°çš„ç”Ÿæˆæ ‘ æœ€å°ç”Ÿæˆæ ‘ è´ªå¿ƒç®—æ³• æ‰¾åˆ°æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œä¸æ–­é‡å¤ï¼Œç›´åˆ°æ‰¾åˆ°æ‰€æœ‰æœ€å°ç”Ÿæˆæ ‘çš„æ‰€æœ‰è¾¹ Primç®—æ³• æ¯æ¬¡å°†ä¸€ä¸ªä¸æ ‘èŠ‚ç‚¹è¿æ¥ä½†ä¸åœ¨æ ‘ä¸­ä¸”æƒå€¼æœ€å°çš„è¾¹åŠ å…¥æ ‘ï¼Œç›´è‡³è¾¹æ•°è¾¾åˆ°èŠ‚ç‚¹æ•°-1 kruskalç®—æ³• æ¯æ¬¡å°†æƒå€¼æœ€å°çš„ä¸”ä¸ä¼šæ„æˆç¯çš„è¾¹åŠ å…¥ç”Ÿæˆæ ‘ï¼Œç›´è‡³è¾¹æ•°è¾¾åˆ°èŠ‚ç‚¹æ•°-1 å¦‚ä½•åˆ¤æ–­ç¯ å½“è¾¹åŠ å…¥ä¹‹åï¼Œä½¿ç”¨union findåˆ¤æ–­ä»æŸä¸€èŠ‚ç‚¹æ˜¯å¦è¿æ¥å®ƒè‡ªå·±ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°±æ˜¯æœ‰ç¯ æœ€çŸ­è·¯å¾„ æ‰¾åˆ°ä»ä¸€ä¸ªé¡¶ç‚¹åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹æˆæœ¬æœ€å°çš„è·¯å¾„ Dijkstraç®—æ³• å‰æï¼šå›¾ä¸­ä¸èƒ½å­˜åœ¨è´Ÿæƒè¾¹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-05 01:29:56 "},"ç®—æ³•ä¸æ•°æ®ç»“æ„/å­—ç¬¦ä¸².html":{"url":"ç®—æ³•ä¸æ•°æ®ç»“æ„/å­—ç¬¦ä¸².html","title":"å­—ç¬¦ä¸²","keywords":"","body":"å­—ç¬¦ä¸² æ’åº ä½ä½ä¼˜å…ˆæ’åº public static void sort(String[]a,int W) { int N = a.length; int R = 256; String[] aux = new String[N]; //å¾ªç¯Wæ¬¡é”®ç´¢å¼•è®°æ•°æ³• for(int d = W-1; d>=0;d--) { int[] count = new int[R+1]; //é”®ç´¢å¼•è®°æ•°æ³•ç¬¬ä¸€æ­¥--é¢‘ç‡ç»Ÿè®¡ for(int i=0;i é«˜ä½ä¼˜å…ˆæ’åº public class MSD { private static int R = 256; //å­—ç¬¦ä¸²ä¸­æœ€å¤šå¯èƒ½å‡ºç°çš„å­—ç¬¦çš„æ•°é‡ private static final int M = 15; //å½“å­å­—ç¬¦ä¸²é•¿åº¦å°äºMæ—¶ï¼Œç”¨ç›´æ¥æ’å…¥æ’åº private static String[] aux; //è¾…åŠ©æ•°ç»„ //å®ç°è‡ªå·±çš„chatAt()æ–¹æ³• private static int charAt(String s, int d) { if(d ä¸‰å‘å­—ç¬¦ä¸²å¿«é€Ÿæ’åº public class Quick3string { private static int charAt(String s, int d) { if(dv) exch(a,i,gt--); else i++; } sort(a,lo,lt-1,d); if(v>=0) sort(a,lt,gt,d+1); sort(a,gt+1,hi,d); } } å•è¯æŸ¥æ‰¾æ ‘ æŸ¥æ‰¾ æ’å…¥ æŸ¥è¯¢æ‰€æœ‰é”®ã€€ é€šè¿‡é€’å½’çš„æ–¹å¼ï¼Œå¦‚æœæœ‰åˆ†å‰ï¼Œåˆ™ç”Ÿæˆä¸€ä¸ªç”±pre+branchçš„æ–°å­—ç¬¦ä¸² public Interable keys() { return keysWithPrefix(\"\"); } public Interable keysWithPrefix(String pre) { Queue q = new Queue(); collect(get(root, pre, 0), pre, q); return q; } private void collect(Node x, String pre, Queue q) { if (x == null) return; if (x.val != null) q.enqueue(pre); for (char c = 0; c åˆ é™¤ æ‰¾åˆ°é”®æ‰€å¯¹åº”çš„ç»“ç‚¹å¹¶å°†å®ƒçš„å€¼è®¾ä¸ºç©ºï¼ˆnullï¼‰ã€‚å¦‚æœè¯¥ç»“ç‚¹å«æœ‰ä¸€ä¸ªéç©ºçš„é“¾æ¥æŒ‡å‘æŸä¸ªå­ç»“ç‚¹ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦åœ¨è¿›è¡Œå…¶ä»–æ“ä½œäº†ã€‚å¦‚æœå®ƒçš„æ‰€æœ‰é“¾æ¥å‡ä¸ºç©ºï¼Œé‚£å°±éœ€è¦åœ¨æ•°æ®ç»“æ„ä¸­åˆ å»è¿™ä¸ªç»“ç‚¹ã€‚å¦‚æœåˆ å»å®ƒä½¿å¾—å®ƒçš„çˆ¶ç»“ç‚¹çš„æ‰€æœ‰é“¾æ¥ä¹Ÿå‡ä¸ºç©ºï¼Œå°±éœ€è¦ç»§ç»­åˆ é™¤å®ƒçš„çˆ¶ç»“ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ public void delete(String key) { root = delete (root, key, 0); } private Node delete(Node x, String key, int d) { if (x == null) return null; if (d == key.length()) x.val = null; else { char c = key.charAt(d); x.next[c] = delete(x.next[c], key, d+1); } if (x.val != null) return x; for (char c = 0; c ä¸‰å‘å•è¯æŸ¥æ‰¾æ ‘ åœ¨ä¸‰å‘å•è¯æŸ¥æ‰¾æ ‘ï¼ˆTSTï¼‰ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½å«æœ‰ä¸€ä¸ªå­—ç¬¦ã€ä¸‰æ¡é“¾æ¥å’Œä¸€ä¸ªå€¼ã€‚è¿™ä¸‰æ¡é“¾æ¥åˆ†åˆ«å¯¹åº”ç€å½“å‰å­—æ¯å°äºã€ç­‰äºå’Œå¤§äºç»“ç‚¹å­—æ¯çš„æ‰€æœ‰é”® æŸ¥æ‰¾ å­å­—ç¬¦ä¸²æŸ¥æ‰¾ æš´åŠ›æŸ¥æ‰¾ public static int search(String pat, String txt) { int M = pat.length(); int N = txt.length(); // é€ä¸ªä½ç½®åŒ¹é…æ¨¡å¼å­—ç¬¦ä¸² for (int i = 0; i æš´åŠ›æŸ¥æ‰¾(æ˜¾å¼å›é€€) public static int searchother(String pat, String txt) { int M = pat.length(); int N = txt.length(); int i; int j; // é€ä¸ªä½ç½®åŒ¹é…æ¨¡å¼å­—ç¬¦ä¸² for (i = 0, j = 0; i KMPç®—æ³• æ ¹æ®æ¨¡å¼æ„é€ ä¸€ä¸ªDFA,ä½¿ç”¨DFAåŒ¹é… BMç®—æ³• RKæŒ‡çº¹å­—ç¬¦æŸ¥æ‰¾ç®—æ³• æ­£åˆ™è¡¨è¾¾å¼ è¿æ¥ AB -> {AB} æˆ– ï¼¡|B -> {A,B} é—­åŒ… ï¼¢* -> 0ä¸ªæˆ–å¤šä¸ªï¼¢ æ„é€ æ­£åˆ™è¡¨è¾¾å¼ æ•°æ®å‹ç¼© æ¸¸ç¨‹ç¼–ç  è¡Œç¨‹ç¼–ç ï¼ˆRun Length Encodingï¼ŒRLE), åˆç§°æ¸¸ç¨‹ç¼–ç ã€è¡Œç¨‹é•¿åº¦ç¼–ç ã€å˜åŠ¨é•¿åº¦ç¼–ç  ç­‰ï¼Œæ˜¯ä¸€ç§ç»Ÿè®¡ç¼–ç ã€‚ä¸»è¦æŠ€æœ¯æ˜¯æ£€æµ‹é‡å¤çš„æ¯”ç‰¹æˆ–å­—ç¬¦åºåˆ—ï¼Œå¹¶ç”¨å®ƒä»¬çš„å‡ºç°æ¬¡æ•°å–è€Œä»£ä¹‹ éœå¤«æ›¼å‹ç¼© ç”¨è¾ƒå°‘çš„æ¯”ç‰¹è¡¨ç¤ºå‡ºç°æ¬¡æ•°å¤šçš„å­—ç¬¦ï¼Œç”¨è¾ƒå¤šçš„æ¯”ç‰¹è¡¨ç¤ºå‡ºç°é¢‘ç‡ä½çš„å­—ç¬¦ å˜é•¿å‰ç¼€ ä½¿ç”¨å•è¯æŸ¥æ‰¾æ ‘å®ç° LZWå‹ç¼© LZWç¼–ç  (Encoding) çš„æ ¸å¿ƒæ€æƒ³å…¶å®æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯æŠŠå‡ºç°è¿‡çš„å­—ç¬¦ä¸²æ˜ å°„åˆ°è®°å·ä¸Šï¼Œè¿™æ ·å°±å¯èƒ½ç”¨è¾ƒçŸ­çš„ç¼–ç æ¥è¡¨ç¤ºé•¿çš„å­—ç¬¦ä¸²ï¼Œå®ç°å‹ç¼© LZWçš„ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³ï¼Œå³å‹ç¼©åçš„ç¼–ç æ˜¯è‡ªè§£é‡Š (self-explaining) çš„ã€‚ä»€ä¹ˆæ„æ€ï¼Ÿå³å­—å…¸æ˜¯ä¸ä¼šè¢«å†™è¿›å‹ç¼©æ–‡ä»¶çš„ï¼Œåœ¨è§£å‹ç¼©çš„æ—¶å€™ï¼Œä¸€å¼€å§‹å­—å…¸é‡Œé™¤äº†é»˜è®¤çš„0->Aå’Œ1->Bä¹‹å¤–å¹¶æ²¡æœ‰å…¶å®ƒæ˜ å°„ï¼Œ2->ABæ˜¯åœ¨è§£å‹ç¼©çš„è¿‡ç¨‹ä¸­ä¸€è¾¹åŠ å…¥çš„ã€‚è¿™å°±è¦æ±‚å‹ç¼©åçš„æ•°æ®è‡ªå·±èƒ½å‘Šè¯‰è§£ç å™¨ï¼Œå®Œæ•´çš„å­—å…¸ï¼Œä¾‹å¦‚2->ABæ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Œåœ¨è§£ç çš„è¿‡ç¨‹ä¸­è¿˜åŸå‡ºç¼–ç æ—¶ç”¨çš„å­—å…¸ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-06 13:20:51 "},"æ•°æ®åº“ç³»ç»Ÿ/å…³ç³»æ•°æ®åº“/å¼•è¨€.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/å…³ç³»æ•°æ®åº“/å¼•è¨€.html","title":"ğŸ’¾æ•°æ®åº“ç³»ç»Ÿ","keywords":"","body":"å¼•è¨€ æ•°æ®åº“ æ•°æ®åº“æ˜¯â€œæŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“â€ã€‚æ˜¯ä¸€ä¸ªé•¿æœŸå­˜å‚¨åœ¨è®¡ç®—æœºå†…çš„ã€æœ‰ç»„ç»‡çš„ã€æœ‰å…±äº«çš„ã€ç»Ÿä¸€ç®¡ç†çš„æ•°æ®é›†åˆ åˆ†ç±» å…³ç³»å‹ éå…³ç³»å‹ æ•°æ®åº“ç³»ç»Ÿçš„åº”ç”¨ ä¼ä¸šä¿¡æ¯ã€é“¶è¡Œå’Œé‡‘èã€å¤§å­¦ã€èˆªç©ºä¸šã€ç”µä¿¡ä¸šã€‚ æ•°æ®åº“çš„4ä¸ªåŸºæœ¬æ¦‚å¿µ æ•°æ®ï¼šæè¿°äº‹ç‰©çš„ç¬¦å·è®°å½• æ•°æ®åº“ æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ æ•°æ®åº“ç³»ç»Ÿæ•°æ®ç³»ç»Ÿçš„ç‰¹ç‚¹ æ•°æ®ç»“æ„åŒ– æ•°æ®å…±äº«æ€§é«˜ã€å†—ä½™åº¦ä½ä¸”æ˜“äºæ‰©å…… æ•°æ®ç‹¬ç«‹æ€§é«˜ æ•°æ®ç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç»Ÿä¸€ç®¡ç†å’Œæ§åˆ¶æ•°æ®åº“ç³»ç»Ÿçš„ç›®æ ‡ æ–‡ä»¶å¤„ç†ç³»ç»Ÿçš„å¼Šç«¯ 1.æ•°æ®å†—ä½™å’Œä¸ä¸€è‡´ 2.æ•°æ®è®¿é—®å›°éš¾ 3.æ•°æ®å­¤ç«‹ 4.å®Œæ•´æ€§é—®é¢˜ 5.åŸå­æ€§é—®é¢˜ 6.å¹¶å‘è®¿é—®å¼‚å¸¸ 7.å®‰å…¨æ€§é—®é¢˜ æ•°æ®åº“çš„å‡ºç°å°±æ˜¯ä¸ºè§£å†³è¿™äº›é—®é¢˜æ•°æ®è§†å›¾ æ•°æ®æŠ½è±¡ ç‰©ç†å±‚->é€»è¾‘å±‚->è§†å›¾å±‚å®ä¾‹å’Œæ¨¡å¼ å®ä¾‹ï¼šç‰¹å®šæ—¶åˆ»å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä¿¡æ¯é›†åˆ æ¨¡å¼ï¼šæ•°æ®åº“çš„æ•´ä½“è®¾è®¡ å› æ­¤ï¼Œæ•°æ®åº“ç³»ç»Ÿé€šå¸¸å¯ä»¥åˆ†ä¸ºå‡ ç§ä¸åŒçš„æ¨¡å¼ï¼š ç‰©ç†æ¨¡å¼ï¼šæè¿°æ•°æ®åº“åœ¨ç‰©ç†ä¸Šçš„è®¾è®¡ é€»è¾‘æ¨¡å¼ï¼šæè¿°åœ¨é€»è¾‘å±‚æ•°æ®åº“çš„è®¾è®¡ ç”¨æˆ·æ¨¡å¼ï¼šæ•°æ®åº“ç”¨æˆ·çš„è§†å›¾ï¼Œæ˜¯ä¸æŸä¸€ç”¨æˆ·æœ‰å…³çš„æ•°æ®çš„é€»è¾‘è¡¨ç¤º æ•°æ®æ¨¡å‹ å®šä¹‰ï¼šæ•°æ®åº“ç»“æ„çš„åŸºç¡€ å…³ç³»æ¨¡å‹ï¼šç”¨è¡¨çš„é›†åˆæ¥è¡¨ç¤ºæ•°æ®å’Œæ•°æ®é—´çš„è”ç³» å®ä½“-è”ç³»æ¨¡å‹ï¼šåŸºäºå¯¹ç°å®ä¸–ç•Œè¿™æ ·çš„ä¸€ç§è®¤è¯†ï¼Œç°å®ä¸–ç•Œç”±ä¸€ç»„ç§°ä¸ºå®ä½“çš„åŸºæœ¬å¯¹è±¡é—´çš„è”ç³»æ„æˆ åŸºäºå¯¹è±¡çš„æ•°æ®æ¨¡å‹ï¼šç±»ä¼¼JAVAç­‰OOPè¯­è¨€çš„é¢å‘å¯¹è±¡ç‰¹æ€§ åŠç»“æ„åŒ–æ•°æ®æ¨¡å‹ï¼šå¦‚XMLæ•°æ®åº“è¯­è¨€ æ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼‰ è¿‡ç¨‹åŒ–DML å£°æ˜å¼DMLæ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰ å®šä¹‰ï¼šé€šè¿‡DDLæ¥è¯´æ˜æ•°æ®åº“æ‰€ä½¿ç”¨çš„å­˜å‚¨ç»“æ„å’Œè®¿é—®æ–¹å¼ä¸€è‡´æ€§çº¦æŸ åŸŸçº¦æŸï¼šå±æ€§çš„çº¦æŸ å‚ç…§å®Œæ•´æ€§ æ–­è¨€ æˆæƒå…³ç³»æ•°æ®åº“ è¡¨ æ•°æ®åº“è¡¨æ˜¯ä¸€ç³»åˆ—äºŒç»´æ•°ç»„çš„é›†åˆï¼Œç”¨æ¥ä»£è¡¨å’Œå‚¨å­˜æ•°æ®å¯¹è±¡ä¹‹é—´çš„å…³ç³»æ•°æ®æ“çºµè¯­è¨€ ç‰¹ç‚¹ï¼šéè¿‡ç¨‹åŒ–ï¼ˆå‘Šè¯‰å®ƒåšè¯´æ˜ï¼Œè€Œä¸å¿…å‘Šè¯‰å®ƒæ€ä¹ˆåšï¼‰SELECT * FROM user where age = 15 # ä»userè¡¨å–å‡ºage = 15 çš„ç”¨æˆ·æ‰€æœ‰åˆ— æ•°æ®å®šä¹‰è¯­è¨€ CREATE TABLE user(id INT,name VARCHAR(255)) # åˆ›å»ºä¸€å¼ userè¡¨ï¼Œè¿™ç§è¡¨æœ‰idã€nameä¸¤ä¸ªå­—æ®µ åº”ç”¨ç¨‹åºè®¿é—®æ•°æ®åº“ é€šè¿‡æä¾›åº”ç”¨ç¨‹åºæ¥å£ï¼šå¦‚ODBCä¸JDBC æ‰©å±•å®¿ä¸»è¯­è¨€ï¼šæä¾›ä¸€ä¸ªé¢„å¤„ç†ï¼Œå°†DMLè¯­è¨€è½¬æ¢æˆå®¿ä¸»çš„è¯­è¨€è°ƒç”¨æ•°æ®åº“è®¾è®¡ è®¾è®¡è¿‡ç¨‹ æ¦‚å¿µè®¾è®¡ï¼šè¿›è¡Œå»ºæ¨¡ï¼Œå†³å®šæ•°æ®åº“åº”è¯¥è¦æœ‰å“ªäº›å®ä½“ï¼Œå®ä½“è¦æœ‰å“ªäº›å±æ€§ã€‚æ¯”å¦‚ä½¿ç”¨ERæ¨¡å‹è¿›è¡Œè®¾è®¡ã€‚ é€»è¾‘è®¾è®¡ï¼šå°†æ¦‚å¿µè®¾è®¡å¾—åˆ°çš„æ¨¡å‹æ˜ å°„åˆ°æ•°æ®æ‰€ä½¿ç”¨çš„æ¨¡å‹ä¸Šã€‚ ç‰©ç†è®¾è®¡ï¼šåŒ…æ‹¬æ–‡ä»¶ç»„ç»‡çš„å½¢å¼ä»¥åŠå†…éƒ¨çš„å­˜å‚¨ç»“æ„ã€‚å®ä½“è”ç³»æ¨¡å‹ å³ERæ¨¡å‹ å®ä½“ å±æ€§ è”ç³» å®ä½“é›† è”ç³»é›†æ˜ å°„åŸºæ•° å³1:N 1:1 M:Nè§„èŒƒåŒ– ä¸å¥½çš„è®¾è®¡ ä¿¡æ¯é‡å¤ ç¼ºä¹è¡¨è¾¾æŸäº›ä¿¡æ¯çš„èƒ½åŠ›æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢ å­˜å‚¨ç®¡ç†å™¨ æƒé™åŠå®Œæ•´æ€§ç®¡ç†å™¨ äº‹åŠ¡ç®¡ç†å™¨ æ–‡ä»¶ç®¡ç†å™¨ ç¼“å†²åŒºç®¡ç†å™¨ æ•°æ®æ–‡ä»¶ æ•°æ®å­—å…¸ ç´¢å¼•æŸ¥è¯¢å¤„ç†å™¨ DDLè§£é‡Šå™¨ DMLç¼–è¯‘å™¨ æŸ¥è¯¢æ‰§è¡Œå¼•æ“äº‹åŠ¡ç®¡ç† ç‰¹æ€§ï¼šAï¼ˆåŸå­æ€§ï¼‰Cï¼ˆä¸€è‡´æ€§ï¼‰Iï¼ˆéš”ç¦»æ€§ï¼‰Dï¼ˆæŒä¹…æ€§ï¼‰äº‹åŠ¡ å®šä¹‰ï¼šæ•°æ®åº“åº”ç”¨ä¸­å®Œæˆå•ä¸€é€»è¾‘åŠŸèƒ½çš„æ“ä½œé›†åˆæ•°æ®åº“ä½“ç³»ç»“æ„ ä¸¤å±‚ä½“ç³»ç»“æ„ï¼šå®¢æˆ·ç«¯ç›´æ¥ä¸æ•°æ®è¿›è¡Œäº¤äº’ ä¸‰å±‚ä½“ç³»ç»“æ„ï¼šå®¢æˆ·ç«¯é€šè¿‡ä¸€ä¸ªæœåŠ¡ç«¯ä¸æ•°æ®è¿›è¡Œäº¤äº’æ•°æ®æŒ–æ˜ä¸ä¿¡æ¯æ£€ç´¢ æ•°æ®æŒ–æ˜å®šä¹‰ï¼šä»æ•°æ®åº“ä¸­å‘ç°çŸ¥è¯†ç‰¹ç§æ•°æ®åº“ é¢å‘å¯¹è±¡æ•°æ®åº“ åŠç»“æ„åŒ–æ•°æ®åº“æ•°æ®åº“ç³»ç»Ÿçš„å†å² 1950s-1960sï¼šç£å¸¦å­˜å‚¨ 1960s-1970sï¼šç¡¬ç›˜ 1980sï¼šå…³ç³»æ•°æ®åº“å–ä»£ç½‘çŠ¶æ•°æ®åº“ 1990sï¼šäº’è”ç½‘ä¸æ•°æ®åº“ 2000sï¼šæ•°æ®åˆ†æä¸æ•°æ®åº“ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-11-25 06:10:39 "},"æ•°æ®åº“ç³»ç»Ÿ/leetcode.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/leetcode.html","title":"leetcode","keywords":"","body":"leetcode ç»„åˆä¸¤ä¸ªè¡¨ https://leetcode-cn.com/problems/combine-two-tables/ SELECT FirstName, LastName,Address.City,Address.State FROM Person LEFT JOIN Address ON Address.PersonId = Person.PersonId å¤§çš„å›½å®¶ https://leetcode-cn.com/problems/big-countries/ SELECT name,population,area FROM World WHERE area >= 3000000 OR population >= 25000000 æŸ¥æ‰¾é‡å¤çš„ç”µå­é‚®ç®± https://leetcode-cn.com/problems/duplicate-emails/ SELECT DISTINCT Email FROM Person AS t WHERE EXISTS( SELECT * FROM Person AS t1 WHERE t.Id <> t1.Id AND t.Email = t1.Email) è¶…è¿‡ç»ç†æ”¶å…¥çš„å‘˜å·¥ https://leetcode-cn.com/problems/employees-earning-more-than-their-managers/ SELECT Name AS Employee FROM Employee t1 WHERE Salary > (SELECT Salary FROM Employee AS t2 WHERE t2.Id = t1.ManagerId) ä»ä¸è®¢è´­çš„å®¢æˆ· https://leetcode-cn.com/problems/customers-who-never-order/ SELECT Name AS Customers FROM Customers WHERE Customers.Id NOT IN (SELECT CustomerId FROM Orders) æœ‰è¶£çš„ç”µå½± https://leetcode-cn.com/problems/not-boring-movies/ SELECT * FROM cinema WHERE description <> 'boring' AND id %2 =1 ORDER BY rating DESC è¶…è¿‡5åå­¦ç”Ÿçš„è¯¾ https://leetcode-cn.com/problems/classes-more-than-5-students/ -- æ³¨æ„å¯¹å­¦ç”Ÿå§“åå»é‡ SELECT class FROM courses GROUP BY class HAVING COUNT(DISTINCT student) >=5 äº¤æ¢æ€§åˆ« https://leetcode-cn.com/problems/swap-salary/submissions/ UPDATE salary SET sex = CASE sex WHEN 'f' THEN 'm' WHEN 'm' THEN 'f' END ä¸Šå‡çš„æ¸©åº¦ https://leetcode-cn.com/problems/rising-temperature/submissions/ SELECT t2.Id FROM Weather AS t2, Weather AS t1 WHERE DATE_SUB(t2.RecordDate, INTERVAL 1 DAY) = t1.RecordDate AND t2.Temperature > t1.Temperature éƒ¨é—¨å·¥èµ„æœ€é«˜çš„å‘˜å·¥ https://leetcode-cn.com/problems/department-highest-salary/submissions/ SELECT Department.Name AS Department, t1.Name AS Employee, Salary FROM Employee AS t1 JOIN Department ON DepartmentId = Department.Id WHERE t1.Salary = ( SELECT Salary FROM Employee AS t2 WHERE t1.DepartmentId = t2.DepartmentId ORDER BY Salary DESC LIMIT 1 ) MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-23 09:06:48 "},"æ•°æ®åº“ç³»ç»Ÿ/å…³ç³»æ•°æ®åº“/å½¢å¼åŒ–å…³ç³»æŸ¥è¯¢è¯­è¨€.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/å…³ç³»æ•°æ®åº“/å½¢å¼åŒ–å…³ç³»æŸ¥è¯¢è¯­è¨€.html","title":"å½¢å¼åŒ–å…³ç³»æŸ¥è¯¢è¯­è¨€","keywords":"","body":"å½¢å¼åŒ–å…³ç³»æŸ¥è¯¢è¯­è¨€ å…³ç³»ä»£æ•° åŸºæœ¬è¿ç®— é€‰æ‹© (Ïƒ)ï¼šå¯¹åº”SQLä¸­çš„WHEREå­å¥ æŠ•å½± (Ï€)ï¼šå¯¹åº”SQLä¸­SELECT ä¸­é€‰æ‹©åˆ—ï¼ˆåŠ ä¸ŠDISTINCTå…³é”®å­—ï¼‰ï¼Œå› ä¸ºæŠ•å½±ä¼šå»é™¤é‡å¤ç»“æœ å¹¶è¿ç®—ï¼šâˆª é›†åˆå·®è¿ç®—ï¼š- ç¬›å¡å°”ç§¯è¿ç®—ï¼š è¡¨1ï¼š name age å°æ˜ 15 å°çº¢ 16 è¡¨2ï¼š grade school 5 ä¸­å¿ƒå°å­¦ 6 ä¸­å¿ƒå°å­¦ ä¸¤å¼ è¡¨çš„ç¬›å¡å°”ç§¯æ˜¯ï¼š name age grade school å°æ˜ 15 5 ä¸­å¿ƒå°å­¦ å°çº¢ 16 6 ä¸­å¿ƒå°å­¦ å°æ˜ 15 6 ä¸­å¿ƒå°å­¦ å°çº¢ 16 5 ä¸­å¿ƒå°å­¦ æ›´åè¿ç®— Ïè¡¨ç¤ºæ›´åï¼š Ïx(a1,a2,a3..)(E) è¡¨ç¤ºå°†è¡¨è¾¾å¼Eå‘½åä¸ºxï¼Œå¹¶ä¸”æŠŠå„é¡¹å±æ€§å€¼å‘½åä¸ºa1ï¼Œa2... å…³ç³»ä»£æ•°çš„å½¢å¼åŒ–å®šä¹‰ å…³ç³»ä»£æ•°ä¸­åŸºæœ¬çš„è¡¨è¾¾å¼æ˜¯ï¼š æ•°æ®åº“ä¸­çš„ä¸€ä¸ªå…³ç³» ä¸€ä¸ªå¸¸æ•°å…³ç³» å¸¸æ•°å…³ç³»å¯ä»¥ç†è§£ä¸ºï¼ˆ1ï¼Œ2ï¼Œ,3..ï¼‰å¸¸æ•°é›†åˆé™„åŠ çš„å…³ç³»ä»£æ•°è¿ç®— é›†åˆäº¤è¿ç®—ï¼šâˆ© è‡ªç„¶è¿æ¥è¿ç®—ï¼šâ‹ˆ èµ‹å€¼è¿ç®—ï¼šâ†ï¼ˆæ¯”å¦‚temp1 â† R X Sï¼‰ å¤–è¿æ¥è¿ç®— å·¦å¤–è¿æ¥ï¼šâŸ•ï¼Œä¿ç•™å·¦è¾¹çš„å€¼ å³å¤–è¿æ¥ï¼šâŸ–ï¼Œä¿ç•™å³è¾¹çš„å€¼ å…¨å¤–è¿æ¥ï¼šâŸ—æ‰©å±•çš„å…³ç³»ä»£æ•°è¿ç®— å¹¿ä¹‰æŠ•å½± èšé›† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-06-09 15:18:10 "},"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®åº“è®¾è®¡/æ•°æ®åº“è®¾è®¡å’ŒERæ¨¡å‹.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®åº“è®¾è®¡/æ•°æ®åº“è®¾è®¡å’ŒERæ¨¡å‹.html","title":"æ•°æ®åº“è®¾è®¡å’ŒERæ¨¡å‹","keywords":"","body":"æ•°æ®åº“è®¾è®¡å’ŒERæ¨¡å‹ è®¾è®¡è¿‡ç¨‹æ¦‚è§ˆ è®¾è®¡é˜¶æ®µ éœ€æ±‚åˆ†æ æ¦‚å¿µè®¾è®¡ é€»è¾‘è®¾è®¡ ç‰©ç†è®¾è®¡ è®¾è®¡é€‰æ‹© åœ¨è®¾è®¡æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿é¿å…ä¸¤ä¸ªä¸»è¦çš„ç¼ºé™·ï¼š å†—ä½™ ä¸å®Œæ•´ å®ä½“ - è”ç³»æ¨¡å‹ å®ä½“é›† å®ä½“ï¼šå¯¹è±¡ å®ä½“é›†ï¼šå®ä½“æ„æˆçš„é›†åˆ å®ä½“é€šè¿‡ä¸€ç»„å±æ€§æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªå€¼ã€‚ è”ç³»é›† è”ç³»æ˜¯æŒ‡å¤šä¸ªå®ä½“é—´çš„ç›¸äº’å…³è” è”ç³»é›†å°±æ˜¯ç›¸åŒç±»å‹è”ç³»çš„é›†åˆ å®ä½“åœ¨è”ç³»ä¸­æ‰®æ¼”çš„åŠŸèƒ½ç§°ä¸ºå®ä½“çš„è§’è‰² è”ç³»ä¹Ÿå¯ä»¥å…·æœ‰æè¿°æ€§å±æ€§ å±æ€§ æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªå¯å–å€¼çš„é›†åˆï¼Œç§°ä¸ºè¯¥å±æ€§çš„åŸŸ å±æ€§ç±»å‹çš„åˆ’åˆ†ï¼š ç®€å•å’Œå¤åˆ å•å€¼å’Œå¤šå€¼ æ´¾ç”Ÿå±æ€§ çº¦æŸ æ˜ å°„åŸºæ•° ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š å¤šå¯¹ä¸€ å¤šå¯¹å¤š å‚ä¸çº¦æŸ å…¨éƒ¨å‚ä¸ éƒ¨åˆ†å‚ä¸ ç  å®ä½“çš„ç æ˜¯ä¸€ä¸ªè¶³ä»¥åˆ†åŒºæ¯ä¸ªå®ä½“çš„å±æ€§é›† åŒæ ·ï¼Œç ä¹Ÿå¯ä»¥ç”¨äºå”¯ä¸€æ ‡è¯†è”ç³» ä»å®ä½“é›†ä¸­åˆ é™¤å†—ä½™å±æ€§ å½“å†³å®šå¥½å®ä½“é›†åï¼Œå¿…é¡»æŒ‘é€‰åˆé€‚çš„å±æ€§ å®ä½“ - è”ç³» å›¾ï¼ˆERå›¾ï¼‰ åŸºæœ¬ç»“æ„ åˆ†å‰²æˆä¸¤éƒ¨åˆ†çš„çŸ©å½¢ï¼šå®ä½“é›† è±å½¢ï¼šè”ç³»é›† æœªåˆ†å‰²çš„çŸ©å½¢ï¼šè”ç³»é›†çš„å±æ€§ çº¿æ®µï¼šå®ä½“é›†ä¸è”ç³»é›†çš„è¿æ¥ è™šçº¿ï¼šè”ç³»é›†åˆ°è”ç³»é›†çš„è¿æ¥ åŒçº¿ï¼šå®ä½“åœ¨è”ç³»é›†ä¸­çš„å‚ä¸åº¦ åŒè±å½¢ï¼šè¿æ¥åˆ°å¼±å®ä½“é›†çš„æ ‡å¿—æ€§è”ç³»é›† å¸¦ç®­å¤´çš„çº¿ï¼šä»£è¡¨ç®­å¤´æ‰€æŒ‡çš„é‚£æ–¹å®ä½“æ˜ å°„åŸºæ•°ä¸º1 ä¸å¸¦ç®­å¤´çš„çº¿ï¼šä»£è¡¨ç®­å¤´æ‰€æŒ‡çš„é‚£æ–¹å®ä½“æ˜ å°„åŸºæ•°ä¸ºå¤š å¤æ‚çš„å±æ€§ æ¯”å¦‚ Address - city - street è§’è‰² é€šè¿‡å†è±å½¢å’ŒçŸ©å½¢ä¹‹é—´çš„è¿çº¿ä¸Šè¿›è¡Œæ ‡æ³¨æ¥è¡¨ç¤ºè§’è‰² éäºŒå…ƒçš„è”ç³»é›† å³ä¸€ä¸ªè”ç³»è¿æ¥äº†ä¸¤ä¸ªä»¥ä¸Šçš„å®ä½“ ç»§æ‰¿å…³ç³» å¼±å®ä½“é›† æ²¡æœ‰è¶³å¤Ÿçš„å±æ€§ä»¥å½¢æˆä¸»ç çš„å®ä½“é›†ç§°ä¸ºå¼±å®ä½“é›† æœ‰ä¸»ç çš„å®ä½“é›†ç§°ä¸ºå¼ºå®ä½“é›† è½¬æ¢ä¸ºå…³ç³»æ¨¡å¼ å…·æœ‰ç®€å•å±æ€§çš„å¼ºå®ä½“é›†è¡¨ç¤º æ¯”å¦‚å®ä½“é›†studentï¼Œæœ‰ä¸‰ä¸ªå±æ€§ï¼šIDã€nameã€credit å¯ä»¥è½¬æ¢æˆå¦‚ä¸‹å…³ç³»æ¨¡å¼ï¼š student(ID,name,credit) å…·æœ‰å¤æ‚å±æ€§çš„å¼ºå®ä½“é›†çš„è¡¨ç¤º æ¯”å¦‚studentæœ‰ä¸€ä¸ªå±æ€§addressï¼Œåˆæœ‰å­å±æ€§cityï¼Œstreetï¼Œ é‚£ä¹ˆå¯ç”Ÿæˆå…³ç³»æ¨¡å¼ï¼š student(ID,name,credit,city,street) å¼±å®ä½“é›†çš„è¡¨ç¤º è®¾Aä¸ºä¸€ä¸ªå¼±å®ä½“é›†ï¼ŒBä¸ºAæ‰€ä¾èµ–çš„ä¸€ä¸ªå¼ºå®ä½“é›†ã€‚ é‚£ä¹ˆå¯ä»¥åˆ›å»ºä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼š B(a1,a2,a3,x)ï¼Œå…¶ä¸­a1ï¼Œa2ï¼Œa3ä¸ºBçš„å±æ€§ï¼Œxä¸ºBåˆ°Açš„å¤–é”®çº¦æŸ è”ç³»é›†çš„è¡¨ç¤º è®¾Rä¸ºè”ç³»é›†ï¼Œa1ï¼Œa2...anä¸ºå‚ä¸Rçš„å®ä½“é›†æ„æˆçš„å±æ€§é›†åˆï¼Œ b1ï¼Œb2...bnä¸ºRçš„å±æ€§ï¼Œåˆ™Rçš„å±æ€§ä¸ºï¼š {a1,a2..an}âˆª{b1,b2,...bn} å¦‚ä½•é€‰å–ä¸»ç ï¼š å¯¹äºå¤šå¯¹å¤šçš„äºŒå…ƒè”ç³»ï¼šå‚ä¸å®ä½“é›†çš„ä¸»ç å±æ€§å¹¶é›†æˆä¸ºä¸»ç  å¯¹äºä¸€å¯¹ä¸€çš„è”ç³»é›†ï¼šä»»ä½•ä¸€ä¸ªå®ä½“çš„ä¸»ç éƒ½å¯ä»¥é€‰ä½œä¸ºä¸»ç  å¯¹äºå¤šå¯¹ä¸€æˆ–è€…ä¸€å¯¹å¤šï¼šå¤šçš„é‚£ä¸€æ–¹çš„å®ä½“é›†å¯ä»¥é€‰å–ä½œä¸ºä¸»ç  æ¨¡å¼å†—ä½™ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿æ¥å¼±å®ä½“é›†ä¸å…¶æ‰€ä¾èµ–çš„å¼ºå®ä½“é›†çš„è”ç³»é›†æ¨¡å¼æ˜¯å†—ä½™çš„ã€‚ æ¨¡å¼çš„åˆå¹¶ åœ¨ä¸€å¯¹ä¸€çš„è”ç³»çš„æƒ…å†µä¸‹ï¼šè”ç³»é›†çš„å…³ç³»æ¨¡å¼å¯ä»¥è·Ÿå‚ä¸è”ç³»çš„ä»»ä½•ä¸€ä¸ªå®ä½“é›†çš„æ¨¡å¼è¿›è¡Œåˆå¹¶å®ä½“-è”ç³»è®¾è®¡é—®é¢˜ ç”¨å®ä½“é›†è¿˜æ˜¯ç”¨å±æ€§ ä»€ä¹ˆæ„æˆå®ä½“é›†ï¼Œä»€ä¹ˆæ„æˆå±æ€§ï¼Ÿè¿™ä¸ªé—®é¢˜è¦æ ¹æ®ç°å®æƒ…å†µè¿›è¡Œå›ç­”ã€‚ ä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯ç”¨ä¸€ä¸ªå®ä½“é›†çš„ä¸»ç ä½œä¸ºå¦ä¸€ä¸ªå®ä½“é›†çš„å±æ€§ï¼Œè€Œä¸æ˜¯ç”¨è”ç³» å¦ä¸€ä¸ªé”™è¯¯æ˜¯å°†ç›¸å…³å®ä½“é›†çš„ä¸»ç å±æ€§ä½œä¸ºè”ç³»é›†çš„å±æ€§ç”¨å®ä½“é›†è¿˜æ˜¯ç”¨è”ç³»é›† ä¸€ä¸ªåŸåˆ™æ˜¯ï¼šå½“æè¿°å‘ç”Ÿåœ¨å®ä½“é—´çš„è¡Œä¸ºæ—¶é‡‡ç”¨è”ç³»é›†äºŒå…ƒè¿˜æ˜¯nå…ƒè”ç³»é›† æ•°æ®åº“ä¸­çš„è”ç³»é€šå¸¸éƒ½æ˜¯äºŒå…ƒçš„ã€‚ ä¸€äº›éäºŒå…ƒçš„è”ç³»å¯ä»¥é€šè¿‡æ‹†åˆ†åˆ†ä¸ºäºŒå…ƒè”ç³»ï¼Œä½†æ˜¯è¿™æ ·åšï¼Œæœ‰æ—¶å¹¶ä¸é‚£ä¹ˆè‡ªç„¶è”ç³»å±æ€§çš„å¸ƒå±€ å±æ€§æ”¾åˆ°å“ªé‡Œï¼Œæ˜¯å®ä½“é›†è¿˜æ˜¯è”ç³»é›†ï¼Ÿ è¿™ä¹Ÿæ˜¯è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œå†³å®šæ‰©å±•çš„E-Rç‰¹æ€§ ç‰¹åŒ– è‡ªé¡¶å‘ä¸‹çš„ï¼Œå¯ä»¥çœ‹åšOOPå½“ä¸­çˆ¶ç±»è½¬æ¢æˆå­ç±»çš„è¿™ä¹ˆæ ·ä¸€ä¸ªè¿‡ç¨‹æ¦‚åŒ– åŒä¸Šï¼Œç±»ä¼¼äºOOPä¸­çš„å‘ä¸Šè½¬å‹å±æ€§ç»§æ‰¿ é«˜å±‚å®ä½“é›†çš„å±æ€§å¯ä»¥è¢«åº•å±‚å®ä½“é›†ç»§æ‰¿æ¦‚åŒ–ä¸Šçš„çº¦æŸ æ•°æ®åº“è®¾è®¡è€…å¯ä»¥å†³å®šå“ªäº›å®ä½“èƒ½æˆä¸ºç»™å®šä½å±‚å®ä½“é›†çš„æˆå‘˜ï¼Œæ¡ä»¶å¯ä»¥å¦‚ä¸‹ï¼š æ¡ä»¶å®šä¹‰ ç”¨æˆ·å®šä¹‰èšé›† E-Ræ¨¡å‹çš„ä¸€ä¸ªå±€é™æ€§åœ¨äºå®ƒä¸èƒ½è¡¨è¾¾è”ç³»é—´çš„è”ç³»ã€‚ èšé›†æ˜¯ä¸€ç§æŠ½è±¡ï¼Œå®ƒæŠŠè”ç³»è§†ä¸ºé«˜å±‚å®ä½“ï¼Œè¿™æ ·å°±å¯ä»¥è¡¨è¾¾è”ç³»ä¹‹é—´çš„è”ç³»äº†è½¬æ¢ä¸ºå…³ç³»æ¨¡å¼ æ¦‚åŒ–çš„è¡¨ç¤º ä¸ºé«˜å±‚å®ä½“é›†åˆ›å»ºä¸€ä¸ªæ¨¡å¼ï¼Œä¸ºæ¯ä¸ªä½å±‚å®ä½“é›†åˆ›å»ºä¸€ä¸ªæ¨¡å¼ å¦‚æœæ¦‚åŒ–æ˜¯ä¸ç›¸äº¤å¹¶ä¸”å®Œå…¨çš„ï¼Œå°±æ˜¯è¯´ä¸å­˜åœ¨åŒæ—¶å±äºä¸¤ä¸ªåŒçº§çš„ä½å±‚å®ä½“é›†çš„å®ä½“èšé›†çš„è¡¨ç¤º èšé›†çš„ä¸»ç æ˜¯å®šä¹‰è¯¥èšé›†çš„è”ç³»é›†çš„ä¸»ç æ•°æ®åº“å»ºæ¨¡çš„å…¶ä»–è¡¨ç¤ºæ³• ERå›¾çš„å…¶ä»–è¡¨ç¤ºæ³• ç»Ÿä¸€å»ºæ¨¡è¯­è¨€UMLæ•°æ®åº“è®¾è®¡çš„å…¶ä»–æ–¹é¢ æ•°æ®çº¦æŸå’Œå…³ç³»æ•°æ®åº“è®¾è®¡ æ˜¾ç¤ºå£°æ˜çº¦æŸçš„ä¼˜ç‚¹ï¼š è‡ªåŠ¨ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ ä¸€äº›çº¦æŸåœ¨æ•°æ®åº“æ¨¡å¼çš„è®¾è®¡ä¸­éå¸¸æœ‰ç”¨ å½“ç„¶ä¹Ÿå¯ä»¥æé«˜è®¿é—®æ•ˆç‡ ç¼ºç‚¹ï¼š ä½†æ˜¯åœ¨æ•°æ®æ›´æ–°æ—¶ï¼Œæ‰§è¡Œçº¦æŸä¼šåœ¨æ€§èƒ½ä¸Šå¸¦æ¥æ½œåœ¨çš„é«˜ä»£ä»·ä½¿ç”¨éœ€æ±‚ï¼šæŸ¥è¯¢ã€æ€§èƒ½ ä¸»è¦çš„ä¸¤ä¸ªåº¦é‡æ–¹æ³•ï¼š ååé‡ å“åº”æ—¶é—´æˆæƒéœ€æ±‚ æ•°æ®æµã€å·¥ä½œæµ å·¥ä½œæµè¡¨ç¤ºä¸€ä¸ªæµç¨‹ä¸­çš„æ•°æ®å’Œä»»åŠ¡çš„ç»„åˆ å½“ç”¨æˆ·åœ¨æ‰§è¡Œå·¥ä½œæµä¸­çš„ä»»åŠ¡æ—¶ï¼Œå·¥ä½œæµä¼šä¸æ•°æ®åº“ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œé™¤äº†å·¥ä½œæµæ“ä½œçš„æ•°æ®ä¹‹å¤–ï¼Œæ•°æ®åº“è¿˜å¯ä»¥å­˜å‚¨å·¥ä½œæµè‡ªèº«çš„æ•°æ®æ•°æ®åº“è®¾è®¡çš„å…¶ä»–é—®é¢˜ æ•°æ®åº“è®¾è®¡è¦æ±‚è®¾è®¡è€…å¯ä»¥é¢„å…ˆä¼°è®¡ä¸€ä¸ªç»„ç»‡å°†æ¥çš„éœ€æ±‚ï¼Œè®¾è®¡å‡ºçš„æ¨¡å¼åœ¨éœ€æ±‚å‘ç”Ÿå˜æ›´æ—¶åªè¦åšæœ€å°‘çš„æ”¹åŠ¨å³å¯æ»¡è¶³è¦æ±‚ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-08 12:57:39 "},"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®åº“è®¾è®¡/å…³ç³»æ•°æ®åº“è®¾è®¡.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®åº“è®¾è®¡/å…³ç³»æ•°æ®åº“è®¾è®¡.html","title":"å…³ç³»æ•°æ®åº“è®¾è®¡","keywords":"","body":"å…³ç³»æ•°æ®åº“è®¾è®¡ å¥½çš„å…³ç³»è®¾è®¡çš„ç‰¹ç‚¹ è®¾è®¡é€‰æ‹© æ›´å¤§çš„æ¨¡å¼ æ¯”å¦‚departmentæ¨¡å¼ä¸studentæ¨¡å¼è¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°ä¸¤ä¸ªæ¨¡å¼çš„è¿æ¥ç»“æœdept_stu é—®é¢˜ï¼š æ•°æ®å†—ä½™ æœ‰äº›æƒ…å†µæ— æ³•è¡¨ç¤º æ›´å°çš„æ¨¡å¼ï¼š å¦‚ä½•å‘ç°ä¸€ä¸ªæ¨¡å¼éœ€è¦åˆ†è§£æˆnä¸ªæ›´å°çš„æ¨¡å¼ï¼Ÿ å‡½æ•°ä¾èµ– å®šä¹‰è¿™æ ·çš„ä¸€æ¡è§„åˆ™ï¼šå¦‚æœå­˜åœ¨æ¨¡å¼ï¼ˆdept_name,budgetï¼‰,åˆ™dept_nameå¯ä»¥ä½œä¸ºä¸»ç ï¼Œé‚£ä¹ˆè¿™å°±å«å‡½æ•°ä¾èµ– è®°ä½œï¼šx â†’ y æœ‰æŸåˆ†è§£ï¼šåˆ†è§£è¿‡åæ— æ³•è¡¨è¾¾ä¸€äº›é‡è¦çš„ä¿¡æ¯ã€‚ æ— æŸåˆ†è§£ï¼šä¸Šé¢å–å å¼‚å¸¸ ä¸ç¬¦åˆèŒƒå¼çš„å…³ç³» å†—ä½™æ•°æ® ä¿®æ”¹å¼‚å¸¸ åˆ é™¤å¼‚å¸¸ æ’å…¥å¼‚å¸¸ åŸå­åŸŸä¸ç¬¬ä¸€èŒƒå¼ ä¸€ä¸ªåŸŸæ˜¯åŸå­çš„ï¼Œå¦‚æœè¯¥åŸŸçš„å…ƒç´ è¢«è®¤ä¸ºæ˜¯ä¸å¯åˆ†çš„å•å…ƒï¼Œæˆ‘ä»¬ç§°ä¸€ä¸ªå…³ç³»æ¨¡å¼Rå±äºç¬¬ä¸€èŒƒå¼ã€‚ ç®€å•æ¥è¯´ï¼šæ‰€æœ‰å…³ç³»æ¨¡å¼æ•°æ®åº“éƒ½ç¬¦åˆç¬¬ä¸€èŒƒå¼ ç¬¬äºŒèŒƒå¼ æ¯ä¸ªéä¸»å±æ€§å®Œå…¨å‡½æ•°ä¾èµ–äºé”®ç  ä½¿ç”¨å‡½æ•°ä¾èµ–è¿›è¡Œåˆ†è§£ ç å’Œå‡½æ•°ä¾èµ– ä¸€ä¸ªå…³ç³»æ»¡è¶³éœ€æ±‚å®šä¹‰çš„ç°å®ä¸–ç•Œçº¦æŸï¼Œç§°ä¸ºå…³ç³»çš„åˆæ³•å®ä¾‹ ç»™å®šRçš„ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬è¯´è¿™ä¸ªå®ä¾‹æ»¡è¶³å‡½æ•°ä¾èµ–x â†’ y çš„æ¡ä»¶æ˜¯ï¼šå¯¹äºå®ä¾‹ä¸­çš„æ‰€æœ‰å…ƒç»„t1ï¼Œt2 ï¼Œè‹¥t1[x] = t1[x] ï¼Œåˆ™t1[y] = t2[y] å¦‚æœRä¸­çš„æ¯ä¸ªåˆæ³•å®ä¾‹éƒ½æ»¡è¶³å‡½æ•°ä¾èµ–ï¼Œåˆ™æˆ‘ä»¬è¯´è¯¥å‡½æ•°ä¾èµ–åœ¨Rä¸Šæˆç«‹ æˆ‘ä»¬ä»¥ä¸¤ç§æ–¹å¼ä½¿ç”¨å‡½æ•°ä¾èµ–ï¼š åˆ¤å®šå…³ç³»çš„å®ä¾‹æ˜¯å¦æ»¡è¶³ç»™å®šå‡½æ•°ä¾èµ–é›†F è¯´æ˜åˆæ³•å…³ç³»é›†ä¸Šçš„çº¦æŸ å¹³å‡¡å‡½æ•°ä¾èµ–ï¼šå¦‚æœy âŠ† xï¼Œåˆ™ç§°xâ†’yçš„å‡½æ•°ä¾èµ–æ˜¯å¹³å‡¡çš„ æˆ‘ä»¬ç”¨F+è¡¨è¾¾Fé›†åˆçš„é—­åŒ…ï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿä»ç»™å®šFé›†åˆæ¨å¯¼å‡ºæ¥çš„å‡½æ•°ä¾èµ–é›†åˆ BCèŒƒå¼ å±äºBCèŒƒå¼çš„æ¡ä»¶æ˜¯ï¼š å¯¹äºF+ä¸­æ‰€æœ‰å½¢å¦‚aâ†’bçš„å‡½æ•°ä¾èµ–(a âŠ† R,bâŠ†R ),ä¸‹é¢è‡³å°‘æœ‰ä¸€é¡¹æˆç«‹ï¼š a â†’ bæ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ–ï¼ˆb âŠ† aï¼‰ aæ˜¯æ¨¡å¼Rçš„ä¸€ä¸ªè¶…ç  åˆ†è§£ä¸å±äºBCNFçš„ä¸€èˆ¬è§„åˆ™ï¼š è®¾Rä¸ºä¸€ä¸ªä¸å±äºBCNFçš„ä¸€ä¸ªæ¨¡å¼ï¼Œåˆ™å­˜åœ¨è‡³å°‘ä¸€ä¸ªéå¹³å‡¡çš„å‡½æ•°ä¾èµ–aâ†’bï¼Œå…¶ä¸­aä¸æ˜¯Rçš„è¶…ç ï¼Œæˆ‘ä»¬ç”¨ä¸¤ä¸ªæ¨¡å¼å–ä»£Rï¼š ï¼ˆa âˆª bï¼‰ ï¼ˆR - ï¼ˆb - a ï¼‰ï¼‰ è¿›è¡Œè¿­ä»£ç›´åˆ°å¾—åˆ°ä¸€ä¸ªBCNFæ¨¡å¼é›†åˆ BCNFå’Œä¿æŒä¾èµ– ç”±äºè®¾è®¡ä½¿å¾—å‡½æ•°ä¾èµ–çš„å¼ºåˆ¶å®æ–½åœ¨è®¡ç®—å¾ˆå›°éš¾ï¼Œå› æ­¤ç§°è¿™ä¸ªè®¾è®¡ä¸æ˜¯ä¿æŒä¾èµ–çš„ ç¬¬ä¸‰èŒƒå¼ å±äºç¬¬ä¸‰èŒƒå¼çš„æ¡ä»¶ï¼Œä¸‹é¢è‡³å°‘ä¸€é¡¹æˆç«‹ï¼š a â†’ bæ˜¯ä¸€ä¸ªå¹³å‡¡çš„å‡½æ•°ä¾èµ– a æ˜¯Rçš„ä¸€ä¸ªè¶…ç  b - açš„æ¯ä¸ªå±æ€§éƒ½åŒ…å«äºRçš„ä¸€ä¸ªå€™é€‰ç ä¸­ å‡½æ•°ä¾èµ–ç†è®º å‡½æ•°ä¾èµ–é›†çš„é—­åŒ… é€»è¾‘è•´å«ï¼š A -> B,B-> h é‚£ä¹ˆ A -> Hè¢«é€»è¾‘è•´å« Amstrong å…¬ç† è‡ªåå¾‹ å¢è¡¥å¾‹ ä¼ é€’å¾‹ åˆå¹¶å¾‹ åˆ†è§£å¾‹ ä¼ªä¼ é€’å¾‹ å±æ€§é›†çš„é—­åŒ… å¦‚æœ a â†’ Bï¼Œæˆ‘ä»¬ç§°å±æ€§Bè¢«aå‡½æ•°ç¡®å®š æ­£åˆ™è¦†ç›– æ— æŸåˆ†è§£ R1,R2æ˜¯Rçš„åˆ†è§£ï¼Œå¦‚æœç”¨R1,R2æ›¿ä»£Ræ²¡æœ‰ä¿¡æ¯æŸå¤±ï¼Œåˆ™è¯¥åˆ†è§£æ˜¯æ— æŸåˆ†è§£ ä¿æŒä¾èµ– åˆ†è§£ç®—æ³• BCNFåˆ†è§£ 3NFåˆ†è§£ BCNFå’Œ3NFçš„æ¯”è¾ƒ åº”ç”¨å‡½æ•°ä¾èµ–è¿›è¡Œæ•°æ®åº“è®¾è®¡çš„ç›®æ ‡ï¼š BCNF æ— æŸ ä¿æŒä¾èµ– ä½¿ç”¨å¤šå€¼ä¾èµ–çš„åˆ†è§£ å¤šå€¼ä¾èµ– å‡½æ•°ä¾èµ–æœ‰æ—¶æˆä¸ºç›¸ç­‰ä¾èµ– å¤šå€¼ä¾èµ–æˆä¸ºå…ƒç»„äº§ç”Ÿä¾èµ– è®¾Rä¸ºå…³ç³»æ¨¡å¼ï¼Œè®©a âŠ† R ä¸” b âŠ† R å¤šå€¼ä¾èµ– a -> -> båœ¨Rä¸Šæˆç«‹çš„æ¡ä»¶æ˜¯ï¼š 4NFåˆ†è§£ æ›´å¤šçš„èŒƒå¼ æ•°æ®åº“è®¾è®¡è¿‡ç¨‹ ERæ¨¡å‹å’Œè§„èŒƒåŒ– å±æ€§å’Œè”ç³»çš„å‘½å ä¸ºæ€§èƒ½å»è§„èŒƒåŒ– æ—¶æ€æ•°æ®å»ºæ¨¡ æ—¶æ€æ•°æ®æ—¶å…·æœ‰å…³è”æ—¶é—´æ®µçš„æ•°æ® å¿«ç…§å¿«ç…§æ˜¯æŒ‡ä¸€ä¸ªç‰¹å®šæ—¶é—´ç‚¹ä¸Šè¯¥æ•°æ®çš„å€¼ ä¸€äº›å‘ æ²¡æœ‰å”¯ä¸€é”®çº¦æŸ ä¸šåŠ¡ä¸Šå…·æœ‰å”¯ä¸€ç‰¹æ€§çš„å­—æ®µï¼Œå³ä½¿æ˜¯å¤šä¸ªå­—æ®µçš„ç»„åˆï¼Œä¹Ÿå¿…é¡»å»ºæˆå”¯ä¸€ç´¢å¼• å¦‚æœæ²¡æœ‰å”¯ä¸€ç´¢å¼•ï¼Œå¾ˆå®¹æ˜“ä¼šè¢«æ’å…¥é‡å¤æ•°æ® æ‰§è¡Œdeleteæ²¡å¸¦æŸ¥è¯¢æ¡ä»¶ æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œè¦å¼€å¯äº‹åŠ¡ï¼ŒåŒæ—¶è¦å…ˆæŸ¥è¯¢æ ¸å¯¹å½±å“çš„è¡Œæ•°å’Œæ•°æ®å‡†ç¡®æ€§ï¼Œå†æ‰§è¡Œåˆ é™¤æ“ä½œ ï¼›æ‰§è¡Œåˆ é™¤æ“ä½œåå†æ¬¡æ ¸å®ï¼Œå¦‚æœæƒ…å†µä¸å¯¹ç«‹å³å›æ»š è¡¨ç»“æ„ä¿®æ”¹æ²¡æœ‰å…¼å®¹è€æ•°æ® æ¯”å¦‚å¢åŠ äº†ä¸€ä¸ªénullå­—æ®µ æ—¶æ•ˆæ€§è¦æ±‚æé«˜çš„åœºæ™¯æŸ¥äº†å¤‡åº“ å¤‡åº“å­˜æ”¾çš„æ•°æ®å¯èƒ½ä¸æ˜¯æœ€æ–°çš„æ•°æ® æ‚¬åœæ—¶é—´è¾ƒé•¿çš„äº‹åŠ¡è¢«kill è¡¨æ–°å¢äº†ä¾›æŸ¥è¯¢çš„å­—æ®µï¼Œå´æ²¡å»ºç´¢å¼•ï¼Œå¯¼è‡´æ…¢æŸ¥è¯¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-08 12:49:03 "},"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢/å­˜å‚¨å’Œæ–‡ä»¶ç»“æ„.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢/å­˜å‚¨å’Œæ–‡ä»¶ç»“æ„.html","title":"å­˜å‚¨å’Œæ–‡ä»¶ç»“æ„","keywords":"","body":"ç‰©ç†å­˜å‚¨ä»‹è´¨ é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ ä¸»å­˜å‚¨å™¨ å¿«é—ªå­˜å‚¨å™¨ ç£ç›˜å­˜å‚¨å™¨ å…‰å­¦å­˜å‚¨å™¨ ç£å¸¦å­˜å‚¨å™¨ ç£ç›˜å’Œå¿«é—ªå­˜å‚¨å™¨ ç£ç›˜çš„ç‰©ç†ç‰¹æ€§ ç£é“ æ‰‡åŒº è¯»å†™å¤´ ç£ç›˜è‡‚ æŸ±é¢ ç£ç›˜æ§åˆ¶å™¨ ç£ç›˜æ€§èƒ½çš„åº¦é‡ è®¿é—®æ—¶é—´ å¹³å‡å¯»é“æ—¶é—´ æ—‹è½¬ç­‰å¾…æ—¶é—´ å¹³å‡æ—‹è½¬ç­‰å¾…æ—¶é—´ æ•°æ®ä¼ è¾“ç‡ å¹³å‡æ•…éšœæ—¶é—´ ç£ç›˜å—è®¿é—®çš„ä¼˜åŒ– ç¼“å†² é¢„è¯» è°ƒåº¦ æ–‡ä»¶ç»„ç»‡ ç¢ç‰‡åŒ– éæ˜“å¤±æ€§å†™ç¼“å†²åŒº æ—¥å¿—ç£ç›˜ æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ å¿«é—ªå­˜å‚¨ RAID é€šè¿‡å†—ä½™æé«˜å¯é æ€§ é€šè¿‡å¹¶è¡Œæé«˜æ€§èƒ½ æ•°æ®æ‹†åˆ† æ¯”ç‰¹çº§æ‹†åˆ† å—çº§æ‹†åˆ† RAIDçº§åˆ« RAIDçº§åˆ«çš„é€‰æ‹© æ‰€éœ€çš„é¢å¤–å­˜å‚¨ä»£ä»· åœ¨IOæ–¹é¢çš„æ€§èƒ½é—®é¢˜ ç£ç›˜æ•…éšœæ—¶çš„æ€§èƒ½ æ•°æ®é‡å»ºè¿‡ç¨‹ ç¡¬ä»¶é—®é¢˜ è½¯ä»¶RAID ç¡¬ä»¶RAID æ“¦æ´— çƒ­äº¤æ¢ ç¬¬ä¸‰çº§å­˜å‚¨ å…‰ç›˜ ç£å¸¦ æ–‡ä»¶ç»„ç»‡ å®šé•¿è®°å½• å˜é•¿è®°å½• é—®é¢˜ å¦‚ä½•æè¿°ä¸€æ¡è®°å½•ï¼Œä½¿å¾—å•ä¸ªå±æ€§èƒ½å¤Ÿè½»æ¾è¯»å– åœ¨å—ä¸­å¦‚ä½•å­˜å‚¨å˜é•¿è®°å½•ï¼Œä½¿å¾—å—ä¸­çš„è®°å½•å¯ä»¥è½»æ¾è¯»å– æ–‡ä»¶ä¸­è®°å½•çš„ç»„ç»‡ å †æ–‡ä»¶ç»„ç»‡ é¡ºåºæ–‡ä»¶ç»„ç»‡ æ•£åˆ—æ–‡ä»¶ç»„ç»‡ é¡ºåºæ–‡ä»¶ç»„ç»‡ åœ¨æ’å…¥å’Œåˆ é™¤æ—¶ç»´æŠ¤è®°å½•çš„ç‰©ç†é¡ºåºä¼šå¾ˆéš¾ é‡ç»„ å¤šè¡¨èšç°‡æ–‡ä»¶ç»„ç»‡ åœ¨æ¯ä¸€å—ä¸­å­˜å‚¨ä¸¤ä¸ªæˆ–è€…æ›´å¤šå…³ç³»çš„ç›¸å…³è®°å½• æ•°æ®å­—å…¸å­˜å‚¨ æ•°æ®å­—å…¸æ˜¯æŒ‡å¯¹æ•°æ®çš„æ•°æ®é¡¹ã€æ•°æ®ç»“æ„ã€æ•°æ®æµã€æ•°æ®å­˜å‚¨ã€å¤„ç†é€»è¾‘ç­‰è¿›è¡Œå®šä¹‰å’Œæè¿°ï¼Œå…¶ç›®çš„æ˜¯å¯¹æ•°æ®æµç¨‹å›¾ä¸­çš„å„ä¸ªå…ƒç´ åšå‡ºè¯¦ç»†çš„è¯´æ˜ï¼Œä½¿ç”¨æ•°æ®å­—å…¸ä¸ºç®€å•çš„å»ºæ¨¡é¡¹ç›®ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ•°æ®å­—å…¸æ˜¯æè¿°æ•°æ®çš„ä¿¡æ¯é›†åˆï¼Œæ˜¯å¯¹ç³»ç»Ÿä¸­ä½¿ç”¨çš„æ‰€æœ‰æ•°æ®å…ƒç´ çš„å®šä¹‰çš„é›†åˆ æ•°æ®çš„æ•°æ® å¿…é¡»å­˜å‚¨çš„ä¿¡æ¯ç±»å‹ å…³ç³»å æ¯ä¸ªå…³ç³»ä¸­çš„å±æ€§å å±æ€§çš„åŸŸä¸é•¿åº¦ è§†å›¾åä¸è§†å›¾å®šä¹‰ å®Œæ•´æ€§çº¦æŸ æ•°æ®åº“ç¼“å†²åŒº ç¼“å†²åŒºç®¡ç†å™¨ ç¼“å†²åŒºæ›¿æ¢ç­–ç•¥ LRU è¢«é’‰ä½çš„å— ä¸å…è®¸å†™å›ç£ç›˜ å—å¼ºåˆ¶å†™å› ç¼“å†²åŒºæ›¿æ¢ç­–ç•¥ MRU LRU MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-15 07:49:59 "},"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢/ç´¢å¼•ä¸æ•£åˆ—.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢/ç´¢å¼•ä¸æ•£åˆ—.html","title":"ç´¢å¼•ä¸æ•£åˆ—","keywords":"","body":"åŸºæœ¬æ¦‚å¿µ é¡ºåºç´¢å¼•:åŸºäºå€¼å¾—é¡ºåºæ’åº æ•£åˆ—ç´¢å¼•ï¼šåŸºäºå°†å€¼å¹³å‡åˆ†å¸ƒåˆ°æ•£åˆ—æ¡¶ è¯„ä»·ç»´åº¦ è®¿é—®ç±»å‹ è®¿é—®æ—¶é—´ æ’å…¥æ—¶é—´ åˆ é™¤æ—¶é—´ ç©ºé—´å¼€é”€ æœç´¢ç ï¼šç”¨äºåœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾è®°å½•çš„å±æ€§æˆ–å±æ€§é›† é¡ºåºç´¢å¼• ç¨ å¯†ç´¢å¼• æ¯ä¸ªæœç´¢ç éƒ½æœ‰ä¸€ä¸ªç´¢å¼•é¡¹ ç¨€ç–ç´¢å¼• åªä¸ºæŸäº›æœç´¢ç å»ºç«‹ç´¢å¼• å¤šçº§ç´¢å¼• ç´¢å¼•çš„æ›´æ–° æ’å…¥æ•°æ®æ›´æ–° åˆ é™¤æ•°æ®æ›´æ–° è¾…åŠ©ç´¢å¼• å¤šç ä¸Šçš„ç´¢å¼• å¤åˆæœç´¢ç  B+æ ‘ç´¢å¼• B+æ ‘çš„ç»“æ„ B+æ ‘çš„æŸ¥è¯¢ B+æ ‘æ›´æ–° æ’å…¥ åˆ é™¤ ä¸å”¯ä¸€çš„æœç´¢ç  ä¸¤æ¡æˆ–è€…å¤šæ¡è®°å½•åœ¨ç´¢å¼•å±æ€§ä¸Šæ‹¥æœ‰ç›¸åŒçš„å€¼ è§£å†³æ–¹æ³•ï¼š åˆ›å»ºåŒ…å«åŸå§‹æœç´¢ç å’Œå…¶ä»–é¢å¤–å±æ€§çš„ç¬¦åˆæœç´¢ç  åœ¨B+æ ‘èŠ‚ç‚¹ä¸Šä½¿ç”¨åˆ—è¡¨æ¥å­˜å‚¨ B+æ ‘æ›´æ–°çš„å¤æ‚æ€§ è¾…åŠ©ç´¢å¼•å’Œè®°å½•é‡å®šä½ å­—ç¬¦ä¸²ä¸Šçš„ç´¢å¼• å‰ç¼€å‹ç¼© B+æ ‘ç´¢å¼•çš„æ‰¹é‡åŠ è½½ Bæ ‘ç´¢å¼•æ–‡ä»¶ å¤šç è®¿é—® å¤šç ç´¢å¼• æœç´¢ç ï¼ˆk1,k2k,k3...ï¼‰ è¦†ç›–ç´¢å¼• å­˜å‚¨é™„åŠ å±æ€§ é™æ€æ•£åˆ— æ•£åˆ—å‡½æ•° åˆ†å¸ƒå‡åŒ€ åˆ†å¸ƒéšæœº æ¡¶æº¢å‡ºå¤„ç† æ¡¶ä¸è¶³ åæ–œ æ•£åˆ—ç´¢å¼• åŠ¨æ€æ•£åˆ— æ•£åˆ—å‡½æ•°å¯åŠ¨æ€æ”¹å˜ æ•°æ®ç»“æ„ æŸ¥è¯¢ æ›´æ–° é™æ€åˆ—è¡¨VSåŠ¨æ€æ•£åˆ— åŠ¨æ€æ•£åˆ—ï¼šæ€§èƒ½ä¸éšæ–‡ä»¶å¢é•¿é™ä½ã€‚ç©ºé—´å¼€é”€å°ã€‚å¹¶ä¸”å¢åŠ äº†ä¸€ä¸ªä¸­é—´å±‚ï¼Œå¸¦æ¥å¾®å°çš„æ€§èƒ½æŸå¤±ã€‚ é¡ºåºç´¢å¼•å’Œæ•£åˆ—çš„æ¯”è¾ƒ ä½å›¾ç´¢å¼• ä½çš„ä¸€ä¸ªç®€å•æ•°ç»„ ä½å›¾æ“ä½œçš„é«˜æ•ˆå®ç° ä½å›¾ä¸B+æ ‘ SQLä¸­çš„ç´¢å¼•å®šä¹‰ CREATE INDEX ON (å±æ€§åˆ—è¡¨) CREATE INDEX index_kkk ON user(username) # åœ¨userè¡¨ä¸Šåˆ›å»ºusernameç´¢å¼• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-16 09:18:13 "},"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢/æŸ¥è¯¢å¤„ç†.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢/æŸ¥è¯¢å¤„ç†.html","title":"æŸ¥è¯¢å¤„ç†","keywords":"","body":"æ¦‚è¿° è¯­æ³•åˆ†æä¸ç¿»è¯‘ ä¼˜åŒ– æ‰§è¡Œ è®¡ç®—åŸè¯­ æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ æŸ¥è¯¢æ‰§è¡Œå¼•æ“ æŸ¥è¯¢ä»£ä»·çš„åº¦é‡ ä¼ é€ç£ç›˜å—æ•°ä»¥åŠæœç´¢ç£ç›˜æ¬¡æ•° é€‰æ‹©è¿ç®— ä½¿ç”¨æ–‡ä»¶æ‰«æå’Œç´¢å¼•çš„é€‰æ‹© çº¿æ€§æœç´¢ ä½¿ç”¨ç´¢å¼•çš„æœç´¢ç®—æ³• ä¸»ç´¢å¼•ï¼Œç å±æ€§ç­‰å€¼æ¯”è¾ƒ ä¸»ç´¢å¼•ï¼Œéç å±æ€§ç­‰å€¼æ¯”è¾ƒ è¾…åŠ©ç´¢å¼•ï¼Œç­‰å€¼æ¯”è¾ƒ æ¶‰åŠæ¯”è¾ƒçš„é€‰æ‹© ä¸»ç´¢å¼•æ¯”è¾ƒ è¾…åŠ©ç´¢å¼•æ¯”è¾ƒ å¤æ‚é€‰æ‹©çš„å®ç° åˆå– æå– å–å åˆ©ç”¨ä¸€ä¸ªç´¢å¼•çš„åˆå–é€‰æ‹© ä½¿ç”¨ç»„åˆç´¢å¼•çš„åˆå–é€‰æ‹© é€šè¿‡æ ‡å¿—ç¬¦çš„äº¤å®ç°åˆå–é€‰æ‹© é€šè¿‡æ ‡å¿—ç¬¦çš„å¹¶å®ç°åˆå–é€‰æ‹© æ’åº å¤–éƒ¨æ’åºå½’å¹¶ç®—æ³• è¿æ¥è¿ç®— åµŒå¥—å¾ªç¯è¿æ¥ å—åµŒå¥—å¾ªç¯è¿æ¥ ç´¢å¼•åµŒå¥—å¾ªç¯è¿æ¥ å½’å¹¶è¿æ¥ æ•£åˆ—è¿æ¥ å…¶ä»–è¿ç®— å»é‡ æ’åº æ•£åˆ— æŠ•å½± é›†åˆè¿ç®— å¤–è¿æ¥ èšé›† è¡¨è¾¾å¼è®¡ç®— ç‰©åŒ– æµæ°´çº¿ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-18 08:57:00 "},"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢/æŸ¥è¯¢ä¼˜åŒ–.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢/æŸ¥è¯¢ä¼˜åŒ–.html","title":"æŸ¥è¯¢ä¼˜åŒ–","keywords":"","body":"æ¦‚è¿° å…³ç³»è¡¨è¾¾å¼çš„è½¬æ¢ ç­‰ä»·è§„åˆ™ è¿æ¥çš„æ¬¡åº ç­‰ä»·è¡¨è¾¾å¼çš„æšä¸¾ è¡¨è¾¾å¼ç»“æœé›†ç»Ÿè®¡å¤§å°çš„ä¼°è®¡ ç›®å½•ä¿¡æ¯ é€‰æ‹©è¿ç®—ç»“æœå¤§å°çš„ä¼°è®¡ è¿æ¥è¿ç®—ç»“æœå¤§å°çš„ä¼°è®¡ å…¶ä»–è¿ç®—ç»“æœé›†å¤§å°çš„ä¼°è®¡ ä¸åŒå–å€¼ä¸ªæ•°çš„ä¼°è®¡ æ‰§è¡Œè®¡åˆ’é€‰æ‹© åŸºäºä»£ä»·çš„è¿æ¥é¡ºåºé€‰æ‹© ç­‰ä»·è§„åˆ™çš„åŸºäºä»£ä»·çš„ä¼˜åŒ–å™¨ å¯å‘å¼ä¼˜åŒ– åµŒå¥—å­æŸ¥è¯¢çš„ä¼˜åŒ– ç‰©åŒ–è§†å›¾ è§†å›¾ç»´æŠ¤ å¢é‡è§†å›¾ç»´æŠ¤ æŸ¥è¯¢ä¼˜åŒ–å’Œç‰©åŒ–è§†å›¾ ç‰©åŒ–è§†å›¾å’Œç´¢å¼•é€‰æ‹© é«˜çº§è¯é¢˜ top-Kä¼˜åŒ– è¿æ¥æå°åŒ– æ›´æ–°ä¼˜åŒ– å¤šæŸ¥è¯¢ä¼˜åŒ–å’Œå…±äº«å®¤æ‰«æ å‚æ•°åŒ–æŸ¥è¯¢ä¼˜åŒ– MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-14 08:01:48 "},"æ•°æ®åº“ç³»ç»Ÿ/ORM.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/ORM.html","title":"ORM","keywords":"","body":" å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆObject Relational Mappingï¼Œç®€ç§°ORMï¼‰æ˜¯é€šè¿‡ä½¿ç”¨æè¿°å¯¹è±¡å’Œæ•°æ®åº“ä¹‹é—´æ˜ å°„çš„å…ƒæ•°æ®ï¼Œå°†é¢å‘å¯¹è±¡è¯­è¨€ç¨‹åºä¸­çš„å¯¹è±¡è‡ªåŠ¨æŒä¹…åŒ–åˆ°å…³ç³»æ•°æ®åº“ä¸­ JDBCæ“ä½œçš„ç¹ç Hibernate ä¾èµ– org.hibernate hibernate-core 6.0.0.Alpha2 é…ç½® jdbc:mysql:///hibernate com.mysql.cj.jdbc.Driver root 123 update org.hibernate.dialect.MySQL57Dialect true å®ä½“ç±» @Entity @Table(name = \"tb_book\") public class Book { @Id @Column(name = \"bid\") @GeneratedValue(strategy = GenerationType.TABLE) private Integer id; @Column(name = \"bname\") private String name; @Column(name = \"bauthor\") private String author; } ä½¿ç”¨ Configuration cfg = new Configuration().configure(); SessionFactory sessionFactory = cfg.buildSessionFactory(); Session session = sessionFactory.openSession(); Transaction tx = session.beginTransaction(); Book book = new Book(); book.setName(\"cxk ç¯®çƒå…¥é—¨æŒ‡å—\"); book.setAuthor(\"cxk\"); session.save(book); tx.commit(); session.close(); sessionFactory.close(); æŸ¥è¯¢ Session session = sessionFactory.openSession(); Book book = new Book(); book.setId(2); session.get(Book.class, 2); åˆ é™¤ Book book = new Book(); book.setId(2); session.delete(book); è¿è¡ŒåŸç† Mybatis è¿è¡ŒåŸç† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-02 14:42:56 "},"æ•°æ®åº“ç³»ç»Ÿ/äº‹åŠ¡ç®¡ç†/äº‹åŠ¡.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/äº‹åŠ¡ç®¡ç†/äº‹åŠ¡.html","title":"äº‹åŠ¡","keywords":"","body":"äº‹åŠ¡ æ„æˆå•ä¸€é€»è¾‘å·¥ä½œå•å…ƒçš„æ“ä½œé›†åˆç§°ä¸ºäº‹åŠ¡ï¼Œå¯ä»¥é€šè¿‡commitæäº¤ä¸€ä¸ªäº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨rollbackå›æ»š ACID åŸå­æ€§(Atomicity)ï¼šä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•ä½ï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ è¿™ç‚¹ç›¸è¾ƒäºå¹¶å‘ç¼–ç¨‹çš„åŸå­æ€§æœ‰æ‰€ä¸åŒï¼šå¦‚æœä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€ä¸ªåŸå­æ“ä½œï¼Œè¿™æ„å‘³ç€å¦ä¸€ä¸ªçº¿ç¨‹æ— æ³•çœ‹åˆ°è¯¥æ“ä½œçš„ä¸€åŠç»“æœã€‚ä¸å¹¶å‘ç¼–ç¨‹åŸå­æ€§è¾ƒä¸ºç›¸ä¼¼æ¦‚å¿µçš„æ˜¯ACIDçš„éš”ç¦»æ€§ ä¸€è‡´æ€§(Consistency)ï¼šäº‹åŠ¡æ“ä½œå‰åï¼Œæ•°æ®æ€»é‡ä¸å˜ ä¸€è‡´æ€§çš„è¿™ç§æ¦‚å¿µå–å†³äºåº”ç”¨ç¨‹åºå¯¹ä¸å˜é‡çš„è§‚å¿µï¼Œåº”ç”¨ç¨‹åºè´Ÿè´£æ­£ç¡®å®šä¹‰å®ƒçš„äº‹åŠ¡ï¼Œå¹¶ä¿æŒä¸€è‡´æ€§ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºéè¦å†™å…¥è„æ•°æ®ï¼Œé‚£ä¹ˆæ•°æ®åº“ä¹Ÿæ— èƒ½ä¸ºåŠ› éš”ç¦»æ€§(Isolation)ï¼šå¤šä¸ªäº‹åŠ¡ä¹‹é—´ç›¸äº’ç‹¬ç«‹ éš”ç¦»æ€§æœ€å¼ºçš„å®ç°æ‰‹æ®µå°±æ˜¯å¯åºåˆ—åŒ–ï¼Œä½†è¿™ç§æ–¹å¼å¯¹æ€§èƒ½æå·®ã€‚å¦‚Oracleä¸­æœ‰ä¸€ä¸ªåä¸ºâ€œå¯åºåˆ—åŒ–â€çš„éš”ç¦»çº§åˆ«ï¼Œä½†å®é™…ä¸Šå®ƒå®ç°äº†ä¸€ç§å«åšå¿«ç…§éš”ç¦»ï¼ˆsnapshot isolationï¼‰ çš„åŠŸèƒ½ï¼Œè¿™æ˜¯ä¸€ç§æ¯”å¯åºåˆ—åŒ–æ›´å¼±çš„ä¿è¯ã€‚ æŒä¹…æ€§(Durability)ï¼šå½“äº‹åŠ¡æäº¤æˆ–å›æ»šåï¼Œæ•°æ®ä¼šæŒä¹…åŒ–çš„ä¿å­˜æ•°æ® å®Œç¾çš„æŒä¹…æ€§æ˜¯ä¸å­˜åœ¨çš„ ï¼šå¦‚æœæ‰€æœ‰ç¡¬ç›˜å’Œæ‰€æœ‰å¤‡ä»½åŒæ—¶è¢«é”€æ¯ï¼Œé‚£æ˜¾ç„¶æ²¡æœ‰ä»»ä½•æ•°æ®åº“èƒ½æ•‘å¾—äº†ä½ ï¼Œæœ€å¥½æŠ±ç€æ€€ç–‘çš„æ€åº¦æ¥å—ä»»ä½•ç†è®ºä¸Šçš„â€œä¿è¯â€ã€‚ åªæœ‰æ»¡è¶³ä¸€è‡´æ€§ï¼Œäº‹åŠ¡æ‰§è¡Œç»“æœæ‰æ˜¯æ­£ç¡®çš„ã€‚äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œï¼Œå°±èƒ½ç¡®ä¿éš”ç¦»æ€§ï¼Œæ­¤æ—¶åªè¦æ»¡è¶³åŸå­æ€§ï¼Œå°±èƒ½æ»¡è¶³ä¸€è‡´æ€§ï¼Œåœ¨å¹¶å‘æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œè¦æ»¡è¶³åŸå­æ€§å’Œéš”ç¦»æ€§ï¼Œæ‰èƒ½æ»¡è¶³ä¸€è‡´æ€§ã€‚ æ»¡è¶³æŒä¹…æ€§çš„åŸå› æ˜¯ä¸ºåº”å¯¹ç³»ç»Ÿå´©æºƒçš„æƒ…å†µï¼Œæœ¬è´¨ä¸Šæ»¡è¶³æŒä¹…æ€§æœ€ç»ˆçš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†æ»¡è¶³ä¸€è‡´æ€§ AIDæ˜¯å›  Cæ˜¯æœ ä¸ºäº†åº”å¯¹ç³»ç»Ÿå´©æºƒï¼Œäº‹åŠ¡é‡‡å–äº†äº‹åŠ¡æ—¥å¿—ï¼Œä¹Ÿå°±æ˜¯è¿½åŠ çš„æ–¹å¼è®°å½•æ‰€æœ‰æ“ä½œï¼Œè¿™æ ·åœ¨ç³»ç»Ÿå´©æºƒåä¹Ÿå¯ä»¥æ ¹æ®è¿™äº›æ—¥å¿—è¿›è¡Œæ¢å¤ã€‚ å®ç°åŸå­æ€§å’ŒæŒä¹…æ€§ åŸå­æ€§ä¿è¯äº†äº‹åŠ¡çš„å¤šä¸ªæ“ä½œè¦ä¹ˆéƒ½ç”Ÿæ•ˆè¦ä¹ˆéƒ½ä¸ç”Ÿæ•ˆï¼Œä¸ä¼šå­˜åœ¨ä¸­é—´çŠ¶æ€ ä½†äº‹å®ä¸Šç£ç›˜å†™å…¥æ€»éœ€è¦ä¸ªè¿‡ç¨‹ï¼Œéœ€è¦ä¸ªé¢å¤–çš„æœºåˆ¶æ¥ä¿è¯å‡ºç°ä¸‹åˆ—æƒ…å†µåèƒ½è¿›è¡Œæ¢å¤ï¼š æœªæäº¤äº‹åŠ¡ï¼Œå†™å…¥åå´©æºƒ å·²æäº¤äº‹åŠ¡ï¼Œå†™å…¥å‰å´©æºƒ æ•°æ®åº“é€šè¿‡ä¿®æ”¹æ•°æ®å‰å†™å…¥æ—¥å¿—çš„æƒ…å†µæ¥è¾¾åˆ°å´©æºƒåèƒ½æ¢å¤çš„ç›®çš„ï¼Œç§°ä¹‹ä¸ºæäº¤æ—¥å¿— åŒæ—¶ä¸ºäº†å®ç°äº‹åŠ¡åŠŸèƒ½ é€šè¿‡undo logæ¥è®°å½•æ•°æ®çš„ä¿®æ”¹çš„æƒ…å†µï¼Œä»¥ä¾¿éšæ—¶å›æ»š å®ç°éš”ç¦»æ€§ å­˜å‚¨ç»“æ„ ç¨³å®šæ€§å­˜å‚¨å™¨ äº‹åŠ¡åŸå­æ€§å’ŒæŒä¹…æ€§ è¡¥å¿äº‹åŠ¡ æ´»åŠ¨çš„ éƒ¨åˆ†æäº¤çš„ å¤±è´¥çš„ ç»ˆæ­¢çš„ æäº¤çš„ äº‹åŠ¡éš”ç¦»æ€§ æé«˜ååé‡å’Œèµ„æºåˆ©ç”¨ç‡ å‡å°‘ç­‰å¾…æ—¶é—´ å¹¶å‘æ§åˆ¶ å¯ä¸²è¡ŒåŒ– äº‹åŠ¡éš”ç¦»æ€§å’ŒåŸå­æ€§ å¯æ¢å¤è°ƒåº¦ æ— çº§è”è°ƒåº¦ äº‹åŠ¡éš”ç¦»æ€§çº§åˆ« ä»ä¸Šå¾€ä¸‹ï¼Œéš”ç¦»çº§åˆ«é€’å‡ å¯ä¸²è¡ŒåŒ– SERIALIZABLE å¼ºåˆ¶äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œï¼Œè¿™æ ·å¤šä¸ªäº‹åŠ¡äº’ä¸å¹²æ‰°ï¼Œä¸ä¼šå‡ºç°å¹¶å‘ä¸€è‡´æ€§é—®é¢˜ å®é™…ä½¿ç”¨ä¸­ä¼šå¯¼è‡´å¤§é‡è¶…æ—¶å’Œé”äº‰ç”¨ æ¯ä¸ªäº‹åŠ¡éƒ½å¿…é¡»å°è€Œå¿«ï¼Œåªè¦æœ‰ä¸€ä¸ªç¼“æ…¢çš„äº‹åŠ¡ï¼Œå°±ä¼šæ‹–æ…¢æ‰€æœ‰äº‹åŠ¡å¤„ç†ã€‚å¦‚æœéœ€è¦åœ¨å•çº¿ç¨‹æ‰§è¡Œçš„äº‹åŠ¡ä¸­è®¿é—®ï¼Œç³»ç»Ÿå°±ä¼šå˜å¾—éå¸¸æ…¢ å¯é‡å¤è¯» REPEATABLE-READ ä¿è¯åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­å¤šæ¬¡è¯»å–åŒä¸€æ•°æ®çš„ç»“æœæ˜¯ä¸€æ ·çš„ å·²æäº¤è¯» READ-COMMITTED ä¸€ä¸ªäº‹åŠ¡åªèƒ½è¯»å–å·²ç»æäº¤çš„äº‹åŠ¡æ‰€åšçš„ä¿®æ”¹ æ•°æ®åº“é€šè¿‡ä½¿ç”¨è¡Œé”ï¼ˆrow-level lockï¼‰ æ¥é˜²æ­¢è„å†™ã€‚ä½†æƒ³è¦é˜²æ­¢è„è¯»ä½¿ç”¨è¯»é”å°±8å¤ªè¡Œäº† æœªæäº¤è¯» READ-UNCOMMITTED äº‹åŠ¡ä¸­çš„ä¿®æ”¹ï¼Œå³ä½¿æ²¡æœ‰æäº¤ï¼Œå¯¹å…¶å®ƒäº‹åŠ¡ä¹Ÿæ˜¯å¯è§çš„ éš”ç¦»çº§åˆ« è„è¯» ä¸å¯é‡å¤è¯» å¹»è¯» åŠ é”è¯» READ-UNCOMMITTED âˆš âˆš âˆš Ã— READ-COMMITTED Ã— âˆš âˆš Ã— REPEATABLE-READ Ã— Ã— âˆš Ã— SERIALIZABLE Ã— Ã— Ã— âˆš æ— è®ºæ˜¯è„è¯» å¹»è¯» ä¸å¯é‡å¤è¯»ï¼ŒåŸå› éƒ½æ˜¯å› ä¸ºéš”ç¦»æ€§è¢«ç ´å å®ç°ä¸Šé¢å„ç§éš”ç¦»çº§åˆ«éƒ½æ˜¯ä½¿ç”¨è¯»é” å†™é” æˆ–è€…èŒƒå›´é”ç›¸äº’é…åˆæ¥å®ç°çš„ MVCCæ˜¯ä¸€ç§è¯»å–ä¼˜åŒ–ç­–ç•¥ï¼Œå®ƒçš„â€œæ— é”â€æ˜¯ç‰¹æŒ‡è¯»å–æ—¶ä¸éœ€è¦åŠ é”ã€‚MVCCçš„åŸºæœ¬æ€è·¯æ˜¯å¯¹æ•°æ®åº“çš„ä»»ä½•ä¿®æ”¹éƒ½ä¸ä¼šç›´æ¥è¦†ç›–ä¹‹å‰çš„æ•°æ®ï¼Œè€Œæ˜¯äº§ç”Ÿä¸€ä¸ªæ–°ç‰ˆå‰¯æœ¬ä¸è€ç‰ˆæœ¬å…±å­˜ï¼Œä»¥æ­¤è¾¾åˆ°è¯»å–æ—¶å¯ä»¥å®Œå…¨ä¸åŠ é”çš„ç›®çš„ è„å†™ éš”ç¦»æ€§çº§åˆ«çš„å®ç° å¹¶å‘æ§åˆ¶æœºåˆ¶ é” æ—¶é—´æˆ³ å¤šç‰ˆæœ¬å’Œå¿«ç…§éš”ç¦» å¹¶å‘ä¸€è‡´æ€§é—®é¢˜ å¹¶å‘ç¯å¢ƒä¸‹ï¼Œäº‹åŠ¡çš„éš”ç¦»æ€§å¾ˆéš¾ä¿è¯ è§£å†³å¹¶å‘ä¸€è‡´æ€§é—®é¢˜çš„æ–¹æ³•æ˜¯é€šè¿‡å¹¶å‘æ§åˆ¶æ¥ä¿è¯éš”ç¦»æ€§ã€‚å¹¶å‘æ§åˆ¶å¯ä»¥é€šè¿‡å°é”æ¥å®ç° ä¸¢å¤±ä¿®æ”¹ ä¸¤ä¸ªäº‹åŠ¡ä¿®æ”¹åŒä¸€ä¸ªæ•°æ®ï¼Œåä¿®æ”¹çš„äº‹åŠ¡è¦†ç›–ä¹‹å‰äº‹åŠ¡çš„ä¿®æ”¹ ä¸¢å¤±ä¿®æ”¹æœ‰å‡ ç§è§£å†³æ–¹æ¡ˆï¼š åŸå­å†™ï¼šé€šå¸¸é€šè¿‡åœ¨è¯»å–å¯¹è±¡æ—¶ï¼Œè·å–å…¶ä¸Šçš„æ’å®ƒé”æ¥å®ç°ã€‚ä»¥ä¾¿æ›´æ–°å®Œæˆä¹‹å‰æ²¡æœ‰å…¶ä»–äº‹åŠ¡å¯ä»¥è¯»å–å®ƒ æ˜¾å¼é”å®šï¼šé€šè¿‡åŠ é”åªå…è®¸ä¸€ä¸ªäº‹åŠ¡ åŸå­æ“ä½œå’Œé”æ˜¯é€šè¿‡å¼ºåˆ¶è¯»å–-ä¿®æ”¹-å†™å…¥åºåˆ—æŒ‰é¡ºåºå‘ç”Ÿ,å¦ä¸€ç§æ–¹æ³•æ˜¯å…è®¸å®ƒä»¬å¹¶è¡Œæ‰§è¡Œï¼Œå¦‚æœäº‹åŠ¡ç®¡ç†å™¨æ£€æµ‹åˆ°ä¸¢å¤±æ›´æ–°ï¼Œåˆ™ä¸­æ­¢äº‹åŠ¡å¹¶å¼ºåˆ¶å®ƒä»¬é‡è¯•å…¶è¯»å–-ä¿®æ”¹-å†™å…¥åºåˆ— CASæ“ä½œ è„è¯» ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹äº†æ•°æ®ï¼Œéšåå›æ»šäº†ï¼Œä½†æ˜¯è¿™ä¸ªæ•°æ®åœ¨å›æ»šä¹‹å‰è¢«å¦å¤–ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°äº† ä¸å¯é‡å¤è¯» ä¸€ä¸ªäº‹åŠ¡è¯»å–æ•°æ®åï¼Œè¿™ä¸ªæ•°æ®è¢«å¦å¤–çš„äº‹åŠ¡ä¿®æ”¹äº†ï¼Œå…ˆå‰çš„äº‹åŠ¡å†è¯»ä¸€æ¬¡ï¼Œå‘ç°ä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ å¹»è¯» ä¸€ä¸ªäº‹åŠ¡è¯»å–æŸä¸ªèŒƒå›´çš„æ•°æ®ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡åœ¨è¿™ä¸ªèŒƒå›´ä¸Šä¿®æ”¹äº†æ•°æ®ï¼Œä»è€Œå¯¼è‡´å…ˆå‰çš„äº‹åŠ¡ä¸¤æ¬¡è¯»å–æ•°æ®ä¸ä¸€è‡´ ä¸å¯é‡å¤è¯»ä¸å¹»è¯» ä¸å¯é‡å¤è¯»çš„é‡ç‚¹æ˜¯ä¿®æ”¹æ¯”å¦‚å¤šæ¬¡è¯»å–ä¸€æ¡è®°å½•å‘ç°å…¶ä¸­æŸäº›åˆ—çš„å€¼è¢«ä¿®æ”¹ï¼Œå¹»è¯»çš„é‡ç‚¹åœ¨äºæ–°å¢æˆ–è€…åˆ é™¤æ¯”å¦‚å¤šæ¬¡è¯»å–ä¸€æ¡è®°å½•å‘ç°è®°å½•å¢å¤šæˆ–å‡å°‘äº†ã€‚ æ­»é” ä¸ºäº†æ‰“ç ´æ­»é”ï¼Œå¿…é¡»é€šè¿‡éƒ¨åˆ†æˆ–è€…å®Œå…¨å›æ»šæŸä¸ªäº‹åŠ¡ã€‚ å•å¯¹è±¡å¤šå¯¹è±¡äº‹åŠ¡ æ–°å‹æ–‡æ¡£æ•°æ®åº“ä¹Ÿæä¾›äº†åŸå­æ€§å’Œéš”ç¦»æ€§çš„å®ç°ï¼Œæ¯”å¦‚é€šè¿‡ç¼–ç¨‹è¯­è¨€çš„åŸå­æ“ä½œæˆ–è€…CASæ“ä½œæ¥å®ç°ï¼Œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-12 06:40:00 "},"æ•°æ®åº“ç³»ç»Ÿ/äº‹åŠ¡ç®¡ç†/å¹¶å‘æ§åˆ¶.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/äº‹åŠ¡ç®¡ç†/å¹¶å‘æ§åˆ¶.html","title":"å¹¶å‘æ§åˆ¶","keywords":"","body":"å¹¶å‘æ§åˆ¶ å°é” å°é”ç²’åº¦ é”å®šçš„æ•°æ®é‡è¶Šå°‘ï¼Œå‘ç”Ÿé”äº‰ç”¨çš„å¯èƒ½å°±è¶Šå°ï¼Œç³»ç»Ÿçš„å¹¶å‘ç¨‹åº¦å°±è¶Šé«˜ å°é”ç²’åº¦è¶Šå°ï¼Œç³»ç»Ÿå¼€é”€å°±è¶Šå¤§ å°é”ç±»å‹ è¯»å†™é” å…±äº«é”ï¼šç®€å†™ä¸ºSé”ï¼Œå¯è¯»ä¸å¯å†™ æ’å®ƒé”ï¼šç®€å†™ä¸ºXé”ï¼Œå¯è¯»å¯å†™ åŠ äº†æ’å®ƒé”çš„æ•°æ®ï¼Œå°±åªèƒ½å…è®¸åŠ é”çš„äº‹åŠ¡è¿›è¡Œè¯»å†™ åŠ äº†å…±äº«é”çš„æ•°æ®ï¼Œå…è®¸å…¶ä»–äº‹åŠ¡å¯¹å…¶å†åŠ å…±äº«é”è¿›è¡Œè¯»ï¼Œä½†ä¸å…è®¸å†åŠ æ’å®ƒé” æ„å‘é” æ„å‘é”åœ¨è¯»å†™é”çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†IXï¼ˆè¡¨çš„æ’å®ƒé”ï¼‰ä¸ISï¼ˆè¡¨çš„å…±äº«é”ï¼‰ å½“ä¸€ä¸ªäº‹åŠ¡è¦å¯¹æ•°æ®åŠ Sé”ä¹‹å‰ï¼Œå°±å¿…é¡»è·å¾—ISé”æˆ–è€…IXé” å½“ä¸€ä¸ªäº‹åŠ¡è¦å¯¹æ•°æ®åŠ Xé”ä¹‹å‰ï¼Œå¿…é¡»è·å¾—IXé” å°é”åè®® ä¸‰çº§å°é”åè®® ä¸€çº§å°é”åè®® äº‹åŠ¡ T è¦ä¿®æ”¹æ•°æ® A æ—¶å¿…é¡»åŠ  X é”ï¼Œç›´åˆ° T ç»“æŸæ‰é‡Šæ”¾é” äºŒçº§å°é”åè®® åœ¨ä¸€çº§çš„åŸºç¡€ä¸Šï¼Œè¦æ±‚è¯»å–æ•°æ® A æ—¶å¿…é¡»åŠ  S é”ï¼Œè¯»å–å®Œé©¬ä¸Šé‡Šæ”¾ S é” ä¸‰çº§å°é”åè®® åœ¨äºŒçº§çš„åŸºç¡€ä¸Šï¼Œè¦æ±‚è¯»å–æ•°æ® A æ—¶å¿…é¡»åŠ  S é”ï¼Œç›´åˆ°äº‹åŠ¡ç»“æŸäº†æ‰èƒ½é‡Šæ”¾ S é” ä¸¤é˜¶æ®µå°é”åè®® åŠ é”å’Œè§£é”åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µè¿›è¡Œ å¢é•¿é˜¶æ®µï¼šå¯ä»¥è·å¾—é”ï¼Œä¸èƒ½é‡Šæ”¾é” ç¼©å‡é˜¶æ®µï¼šå¯ä»¥é‡Šæ”¾é”ï¼Œä¸èƒ½è·å¾—é” MySQL çš„ InnoDB å­˜å‚¨å¼•æ“é‡‡ç”¨ä¸¤æ®µé”åè®®ï¼Œä¼šæ ¹æ®éš”ç¦»çº§åˆ«åœ¨éœ€è¦çš„æ—¶å€™è‡ªåŠ¨åŠ é”ï¼Œå¹¶ä¸”æ‰€æœ‰çš„é”éƒ½æ˜¯åœ¨åŒä¸€æ—¶åˆ»è¢«é‡Šæ”¾ï¼Œè¿™è¢«ç§°ä¸ºéšå¼é”å®š å°é”çš„å®ç° åŸºäºå›¾çš„åè®® æ­»é”å¤„ç† æ­»é”é¢„é˜² å¯¹åŠ é”è¯·æ±‚è¿›è¡Œæ’åº æœ‰å¯èƒ½å¯¼è‡´æ­»é”æ—¶ï¼Œè¿›è¡Œäº‹åŠ¡å›æ»š é”è¶…æ—¶ æ­»é”æ£€æµ‹ä¸æ¢å¤ ç­‰å¾…å›¾ æ¢å¤ é€‰æ‹©ç‰ºç‰²è€… å›æ»š é¥¿æ­» å¤šç²’åº¦ åŸºäºæ—¶é—´æˆ³çš„åè®® æ—¶é—´æˆ³ æ—¶é—´æˆ³æ’åºåè®® Thomaså†™è§„åˆ™ åŸºäºæœ‰æ•ˆæ€§æ£€æŸ¥çš„åè®® å¤šç‰ˆæœ¬æœºåˆ¶ å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ MVCCï¼ˆMulti-Version Concurrency Controlï¼‰ åˆ©ç”¨äº†å¤šç‰ˆæœ¬çš„æ€æƒ³ï¼Œå†™æ“ä½œæ›´æ–°æœ€æ–°çš„ç‰ˆæœ¬å¿«ç…§ï¼Œè€Œè¯»æ“ä½œå»è¯»æ—§ç‰ˆæœ¬å¿«ç…§ï¼Œæ²¡æœ‰äº’æ–¥å…³ç³» undoæ—¥å¿— MVCC çš„å¤šç‰ˆæœ¬æŒ‡çš„æ˜¯å¤šä¸ªç‰ˆæœ¬çš„å¿«ç…§ï¼Œå¿«ç…§å­˜å‚¨åœ¨ Undo æ—¥å¿—ä¸­ INSERT INTO t(id, x) VALUES(1, \"a\"); UPDATE t SET x=\"b\" WHERE id=1; UPDATE t SET x=\"c\" WHERE id=1; ä¸Šé¢çš„ä¸‰æ¡sqlå¯¹åº”äºä¸‰ä¸ªäº‹åŠ¡ ReadView MVCC ç»´æŠ¤äº†ä¸€ä¸ª ReadView ç»“æ„ï¼Œä¸»è¦åŒ…å«äº†å½“å‰ç³»ç»Ÿæœªæäº¤çš„äº‹åŠ¡åˆ—è¡¨ å¤šç‰ˆæœ¬æ—¶é—´æˆ³æ’åº å¤šç‰ˆæœ¬ä¸¤é˜¶å°é” å¿«ç…§éš”ç¦» æ’å…¥æ“ä½œã€åˆ é™¤æ“ä½œä¸è°“è¯è¯» å®è·µä¸­çš„å¼±ä¸€è‡´æ€§çº§åˆ« ç´¢å¼•ç»“æ„ä¸­çš„å¹¶å‘ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-08 12:35:26 "},"æ•°æ®åº“ç³»ç»Ÿ/äº‹åŠ¡ç®¡ç†/æ¢å¤ç³»ç»Ÿ.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/äº‹åŠ¡ç®¡ç†/æ¢å¤ç³»ç»Ÿ.html","title":"æ¢å¤ç³»ç»Ÿ","keywords":"","body":"æ•…éšœåˆ†ç±» äº‹åŠ¡æ•…éšœ é€»è¾‘é”™è¯¯ ç³»ç»Ÿé”™è¯¯ ç³»ç»Ÿå´©æºƒ ç£ç›˜æ•…éšœ å­˜å‚¨å™¨ ç¨³å®šå­˜å‚¨å™¨çš„å®ç° æˆåŠŸå®Œæˆ éƒ¨åˆ†å¤±è´¥ å®Œå…¨å¤±è´¥ æ•°æ®è®¿é—® æ¢å¤ä¸åŸå­æ€§ æ—¥å¿—è®°å½• äº‹åŠ¡æ ‡è¯† æ•°æ®é¡¹æ ‡è¯† æ—§å€¼ æ–°å€¼ æ•°æ®åº“ä¿®æ”¹ undo redo å¹¶å‘æ§åˆ¶å’Œæ¢å¤ äº‹åŠ¡æäº¤ ä½¿ç”¨æ—¥å¿—é‡åšå’Œæ’¤é”€äº‹åŠ¡ æ£€æŸ¥ç‚¹ æ¢å¤ç®—æ³• äº‹åŠ¡å›æ»š ç³»ç»Ÿå´©æºƒåæ¢å¤ é‡åšé˜¶æ®µ æ’¤é”€é˜¶æ®µ ç¼“å†²åŒºç®¡ç† æ—¥å¿—è®°å½•ç¼“å†² æ•°æ®åº“ç¼“å†² æ“ä½œç³»ç»Ÿåœ¨ç¼“å†²åŒºç®¡ç†ä¸­çš„ä½œç”¨ æ¨¡ç³Šæ£€æŸ¥ç‚¹ éæ˜“å¤±æ€§å­˜å‚¨å™¨æ•°æ®ä¸¢å¤±çš„æ•…éšœ å½’æ¡£å­˜å‚¨ é”çš„æå‰é‡Šæ”¾å’Œé€»è¾‘undoæ“ä½œ é€»è¾‘æ“ä½œ é€»è¾‘undoæ—¥å¿—è®°å½• æœ‰é€»è¾‘undoçš„äº‹åŠ¡å›æ»š é€»è¾‘undoä¸­çš„å¹¶å‘é—®é¢˜ ARIES è¿œç¨‹å¤‡ä»½ç³»ç»Ÿ æ•…éšœæ£€æµ‹ æ§åˆ¶æƒçš„ç§»äº¤ æ¢å¤æ—¶é—´ æäº¤æ—¶é—´ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-20 11:37:13 "},"æ•°æ®åº“ç³»ç»Ÿ/ç³»ç»Ÿä½“ç³»ç»“æ„/æ•°æ®åº“ç³»ç»Ÿä½“ç³»ç»“æ„.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/ç³»ç»Ÿä½“ç³»ç»“æ„/æ•°æ®åº“ç³»ç»Ÿä½“ç³»ç»“æ„.html","title":"æ•°æ®åº“ç³»ç»Ÿä½“ç³»ç»“æ„","keywords":"","body":"é›†ä¸­å¼ä¸å®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æ„ é›†ä¸­å¼ç³»ç»Ÿ ç²—ç²’åº¦å¹¶è¡Œ ç»†ç²’åº¦å¹¶è¡Œ CSç³»ç»Ÿ æœåŠ¡å™¨ç³»ç»Ÿä½“ç³»ç»“æ„ äº‹åŠ¡æœåŠ¡å™¨ç³»ç»Ÿ æ•°æ®æœåŠ¡å™¨ç³»ç»Ÿ åŸºäºäº‘çš„æœåŠ¡å™¨ å¹¶è¡Œç³»ç»Ÿ ååé‡ å“åº”æ—¶é—´ åŠ é€Ÿæ¯”å’Œæ‰©å±•æ¯” äº’è¿ç½‘ç»œ æ€»çº¿ ç½‘æ ¼ è¶…ç«‹æ–¹ä½“ å¹¶è¡Œæ•°æ®åº“ä½“ç³»ç»“æ„ å…±äº«å†…å­˜ å…±äº«ç¡¬ç›˜ æ— å…±äº« å±‚æ¬¡ åˆ†å¸ƒå¼ç³»ç»Ÿ æ•°æ®å…±äº« è‡ªæ²»æ€§ å¯ç”¨æ€§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-20 11:37:13 "},"æ•°æ®åº“ç³»ç»Ÿ/ç³»ç»Ÿä½“ç³»ç»“æ„/å¹¶è¡Œæ•°æ®åº“.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/ç³»ç»Ÿä½“ç³»ç»“æ„/å¹¶è¡Œæ•°æ®åº“.html","title":"å¹¶è¡Œæ•°æ®åº“","keywords":"","body":"IO å¹¶è¡Œ åˆ’åˆ†æŠ€æœ¯ è½®è½¬æ³• æ•£åˆ—åˆ’åˆ† èŒƒå›´åˆ’åˆ† åæ–œå¤„ç† æŸ¥è¯¢é—´å¹¶è¡Œ ä¸åŒæŸ¥è¯¢æˆ–äº‹ç‰©å½¼æ­¤å¹¶è¡Œæ‰§è¡Œ æŸ¥è¯¢å†…å¹¶è¡Œ å•ä¸ªæŸ¥è¯¢åœ¨å¤šä¸ªå¤„ç†å™¨å’Œç£ç›˜ä¸Šå¹¶è¡Œæ‰§è¡Œ æ“ä½œå†…å¹¶è¡Œ å¹¶è¡Œæ’åº å¹¶è¡Œè¿æ¥ è¿ç®—çš„å¹¶è¡Œè®¡ç®—ä»£ä»· å¯åŠ¨ä»£ä»· åæ–œ èµ„æºç«äº‰ ç»„è£…ä»£ä»· æ“ä½œé—´å¹¶è¡Œ æµæ°´çº¿å¹¶è¡Œ ç‹¬ç«‹å¹¶è¡Œ æŸ¥è¯¢ä¼˜åŒ– å¹¶è¡Œç³»ç»Ÿè®¾è®¡ éœ€æ³¨æ„åˆ°çš„å¯ç”¨æ€§é—®é¢˜ ç¡¬ä»¶å‘ç”Ÿæ•…éšœæ—¶çš„æ¢å¤æ€§ æ•°æ®å’Œæ¨¡å¼å‘ç”Ÿæ”¹å˜æ—¶çš„è”æœºé‡ç»„ å¤šæ ¸å¤„ç†å™¨çš„å¹¶è¡Œæ€§ å¹¶è¡Œæ€§ä¸åŸå§‹é€Ÿåº¦ é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨å’Œå¤šçº¿ç¨‹ é€‚åº”ç°ä»£ä½“ç³»æ¶æ„çš„æ•°æ®åº“ç³»ç»Ÿè®¾è®¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-21 08:59:46 "},"æ•°æ®åº“ç³»ç»Ÿ/ç³»ç»Ÿä½“ç³»ç»“æ„/åˆ†å¸ƒå¼æ•°æ®åº“.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/ç³»ç»Ÿä½“ç³»ç»“æ„/åˆ†å¸ƒå¼æ•°æ®åº“.html","title":"åˆ†å¸ƒå¼æ•°æ®åº“","keywords":"","body":"åŒæ„å’Œå¼‚æ„æ•°æ®åº“ åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨ å¤åˆ¶ åˆ†ç‰‡ æ•°æ®å¤åˆ¶ æä¾›äº†åªè¯»äº‹åŠ¡çš„æ€§èƒ½ï¼Œä½†æ›´æ–°äº‹åŠ¡çš„å¼€é”€ä¼šå˜å¤§ æ•°æ®åˆ†ç‰‡ åˆ†åº“åˆ†è¡¨å½“ä¸­çš„æ°´å¹³ã€å‚ç›´ æ°´å¹³åˆ‡ç‰‡ å‚ç›´åˆ‡ç‰‡ é€æ˜æ€§ åˆ†ç‰‡é€æ˜æ€§ å¤åˆ¶é€æ˜æ€§ ä½ç½®é€æ˜æ€§ åˆ†å¸ƒå¼äº‹åŠ¡ å±€éƒ¨äº‹åŠ¡ å…¨å±€äº‹åŠ¡ ç³»ç»Ÿç»“æ„ äº‹åŠ¡ç®¡ç†å™¨ äº‹åŠ¡åè°ƒå™¨ ç³»ç»Ÿæ•…éšœæ¨¡å¼ ç«™ç‚¹æ•…éšœ æ¶ˆæ¯ä¸¢å¤± é€šä¿¡é“¾è·¯æ•…éšœ ç½‘ç»œåˆ’åˆ† æäº¤åè®® ä¸¤é˜¶æ®µæäº¤ ä¸‰é˜¶æ®µæäº¤ äº‹åŠ¡å¤„ç†çš„å¯é€‰æ‹©æ€§æ¨¡å‹ å‘é€ç«™ç‚¹åè®® æ¥æ”¶ç«™ç‚¹åè®® åˆ†å¸ƒå¼æ•°æ®åº“ä¸­çš„å¹¶å‘æ§åˆ¶ å°é”åè®® å•ä¸€é”ç®¡ç†å™¨æ–¹å¼ åˆ†å¸ƒå¼é”ç®¡ç†å™¨ æ•°æ®é¡¹å¤åˆ¶ ä¸»å‰¯æœ¬ å¤šæ•°åè®® æœ‰ååè®® æ³•å®šäººæ•°åŒæ„åè®® æ—¶é—´æˆ³ å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ = å±€éƒ¨å”¯ä¸€æ—¶é—´æˆ³+ç«™ç‚¹æ ‡è¯†ç¬¦ å¼±ä¸€è‡´æ€§çº§åˆ«çš„å¤åˆ¶ å»¶è¿Ÿä¼ æ’­ æ­»é”å¤„ç† å±€éƒ¨ç­‰å¾…å›¾ï¼›å…¨å±€ç­‰å¾…å›¾ å¯ç”¨æ€§ åŸºäºå¤šæ•°çš„æ–¹æ³• è¯»ä¸€ä¸ªã€å†™æ‰€æœ‰å¯ç”¨çš„æ–¹æ³• ç«™ç‚¹é‡å»º åˆ†å¸ƒå¼æŸ¥è¯¢å¤„ç† æŸ¥è¯¢è½¬æ¢ è¿æ¥å¤„ç† åŠè¿æ¥ç­–ç•¥ å¼‚æ„åˆ†å¸ƒå¼æ•°æ®åº“ æ•°æ®ç»Ÿä¸€è§†å›¾ æŸ¥è¯¢å¤„ç† å¤šæ•°æ®åº“ä¸­çš„äº‹åŠ¡ç®¡ç† åŸºäºäº‘çš„æ•°æ®åº“ ç›®å½•ç³»ç»Ÿ ç›®å½•è®¿é—®åè®® LDAP MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-21 08:59:46 "},"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®ä»“åº“ä¸æ•°æ®æŒ–æ˜.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/æ•°æ®ä»“åº“ä¸æ•°æ®æŒ–æ˜.html","title":"æ•°æ®ä»“åº“ä¸æ•°æ®æŒ–æ˜","keywords":"","body":"å†³ç­–æ”¯æŒç³»ç»Ÿ æ•°æ®ä»“åº“ æ˜¯ä¸€ä¸ªå°†ä»å¤šä¸ªæ•°æ®æºä¸­æ”¶é›†æ¥çš„ä¿¡æ¯ä»¥ç»Ÿä¸€çš„æ¨¡å¼å­˜å‚¨åœ¨å•ä¸ªç«™ç‚¹ä¸Šçš„ä»“å‚¨ é—®é¢˜ï¼š ä½•æ—¶å’Œå¦‚ä½•æ”¶é›†æ•°æ® ä½¿ç”¨ä½•ç§æ¨¡å¼ æ•°æ®è½¬æ¢å’Œæ¸…ç† å¦‚ä½•ä¼ æ’­æ›´æ–° æ±‡æ€»ä½•ç§æ•°æ® æŠ½å–ã€è½¬æ¢ã€åŠ è½½ æ•°æ®ä»“åº“æ¨¡å¼ äº‹å®è¡¨ é›ªèŠ±æ¨¡å¼ é¢å‘åˆ—çš„å­˜å‚¨ ä¼˜åŠ¿ï¼š æœ‰è¾ƒå¥½çš„ä¼ è¾“æ€§èƒ½ ç›¸åŒç±»å‹çš„å€¼å­˜å‚¨åœ¨ä¸€èµ·æé«˜äº†å‹ç¼©æ•ˆç‡ å±€é™ï¼š è¯»å†™å•ä¸ªå…ƒç»„éœ€è¦å¤šæ¬¡IO æ•°æ®æŒ–æ˜ ä»æ•°æ®åº“ä¸­å‘ç°çŸ¥è¯† æ”¯æŒåº¦ ç½®ä¿¡åº¦ åˆ†ç±» æœºå™¨å­¦ä¹  å†³ç­–æ ‘åˆ†ç±»å™¨ æ„é€ å†³ç­–æ ‘åˆ†ç±»å™¨ è´ªå¿ƒç®—æ³• æœ€ä¼˜åˆ’åˆ† å¯»æ‰¾æœ€ä¼˜åˆ’åˆ† å…¶ä»–ç±»å‹çš„åˆ†ç±»å™¨ ç¥ç»ç½‘ç»œåˆ†ç±»å™¨ è´å¶æ–¯åˆ†ç±»å™¨ æ”¯æŒå‘é‡æœº å›å½’ å€¼çš„é¢„æµ‹ åˆ†ç±»å™¨éªŒè¯ æ­£ç¡®æ€§ å¬å›ç‡ å‡†ç¡®ç‡ ç‰¹å¼‚æ€§ å…³è”è§„åˆ™ å…¶ä»–ç±»å‹çš„å…³è” èšç±» å±‚æ¬¡èšç±» å‡èšèšç±» åˆ†è£‚èšç±» å…¶ä»–ç±»å‹çš„æ•°æ®æŒ–æ˜ æ–‡æœ¬æŒ–æ˜ æ•°æ®å¯è§†åŒ– MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-22 09:20:26 "},"æ•°æ®åº“ç³»ç»Ÿ/ä¿¡æ¯æ£€ç´¢.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/ä¿¡æ¯æ£€ç´¢.html","title":"ä¿¡æ¯æ£€ç´¢","keywords":"","body":"ä½¿ç”¨æœ¯è¯­çš„ç›¸å…³æ€§æ’å ä½¿ç”¨TF-IDFçš„æ’åæ–¹æ³• ä½¿ç”¨æœ¯è¯­é¢‘ç‡åº¦é‡ä¸€ä»½æ–‡æ¡£çš„ç›¸å…³æ€§ åŸºäºç›¸ä¼¼æ€§çš„æ£€ç´¢ ä½™å¼¦ç›¸ä¼¼æ€§ ä½¿ç”¨è¶…é“¾æ¥çš„ç›¸å…³æ€§ æµè¡Œåº¦æ’å PageRank å…¶ä»–çš„æµè¡Œåº¦åº¦é‡ æœç´¢å¼•æ“ä½œå¼Š åŒä¹‰è¯ã€å¤šä¹‰è¯å’Œæœ¬ä½“ æ–‡æ¡£çš„ç´¢å¼• æ£€ç´¢çš„æœ‰æ•ˆæ€§åº¦é‡ æŸ¥å‡†ç‡ æŸ¥å…¨ç‡ Webçš„æŠ“å–å’Œç´¢å¼• ä¿¡æ¯æ£€ç´¢ï¼šç½‘é¡µæ’åä¹‹å¤– æŸ¥è¯¢ç»“æœå¤šæ ·åŒ– ä¿¡æ¯æŠ½å– é—®ç­”ç³»ç»Ÿ æŸ¥è¯¢ç»“æ„åŒ–æ•°æ® ç›®å½•ä¸åˆ†ç±» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-22 09:20:26 "},"æ•°æ®åº“ç³»ç»Ÿ/å¯¹è±¡æ•°æ®åº“.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/å¯¹è±¡æ•°æ®åº“.html","title":"å¯¹è±¡æ•°æ®åº“","keywords":"","body":" æœ¬åœ°æ”¯æŒ å¯¹è±¡-å…³ç³»æ˜ å°„(ORM) å¤æ‚æ•°æ®ç±»å‹ book author publisher keywor SQLä¸­çš„ç»“æ„ç±»å‹å’Œç»§æ‰¿ ç»“æ„ç±»å‹ CREATE TYPE Name AS ( firstname VARCHAR(20), lastname VARCHAR(20) ) final; ç±»å‹ç»§æ‰¿ CREATE TYPE Apple UNDER Fruit è¡¨ç»§æ‰¿ CREATE TABLE Apple UNDER Fruit æ•°ç»„å’Œå¤šé‡é›†åˆç±»å‹ å¯¹è±¡æ ‡è¯†å’Œå¼•ç”¨ç±»å‹ æŒä¹…åŒ–ç¨‹åºè®¾è®¡è¯­è¨€ å¯¹è±¡çš„æŒä¹…åŒ– æŒ‰ç±»æŒä¹…åŒ– æŒ‰åˆ›å»ºæŒä¹…åŒ– æŒ‰æ ‡å¿—æŒä¹…åŒ– æŒ‰å¯è¾¾æ€§æŒä¹…åŒ– å¯¹è±¡æ ‡è¯†å’ŒæŒ‡é’ˆ æŒä¹…ç¨‹åº¦ï¼š è¿‡ç¨‹å†…éƒ¨ ç¨‹åºå†…éƒ¨ ç¨‹åºä¹‹é—´ æŒä¹… æŒä¹…å¯¹è±¡çš„å­˜å‚¨å’Œè®¿é—® æŒä¹…åŒ–C++ç³»ç»Ÿ æŒä¹…åŒ–javaç³»ç»Ÿ å¯¹è±¡-å…³ç³»æ˜ å°„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-23 04:21:05 "},"æ•°æ®åº“ç³»ç»Ÿ/é«˜çº§ä¸»é¢˜/é«˜çº§åº”ç”¨å¼€å‘.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/é«˜çº§ä¸»é¢˜/é«˜çº§åº”ç”¨å¼€å‘.html","title":"é«˜çº§åº”ç”¨å¼€å‘","keywords":"","body":"æ€§èƒ½è°ƒæ•´ æé«˜é¢å‘é›†åˆçš„ç‰¹æ€§ æ‰¹é‡ åµŒå¥—å­æŸ¥è¯¢ æ‰¹é‡åŠ è½½å’Œæ›´æ–°çš„è°ƒæ•´ ç“¶é¢ˆä½ç½® å¯è°ƒå‚æ•° ç¬¬ä¸€çº§ï¼šç¡¬ä»¶ ç¬¬äºŒçº§ï¼šæ•°æ®åº“ç³»ç»Ÿå‚æ•° ç¬¬ä¸‰çº§ï¼šæ¨¡å¼å’Œäº‹åŠ¡ ç¡¬ä»¶è°ƒæ•´ å¢åŠ ç¡¬ä»¶æŠ•å…¥ ç¼“å†²åŒº æ¨¡å¼è°ƒæ•´ æ‹†åˆ† åˆ—å­˜å‚¨ ç´¢å¼•è°ƒæ•´ ç‰©åŒ–è§†å›¾ ç«‹å³ç»´æŠ¤ å»¶è¿Ÿç»´æŠ¤ ç‰©ç†è®¾è®¡çš„è‡ªåŠ¨è°ƒæ•´ å¹¶å‘äº‹åŠ¡è°ƒæ•´ æ€§èƒ½æ¨¡æ‹Ÿ æ€§èƒ½åŸºå‡†ç¨‹åº ä»»åŠ¡é›† æ•°æ®åº“åº”ç”¨ç±»å‹ CPCåŸºå‡†ç¨‹åº tps åº”ç”¨ç³»ç»Ÿå¼€å‘çš„å…¶ä»–é—®é¢˜ æµ‹è¯• ç§»æ¤ æ ‡å‡†åŒ– SQLæ ‡å‡† æ•°æ®åº“è¿æ¥æ ‡å‡† å¯¹è±¡æ•°æ®åº“æ ‡å‡† åŸºäºXMLçš„æ ‡å‡† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-24 00:43:50 "},"æ•°æ®åº“ç³»ç»Ÿ/é«˜çº§ä¸»é¢˜/æ—¶ç©ºæ•°æ®å’Œç§»åŠ¨æ€§.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/é«˜çº§ä¸»é¢˜/æ—¶ç©ºæ•°æ®å’Œç§»åŠ¨æ€§.html","title":"æ—¶ç©ºæ•°æ®å’Œç§»åŠ¨æ€§","keywords":"","body":" æ—¶æ€æ•°æ® ç©ºé—´æ•°æ® å¤šåª’ä½“æ•°æ® ç§»åŠ¨æ•°æ®åº“ æ•°æ®åº“ä¸­çš„æ—¶é—´ SQLä¸­çš„æ—¶é—´è§„èŒƒ date time timestamp æ—¶æ€æŸ¥è¯¢è¯­è¨€ æ—¶æ€é€‰æ‹© æ—¶æ€æŠ•å½± æ—¶æ€è¿æ¥ ç©ºé—´ä¸åœ°ç†æ•°æ® è®¡ç®—æœºè¾…åŠ©è®¾è®¡æ•°æ® åœ°ç†æ•°æ® å‡ ä½•ä¿¡æ¯è¡¨ç¤º è®¾è®¡æ•°æ®åº“ åœ°ç†æ•°æ® è¡¨ç¤º å…‰æ …æ•°æ® çŸ¢é‡æ•°æ® ç©ºé—´æŸ¥è¯¢ ä¸´è¿‘æŸ¥è¯¢ åŒºåŸŸæŸ¥è¯¢ ç©ºé—´è¿æ¥ ç©ºé—´æ•°æ®çš„ç´¢å¼• k-dæ ‘ å››å‰æ ‘ Ræ ‘ å¤šåª’ä½“æ•°æ®åº“ æ”¯æŒå¤§å¯¹è±¡ ä¼ è¾“é€Ÿç‡ç¨³å®š åŸºäºç›¸ä¼¼æ€§æ£€ç´¢ è¿ç»­åª’ä½“æ•°æ® å¿« ä¸ä¼šå¯¼è‡´æº¢å‡º ä¿è¯ä¸åŒæµä¹‹é—´åŒæ­¥ åŸºäºç›¸ä¼¼æ€§çš„æ£€ç´¢ å›¾ç‰‡æ•°æ® éŸ³é¢‘æ•°æ® æ‰‹ä¹¦æ•°æ® ç§»åŠ¨æ€§å’Œä¸ªäººæ•°æ®åº“ ç§»åŠ¨è®¡ç®—æ¨¡å‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-24 04:22:55 "},"æ•°æ®åº“ç³»ç»Ÿ/é«˜çº§ä¸»é¢˜/é«˜çº§äº‹åŠ¡å¤„ç†.html":{"url":"æ•°æ®åº“ç³»ç»Ÿ/é«˜çº§ä¸»é¢˜/é«˜çº§äº‹åŠ¡å¤„ç†.html","title":"é«˜çº§äº‹åŠ¡å¤„ç†","keywords":"","body":"äº‹åŠ¡å¤„ç†ç›‘æ§å™¨ TPç›‘æ§ä½“ç³»ç»“æ„ æ¯å®¢æˆ·ç«¯è¿›ç¨‹æ¨¡å‹ å•æœåŠ¡å™¨æ¨¡å‹ å¤šæœåŠ¡å™¨å•è·¯ç”±æ¨¡å‹ å¤šæœåŠ¡å™¨å¤šè·¯ç”±æ¨¡å‹ ä½¿ç”¨TPç›‘æ§å™¨è¿›è¡Œåº”ç”¨åè°ƒ äº‹åŠ¡å·¥ä½œæµ å·¥ä½œæµè¯´æ˜ å·¥ä½œæµçš„æ•…éšœåŸå­æ€§éœ€æ±‚ å·¥ä½œæµæ‰§è¡Œ é›†ä¸­å¼ éƒ¨åˆ†åˆ†å¸ƒå¼ å®Œå…¨åˆ†å¸ƒå¼ å·¥ä½œæµæ¢å¤ ä¿è¯å·¥ä½œæµçš„æ•…éšœåŸå­æ€§ å·¥ä½œæµç®¡ç†ç³»ç»Ÿ ç”µå­å•†åŠ¡ ç”µå­ç›®å½• å¸‚åœº è®¢å•ç»“ç®— ä¸»å­˜æ•°æ®åº“ å®æ—¶äº‹åŠ¡ç³»ç»Ÿ ç¡¬æˆªæ­¢æ—¶é—´ ä¸¥æ ¼æˆªæ­¢æ—¶é—´ è½¯æˆªæ­¢æ—¶é—´ é•¿äº‹åŠ¡ æŒç»­æ—¶é—´é•¿ æš´éœ²æœªæäº¤æ•°æ® å­ä»»åŠ¡ å¯æ¢å¤æ€§ æ€§èƒ½ ä¸å¯ä¸²è¡ŒåŒ–çš„æ‰§è¡Œ å¹¶å‘æ§åˆ¶ åµŒå¥—äº‹åŠ¡å’Œå¤šçº§äº‹åŠ¡ è¡¥å¿äº‹åŠ¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-24 09:11:56 "},"æ•°æ®æŠ€æœ¯/æ•°æ®æŠ€æœ¯.html":{"url":"æ•°æ®æŠ€æœ¯/æ•°æ®æŠ€æœ¯.html","title":"æ•°æ®æŠ€æœ¯","keywords":"","body":"MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-11 03:43:47 "},"æ•°æ®æŠ€æœ¯/æ•°æ®æŒ–æ˜.html":{"url":"æ•°æ®æŠ€æœ¯/æ•°æ®æŒ–æ˜.html","title":"æ•°æ®æŒ–æ˜","keywords":"","body":"æ•°æ®æŒ–æ˜ æ¨è åŸºäºç”¨æˆ·çš„åä½œå‹è¿‡æ»¤ ä¸ºç”¨æˆ·è®¡ç®—ä¸å…¶ä»–ç”¨æˆ·çš„ç›¸ä¼¼åº¦ åŸºäºç‰©å“çš„åä½œå‹è¿‡æ»¤ ä¸ºç‰©å“è®¡ç®—ä¸å…¶ä»–ç‰©å“çš„ç›¸ä¼¼åº¦ éœ€è¦æå‰è®¡ç®—å¥½ç‰©å“çš„ç›¸ä¼¼é›†åˆ æ”¶é›†åå¥½ ä¸ç®¡åå¥½æ˜¯è¯„ä»·ä½•ç‰©å“ æœ€ç»ˆéƒ½éœ€è¦ä¸€ç§æ–¹æ³•å°†å…¶å¯¹åº”åˆ°æ•°å­—ï¼š ä½¿ç”¨è¿™ä¸€çš„ä¸€ä¸ªitemè¡¨ç¤ºæŸä¸€ç”¨æˆ·çš„åå¥½ï¼š 'Toby': {'Snakes on a Plane': 4.5, 'You, Me and Dupree': 1.0, 'Superman Returns': 4.0} å¯»æ‰¾ç›¸ä¼¼çš„ç”¨æˆ· æ¬§å‡ é‡Œå¾—è·ç¦»è¯„ä»·: é€šè¿‡å°†ç”¨æˆ·è½¬æ¢ä¸ºåæ ‡ä¸­çš„ç‚¹ è®¡ç®—ç‚¹ä¹‹é—´çš„è·ç¦» è·ç¦»è¶Šè¿‘è¶Šç›¸ä¼¼ def sim_distance(prefs, person1, person2): # å¾—åˆ°shared_itemsçš„åˆ—è¡¨ si = {} for item in prefs[person1]: if item in prefs[person2]: si[item] = 1 # å¦‚æœä¸¤è€…æ²¡æœ‰å…±åŒä¹‹å¤„ï¼Œåˆ™è¿”å›0 if len(si) == 0: return 0 # è®¡ç®—æ‰€æœ‰å·®å€¼çš„å¹³æ–¹å’Œ sum_of_squares = 0 for item in si.keys(): # è¿™é‡Œæ‰€åšçš„å°±æ˜¯ç­‰åŒäºåœ¨è®¡ç®—äºŒç»´ä¸­x y çš„å·®å€¼ sum_of_squares = sum_of_squares + pow(prefs[person1][item] - prefs[person2][item], 2) return 1 / (1 + sqrt(sum_of_squares)) çš®å°”é€Šç›¸å…³åº¦è¯„ä»·ï¼š åˆ¤æ–­ä¸¤ç»„æ•°æ®ä¸æŸä¸€ç›´çº¿æ‹Ÿåˆç¨‹åº¦çš„åº¦é‡ def sim_pearson(prefs, p1, p2): # å¾—åˆ°åŒæ–¹éƒ½æ›¾è¯„ä»·è¿‡çš„ç‰©å“åˆ—è¡¨ si = {} for item in prefs[p1]: if item in prefs[p2]: si[item] = 1 # å¦‚æœä¸¤è€…æ²¡æœ‰å…±åŒä¹‹å¤„ï¼Œåˆ™è¿”å›0 if len(si) == 0: return 0 # å¾—åˆ°åˆ—è¡¨å…ƒç´ çš„ä¸ªæ•° n = len(si) # å¯¹æ‰€æœ‰åå¥½æ±‚å’Œ sum1 = sum([prefs[p1][it] for it in si]) sum2 = sum([prefs[p2][it] for it in si]) # æ±‚å¹³æ–¹å’Œ sum1Sq = sum([pow(prefs[p1][it], 2) for it in si]) sum2Sq = sum([pow(prefs[p2][it], 2) for it in si]) # æ±‚ä¹˜ç§¯ä¹‹å’Œ pSum = sum([prefs[p1][it] * prefs[p2][it] for it in si]) # è®¡ç®—çš®å°”é€Šè¯„ä»·å€¼ num = pSum - (sum1 * sum2 / n) den = sqrt((sum1Sq - pow(sum1, 2) / n) * (sum2Sq - pow(sum2, 2) / n)) if den == 0: return 0 r = num / den return r ä¸ºæŸä¸€ç”¨æˆ·æ‰¾å‡ºä¸å…¶ç›¸ä¼¼çš„ç”¨æˆ· def topMatches(prefs, person, n=5, similarity=sim_pearson): scores = [(similarity(prefs, person, other), other) for other in prefs if other != person] scores.sort() scores.reverse() return scores[0:n] æ ¹æ®ç›¸ä¼¼ç”¨æˆ·æ¨èç‰©å“ def getRecommendations(prefs, person, similarity=sim_pearson): totals = {} simSums = {} for other in prefs: # ä¸å’Œè‡ªå·±æ¯”è¾ƒ if other == person: continue sim = similarity(prefs, person, other) # å¿½ç•¥ç›¸ä¼¼åº¦å°äºç­‰äº0çš„ç”¨æˆ· if sim åŒ¹é…ç‰©å“ é€šè¿‡å°†ç‰©å“ä¸äººäº¤æ¢ å¯ä»¥ä½¿ç”¨æŸ¥æ‰¾ç›¸ä¼¼çš„ç”¨æˆ·çš„ç®—æ³•æ¥æŸ¥æ‰¾ç›¸ä¼¼çš„ç‰©å“ def transformPrefs(prefs): result = {} for person in prefs: for item in prefs[person]: result.setdefault(item, {}) # Flip item and person result[item][person] = prefs[person][item] return result æ„é€ ç‰©å“ç›¸ä¼¼é›†åˆ def calculateSimilarItems(prefs, n=10): # å»ºç«‹ä¸€ä¸ªkeyä¸ºç‰©å“ valueä¸ºä¸å…¶ç›¸ä¼¼ç›¸è¿‘ç‰©å“çš„çš„å­—å…¸ result = {} # åè½¬ç‰©å“ä¸äºº itemPrefs = transformPrefs(prefs) c = 0 for item in itemPrefs: # é’ˆå¯¹å¤§æ•°æ®æ›´æ–°çŠ¶æ€å˜é‡ c += 1 if c % 100 == 0: print(\"%d / %d\" % (c, len(itemPrefs))) # å¯»æ‰¾æœ€ä¸ºç›¸è¿‘çš„ç‰©å“ scores = topMatches(itemPrefs, item, n=n, similarity=sim_distance) result[item] = scores return result ä½¿ç”¨æå‰æ„é€ å¥½çš„æ•°æ®é›†è·å¾—æ¨è def getRecommendedItems(prefs, itemMatch, user): userRatings = prefs[user] scores = {} totalSim = {} # éå†å½“å‰ç”¨æˆ·è¯„ä»·è¿‡çš„ç‰©å“ for (item, rating) in userRatings.items(): # éå†ä¸å½“å‰ç‰©å“ç›¸è¿‘çš„ç‰©å“ for (similarity, item2) in itemMatch[item]: # å¿½ç•¥å·²ç»è¢«è¯„ä»·è¿‡çš„ç‰©å“ if item2 in userRatings: continue # åˆ†æ•°æ˜¯é€šè¿‡ç›¸ä¼¼åº¦*è¯„åˆ† scores.setdefault(item2, 0) scores[item2] += similarity * rating # Sum of all the similarities totalSim.setdefault(item2, 0) totalSim[item2] += similarity # Divide each total score by total weighting to get an average rankings = [(score / totalSim[item], item) for item, score in scores.items()] # Return the rankings from highest to lowest rankings.sort() rankings.reverse() return rankings ç¾¤ç»„ ç›‘ç£å­¦ä¹ ï¼šåˆ©ç”¨æ ·æœ¬å’ŒæœŸæœ›è¾“å‡ºæ¥å­¦ä¹ å¦‚ä½•é¢„æµ‹ æ— ç›‘ç£å­¦ä¹ ï¼šåœ¨ä¸€ç»„æ•°æ®ä¸­å¯»æ‰¾æŸç§ç»“æ„ åˆ†çº§èšç±» ä¸æ–­å°†æœ€ä¸ºç›¸ä¼¼çš„ç¾¤ç»„ä¸¤ä¸¤åˆå¹¶ ä½¿ç”¨æ ‘çŠ¶å›¾æ¥å¯è§†åŒ–èšç±»ç»“æœï¼š é€šè¿‡è·ç¦»æ¥ä½“ç°å„å…ƒç´ çš„ç›¸ä¼¼åº¦ è®¡ç®—ä¸¤ä¸ªæ•°å­—åˆ—è¡¨çš„ç›¸å…³åº¦ï¼š def pearson(v1, v2): # ç®€å•æ±‚å’Œ sum1 = sum(v1) sum2 = sum(v2) # å¹³æ–¹æ ¹å’Œ sum1Sq = sum([pow(v, 2) for v in v1]) sum2Sq = sum([pow(v, 2) for v in v2]) # ä¹˜ç§¯ä¹‹å’Œ pSum = sum([v1[i] * v2[i] for i in range(len(v1))]) # Calculate r (Pearson score) num = pSum - (sum1 * sum2 / len(v1)) den = sqrt((sum1Sq - pow(sum1, 2) / len(v1)) * (sum2Sq - pow(sum2, 2) / len(v1))) if den == 0: return 0 return 1.0 - num / den ä»£è¡¨ä¸€ä¸ªèšç±»èŠ‚ç‚¹ï¼š class bicluster: def __init__(self, vec, left=None, right=None, distance=0.0, id=None): self.left = left self.right = right self.vec = vec self.id = id self.distance = distance åˆ—èšç±» å°†çŸ©é˜µè½¬ç½® def rotatematrix(data): newdata = [] for i in range(len(data[0])): newrow = [data[j][i] for j in range(len(data))] newdata.append(newrow) return newdata å¯ä»¥å¾—åˆ°å•è¯çš„èšç±»ç»“æœ K-å‡å€¼èšç±» éšæœºç¡®å®škä¸ªä¸­å¿ƒä½ç½® å°†å„ä¸ªæ•°æ®é¡¹åˆ†é…ä¸ªæœ€è¿‘çš„ä¸­å¿ƒç‚¹ å°†ä¸­å¿ƒç‚¹ç§»åŠ¨åˆ°å„ä¸ªèŠ‚ç‚¹çš„å¹³å‡ä½ç½® é‡å¤2-3 ç›´åˆ°ä¸å†å˜åŒ– def kcluster(rows, distance=pearson, k=4): # ç¡®å®šæ¯ä¸ªç‚¹çš„æœ€å¤§æœ€å°å€¼ ranges = [(min([row[i] for row in rows]), max([row[i] for row in rows])) for i in range(len(rows[0]))] # éšæœºåˆ›å»ºkä¸ªä¸­å¿ƒç‚¹ clusters = [[random.random() * (ranges[i][1] - ranges[i][0]) + ranges[i][0] for i in range(len(rows[0]))] for j in range(k)] lastmatches = None for t in range(100): dis_sum = 0 print('Iteration %d' % t) bestmatches = [[] for i in range(k)] # åœ¨æ¯ä¸€è¡Œä¸­å¯»æ‰¾è·ç¦»æœ€è¿‘çš„ä¸­å¿ƒç‚¹ for j in range(len(rows)): row = rows[j] bestmatch = 0 for i in range(k): d = distance(clusters[i], row) if d 0: for rowid in bestmatches[i]: for m in range(len(rows[rowid])): avgs[m] += rows[rowid][m] for j in range(len(avgs)): avgs[j] /= len(bestmatches[i]) clusters[i] = avgs return bestmatches, dis_sum äºŒç»´å½¢å¼å±•ç¤º åœ¨ä¸€ä¸ªäºŒç»´å¹³é¢ é€šè¿‡ä¸åŒæ•°æ®é¡¹çš„è·ç¦»æ¥è®¡ç®—å¾—åˆ°ä¸€ä¸ªäºŒç»´å¹³é¢å›¾ def scaledown(data, distance=pearson, rate=0.01): n = len(data) # æ¯ä¸€å¯¹æ•°æ®é¡¹ä¹‹é—´çš„è·ç¦» realdist = [[distance(data[i], data[j]) for j in range(n)] for i in range(0, n)] # éšæœºåˆå§‹åŒ–èŠ‚ç‚¹å†äºŒç»´ç©ºé—´çš„èµ·å§‹ä½ç½® loc = [[random.random(), random.random()] for i in range(n)] fakedist = [[0.0 for j in range(n)] for i in range(n)] lasterror = None for m in range(0, 1000): # å¯»æ‰¾æŠ•å½±åçš„è·ç¦» for i in range(n): for j in range(n): fakedist[i][j] = sqrt(sum([pow(loc[i][x] - loc[j][x], 2) for x in range(len(loc[i]))])) # ç§»åŠ¨èŠ‚ç‚¹ grad = [[0.0, 0.0] for i in range(n)] totalerror = 0 for k in range(n): for j in range(n): if j == k: continue # The error is percent difference between the distances errorterm = (fakedist[j][k] - realdist[j][k]) / realdist[j][k] # Each point needs to be moved away from or towards the other # point in proportion to how much error it has grad[k][0] += ((loc[k][0] - loc[j][0]) / fakedist[j][k]) * errorterm grad[k][1] += ((loc[k][1] - loc[j][1]) / fakedist[j][k]) * errorterm # Keep track of the total error totalerror += abs(errorterm) print(totalerror) # If the answer got worse by moving the points, we are done if lasterror and lasterror æœç´¢ä¸æ’å å»ºç«‹ç´¢å¼• åˆ†è¯ ä»htmlç»“æ„ä¸­è·å–æ–‡æœ¬èŠ‚ç‚¹ï¼Œå¯¹å…¶åˆ†è¯ def gettextonly(self, soup): v = soup.string if len(v) == 0: c = soup.contents resulttext = '' for t in c: subtext = self.gettextonly(t) resulttext += subtext + '\\n' return resulttext else: return v.strip() # ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œåˆ†è¯ @staticmethod def separatewords(self, text): splitter = re.compile('\\\\W*') return [s.lower() for s in splitter.split(text) if s != ''] æŸ¥è¯¢ è¿›è¡Œåˆ†è¯ æŸ¥æ‰¾åˆ†å‡ºçš„è¯çš„å“åº”ID æ ¹æ®è¿™äº›è¯æ¥æŸ¥æ‰¾ç›¸å…³url def getmatchrows(self, q): # æ„é€ sqlæŸ¥è¯¢æ¡ä»¶å­—ç¬¦ä¸² fieldlist = 'w0.urlid' tablelist = '' clauselist = '' wordids = [] # åˆ†è¯ words = q.split(' ') tablenumber = 0 for word in words: # è·å–å•è¯çš„ID wordrow = self.con.execute( \"select rowid from wordlist where word='%s'\" % word).fetchone() if wordrow is not None: wordid = wordrow[0] wordids.append(wordid) if tablenumber > 0: tablelist += ',' clauselist += ' and ' clauselist += 'w%d.urlid=w%d.urlid and ' % (tablenumber - 1, tablenumber) fieldlist += ',w%d.location' % tablenumber tablelist += 'wordlocation w%d' % tablenumber clauselist += 'w%d.wordid=%d' % (tablenumber, wordid) tablenumber += 1 # æ ¹æ®æ¡ä»¶è¿›è¡ŒæŸ¥è¯¢ fullquery = 'select %s from %s where %s' % (fieldlist, tablelist, clauselist) print(fullquery) cur = self.con.execute(fullquery) rows = [row for row in cur] return rows, wordids åŸºäºå†…å®¹çš„æ’å ä½¿ç”¨ä¸€ä¸ªå½’ä¸€åŒ–å‡½æ•°å°†ç»“æœæ˜ å°„åˆ°0-1ä¹‹é—´ï¼š def normalizescores(self, scores, smallIsBetter=0): vsmall = 0.00001 # é¿å…é™¤0 if smallIsBetter: minscore = min(scores.values()) return dict([(u, float(minscore) / max(vsmall, l)) for (u, l) in scores.items()]) else: maxscore = max(scores.values()) if maxscore == 0: maxscore = vsmall return dict([(u, float(c) / maxscore) for (u, c) in scores.items()]) å•è¯é¢‘åº¦ æ ¹æ®å•è¯åœ¨ç½‘é¡µä¸­å‡ºç°çš„æ¬¡æ•°å¯¹ç½‘é¡µè¿›è¡Œè¯„ä»· def frequencyscore(self, rows): counts = dict([(row[0], 0) for row in rows]) for row in rows: counts[row[0]] += 1 return self.normalizescores(counts) æ–‡æ¡£ä½ç½® æ ¹æ®å•è¯ç¦»æ–‡æ¡£é¦–éƒ¨çš„è·ç¦»è¿›è¡Œè¯„ä»· def locationscore(self, rows): locations = dict([(row[0], 1000000) for row in rows]) for row in rows: loc = sum(row[1:]) if loc å•è¯è·ç¦» å•è¯é—´è·æ›´è¿‘ å¾—åˆ†è¶Šé«˜ def distancescore(self, rows): # åªæœ‰ä¸€ä¸ªå•è¯ åˆ™å¾—åˆ†ä¸€æ · if len(rows[0]) ä½¿ç”¨å¤–éƒ¨å›æŒ‡é“¾æ¥ ç®€å•è®¡æ•° ç»Ÿè®¡å…¶ä»–ç½‘é¡µé“¾æ¥æœ¬ç½‘é¡µçš„ä¸ªæ•° ä¸ªæ•°è¶Šå¤š è¯„åˆ†è¶Šé«˜ def inboundlinkscore(self, rows): uniqueurls = dict([(row[0], 1) for row in rows]) inboundcount = dict( [(u, self.con.execute('select count(*) from link where toid=%d' % u).fetchone()[0]) for u in uniqueurls]) return self.normalizescores(inboundcount) PageRank ä¸ºæ‰€æœ‰çš„ç½‘é¡µè®¾ç½®ä¸€ä¸ªé»˜è®¤PRå€¼ ï¼Œæ¯ä¸ªç½‘é¡µçš„PRå€¼è®¡ç®—å…¬å¼ï¼š PR(A) = 0.15 + 0.85 * (PR(B)/links(B) + PR(C)/links(C) + PR(D)/links(D)) ä½¿ç”¨é“¾æ¥æ–‡æœ¬ æ ¹æ®æŒ‡å‘ç½‘é¡µçš„é“¾æ¥æ–‡æœ¬æ¥è¯„ä»·è¯¥ç½‘é¡µ def linktextscore(self, rows, wordids): linkscores = dict([(row[0], 0) for row in rows]) for wordid in wordids: cur = self.con.execute( 'select link.fromid,link.toid from linkwords,link where wordid=%d and linkwords.linkid=link.rowid' % wordid) for (fromid, toid) in cur: if toid in linkscores: pr = self.con.execute('select score from pagerank where urlid=%d' % fromid).fetchone()[0] linkscores[toid] += pr maxscore = max(linkscores.values()) if maxscore == 0: maxscore = 0.00001 normalizedscores = dict([(u, float(l) / maxscore) for (u, l) in linkscores.items()]) return normalizedscores MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-20 03:37:08 "},"æ•°æ®æŠ€æœ¯/å¤§æ•°æ®.html":{"url":"æ•°æ®æŠ€æœ¯/å¤§æ•°æ®.html","title":"å¤§æ•°æ®","keywords":"","body":"å¤§æ•°æ® ç‰¹ç‚¹ 4Vï¼š Volume å¤§é‡ Velocity é«˜é€Ÿ Variety å¤šæ · Value ä½ä»·å€¼å¯†åº¦ å¤§æ•°æ®ç”Ÿæ€ä½“ç³» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-28 08:27:31 "},"æ•°æ®æŠ€æœ¯/Hadoop.html":{"url":"æ•°æ®æŠ€æœ¯/Hadoop.html","title":"Hadoop","keywords":"","body":"Hadoop Hadoopæ˜¯ä¸€ä¸ªç”±ApacheåŸºé‡‘ä¼šæ‰€å¼€å‘çš„åˆ†å¸ƒå¼ç³»ç»ŸåŸºç¡€æ¶æ„ Hadoopé€šå¸¸æ˜¯æŒ‡ä¸€ä¸ªæ›´å¹¿æ³›çš„æ¦‚å¿µâ€”â€”Hadoopç”Ÿæ€åœˆ. ä¸‰å¤§å‘è¡Œç‰ˆæœ¬ï¼š Apaacheï¼šåŸºç¡€ç‰ˆæœ¬ CDH CDP é«˜å¯é  é«˜æ‰©å±• é«˜æ•ˆ é«˜å®¹é”™ å‘å±•å†å² Lucene -> Nutch -> Haddop ç»„æˆ HDFS NameNodeï¼ˆnnï¼‰ï¼šå­˜å‚¨æ–‡ä»¶çš„å…ƒæ•°æ®ï¼Œå¦‚æ–‡ä»¶åï¼Œæ–‡ä»¶ç›®å½•ç»“æ„ï¼Œæ–‡ä»¶å±æ€§ï¼ˆç”Ÿæˆæ—¶é—´ã€å‰¯æœ¬æ•°ã€æ–‡ä»¶æƒé™ï¼‰ï¼Œä»¥åŠæ¯ä¸ªæ–‡ä»¶çš„å—åˆ—è¡¨å’Œå—æ‰€åœ¨çš„DataNodeç­‰ DataNode(dn)ï¼šåœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨æ–‡ä»¶å—æ•°æ®ï¼Œä»¥åŠå—æ•°æ®çš„æ ¡éªŒå’Œ Secondary NameNode(2nn)ï¼šæ¯éš”ä¸€æ®µæ—¶é—´å¯¹NameNodeå…ƒæ•°æ®å¤‡ä»½ YARN MapReduce åˆ†ä»»åŠ¡ è®¡ç®—ä»»åŠ¡ æ±‡æ€»ä»»åŠ¡ å®‰è£… https://github.com/big-data-europe/docker-hadoop æµ‹è¯•é›†ç¾¤ï¼š adoop fs -mkdir /test # åˆ›å»ºæ–‡ä»¶å¤¹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-28 08:27:31 "},"æ“ä½œç³»ç»Ÿ/nav.html":{"url":"æ“ä½œç³»ç»Ÿ/nav.html","title":"ğŸ’½æ“ä½œç³»ç»Ÿ","keywords":"","body":"æ“ä½œç³»ç»Ÿ ç®¡ç†è®¡ç®—æœºç¡¬ä»¶ä¸è½¯ä»¶èµ„æºçš„ç¨‹åº è¿è¡Œåœ¨è®¡ç®—æœºä¸Šçš„ä¸€ä¸ªè½¯ä»¶ åˆ†ä¸ºå†…æ ¸ä¸å¤–å£³ï¼ˆæˆ‘ä»¬å¯ä»¥æŠŠå¤–å£³ç†è§£æˆå›´ç»•ç€å†…æ ¸çš„åº”ç”¨ç¨‹åºï¼Œè€Œå†…æ ¸å°±æ˜¯èƒ½æ“ä½œç¡¬ä»¶çš„ç¨‹åºï¼‰ åŸºæœ¬ç‰¹å¾ å¹¶å‘ å¹¶å‘æ˜¯æŒ‡å®è§‚ä¸Šåœ¨ä¸€æ®µæ—¶é—´å†…èƒ½åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºï¼Œè€Œå¹¶è¡Œåˆ™æŒ‡åŒä¸€æ—¶åˆ»èƒ½è¿è¡Œå¤šä¸ªæŒ‡ä»¤ å¹¶å‘éœ€è¦ç¡¬ä»¶æ”¯æŒ æ“ä½œç³»ç»Ÿå¼•å…¥è¿›ç¨‹å’Œçº¿ç¨‹ï¼Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿå¹¶å‘æ‰§è¡Œ å…±äº« ç³»ç»Ÿä¸­çš„èµ„æºå¯ä»¥è¢«å¤šä¸ªå¹¶å‘è¿›ç¨‹å…±åŒä½¿ç”¨ äº’æ–¥å…±äº« ä¸´ç•Œèµ„æºï¼Œè¿™ç§èµ„æºå…±äº«éœ€è¦ä½¿ç”¨åŒæ­¥æœºåˆ¶æ¥å®ç°äº’æ–¥è®¿é—® åŒæ—¶å…±äº« è™šæ‹Ÿ æ—¶åˆ†å¤ç”¨ å¤šä¸ªè¿›ç¨‹èƒ½åœ¨åŒä¸€ä¸ªå¤„ç†ä¸Šè¿è¡Œï¼ˆæ¯ä¸ªè¿›ç¨‹è½®æµä½¿ç”¨å¤„ç†å™¨ï¼Œå¿«é€Ÿè¿›è¡Œåˆ‡æ¢ï¼‰ ç©ºåˆ†å¤ç”¨ è™šæ‹Ÿå†…å­˜ä¸­çš„é¡µæ˜ å°„ï¼Œè¿›ç¨‹åœ°å€ç©ºé—´çš„å†…å­˜å¯ä»¥ä¸ç”¨å…¨åœ¨ç‰©ç†å†…å­˜ä¸­ï¼Œä¸€äº›å¯ä»¥æ”¾åœ¨å¤–å­˜ï¼Œå½“éœ€è¦è¿™äº›å†…å­˜çš„æ—¶å€™ï¼Œé€šè¿‡é¡µé¢ç½®æ¢ç®—æ³•ï¼Œç§»åˆ°å†…å­˜å½“ä¸­ å¼‚æ­¥ è¿›ç¨‹ä¸ä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ¯•ï¼Œä»¥ä¸ç¡®å®šçš„é€Ÿåº¦å‰è¿› åŸºæœ¬åŠŸèƒ½ è¿›ç¨‹ç®¡ç† å†…å­˜ç®¡ç† æ–‡ä»¶ç®¡ç† è®¾å¤‡ç®¡ç† ç³»ç»Ÿè°ƒç”¨ ç”¨æˆ·æ€(user mode) : ç”¨æˆ·æ€è¿è¡Œçš„è¿›ç¨‹æˆ–å¯ä»¥ç›´æ¥è¯»å–ç”¨æˆ·ç¨‹åºçš„æ•°æ®ã€‚ å†…æ ¸æ€(kernel mode):å¯ä»¥ç®€å•çš„ç†è§£ç³»ç»Ÿæ€è¿è¡Œçš„è¿›ç¨‹æˆ–ç¨‹åºå‡ ä¹å¯ä»¥è®¿é—®è®¡ç®—æœºçš„ä»»ä½•èµ„æºï¼Œä¸å—é™åˆ¶ è¿›ç¨‹éœ€è¦ä½¿ç”¨ä¸€äº›åŠŸèƒ½ï¼Œé€šè¿‡ç³»ç»Ÿè°ƒç”¨é™·å…¥å†…æ ¸ï¼Œç”±æ“ä½œç³»ç»Ÿä»£ä¸ºå®Œæˆ å†…æ ¸ å¤§å†…æ ¸ æ“ä½œç³»ç»ŸåŠŸèƒ½ä½œä¸ºä¸€ä¸ªç´§å¯†çš„æ•´ä½“ æ€§èƒ½å¾ˆé«˜ å¾®å†…æ ¸ å°†ä¸€äº›åŠŸèƒ½ç‹¬ç«‹å‡ºå†…æ ¸ï¼Œåˆ’åˆ†æˆæœåŠ¡ï¼Œé™ä½å†…æ ¸çš„å¤æ‚æ€§ ä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æŸå¤± ä¸­æ–­ å¤–ä¸­æ–­ CPUæ‰§è¡ŒæŒ‡ä»¤å¤–çš„äº‹ä»¶å¼•èµ·ï¼ŒIOå®Œæˆä¸­æ–­ã€æ—¶é’Ÿä¸­æ–­ç­‰ å¼‚å¸¸ CPUæ‰§è¡ŒæŒ‡ä»¤å¼•èµ·çš„ï¼Œåœ°å€è¶Šç•Œã€ç®—æœ¯æº¢å‡º é™·å…¥ åœ¨ç”¨æˆ·ç¨‹åºä¸­ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-06 01:26:14 "},"æ“ä½œç³»ç»Ÿ/è¿›ç¨‹ä¸çº¿ç¨‹.html":{"url":"æ“ä½œç³»ç»Ÿ/è¿›ç¨‹ä¸çº¿ç¨‹.html","title":"è¿›ç¨‹ä¸çº¿ç¨‹","keywords":"","body":"è¿›ç¨‹ä¸çº¿ç¨‹ è¿›ç¨‹ è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ åœ¨æŸä¸€ä¸ªç¬é—´ï¼ŒCPUåªèƒ½è¿è¡Œä¸€ä¸ªè¿›ç¨‹ã€‚ è¿›ç¨‹æ¨¡å‹ è®¡ç®—æœºä¸Šæ‰€æœ‰å¯è¿è¡Œçš„è½¯ä»¶ï¼Œé€šå¸¸åŒ…æ‹¬æ“ä½œç³»ç»Ÿï¼Œè¢«ç»„ç»‡æˆè‹¥å¹²é¡ºåºè¿›ç¨‹ï¼Œç§°ä¸ºè¿›ç¨‹ ç¨‹åºä¸è¿›ç¨‹çš„å…³ç³» è¿›ç¨‹çš„åˆ›å»º å¯¼è‡´è¿›ç¨‹åˆ›å»ºçš„4ç§ä¸»è¦äº‹ä»¶ï¼š ç³»ç»Ÿåˆå§‹åŒ– ç³»ç»Ÿè°ƒç”¨ ç”¨æˆ·è¯·æ±‚åˆ›å»º æ‰¹å¤„ç†ä½œä¸šåˆå§‹åŒ– å®ˆæŠ¤è¿›ç¨‹ï¼šåœç•™åœ¨åå°çš„çº¿ç¨‹ å†™æ—¶å¤åˆ¶ è¿›ç¨‹çš„ç»ˆæ­¢ ç»ˆæ­¢çš„æ¡ä»¶ï¼š æ­£å¸¸é€€å‡ºï¼ˆè‡ªæ„¿ï¼‰ å‡ºé”™é€€å‡ºï¼ˆè‡ªæ„¿ï¼‰ ä¸¥é‡é”™è¯¯ï¼ˆéè‡ªæ„¿ï¼‰ è¢«å…¶ä»–è¿›ç¨‹æ€æ­»ï¼ˆéè‡ªæ„¿ï¼‰ è¿›ç¨‹çš„å±‚æ¬¡ç»“æ„ UNIXä¸­ï¼Œè¿›ç¨‹åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹åï¼Œè¯¥è¿›ç¨‹ç§°ä¸ºå…¶çš„çˆ¶è¿›ç¨‹ï¼Œå®ƒä¸å®ƒçš„æ‰€æœ‰åä»£ç»„æˆä¸€ä¸ªè¿›ç¨‹ç»„ã€‚ ä½†åœ¨Windowsä¸­ï¼Œè¿›ç¨‹ä¹‹é—´æ²¡æœ‰å±‚æ¬¡å…³ç³»ï¼Œé™¤äº†çˆ¶è¿›ç¨‹åœ¨åˆ›å»ºå­è¿›ç¨‹æ—¶ï¼Œä¼šè·å¾—å…¶çš„å¥æŸ„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæ²¡æœ‰ä»»ä½•è”ç³»ã€‚ è¿›ç¨‹çš„çŠ¶æ€ è¿è¡Œæ€ï¼ˆæ­£åœ¨å ç”¨CPUï¼‰ å°±ç»ªæ€ï¼ˆå¯è¿è¡Œï¼Œä½†è¿˜æ²¡æœ‰è¿è¡Œï¼‰ é˜»å¡æ€ï¼ˆæ­£åœ¨ç­‰å¾…å¤–éƒ¨äº‹ä»¶ï¼Œå¦‚IOè¯»å–ï¼‰ åƒä¸åƒçº¿ç¨‹ è°ƒåº¦ç¨‹åºï¼šè´Ÿè´£åˆ‡æ¢è¿›ç¨‹çš„æ‰§è¡Œ è¿›ç¨‹çš„å®ç° ä¸ºå®ç°è¿›ç¨‹æ¨¡å‹ï¼Œæ“ä½œç³»ç»Ÿç»´æŠ¤ä¸€å¼ è¡¨ï¼šè¿›ç¨‹è¡¨ ä¸­æ–­å‘é‡ï¼šä¸­æ–­æœåŠ¡ç¨‹åºçš„å…¥å£åœ° å¤šé“ç¨‹åºè®¾è®¡æ¨¡å‹ CPUåˆ©ç”¨ç‡ = 1-P^n nç§°ä¸ºå¤šé“ç¨‹åºè®¾è®¡çš„é“æ•° Pä¸ºCPUç©ºè½¬çš„æ¦‚ç‡ çº¿ç¨‹ çº¿ç¨‹æ˜¯ç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ çº¿ç¨‹çš„ä½¿ç”¨ ä½¿ç”¨çº¿ç¨‹çš„ç†ç”±ï¼š æ›´å¥½æè¿°ç¨‹åºçš„è¡Œä¸º çº¿ç¨‹æ¯”è¿›ç¨‹æ›´è½»é‡ æé«˜æ€§èƒ½ æœ‰é™çŠ¶æ€æœº æ¯ä¸ªè®¡ç®—æœºéƒ½æœ‰ä¸€ä¸ªè¢«ä¿å­˜çš„çŠ¶æ€ï¼Œå­˜åœ¨ä¸€ä¸ªä¼šå‘ç”Ÿä¸”ä½¿å¾—ç›¸å…³çŠ¶æ€å‘ç”Ÿæ”¹å˜çš„äº‹ä»¶é›†åˆ ç»å…¸çš„çº¿ç¨‹æ¨¡å‹ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å †æ ˆ POSIXçº¿ç¨‹ ä¸€ç§çº¿ç¨‹æ ‡å‡†ï¼Œå®šä¹‰çš„çº¿ç¨‹åŒ…å«åšpthread åœ¨ç”¨æˆ·ç©ºé—´ä¸­å®ç°çº¿ç¨‹ ç”¨æˆ·çº§çº¿ç¨‹çš„ä¼˜ç‚¹ï¼š å¿« å¯ä»¥å®šåˆ¶è‡ªå·±çš„è°ƒåº¦ç®—æ³• å±€é™æ€§ï¼š å¦‚ä½•å®ç°é˜»å¡ç³»ç»Ÿè°ƒç”¨ åœ¨å†…æ ¸ä¸­å®ç°çº¿ç¨‹ ä»£ä»·å¾ˆå¤§ æ··åˆå®ç° è°ƒåº¦ç¨‹åºæ¿€æ´»æœºåˆ¶ ä¸Šè¡Œè°ƒç”¨ å¼¹å‡ºçº¿ç¨‹ ä¸€ä¸ªæ¶ˆæ¯çš„åˆ°è¾¾å¯¼è‡´ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªå¤„ç†è¯¥æ¶ˆæ¯çš„çº¿ç¨‹ ä½¿å•çº¿ç¨‹ä»£ç å¤šçº¿ç¨‹åŒ– å…¨å±€å˜é‡çš„é—®é¢˜ è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ« çº¿ç¨‹ä¸æ‹¥æœ‰èµ„æºï¼Œçº¿ç¨‹åªèƒ½è®¿é—®éš¶å±è¿›ç¨‹çš„èµ„æº åœ¨åŒä¸€è¿›ç¨‹ä¸­ï¼Œçº¿ç¨‹çš„åˆ‡æ¢ä¸ä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ï¼Œä»ä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹æ—¶ï¼Œä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ åˆ›å»ºè¿›ç¨‹çš„å¼€é”€æ¯”åˆ›å»ºçº¿ç¨‹å¤§ å¦‚åˆ›å»ºæ’¤é”€è¿›ç¨‹éœ€è¦åˆ†é…æˆ–å›æ”¶èµ„æºï¼Œå¦‚å†…å­˜ç©ºé—´ã€I/O è®¾å¤‡ è¿›è¡Œè¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œæ¶‰åŠå½“å‰æ‰§è¡Œè¿›ç¨‹ CPU ç¯å¢ƒçš„ä¿å­˜åŠæ–°è°ƒåº¦è¿›ç¨‹ CPU ç¯å¢ƒçš„è®¾ç½®ï¼Œè€Œçº¿ç¨‹åˆ‡æ¢æ—¶åªéœ€ä¿å­˜å’Œè®¾ç½®å°‘é‡å¯„å­˜å™¨å†…å®¹ è¿›ç¨‹é—´é€šä¿¡ æœ‰å…³é—®é¢˜ï¼š è¿›ç¨‹ä¹‹é—´ä¼ é€’ä¿¡æ¯ è¿›ç¨‹ä¹‹é—´çš„æ´»åŠ¨ä¸ä¼šå‡ºç°äº¤å‰ è¿›ç¨‹ä¹‹é—´è¿è¡Œçš„é¡ºåº ç«äº‰æ¡ä»¶ ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹è¯»å†™æŸäº›å…±äº«æ•°æ®ï¼Œå¾—åˆ°çš„ç»“æœå–å†³äºè¿›ç¨‹è¿è¡Œçš„ç²¾ç¡®æ—¶åº ä¸´ç•ŒåŒº é€šè¿‡äº’æ–¥æ¥ç»„ç»‡å¤šä¸ªè¿›ç¨‹åŒæ—¶è¯»å†™å…±äº«æ•°æ® æŠŠå¯¹å…±äº«å†…å­˜è¿›è¡Œè®¿é—®çš„ç¨‹åºç‰‡æ®µç§°ä¸ºä¸´ç•ŒåŒº ä»»ä½•ä¸¤ä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶å¤„äºä¸´ç•ŒåŒº ä¸å¯¹CPUçš„é€Ÿåº¦å’Œæ•°é‡åšå‡è®¾ ä¸´ç•ŒåŒºå¤–è¿è¡Œçš„è¿›ç¨‹ä¸èƒ½é˜»å¡å…¶ä»–è¿›ç¨‹ ä¸èƒ½ä½¿è¿›ç¨‹æ— é™ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒº åŒæ­¥ä¸äº’æ–¥ åŒæ­¥ï¼šå¤šä¸ªè¿›ç¨‹å› ä¸ºåˆä½œäº§ç”Ÿçš„ç›´æ¥åˆ¶çº¦å…³ç³»ï¼Œä½¿å¾—è¿›ç¨‹æœ‰ä¸€å®šçš„å…ˆåæ‰§è¡Œå…³ç³»ã€‚ äº’æ–¥ï¼šå¤šä¸ªè¿›ç¨‹åœ¨åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½è¿›å…¥ä¸´ç•ŒåŒº å¿™ç­‰å¾…çš„äº’æ–¥ å±è”½ä¸­æ–­ï¼šè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºåå±è”½æ‰€æœ‰ä¸­æ–­ï¼Œè¿™æ ·ç³»ç»Ÿå°±æ— æ³•åˆ‡æ¢åˆ°å…¶ä»–è¿›ç¨‹äº† é”å˜é‡ ä¸¥æ ¼è½®æ¢æ³•ï¼š è¿ç»­æµ‹è¯•ä¸€ä¸ªå˜é‡ç›´åˆ°æŸä¸ªå€¼å‡ºç°ä¸ºæ­¢ï¼Œç§°ä¸ºå¿™ç­‰å¾… è‡ªæ—‹é”ï¼šç”¨äºå¿™ç­‰å¾…çš„é” Petersonè§£æ³• TSL æŒ‡ä»¤ è°ƒç”¨enter() -> å¿™ç­‰å¾…ï¼Œç›´åˆ°è·å¾—é” -> è°ƒç”¨leave() ç¡çœ ä¸å”¤é†’ ä¼˜å…ˆçº§åè½¬é—®é¢˜ ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ ä¿¡å·é‡ ä¿¡å·é‡ï¼ˆSemaphoreï¼‰æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡ŒåŸå­æ“ä½œçš„ downï¼šå¦‚æœä¿¡å·é‡å¤§äº 0 ï¼Œæ‰§è¡Œ -1 æ“ä½œï¼›å¦‚æœä¿¡å·é‡ç­‰äº 0ï¼Œè¿›ç¨‹ç¡çœ ï¼Œç­‰å¾…ä¿¡å·é‡å¤§äº 0 up ï¼šå¯¹ä¿¡å·é‡æ‰§è¡Œ +1 æ“ä½œï¼Œå”¤é†’ç¡çœ çš„è¿›ç¨‹è®©å…¶å®Œæˆ down æ“ä½œ äº’æ–¥é‡ ä¿¡å·é‡çš„ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬ï¼Œå€¼åªèƒ½å–0æˆ–è€…1 è‡ªæ—‹é”æ˜¯å¿™ç­‰å¾…çš„ä½“ç° å¿«é€Ÿç”¨æˆ·åŒºäº’æ–¥é‡futex pthreadä¸­çš„äº’æ–¥é‡ æ¡ä»¶å˜é‡ æ­»é” ä¸¤ä¸ªè¿›ç¨‹äº’ç›¸ç­‰å¾…å¯¹æ–¹ï¼Œä¸€ç›´é˜»å¡ä¸‹å» ç®¡ç¨‹ ä¸€ä¸ªç®¡ç¨‹ç”±è¿‡ç¨‹ã€å˜é‡ã€æ•°æ®ç»“æ„ç­‰ç»„åˆæˆçš„ä¸€ä¸ªé›†åˆ monitor ProducerConsumer integer i; condition c; procedure insert(); begin // ... end; procedure remove(); begin // ... end; end monitor; åœ¨ä¸€ä¸ªæ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ç®¡ç¨‹ åƒä¸åƒä¸€ä¸ªç±»ï¼ˆæœ‰å±æ€§ï¼Œæœ‰è¡Œä¸ºï¼‰ è¿›ç¨‹å¯ä»¥åœ¨ä»»ä½•æ—¶å€™é€šè¿‡ç®¡ç¨‹é—´æ¥è·å–æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥è·å–æ•°æ® æ¶ˆæ¯ä¼ é€’ send(ç›®çš„,&msg); receive(æº,&msg); ç”¨æ¶ˆæ¯ä¼ é€’è§£å†³ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ æ¶ˆæ¯ä¼ é€’æ¥å£ å±éšœ å½“ä¸€ä¸ªè¿›ç¨‹åˆ°è¾¾å±éšœæ—¶ï¼Œå°±ä¼šè¢«é˜»æ‹¦ï¼Œç›´åˆ°æ‰€æœ‰è¿›ç¨‹éƒ½åˆ°è¾¾å±éšœä¸ºæ­¢ é¿å…é”ï¼šè¯»-å¤åˆ¶-æ›´æ–°ï¼ˆRCUï¼‰ è¦ä¹ˆè¯»å–æ—§ç‰ˆæœ¬ï¼Œè¦ä¹ˆè¯»å–æ–°ç‰ˆæœ¬ è°ƒåº¦ è°ƒåº¦ç¨‹åºä¸è°ƒåº¦ç®—æ³• ç®€ä»‹ è¿›ç¨‹è¡Œä¸º IOæ´»åŠ¨ä¸CPUè®¡ç®— è®¡ç®—å¯†é›†å‹ IOå¯†é›†å‹ ä½•æ—¶è°ƒåº¦ è¿è¡Œä¸€ä¸ªæ–°è¿›ç¨‹å ä¸€ä¸ªè¿›ç¨‹é€€å‡ºå ä¸€ä¸ªè¿›ç¨‹é˜»å¡å IOä¸­æ–­ éæŠ¢å å¼ï¼šç›´åˆ°ä¸€ä¸ªè¿›ç¨‹é˜»å¡æˆ–è€…ä¸»åŠ¨é‡Šæ”¾CPU æŠ¢å å¼ï¼šè¿è¡Œä¸€æ®µæ—¶é—´ï¼Œåè°ƒåº¦ç¨‹åºè¿›è¡Œè°ƒåº¦æŒ‘é€‰ä¸‹ä¸€ä¸ªè¿è¡Œçš„è¿›ç¨‹ è°ƒåº¦ç®—æ³• è°ƒåº¦ç®—æ³•çš„ç›®æ ‡ æ‰¹å¤„ç†ç³»ç»Ÿ åœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œè°ƒåº¦ç®—æ³•ç›®æ ‡æ˜¯ä¿è¯ååé‡å’Œå‘¨è½¬æ—¶é—´ å…ˆæ¥å…ˆæœåŠ¡ first-come first-serverdï¼ˆFCFSï¼‰ çŸ­ä½œä¸šä¼˜å…ˆ shortest job firstï¼ˆSJFï¼‰ æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ shortest remaining time nextï¼ˆSRTNï¼‰ äº¤äº’å¼ç³»ç»Ÿ åœ¨è¯¥ç³»ç»Ÿä¸­è°ƒåº¦ç®—æ³•çš„ç›®æ ‡æ˜¯å¿«é€Ÿåœ°è¿›è¡Œå“åº” æ—¶é—´ç‰‡è½®è½¬ æ¯æ¬¡è°ƒåº¦æ—¶ï¼ŒæŠŠ CPU æ—¶é—´åˆ†é…ç»™é˜Ÿé¦–è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹å¯ä»¥æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡ã€‚å½“æ—¶é—´ç‰‡ç”¨å®Œæ—¶ï¼Œç”±è®¡æ—¶å™¨å‘å‡ºæ—¶é’Ÿä¸­æ–­ï¼Œè°ƒåº¦ç¨‹åºä¾¿åœæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œï¼Œå¹¶å°†å®ƒé€å¾€å°±ç»ªé˜Ÿåˆ—çš„æœ«å°¾ï¼ŒåŒæ—¶ç»§ç»­æŠŠ CPU æ—¶é—´åˆ†é…ç»™é˜Ÿé¦–çš„è¿›ç¨‹ è¯¥ç®—æ³•æ•ˆç‡ä¸æ—¶é—´ç‰‡å¤§å°æœ‰å…³ï¼Œæ—¶é—´ç‰‡è¿‡äºå°ï¼Œä¼šé€ æˆè¿›ç¨‹åˆ‡æ¢é¢‘ç¹ï¼Œè¿‡å¤§å®æ—¶æ€§æ— æ³•å¾—åˆ°ä¿è¯ ä¼˜å…ˆçº§è°ƒåº¦ ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ªä¼˜å…ˆçº§ï¼ŒæŒ‰ä¼˜å…ˆçº§è¿›è¡Œè°ƒåº¦ ä¸ºäº†é˜²æ­¢ä½ä¼˜å…ˆçº§çš„è¿›ç¨‹æ°¸è¿œç­‰ä¸åˆ°è°ƒåº¦ï¼Œå¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»å¢åŠ ç­‰å¾…è¿›ç¨‹çš„ä¼˜å…ˆçº§ å¤šçº§åé¦ˆé˜Ÿåˆ— å®ƒè®¾ç½®äº†å¤šä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—æ—¶é—´ç‰‡å¤§å°éƒ½ä¸åŒï¼Œä¾‹å¦‚ 1,2,4,8,..ã€‚è¿›ç¨‹åœ¨ç¬¬ä¸€ä¸ªé˜Ÿåˆ—æ²¡æ‰§è¡Œå®Œï¼Œå°±ä¼šè¢«ç§»åˆ°ä¸‹ä¸€ä¸ªé˜Ÿåˆ—ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±èƒ½æœ‰æ•ˆé¿å…ä¸€ä¸ªè¿›ç¨‹éœ€è¦æ‰§è¡Œè¿ç»­å¤šä¸ªæ—¶é—´ç‰‡è€Œé€ æˆçš„åˆ‡æ¢é¢‘ç¹é—®é¢˜ ä¿è¯è°ƒåº¦ å½©ç¥¨è°ƒåº¦ å…¬å¹³åˆ†äº«è°ƒåº¦ å®æ—¶ç³»ç»Ÿ ç¡¬å®æ—¶ï¼šå¿…é¡»æ»¡è¶³ä¸€å®šçš„æˆªæ­¢æ—¶é—´ è½¯å®æ—¶ï¼šå¯ä»¥å®¹å¿ä¸€å®šçš„è¶…æ—¶ ç­–ç•¥å’Œæœºåˆ¶ è°ƒåº¦æœºåˆ¶ä¸è°ƒåº¦ç­–ç•¥åˆ†ç¦» çº¿ç¨‹è°ƒåº¦ ç”¨æˆ·çº§è°ƒåº¦ å†…æ ¸çº§è°ƒåº¦ ç»å…¸è¿›ç¨‹åŒæ­¥é—®é¢˜ å“²å­¦å®¶å°±é¤é—®é¢˜ äº”ä¸ªå“²å­¦å®¶å›´ç€ä¸€å¼ åœ†æ¡Œï¼Œæ¯ä¸ªå“²å­¦å®¶é¢å‰æ”¾ç€é£Ÿç‰©ã€‚å“²å­¦å®¶çš„ç”Ÿæ´»æœ‰ä¸¤ç§äº¤æ›¿æ´»åŠ¨ï¼šåƒé¥­ä»¥åŠæ€è€ƒã€‚å½“ä¸€ä¸ªå“²å­¦å®¶åƒé¥­æ—¶ï¼Œéœ€è¦å…ˆæ‹¿èµ·è‡ªå·±å·¦å³ä¸¤è¾¹çš„ä¸¤æ ¹ç­·å­ï¼Œå¹¶ä¸”ä¸€æ¬¡åªèƒ½æ‹¿èµ·ä¸€æ ¹ç­·å­ è¯»è€…-å†™è€…é—®é¢˜ å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶å¯¹æ•°æ®è¿›è¡Œè¯»æ“ä½œï¼Œä½†æ˜¯ä¸å…è®¸è¯»å’Œå†™ä»¥åŠå†™å’Œå†™æ“ä½œåŒæ—¶å‘ç”Ÿ è¿›ç¨‹é€šä¿¡ è¿›ç¨‹åŒæ­¥ï¼šæ§åˆ¶å¤šä¸ªè¿›ç¨‹æŒ‰ä¸€å®šé¡ºåºæ‰§è¡Œï¼› è¿›ç¨‹é€šä¿¡ï¼šè¿›ç¨‹é—´ä¼ è¾“ä¿¡æ¯ ä¸ºäº†èƒ½å¤Ÿè¾¾åˆ°è¿›ç¨‹åŒæ­¥çš„ç›®çš„ï¼Œéœ€è¦è®©è¿›ç¨‹è¿›è¡Œé€šä¿¡ ç®¡é“ åªæ”¯æŒåŠåŒå·¥ åªæ”¯æŒçˆ¶å­è¿›ç¨‹æˆ–è€…å…„å¼Ÿè¿›ç¨‹ FIFO(å‘½åç®¡é“) æœ‰åç®¡é“ä»¥ç£ç›˜æ–‡ä»¶çš„æ–¹å¼å­˜åœ¨ï¼Œå¯ä»¥å®ç°æœ¬æœºä»»æ„ä¸¤ä¸ªè¿›ç¨‹é€šä¿¡ æ¶ˆæ¯é˜Ÿåˆ— æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥ç‹¬ç«‹äºè¯»å†™è¿›ç¨‹å­˜åœ¨ï¼Œä»è€Œé¿å…äº† FIFO ä¸­åŒæ­¥ç®¡é“çš„æ‰“å¼€å’Œå…³é—­æ—¶å¯èƒ½äº§ç”Ÿçš„å›°éš¾ é¿å…äº† FIFO çš„åŒæ­¥é˜»å¡é—®é¢˜ï¼Œä¸éœ€è¦è¿›ç¨‹è‡ªå·±æä¾›åŒæ­¥æ–¹æ³• è¯»è¿›ç¨‹å¯ä»¥æ ¹æ®æ¶ˆæ¯ç±»å‹æœ‰é€‰æ‹©åœ°æ¥æ”¶æ¶ˆæ¯ï¼Œè€Œä¸åƒ FIFO é‚£æ ·åªèƒ½é»˜è®¤åœ°æ¥æ”¶ ä¿¡å·é‡ ç”¨äºä¸ºå¤šä¸ªè¿›ç¨‹æä¾›å…±äº«å¯¹è±¡çš„è®¿é—® å…±äº«å­˜å‚¨ å¤šä¸ªè¿›ç¨‹å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç»™å®šçš„å­˜å‚¨åŒºè¿›è¡Œé€šä¿¡ å¯ä»¥ä½¿ç”¨æ–‡ä»¶æˆ–è€…å†…å­˜ å¥—æ¥å­— ç”¨äºä¸åŒæœºå™¨ä¹‹é—´çš„è¿›ç¨‹é€šä¿¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-06 01:52:51 "},"æ“ä½œç³»ç»Ÿ/å†…å­˜ç®¡ç†.html":{"url":"æ“ä½œç³»ç»Ÿ/å†…å­˜ç®¡ç†.html","title":"å†…å­˜ç®¡ç†","keywords":"","body":"å†…å­˜ç®¡ç† åˆ†å±‚å­˜å‚¨å™¨ä½“ç³» å­˜å‚¨ç®¡ç†å™¨ï¼šæ“ä½œç³»ä¸­ç®¡ç†åˆ†å±‚å­˜å‚¨å™¨ä½“ç³»çš„éƒ¨åˆ† æ— å­˜å‚¨å™¨æŠ½è±¡ PSWï¼ˆç¨‹åºçŠ¶æ€å­—ï¼‰ IBM 360ç³»ç»Ÿçš„ä¸ç”¨äº¤æ¢è¿è¡Œå¤šä¸ªç¨‹åº é¿å…ç»å¯¹ç‰©ç†åœ°å€çš„å¼•ç”¨ å­˜å‚¨å™¨æŠ½è±¡ï¼šåœ°å€ç©ºé—´ æ¦‚å¿µ è¿è¡Œå¤šä¸ªç¨‹åºäº’ç›¸ä¸å½±å“ï¼Œéœ€è¦è§£å†³ä¸¤é—®é¢˜ï¼š ä¿æŠ¤ é‡å®šä½ åŸºå€å¯„å­˜å™¨ä¸ç•Œé™å¯„å­˜å™¨ åŠ¨æ€é‡å®šä½ äº¤æ¢æŠ€æœ¯ æŠŠä¸€ä¸ªè¿›ç¨‹å®Œæ•´è°ƒå…¥å†…å­˜ï¼Œä½¿è¯¥è¿›ç¨‹è¿è¡Œä¸€æ®µæ—¶é—´ï¼Œå†å°†å…¶å†™å›ç£ç›˜ å†…å­˜ç´§ç¼©ï¼šå°†å°ç©ºé—²åŒºåˆå¹¶æˆä¸€å¤§å— ç©ºé—²å†…å­˜ç®¡ç† ä½¿ç”¨ä½å›¾çš„å­˜å‚¨ç®¡ç† ä½¿ç”¨é“¾è¡¨ é¦–æ¬¡é€‚é…ç®—æ³• ä¸‹æ¬¡é€‚é…ç®—æ³• æœ€ä½³é€‚é…ç®—æ³• æœ€å·®é€‚é…ç®—æ³• å¿«é€Ÿé€‚é…ç®—æ³• è™šæ‹Ÿå†…å­˜ åœ°å€ç©ºé—´è¢«åˆ†ä¸ºå¤šå—ï¼Œæ¯å—ç§°ä½œé¡µ é¡µè¢«æ˜ å°„åˆ°ç‰©ç†å†…å­˜ï¼Œå¦‚æœç¨‹åºå¼•ç”¨ä¸å­˜åœ¨çš„ç‰©ç†å†…å­˜ ç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å°†ç¼ºå¤±çš„éƒ¨åˆ†è£…å…¥ç‰©ç†å†…å­˜ åˆ†é¡µ ç¼ºé¡µä¸­æ–­ï¼šå½“è®¿é—®çš„é¡µæ²¡æœ‰æ˜ å°„åˆ°ç‰©ç†å†…å­˜ä¸­æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†å…¶ä»–çš„é¡µå†™åˆ°ç£ç›˜ï¼Œå°†ç©ºå‡ºæ¥çš„å†…å­˜æ˜ å°„ç»™å½“å‰çš„é¡µï¼Œå†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰ åˆ™æ˜¯æ‰§è¡Œè¿™ä¸ªæ˜ å°„çš„æœåŠ¡ é¡µè¡¨ é¡µè¡¨é¡¹çš„ç»“æ„ ä¿æŠ¤ä½ï¼šå…è®¸ä»€ä¹ˆç±»å‹çš„è®¿é—®ï¼ˆè¯»ã€å†™ã€æ‰§è¡Œï¼‰ ä¿®æ”¹ä½ï¼šåˆ¤æ–­é¡µé¢æ˜¯å¦è¢«å†™è¿‡ è®¿é—®ä½ï¼šåˆ¤æ–­é¡µé¢æ˜¯å¦è¢«è®¿é—®è¿‡ é«˜é€Ÿç¼“å­˜ç¦æ­¢ä½ åŠ é€Ÿåˆ†é¡µè¿‡ç¨‹ åˆ†é¡µç³»ç»Ÿéœ€è¦è€ƒè™‘çš„2ä¸ªé—®é¢˜ï¼š è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ç‰©ç†åœ°å€å¿…é¡»éå¸¸å¿« å¦‚æœè™šæ‹Ÿåœ°å€ç©ºé—´å¾ˆå¤§ï¼Œåˆ™é¡µè¡¨ä¹Ÿä¼šå¾ˆå¤§ è½¬æ¢æ£€æµ‹ç¼“å†²åŒºï¼ˆTLBï¼‰ï¼šå°å‹ç¡¬ä»¶è®¾å¤‡ï¼Œèƒ½ç›´æ¥å°†è™šæ‹Ÿåœ°å€æ˜ å°„æˆç‰©ç†åœ°å€ï¼Œè€Œæ— éœ€è®¿é—®é¡µè¡¨ï¼ˆäºŒå…«å®šå¾‹ï¼‰ è½¯ä»¶TLBç®¡ç† è½¯å¤±æ•ˆä¸ç¡¬å¤±æ•ˆ é’ˆå¯¹å¤§å†…å­˜çš„é¡µè¡¨ å¤šçº§é¡µè¡¨ å€’æ’é¡µè¡¨ åœ°å€æ˜ å°„ä¸æ•£åˆ—æŸ¥æ‰¾ é¡µé¢ç½®æ¢ç®—æ³• ä¸»è¦ç›®çš„ï¼šæŒ‘é€‰å‡ºæœ€ä¸å¸¸ä½¿ç”¨çš„é¡µé¢ WEBæœåŠ¡å™¨æ–‡ä»¶ç¼“å­˜ æœ€ä¼˜é¡µé¢ç½®æ¢ç®—æ³•ï¼ˆOPT, Optimal replacement algorithmï¼‰ æ— æ³•ç¡®å®šå“ªä¸ªé¡µé¢æœªæ¥æœ€å°‘è¢«ä½¿ç”¨ ï¼Œè¯¥ç®—æ³•åªæ˜¯ä¸€ç§ç†è®ºç®—æ³•ï¼Œæ— æ³•å®ç° æœ€è¿‘æœªä½¿ç”¨(NRU)é¡µé¢ç½®æ¢ç®—æ³• éšæœºæ·˜æ±°æœ€è¿‘ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ²¡æœ‰è®¿é—®ã€æ²¡æœ‰ä¿®æ”¹çš„é¡µé¢ å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³•ï¼ˆFIFO, First In First Outï¼‰ é€‰æ‹©æ¢å‡ºçš„é¡µé¢æ˜¯æœ€å…ˆè¿›å…¥çš„é¡µé¢ ç¬¬äºŒæ¬¡æœºä¼šé¡µé¢ç½®æ¢ç®—æ³• æ·˜æ±°æ‰ä¸€ä¸ªè¿›å…¥æ—¶é—´æœ€é•¿ï¼Œä¸”æœ€ä¹…æœªè¢«ä½¿ç”¨çš„é¡µé¢ æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³• ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æœ€è€çš„é¡µé¢ æœ€è¿‘æœ€å°‘ä½¿ç”¨(LRU)é¡µé¢ç½®æ¢ç®—æ³• åœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ªæ‰€æœ‰é¡µé¢çš„é“¾è¡¨ã€‚å½“ä¸€ä¸ªé¡µé¢è¢«è®¿é—®æ—¶ï¼Œå°†è¿™ä¸ªé¡µé¢ç§»åˆ°é“¾è¡¨è¡¨å¤´ã€‚è¿™æ ·å°±èƒ½ä¿è¯é“¾è¡¨è¡¨å°¾çš„é¡µé¢æ˜¯æœ€è¿‘æœ€ä¹…æœªè®¿é—®çš„ å·¥ä½œé›†é¡µé¢ç½®æ¢ç®—æ³• å·¥ä½œé›†ï¼šè¿›ç¨‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„é¡µé¢é›†åˆ æ·˜æ±°æ‰å·¥ä½œé›†ä¸­æœ€å°‘ä½¿ç”¨çš„é¡µé¢ å·¥ä½œé›†æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³• ç”¨è½¯ä»¶æ¨¡æ‹ŸLRU æœ€ä¸å¸¸ä½¿ç”¨ï¼ˆNFUï¼‰ ä¼šè®°ä½æœ€è¿‘ä¸€æ®µæ—¶é—´å†…å„ä¸ªæ—¶é’Ÿå‘¨æœŸçš„è®¿é—®æƒ…å†µ åˆ†é¡µç³»ç»Ÿä¸­çš„è®¾è®¡é—®é¢˜ å±€éƒ¨åˆ†é…ç­–ç•¥ä¸å…¨å±€åˆ†é…ç­–ç•¥ ç¼ºé¡µä¸­æ–­ç‡ï¼ˆPFFï¼‰ï¼šç”¨æ¥æŒ‡å‡ºä½•æ—¶å¢åŠ æˆ–å‡å°‘åˆ†é…ç»™è¿›ç¨‹çš„é¡µé¢ è´Ÿè½½æ§åˆ¶ å°†è¿›ç¨‹ä»å†…å­˜äº¤æ¢åˆ°ç£ç›˜ é¡µé¢å¤§å° é€‰æ‹©å°é¡µé¢çš„å¥½å¤„ï¼šèŠ‚çœå†…å­˜ åˆ†ç¦»çš„æŒ‡ä»¤ç©ºé—´å’Œæ•°æ®ç©ºé—´ å…±äº«é¡µé¢ å¦‚æœåœ°å€ç©ºé—´åˆ†ç¦»å®ç°å…±äº«é¡µé¢å°±ä¼šéå¸¸ç®€å• å†™æ—¶å¤åˆ¶ å…±äº«åº“ ä½ç½®æ— å…³ä»£ç ï¼šåªä½¿ç”¨ç›¸å¯¹åç§»é‡çš„ä»£ç  å†…å­˜æ˜ å°„æ–‡ä»¶ æŠŠæ–‡ä»¶å½“åšæˆä¸€ä¸ªå†…å­˜ä¸­çš„å¤§å­—ç¬¦æ•°ç»„ æ¸…é™¤ç­–ç•¥ åˆ†é¡µå®ˆæŠ¤è¿›ç¨‹ è™šæ‹Ÿå†…å­˜æ¥å£ åˆ†å¸ƒå¼å…±äº«å†…å­˜ æœ‰å…³å®ç°çš„é—®é¢˜ ä¸åˆ†é¡µæœ‰å…³çš„å·¥ä½œ åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹æ—¶ï¼šç¡®å®šç¨‹åºå’Œæ•°æ®å¤§å°ï¼Œåˆ›å»ºä¸€ä¸ªé¡µè¡¨ è¿›ç¨‹æ‰§è¡Œæ—¶ï¼šé‡ç½®MMU,åˆ·æ–°TLBï¼Œæ¸…é™¤ä¹‹å‰è¿›ç¨‹çš„ç—•è¿¹ ç¼ºé¡µä¸­æ–­æ—¶ï¼šç¡®å®šæ˜¯å“ªä¸ªè™šæ‹Ÿåœ°å€å‘ç”Ÿäº†ä¸­æ–­ï¼Œè¯»å…¥æ‰€éœ€é¡µé¢ï¼Œé‡æ–°æ‰§è¡ŒæŒ‡ä»¤ è¿›ç¨‹é€€å‡ºæ—¶ï¼šé‡Šæ”¾é¡µè¡¨ã€é¡µé¢ ç¼ºé¡µä¸­æ–­å¤„ç† æŒ‡ä»¤å¤‡ä»½ é‡å¯å¼•èµ·ç¼ºé¡µä¸­æ–­çš„é‚£æ¡æŒ‡ä»¤ï¼Œè¿™ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ é”å®šå†…å­˜ä¸­çš„é¡µé¢ é”ä½æ­£åœ¨åšIOæ“ä½œçš„å†…å­˜ä¸­çš„é¡µé¢ä¿è¯å®ƒä¸ä¼šè¢«ç§»å‡ºå†…å­˜ åå¤‡å­˜å‚¨ linuxä¸­çš„swap ç­–ç•¥ä¸æœºåˆ¶åˆ†ç¦» MMU ç¼ºé¡µä¸­æ–­å¤„ç†ç¨‹åº é¡µé¢è°ƒåº¦ç¨‹åº åˆ†æ®µ è¡¨ç¢°æ’ï¼šåŠ¨æ€å¢é•¿çš„è¡¨ä¼šå¯¼è‡´è¦†ç›–çš„é—®é¢˜ çº¯åˆ†æ®µçš„å®ç° æ®µé¡µå¼ ç¨‹åºçš„åœ°å€ç©ºé—´åˆ’åˆ†æˆå¤šä¸ªæ‹¥æœ‰ç‹¬ç«‹åœ°å€ç©ºé—´çš„æ®µï¼Œæ¯ä¸ªæ®µä¸Šçš„åœ°å€ç©ºé—´åˆ’åˆ†æˆå¤§å°ç›¸åŒçš„é¡µã€‚è¿™æ ·æ—¢æ‹¥æœ‰åˆ†æ®µç³»ç»Ÿçš„å…±äº«å’Œä¿æŠ¤ï¼Œåˆæ‹¥æœ‰åˆ†é¡µç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜åŠŸèƒ½ åˆ†æ®µå’Œåˆ†é¡µç»“åˆï¼šMULTICS æ®µï¼ˆæ®µå·ï¼Œæ®µå†…åœ°å€ï¼ˆé¡µå·ï¼Œåç§»åœ°å€ï¼‰ï¼‰ åˆ†æ®µå’Œåˆ†é¡µç»“åˆï¼šIntel x86 LDTä¸GDT çº¿æ€§åœ°å€ï¼ˆç›®å½•ï¼Œé¡µé¢ï¼Œåç§»é‡ï¼‰ åˆ†é¡µä¸åˆ†æ®µ å¯¹æ¯” åˆ†é¡µ åˆ†æ®µ é€æ˜æ€§ å¯¹ç¨‹åºå‘˜é€æ˜ éœ€è¦ç¨‹åºå‘˜æ˜¾ç¤ºåˆ’åˆ†æ¯ä¸ªæ®µ åœ°å€ç©ºé—´ç»´åº¦ ä¸€ç»´åœ°å€ äºŒç»´åœ°å€ å¤§å°å¯å¦æ”¹å˜ é¡µå¤§å°ä¸å¯æ”¹å˜ æ®µå¤§å°å¯ä»¥åŠ¨æ€æ”¹å˜ å‡ºç°åŸå›  åˆ†é¡µç”¨æ¥å®ç°è™šæ‹Ÿå†…å­˜ï¼Œä»¥è·å¾—æ›´å¤§çš„åœ°å€ç©ºé—´ åˆ†æ®µæ˜¯ä¸ºäº†ç‹¬ç«‹ç¨‹åºå’Œæ•°æ®å¹¶ä¸”æœ‰åŠ©äºå…±äº«ä¸ä¿æŠ¤ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-21 10:58:21 "},"æ“ä½œç³»ç»Ÿ/æ–‡ä»¶ç®¡ç†.html":{"url":"æ“ä½œç³»ç»Ÿ/æ–‡ä»¶ç®¡ç†.html","title":"æ–‡ä»¶ç®¡ç†","keywords":"","body":"æ–‡ä»¶ç®¡ç† é•¿æœŸå­˜å‚¨ä¿¡æ¯çš„ä¸‰ä¸ªåŸºæœ¬è¦æ±‚ èƒ½å¤Ÿå­˜å‚¨å¤§é‡ä¿¡æ¯ ä½¿ç”¨ä¿¡æ¯çš„è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œä¿¡æ¯ä»æ—§å­˜åœ¨ ä¿¡æ¯èƒ½å¤Ÿå¹¶å‘è®¿é—® æ–‡ä»¶ æ–‡ä»¶å‘½å FAT-16 NTFS æ–‡ä»¶ç»“æ„ å­—èŠ‚åºåˆ— è®°å½•åºåˆ— æ ‘ æ–‡ä»¶ç±»å‹ æ™®é€šæ–‡ä»¶ ç›®å½• æ–‡ä»¶è®¿é—® é¡ºåºè®¿é—® éšæœºè®¿é—® æ–‡ä»¶å±æ€§ æ–‡ä»¶å±æ€§ æ„ä¹‰ ä¿æŠ¤ è°èƒ½è®¿é—®è¯¥æ–‡ä»¶ï¼Œä»¥ä½•ç§æ–¹å¼è®¿é—® å¯†ç  è®¿é—®è¯¥æ–‡ä»¶éœ€è¦çš„å¯†ç  åˆ›ç«‹è€… åˆ›ç«‹è¯¥æ–‡ä»¶çš„ç”¨æˆ·çš„ID æ‹¥æœ‰è€… æ–‡ä»¶å½“å‰çš„æ‹¥æœ‰è€… åªè¯»æ ‡å¿— 0è¯»å†™è®¿é—®;1åªè¯». éšè—æ ‡å¿— 0æ­£å¸¸æ–‡ä»¶; 1éšè—æ–‡ä»¶ ç³»ç»Ÿæ ‡å¿— 0æ­£å¸¸æ–‡ä»¶; 1ç³»ç»Ÿæ–‡ä»¶ å½’æ¡£æ ‡å¿— 0å·²ç»å¤‡ä»½; 1éœ€è¦å¤‡ä»½ ASCIIVäºŒè¿›åˆ¶æ ‡å¿— 0æ–‡æœ¬æ–‡ä»¶; 1äºŒè¿›åˆ¶æ–‡ä»¶ éšæœºè®¿é—®æ ‡å¿— 0é¡ºåºè®¿é—®; 1éšæœºè®¿é—® ä¸´æ—¶æ–‡ä»¶æ ‡å¿— 0æ­£å¸¸æ–‡ä»¶; 1ä¸´æ—¶æ–‡ä»¶ é”æ ‡å¿— 0é‡Šæ”¾çŠ¶æ€;éé›¶é”ä½çŠ¶æ€ è®°å½•é•¿åº¦ ä¸€ä¸ªè®°å½•åŒ…å«çš„å­—èŠ‚æ•° å…³é”®å­—ä½ç½® è®°å½•é‡Œå…³é”®å­—æ‰€å¤„çš„ä½ç§»é‡ å…³é”®å­—é•¿åº¦ å…³é”®å­—æ‰€å å­—èŠ‚æ•° æ–‡ä»¶åˆ›ç«‹æ—¶é—´ æ–‡ä»¶åˆ›ç«‹çš„æ—¥æœŸå’Œæ—¶é—´ æœ€åè®¿å‘æ—¶é—´ æ–‡ä»¶æœ€åè¢«è®¿é—®çš„æ—¥æœŸå’Œæ—¶é—´ æœ€åä¿®æ”¹æ—¶é—´ æ–‡ä»¶æœ€åä¿®æ”¹çš„æ—¥æœŸå’Œæ—¶é—´ å½“å‰æ–‡ä»¶å¤§å° æ–‡ä»¶æ‰€å çš„å­—èŠ‚æ•° æ–‡ä»¶æœ€å¤§å°ºå¯¸ æ–‡ä»¶å¯è¾¾åˆ°çš„æœ€å¤§å­—èŠ‚æ•° æ–‡ä»¶æ“ä½œ onCreate delete open close read write append seek get attrs set attrs rename ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿè°ƒç”¨ ä¸€ä¸ªç®€å•çš„Cè¯­è¨€ç¨‹åºï¼š int main(){ FILE *fp; char c = -1; fp = fopen(\"./file.c\",\"r\"); while ((c = fgetc(fp)) != -1){ putchar(c); } fclose(fp); return 0; } ç›®å½• ä¸€çº§ç›®å½•ç³»ç»Ÿ å±‚æ¬¡ç›®å½•ç³»ç»Ÿ è·¯å¾„å ç»å¯¹è·¯å¾„ ç›¸å¯¹è·¯å¾„ ç›®å½•æ“ä½œ create delete opendir closedir readdir rename link unlink æ–‡ä»¶ç³»ç»Ÿçš„å®ç° æ–‡ä»¶ç³»ç»Ÿå¸ƒå±€ ä¸»å¼•å¯¼è®°å½•ï¼ˆMBRï¼‰ æ–‡ä»¶çš„å®ç° è¿ç»­åˆ†é… é“¾è¡¨åˆ†é… ä½¿ç”¨å†…å­˜ä¸­çš„è¡¨è¿›è¡Œé“¾è¡¨åˆ†é… æ–‡ä»¶åˆ†é…è¡¨ ièŠ‚ç‚¹ ç›®å½•çš„å®ç° å…±äº«æ–‡ä»¶ é“¾æ¥ ç¬¦å·é“¾æ¥ æ—¥å¿—ç»“æ„æ–‡ä»¶ç³»ç»Ÿï¼ˆLFSï¼‰ æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ æ—¥å¿—å¿…é¡»æ˜¯å¹‚ç­‰çš„ æ€è€ƒï¼š ä¸æ•°æ®åº“ä¸­çš„åŸå­äº‹åŠ¡ è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ æ€è€ƒï¼š é€‚é…å™¨è®¾è®¡æ¨¡å¼ æ–‡ä»¶ç³»ç»Ÿç®¡ç†å’Œä¼˜åŒ– ç£ç›˜ç©ºé—´ç®¡ç† é€‰æ‹©å—å¤§å° é€Ÿåº¦ä¸ç©ºé—´ä¸å¯å…¼å¾— è®°å½•ç©ºé—²å— é“¾è¡¨ä¸ä½å›¾ ç£ç›˜é…é¢ æ–‡ä»¶ç³»ç»Ÿå¤‡ä»½ é€»è¾‘è½¬å‚¨ä¸ç‰©ç†è½¬å‚¨ æ–‡ä»¶ç³»ç»Ÿçš„ä¸€è‡´æ€§ æ£€æŸ¥ä½¿ç”¨çš„å—ä¸ç©ºé—²å—æ˜¯å¦ä¸€è‡´ æ–‡ä»¶ç³»ç»Ÿæ€§èƒ½ é«˜é€Ÿç¼“å­˜ å†…å­˜é€Ÿåº¦ > ç£ç›˜é€Ÿåº¦ å—é«˜é€Ÿç¼“å­˜ æ•£åˆ—ä¸å¿«é€ŸæŸ¥æ‰¾ å—æå‰è¯» å‡å°‘ç£ç›˜è‡‚è¿åŠ¨ ç£ç›˜ç¢ç‰‡æ•´ç† æ–‡ä»¶ç³»ç»Ÿå®ä¾‹ MS-DOSæ–‡ä»¶ç³»ç»Ÿ UNIX V7 æ–‡ä»¶ç³»ç»Ÿ CD-ROMæ–‡ä»¶ç³»ç»Ÿ ISO 9660æ–‡ä»¶ç³»ç»Ÿ Rock Ridgeæ‰©å±• Jolietæ‰©å±• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-21 11:03:09 "},"æ“ä½œç³»ç»Ÿ/è¾“å…¥è¾“å‡º.html":{"url":"æ“ä½œç³»ç»Ÿ/è¾“å…¥è¾“å‡º.html","title":"è¾“å…¥/è¾“å‡º","keywords":"","body":"è¾“å…¥/è¾“å‡º æ“ä½œç³»ç»ŸIOæ¥å£å¯¹äºæ‰€æœ‰è®¾å¤‡éƒ½åº”è¯¥æ˜¯ç›¸åŒçš„ï¼Œå³è®¾å¤‡æ— å…³æ€§ I/O ç¡¬ä»¶ç®¡ç† I/Oè®¾å¤‡ å—è®¾å¤‡ï¼šä»¥å—ä¸ºå•ä½è¿›è¡Œè¯»å†™ å­—ç¬¦è®¾å¤‡ï¼šä»¥å­—ç¬¦ä¸ºå•ä½å‘é€æˆ–æ¥æ”¶å­—ç¬¦æµ è®¾å¤‡æ§åˆ¶å™¨ IOè®¾å¤‡ç”±æœºæ¢°éƒ¨ä»¶ä¸ç”µå­éƒ¨ä»¶æ„æˆ ç”µå­éƒ¨ä»¶ç§°ä¸ºè®¾å¤‡æ§åˆ¶å™¨æˆ–è€…é€‚é…å™¨ æ§åˆ¶å™¨çš„ä»»åŠ¡ï¼š å°†ä¸²è¡Œçš„æ¯”ç‰¹æµè½¬æ¢ä¸ºå­—èŠ‚å—ï¼Œå¹¶å®Œæˆçº é”™å·¥ä½œ å†…å­˜æ˜ å°„IO æ§åˆ¶å™¨ä½¿ç”¨å¯„å­˜å™¨æˆ–è€…ä¸€å—æ“ä½œç³»ç»Ÿå¯ä»¥æ“ä½œçš„RAMè¿›è¡Œé€šä¿¡ ç»™æ§åˆ¶å¯„å­˜å™¨åˆ†é…ä¸€ä¸ªIOç«¯å£ï¼Œæ‰€æœ‰IOç«¯å£å½¢æˆIOç«¯å£ç©ºé—´å—ï¼Œå¯ä»¥é€šè¿‡ä¸€æ¡ç‰¹æ®Šçš„æŒ‡ä»¤æ¥æ¥å¯¹æ§åˆ¶å¯„å­˜å™¨è¿›è¡Œè¯»å–æˆ–å†™å…¥ IN REG, PORT ; CPUä»æŒ‡å®šIOç«¯å£è¯»å–æ•°æ®åˆ°REGå¯„å­˜å™¨ OUT PORT, REG ; CPUå†™å…¥æ•°æ® å¦å¤–ä¸€ç§æ–¹å¼æ˜¯å°†IOè®¾å¤‡å¯„å­˜å™¨æ˜ å°„åˆ°å†…å­˜ä¸Šï¼Œå¯¹å†…å­˜çš„è¯»å†™éƒ½ä¼šé€šè¿‡æ€»çº¿ä¿¡å·æ˜ å°„åˆ°IOè®¾å¤‡çš„å¯„å­˜å™¨ã€‚å†…å­˜æ˜ å°„IOä¼˜ç‚¹ï¼š æ— éœ€ä½¿ç”¨ç‰¹æ®ŠæŒ‡ä»¤è¯»å–IOè®¾å¤‡å¯„å­˜å™¨ï¼Œæ˜ å°„åèƒ½ç›´æ¥é€šè¿‡è®¿é—®å†…å­˜ä½ çš„æŒ‡ä»¤è¯»å†™ ä¸éœ€è¦ç‰¹æ®Šä¿æŠ¤æœºåˆ¶é˜»æ­¢ç”¨æˆ·è¿›ç¨‹è¿›è¡ŒIOæ“ä½œï¼Œæ“ä½œç³»ç»Ÿåªéœ€è¦é¿å…æŠŠæ˜ å°„çš„é‚£å—å†…å­˜æš´éœ²åœ¨ç”¨æˆ·åœ°å€ç©ºé—´å°±èƒ½é¿å…ç”¨æˆ·è¿›ç¨‹è¿›è¡ŒIOæ“ä½œ å¯ä»¥åº”ç”¨äºå†…å­˜çš„æŒ‡ä»¤ä¹Ÿèƒ½åº”ç”¨äºæ§åˆ¶å¯„å­˜å™¨ ç¼ºç‚¹ï¼š ä¸èƒ½ä½¿ç”¨é«˜é€Ÿç¼“å­˜ï¼Œå¯¹IOæ˜ å°„å†…å­˜åšç¼“å­˜çš„åæœæ˜¯ç¾éš¾æ€§çš„ è®¡ç®—æœºå¦‚ä½•ç¡®å®šä¸€ä¸ªå†…å­˜åœ°å€å¯¹åº”çš„æ˜¯å†…å­˜è¿˜æ˜¯IOè®¾å¤‡å¯„å­˜å™¨ï¼Ÿç°ä»£çš„è®¡ç®—æœºå¤§éƒ½åŒ…å«é«˜é€Ÿå†…å­˜æ€»çº¿ï¼Œå¯¹å†…å­˜çš„è¯»å†™å¯ä»¥é€šè¿‡ä¸“ç”¨æ€»çº¿æ¥è¿›è¡Œï¼Œè€Œå¯¹IOè®¾å¤‡çš„è¯»å†™åˆ™å¯ä»¥é€šè¿‡é€šç”¨æ€»çº¿ã€‚ ç¬¬äºŒç§è®¾è®¡æ˜¯é€šè¿‡ä¸€ä¸ªå†…å­˜æ€»çº¿æ¢æŸ¥è®¾å¤‡ï¼Œè¯¥è®¾å¤‡ä¼šå¯¹IOè®¾å¤‡è®¿é—®æ”¾è¡Œã€‚ ç¬¬ä¸‰ç§è®¾è®¡åˆ™æ˜¯å¯¹å†…å­˜åœ°å€è¿›è¡Œè¿‡æ»¤ï¼Œè§„å®šä¸€ä¸ªåŒºåŸŸçš„åœ°å€ä¸ºIOå†…å­˜æ˜ å°„ã€‚ ç›´æ¥å­˜å‚¨å™¨å­˜å–ï¼ˆDMAï¼‰ åŠ å…¥ä¸€ä¸ªä¸­é—´å±‚ ä»CPU-è®¾å¤‡ å˜æˆ CPU - DMA - è®¾å¤‡ çªå‘æ¨¡å¼ï¼šDMAç›´æ¥è®©è®¾å¤‡è·å¾—æ€»çº¿å‘èµ·ä¸€è¿ä¸²ä¼ é€ï¼Œç„¶åå†é‡Šæ”¾æ€»çº¿ å¦‚æœä¼ é€æ—¶é—´è¾ƒé•¿ æœ‰å¯èƒ½é˜»å¡CPUæˆ–è€…å…¶ä»–è®¾å¤‡ é£è¶Šæ¨¡å¼ï¼š è®©è®¾å¤‡æ§åˆ¶å™¨å°†æ•°æ®ç›´æ¥å†™åˆ°ä¸»å­˜ è®¾å¤‡æ§åˆ¶å™¨å†…éƒ¨ç¼“å­˜åŒºå­˜åœ¨çš„åŸå›  æ ¡éªŒæ•°æ® æ€»çº¿å¯èƒ½å¿™ ä¸­æ–­ å½“è®¾å¤‡å‘èµ·ä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼Œè¿™ä¸ªä¿¡å·ä¼šè¢«ä¸­æ–­æ§åˆ¶å™¨èŠ¯ç‰‡æ£€æµ‹åˆ°ã€‚å¦‚æœæœ‰è®¾å¤‡åŒæ—¶å‘èµ·ä¸­æ–­ï¼Œæ­¤æ—¶è¯¥è®¾å¤‡ä¸­æ–­ä¸ä¼šè¢«å¤„ç†ï¼Œä¸è¢«å¤„ç†çš„è®¾å¤‡ä¼šä¸æ–­å‘èµ·ä¿¡å·ï¼Œç›´è‡³å¾—åˆ°CPUçš„æœåŠ¡ã€‚ ä¸­æ–­æ§åˆ¶å™¨åœ¨æ”¾ç½®ä¸€ä¸ªæ•°å­—ä¿¡å·è¡¨æ˜éœ€è¦å¤„ç†å“ªä¸ªè®¾å¤‡ï¼Œè¿™ä¸ªæ•°å­—ä¿¡å·è¢«ç§°ä¸ºä¸­æ–­å‘é‡ï¼Œä¸­æ–­å‘é‡æ˜¯ä¸€ä¸ªæœåŠ¡è¿‡ç¨‹çš„ç¨‹åºåœ°å€ï¼ŒCPUéœ€è¦ä¿å­˜ç›¸å…³å¥½ç›¸å…³ä¿¡æ¯ï¼Œå¦‚PCï¼Œç„¶åè·³è½¬åˆ°æŒ‡å®šåœ°å€æŒ‡å‘ç›¸åº”çš„æœåŠ¡è¿‡ç¨‹ã€‚ ç”±äºç°ä»£CPUéƒ½ä¼šé‡‡ç”¨æµæ°´çº¿æŠ€æœ¯ï¼Œæ‰€ä»¥ä¸­æ–­åä¸€äº›æŒ‡ä»¤æ‰§è¡Œäº†ä¸€éƒ¨åˆ†ï¼Œæ€ä¹ˆç¡®ä¿è¿™ä¸ªçŠ¶æ€æ˜¯æ˜ç¡®çš„ ç²¾ç¡®ä¸­æ–­ï¼šæœºå™¨åœç•™åœ¨ä¸€ä¸ªæ˜ç¡®çŠ¶æ€çš„ä¸­æ–­ ç¨‹åºè®¡æ•°å™¨ä¿ç•™åœ¨ä¸€ä¸ªå·²çŸ¥çš„åœ°æ–¹ æ‰€æŒ‡å‘çš„æŒ‡ä»¤ä¹‹å‰çš„æ‰€æœ‰æŒ‡ä»¤å·²æ‰§è¡Œå®Œæ¯• æ‰€æ‰§è¡Œçš„æŒ‡ä»¤ä¹‹åçš„æ‰€æœ‰æŒ‡ä»¤éƒ½è¿˜æœªæ‰§è¡Œ æ‰€æŒ‡å‘çš„æŒ‡ä»¤çš„æ‰§è¡ŒçŠ¶æ€æ˜¯å·²çŸ¥çš„ ä¸ç²¾ç¡®ä¸­æ–­ IOè½¯ä»¶åŸç† IOè½¯ä»¶çš„ç›®æ ‡ è®¾å¤‡ç‹¬ç«‹æ€§ï¼šé¢å‘æ¥å£ç¼–ç¨‹ ç»Ÿä¸€å‘½åï¼šè®¾å¤‡çš„å‘½åæ˜ å°„ä¸ºä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œä¸ä¾èµ–äºè®¾å¤‡ é”™è¯¯å¤„ç†ï¼šä½å±‚èƒ½å¤„ç†çš„é—®é¢˜ï¼Œå°±ä¸è¦äº¤ç»™é«˜å±‚ åŒæ­¥ä¸å¼‚æ­¥ï¼šå¤§å¤šæ•°ç‰©ç†IOæ˜¯å¼‚æ­¥çš„ï¼Œåªæ˜¯readç³»ç»Ÿè°ƒç”¨åï¼Œè¿›ç¨‹è¢«æŒ‚èµ·ç›´è‡³æ•°æ®åˆ°è¾¾ï¼Œå¦‚æœIOæ˜¯åŒæ­¥çš„ï¼Œç”¨æˆ·ç¨‹åºç¼–å†™å™¨å°±ä¼šå¾ˆå®¹æ˜“ ç¼“å†²ï¼šæ•°æ®é€šå¸¸ä¸èƒ½ç›´æ¥ä»æºä¼ è¾“åˆ°ç›®çš„åœ°ï¼Œæ‰€ä»¥éœ€è¦ç¼“å†²åŒº ç¨‹åºæ§åˆ¶IO è®©CPUåšå…¨éƒ¨å·¥ä½œ ç¨‹åºæ§åˆ¶IOä¼ªä»£ç : copy_from_user(buffer,p,count); for(i = 0;i è¿™ç§IOæ¨¡å‹å¥½å¤„åœ¨ä¸ç®€å•ï¼Œç¼ºç‚¹åœ¨äºåœ¨IOæ“ä½œå®Œæˆä¹‹å‰ï¼Œè¦å ç”¨å…¨éƒ¨CPUæ—¶é—´ ä¸­æ–­é©±åŠ¨IO ç¨‹åºæ§åˆ¶IOæµªè´¹çš„åœ°æ–¹åœ¨äºå¦‚æœIOè®¾å¤‡ä¸å°±ç»ªï¼ŒCPUçš„æ—¶é—´å°±æµªè´¹åœ¨æ— è°“çš„å¾ªç¯çš„ä¸Šé¢äº†ã€‚ ä¸­æ–­é©±åŠ¨IOæ”¹è¿›çš„åœ°æ–¹åœ¨äºå½“IOè®¾å¤‡å°±ç»ªï¼Œç”±IOè®¾å¤‡ä¸»åŠ¨äº§ç”Ÿä¸€ä¸ªä¸­æ–­ï¼ŒCPUåœ¨ä¸­æ–­ä¹‹å‰å¯ä»¥å»è°ƒåº¦å…¶ä»–è¿›ç¨‹ã€‚ ä½¿ç”¨DMAçš„IO è®©DMAæ§åˆ¶æ•°æ®ä¼ è¾“ï¼Œè€Œä¸å¿…æ‰“æ‰°CPUã€‚æœ¬è´¨ä¸Šè¿˜æ˜¯ç¨‹åºæ§åˆ¶IOï¼Œåªä¸è¿‡ä½¿ç”¨äº†DMAåCPUå¯ä»¥æ¯æ¬¡å†™å…¥ä¸€æ•´ä¸ªç¼“å†²åŒºçš„æ•°æ®ã€‚ IOè½¯ä»¶å±‚æ¬¡ ä¸­æ–­å¤„ç†ç¨‹åº åœ¨å“åº”ä¸€ä¸ªç‰¹å®šä¸­æ–­çš„æ—¶å€™ï¼Œå†…æ ¸ä¼šæ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å«ä¸­æ–­å¤„ç†ç¨‹åº éšè—ä¸­æ–­çš„æœ€å¥½æ–¹å¼æ˜¯å°†ä¼šå¼•èµ·ä¸­æ–­çš„æ“ä½œé˜»å¡èµ·æ¥ã€‚ä½†ä¸­æ–­å¤„ç†éœ€è¦èŠ±è´¹ç›¸å½“å¤šçš„CPUæŒ‡ä»¤ã€‚ è®¾å¤‡é©±åŠ¨ç¨‹åº æ¯ä¸ªé“¾æ¥åˆ°è®¡ç®—æœºä¸Šçš„IOè®¾å¤‡éƒ½éœ€è¦æŸäº›è®¾å¤‡ç‰¹å®šä»£ç è¿›è¡Œæ§åˆ¶ï¼Œç§°ä¹‹ä¸ºè®¾å¤‡é©±åŠ¨ç¨‹åº USBè®¾å¤‡é©±åŠ¨é€šè¿‡å †æ ˆå¼æ¥è¾¾åˆ°ä¸åŒçš„è®¾å¤‡åŸºäºåŒæ ·çš„æŠ€æœ¯æ•ˆæœã€‚ä¸ºäº†è®¿é—®è®¾å¤‡çš„ç¡¬ä»¶ï¼Œå¤§å¤šæ•°æ“ä½œç³»ç»Ÿéƒ½è¦æ±‚é©±åŠ¨ç¨‹åºè¿è¡Œåœ¨å†…æ ¸ä¸­ï¼Œè¿™ä¹Ÿæ˜¯ç³»ç»Ÿå´©æºƒçš„ä¸€ä¸ªæºå¤´ä¹‹ä¸€ã€‚ å¯é‡å…¥æ€§ï¼šé©±åŠ¨å¿…é¡»æ„è¯†åˆ°ç¬¬ä¸€æ¬¡è°ƒç”¨å®Œæˆä¹‹å‰ç¬¬äºŒæ¬¡è°ƒç”¨ä¼šåˆ°æ¥ ä¸è®¾å¤‡æ— å…³çš„IOè½¯ä»¶ è®¾å¤‡é©±åŠ¨ç¨‹åºçš„ç»Ÿä¸€æ¥å£ å¯¹äºæ¯ç§è®¾å¤‡ç±»å‹ç±»å‹ï¼Œæ“ä½œç³»ç»Ÿå®šä¹‰ä¸€ç»„é©±åŠ¨ç¨‹åºå¿…é¡»æ”¯æŒçš„å‡½æ•°ï¼Œè®¾å¤‡åå¯ä»¥ä½¿ç”¨è®¾å¤‡ç±»å‹+æ¬¡ç‰ˆæœ¬å·æ¥ç¼–ç ï¼ŒåŒæ ·ï¼Œå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿æŠ¤è§„åˆ™ä¹Ÿé€‚ç”¨äºè®¾å¤‡ã€‚ ç¼“å†² åŒç¼“å†²ï¼šä½¿ç”¨ä¸¤ä¸ªç¼“å†²åŒºäº¤æ›¿ä½¿ç”¨ï¼Œå½“ä¸€ä¸ªæ»¡äº†ä¹‹åç›´æ¥å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ï¼Œå¦å¤–ä¸€ä¸ªæ¥æ›¿ä¸Š ç¯å½¢ç¼“å†²ï¼šé€šè¿‡ä¸¤ä¸ªå‰åæŒ‡é’ˆä¸æ–­å¾€å‰èµ°å®ç°ä¸€ä¸ªé€»è¾‘ä¸Šæ— é™çš„ç¼“å†²åŒº é”™è¯¯æŠ¥å‘Š å¯¹äºç¼–ç¨‹é”™è¯¯ï¼Œå¦‚å‘ä¸€ä¸ªè¾“å…¥è®¾å¤‡å‘å‡ºäº†ä¸€ä¸ªè¾“å‡ºè¯·æ±‚ï¼Œæ“ä½œç³»ç»Ÿç›´æ¥è¿”å›é”™è¯¯ç å³å¯ã€‚ ä½†å¯¹äºå®é™…çš„IOé”™è¯¯ï¼Œåº”ç”±é©±åŠ¨ç¨‹åºå†³å®šåšä»€ä¹ˆï¼Œé©±åŠ¨ç¨‹åºè§£å†³ä¸äº†ï¼Œå†å‘é«˜å±‚ä¼ é€’ã€‚ä½†é”™è¯¯æŠ›åˆ°é«˜å±‚ï¼Œæ“ä½œç³»ç»Ÿå®é™…ä¸Šé™¤äº†è¿”å›ä¸€ä¸ªé”™è¯¯ç å¹¶å¤±è´¥å¤–ï¼Œå¹¶ä¸å­˜åœ¨å…¶ä»–å¤šå°‘äº‹æƒ…å¯ä»¥åšã€‚ åˆ†é…ä¸é‡Šæ”¾ä¸“ç”¨è®¾å¤‡ å¯¹äºåªå…è®¸æœ‰é™æ•°é‡è¿›ç¨‹ä½¿ç”¨çš„è®¾å¤‡ï¼Œæ“ä½œç³»ç»Ÿå¿…é¡»å¯¹è®¾å¤‡çš„ä½¿ç”¨è¯·æ±‚è¿›è¡Œæ£€æŸ¥ï¼Œå¯ä»¥å°†å¾—ä¸åˆ°è®¾å¤‡çš„è¿›ç¨‹è°ƒç”¨å¤±è´¥æ‰ã€‚å¦å¤–ä¸€ç§æ–¹å¼å¯ä»¥å¯¹å¾—åˆ°è®¾å¤‡çš„è¿›ç¨‹è°ƒç”¨è¿›è¡Œé˜»å¡ï¼Œè€Œä¸æ˜¯è®©å…¶å¤±è´¥ã€‚ æä¾›ä¸è®¾å¤‡æ— å…³çš„å—å¤§å° ä¸Šå±‚è½¯ä»¶å±è”½æ‰ä¸åŒè®¾å¤‡çš„çš„å—å¤§å°ä¸ä¸€è‡´ ç”¨æˆ·ç©ºé—´çš„IOè½¯ä»¶ éƒ¨åˆ†IOæ“ä½œåœ¨ç”¨æˆ·ç©ºé—´å®Œæˆï¼Œè¿™æ˜¯é€šè¿‡åº“è¿‡ç¨‹æ¥å®ç°ï¼Œä¹Ÿæœ‰é€šè¿‡å‡è„±æœºçš„æ–¹å¼åŠå®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å®ç°ã€‚ å‡è„±æœºï¼šIOè®¾å¤‡é€šè¿‡ä¸€ä¸ªæ–‡ä»¶æ¥ä»£è¡¨IOå¤„ç†ï¼Œç”¨æˆ·è¿›ç¨‹ç›´æ¥å¤„ç†è¿™ä¸ªæ–‡ä»¶æ¥å®ç°IOã€‚ å®ˆæŠ¤è¿›ç¨‹ï¼šç”¨æˆ·è¿›ç¨‹é€šè¿‡å°†æ–‡ä»¶æ”¾ç½®äºæŸä¸ªç›®å½•ä¸‹çš„ï¼Œè¯¥ç›®å½•ç§°ä¸ºå‡è„±æœºç›®å½•ï¼Œåªæœ‰ä¸€ä¸ªå…è®¸è®¿é—®IOè®¾å¤‡çš„è¿›ç¨‹ï¼Œæ¥è¯»å–è¿™äº›æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œè¿™ä¸ªè¿›ç¨‹å°±æ˜¯å®ˆæŠ¤è¿›ç¨‹ã€‚ ç£ç›˜ ç£ç›˜é©±åŠ¨å™¨ä¸æœ¬èº«å°±åŒ…å«ä¸€ä¸ªå¾®æ§åˆ¶å™¨ï¼Œè¿™å…è®¸ç£ç›˜é©±åŠ¨å™¨å‘å‡ºä¸€äº›è¯¸å¦‚é«˜é€Ÿç¼“å­˜ã€åå—é‡æ˜ å°„ç­‰é«˜çº§å‘½ä»¤ ç»“æ„ ç›˜é¢ï¼ˆPlatterï¼‰ï¼šä¸€ä¸ªç£ç›˜æœ‰å¤šä¸ªç›˜é¢ ç£é“ï¼ˆTrackï¼‰ï¼šç›˜é¢ä¸Šçš„åœ†å½¢å¸¦çŠ¶åŒºåŸŸï¼Œä¸€ä¸ªç›˜é¢å¯ä»¥æœ‰å¤šä¸ªç£é“ æ‰‡åŒºï¼ˆTrack Sectorï¼‰ï¼šç£é“ä¸Šçš„ä¸€ä¸ªå¼§æ®µï¼Œä¸€ä¸ªç£é“å¯ä»¥æœ‰å¤šä¸ªæ‰‡åŒºï¼Œå®ƒæ˜¯æœ€å°çš„ç‰©ç†å‚¨å­˜å•ä½ï¼Œç›®å‰ä¸»è¦æœ‰ 512 bytes ä¸ 4 K ä¸¤ç§å¤§å° ç£å¤´ï¼ˆHeadï¼‰ï¼šä¸ç›˜é¢éå¸¸æ¥è¿‘ï¼Œèƒ½å¤Ÿå°†ç›˜é¢ä¸Šçš„ç£åœºè½¬æ¢ä¸ºç”µä¿¡å·ï¼ˆè¯»ï¼‰ï¼Œæˆ–è€…å°†ç”µä¿¡å·è½¬æ¢ä¸ºç›˜é¢çš„ç£åœºï¼ˆå†™ï¼‰ åˆ¶åŠ¨æ‰‹è‡‚ï¼ˆActuator armï¼‰ï¼šç”¨äºåœ¨ç£é“ä¹‹é—´ç§»åŠ¨ç£å¤´ ä¸»è½´ï¼ˆSpindleï¼‰ï¼šä½¿æ•´ä¸ªç›˜é¢è½¬åŠ¨ RAID Redundant Array of Independent Disksï¼Œç‹¬ç«‹ç£ç›˜å†—ä½™é˜µåˆ—ã€‚é€šè¿‡å°†å¤šä¸ªç£ç›˜ç»„åˆèµ·æ¥ï¼Œä½¿ç”¨RAIDæ§åˆ¶å™¨ä»£æ›¿ç£ç›˜é©±åŠ¨å™¨ä»¥å®Œæˆå¸¸è§„çš„æ“ä½œã€‚ RAID0ï¼šå°†ç£ç›˜åˆ’åˆ†ä¸ºå¤šä¸ªæ¡å¸¦ï¼Œè‹¥è¯»å–å¤šä¸ªæ¡å¸¦çš„æ•°æ®ï¼Œå¯ä»¥å®ç°å¹¶è¡ŒIOï¼Œä½†å¯¹äºæ¯æ¬¡è¯»å–ä¸€ä¸ªæ¡å¸¦çš„æ“ä½œç³»ç»Ÿï¼Œæ€§èƒ½ä¸ä»…åŒæ™®é€šç£ç›˜ï¼Œè€Œä¸”è¿˜æœ‰æ•…éšœç‡æ›´é«˜çš„é£é™© RAID1: åœ¨RAID0çš„åŸºç¡€ä¸Šæ•´ä¸ªæ•°æ®å¤åˆ¶ä¸€ä»½ï¼Œå†™æ€§èƒ½æ¯”å•ä¸ªç£ç›˜å·®ï¼Œä½†è¯»æ€§èƒ½å¾ˆé«˜ï¼Œå¹¶ä¸”æ‹¥æœ‰å®¹é”™æ€§ï¼Œä¸€æ—¦ä¸€ä¸ªç£ç›˜æŒ‚æ‰ï¼Œä½¿ç”¨å‰¯æœ¬ä»£æ›¿å³å¯ RAID2ï¼šå·¥ä½œåœ¨å­—çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨äº†æ±‰æ˜ç æ¥è¿›è¡Œçº é”™ï¼Œå³ä½¿ä¸€ä¸ªç£ç›˜æŒ‚æ‰ï¼Œä¹Ÿèƒ½æ¢å¤å‡ºæ­£ç¡®æ•°æ® RAID3:åœ¨2çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨å¥‡å¶æ ¡éªŒç ã€‚å¦‚æœç£ç›˜æŒ‚æ‰ï¼Œç”±äºæŒ‚æ‰çš„ç£ç›˜ä½ç½®å·²çŸ¥ï¼Œæ‰€ä»¥å¯ä»¥æ¨ç®—å‡ºä¸¢å¤±çš„æ•°æ®ä½ä¸º0è¿˜æ˜¯0 2å’Œ3çš„æ€§èƒ½éƒ½ä¸æ¯”å•ä¸ªç£ç›˜å¥½ RAID4:é‡æ–°ä½¿ç”¨äº†æ¡å¸¦ï¼Œä½¿ç”¨ä¸€ä¸ªé©±åŠ¨å™¨ä¸“é—¨å­˜æ”¾å‰é¢4ä¸ªæ¡å¸¦çš„å¥‡å¶æ ¡éªŒã€‚ä½†è¿™ç§è®¾è®¡å¯¹å°æ›´æ–°çš„æ€§èƒ½å¾ˆå·®ï¼Œå› ä¸ºæ¯æ¬¡æ›´æ–°éƒ½éœ€è¦æ›´æ–°æ ¡éªŒå’Œã€‚ RAID5:åœ¨4çš„åŸºç¡€ä¸Šå°†æ ¡éªŒå’Œå¹³å‡åˆ†å¸ƒåˆ°å„ä¸ªç£ç›˜ï¼Œä½†å¦‚æœæŸä¸ªç£ç›˜æŒ‚æ‰ï¼Œé‚£å°±ä¸å¥½æ¢å¤äº† RAID6ï¼šåœ¨5çš„åŸºç¡€ä¸Šä½¿ç”¨é¢å¤–çš„æ ¡éªŒå—ã€‚ ç£ç›˜æ ¼å¼åŒ– ä½çº§æ ¼å¼åŒ–ï¼šå¯¹æ¯ä¸ªæ‰‡åŒºè®¾ç½®å‰å¯¼ç ï¼ŒECCï¼Œç”±äºå‰å¯¼ç ä¸ECCéœ€è¦å ç”¨ä¸€å®šç©ºé—´ï¼Œæ‰€ä»¥å¯ç”¨ç£ç›˜å®¹é‡æ€»æ¯”å®£ä¼ çš„å° â†“ ç£ç›˜åˆ†åŒºï¼š0æ‰‡åŒºåŒ…å«ä¸»å¼•å¯¼è®°å½•ï¼ˆMBRï¼‰ï¼ŒMBRåŒ…å«ä¸€äº›å¼•å¯¼ä»£ç åŠåˆ†åŒºè¡¨ â†“ é«˜çº§æ ¼å¼åŒ–ï¼šè®¾ç½®å¼•å¯¼å—ã€ç©ºé—²å­˜å‚¨ç®¡ç†ã€æ ¹ç›®å½•ã€æ–‡ä»¶ç³»ç»Ÿ ç³»ç»Ÿçš„å¯åŠ¨æµç¨‹ï¼šBIOSè¿è¡Œ->è¯»å…¥MBRå¹¶è·³è½¬->æ‰§è¡Œå¼•å¯¼ç¨‹åº->æ‰¾åˆ°æ“ä½œç³»ç»Ÿå†…æ ¸è½½å…¥å†…å­˜æ‰§è¡Œ ç£ç›˜è‡‚è°ƒåº¦ç®—æ³• è¯»å†™ç£ç›˜å—æ‰€éœ€è¦çš„æ—¶é—´å¤šå°‘ç”±ä»¥ä¸‹ä¸‰ä¸ªå› ç´ å†³å®šï¼š æ—‹è½¬æ—¶é—´ï¼šä¸»è½´è½¬åŠ¨ç›˜é¢ï¼Œä½¿å¾—ç£å¤´ç§»åŠ¨åˆ°é€‚å½“çš„æ‰‡åŒºä¸Šéœ€è¦çš„æ—¶é—´ å¯»é“æ—¶é—´ï¼šåˆ¶åŠ¨æ‰‹è‡‚ç§»åŠ¨ï¼Œä½¿å¾—ç£å¤´ç§»åŠ¨åˆ°é€‚å½“çš„ç£é“ä¸Šéœ€è¦çš„æ—¶é—´ æ•°æ®ä¼ è¾“æ—¶é—´ è°ƒåº¦ç®—æ³•ï¼š å…ˆæ¥å…ˆæœåŠ¡ç®—æ³• æŒ‰ç…§ç£ç›˜è¯·æ±‚çš„é¡ºåºè¿›è¡Œè°ƒåº¦ å…¬å¹³ç®€å•ï¼Œä½†æ˜¯æ²¡æœ‰å¯¹å¯»é“åšä»»ä½•ä¼˜åŒ–ï¼Œå¹³å‡å¯»é“æ—¶é—´è¾ƒé•¿ æœ€çŸ­å¯»é“ä¼˜å…ˆ ä¼˜å…ˆè°ƒåº¦è·è·ç¦»ç£å¤´æœ€è¿‘çš„ç£é“ ä¸å¤Ÿå…¬å¹³ï¼Œå¦‚æœä¸€ä¸ªè¯·æ±‚è·ç¦»å½“å‰ç£å¤´æ¯”è¾ƒè¿œï¼Œä¼šå‡ºç°é¥¥é¥¿ç°è±¡ ç”µæ¢¯ç®—æ³• æ€»æ˜¯ä¿æŒä¸€ä¸ªæ–¹å‘è¿è¡Œï¼Œç›´åˆ°è¯¥æ–¹å‘æ²¡æœ‰è¯·æ±‚ä¸ºæ­¢ï¼Œç„¶åæ”¹å˜è¿è¡Œæ–¹å‘ æ—‹è½¬æ—¶é—´ä¸å¯»é“æ—¶é—´ååˆ†å½±å“æ€§èƒ½ï¼Œæ‰€ä»¥ä¸€æ¬¡åªè¯»å–ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªæ‰‡åŒºæ•ˆç‡å¾ˆä½ã€‚ç°ä»£çš„ç£ç›˜æ§åˆ¶å™¨éƒ½æ‹¥æœ‰é«˜é€Ÿç¼“å­˜ï¼Œæ¯æ¬¡è¯»å–å¤šä¸ªæ‰‡åŒºï¼Œå¹¶å°†å…¶ç¼“å­˜ã€‚ é”™è¯¯å¤„ç† å¯¹äºç£ç›˜åå—çš„å¤„ç†ï¼Œå¯ä»¥åœ¨æ§åˆ¶å™¨æˆ–è€…åœ¨æ“ä½œç³»ç»Ÿå¯¹ä»–ä»¬è¿›è¡Œå¤„ç†ã€‚ åœ¨æ§åˆ¶å™¨ä¸­ï¼Œå¤„ç†çš„æ€æƒ³éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä½¿ç”¨å¤‡ç”¨å—æ¥æ›¿ä»£åå—ã€‚ è€Œåœ¨æ“ä½œç³»ç»Ÿçº§åˆ«è¿›è¡Œå¤„ç†ï¼Œæ“ä½œç³»ç»Ÿå¿…é¡»è·çš„æ‰€æœ‰åå—åˆ—è¡¨ï¼Œå¹¶å°†å…¶è¿›è¡Œé‡æ˜ å°„ã€‚ ç¨³å®šå­˜å‚¨å™¨ ä¿æŒç£ç›˜çš„æ•°æ®ä¸€è‡´æ€§ã€‚ ç¨³å®šå†™ï¼šå¯¹æ¯ä¸ªç£ç›˜é©±åŠ¨å™¨è½®æµè¿›è¡Œé‡å¤å†™æ“ä½œ ç¨³å®šè¯»ï¼šå¦‚æœæœ‰ç¨³å®šå†™æ€»æ˜¯æˆåŠŸï¼Œå¹¶ä¸”ä¸€æ®µæ—¶é—´å†…æ•°æ®ä¸ä¼šè‡ªå·±å˜åçš„å‰æä¸‹ï¼Œç¨³å®šå†™å°±æ€»æ˜¯æˆåŠŸçš„ å´©æºƒæ¢å¤ï¼šå½“å†™çš„è¿‡ç¨‹ä¸­å‘ç”Ÿå´©æºƒï¼Œåç»­æ¢å¤çš„åŸåˆ™ ä¸¤å—éƒ½æ˜¯å¥½çš„ä¸”ä¸€æ ·ï¼Œä»€ä¹ˆä¹Ÿä¸åš ä¸€å—æœ‰ECCé”™è¯¯ï¼Œåˆ™å¥½çš„è¦†ç›–æ‰æœ‰ECCé”™è¯¯çš„ ä¸¤å—éƒ½æ˜¯å¥½çš„ä½†ä¸ä¸€æ ·ï¼Œç”¨ç¬¬ä¸€å—è¦†ç›–ç¬¬äºŒå— æ—¶é’Ÿ æ—¶é’Ÿç¡¬ä»¶ å¯ç¼–ç¨‹æ—¶é’Ÿï¼šçŸ³è‹±æ™¶ä½“æ¯æ¬¡éœ‡è¡ä¼šå°†é€’å‡è®¡æ•°å™¨ï¼Œè®¡æ•°å™¨åˆ°0æ—¶ä¼šè§¦å‘ä¸€ä¸ªä¸­æ–­ï¼Œè½¯ä»¶å¯ä»¥è‡ªå®šä¹‰è¿™ä¸ªè®¡æ•°å™¨æ¥å®ç°å¯¹æ—¶é’Ÿçš„ç¼–ç¨‹ã€‚ ä¸€æ¬¡å®Œæˆæ¨¡å¼ï¼šä¸­æ–­å‘ç”Ÿåç­‰å¾…è½¯ä»¶æ˜¾å¼å¯åŠ¨ æ–¹æ³¢æ¨¡å¼ï¼šä¸­æ–­ä¸€æ¬¡ä¹‹åï¼Œåˆé‡æ–°å¼€å§‹å¾ªç¯ æ—¶é’Ÿè½¯ä»¶ ç»´æŠ¤æ—¥æ—¶é—´ é€šè¿‡æ—¶é’Ÿæ¥ç»´æŠ¤ç°åœ¨çš„æ—¶é—´ï¼Œä¸ºäº†é˜²æ­¢32ä½å†…å­˜æº¢å‡ºï¼Œå¯ä»¥ä½¿ç”¨64ä½è®¡æ•°å™¨ï¼Œä½†ä»£ä»·è¿‡é«˜ã€‚ä¹Ÿå¯ä½¿ç”¨ä»¥ç§’ä¸ºå•ä½ã€‚ é˜²æ­¢è¿›ç¨‹è¶…æ—¶è¿è¡Œ æ—¶é’Ÿçš„æ¯æ¬¡ä¸­æ–­å°±å°†æ—¶é—´ç‰‡-1ï¼Œå½“æ—¶é—´ç‰‡ä¸º0ï¼Œå°±å¾—é‡æ–°è°ƒåº¦ç¨‹åºã€‚ å¯¹CPUä½¿ç”¨æƒ…å†µè¿›è¡Œè®°è´¦ æ¯æ¬¡æ»´ç­”å¯¹è¿›ç¨‹è¡¨é¡¹çš„æŸä¸ªåŸŸ+1æ¥å®ç°è®°å½•è¿›ç¨‹è¿è¡Œæ—¶é—´ã€‚ å¤„ç†alarmç³»ç»Ÿè°ƒç”¨ è¿›ç¨‹å¯ä»¥è¯·æ±‚æ“ä½œç³»ç»Ÿåœ¨ä¸€å®šçš„æ—¶é—´é—´éš”åå‘å®ƒæŠ¥è­¦ã€‚ ä¸€ä¸ªç‰©ç†æ—¶é’Ÿä¸ºäº†æ¨¡æ‹Ÿå‡ºå¤šä¸ªæ—¶é’Ÿï¼Œå¯ä»¥é€šè¿‡ç»´æŠ¤ä¸€å¼ è¡¨ï¼Œæ¯æ¬¡æ—¶é—´å‘ç”Ÿæ›´æ–°å°±æŸ¥æ‰¾æ˜¯å¦è¾¾åˆ°è¡¨ä¸­æ‰€éœ€è¦çš„æ—¶åˆ»ï¼Œå¦‚æœè¾¾åˆ°äº†ï¼Œå°±è¿›è¡Œè§¦å‘ã€‚ç„¶åç»§ç»­é‡å¤è¿™ä¸ªæ­¥éª¤ã€‚ ä¸ºç³»ç»Ÿå„éƒ¨åˆ†æä¾›ç›‘è§†å®šæ—¶å™¨ æ£€æµ‹æ­»æœºä¹‹ç±»çš„é—®é¢˜ã€‚å¦‚æœæ“ä½œç³»ç»Ÿå¯ä»¥å®šæ—¶æ¸…é™¤è®¡æ•°å™¨ï¼Œå½“æŸä¸ªæ—¶åˆ»è®¡æ•°å™¨è¶…è¿‡æŸä¸ªé˜ˆå€¼ï¼Œå°±å¯ä»¥ç¡®å®šå·²ç»æ­»æœºäº†ï¼Œæ­¤æ—¶è½¯ä»¶ä»‹å…¥å¤„ç†ã€‚ å®Œæˆä¿¡æ¯æ”¶é›† è½¯å®šæ—¶å™¨ IOæœ‰ä¸¤ç§æ–¹å¼ï¼šä¸­æ–­å’Œè½®è¯¢ã€‚ ç°ä»£CPUçš„ä¸­æ–­å¼€é”€æ˜¯å¾ˆå¤§çš„ï¼Œä½†è½®è¯¢çš„å“åº”æ—¶é—´åˆä¼šæ¯”è¾ƒé«˜ã€‚ æ‰€ä»¥ä¸ºäº†è¾¾åˆ°ä¸€ä¸ªå–èˆï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªè½¯å®šæ—¶å™¨å®šæ—¶ä¸­æ–­æ¥è¿›è¡ŒIOã€‚ å¤–è®¾ è¾“å…¥è½¯ä»¶ é”®ç›˜è½¯ä»¶ åŸå§‹æ¨¡å¼ï¼šå‘ç”¨æˆ·æä¾›åŸå§‹çš„ASCIIç åºåˆ— åŠ å·¥æ¨¡å¼ï¼šç”±é”®ç›˜é©±åŠ¨å¤„ç†å…¨éƒ¨è¡Œå†…ç¼–è¾‘ï¼Œå°†ç¼–è¾‘ç»“æœå­˜å‚¨åœ¨ç¼“å†²åŒºå›è½¦åå†™å…¥ é¼ æ ‡è½¯ä»¶ é¼ æ ‡å‘é€çš„æ¶ˆæ¯åŒ…å«ï¼š$\\Delta$x $\\Delta$y æŒ‰é’® ï¼Œé€šå¸¸ä¸º3å­—èŠ‚ é¼ æ ‡å•å‡»ä¸åŒå‡»åˆ™æ˜¯ç”±GUIæ¥è¿›è¡ŒåŒºåˆ†çš„ è¾“å‡ºè½¯ä»¶ æ–‡æœ¬çª—å£ ä¸ºäº†æ§åˆ¶ç»ˆç«¯è¿›è¡Œæ–‡å­—è¾“å‡ºï¼Œç¨‹åºä½¿ç”¨äº†ä¸€ç§è¢«ç§°ä¸ºâ€œè½¬ä¹‰åºåˆ—â€çš„ä¸œè¥¿æ¥æ§åˆ¶ç»ˆç«¯ã€‚ Xçª—å£ç³»ç»Ÿ å›¾å½¢ç”¨æˆ·ç•Œé¢ ä½å›¾ å­—ä½“ è§¦æ‘¸å± ç˜¦å®¢æˆ·æœº ç”µæºç®¡ç† æœ‰ä¸¤ç§æ–¹æ³•å‡å°‘ç”µé‡æ¶ˆè€—ï¼š å…³é—­ä¸ç”¨çš„æŸäº›è®¡ç®—æœºç¡¬ä»¶ ä½¿åº”ç”¨ç¨‹åºè€—èƒ½æ›´ä½ ç¡¬ä»¶é—®é¢˜ æ“ä½œç³»ç»Ÿé—®é¢˜ æ˜¾ç¤ºå™¨ ç¡¬ç›˜ CPU å†…å­˜ æ— çº¿é€šä¿¡ çƒ­é‡ç®¡ç† ç”µæºç®¡ç† é©±åŠ¨ç¨‹åºæ¥å£ åº”ç”¨ç¨‹åºé—®é¢˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-22 07:40:00 "},"æ“ä½œç³»ç»Ÿ/æ­»é”.html":{"url":"æ“ä½œç³»ç»Ÿ/æ­»é”.html","title":"æ­»é”","keywords":"","body":"æ­»é” èµ„æº æ’ä»–æ€§ä½¿ç”¨çš„å¯¹è±¡ å¯æŠ¢å èµ„æº ä¸å¯æŠ¢å èµ·æº 1ï¼‰è¯·æ±‚èµ„æº 2ï¼‰ä½¿ç”¨èµ„æº 3ï¼‰é‡Šæ”¾èµ„æº èµ„æºè·å– å¯èƒ½äº§ç”Ÿæ­»é”çš„ç¼–ç  void fa(){ down(r1); down(r2); up(r1); up(r2); } void fb(){ down(r2); down(r1); up(r1); up(r2); } æ­»é”ç®€ä»‹ é›†åˆä¸­çš„æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…åªèƒ½ç”±æœ¬é›†åˆä¸­çš„å…¶ä»–è¿›ç¨‹æ‰èƒ½å¼•å‘çš„äº‹ä»¶ï¼Œé‚£ä¹ˆè¯¥ç»„è¿›ç¨‹æ˜¯æ­»é”çš„ èµ„æºæ­»é”çš„æ¡ä»¶ äº’æ–¥ï¼šæ¯ä¸ªèµ„æºè¦ä¹ˆå·²ç»åˆ†é…ç»™äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œè¦ä¹ˆå°±æ˜¯å¯ç”¨çš„ å æœ‰å’Œç­‰å¾…ï¼šå·²ç»å¾—åˆ°äº†æŸä¸ªèµ„æºçš„è¿›ç¨‹å¯ä»¥å†è¯·æ±‚æ–°çš„èµ„æº ä¸å¯æŠ¢å ï¼šå·²ç»åˆ†é…ç»™ä¸€ä¸ªè¿›ç¨‹çš„èµ„æºä¸èƒ½å¼ºåˆ¶æ€§åœ°è¢«æŠ¢å ï¼Œå®ƒåªèƒ½è¢«å æœ‰å®ƒçš„è¿›ç¨‹æ˜¾å¼åœ°é‡Šæ”¾ ç¯è·¯ç­‰å¾…ï¼šæœ‰ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹ç»„æˆä¸€æ¡ç¯è·¯ï¼Œè¯¥ç¯è·¯ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€å æœ‰çš„èµ„æº æ­»é”å»ºæ¨¡ åœ†å½¢è¡¨ç¤ºè¿›ç¨‹ï¼Œæ–¹å½¢è¡¨ç¤ºèµ„æº å¦‚æœäº§ç”Ÿç¯è·¯ï¼Œåˆ™äº§ç”Ÿæ­»é” å¤„ç†æ­»é”çš„ç­–ç•¥ å¿½ç•¥é—®é¢˜ æ£€æµ‹å¹¶æ¢å¤ ä»”ç»†åˆ†é…èµ„æº ç ´åå¼•èµ·æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ é¸µé¸Ÿç­–ç•¥ è§£å†³æ­»é”é—®é¢˜çš„ä»£ä»·å¾ˆé«˜ï¼Œå› æ­¤é¸µé¸Ÿç­–ç•¥è¿™ç§ä¸é‡‡å–ä»»åŠ¡æªæ–½çš„æ–¹æ¡ˆä¼šè·å¾—æ›´é«˜çš„æ€§èƒ½ æ­»é”æ£€æµ‹å’Œæ­»é”æ¢å¤ æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹ æ–¹æ¡†ä»£è¡¨èµ„æºï¼Œåœ†åœˆè¡¨ç¤ºè¿›ç¨‹ï¼Œèµ„æºæŒ‡å‘è¿›ç¨‹è¡¨ç¤ºè¯¥èµ„æºå·²ç»åˆ†é…ç»™è¯¥è¿›ç¨‹ï¼Œè¿›ç¨‹æŒ‡å‘èµ„æºè¡¨ç¤ºè¿›ç¨‹è¯·æ±‚è·å–è¯¥èµ„æºï¼Œè¿™æ ·å½“ä¸€ä¸ªå›¾ä¸­å‡ºç°äº†ç¯ï¼Œå°±ä»£è¡¨å‡ºç°äº†æ­»é” å¯ä»¥é€šè¿‡æ£€æµ‹æœ‰å‘å›¾ç¯è·¯çš„ç®—æ³•ï¼Œè¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¯¹è®¿é—®è¿‡çš„èŠ‚ç‚¹è¿›è¡Œæ ‡è®°ï¼Œå¦‚æœå‘ç°é‡å¤çš„èŠ‚ç‚¹ï¼Œåˆ™ä»£è¡¨å‡ºç°äº†æ­»é” æ¯ç§ç±»å‹å¤šä¸ªèµ„æºçš„æ­»é”æ£€æµ‹ åŸºäºå‘é‡æ£€æµ‹ ä»æ­»é”ä¸­æ¢å¤ åˆ©ç”¨æŠ¢å æ¢å¤ åˆ©ç”¨å›æ»šæ¢å¤ æ€æ­»è¿›ç¨‹æ¢å¤ æ­»é”é¿å… åœ¨ç¨‹åºè¿è¡Œæ—¶é¿å…å‘ç”Ÿæ­»é” èµ„æºè½¨è¿¹å›¾ å®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€ ç¬¬äºŒåˆ— Has è¡¨ç¤ºå·²æ‹¥æœ‰çš„èµ„æºæ•°ï¼Œç¬¬ä¸‰åˆ— Max è¡¨ç¤ºæ€»å…±éœ€è¦çš„èµ„æºæ•°ï¼ŒFree è¡¨ç¤ºè¿˜æœ‰å¯ä»¥ä½¿ç”¨çš„èµ„æºæ•° ä»å›¾ a å¼€å§‹å‡ºå‘ï¼Œå…ˆè®© B æ‹¥æœ‰æ‰€éœ€çš„æ‰€æœ‰èµ„æºï¼ˆå›¾ bï¼‰ï¼Œè¿è¡Œç»“æŸåé‡Šæ”¾ Bï¼Œæ­¤æ—¶ Free å˜ä¸º 5ï¼ˆå›¾ cï¼‰ï¼›æ¥ç€ä»¥åŒæ ·çš„æ–¹å¼è¿è¡Œ C å’Œ Aï¼Œä½¿å¾—æ‰€æœ‰è¿›ç¨‹éƒ½èƒ½æˆåŠŸè¿è¡Œï¼Œå› æ­¤å¯ä»¥ç§°å›¾ a æ‰€ç¤ºçš„çŠ¶æ€æ—¶å®‰å…¨çš„ ä»å®‰å…¨çŠ¶æ€å‡ºå‘ï¼Œç³»ç»Ÿèƒ½ä¿è¯æ‰€æœ‰è¿›ç¨‹éƒ½èƒ½å®Œæˆ å•ä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³• å¤šä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³• æ­»é”é¢„é˜² åœ¨ç¨‹åºè¿è¡Œä¹‹å‰é¿å…å‘ç”Ÿæ­»é” ç ´åäº’æ–¥æ¡ä»¶ ä½¿èµ„æºå¯ä»¥åŒæ—¶è¢«å¤šä¸ªè¿›ç¨‹å…±äº« ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶ è§„å®šè¿›ç¨‹åœ¨å¼€å§‹æ‰§è¡Œå‰è¯·æ±‚æ‰€éœ€è¦çš„èµ„æº ç ´åä¸å¯æŠ¢å æ¡ä»¶ ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨æŸä¸ªèµ„æºæ—¶ï¼Œè¿™ä¸ªèµ„æºå¯ä»¥è¢«å…¶ä»–éœ€è¦çš„è¿›ç¨‹æŠ¢å¤º ç ´åç¯è·¯ç­‰å¾… ç»™èµ„æºè¿›è¡Œç¼–å·ï¼Œè§„å®šèµ„æºçš„è·å–é¡ºåº æ¡ä»¶ å¤„ç†æ–¹å¼ äº’æ–¥ ä¸€åˆ‡éƒ½ä½¿ç”¨å‡è„±æœºæŠ€æœ¯ å æœ‰å’Œç­‰å¾… åœ¨å¼€å§‹å°±è¯·æ±‚å…¨éƒ¨èµ„æº ä¸å¯æŠ¢å  æŠ¢å èµ„æº ç¯è·¯ç­‰å¾… å¯¹èµ„æºæŒ‰åºç¼–å· å…¶ä»–é—®é¢˜ ä¸¤é˜¶æ®µåŠ é” é€šä¿¡æ­»é” æ´»é” é¥¥é¥¿ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-21 11:05:17 "},"æ“ä½œç³»ç»Ÿ/è™šæ‹ŸåŒ–ä¸äº‘.html":{"url":"æ“ä½œç³»ç»Ÿ/è™šæ‹ŸåŒ–ä¸äº‘.html","title":"è™šæ‹ŸåŒ–ä¸äº‘","keywords":"","body":"è™šæ‹ŸåŒ–çš„å¿…è¦æ¡ä»¶ å®‰å…¨æ€§ ä¿çœŸæ€§ é«˜æ•ˆæ€§ ç¬¬ä¸€ç±»å’Œç¬¬äºŒç±»è™šæ‹Ÿæœºç®¡ç†ç¨‹åº å®¢æˆ·æ“ä½œç³»ç»Ÿ å®¿ä¸»æ“ä½œç³»ç»Ÿ é«˜æ•ˆè™šæ‹ŸåŒ–æŠ€æœ¯ åœ¨ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„å¹³å°ä¸Šå®ç°è™šæ‹ŸåŒ– ç³»ç»Ÿåˆ‡æ¢ è™šæ‹ŸåŒ–çš„å¼€é”€ è™šæ‹Ÿæœºç®¡ç†ç¨‹åºæ˜¯æ­£ç¡®çš„å¾®å†…æ ¸å— å†…å­˜è™šæ‹ŸåŒ– åµŒå¥—é¡µè¡¨çš„ç¡¬ä»¶æ‰©å±• å›æ”¶å†…å­˜ IOè™šæ‹ŸåŒ– IO MMU è®¾å¤‡åŸŸ å•æ ¹IOè™šæ‹ŸåŒ– è™šæ‹Ÿè£…ç½® å¤šæ ¸CPUä¸Šçš„è™šæ‹Ÿæœº å»é‡ æˆæƒé—®é¢˜ äº‘ æŒ‰éœ€è‡ªåŠ©æœåŠ¡ æ™®é€‚çš„ç½‘ç»œè®¿é—® èµ„æºæ±  å¿«é€Ÿå¯ä¼¸ç¼© æœåŠ¡å¯è®¡é‡ äº‘å³æœåŠ¡ è™šæ‹Ÿæœºè¿ç§» æ£€æŸ¥ç‚¹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-06 03:55:58 "},"æ“ä½œç³»ç»Ÿ/å¤šå¤„ç†æœºç³»ç»Ÿ.html":{"url":"æ“ä½œç³»ç»Ÿ/å¤šå¤„ç†æœºç³»ç»Ÿ.html","title":"å¤šå¤„ç†æœºç³»ç»Ÿ","keywords":"","body":"å¤šå¤„ç†æœºç³»ç»Ÿ ä¸‰ç§ç±»å‹çš„å¤šå¤„ç†æœºç³»ç»Ÿ aï¼šå…±ç”¨ä¸€ä¸ªç‰©ç†å­˜å‚¨å™¨ å¯¹ç¨‹åºå‘˜é€æ˜ bï¼šæ²¡æœ‰å…¨å±€å…±äº«å±‹é‡Œå­˜å‚¨å™¨ ç¼–ç¨‹è¾ƒå›°éš¾ cï¼šé€šè¿‡ç½‘ç»œè¿æ¥èµ·æ¥çš„åˆ†å¸ƒå¼ç³»ç»Ÿ å¤šå¤„ç†æœº å¤šä¸ªCPUå…±äº«è®¿é—®ä¸€ä¸ªå…¬ç”¨RAM å¤šå¤„ç†æœºç¡¬ä»¶ ç»Ÿä¸€å­˜å‚¨å™¨è®¿é—®ï¼ˆUMAï¼‰ åŸºäºæ€»çº¿çš„UMAå¤šå¤„ç†æœºä½“ç³»ç»“æ„ æ²¡æœ‰é«˜é€Ÿç¼“å­˜å°±éœ€è¦åœ¨æ•°æ®å†™å…¥æ˜¯è¿›è¡Œæ€»çº¿å†²çªæ£€æµ‹ï¼Œè¿™æ ·ç³»ç»Ÿä¼š å—åˆ°æ€»çº¿å¸¦å®½çš„é™åˆ¶ï¼ŒåŠ ä¸Šç¼“å­˜æˆ–è€…ç§æœ‰å­˜å‚¨å™¨ æ€»çº¿æµé‡å°±å¤§å¤§å‡å°‘ å¯ä»¥æ”¯æŒæ›´å¤šçš„CPU ä½¿ç”¨äº¤å‰å¼€å…³çš„UMAå¤šå¤„ç†æœº è¿™ç§æ–¹å¼ä¸¤ä¸ªå¤„ç†å™¨å¯¹åŒä¸€ä¸ªå­˜å‚¨å™¨çš„ç«äº‰å°†é™ä½åˆ°1/n ä½†äº¤å‰ç‚¹çš„æ•°é‡æ˜¯å¤„ç†å™¨çš„å¹³æ–¹å€ ä½¿ç”¨å¤šçº§äº¤æ¢ç½‘ç»œçš„UMAå¤šå¤„ç†æœº é€šè¿‡ä¸€ä¸ªå¼€å…³æ¥é¿å…äº¤å‰ç‚¹çš„å¹³æ–¹å€ä¸Šå‡ NUMAå¤šå¤„ç†æœº å…·æœ‰å¯¹æ‰€æœ‰CPUå¯è§çš„å•ä¸ªåœ°å€ç©ºé—´ æ‹¥æœ‰è¿œç¨‹ä¸æœ¬åœ°å­˜å‚¨å™¨ å¤šæ ¸èŠ¯ç‰‡ å¤šä¸ªæ ¸å¿ƒä¹‹é—´å…±äº«å†…å­˜ å†…å­˜ä¸å„ä¸ªæ ¸å¿ƒçš„é«˜é€Ÿç¼“å­˜ä¼šé€šè¿‡æŸäº›åè®®æ¥å®ç°ä¸€è‡´æ€§ å¤šæ ¸èŠ¯ç‰‡ä¹Ÿè¢«ç§°ä¸ºç‰‡çº§å¤šå¤„ç†æœº è¢«ç§°ä¸ºSocï¼ˆç‰‡ä¸Šç³»ç»Ÿï¼‰çš„å¤šæ ¸èŠ¯ç‰‡ä¸ä»…åŒ…å«å¤šä¸ªé€šç”¨æ ¸å¿ƒï¼Œè€Œä¸”è¿˜ä¼šåµŒå…¥è‹¥å¹²ä¸ªä¸“ç”¨æ ¸å¿ƒï¼Œå¦‚éŸ³è§†é¢‘è§£ç  ä¼—æ ¸èŠ¯ç‰‡ ç”±æ•°é‡ä¼—å¤šçš„æ ¸å¿ƒç»„æˆçš„èŠ¯ç‰‡ é€‚ç”¨äºä¼—æ ¸èŠ¯ç‰‡çš„ç¼–ç¨‹æ¨¡å‹å·²è¢«æ­£é¢çš„æœ‰æ¶ˆæ¯ä¼ é€’å’Œåˆ†å¸ƒå¼å†…å­˜ ç»´æŠ¤å†…å­˜ä¸€è‡´æ€§çš„ä»£ä»·å¾ˆå¤§ å¦‚GPUå°±æ˜¯ä¼—æ ¸èŠ¯ç‰‡ï¼Œé€‚åˆå¤§é‡å¹¶è¡Œçš„å°è§„æ¨¡è®¡ç®— GPUæœ¬è´¨ä¸Šæ˜¯å•æŒ‡ä»¤å¤šæ•°æ®æµå¤„ç†å™¨ å¼‚æ„å¤šæ ¸ ç»Ÿä¸€èŠ¯ç‰‡åŒ…å«ç€å¤šä¸ªä¸åŒæ¶æ„ä¸åŒæŒ‡ä»¤é›†çš„å¼‚æ„æ ¸å¿ƒ å¤šå¤„ç†æœºæ“ä½œç³»ç»Ÿç±»å‹ æ¯ä¸ªCPUæœ‰è‡ªå·±çš„æ“ä½œç³»ç»Ÿ æ¯ä¸ªCPUéƒ½å¯ä»¥å…±äº«å†…å­˜ä¸IOèµ„æº ä½†æ˜¯å¯èƒ½é€ æˆèµ„æºä½¿ç”¨ä¸å‡è¡¡ ä½†æœ€è¦å‘½çš„æ˜¯å„ä¸ªCPUéƒ½è¦å„è‡ªç»´æŠ¤è‡ªå·±çš„ç£ç›˜ç¼“å†²åŒº å°±ä¼šé€ æˆä¸ä¸€è‡´çš„æƒ…å†µ ä¸»ä»å¤šå¤„ç†æœº æ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨éƒ½è¦ç»è¿‡ä¸»CPU ä¸»CPUä¼šæˆä¸ºç“¶é¢ˆ å¯¹å°å‹å¤šå¤„ç†æœºæ˜¯å¯è¡Œçš„ å¯¹ç§°å¤šå¤„ç†æœº ä¸€ç§æ–¹å¼æ˜¯ä»»ä½•æ—¶åˆ»éƒ½åªèƒ½æœ‰ä¸€ä¸ªCPUè¿è¡Œæ“ä½œç³»ç»Ÿ å¦ä¸€ç§æ–¹å¼æ˜¯å°†æ“ä½œç³»ç»Ÿåˆ†å‰²æˆäº’ä¸å½±å“çš„ä¸´ç•ŒåŒº ä¸åŒçš„CPUå¤„ç†ä¸åŒçš„åŠŸèƒ½ å®ç°å¹¶è¡Œæ“ä½œ å¤šå¤„ç†æœºåŒæ­¥ TSLï¼ˆtest and set lockï¼‰ å¿…é¡»å…ˆé”ä½æ€»çº¿ ç„¶åå†è¿›è¡Œè¯»å†™è®¿é—® ä½†è¿™æ ·å¦‚æœå†²çªè¿‡äºé¢‘ç¹ æ€»çº¿æœ‰æ•ˆæµé‡è´Ÿè½½å°±å¤§å¤§ä¸‹é™ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼š é”æ€»çº¿ä¹‹å‰ä½¿ç”¨ä¸€ä¸ªçº¯è¯»æ“ä½œæµ‹è¯•æ€»çº¿æ˜¯å¦ç©ºé—² å‘ç”Ÿå†²çªæ—¶ï¼Œä½¿ç”¨äºŒè¿›åˆ¶æŒ‡æ•°å›é€€ç®—æ³• æ›´å¥½çš„æ–¹æ³•æ˜¯ï¼Œå‘ç”Ÿå†²çªåï¼Œæ¯ä¸ªCPUç­‰å¾…çš„æ—¶é—´éƒ½ä¸åŒ ä»¥é¿å…å†æ¬¡å†²çª è‡ªæ—‹è¿˜æ˜¯åˆ‡æ¢ å½“æ“ä½œç³»ç»Ÿçš„æŸä¸ªçº¿ç¨‹è·å–ä¸åˆ°äº’æ–¥ä¿¡å·é‡æ—¶ æ˜¯è¿›è¡Œè‡ªæ—‹è¿˜æ˜¯åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªçº¿ç¨‹ï¼Ÿ è®¸å¤šç ”ç©¶éƒ½æ˜¯é€‰æ‹©è‡ªæ—‹ä¸€æ®µæ—¶é—´ è¶…è¿‡æŸä¸ªé˜ˆå€¼ å°±è¿›è¡Œåˆ‡æ¢ ç°ä»£å¤„ç†å™¨éƒ½æä¾›äº†ç‰¹æ®Šçš„æŒ‡ä»¤ä½¿å¾—ç­‰å¾…è¿‡ç¨‹æ›´åŠ é«˜æ•ˆ å¤šå¤„ç†æœºè°ƒåº¦ åˆ†æ—¶ ç°åœ¨çš„å‘å±•è¶‹åŠ¿æ˜¯å†…æ ¸é€‰æ‹©çº¿ç¨‹ä¸ºè°ƒåº¦å•ä½ æ™ºèƒ½è°ƒåº¦ï¼šä¸ºäº†é¿å…çº¿ç¨‹åœ¨æ—¶é—´ç‰‡ç”¨å®Œåæ²¡æœ‰é‡Šæ”¾é” è°ƒåº¦ç¨‹åºä¼šç»™äºˆå…¶ç¨å¾®å¤šä¸€ç‚¹çš„æ—¶é—´ç‰‡ä»¥å®Œæˆä¸´ç•ŒåŒºçš„å·¥ä½œä»¥é‡Šæ”¾é” äº²å’Œè°ƒåº¦ï¼šå¦‚æœä¸€ä¸ªCPUè¿è¡Œè¿‡æŸä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆä¸‹æ¬¡è°ƒåº¦è¿™ä¸ªä»»åŠ¡ä¼šä¼˜å…ˆé€‰æ‹©è¿™ä¸ªCPUä»¥å……åˆ†åˆ©ç”¨é«˜é€Ÿç¼“å­˜ ç©ºé—´å…±äº« å½“ä¸€ä¸ªè¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´é¢‘ç¹é€šä¿¡ è®©å®ƒä»¬åœ¨åŒä¸€æ—¶é—´æ‰§è¡Œå°±æ˜¾å¾—å¾ˆé‡è¦ ç¾¤è°ƒåº¦ æŠŠä¸€ç»„ç›¸å…³ç›¸å…³çº¿ç¨‹ä½œä¸ºä¸€ä¸ªå•ä½è¿›è¡Œè°ƒåº¦ ä¸€ä¸ªç¾¤ä¸­çš„ç›¸å…³çº¿ç¨‹åœ¨ä¸åŒçš„åˆ†æ—¶CPUä¸ŠåŒæ—¶è¿è¡Œ ç¾¤ç»„æ‰€æœ‰æˆå‘˜å…±åŒå¼€å§‹å’Œç»“æŸæ—¶é—´ç‰‡ å¤šè®¡ç®—æœº å¦‚æœå°†CPUæ•°é‡è¿›ä¸€æ­¥å¢åŠ ï¼Œä¸ä»…é€ ä»·é«˜æ˜‚ï¼Œè€Œä¸”å®ç°èµ·æ¥ä¹Ÿæ›´å›°éš¾ æ‰€ä»¥é€šè¿‡äº’è”ç½‘ç»œåŠæ¥å£å¡æ¥å®ç°å¤šè®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ å¤šè®¡ç®—æœºç¡¬ä»¶ äº’è¿æŠ€æœ¯ å­˜å‚¨è½¬å‘åŒ…äº¤æ¢ è¿™ç§ç±»å‹çš„äº¤æ¢æŠ€æœ¯éœ€è¦å°†æ¶ˆæ¯åˆ†è§£æˆåŒ…ï¼Œä»¥åŒ…ä¸ºåŸºç¡€ä¼ è¾“å•ä½ï¼Œä½†å­˜åœ¨ç€ç½‘ç»œæ—¶å»¶å¢åŠ çš„é—®é¢˜ ç”µè·¯äº¤æ¢ æ¯”ç‰¹æµç›´æ¥ä»æºä¼ é€’åˆ°ç›®çš„åœ°ï¼Œæ²¡æœ‰ä¸­é—´ç¼“å†²åŒºã€‚ ç½‘ç»œæ¥å£ ç½‘å¡éƒ½æœ‰å±äºè‡ªå·±çš„ç§æœ‰RAM è¿™æ ·è®¾è®¡çš„åŸå› åœ¨äºç½‘ç»œä¸Šçš„æ¯”ç‰¹æµé€Ÿç‡ä¸€èˆ¬éƒ½æ˜¯æ’å®šçš„ï¼Œå¦‚æœä¸è¿›è¡ŒåŠæ—¶åŒæ­¥å­˜å‚¨æ¯”ç‰¹æ•°æ®ï¼Œå°±ä¼šæœ‰æ•°æ®ä¸¢å¤±çš„é£é™© ç°åœ¨ç½‘å¡çš„åŠŸèƒ½æ—¥ç›Šå¼ºå¤§ï¼Œå¼•å…¥äº†ç½‘ç»œå¤„ç†å™¨æ¥å°†ä¸»CPUçš„ä¸€äº›åŠŸèƒ½åˆ†æ‹…ç»™ç½‘å¡ ä½å±‚é€šä¿¡è½¯ä»¶ è¿›å‡ºRAMçš„å¤åˆ¶æ˜¯é«˜æ€§èƒ½é€šä¿¡çš„ç“¶é¢ˆï¼Œæ‰€ä»¥è®¸å¤šè®¡ç®—æœºéƒ½æŠŠç½‘å¡æ˜ å°„åˆ°ç”¨æˆ·ç©ºé—´ï¼ˆé›¶æ‹·è´ï¼‰ï¼Œå…è®¸ç”¨æˆ·ç¨‹åºç›´æ¥æŠŠåŒ…å‘é€åˆ°ç½‘å¡è€Œä¸ç»è¿‡å†…æ ¸ã€‚ ä½†å½“å¤šä¸ªç”¨æˆ·è¿›ç¨‹éœ€è¦è®¿é—®å¡æ—¶ï¼Œå¦‚ä½•ç¡®ä¿æ¯ä¸ªè¿›ç¨‹éƒ½èƒ½è·å–ï¼Ÿ è¾ƒæ–°çš„ç½‘å¡é€šå¸¸éƒ½æ˜¯å¤šé˜Ÿåˆ—çš„ï¼Œè¿™æ„å‘³ç€å¯ä»¥æœ‰æ•ˆæ”¯æŒå¤šä¸ªç”¨æˆ·è¿›ç¨‹ã€‚å¹¶ä¸”è¿™äº›é˜Ÿåˆ—å…·æœ‰äº²å’Œæ€§ï¼Œè¾ƒå¸¸ä½¿ç”¨æŸä¸ªé˜Ÿåˆ—çš„è¿›ç¨‹ä¼šä¼˜å…ˆè·å¾—è¿™ä¸ªé˜Ÿåˆ—ã€‚ èŠ‚ç‚¹è‡³ç½‘ç»œæ¥å£é€šä¿¡ å¯ä»¥é‡‡å–å°†é¡µé¢é’‰ä½ï¼Œç¦æ­¢ç³»ç»Ÿå°†å…¶äº¤æ¢ï¼Œè¿™æ ·å¯ä»¥é¿å…å‘é€çš„è¿‡ç¨‹ä¸­å‘é€é¡µé¢äº¤æ¢å¸¦æ¥çš„ä¸¥é‡åæœã€‚ è¿œç¨‹ç›´æ¥å†…å­˜è®¿é—® å…è®¸ä¸€å°æœºå™¨ç›´æ¥è®¿é—®å¦ä¸€å°æœºå™¨çš„å†…å­˜ ç”¨æˆ·å±‚é€šä¿¡è½¯ä»¶ å‘é€å’Œæ¥æ”¶ é€šä¿¡æœåŠ¡ä»¥è°ƒç”¨çš„è¿›è¡Œå±•ç° send(dest, &msg); // å‘é€ recv(addr, &msg); // æ¥æ”¶ éœ€è¦è€ƒè™‘ç¼–å€é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯destå’Œaddrçš„åœ°å€ç»„æˆï¼Œä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨CPUç¼–å·åŠ ä¸Šå®é™…çš„å†…å­˜åœ°å€æ¥å®ç°ã€‚ é˜»å¡è°ƒç”¨å’Œéé˜»å¡è°ƒç”¨ éé˜»å¡è°ƒç”¨å¯èƒ½ä¼šå‡ºç°æ¶ˆæ¯ä¼ è¾“è¿‡ç¨‹æ—¶ï¼Œç¼“å†²åŒºè¢«é‡å†™äº†ã€‚ åœ¨å‘é€ç«¯æœ‰å¦‚ä¸‹è§£å†³æ–¹æ¡ˆï¼šé˜»å¡å‘é€ å¸¦æœ‰å¤åˆ¶æ“ä½œçš„éé˜»å¡å‘é€ å¸¦æœ‰ä¸­æ–­æ“ä½œçš„éé˜»å¡æ“ä½œ å†™æ—¶å¤åˆ¶ å¦å¤–ä¸€ç§é€‰æ‹©å°±æ˜¯å¼‚æ­¥è°ƒç”¨ï¼Œå½“æˆåŠŸæ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œå°±ä¼šå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æˆ–è€…å­ç¨‹åºæ¥å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç† è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰ è®¸å¤šäººè®¤ä¸ºåŸºäºIOçš„ç¼–ç¨‹æ˜¯ä¸€ç§é”™è¯¯çš„ç¼–ç¨‹æ¨¡å‹ã€‚ RPCå¯¹ç¨‹åºå‘˜é€æ˜ å¯¹äºè¢«è°ƒç”¨çš„è¿‡ç¨‹ï¼Œå‚æ•°ç±»å‹ä¼šè¢«é™åˆ¶ å¦‚æ— æ³•ä½¿ç”¨æŒ‡é’ˆã€‚åŒæ—¶å…¨å±€å˜é‡ä¹Ÿæ— æ³•ä½¿ç”¨ åˆ†å¸ƒå¼å…±äº«å­˜å‚¨å™¨ï¼ˆDSMï¼‰ å¤åˆ¶åªè¯»é¡µé¢æ¥æ”¹å–„æ€§èƒ½ ä¼ªå…±äº« å¤šå¤„ç†æœºä¸­ï¼Œé«˜é€Ÿç¼“å­˜å—é€šå¸¸ä¸º32å­—èŠ‚æˆ–64å­—èŠ‚ï¼Œç”±äºå±€éƒ¨æ€§åŸç†è¿™æ ·ä¸€æ¬¡è¯»å–åˆ°CPUç¼“å­˜å¯ä»¥æœ‰æ•ˆæå‡æ€§èƒ½ å¦ä¸€æ–¹é¢ï¼Œåœ¨åˆ†å¸ƒå¼å…±äº«å­˜å‚¨å™¨ä¸­ï¼Œç¼“å­˜çš„å•ä½ä¸ºé¡µé¢ï¼Œé¡µé¢è¶Šå¤§ï¼Œå°±è¶Šæœ‰å¯èƒ½å‘ç”Ÿä¼ªå…±äº«é—®é¢˜ã€‚ä¼ªå…±äº«æŒ‡çš„æ˜¯åŒä¸€é¡µé¢é‡Œçš„å¤šä»½æ•°æ®ç”±äºå˜åŠ¨é¢‘ç¹ï¼Œåœ¨CPUä¹‹é—´ä¼ é€’æ¥ä¼ é€’å»ã€‚è¿™ä¸åœ¨Javaä¸­ä¸¤ä¸ªç›¸é‚»å˜é‡åŠ ä¸Švolatileä¼šå½±å“æ€§èƒ½é“ç†æ˜¯ä¸€æ ·çš„ã€‚ Java volatile å®ç°é¡ºåºä¸€è‡´æ€§ å¤šå¤„ç†æœºé€šè¿‡CPUåœ¨å†™å…¥å‰å‘å‡ºä¸€ä¸ªä¿¡å·ï¼Œé€šçŸ¥å…¶ä»–CPUä¸¢å¼ƒç¼“å­˜å‰¯æœ¬æ¥å®ç°ä¸€è‡´æ€§ã€‚è¿™é‡ŒDSMçš„å®ç°ä¹Ÿæ˜¯ç±»ä¼¼ã€‚ å¦å¤–ä¸€ç§è§£å†³æ–¹æ³•æ˜¯åŠ ä¸€æŠŠåœ°å€ç©ºé—´é”ï¼Œå¯¹æŸä¸ªåœ°å€åªå…è®¸ä¸€ä¸ªCPUæ“ä½œï¼Œå½“é”è¢«é‡Šæ”¾åï¼Œå°†äº§ç”Ÿçš„ä¿®æ”¹ä¼ æ’­åˆ°å…¶ä»–å‰¯æœ¬ã€‚ å¤šè®¡ç®—æœºè°ƒåº¦ å†³å®šè¿›ç¨‹åœ¨å“ªä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œä¹Ÿå°±æ˜¯é¢„å…ˆåˆ†é…ï¼Œæ˜¯è°ƒåº¦çš„é‡ç‚¹ è´Ÿè½½å‡è¡¡ ä½¿ç”¨ä»€ä¹ˆç®—æ³•åˆ†é…å“ªäº›èŠ‚ç‚¹è°ƒåº¦å“ªäº›è¿›ç¨‹ å›¾è®ºç¡®å®šç®—æ³• æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹ æ¯ä¸ªå¼§ä»£è¡¨è¿›ç¨‹é—´çš„æµé‡ å‘é€è€…å‘èµ·çš„åˆ†å¸ƒå¼å¯å‘ç®—æ³• å½“æŸä¸ªèŠ‚ç‚¹è´Ÿè½½è¿‡é‡ï¼Œå°±ä¼šå¯»æ‰¾è´Ÿè½½ä¸é‡çš„èŠ‚ç‚¹æ¥æ¥æ›¿å®ƒçš„éƒ¨åˆ†å·¥ä½œã€‚ è¿™ç§ç®—æ³•åœ¨æ‰€æœ‰èŠ‚ç‚¹çš„è´Ÿè½½éƒ½å¾ˆé‡çš„æƒ…å†µä¸‹æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¼šè¿›è¡Œå°è¯•æŸ¥æ‰¾æ¥æ›¿èŠ‚ç‚¹ï¼Œè¿™æ ·çš„å°è¯•ä¼šå¸¦æ¥å·¨å¤§çš„å¼€é”€ æ¥å—è€…å‘èµ·çš„åˆ†å¸ƒå¼å¯å‘ç®—æ³• è¿™ç§ç®—æ³•ä¸ä¸Šé¢çš„ç®—æ³•ç›¸åï¼Œæœºå™¨ä¸€æ—¦ç©ºé—²ä¸‹æ¥å°±ä¼šå»æ‰¾å·¥ä½œåšã€‚ ä½†åœ¨ç³»ç»Ÿç©ºé—²çš„æ—¶å€™å°±ä¼šäº§ç”Ÿå¤§é‡æµé‡ï¼Œä¸è¿‡ç›¸æ¯”ç³»ç»Ÿè´Ÿè½½è¿‡é‡çš„æ—¶å€™äº§ç”Ÿå¤§é‡æµé‡ï¼Œè¿™ä¸ªç»“æœå¥½å¤šäº†ã€‚ åˆ†å¸ƒå¼ç³»ç»Ÿ ç½‘ç»œç¡¬ä»¶ ä»¥å¤ªç½‘ å› ç‰¹ç½‘ ç½‘ç»œæœåŠ¡å’Œåè®® åŸºäºæ–‡æ¡£çš„ä¸­é—´ä»¶ åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„ä¸­é—´ä»¶ åŸºäºå¯¹è±¡çš„ä¸­é—´ä»¶ åŸºäºåä½œçš„ä¸­é—´ä»¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-10 07:56:50 "},"æ“ä½œç³»ç»Ÿ/å®‰å…¨.html":{"url":"æ“ä½œç³»ç»Ÿ/å®‰å…¨.html","title":"å®‰å…¨","keywords":"","body":"å®‰å…¨ ç¯å¢ƒä¸å®‰å…¨ å¨èƒ ç›®æ ‡ å¨èƒ æ•°æ®æœºå¯†æ€§ï¼šæ•°æ®æŒæœ‰è€…å¯æŒ‡å®šè°å¯ä»¥è·å–æ•°æ®ï¼Œç³»ç»Ÿä¼šå¼ºåˆ¶æ‰§è¡Œè§„åˆ™ æ•°æ®æš´éœ² æ•°æ®å®Œæ•´æ€§ï¼šæ”¹åŠ¨æ•°æ®åº”è¯¥éœ€è¦å¾—åˆ°è®¸å¯ æ•°æ®ç¯¡æ”¹ ç³»ç»Ÿå¯ç”¨æ€§ï¼šæ²¡æœ‰äººå¯ä»¥æ‰°ä¹±ç³»ç»Ÿä½¿ä¹‹ç˜«ç—ª æ‹’ç»æœåŠ¡ å…¥ä¾µè€… æ“ä½œç³»ç»Ÿå®‰å…¨ è¢«åŠ¨æ”»å‡»ï¼šçªƒå–ä¿¡æ¯ ä¸»åŠ¨æ”»å‡»ï¼šä½¿ç¨‹åºè¡Œä¸ºå¼‚å¸¸ å¯ä¿¡ç³»ç»Ÿ ç°ä»£æ“ä½œç³»ç»Ÿå¤æ‚çš„åŠŸèƒ½å†³å®šäº†å¿…ç„¶ä¸å­˜åœ¨æŸç§æ–¹å¼æ¥ç¡®ä¿ç»å¯¹å®‰å…¨ å¯ä¿¡è®¡ç®—åŸºï¼ˆTCBï¼‰ å®æ–½å®‰å…¨è§„åˆ™æ‰€å¿…é¡»çš„ç¡¬ä»¶å’Œè½¯ä»¶ é€šè¿‡è®¿é—®ç›‘è§†å™¨ï¼Œæ¥æ”¶æ‰€æœ‰ç³»ç»Ÿè¯·æ±‚ ç”±å…¶å†³å®šæ˜¯å¦è¿è¡Œ å¿…é¡»åŒ…å«åœ¨TCBçš„åŠŸèƒ½ï¼š è¿›ç¨‹åˆ›å»º è¿›ç¨‹åˆ‡æ¢ å†…å­˜é¡µé¢ç®¡ç† æ–‡ä»¶å’ŒIOç®¡ç† ä¿æŠ¤æœºåˆ¶ åˆ¶è®¢å¯ä»¥åšçš„äº‹æƒ…ï¼Œæè¿°ç³»ç»Ÿå“ªäº›èµ„æºéœ€è¦ä¿æŠ¤ ä¿æŠ¤åŸŸ ç³»ç»Ÿä¸­æœ‰è®¸å¤šå¯¹è±¡ï¼ŒåŸŸå°±æ˜¯ï¼ˆå¯¹è±¡ï¼Œæƒé™ï¼‰å¯¹çš„é›†åˆ è¿›ç¨‹ä¼šåœ¨æŸä¸ªåŸŸä¸­è¿è¡Œ å¯ä»¥è·å¾—å¯¹è±¡çš„æƒé™ï¼Œéœ€è¦æ—¶ï¼Œå¯ä»¥åˆ‡æ¢åŸŸï¼Œè¿™æ ·å¯¹è±¡çš„æƒé™ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ æ»¡è¶³æœ€å°æƒé™åŸåˆ™ï¼Œå®‰å…¨æ€§å°†è¾¾åˆ°æœ€å¥½ ä¿æŠ¤çŸ©é˜µ ç³»ç»Ÿå¯ä»¥é€šè¿‡ä¿æŠ¤çŸ©é˜µæ¥è·Ÿè¸ªç¡®å®šå¯¹è±¡å±äºå“ªä¸ªåŸŸ è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLï¼‰ å¯¹äºç¨€ç–çš„å¯¹è±¡æƒé™ï¼ŒçŸ©é˜µä¼šæµªè´¹å¤§é‡ç©ºé—´ï¼Œä½¿ç”¨ACLï¼š ACLä¹Ÿä¸ä»…å¯ä»¥åªå¯¹ç”¨æˆ·æˆæƒ ä¹Ÿå¯ä»¥å¯¹ç”¨æˆ·ç»„è¿›è¡Œæˆæƒï¼š UID,GIDï¼špermissions; åŒæ—¶ï¼Œå¯ä»¥å¼•å…¥é€šé…ç¬¦æ¥ä½¿ç”¨æˆ·å¯ä»¥è®¿é—®ä¸å½“å‰ç™»å½•ç»„æ— å…³çš„æƒ…å†µ ä¹Ÿå¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ç§æ–¹å¼æ¥ç®¡ç†ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼š Fileï¼šUID1:RW;UID2:RWX é€šè¿‡ACL å¯ä»¥å¾ˆæ–¹ä¾¿å¯¹ç”¨æˆ·è¿›è¡Œèµ‹æƒæ”¶æƒ æƒèƒ½å­— é˜²æ­¢æƒèƒ½å­—è¢«ä¿®æ”¹ï¼š å†…å­˜å­—å¿…é¡»æ‹¥æœ‰é¢å¤–çš„ä½æ¥åˆ¤æ–­æ˜¯å¦åŒ…å«æƒé™å­— åœ¨æ“ä½œç³»ç»Ÿä¿å­˜æƒèƒ½å­—åˆ—è¡¨ åœ¨ç”¨æˆ·ç©ºé—´å¯¹æƒèƒ½å­—åŠ å¯†ç®¡ç† ç›¸å¯¹æ¥è¯´ æƒèƒ½å­—æ•ˆç‡è¾ƒé«˜ ACLéœ€è¦è¿›è¡Œæœç´¢æ“ä½œ å®‰å…¨ç³»ç»Ÿçš„å½¢å¼åŒ–æ¨¡å‹ å¤šçº§å®‰å…¨ å¼ºåˆ¶æ€§çš„è®¿é—®æ§åˆ¶ï¼šç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨ç­–ç•¥è¢«å¼ºåˆ¶æ‰§è¡Œ Bell-LaPadulaæ¨¡å‹ï¼šä¿è¯æ•°æ®ä¸ä¼šä»é«˜ä¸€çº§æ³„æ¼åˆ°ä½ä¸€çº§ ç®€æ˜“å®‰å…¨è§„åˆ™ï¼šå¯†çº§ä¸ºkçš„è¿›ç¨‹åªèƒ½è¯»å–åŒä¸€å¯†çº§æˆ–è€…æ›´ä½å¯†çº§çš„å¯¹è±¡ *è§„åˆ™ï¼šå¯†çº§ä¸ºkçš„è¿›ç¨‹åªèƒ½å†™åŒä¸€å¯†çº§æˆ–è€…æ›´é«˜å¯†çº§çš„å¯¹è±¡ å®ç°ï¼šä¸ºç”¨æˆ·åˆ†é…å®‰å…¨çº§åˆ«ï¼Œshellè·å–çº§åˆ«ï¼Œè¯¥å®‰å…¨çº§åˆ«éšç€shellåˆ›å»ºçš„æ‰€æœ‰å­è¿›ç¨‹ç»§æ‰¿ä¸‹å» Bibaæ¨¡å‹ ç®€å•å®Œæ•´æ€§è§„åˆ™ï¼šåªèƒ½å†™åŒä¸€ç­‰çº§æˆ–è€…æ›´ä½ç­‰çº§ å®Œæ•´æ€§ * è§„åˆ™ï¼šåªèƒ½è¯»åŒä¸€ç­‰çº§æˆ–è€…æ›´é«˜ç­‰çº§ éšè”½ä¿¡é“ ä¹Ÿç§°ä¸ºè¾¹ä¿¡é“ æŒ‡åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡å„ç§ç²¾å·§çš„ä¿¡é“ï¼Œå¦‚CPUä½¿ç”¨ç‡ å£°éŸ³ç­‰æ¥å‘å¤–ä¼ è¾“ä¿¡æ¯ éšå†™æœ¯ï¼šé€šè¿‡åˆ©ç”¨æŸäº›æ–‡ä»¶çš„ç¼–ç ï¼Œå°†ä¿¡æ¯ç¼–å…¥æ–‡ä»¶ï¼Œä»è€Œæºå¸¦å‡ºå» å¯ä¿¡å¹³å°æ¨¡å— TPM:ç¡¬ä»¶åŠ è§£å¯†æ¨¡å— è®¤è¯ å¼±å¯†ç  æˆ˜äº‰æ‹¨å·å™¨ä¸IPç«¯å£æ‰«æ UNIXå¯†ç å®‰å…¨æ€§ UNIXé€šè¿‡å¯¹å¯†ç åŠ ç›çš„æ–¹å¼æŠµå¾¡å¤§éƒ¨åˆ†å¤–éƒ¨æ”»å‡» ä¸€æ¬¡æ€§å¯†ç  å•å‘æ•£åˆ—é“¾ï¼šé€šè¿‡åˆå§‹åŒ–å¯¹ä¸€ä¸ªå¯†ç è¿›è¡Œnè½®æ•£åˆ—è¿ç®—ï¼Œç¬¬iæ¬¡ç™»é™†çš„å¯†ç æ•£åˆ—å°±æ˜¯n-i+1æ¬¡æ•£åˆ—è¿ç®—ç»“æœ æŒ‘æˆ˜-å“åº”è®¤è¯ é€šè¿‡ä¸ºç”¨æˆ·é€‰æ‹©ä¸€ç§è¿ç®—ï¼ŒæœåŠ¡å™¨ä¼ é€’ç»™ç”¨æˆ·ä¸€ä¸²å‚æ•°ï¼Œç”¨æˆ·è¿ç®—åå›ä¼ ç›¸å…³ç»“æœæ¥è¿›è¡Œè®¤è¯ã€‚è¿ç®—æ–¹å¼å¯ä»¥ç»å¸¸å‘ç”Ÿå˜åŒ– ç‰©ç†è¯†åˆ« ç£æ¡å¡ æ­¤æ¡å¯ä»¥å†™å…¥140å­—èŠ‚çš„æ•°æ® èŠ¯ç‰‡å¡ å‚¨å€¼å¡ï¼šæœ‰ROMï¼Œå¯ä»¥å­˜å‚¨æ•°æ® æ™ºèƒ½å¡ï¼šæºå¸¦å¾®å‹å¤„ç†å™¨ï¼Œå¯ä»¥è¿›è¡Œè¿ç®— ç”Ÿç‰©è¯†åˆ« æ³¨å†Œéƒ¨åˆ†ï¼šæå–ç”¨æˆ·ç‰¹å¾åè¿›è¡Œå­˜å‚¨ è¯†åˆ«éƒ¨åˆ†ï¼šæ¯”å¯¹ç™»å½•ç”¨æˆ·ç‰¹å¾ä¸å­˜å‚¨çš„ç”¨æˆ·ç‰¹å¾ è™¹è†œè¯†åˆ« å£°éŸ³æµ‹å®š è½¯ä»¶æ¼æ´ çº¢çš‡åæ•ˆåº”ï¼šä¸è¿›åˆ™é€€ ç¼“å†²åŒºæº¢å‡ºæ”»å‡» void A(){ char B[128]; gets(B); } è¶…è¿‡ç¼“å†²åŒºé•¿åº¦çš„æ•°æ®å°†ä¼šç›´æ¥è¦†ç›–åˆ°æ ˆä¸Šï¼Œæ”»å‡»è€…å¯ä»¥å€Ÿæ­¤é‡å†™è¿”å›åœ°å€ ä»è€Œè®©ç¨‹åºè·³è½¬åˆ°æŸä¸ªåœ°æ–¹ è¿™ç§ç±»å‹çš„æ¼æ´é€‚ç”¨äºä»»ä½•å¤åˆ¶ç¼“å†²åŒºä¸­ç”¨æˆ·æä¾›çš„æ•°æ®ä¸”ä¸åšä»»ä½•è¾¹ç•Œæ£€æŸ¥çš„æƒ…å†µ ç©ºæŒ‡ä»¤æ»‘è¡ŒåŒºï¼šå¦‚æœæ— æ³•çŒœæµ‹åˆ°è¿”å›åœ°å€ï¼Œåˆ™å¡«å……å¤§é‡æ— æ“ä½œçš„æœºå™¨æŒ‡ä»¤å¹¶æœ€ç»ˆé™„å¸¦æ¶æ„ä»£ç ï¼Œåªè¦ä»£ç æ‰§è¡Œåˆ°æ­¤å¤„ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«è¿è¡Œ æ ˆé‡‘ä¸é›€ä¿æŠ¤ï¼šé€šè¿‡ç¼–è¯‘å™¨åœ¨è¿”å›åœ°å€ä¸‹é¢æ’å…¥ä¸ªéšæœºå€¼ï¼Œå‡½æ•°è¿”å›æ—¶æ£€æŸ¥è¿™ä¸ªéšæœºå€¼ å¦‚æœä¸åŒ¹é…ï¼Œå°±åœä¸‹æ¥ åæ ˆé‡‘ä¸é›€ï¼šç¼“å†²åŒºæº¢å‡ºä¸ä»…å¯ä»¥é€šè¿‡ä¿®æ”¹è¿”å›åœ°å€æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹æ ˆå†…çš„å˜é‡æˆ–è€…å‡½æ•°æŒ‡é’ˆç­‰æ¥ä½¿ä»£ç è·³è½¬åˆ°éé¢„æœŸçš„åœ°æ–¹ æ•°æ®æ‰§è¡Œä¿æŠ¤ï¼ˆDEPï¼‰ï¼šåªè¦ç¦æ­¢åœ¨å †å’Œæ ˆæ‰§è¡Œå­—èŠ‚å°±èƒ½é¿å…æº¢å‡ºæ”»å‡»ï¼ˆä½†è¿™ä¸ªæªæ–½ä¸ç°å®ï¼‰ï¼Œç°ä»£æ“ä½œç³»ç»Ÿé€šè¿‡ä¸€ä¸ªNXä½æ¥ä¿è¯æŸäº›åŒºåŸŸçš„æ•°æ®å¯å†™ä¸å¯æ‰§è¡Œæˆ–è€…å¯æ‰§è¡Œä¸å¯å†™ ä»£ç é‡ç”¨æ”»å‡»ï¼šæ”»å‡»è€…ä¸éœ€è¦å¼•å…¥æ–°ä»£ç ï¼ŒåŸºäºç°æœ‰çš„äºŒè¿›åˆ¶æ–‡ä»¶æˆ–è€…åº“å°±å¯ä»¥æ„é€ å¿…è¦çš„åŠŸèƒ½ åœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–ï¼ˆASLRï¼‰:éšæœºåŒ–ç¨‹åºæ¯æ¬¡è¿è¡Œæ‰€ç”¨çš„å‡½æ•°å’Œæ•°æ®çš„åœ°å€ åASLR æœ‰äº›æ“ä½œç³»ç»ŸéšæœºåŒ–ç¨‹åº¦ä¸å¤Ÿ é€šè¿‡å†…å­˜æ³„æ¼æ³„æ¼å†…å­˜å¸ƒå±€ è¿›è¡Œæ”»å‡» éæ§åˆ¶æµè½¬å‘æ”»å‡»ï¼šæ­¤ç§æ”»å‡»å¹¶éæ˜¯åŠ«æŒç¨‹åºæ§åˆ¶æµ åŒæ ·æ˜¯é€šè¿‡æº¢å‡ºçš„æ–¹å¼ä¿®æ”¹æ ˆå†…å˜é‡æ¥æ”¹å˜ç¨‹åºæ‰§è¡Œç»“æœ æ ¼å¼åŒ–å­—ç¬¦ä¸²æ”»å‡» printf(gets()) è¾“å…¥æ ¼å¼åŒ–å­—ç¬¦ä¸²å¯ä»¥è¦†ç›–å†…å­˜ æ‚¬å‚æŒ‡é’ˆ int *A = (int *)malloc(128); //... free(A); A[0] = xx; å†…å­˜ç©ºé—´é‡Šæ”¾å è¿™æ ·çš„æ“ä½œææœ‰å¯èƒ½å°†åˆ«å¤„ç¼“å†²åŒºçš„æ•°æ®è¦†å†™ ç©ºæŒ‡é’ˆé—´æ¥å¼•ç”¨æ”»å‡» ç°ä»£æ“ä½œç³»ç»Ÿéƒ½ä¼šè¿›è¡Œå†…å­˜æ˜ å°„ å¦‚æœè¿›ç¨‹çš„å†…å­˜ç©ºæŒ‡é’ˆçœŸæ­£æ˜ å°„åˆ°åœ°å€0 é‚£é™¤äº†è¿›ç¨‹å´©æºƒä¹‹å¤– æ”»å‡»è€…å¯ä»¥é€šè¿‡æŸç§æ‰‹æ®µè¿›è¡Œæ˜ å°„ä¿®æ”¹ ä½¿ä¹‹æ˜ å°„åˆ°æŸæ®µæ¶æ„ä»£ç  æ•´æ•°æº¢å‡ºæ”»å‡» å¦‚å›¾å½¢ç¨‹åºé€šè¿‡æ•´æ•°æº¢å‡ºçš„æ–¹å¼æ¥ä¿®æ”¹é«˜åº¦å®½åº¦ è¿™æ ·å›¾åƒçš„å†…å­˜ä¹Ÿå¾ˆå®¹æ˜“æº¢å‡º ä»è€Œé€ æˆè·Ÿç¼“å†²åŒºæº¢å‡ºç±»ä¼¼çš„æ•ˆæœ å‘½ä»¤æ³¨å…¥æ”»å‡» åŸç†ä¸SQLæ³¨å…¥ XSSæ³¨å…¥ä¸€æ ·ï¼Œéƒ½æ˜¯ç”±äºå°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®å½“åšä»£ç æ‰§è¡Œ æ£€æŸ¥æ—¶é—´/ä½¿ç”¨æ—¶é—´æ”»å‡» å‡è®¾ç³»ç»Ÿå…ˆæ£€æŸ¥ åæ‰“å¼€æ–‡ä»¶ æ”»å‡»è€…åˆ©ç”¨ç«äº‰æ¡ä»¶åœ¨ä¸­é—´åˆ›å»ºä¸€ä¸ªæœ¬ä¸å±äºè‡ªå·±çš„ç¬¦å·é“¾æ¥ å¯èƒ½ä¼šå¯¼è‡´æƒé™éªŒè¯å¤±æ•ˆ å†…éƒ¨æ”»å‡» é€»è¾‘ç‚¸å¼¹ åé—¨é™·é˜± ç™»é™†æ¬ºéª— æ¶æ„è½¯ä»¶ ç‰¹æ´›ä¼Šæœ¨é©¬ è¯±å¯¼ç”¨æˆ·ä¸‹è½½ä¸»åŠ¨è¿è¡Œ æ›¿ä»£çœŸå®ç¨‹åºç­‰å¾…ç”¨æˆ·è¿è¡Œæˆ–è€…è¯¯æ“ä½œæ¿€æ´» ç—…æ¯’ ä¸€ä¸ªæ’å…¥åˆ°æ­£å¸¸ç¨‹åºçš„æ¶æ„ç¨‹åºï¼Œç§°ä¹‹ä¸ºæ„ŸæŸ“ è®©æ„ŸæŸ“çš„ç¨‹åºè¢«è¿è¡Œï¼Œä¼šæ„ŸæŸ“å…¶ä»–ç¨‹åº ä»è€Œç»§ç»­ä¼ æ’­ å±€åŸŸç½‘å¯ä¼ æ’­ç—…æ¯’çš„åŸå› ï¼šå±€åŸŸç½‘çš„è®¡ç®—æœºé€šå¸¸èƒ½ç›´æ¥é€šè¿‡ç½‘ç»œç™»å½•å¹¶æ‰§è¡Œå‘½ä»¤ å…±äº‹è€…ç—…æ¯’ï¼šç—…æ¯’è¢«å¯åŠ¨ä¼šå¯åŠ¨æ­£å¸¸ç¨‹åºæ¥è¿›è¡Œæ©ç›– å¯æ‰§è¡Œç¨‹åºç—…æ¯’ï¼šæ„ŸæŸ“å¯æ‰§è¡Œç¨‹åºï¼Œé€šè¿‡å°†ç—…æ¯’äºŒè¿›åˆ¶ä»£ç è·Ÿæ­£å¸¸ç¨‹åºè—åœ¨ä¸€èµ· æä¾›å­˜æ´»èƒ½åŠ› éšæœºæ„ŸæŸ“ ä¸é‡å¤æ„ŸæŸ“ å†…å­˜é©»ç•™ç—…æ¯’ï¼šè—åœ¨å†…å­˜ä¸­ï¼Œæ‹¦æˆªç³»ç»Ÿè°ƒç”¨å¯¹å¯æ‰§è¡Œç¨‹åºè¿›è¡Œæ„ŸæŸ“ å¼•å¯¼æ‰‡åŒºç—…æ¯’ï¼šè¦†ç›–ç£ç›˜ä¸»å¼•å¯¼è®°å½•æˆ–å¼•å¯¼æ‰‡åŒº è®¾å¤‡é©±åŠ¨ç—…æ¯’ï¼šUNIXä¸­è®¾å¤‡é©±åŠ¨æ˜¯å¯åŠ¨æ—¶è¢«åŠ è½½çš„å¯æ‰§è¡Œç¨‹åº å¦‚æœè®¾å¤‡é©±åŠ¨è¢«æ„ŸæŸ“ è¿è¡Œåœ¨æ ¸å¿ƒæ€ç—…æ¯’å¯ä»¥ç›´æ¥åŠ«æŒç³»ç»Ÿè°ƒç”¨ å®ç—…æ¯’ï¼šè¯¸å¦‚WORDæ–‡æ¡£ä¹‹ç±»çš„æ–‡ä»¶å¯ä»¥åŒ…å«å¯æ‰§è¡ŒæŒ‡ä»¤ æºä»£ç ç—…æ¯’ï¼šä¸å¯ä¿¡èµ–çš„å¤–éƒ¨ä¸‰æ–¹åº“ è •è™« ä½¿ç”¨rshè¿è¡Œè¿œç¨‹shell åˆ©ç”¨fingerçš„ç¼“å†²åŒºæº¢å‡ºæ¼æ´ åˆ©ç”¨sendmailçš„bug é—´è°è½¯ä»¶ é—´è°è½¯ä»¶çš„æ‰©æ•£ï¼š ç±»ä¼¼æœ¨é©¬ åˆ©ç”¨æµè§ˆå™¨çš„æ‰©å±• ä¸æ–­éªšæ‰°ç”¨æˆ· é—´è°è½¯ä»¶çš„è¡Œä¸ºï¼š å¹¿å‘Šå¼¹çª— æ”¹å˜ç³»ç»Ÿé»˜è®¤è¡Œä¸ºä»¥è°‹å–åˆ©ç›Š rootkit è¯•å›¾éšè—è‡ªèº«çš„å­˜åœ¨ å›ºä»¶rootkitï¼šéšè—åœ¨å›ºä»¶ä¸­ ç®¡ç†ç¨‹åºrootkitï¼šé€šè¿‡å¯åŠ¨ä¸€ä¸ªè™šæ‹Ÿæœºè¿è¡Œæ“ä½œç³»ç»Ÿå’Œç¨‹åºä»¥è¾¾åˆ°éšè—æ•ˆæœ æ£€æµ‹èµ„æºä¸å®é™…ç¡¬ä»¶èµ„æºçš„ç»†å¾®å·®å¼‚ å†…æ ¸rootkitï¼šæ„ŸæŸ“æ“ä½œç³»ç»Ÿå¹¶ä½œä¸ºé©±åŠ¨ä»¥éšè— åº“rootkitï¼šéšè—åœ¨ç³»ç»Ÿåº“ä¸­ åº”ç”¨ç¨‹åºrootkitï¼šå¤§å‹åº”ç”¨ä¼šåˆ›å»ºè®¸å¤šæ–‡ä»¶ è¿™é‡Œæ˜¯éšè—çš„å¥½å»å¤„ é™¤äº†ç®¡ç†ç¨‹åºæˆ–è€…ä¸»åŠ¨rootkitï¼ˆä¼šå¯¹æ£€æµ‹ç¨‹åºè¿›è¡Œå¹²æ‰°ï¼‰ï¼Œå…¶ä»–éƒ½å¯ä»¥é€šè¿‡æ–‡ä»¶æ•£åˆ—æ–¹å¼æ¥è¿›è¡ŒæŸ¥æ‰¾rootkit é˜²å¾¡ å¤šå±‚å®‰å…¨æ€§ é˜²ç«å¢™ é€šè¿‡ä¸€ç³»åˆ—çš„è§„åˆ™æ¥å†³å®šæ˜¯å¦å¯¹ç½‘ç»œæµé‡æ”¾è¡Œ è½¯ä»¶é˜²ç«å¢™ ç¡¬ä»¶é˜²ç«å¢™ åç—…æ¯’å’Œååç—…æ¯’ ç—…æ¯’æ‰«æå™¨ é€šè¿‡æ”¾å‡ºä¸€ä¸ªä¸æ‰§è¡Œä»»ä½•æ“ä½œçš„è¯±é¥µç¨‹åºè®©ç—…æ¯’æ„ŸæŸ“ è·å–ç—…æ¯’çš„å®Œå…¨ä»£ç è¡¨å¹¶ä¸ŠæŠ¥åˆ°æ•°æ®åº“ æ•°æ®åº“çš„ç—…æ¯’ç‰¹å¾å¯ä»¥ä¸‹è½½ä¸‹æ¥ä¸æœ¬åœ°ç¨‹åºè¿›è¡Œå¯¹æ¯”æ‰«æï¼Œå¯ä»¥é€šè¿‡è®°å½•æ–‡ä»¶çš„å±æ€§æ¥æé«˜æ•ˆç‡ï¼Œä½†ç—…æ¯’å¯èƒ½ä¼šå¯¹ç¨‹åºè¿›è¡Œå‹ç¼©é€ƒé¿æ­¤ç±»æ‰«æ ç—…æ¯’ä¸ºäº†é€ƒé¿æ‰«æè½¯ä»¶çš„ç‰¹å¾æ‰«æ å¯èƒ½ä¼šé€šè¿‡æ¯æ¬¡æ„ŸæŸ“åŠ è§£å¯†å¹¶ä½¿ç”¨ä¸åŒå¯†é’¥çš„æ–¹å¼è¿›è¡Œå˜æ¢å½¢æ€ å¦å¤–ä¸€ç§æ–¹å¼æ˜¯äº¤æ¢æœºå™¨ç æŒ‡ä»¤è€Œä¸å½±å“ç¨‹åºåŠŸèƒ½æ¥èº²é¿æ‰«æ åŒæ—¶æœ‰äº›ç—…æ¯’ä¼šæ§åˆ¶ç³»ç»Ÿè°ƒç”¨ï¼Œæ‰«æè½¯ä»¶æœ‰æ—¶å°±å¿…é¡»è·³è¿‡æ“ä½œç³»ç»Ÿç›´æ¥æ“ä½œç‰©ç†ç¡¬ç›˜æ¥è¿›è¡Œæ‰«æ å®Œæ•´æ€§æ£€æŸ¥ç¨‹åº é€šè¿‡åœ¨ä¿¡ä»»çŠ¶æ€æ—¶å¯¹ç³»ç»Ÿæ–‡ä»¶è¿›è¡Œæ±‚æ ¡éªŒå’Œ å½“ä¸‹æ¬¡å‘ç°æ ¡éªŒå’Œä¸ä¸€è‡´æ—¶å°±èƒ½å‘ç°è¢«æ„ŸæŸ“ è¿™ç§æƒ…å†µéœ€è¦æ³¨æ„å¯¹æ ¡éªŒå’Œçš„å­˜æ”¾åŠåŠ å¯† è¡Œä¸ºæ£€æŸ¥ç¨‹åº å¦‚è¦†ç›–å¼•å¯¼æ‰‡åŒºçš„ç¨‹åºå‡ ä¹å¯ä»¥æ–­å®šæ˜¯ç—…æ¯’ ä½†å¦‚è¦†ç›–å¯æ‰§è¡Œç¨‹åºå°±æ˜¯ä¸€ä¸ªç‰¹æ®Šæ“ä½œï¼Œåç—…æ¯’è½¯ä»¶åº”è¯¥å‘å‡ºä¸€ä¸ªè­¦å‘Š ä»£ç ç­¾å åªå…è®¸é‚£äº›æ¥è‡ªå¯é å‚å•†çš„è½¯ä»¶ é€šè¿‡å…¬é’¥å¯†ç ä½“ç³»æ¥éªŒè¯è½¯ä»¶æ˜¯å¦è¢«ç¯¡æ”¹è¿‡ å›šç¦ æ²™ç›’æŠ€æœ¯ åŸºäºæ¨¡å‹çš„å…¥ä¾µæ£€æµ‹ é€šè¿‡ç”Ÿæˆæ­£å¸¸ç¨‹åºçš„ç³»ç»Ÿè°ƒç”¨å›¾æ¥æ£€æµ‹ç¨‹åºæ˜¯å¦è¢«æ„ŸæŸ“ æ”»å‡»è€…ä¼šä½¿ç”¨æ¨¡æ‹Ÿæ”»å‡»æ¥ç”Ÿæˆä¸åŸæœ‰ç¨‹åºç›¸åŒçš„è°ƒç”¨å›¾è¿·æƒ‘IDS å¯¹äºæ›´å¤šçš„IDSï¼Œä½¿ç”¨ç§°ä¸ºèœœç½çš„ç³»ç»Ÿæ¥ç›‘è§†æ”»å‡»å¹¶æå–ç›¸å…³ç‰¹å¾ å¯ä¸‹è½½ä»£ç ç—…æ¯’é˜²å¾¡ æ²™ç›’æ³•ï¼šä¿è¯å¯ä¸‹è½½ä»£ç ä¸èƒ½è·³è½¬åˆ°æ²™ç›’ä¹‹å¤–æ‰§è¡Œ å¯¹äºå¯ä¸‹è½½ä»£ç çš„ç³»ç»Ÿè°ƒç”¨ ä½¿ç”¨ä¸€ä¸ªç›‘è§†å™¨æ¥æ§åˆ¶ å¿…è¦æ—¶æ‹’ç»æ‰ç§»åŠ¨ä»£ç çš„ç³»ç»Ÿè°ƒç”¨è¯·æ±‚ è§£é‡Šæ‰§è¡Œï¼šé€šè¿‡è¿™ç§æ–¹å¼é˜»æ­¢å°ç¨‹åºè·å¾—å¯¹ç¡¬ä»¶çš„æ§åˆ¶ ç¼ºç‚¹æ˜¯é€Ÿåº¦æ¯”è¾ƒæ…¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-21 09:15:59 "},"æ“ä½œç³»ç»Ÿ/è™šæ‹ŸåŒ–.html":{"url":"æ“ä½œç³»ç»Ÿ/è™šæ‹ŸåŒ–.html","title":"è™šæ‹ŸåŒ–","keywords":"","body":" è™šæ‹ŸåŒ–æŠ€æœ¯æ˜¯å¯¹è½¯ä»¶åŸºç¡€è®¾æ–½ã€æ“ä½œç³»ç»Ÿã€è½¯ä»¶ç­‰ITèµ„æºè¿›è¡Œæœ‰æ•ˆçš„ç®¡ç†ï¼Œä½¿ç”¨æˆ·ä¸å†å—ç‰©ç†èµ„æºçš„é™åˆ¶ï¼Œ æé«˜è®¡ç®—æœºèµ„æºçš„åˆ©ç”¨ç‡ æœåŠ¡å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ Hypervisorä¹Ÿå«VMMï¼ˆvirtual machine monitorï¼‰ åœ¨è™šæ‹Ÿç¨‹åºä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿ Containerså®¹å™¨åŒ–æŠ€æœ¯ è™šæ‹Ÿç¨‹åºä¸Šç›´æ¥è¿è¡Œç¨‹åºï¼Œæ— æ“ä½œç³»ç»Ÿ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-11-01 09:10:26 "},"æ“ä½œç³»ç»Ÿ/äº‘åŸç”Ÿ.html":{"url":"æ“ä½œç³»ç»Ÿ/äº‘åŸç”Ÿ.html","title":"äº‘åŸç”Ÿ","keywords":"","body":"äº‘åŸç”Ÿ è™šæ‹ŸåŒ–å®¹å™¨ chrootã€namespacesã€cgroups -> LXC -> Docker -> K8S ä¸‰æ–¹é¢çš„å…¼å®¹æ€§ï¼š ISAå…¼å®¹ï¼šç›®æ ‡æœºå™¨æŒ‡ä»¤é›†å…¼å®¹æ€§ ABIå…¼å®¹ï¼šç›®æ ‡ç³»ç»Ÿæˆ–è€…ä¾èµ–åº“çš„äºŒè¿›åˆ¶å…¼å®¹æ€§ ç¯å¢ƒå…¼å®¹ï¼šé…ç½®æ–‡ä»¶ ç¯å¢ƒå˜é‡ç­‰ å‡ ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼š æŒ‡ä»¤é›†è™šæ‹ŸåŒ–ï¼šé€šè¿‡è½¯ä»¶æ¥æ¨¡æ‹Ÿä¸åŒISAæ¶æ„çš„å¤„ç†å™¨å·¥ä½œè¿‡ç¨‹ï¼Œå°†è™šæ‹Ÿæœºå‘å‡ºçš„æŒ‡ä»¤è½¬æ¢ä¸ºç¬¦åˆæœ¬æœºISAçš„æŒ‡ä»¤ ç¡¬ä»¶æŠ½è±¡å±‚è™šæ‹ŸåŒ–ï¼šä½¿ç”¨è½¯ä»¶æ¥æ¨¡æ‹Ÿç¡¬ä»¶ï¼Œæˆ–è€…ç›´æ¥å°†ç¡¬ä»¶ç›´é€šåˆ°è™šæ‹Ÿæœºä½¿ç”¨ æ“ä½œç³»ç»Ÿå±‚è™šæ‹ŸåŒ–ï¼šé‡‡ç”¨éš”ç¦»æ‰‹æ®µï¼Œä½¿å¾—ä¸åŒè¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„ç³»ç»Ÿèµ„æºå’Œèµ„æºé…é¢ ä¹Ÿå°±æ˜¯å®¹å™¨åŒ– è¿è¡Œåº“è™šæ‹ŸåŒ–ï¼šä½¿ç”¨è½¯ä»¶ç¿»è¯‘çš„æ–¹æ³•æ¥æ¨¡æ‹Ÿç³»ç»Ÿï¼Œå®ƒä»¥ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹æ¥ä»£æ›¿æ“ä½œç³»ç»Ÿå†…æ ¸æ¥æä¾›ç›®æ ‡è½¯ä»¶è¿è¡Œæ‰€éœ€çš„å…¨éƒ¨èƒ½åŠ› å¦‚WINE è¯­è¨€å±‚è™šæ‹ŸåŒ–ï¼šç”±è™šæ‹Ÿæœºå°†é«˜çº§è¯­è¨€ç”Ÿæˆçš„ä¸­é—´ä»£ç è½¬æ¢ä¸ºç›®æ ‡æœºå™¨å¯ä»¥ç›´æ¥æ‰§è¡Œçš„æŒ‡ä»¤ å®¹å™¨éš”ç¦» éš”ç¦»æ–‡ä»¶ï¼šchroot å½“æŸä¸ªè¿›ç¨‹ç»è¿‡chrootæ“ä½œä¹‹åï¼Œå®ƒçš„æ ¹ç›®å½•å°±ä¼šè¢«é”å®šåœ¨å‘½ä»¤å‚æ•°æ‰€æŒ‡å®šçš„ä½ç½®ï¼Œä»¥åå®ƒæˆ–è€…å®ƒçš„å­è¿›ç¨‹å°†ä¸èƒ½å†è®¿é—®å’Œæ“ä½œè¯¥ç›®å½•ä¹‹å¤–çš„å…¶ä»–æ–‡ä»¶ éš”ç¦»è®¿é—®ï¼šnamespaces ç”±å†…æ ¸ç›´æ¥æä¾›çš„å…¨å±€èµ„æºå°è£…å¦‚æ–‡ä»¶ è¿›ç¨‹ ç”¨æˆ· ç½‘ç»œç­‰ä¿¡æ¯ï¼Œæ˜¯å†…æ ¸é’ˆå¯¹è¿›ç¨‹è®¾è®¡çš„è®¿é—®éš”ç¦»æœºåˆ¶ éš”ç¦»èµ„æºï¼šcgroups æ§åˆ¶è¿›ç¨‹å¯¹èµ„æºçš„ä½¿ç”¨ å®¹å™¨å°è£… å°è£…ç³»ç»Ÿï¼šLinuxX Containers å°è£…åº”ç”¨ï¼šDocker å°è£…é›†ç¾¤ï¼šKubernetes åŸºäºå®¹å™¨æ„å»ºç³»ç»Ÿ éš”ç¦»ï¼šåç§°ç©ºé—´ åä½œï¼šåŸºäºåŒä¸€ä¸ªpod è¿™é‡Œåœ¨K8Sä¸­ ç›¸äº’åä½œçš„å®¹å™¨è¿è¡Œåœ¨åŒä¸€ä¸ªpodä¸­ è¿™ä¸ªpodå°±æ˜¯è¢«è°ƒåº¦çš„åŸºæœ¬å•ä½ K8Sçš„åä½œ å¦‚æœè¿è¡Œå•ä¸ªpod é‚£ä¹ˆç³»ç»Ÿæ˜¯ååˆ†è„†å¼±çš„ ä½¿ç”¨ReplicaSetç­‰æ‰‹æ®µæ¥ä¿æŒä½ç³»ç»Ÿçš„çŠ¶æ€ è¿™ç§ç»„ä»¶è¢«ç§°ä¸ºæ§åˆ¶å›è·¯ï¼š åº”ç”¨ä¸ºä¸­å¿ƒçš„å°è£… Kustomizeï¼šä½¿ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶æè¿°é…ç½®æ–‡ä»¶ Helmä¸Chartï¼šæ¨¡ä»¿LinuxåŒ…ç®¡ç†å™¨çš„æ€è·¯å»ç®¡ç†Kubernetesåº”ç”¨ Operatorä¸CRDï¼šæŠŠåº”ç”¨å°è£…ä¸ºå¦ä¸€ç§æ›´é«˜å±‚æ¬¡çš„èµ„æºï¼Œå†æŠŠKubernetesçš„æ§åˆ¶å™¨æ¨¡å¼ä»é¢å‘äºå†…ç½®èµ„æºï¼Œæ‰©å±•åˆ°äº†é¢å‘æ‰€æœ‰è‡ªå®šä¹‰èµ„æº å¼€æ”¾åº”ç”¨æ¨¡å‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-26 08:56:59 "},"è½¯ä»¶å·¥ç¨‹/è½¯ä»¶å·¥ç¨‹.html":{"url":"è½¯ä»¶å·¥ç¨‹/è½¯ä»¶å·¥ç¨‹.html","title":"ğŸ™è½¯ä»¶å·¥ç¨‹","keywords":"","body":"è½¯ä»¶å·¥ç¨‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/è½¯ä»¶å·¥ç¨‹æ¦‚è®º.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/è½¯ä»¶å·¥ç¨‹æ¦‚è®º.html","title":"ç†è®º","keywords":"","body":"è½¯ä»¶çš„å®šä¹‰åŠç‰¹ç‚¹ è½¯ä»¶ï¼ˆä¸­å›½å¤§é™†åŠé¦™æ¸¯ç”¨è¯­ï¼Œå°æ¹¾ç§°ä½œè½¯ä½“ï¼Œè‹±æ–‡ï¼šSoftwareï¼‰æ˜¯ä¸€ç³»åˆ—æŒ‰ç…§ç‰¹å®šé¡ºåºç»„ç»‡çš„è®¡ç®—æœºæ•°æ®å’ŒæŒ‡ä»¤çš„é›†åˆã€‚ä¸€èˆ¬æ¥è®²è½¯ä»¶è¢«åˆ’åˆ†ä¸ºç³»ç»Ÿè½¯ä»¶ã€åº”ç”¨è½¯ä»¶å’Œä»‹äºè¿™ä¸¤è€…ä¹‹é—´çš„ä¸­é—´ä»¶ã€‚è½¯ä»¶å¹¶ä¸åªæ˜¯åŒ…æ‹¬å¯ä»¥åœ¨è®¡ç®—æœºï¼ˆè¿™é‡Œçš„è®¡ç®—æœºæ˜¯æŒ‡å¹¿ä¹‰çš„è®¡ç®—æœºï¼‰ä¸Šè¿è¡Œçš„ç”µè„‘ç¨‹åºï¼Œä¸è¿™äº›ç”µè„‘ç¨‹åºç›¸å…³çš„æ–‡æ¡£ä¸€èˆ¬ä¹Ÿè¢«è®¤ä¸ºæ˜¯è½¯ä»¶çš„ä¸€éƒ¨åˆ† ç‰¹ç‚¹ æ— å½¢çš„ï¼Œæ²¡æœ‰ç‰©ç†å½¢æ€ï¼Œåªèƒ½é€šè¿‡è¿è¡ŒçŠ¶å†µæ¥äº†è§£åŠŸèƒ½ã€ç‰¹æ€§ã€å’Œè´¨é‡ è½¯ä»¶æ¸—é€äº†å¤§é‡çš„è„‘åŠ›åŠ³åŠ¨ï¼Œäººçš„é€»è¾‘æ€ç»´ã€æ™ºèƒ½æ´»åŠ¨å’ŒæŠ€æœ¯æ°´å¹³æ˜¯è½¯ä»¶äº§å“çš„å…³é”® è½¯ä»¶ä¸ä¼šåƒç¡¬ä»¶ä¸€æ ·è€åŒ–ç£¨æŸï¼Œä½†å­˜åœ¨ç¼ºé™·ç»´æŠ¤å’ŒæŠ€æœ¯æ›´æ–° è½¯ä»¶çš„å¼€å‘å’Œè¿è¡Œå¿…é¡»ä¾èµ–äºç‰¹å®šçš„è®¡ç®—æœºç³»ç»Ÿç¯å¢ƒï¼Œå¯¹äºç¡¬ä»¶æœ‰ä¾èµ–æ€§ï¼Œä¸ºäº†å‡å°‘ä¾èµ–ï¼Œå¼€å‘ä¸­æå‡ºäº†è½¯ä»¶çš„å¯ç§»æ¤æ€§ è½¯ä»¶å…·æœ‰å¯å¤ç”¨æ€§ï¼Œè½¯ä»¶å¼€å‘å‡ºæ¥å¾ˆå®¹æ˜“è¢«å¤åˆ¶ï¼Œä»è€Œå½¢æˆå¤šä¸ªå‰¯æœ¬ è½¯ä»¶çš„ç§ç±» ç³»ç»Ÿè½¯ä»¶ æ”¯æ’‘è½¯ä»¶ åº”ç”¨è½¯ä»¶ è½¯ä»¶å·¥ç¨‹çš„èµ·æº æ—©æœŸè®¡ç®—æœºç¨‹åº åœ¨1946å¹´è®¡ç®—æœºåˆšè¯ç”Ÿæ—¶ï¼Œäººä»¬é‡‡ç”¨æœºå™¨ç ç¼–åˆ¶ç¨‹åºï¼Œæ ¹æœ¬æ²¡æœ‰ç‹¬ç«‹çš„è½¯ä»¶çš„æ¦‚å¿µã€‚ æœºå™¨ç æŒ‡ä»¤åªæ˜¯ä¸ºäº†é©±åŠ¨è®¡ç®—æœºç¡¬ä»¶å·¥ä½œï¼Œå°±åƒäººä»¬è°ƒèŠ‚ç”µè§†æœºã€å½•åƒæœºã€æ´—è¡£æœºç­‰å®¶ç”¨ç”µå™¨çš„æŒ‰é’®ä¸€æ ·ã€‚ 1947å¹´ï¼Œå†¯è¯ºä¾æ›¼é¦–å…ˆæå‡ºç”¨æµç¨‹å›¾æè¿°è®¡ç®—æœºçš„è¿è¡Œè¿‡ç¨‹ï¼Œæ‰ä½¿äººä»¬è®¤è¯†åˆ°ç¨‹åºè®¾è®¡æ˜¯å®Œå…¨ä¸åŒäºç¡¬ä»¶ç ”åˆ¶çš„å¦ä¸€é¡¹å·¥ä½œã€‚ä»æ­¤ä»¥åï¼Œè½¯ä»¶çš„å¼€å‘å’Œç ”ç©¶æ‰å¼€å§‹ç‹¬ç«‹åœ°è¿›è¡Œã€‚ ç°åœ¨äººä»¬è®¤ä¸º åœ¨ä¿¡æ¯äº§ä¸šä¸­ï¼Œå¾®ç”µå­æ˜¯åŸºç¡€ï¼Œè®¡ç®—æœºå’Œç½‘ç»œæ˜¯è½½ä½“ï¼Œè½¯ä»¶æ˜¯æ ¸å¿ƒ è½¯ä»¶å¼€å‘çš„ä¸‰ä¸ªé˜¶æ®µ ä¸ªäººç¨‹åºæ—¶æœŸ è½¯ä»¶ä½œåŠæ—¶æœŸ è½¯ä»¶å·¥ç¨‹æ—¶æœŸ è½¯ä»¶å±æœº è½¯ä»¶å·¥ç¨‹çš„å®šä¹‰ è½¯ä»¶å·¥ç¨‹æ˜¯ç ”ç©¶å’Œåº”ç”¨å¦‚ä½•ä»¥ç³»ç»Ÿæ€§çš„ã€è§„èŒƒåŒ–çš„ã€å¯å®šé‡çš„è¿‡ç¨‹åŒ–æ–¹æ³•å»å¼€å‘å’Œç»´æŠ¤è½¯ä»¶ï¼Œä»¥åŠå¦‚ä½•æŠŠç»è¿‡æ—¶é—´è€ƒéªŒè€Œè¯æ˜æ­£ç¡®çš„ç®¡ç†æŠ€æœ¯å’Œå½“å‰èƒ½å¤Ÿå¾—åˆ°çš„æœ€å¥½çš„æŠ€æœ¯æ–¹æ³•ç»“åˆèµ·æ¥ è½¯ä»¶å¼€å‘çš„æœ¬è´¨å’ŒåŸºæœ¬æ‰‹æ®µ è½¯ä»¶å¼€å‘çš„å«ä¹‰ å®ç°æ˜ å°„çš„åŸºæœ¬æ‰‹æ®µï¼šå»ºæ¨¡ æ¨¡å‹ è½¯ä»¶å·¥ç¨‹æ¡†æ¶ ç›®æ ‡ æ´»åŠ¨ éœ€æ±‚ã€è®¾è®¡ã€å®ç°ã€ç¡®è®¤ã€æ”¯æŒ åŸåˆ™ é€‰æ‹©é€‚å®œçš„å¼€å‘æ¨¡å‹ æä¾›é«˜è´¨é‡å·¥ç¨‹æ”¯æŒ é‡è§†å¼€å‘è¿‡ç¨‹çš„ç®¡ç† è½¯ä»¶å·¥ç¨‹æ¡†æ¶çš„ä½œç”¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/è½¯ä»¶è¿‡ç¨‹.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/è½¯ä»¶è¿‡ç¨‹.html","title":"è½¯ä»¶è¿‡ç¨‹","keywords":"","body":"è½¯ä»¶ç”Ÿå­˜å‘¨æœŸè¿‡ç¨‹çš„æ¦‚å¿µ è½¯ä»¶ç”Ÿå­˜å‘¨æœŸ è½¯ä»¶ç”Ÿå­˜å‘¨æœŸè¿‡ç¨‹ï¼ˆè½¯ä»¶è¿‡ç¨‹ï¼‰ ç³»ç»Ÿåœ°ç»™å‡ºäº†è½¯ä»¶å¼€å‘æ‰€éœ€çš„ä»»åŠ¡ï¼Œå›ç­”äº†è½¯ä»¶å¼€å‘éœ€è¦åšå“ªäº›åŸºæœ¬æ˜ å°„ è½¯ä»¶ç”Ÿå­˜å‘¨æœŸè¿‡ç¨‹çš„åˆ†ç±» åŸºæœ¬è¿‡ç¨‹ æ”¯æŒè¿‡ç¨‹ ç»„ç»‡è¿‡ç¨‹ å„è¿‡ç¨‹å…³ç³» è½¯ä»¶ç”Ÿå­˜å‘¨æœŸæ¨¡å‹ ä¸ è½¯ä»¶å¼€å‘æ¨¡å‹ å¸¸è§çš„è½¯ä»¶ç”Ÿå­˜å‘¨æœŸæ¨¡å‹ ç€‘å¸ƒæ¨¡å‹ å¢é‡æ¨¡å‹ æ¼”åŒ–æ¨¡å‹ å–·æ³‰æ¨¡å‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/è½¯ä»¶éœ€æ±‚.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/è½¯ä»¶éœ€æ±‚.html","title":"è½¯ä»¶éœ€æ±‚","keywords":"","body":"éœ€æ±‚å‘ç° è‡ªæ‚Ÿ äº¤è°ˆ è§‚å¯Ÿ å°ç»„ä¼š æç‚¼ éœ€æ±‚çš„è·å– éœ€æ±‚è·å–çš„ä»»åŠ¡ å‘ç°å’Œåˆ†æé—®é¢˜çš„åŸå› /ç»“æœå…³ç³» ä¸ç”¨æˆ·è¿›è¡Œå„ç§æ–¹å¼çš„äº¤æµ æŒ‰ç…§æ•°æ®ã€è¿‡ç¨‹å’Œæ¥å£è§‚å¯Ÿé—®é¢˜çš„ä¸åŒä¾§é¢ è·å–çš„éœ€æ±‚æ–‡æ¡£åŒ–,å½¢å¼ç”¨ä¾‹ã€å†³ç­–è¡¨ã€å†³ç­–æ ‘ éœ€æ±‚è·å–åº”éµå¾ªçš„åŸåˆ™ æ·±å…¥æµ…å‡ºçš„åŸåˆ™ ä»¥æµç¨‹ä¸ºä¸»çº¿çš„åŸåˆ™ éœ€æ±‚è·å–çš„è¿‡ç¨‹ 1).å¼€å‘é«˜å±‚çš„ä¸šåŠ¡æ¨¡å‹ 2).å®šä¹‰é¡¹ç›®èŒƒå›´å’Œé«˜å±‚éœ€æ±‚ 3).è¯†åˆ«ç”¨æˆ·ç±»å’Œç”¨æˆ·ä»£è¡¨ 4).è·å–å…·ä½“çš„éœ€æ±‚ 5).ç¡®å®šç›®æ ‡ç³»ç»Ÿçš„ä¸šåŠ¡å·¥ä½œæµ 6).éœ€æ±‚æ•´ç†ä¸æ€»ç»“ éœ€æ±‚åˆ†æé˜¶æ®µä»»åŠ¡ è·å–éœ€æ±‚ é€šè¿‡å¯å‘ã€å¼•å¯¼ä»å®¢æˆ·ï¼ˆæˆ–ç”¨æˆ·ï¼‰é‚£é‡Œå¾—åˆ°çš„åŸå§‹éœ€æ±‚æ˜¯ä»–ä»¬çš„ä¸šåŠ¡è¦æ±‚ï¼ˆneedsï¼‰ åˆ†æéœ€æ±‚ å®Œæ•´æ€§ æ­£ç¡®æ€§ åˆç†æ€§ å¯è¡Œæ€§ å……åˆ†æ€§ éœ€æ±‚å®šä¹‰ ç¼–å†™éœ€æ±‚è§„æ ¼è¯´æ˜ éªŒè¯éœ€æ±‚ å¯¹ç¼–å†™çš„éœ€æ±‚è§„æ ¼è¯´æ˜è¿›è¡Œè¯„å®¡ éœ€æ±‚çš„ä½œç”¨ ç°ä»£ç³»ç»Ÿä¸­è½¯ä»¶çš„ä½œç”¨ è½¯ä»¶åœ¨ç³»ç»Ÿå·¥ç¨‹ä¸­çš„ä½œç”¨ è‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šçš„å¼€å‘ éœ€æ±‚çš„å®šä¹‰ éœ€æ±‚çš„åŸºæœ¬æ€§è´¨ å¿…è¦æ€§ æ— æ­§ä¹‰ å¯æµ‹çš„ å¯è·Ÿè¸ª å¯æµ‹é‡ éœ€æ±‚çš„åˆ†ç±» åŠŸèƒ½éœ€æ±‚ ä¸šåŠ¡éœ€æ±‚(why) èŒƒå›´æ–‡æ¡£ ç‰¹æ€§ ä»·å€¼ ç”¨æˆ·éœ€æ±‚(what) ç”¨ä¾‹è¯´æ˜æ–‡æ¡£ ç³»ç»Ÿéœ€æ±‚(how) ç³»ç»Ÿè¡Œä¸º éœ€æ±‚è§„æ ¼è¯´æ˜æ–‡æ¡£ éåŠŸèƒ½éœ€æ±‚ æ€§èƒ½ å¤–éƒ¨æ¥å£ è®¾è®¡çº¦æŸ è´¨é‡å±æ€§ éœ€æ±‚è§„çº¦ ä¸€ä¸ªéœ€æ±‚è§„çº¦æ—¶ä¸€ä¸ªè½¯ä»¶æ‰€æœ‰éœ€æ±‚é™ˆè¿°çš„æ­£å¼æ–‡æ¡£ï¼Œæ˜¯è½¯ä»¶çš„æ¦‚å¿µæ¨¡å‹ åŸºæœ¬æ€§è´¨ é‡è¦æ€§ä¸ç¨³å®šæ€§ç¨‹åº¦ å¯ä¿®æ”¹ å®Œæ•´ ä¸€è‡´ æ ¼å¼ å¼•è¨€ æ€»ä½“æè¿° ç‰¹å®šéœ€æ±‚ ä½œç”¨ åŒæ–¹çš„æŠ€æœ¯åˆåŒä¹¦ é¡¹ç›®ç®¡ç†æ§åˆ¶ç‚¹ äº§å“è®¾è®¡çš„èµ·å§‹ç‚¹ æµ‹è¯•å’Œä½¿ç”¨çš„åŸºç¡€ ç³»ç»Ÿéœ€æ±‚è§„æ ¼è¯´æ˜ éœ€æ±‚åˆ†æé˜¶æ®µçš„é‡è¦ä»»åŠ¡ä¹‹ä¸€æ˜¯æ ¹æ®åˆ†æçš„ç»“æœç¼–å†™éœ€æ±‚è§„æ ¼è¯´æ˜ï¼Œç»è¿‡ä¸¥æ ¼è¯„å®¡å¹¶å¾—åˆ°ç”¨æˆ·ç¡®è®¤ä¹‹åï¼Œä½œä¸ºè¿™ä¸ªé˜¶æ®µçš„æœ€ç»ˆæˆæœã€‚ æŒ‰ç…§å›½å®¶æ ‡å‡†GB/T 8567â€”2006ã€Šè®¡ç®—æœºè½¯ä»¶æ–‡æ¡£ç¼–åˆ¶è§„èŒƒã€‹ï¼Œæ¶‰åŠéœ€æ±‚è§„æ ¼è¯´æ˜çš„æ–‡æ¡£æœ‰â€œè½¯ä»¶éœ€æ±‚è§„æ ¼è¯´æ˜ï¼ˆSRSï¼‰â€ã€â€œæ•°æ®éœ€æ±‚è¯´æ˜ï¼ˆDRDï¼‰â€ç­‰ã€‚ åº”è¯¥åŒ…å«åœ¨SRSä¸­çš„å†…å®¹ åŠŸèƒ½ï¼šè½¯ä»¶åº”è¯¥æä¾›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ å¤–éƒ¨æ¥å£ï¼šè½¯ä»¶å¦‚ä½•ä¸äººã€ç³»ç»Ÿç¡¬ä»¶å’Œå…¶ä»–ç³»ç»Ÿç­‰è¿›è¡Œç›¸äº’ä½œç”¨ï¼Ÿ æ€§èƒ½ï¼šè½¯ä»¶ç³»ç»Ÿåœ¨è¿è¡Œé€Ÿåº¦ã€å¯ç”¨æ€§ã€å“åº”æ—¶é—´ã€æ¢å¤æ—¶é—´ç­‰æ–¹é¢æœ‰ä»€ä¹ˆè¦æ±‚ï¼Ÿ ç‰¹æ€§ï¼šè½¯ä»¶ç³»ç»Ÿåœ¨å¯ç§»æ¤æ€§ã€å¯ç»´æŠ¤æ€§ã€å®‰å…¨æ€§ç­‰æ–¹é¢æœ‰ä»€ä¹ˆè€ƒè™‘ï¼Ÿ è®¾è®¡çº¦æŸï¼šæ˜¯å¦å­˜åœ¨å¿…è¦çš„æ ‡å‡†ã€å¼€å‘è¯­è¨€ã€æ•°æ®åº“ã€èµ„æºé™åˆ¶ã€è¿è¡Œç¯å¢ƒç­‰å› ç´ çš„å½±å“å’Œç­–ç•¥ï¼Ÿ ä¸åº”è¯¥åŒ…æ‹¬åœ¨SRS ä¸­çš„å†…å®¹ é¡¹ç›®å¼€å‘è®¡åˆ’ è¯¸å¦‚æˆæœ¬ã€äººå‘˜ã€è¿›åº¦ã€å·¥å…·ã€æ–¹æ³•ç­‰ äº§å“ä¿è¯è®¡åˆ’ è¯¸å¦‚é…ç½®ç®¡ç†ã€éªŒè¯ä¸æµ‹è¯•ã€ è´¨é‡ä¿è¯ç­‰ è½¯ä»¶è®¾è®¡ç»†èŠ‚ éœ€æ±‚é€šå¸¸ç”¨äºè¡¨è¾¾â€œåšä»€ä¹ˆâ€ï¼Œ è€Œä¸æè¿°â€œå¦‚ä½•åšâ€ ç¼–å†™éœ€æ±‚è§„æ ¼è¯´æ˜çš„åŸåˆ™ åŸåˆ™1ï¼šåªæè¿°â€œåšä»€ä¹ˆâ€è€Œæ— é¡»æè¿°â€œæ€ä¹ˆåšâ€ åŸåˆ™2ï¼šå¿…é¡»è¯´æ˜è¿è¡Œç¯å¢ƒ åŸåˆ™3ï¼šè€ƒè™‘ç”¨æˆ·ã€åˆ†æå‘˜å’Œå®ç°è€…çš„äº¤æµ å¯¹å½¢å¼åŒ–å’Œè‡ªç„¶è¯­è¨€ä¹‹é—´ä½œå‡ºæ°å½“çš„é€‰æ‹© æ˜ç¡®çš„ç†è§£æœ€é‡è¦ï¼Œä¸å­˜åœ¨åå…¨åç¾çš„è½¯ä»¶è§„æ ¼è¯´æ˜ä¹¦ åŸåˆ™4ï¼šåŠ›æ±‚å¯»æ‰¾åˆ°æ°å¦‚å…¶åˆ†çš„éœ€æ±‚è¯¦ç»†ç¨‹åº¦ ä¸€ä¸ªæœ‰ç›Šçš„åŸåˆ™å°±æ˜¯ç¼–å†™å•ä¸ªçš„å¯æµ‹è¯•éœ€æ±‚æ–‡æ¡£ å»ºè®®å°†å¯æµ‹è¯•çš„éœ€æ±‚ä½œä¸ºè¡¡é‡è½¯ä»¶äº§å“è§„æ¨¡å¤§å°çš„å°ºåº¦ åŸåˆ™5ï¼šæ–‡æ¡£æ®µè½ä¸å®œå¤ªé•¿ ç®€çŸ­ è®°ä½ï¼šä¸è¦åœ¨éœ€æ±‚è¯´æ˜ä¸­ä½¿ç”¨â€œå’Œ/æˆ–â€ã€â€œç­‰ç­‰â€ä¹‹ç±»çš„è¯ åŸåˆ™6ï¼šé¿å…ä½¿ç”¨æ¨¡ç³Šçš„ã€ä¸»è§‚çš„æœ¯è¯­ å¦‚ç”¨æˆ·å‹å¥½ã€å®¹æ˜“ã€ç®€å•ã€è¿…é€Ÿã€æœ‰æ•ˆã€è®¸å¤šã€æœ€æ–°æŠ€æœ¯ã€ä¼˜è¶Šçš„ã€å¯æ¥å—çš„ã€æœ€å¤§åŒ–ã€æœ€å°åŒ–ã€æé«˜ç­‰ ä¸å¯éªŒè¯ å»ºè®®ï¼šé‡‡ç”¨ä¸€ç§æ ‡å‡†çš„SRS æ¨¡æ¿ SRSæ¨¡æ¿ éœ€æ±‚è§„æ ¼è¯´æ˜çš„è´¨é‡è¦æ±‚ æ­£ç¡®æ€§ ä¸€è‡´æ€§ å®Œæ•´æ€§ å¯éªŒè¯æ€§ æ— äºŒä¹‰æ€§ å¯ä¿®æ”¹æ€§ å¯è·Ÿè¸ªè¡Œ éœ€æ±‚è¯„å®¡ è¯„å®¡çš„ä¸»è¦å†…å®¹ 1ï¼‰åŠŸèƒ½ 2ï¼‰æ€§èƒ½ 3ï¼‰æ¥å£ 4ï¼‰æ•°æ® 5ï¼‰ç¡¬ä»¶ 6ï¼‰è½¯ä»¶ 7ï¼‰é€šä¿¡ 8ï¼‰æ­£ç¡®æ€§ 9ï¼‰å®Œæ•´æ€§ 10ï¼‰å¯è¡Œæ€§ 11ï¼‰ä¸€è‡´æ€§ 12ï¼‰å…¼å®¹æ€§ 13ï¼‰æ¸…æ™°æ€§/æ— æ­§ä¹‰æ€§ 14ï¼‰å®‰å…¨æ€§ 15ï¼‰å¥å£®æ€§ 16ï¼‰å¯ç†è§£æ€§ 17ï¼‰å¯ä¿®æ”¹æ€§ 18ï¼‰å¯æµ‹è¯•æ€§å’Œå¯éªŒè¯æ€§ 19ï¼‰å¯ç»´æŠ¤æ€§ 20ï¼‰å¯è¿½è¸ªæ€§ 21ï¼‰å¯é æ€§ 22ï¼‰å…¶ä»– éœ€æ±‚è¯„å®¡ä¸­çš„å¸¸è§é£é™© 1ï¼‰éœ€æ±‚è¯„å®¡çš„å‚ä¸è€…é€‰å–ä¸å½“ 2ï¼‰è¯„å®¡è§„æ¨¡è¿‡å¤§ï¼ˆ10-30é¡µï¼‰ 3ï¼‰è¯„å®¡ç»„è§„æ¨¡è¿‡å¤§ï¼ˆ3-7äººï¼‰ 4ï¼‰è¯„å®¡æ—¶é—´è¿‡é•¿ï¼ˆ2hä»¥å†…ï¼‰ éœ€æ±‚ç®¡ç† éœ€æ±‚è·Ÿè¸ª éœ€æ±‚è·Ÿè¸ªæ€§æ˜¯ç»´æŠ¤éœ€æ±‚ä¸è½¯ä»¶åˆ¶å“ä¹‹é—´çš„æ˜ å°„ï¼ˆä¾‹å¦‚è®¾è®¡å¯¹è±¡ã€ç”¨ä¾‹ã€æµ‹è¯•ç”¨ä¾‹ã€å·²å®ç°çš„è½¯ä»¶ç»„ä»¶ç­‰ï¼‰ï¼Œä»¥æ»¡è¶³æ•´ä¸ªå¼€å‘ç”Ÿå‘½å‘¨æœŸçš„éœ€è¦ã€‚ å»ºç«‹éœ€æ±‚è·Ÿè¸ªæ€§çš„è¿‡ç¨‹ è¯†åˆ«å¹¶å”¯ä¸€åœ°æ ‡è¯†SRS ä¸­çš„æ¯ä¸€ä¸ªéœ€æ±‚ å»ºç«‹å’Œæ›´æ–°SRS ä¸­çš„è·Ÿè¸ªçŸ©é˜µ å·¥ä½œåˆ¶å“çš„åˆ›å»ºè€…è´Ÿè´£å¢åŠ è¯¥åˆ¶å“ä¸éœ€æ±‚çš„è·Ÿè¸ªä¿¡æ¯ è·Ÿè¸ªçŸ©é˜µåº”è¯¥ä½œä¸ºå·¥ä½œåˆ¶å“çš„ä¸€éƒ¨åˆ†è¿›è¡Œå®¡æŸ¥ éœ€æ±‚å˜æ›´ç®¡ç† éœ€æ±‚ç®¡ç†çš„æ‰€æœ‰æ´»åŠ¨ä¸­ï¼Œæœ€é‡è¦çš„æ˜¯â€”â€” â€œéœ€æ±‚å˜æ›´ç®¡ç†â€ï¼ŒåŒ…æ‹¬: è¯†åˆ«å‡ºçš„é—®é¢˜-->é—®é¢˜åˆ†æå’Œå˜æ›´æè¿°-->å˜æ›´åˆ†æå’Œæˆæœ¬è®¡ç®—-->å˜æ›´å®ç°-->ä¿®æ­£åçš„éœ€æ±‚ é¡¹ç›®éœ€æ±‚åŠéœ€æ±‚è§„çº¦ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/ç»“æ„åŒ–åˆ†ææ–¹æ³•.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/ç»“æ„åŒ–åˆ†ææ–¹æ³•.html","title":"ç»“æ„åŒ–åˆ†ææ–¹æ³•","keywords":"","body":"è½¯ä»¶å¼€å‘æ–¹æ³• è½¯ä»¶å¼€å‘è¿‡ç¨‹æ‰€éµå¾ªçš„åŠæ³•å’Œæ­¥éª¤ è½¯ä»¶å¼€å‘æ–¹æ³•å­¦ ç»“æ„åŒ–æ–¹æ³•çš„ç»„æˆ ç»“æ„åŒ–åˆ†æ ç»“æ„åŒ–è®¾è®¡ ç»“æ„åŒ–ç¨‹åºè®¾è®¡ ç»“æ„åŒ–åˆ†ææ¨¡å‹ åŸºæœ¬æœ¯è¯­ æ•°æ®æµ åŠ å·¥ æ•°æ®å­˜å‚¨ æ•°æ®æº æ•°æ®è°­ æ¨¡å‹è¡¨è¾¾å·¥å…· DFDå›¾ æ•°æ®å­—å…¸ åŠ å·¥å°è¯´æ˜ ç»“æ„åŒ–åˆ†æè¿‡ç¨‹ è¿‡ç¨‹æŒ‡å¯¼ å»ºç«‹ç³»ç»Ÿçš„åŠŸèƒ½æ¨¡å‹ è‡ªé¡¶å‘ä¸‹ï¼Œé€å±‚åˆ†è§£ å»ºç«‹æ•°æ®å­—å…¸ ç»™å‡ºåŠ å·¥å°è¯´æ˜ éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦ å¼•è¨€ æ¦‚è¿° åŠŸèƒ½æ¦‚è¿° çº¦æŸ æ•°æ®æµå›¾ã€æ•°æ®å­—å…¸ã€åŠ å·¥è¯´æ˜ æ¥å£ ç”¨æˆ·æ¥å£ ç¡¬ä»¶æ¥å£ è½¯ä»¶æ¥å£ æ€§èƒ½éœ€æ±‚ å±æ€§ å…¶ä»–éœ€æ±‚ éœ€æ±‚éªŒè¯ æœ‰å…³SRSå†…å®¹ æ­£ç¡®æ€§ æ— äºŒä¹‰æ€§ å®Œæ•´æ€§ å¯éªŒè¯æ€§ ä¸€è‡´æ€§ å¯ç†è§£æ€§ æœ‰å…³SRSé£æ ¼ å¯ä¿®æ”¹æ€§ å¯è¢«è·Ÿè¸ªæ€§ å¯è·Ÿè¸ªæ€§ è®¾è®¡æ— å…³æ€§ æ³¨é‡Š MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/ç»“æ„åŒ–è®¾è®¡æ–¹æ³•.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/ç»“æ„åŒ–è®¾è®¡æ–¹æ³•.html","title":"ç»“æ„åŒ–è®¾è®¡æ–¹æ³•","keywords":"","body":"ç»“æ„åŒ–è®¾è®¡ æ€»ä½“è®¾è®¡ è¯¦ç»†è®¾è®¡ è®¾è®¡ ä¸€ç§è½¯ä»¶å¼€å‘æ´»åŠ¨ï¼Œå®šä¹‰å®ç°éœ€æ±‚è§„çº¦æ‰€éœ€çš„è½¯ä»¶ç»“æ„ æ•´ä½“æ¡†æ¶ ä½“ç³»ç»“æ„è®¾è®¡ æ¥å£è®¾è®¡ æ•°æ®è®¾è®¡ æ€»ä½“è®¾è®¡ åˆå§‹è®¾è®¡ ç²¾åŒ–è®¾è®¡ åˆå§‹æ¨¡å—ç»“æ„å›¾çš„è®¾è®¡ æ•°æ®æµå›¾çš„åˆ†ç±» å˜æ¢å‹DFD äº‹åŠ¡å‹DFD å˜åŒ–è®¾è®¡çš„åŸºæœ¬æ­¥éª¤ å¤å®¡å¹¶ç²¾åŒ–æ¨¡å‹ ç¡®å®šè¾¹ç•Œ ç¬¬ä¸€çº§åˆ†è§£-ç³»ç»Ÿæ¨¡å—ç»“æ„å›¾é¡¶å±‚å’Œç¬¬ä¸€å±‚çš„è®¾è®¡ äº‹åŠ¡è®¾è®¡çš„åŸºæœ¬æ­¥éª¤ åˆå§‹æ¨¡å—ç»“æ„å›¾ç²¾åŒ–çš„åŸåˆ™ æ¨¡å—å’Œæ¨¡å—åŒ– æ¨¡å—ï¼šæ‰§è¡Œä¸€ä¸ªç‰¹æ®Šä»»åŠ¡çš„ä¸€ç»„ä¾‹ç¨‹å’Œæ•°æ®ç»“æ„ æ¨¡å—åŒ–ï¼šæŠŠç³»ç»Ÿåˆ†è§£æˆè‹¥å¹²æ¨¡å—çš„è¿‡ç¨‹ æ¨¡å—åŒ–çš„åŸå›  é™ä½å¤æ‚æ€§ è€¦åˆ å†…å®¹è€¦åˆ å…¬å…±è€¦åˆ æ§åˆ¶è€¦åˆ æ ‡è®°è€¦åˆ æ•°æ®è€¦åˆ å†…èš å¶ç„¶å†…èš é€»è¾‘å†…èš æ—¶é—´å†…èš è¿‡ç¨‹å†…èš é€šä¿¡å†…èš é¡ºåºå†…èš åŠŸèƒ½å†…èš åˆå§‹åŒ–æ¨¡å—ç»“æ„å›¾ç²¾åŒ–çš„å¯å‘å¼è§„åˆ™ å¸¸è§å¯å‘å¼è§„åˆ™ æ¥å£è®¾è®¡ æ¨¡å—æˆ–è½¯ä»¶æ„ä»¶é—´çš„æ¥å£ è½¯ä»¶ä¸å…¶ä»–è½¯ä»¶ç¡¬ä»¶ç³»ç»Ÿä¹‹é—´çš„æ¥å£ è½¯ä»¶ä¸ç”¨æˆ·çš„æ¥å£ äººæœºäº¤äº’ç•Œé¢ ç”¨æˆ·ç•Œé¢åº”å…·å¤‡çš„ç‰¹æ€§ å¯ä½¿ç”¨æ€§ çµæ´»æ€§ å¯é æ€§ ç•Œé¢è®¾è®¡ç±»å‹ å¤–è¡Œ åˆå­¦ ç†Ÿç»ƒ ä¸“å®¶ è®¾è®¡åŸåˆ™ ä¸€è‡´æ€§ æ“ä½œæ­¥éª¤å°‘ é¿å…å“‘æ’­æ”¾ UndoåŠŸèƒ½ å‡å°‘è®°å¿†è´Ÿæ‹… æé«˜å­¦ä¹ æ•ˆç‡ æ•°æ®è®¾è®¡ å¯¹å¿…é¡»è¦å­˜å‚¨çš„æ•°æ®åŠå…¶æ ¼å¼è¿›è¡Œè®¾è®¡ æ–‡ä»¶å­˜å‚¨ æ•°æ®åº“è®¾è®¡ ORM è¯¦ç»†è®¾è®¡å·¥å…· ä¼ªä»£ç  ç¨‹åºæµç¨‹å›¾ PADå›¾ N-Så›¾ åˆ¤å®šè¡¨ä¸åˆ¤å®šæ ‘ è½¯ä»¶è®¾è®¡è§„çº¦ æ¦‚è¦è®¾è®¡è§„çº¦ ç³»ç»Ÿç¯å¢ƒ è®¾è®¡æè¿° å¯¹æ¯ä¸ªæ¨¡å—çš„æè¿° æ–‡ä»¶ç»“æ„å’Œå…¨å±€æ•°æ® è¯¦ç»†è®¾è®¡è§„çº¦ è®¾è®¡è§„çº¦æ ¼å¼ è½¯ä»¶è®¾è®¡è¯„å®¡ æ–¹æ³• éæ­£å¼è¯„å®¡ æ­£å¼è¯„å®¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/UML.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/UML.html","title":"UML","keywords":"","body":"é¢å‘å¯¹è±¡æ–¹æ³• é¢å‘å¯¹è±¡(Object Oriented,OO)æ˜¯è½¯ä»¶å¼€å‘æ–¹æ³•ã€‚ é¢å‘å¯¹è±¡çš„æ¦‚å¿µå’Œåº”ç”¨å·²è¶…è¶Šäº†ç¨‹åºè®¾è®¡å’Œè½¯ä»¶å¼€å‘ï¼Œæ‰©å±•åˆ°å¦‚æ•°æ®åº“ç³»ç»Ÿã€äº¤äº’å¼ç•Œé¢ã€åº”ç”¨ç»“æ„ã€åº”ç”¨å¹³å°ã€åˆ†å¸ƒå¼ç³»ç»Ÿã€ç½‘ç»œç®¡ç†ç»“æ„ã€CADæŠ€æœ¯ã€äººå·¥æ™ºèƒ½ç­‰é¢†åŸŸã€‚ é¢å‘å¯¹è±¡æ˜¯ä¸€ç§å¯¹ç°å®ä¸–ç•Œç†è§£å’ŒæŠ½è±¡çš„æ–¹æ³•ï¼Œæ˜¯è®¡ç®—æœºç¼–ç¨‹æŠ€æœ¯ å‘å±•åˆ°ä¸€å®šé˜¶æ®µåçš„äº§ç‰©ã€‚ ç‰¹ç‚¹ å°è£… å¤šæ€ æŠ½è±¡ ç»§æ‰¿ åŸºæœ¬æ€æƒ³ UML ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼ˆè‹±è¯­ï¼šUnified Modeling Languageï¼Œç¼©å†™ UMLï¼‰æ˜¯éä¸“åˆ©çš„ç¬¬ä¸‰ä»£å»ºæ¨¡å’Œè§„çº¦è¯­è¨€ã€‚UMLæ˜¯ä¸€ç§å¼€æ”¾çš„æ–¹æ³•ï¼Œç”¨äºè¯´æ˜ã€å¯è§†åŒ–ã€æ„å»ºå’Œç¼–å†™ä¸€ä¸ªæ­£åœ¨å¼€å‘çš„ã€é¢å‘å¯¹è±¡çš„ã€è½¯ä»¶å¯†é›†ç³»ç»Ÿçš„åˆ¶å“çš„å¼€æ”¾æ–¹æ³•ã€‚UMLå±•ç°äº†ä¸€ç³»åˆ—æœ€ä½³å·¥ç¨‹å®è·µï¼Œè¿™äº›æœ€ä½³å®è·µåœ¨å¯¹å¤§è§„æ¨¡ï¼Œå¤æ‚ç³»ç»Ÿè¿›è¡Œå»ºæ¨¡æ–¹é¢ï¼Œç‰¹åˆ«æ˜¯åœ¨è½¯ä»¶æ¶æ„å±‚æ¬¡å·²ç»è¢«éªŒè¯æœ‰æ•ˆã€‚ æœ¯è¯­ä¸ç¬¦å· ç±»ä¸å¯¹è±¡ ç»´åŸºç™¾ç§‘-ç±»å›¾ ç±»å å±æ€§ æ“ä½œ æ“ä½œçš„å¤šæ€æ€§ æ¥å£ åä½œ åä½œæ˜¯ä¸€ç»„ç±»ã€æ¥å£å’Œå…¶ä»–å…ƒç´ çš„ç¾¤ä½“ï¼Œä»–ä»¬å…±åŒå·¥ä½œä»¥æä¾›æ¯”ç»„æˆéƒ¨åˆ†çš„æ€»å’Œæ›´å¼ºçš„åˆä½œè¡Œä¸ºã€‚ äº¤äº’å„æ–¹ äº¤äº’æ–¹å¼ äº¤äº’å†…å®¹ ç”¨å†µ å¯¹ä¸€ç»„åŠ¨ä½œåºåˆ—çš„æè¿° ä¸»åŠ¨ç±» ä½“ç°å¹¶å‘è¡Œä¸ºæŠ½è±¡ æ„ä»¶ å¯æ›¿æ¢çš„æˆåˆ†ï¼Œéµå¾ªæä¾›äº†ä¸€ç»„æ¥å£çš„å®ç° åˆ¶å“ ç‰©ç†çš„ã€å¯æ›¿ä»£çš„éƒ¨ä»¶ èŠ‚ç‚¹ åŒ… è¡¨è¾¾å…³ç³»çš„æœ¯è¯­ å…³è” æ³›åŒ– å®ç° ä¾èµ– UMLæ¨¡å‹è¡¨è¾¾å·¥å…· é™æ€éƒ¨åˆ†å»ºæ¨¡å·¥å…· åŠ¨æ€éƒ¨åˆ†å»ºæ¨¡å·¥å…· ç”¨å†µå›¾ çŠ¶æ€å›¾ æ´»åŠ¨å›¾ é¡ºåºå›¾ é€šä¿¡å›¾ äº¤äº’æ¦‚è§‚å›¾ å®šæ—¶å›¾ ç±»å›¾ ç±» æ¥å£ ä¾èµ– æ³›åŒ– å…³è”å…³ç³» ç”¨å†µå›¾ ä¸»é¢˜ ç”¨å†µ å‚ä¸è€… ä¾èµ– æ³›åŒ– å…³è” ä½¿ç”¨è§†è§’ è®¾è®¡è§†è§’ é¡ºåºå›¾ åˆ»ç”»å¯¹è±¡é—´çš„äº¤äº’æ¶ˆæ¯ çŠ¶æ€å›¾ ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„æ§åˆ¶æµ ç®€å•çŠ¶æ€å’Œç»„åˆçŠ¶æ€ äº‹ä»¶ è½¬æ¢ UMLæ€»ç»“ ä½œç”¨ å¯¹è‡ªé¡¶å‘ä¸‹çš„å»ºæ¨¡äººå‘˜æ¥è¯´ï¼Œæä¾›äº†æ¦‚å¿µå»ºæ¨¡ä»¥åŠè½¯ä»¶å»ºæ¨¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/é¢å‘å¯¹è±¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/é¢å‘å¯¹è±¡.html","title":"é¢å‘å¯¹è±¡","keywords":"","body":"é¢å‘å¯¹è±¡ ä¸‰å¤§ç‰¹æ€§ å°è£… åˆ©ç”¨æŠ½è±¡æ•°æ®ç±»å‹å°†æ•°æ®å’ŒåŸºäºæ•°æ®çš„æ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œä½¿å…¶æ„æˆä¸€ä¸ªä¸å¯åˆ†å‰²çš„ç‹¬ç«‹å®ä½“ å‡å°‘è€¦åˆ æœ‰åˆ©äºç»´æŠ¤ æä¾›ä»£ç å¤ç”¨ é™ä½é‡æ„é£é™© ç»§æ‰¿ ç»§æ‰¿å®ç°äº† IS-A å…³ç³»ï¼Œå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ï¼Œè·å¾—çˆ¶ç±»çš„éprivateå±æ€§ä¸æ–¹æ³• çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ç§°ä¸º å‘ä¸Šè½¬å‹ Aniaml dog = new Dog() å¤šæ€ è¿è¡Œæ—¶å¤šæ€ å¯¹è±¡å¼•ç”¨æŒ‡å‘çš„å…·ä½“ç±»å‹åˆ°è¿è¡ŒæœŸé—´æ‰ç¡®å®š ç¼–è¯‘æ—¶å¤šæ€ ç±»å›¾ æ³›åŒ–å…³ç³» ç»§æ‰¿å…³ç³» å®ç°å…³ç³» èšåˆå…³ç³» æ•´ä½“å’Œéƒ¨åˆ†ä¸æ˜¯å¼ºä¾èµ–çš„ï¼Œæ•´ä½“ä¸å­˜åœ¨äº†éƒ¨åˆ†è¿˜æ˜¯ä¼šå­˜åœ¨ ç»„åˆå…³ç³» ç»„åˆä¸­æ•´ä½“å’Œéƒ¨åˆ†æ˜¯å¼ºä¾èµ–çš„ï¼Œæ•´ä½“ä¸å­˜åœ¨äº†éƒ¨åˆ†ä¹Ÿä¸å­˜åœ¨äº† å…³è”å…³ç³» è¿™æ˜¯ä¸€ç§é™æ€å…³ç³»ï¼Œä¸è¿è¡Œè¿‡ç¨‹çš„çŠ¶æ€æ— å…³ å¯ä»¥ç”¨ 1 å¯¹ 1ã€å¤šå¯¹ 1ã€å¤šå¯¹å¤šè¿™ç§å…³è”å…³ç³»æ¥è¡¨ç¤º ä¾èµ–å…³ç³» ä¾èµ–å…³ç³»æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­èµ·ä½œç”¨çš„ ä¸¤ä¸ªç±»æ˜¯ä¾èµ–å…³ç³»æœ‰ä¸‰ç§å½¢å¼ï¼š å±€éƒ¨å˜é‡ å‚æ•° å¯¹è±¡æ¶ˆæ¯ SOLIDè®¾è®¡åŸåˆ™ å•ä¸€èŒè´£åŸåˆ™ ä¿®æ”¹ä¸€ä¸ªç±»çš„åŸå› åº”è¯¥åªæœ‰ä¸€ä¸ª å°±æ˜¯è®©ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ä»¶äº‹ï¼Œå½“è¿™ä¸ªç±»éœ€è¦åšè¿‡å¤šäº‹æƒ…çš„æ—¶å€™ï¼Œå°±éœ€è¦åˆ†è§£è¿™ä¸ªç±» å¼€æ”¾å°é—­åŸåˆ™ ç±»åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ è¯¥åŸåˆ™è¦æ±‚åœ¨æ·»åŠ æ–°åŠŸèƒ½æ—¶ä¸éœ€è¦ä¿®æ”¹ä»£ç  é‡Œæ°æ›¿æ¢åŸåˆ™ å­ç±»å¯¹è±¡å¿…é¡»èƒ½å¤Ÿæ›¿æ¢æ‰æ‰€æœ‰çˆ¶ç±»å¯¹è±¡ animal.run(); // â†“ cat.run(); å¦‚æœä¸æ»¡è¶³è¿™ä¸ªåŸåˆ™ï¼Œé‚£ä¹ˆå„ä¸ªå­ç±»çš„è¡Œä¸ºä¸Šå°±ä¼šæœ‰å¾ˆå¤§å·®å¼‚ï¼Œå¢åŠ ç»§æ‰¿ä½“ç³»çš„å¤æ‚åº¦ æ¥å£åˆ†ç¦»åŸåˆ™ ä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ä¾èµ–äºå®ƒä»¬ä¸ç”¨çš„æ–¹æ³• ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£æ¯”ä½¿ç”¨å•ä¸€çš„æ€»æ¥å£è¦å¥½ ä¾èµ–å€’ç½®åŸåˆ™ é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚ å˜é‡éƒ½ä¸åº”è¯¥æŒæœ‰æŒ‡å‘å…·ä½“ç±»çš„å¼•ç”¨ å…¶ä»–ä¸€äº›åŸåˆ™ è¿ªç±³ç‰¹æ³•åˆ™ åˆå«ä½œæœ€å°‘çŸ¥è¯†åŸåˆ™ï¼ˆLeast Knowledge Principleï¼Œç®€å†™ LKPï¼‰ï¼Œå°±æ˜¯è¯´ä¸€ä¸ªå¯¹è±¡åº”å½“å¯¹å…¶ä»–å¯¹è±¡æœ‰å°½å¯èƒ½å°‘çš„äº†è§£ åˆæˆå¤ç”¨åŸåˆ™ å¤šä½¿ç”¨ç»„åˆï¼Œå°‘ä½¿ç”¨ç»§æ‰¿ å…±åŒé—­åŒ…åŸåˆ™ ä¸€èµ·ä¿®æ”¹çš„ç±»ï¼Œåº”è¯¥ç»„åˆåœ¨ä¸€èµ· ç¨³å®šæŠ½è±¡åŸåˆ™ æœ€ç¨³å®šçš„åŒ…åº”è¯¥æ˜¯æœ€æŠ½è±¡çš„åŒ…ï¼Œä¸ç¨³å®šçš„åŒ…åº”è¯¥æ˜¯å…·ä½“çš„åŒ… ç¨³å®šä¾èµ–åŸåˆ™ åŒ…è¦ä¾èµ–çš„åŒ…è¦æ¯”è‡ªå·±æ›´å…·æœ‰ç¨³å®šæ€§ é¢å‘å¯¹è±¡åˆ†æ OOA æ¦‚è¿° åŸºæœ¬ä»»åŠ¡ æ¨¡å‹ è¿‡ç¨‹ è¯†åˆ«ç±» ç ”ç©¶ç”¨æˆ·éœ€æ±‚ï¼Œæ˜ç¡®ç³»ç»Ÿè´£ä»» ç ”ç©¶é—®é¢˜åŸŸ ç¡®å®šç³»ç»Ÿè¾¹ç•Œ è€ƒè™‘é—®é¢˜åŸŸ å®¡æŸ¥ç­›é€‰ èˆå¼ƒæ— ç”¨å¯¹è±¡ ç²¾ç®€å¯¹è±¡ ä¸å®ç°æ¡ä»¶æœ‰å…³çš„å¯¹è±¡ è¯†åˆ«ä¸»åŠ¨å¯¹è±¡ å¯¹è±¡åˆ†ç±» è¯†åˆ«å±æ€§å’Œæ“ä½œ è¯†åˆ«å¯¹è±¡ä¹‹é—´çš„å…³ç³» ç»§æ‰¿ å½“å‰é¢†åŸŸçš„åˆ†ç±»å­¦çŸ¥è¯† å¸¸è¯† é›†åˆå…³ç³»ï¼Œç‰¹å¾å…³ç³» å±æ€§ä¸æ“ä½œçš„é€‚ç”¨èŒƒå›´ é¢†åŸŸèŒƒå›´å†…çš„å¤ç”¨ å…³è” èšåˆ ä¾èµ– é¢å‘å¯¹è±¡è®¾è®¡ æé«˜è½¯ä»¶ç”Ÿäº§ç‡ æé«˜è´¨é‡ åŠ å¼ºå¯ç»´æŠ¤æ€§ é—®é¢˜åŸŸ ç¼–ç¨‹è¯­è¨€ åŸºç¡€è®¾æ–½ å¤ç”¨æ”¯æŒ æ•°æ®ç®¡ç†ç³»ç»Ÿ ç•Œé¢æ”¯æŒç³»ç»Ÿ è®¾è®¡ ä¸ºå¤ç”¨è®¾è®¡ä¸ç¼–ç¨‹çš„ç±»å¢åŠ ç»“æ„ å¢åŠ ä¸€èˆ¬ç±»ä»¥å»ºç«‹å…±åŒåè®® æŒ‰ç¼–ç¨‹è¯­è¨€è°ƒæ•´ç»§æ‰¿å’Œå¤šæ€ æé«˜æ€§èƒ½ ä¸ºå®ç°å¯¹è±¡æ°¸ä¹…å­˜å‚¨åšä¿®æ”¹ ä¸ºç¼–ç¨‹æ–¹ä¾¿æ·»åŠ ä½å±‚ç»†èŠ‚ äººæœºäº¤äº’éƒ¨åˆ† è®¾è®¡å‡†åˆ™ ä½¿ç”¨ç®€ä¾¿ å‡å°‘äººè„‘è®°å¿†è´Ÿæ‹… å‡å°‘é‡å¤è¾“å…¥ å®¹é”™æ€§ åŠæ—¶åé¦ˆ é˜²æ­¢ç¾éš¾æ€§é”™è¯¯ æ§åˆ¶é©±åŠ¨éƒ¨åˆ† æ•°æ®ç®¡ç†éƒ¨åˆ† é¢å‘å¯¹è±¡ç¼–ç¨‹ ç¨‹åºè®¾è®¡èŒƒå‹ é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡èŒƒå‹ æ¨¡å—åŒ–ç¨‹åºè®¾è®¡èŒƒå‹ OOPè¯­è¨€ é€‰æ‹© è¯„ä»·æ ‡å‡† èƒ½å¦æè¿°ç±»å’Œå¯¹è±¡ èƒ½å¤Ÿå®ç°ä¸€èˆ¬-ç‰¹æ®Šç»“æ„ å¦‚ä½•å®ç°æ•´ä½“-éƒ¨åˆ†ç»“æ„ å¦‚ä½•å®ç°å±æ€§å’Œæ“ä½œ å¦‚ä½•å®ç°å…³è”å’Œæ¶ˆæ¯é€šè®¯ ç”¨éOOç¼–ç¨‹è¯­è¨€å®ç°OODæ¨¡å‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/é¢å‘å¯¹è±¡èŒƒå¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/é¢å‘å¯¹è±¡èŒƒå¼.html","title":"é¢å‘å¯¹è±¡èŒƒå¼","keywords":"","body":"é¢å‘å¯¹è±¡èŒƒå¼ ç§‘å­¦æ€ç»´ ç†æƒ³åŒ– å°†æœªçŸ¥é—®é¢˜è½¬æ¢ä¸ºå·²çŸ¥é—®é¢˜ å·¥ç¨‹æ€ç»´ å—åˆ°å®é™…å› ç´ åˆ¶çº¦ å±€éƒ¨æœ€ä¼˜è§£ åˆ†è§£ä¸æŠ½è±¡ ä¸¤ç§æ–¹å¼éƒ½æ˜¯é™ä½å¤æ‚åº¦çš„æ‰‹æ®µ åˆ†å±‚ åˆ†è§£ä¸æŠ½è±¡ç»„åˆä½¿ç”¨å¯¹ç³»ç»Ÿè¿›è¡Œåˆ†å±‚ï¼Œç¼©å°å…³æ³¨ç‚¹ï¼Œé™ä½å¤æ‚æ€§ ç»“æ„åŒ–ç¼–ç¨‹ æŒ‰ç®—æ³•åˆ†è§£ ç»“æ„åŒ–çš„æ–¹å¼ï¼Œä½¿ä»£ç æ›´å¥½åœ°è¢«ç†è§£ é—®é¢˜ ä¸å®¹æ˜“è¯» ä¸å®¹æ˜“ç»´æŠ¤ æ•°æ®æµå›¾ æ‰€æœ‰çš„è®¡ç®—ç³»ç»Ÿéƒ½æ˜¯ä¿¡æ¯çš„å¤„ç†ä¸è½¬æ¢ç³»ç»Ÿ ç»“æ„å›¾ ä»£è¡¨æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³» æ¶ˆé™¤é‡å¤ æŠ½è±¡ æµ‹è¯• è¯­å¥è¦†ç›– åˆ†æ”¯è¦†ç›– è·¯å¾„è¦†ç›– ç‰¹æ€§ å˜æ›´æ˜¯ä¸å¯é¿å…çš„ åšå¥½å¯¹å¯ä»¥é¢„æœŸåˆ°çš„å˜æ›´çš„è®¾è®¡ å¯ä¿®æ”¹ å¯æ“ä½œæ€§ ä¸–ç•Œè§‚ æ•°æ®èŒè´£ï¼ˆå¯¹è±¡çš„æœ¬è´¨ç‰¹å¾ï¼‰ä¸è¡Œä¸ºèŒè´£ï¼ˆæ‹¥æœ‰æ•°æ®åä½“ç°çš„è¡Œä¸ºï¼‰ç»‘å®š class Person { Date birthday; getAge(); } ç±» å¯¹ç°å®ä¸–ç•Œè¿›è¡Œå»ºæ¨¡ æŠ½è±¡ã€éšè—ç»†èŠ‚ ç¡®å®šç±» ç¡®å®šåè¯æ¦‚å¿µ ç¡®å®šæ‰€æœ‰æ•°æ®ä¸è¡Œä¸ºæ˜¯å¦ä¸ºå¿…è¦ æœ‰è¡Œä¸ºæœ‰çŠ¶æ€ -> æ¦‚å¿µç±» æœ‰çŠ¶æ€æ— è¡Œä¸º -> å…¶ä»–ç±» æ— çŠ¶æ€æœ‰è¡Œä¸º -> åˆ’åˆ†åˆ°æ¦‚å¿µç±» æ— çŠ¶æ€æ— è¡Œä¸º -> æŠ›å¼ƒ é‡ç”¨ ä¸è¦é‡å¤é€ è½®å­ï¼Ÿ æ¶æ„ã€æ¡†æ¶/ç±»åº“ã€æ¨¡å¼ã€ç»§æ‰¿ å°è£… å°†éœ€æ±‚çš„å˜æ›´å°è£…åœ¨ç±»é‡Œ é˜²å¾¡å¼ç¼–ç¨‹ æ‰€æœ‰çš„è¾“å…¥ï¼Œè®¤ä¸ºéƒ½æœ‰å¯èƒ½å‡ºé”™ èŒè´£ æ‰§è¡Œä¸€é¡¹ä»»åŠ¡æˆ–æŒæ¡æŸç§ä¿¡æ¯çš„ä¹‰åŠ¡ åä½œ è‡ªåº•å‘ä¸ŠèŒè´£èšåˆ è‡ªé¡¶å‘ä¸‹èŒè´£æ‹†åˆ† ç±»å…³ç³» ä¾èµ– å…³è” èšåˆ ç»„åˆ å¯ä¿®æ”¹æ€§ å¯ä¿®æ”¹ å¯æ‰©å±• çµæ´» ç»§æ‰¿ ä»£ç é‡ç”¨ æŠ½è±¡ ç»„åˆä¸ç»§æ‰¿ åœ¨ç»§æ‰¿ä¸­ï¼Œå¦‚æœçˆ¶ç±»æ˜¯è„†å¼±çš„ï¼Œé‚£ä¹ˆçˆ¶ç±»æ¥å£å‘ç”Ÿä¸€ç‚¹æ”¹å˜å°±ä¼šå½±å“åˆ°å­ç±»çš„è¡Œä¸º ä½¿ç”¨æ—¶ï¼Œä¿è¯ä½¿ç”¨ç»§æ‰¿æ˜¯ä¸€ç§is açš„å…³ç³» å¤šæ€ ä½œç”¨ï¼šæ¶ˆé™¤ç±»å‹ä¹‹é—´çš„è€¦åˆå…³ç³» ç¼–è¯‘å™¨ç­–ç•¥ä¸è¿è¡Œæ—¶ç­–ç•¥ä¸ä¸€è‡´ æ¥å£ ä¸€ä¸ªçº¯æŠ½è±¡çš„ç±»ï¼Œå°‘äº†æŠ½è±¡ç±»çš„ä¸€äº›é™åˆ¶ æŒ‰æ¥å£ç¼–ç¨‹ å®šä¹‰ä¸€ä¸ªå¥‘çº¦ï¼Œå°†å˜åŒ–éš”ç¦»åœ¨æŸä¸€éƒ¨åˆ†å†… MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/æ•æ·è½¯ä»¶å¼€å‘.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/æ•æ·è½¯ä»¶å¼€å‘.html","title":"æ•æ·è½¯ä»¶å¼€å‘","keywords":"","body":"æ•æ·è½¯ä»¶å¼€å‘ æ•æ·å¼€å‘ä»¥ç”¨æˆ·çš„éœ€æ±‚è¿›åŒ–ä¸ºæ ¸å¿ƒï¼Œé‡‡ç”¨è¿­ä»£ã€å¾ªåºæ¸è¿›çš„æ–¹æ³•è¿›è¡Œè½¯ä»¶å¼€å‘ã€‚åœ¨æ•æ·å¼€å‘ä¸­ï¼Œè½¯ä»¶é¡¹ç›®åœ¨æ„å»ºåˆæœŸè¢«åˆ‡åˆ†æˆå¤šä¸ªå­é¡¹ç›®ï¼Œå„ä¸ªå­é¡¹ç›®çš„æˆæœéƒ½ç»è¿‡æµ‹è¯•ï¼Œå…·å¤‡å¯è§†ã€å¯é›†æˆå’Œå¯è¿è¡Œä½¿ç”¨çš„ç‰¹å¾ã€‚æ¢è¨€ä¹‹ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤§é¡¹ç›®åˆ†ä¸ºå¤šä¸ªç›¸äº’è”ç³»ï¼Œä½†ä¹Ÿå¯ç‹¬ç«‹è¿è¡Œçš„å°é¡¹ç›®ï¼Œå¹¶åˆ†åˆ«å®Œæˆï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­è½¯ä»¶ä¸€ç›´å¤„äºå¯ä½¿ç”¨çŠ¶æ€ã€‚ æ•æ·è”ç›Ÿ ä¸ªä½“äº¤äº’ èƒœè¿‡ è¿‡ç¨‹å’Œå·¥å…· é¡¹ç›®çš„å…³é”®å› ç´ æ˜¯äºº ä½†æ˜¯ä¸€ä¸ªå¥½è¿‡ç¨‹å¹¶ä¸èƒ½å¸®åŠ©é¡¹ç›®æˆåŠŸ å¯ä»¥å·¥ä½œçš„è½¯ä»¶ èƒœè¿‡ é¢é¢ä¿±åˆ°çš„æ–‡æ¡£ è¿‡å¤šçš„æ–‡æ¡£æ¯”è¿‡å°‘çš„æ–‡æ¡£æ›´ç³Ÿ å®¢æˆ·åˆä½œ èƒœè¿‡ åˆåŒè°ˆåˆ¤ æˆåŠŸçš„é¡¹ç›®éœ€è¦æœ‰åºé¢‘ç¹çš„å®¢æˆ·åé¦ˆ å“åº”å˜åŒ– èƒœè¿‡ éµå¾ªè®¡åˆ’ å¯¹äºä¸‹ä¸¤å‘¨ åšå¥½è¯¦ç»†çš„è®¡åˆ’ ä¸ºä¸‹ä¸‰ä¸ªæœˆåšå¥½ç²—ç•¥çš„è®¡åˆ’ ä¸‰ä¸ªæœˆä»¥åçš„äº‹ å°±åšæä¸ºç²—ç³™çš„è®¡åˆ’ åŸåˆ™ å°½æ—©äº¤ä»˜ æ¬¢è¿éœ€æ±‚å˜æ›´ äº¤ä»˜é—´éš”è¶ŠçŸ­è¶Šå¥½ å®¢æˆ·ä¸å¼€å‘å›¢é˜Ÿä¸€èµ·å·¥ä½œ é‡è§†äººçš„å› ç´  ä½¿ç”¨å¯ä»¥å·¥ä½œçš„è½¯ä»¶è¡¡é‡å·¥ä½œè¿›åº¦ æå€¡æ’å®šçš„å¼€å‘é€Ÿåº¦ ç®€å•å°±å¥½ è‡ªç»„ç»‡çš„å›¢é˜Ÿ ä¸æ–­åçœ è°ƒæ•´è‡ªèº« æé™ç¼–ç¨‹ å®è·µåŸåˆ™ å®¢æˆ·ä½œä¸ºå›¢é˜Ÿæˆå‘˜ ç”¨æˆ·æ•…äº‹ çŸ­äº¤ä»˜å‘¨æœŸ è¿­ä»£ å‘å¸ƒ éªŒæ”¶æµ‹è¯• ç»“å¯¹ç¼–ç¨‹ å‡å°‘ç¼ºé™·ç‡ ä¿ƒè¿›çŸ¥è¯†ä¼ æ’­ æµ‹è¯•é©±åŠ¨å¼€å‘ é›†ä½“æ‰€æœ‰æƒ æŒç»­é›†æˆ å¯æŒç»­çš„å¼€å‘é€Ÿåº¦ å¼€æ”¾çš„å·¥ä½œç©ºé—´ è®¡åˆ’æ¸¸æˆ ç®€å•è®¾è®¡ é‡æ„ éšå–» æµ‹è¯• å•å…ƒæµ‹è¯• éªŒè¯æ“ä½œçš„æ­£ç¡®æ€§ ç«™åœ¨è°ƒç”¨è€…çš„è§’åº¦ ä¿ƒä½¿è§£è€¦ éªŒæ”¶æµ‹è¯• é’ˆå¯¹æ¯ä¸ªç‰¹æ€§ç¼–å†™æµ‹è¯•è„šæœ¬ æ•æ·è®¾è®¡ æ‹™åŠ£è®¾è®¡çš„ç—‡çŠ¶ åƒµåŒ–æ€§ è®¾è®¡éš¾ä»¥æ”¹å˜ è„†å¼±æ€§ è®¾è®¡å®¹æ˜“è¢«ç ´å ç‰¢å›ºæ€§ è®¾è®¡éš¾ä»¥é‡ç”¨ ç²˜æ»æ€§ éš¾ä»¥åšæ­£ç¡®çš„äº‹ ä¸å¿…è¦çš„å¤æ‚æ€§ è¿‡åˆ†è®¾è®¡ ä¸å¿…è¦çš„å¤åˆ¶ æ™¦æ¶©æ€§ è¡¨è¾¾ä»¤äººæ··ä¹± æ•æ·è®¾è®¡è‡´åŠ›äºä¿æŒç³»ç»Ÿè®¾è®¡åœ¨ä»»ä½•æ—¶é—´éƒ½å°½å¯èƒ½ç®€å• å¹²å‡€ å¯Œæœ‰è¡¨ç°åŠ› è®¾è®¡æ¨¡å¼ SOLIDåŸåˆ™ COMMAND æ¨¡å¼ interface Command{ do(); undo(); } ACTIVE OBJECT æ¨¡å¼ while(commandListNotEmpty){ getCommandAndExecute(); } MONSTATE æ¨¡å¼ é€šè¿‡å°è£…æ¥ä½¿æ•´ä¸ªç³»ç»Ÿçš„æŸä¸ªå¯¹è±¡ä»¥å•ä¸€çš„å½¢å¼å±•ç¤º æ— éœ€å¯¹å¤–æš´éœ²å…¶æœ¬èº«æ€§è´¨ NULL OBJECT æ¨¡å¼ ä½¿ç”¨ä¸€ä¸ªç©ºå¯¹è±¡æ¥ä»£æ›¿ç©ºæŒ‡é’ˆ Scrumæ¨¡å‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/è½¯ä»¶æµ‹è¯•.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/è½¯ä»¶æµ‹è¯•.html","title":"è½¯ä»¶æµ‹è¯•","keywords":"","body":" é™æ€åˆ†æ åŠ¨æ€æµ‹è¯• ç›®æ ‡ å‘ç°é”™è¯¯ è½¯ä»¶æµ‹è¯•ä¸è½¯ä»¶è°ƒè¯• è¿‡ç¨‹ åŸåˆ™ å¯¹è®¡ç®—æœºè½¯ä»¶è¿›è¡Œæµ‹è¯•å‰ï¼Œé¦–å…ˆéœ€éµå¾ªè½¯ä»¶æµ‹è¯•åŸåˆ™ï¼Œå³ä¸å®Œå…¨åŸåˆ™çš„éµå®ˆã€‚ä¸å®Œå…¨åŸåˆ™å³ä¸ºè‹¥æµ‹è¯•ä¸å®Œå…¨ã€æµ‹è¯•è¿‡ç¨‹ä¸­æ¶‰åŠå…ç–«æ€§åŸåˆ™çš„éƒ¨åˆ†è¾ƒå¤šï¼Œå¯å¯¹è½¯ä»¶æµ‹è¯•èµ·åˆ°ä¸€å®šå¸®åŠ©ã€‚å› è½¯ä»¶æµ‹è¯•å› æ­¤ç±»å› ç´ å…·æœ‰ä¸€å®šç¨‹åº¦çš„å…ç–«æ€§ï¼Œæµ‹è¯•äººå‘˜èƒ½å¤Ÿå®Œæˆçš„æµ‹è¯•å†…å®¹ä¸å…¶å…ç–«æ€§æˆæ­£æ¯”ï¼Œè‹¥æƒ³ä½¿è½¯ä»¶æµ‹è¯•æ›´ä¸ºæµç•…ã€æµ‹è¯•æ•ˆæœæ›´ä¸ºæœ‰æ•ˆï¼Œé¦–å…ˆéœ€éµå¾ªæ­¤ç±»åŸåˆ™ï¼Œå°†æ­¤ç±»åŸåˆ™è´¯ç©¿æ•´ä¸ªå¼€å‘æµç¨‹ï¼Œä¸æ–­è¿›è¡Œæµ‹è¯•ï¼Œè€Œå¹¶éä¸€æ¬¡æ€§å…¨ç¨‹æµ‹è¯•ã€‚ ç™½ç›’æµ‹è¯• æ§åˆ¶æµç¨‹å›¾ è·¯å¾„æµ‹è¯• è¯­å¥æµ‹è¯• åˆ†æ”¯æµ‹è¯• æ¡ä»¶ç»„åˆæµ‹è¯• å¾ªç¯çš„æµ‹è¯• é»‘ç›’æµ‹è¯• äº‹åŠ¡æµæµ‹è¯• ç­‰ä»·ç±»åˆ’åˆ† è¾¹ç•Œå€¼åˆ†æ æ­¥éª¤ å•å…ƒæµ‹è¯• é›†æˆæµ‹è¯• ç¡®è®¤æµ‹è¯• ç³»ç»Ÿæµ‹è¯• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/é¡¹ç›®ç®¡ç†.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/é¡¹ç›®ç®¡ç†.html","title":"é¡¹ç›®ç®¡ç†","keywords":"","body":" æŒ‡åœ¨é¡¹ç›®æ´»åŠ¨ä¸­è¿ç”¨ä¸“é—¨çš„çŸ¥è¯†ã€æŠ€èƒ½ã€å·¥å…·å’Œæ–¹æ³•ï¼Œä½¿é¡¹ç›®èƒ½å¤Ÿåœ¨æœ‰é™èµ„æºé™å®šæ¡ä»¶ä¸‹ï¼Œå®ç°æˆ–è¶…è¿‡è®¾å®šçš„éœ€æ±‚å’ŒæœŸæœ›çš„è¿‡ç¨‹ CPM é¡¹ç›®ç®¡ç†æ¡†æ¶ é¡¹ç›®ç®¡ç†å†…å®¹ 1ã€é¡¹ç›®èŒƒå›´ç®¡ç† 2ã€é¡¹ç›®æ—¶é—´ç®¡ç† 3ã€é¡¹ç›®æˆæœ¬ç®¡ç† 4ã€é¡¹ç›®è´¨é‡ç®¡ç† 5ã€é¡¹ç›®äººåŠ›èµ„æºç®¡ç† 6ã€é¡¹ç›®æ²Ÿé€šç®¡ç† 7ã€é¡¹ç›®é£é™©ç®¡ç† 8ã€é¡¹ç›®é‡‡è´­ç®¡ç† 9ã€é¡¹ç›®é›†æˆç®¡ç† å·¥å…·å’ŒæŠ€æœ¯ è½¯ä»¶é¡¹ç›®ç®¡ç† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/ç†è®º/CMM.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç†è®º/CMM.html","title":"CMM","keywords":"","body":" è½¯ä»¶è¿‡ç¨‹èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ é«˜è¿‡ç¨‹ ä½è¿‡ç¨‹ äº”çº§æ ‡å‡† åˆå§‹çº§ å¯é‡å¤çº§ å·²å®šä¹‰çº§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:37:58 "},"è½¯ä»¶å·¥ç¨‹/äººæœˆç¥è¯.html":{"url":"è½¯ä»¶å·¥ç¨‹/äººæœˆç¥è¯.html","title":"äººæœˆç¥è¯","keywords":"","body":"äººæœˆç¥è¯ ç¼–ç¨‹çš„è‹¦ä¸ä¹ åˆ›é€  éé‡å¤ äº¤æµ æ¦‚å¿µè¿‡æ—¶ äººæœˆ è½¯ä»¶å¼€å‘æ˜¯ä¸€ç§éœ€è¦äººå‘˜æ²Ÿé€šäº¤æµçš„éä¸ªä½“ç‹¬ç«‹æ€§å·¥ä½œ æŠ•å…¥æ›´å¤šçš„äººå¹¶ä¸èƒ½æ›´å¿«åœ°å®Œæˆå·¥ä½œ å¤–ç§‘æ‰‹æœ¯å¼é˜Ÿä¼ è½¯ä»¶å·¥è‰ºå¼ ç²¾è‹±é¢†å¯¼ å¤§ä¼—è¾…åŠ© ç³»ç»Ÿè®¾è®¡ æ¦‚å¿µå®Œæ•´æ€§ å”¯ä¸€ä¸å˜çš„å˜åŒ–å°±æ˜¯å˜åŒ–æœ¬èº« é¡¹ç›® ç¾ç¥¸é€šå¸¸æ¥è‡ªç™½èšçš„è‚†è™ è€Œéé¾™å·é£çš„ä¾µè¢­ å¤æ‚æ€§æ˜¯è¿™ä¸ªè¡Œä¸šçš„å±æ€§ æ²¡æœ‰é“¶å¼¹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-02 04:48:17 "},"è½¯ä»¶å·¥ç¨‹/è½¯ä»¶å·¥è‰º.html":{"url":"è½¯ä»¶å·¥ç¨‹/è½¯ä»¶å·¥è‰º.html","title":"è½¯ä»¶å·¥è‰º","keywords":"","body":"è½¯ä»¶å·¥è‰º ä¸è½¯ä»¶å·¥ç¨‹ï¼Œè½¯ä»¶å·¥è‰ºæå‡ºäº†ä¸€ç§æˆªç„¶ä¸åŒçš„è§‚ç‚¹ï¼Œä¸ä»¥å·¥ç¨‹åŒ–çš„è§‚ç‚¹çœ‹å¾…è½¯ä»¶å¼€å‘ï¼Œè€Œæ˜¯ä»¥å·¥åŒ çš„è§†è§’æ¥çœ‹å¾…è½¯ä»¶å¼€å‘ ä¸ªä½“è½¯ä»¶è¿‡ç¨‹ï¼Ÿ æ—©æœŸçš„è½¯ä»¶å·¥ç¨‹ ä¹¦ä¸­æåˆ°äº†æ—©æœŸçš„è½¯ä»¶éƒ½æ˜¯ä¸ç¡¬ä»¶ä¸€èµ·å¼€å‘çš„ï¼Œæ‰€ä»¥è½¯ä»¶çš„å¼€å‘å¿…é¡»è¦ç­‰å¾…ç¡¬ä»¶å¼€å‘å®Œæˆ å¹¶ä¸”æœ¬ä¹¦èµåŒäº†è½¯ä»¶å·¥ç¨‹é€‚ç”¨äºè¶…å¤§å‹è½¯ä»¶ç³»ç»Ÿä¸å®‰å…¨æ€§éœ€æ±‚é«˜çš„ç³»ç»Ÿ ä¹¦ä¸­æ‰¹åˆ¤äº†ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹å¿½è§†äº†ä¼˜ç§€è®¾è®¡è€…ã€ç¨‹åºå‘˜çš„ä½œç”¨ ç†è§£è½¯ä»¶å¼€å‘ å¯¹äºå¾ˆå¤šé¡¹ç›®ï¼Œä¼ ç»Ÿçš„è½¯ä»¶å·¥ç¨‹æ–¹æ³•ï¼Œè·å–å¹¶ä¸é€‚ç”¨ è½¯ä»¶å·¥è‰ºä¸ä¼ ç»Ÿçš„å·¥è‰ºå¼‚åŒ éƒ½éœ€è¦å­¦ä¹ å‰ç½®æŠ€æœ¯æ€§çŸ¥è¯† åœ¨å®è·µä¸­è·å¾—æŠ€æœ¯æå‡ éšç€æŠ€æœ¯å‘å±•æ‹¥æœ‰è¶Šæ¥è¶Šå¤šå·¥å…·æˆ–è€…åˆ¶é€ å˜å¾—æ›´ç®€å• è½¯ä»¶å·¥è‰º è½¯ä»¶å¼€å‘æ…¢æ…¢å˜æˆäº†åŠ³åŠ¨å¯†é›†å‹äº§ä¸š å·¥è‰ºæ¯”å·¥ç¨‹å…³æ³¨çš„ç‚¹æ˜¯äººè¿™ä¸ªå› ç´  è½¯ä»¶å·¥è‰ºæ‹’ç»ç²¾ç»†çš„åˆ†å·¥ è½¯ä»¶å·¥è‰ºæ„å‘³ç€ä½¿ç”¨ç¨³å®šçš„æŠ€æœ¯ ä¼šç¼–ç¨‹ä¸ç­‰äºä¼šå¼€å‘è½¯ä»¶ å¤§å‹é¡¹ç›®é€‚ç”¨äºè½¯ä»¶å·¥ç¨‹ï¼Œä¸­å°å‹é¡¹ç›®é€‚ç”¨äºè½¯ä»¶å·¥è‰º æœ€ä½³å®è·µæ¥æºäºè½¯ä»¶å·¥ç¨‹ è½¯ä»¶å¼€å‘ç†åº”æœ‰å…¶ä¹è¶£ã€‚å¦åˆ™ï¼Œå¼€å‘è¿‡ç¨‹å°±æ˜¯é”™çš„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-16 07:18:41 "},"è½¯ä»¶å·¥ç¨‹/é¢†åŸŸé©±åŠ¨è®¾è®¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/é¢†åŸŸé©±åŠ¨è®¾è®¡.html","title":"é¢†åŸŸé©±åŠ¨è®¾è®¡","keywords":"","body":"é¢†åŸŸé©±åŠ¨è®¾è®¡ æ¨¡å‹ æ¨¡å‹ï¼šå¯¹çŸ¥è¯†è¿›è¡Œäº†é€‰æ‹©æ€§çš„ç®€åŒ–å’Œæœ‰æ„çš„ç»“æ„åŒ– æ¨¡å‹ä¸è®¾è®¡ç›¸äº’å½±å“ æ¨¡å‹æ˜¯å›¢é˜Ÿçš„é€šç”¨è¯­è¨€ æ¨¡å‹æ˜¯æµ“ç¼©çš„çŸ¥è¯† æœ‰æ•ˆå»ºæ¨¡çš„è¦ç´  æ¨¡å‹ä¸å®ç°ç»‘å®š å¦‚æœæ¨¡å‹ä¸èƒ½å¸®åŠ©å¼€å‘å¯è¿è¡Œçš„è½¯ä»¶ é‚£å°±æ¯«æ— æ„ä¹‰ å¯»æ‰¾ä¸€ç§å¯ä»¥ç»‘å®šæ¨¡å‹ä¸ç¨‹åºè®¾è®¡çš„è®¾è®¡ å»ºç«‹äº†åŸºäºæ¨¡å‹çš„è¯­è¨€ è•´å«ä¸°å¯Œçš„çŸ¥è¯† æç‚¼æ¨¡å‹ ä¸æ–­å¯¹æ¨¡å‹ç²¾ç®€æˆ–è€…å¢åŠ å…ƒç´  è®¨è®º è¯­è¨€ é¢†åŸŸæ¨¡å‹å¯ä»¥ä½œä¸ºä¸€ç§è¯­è¨€ æ–‡æ¡£ä¸å›¾ æ–‡æ¡£ä¸åº”é‡å¤è¡¨ç¤ºä»£ç å·²ç»æ˜ç¡®è¡¨è¾¾çš„å†…å®¹ é¢†åŸŸ åˆ†å±‚æ¶æ„ ç”¨æˆ·ç•Œé¢å±‚ï¼ˆæˆ–è¡¨ç¤ºå±‚ï¼‰ è´Ÿè´£å‘ç”¨æˆ·æ˜¾ç¤ºä¿¡æ¯å’Œè§£é‡Šç”¨æˆ·æŒ‡ä»¤ã€‚è¿™é‡ŒæŒ‡çš„ç”¨æˆ·å¯ä»¥æ˜¯å¦ä¸€ä¸ªè®¡ç®—æœºç³»ç»Ÿï¼Œä¸ä¸€å®šæ˜¯ä½¿ç”¨ç”¨æˆ·ç•Œé¢çš„äºº åº”ç”¨å±‚ å®šä¹‰è½¯ä»¶è¦å®Œæˆçš„ä»»åŠ¡ï¼Œå¹¶ä¸”æŒ‡æŒ¥è¡¨è¾¾é¢†åŸŸæ¦‚å¿µçš„å¯¹è±¡æ¥è§£å†³é—®é¢˜ã€‚è¿™ä¸€å±‚æ‰€è´Ÿè´£çš„å·¥ä½œå¯¹ä¸šåŠ¡æ¥è¯´æ„ä¹‰é‡å¤§ï¼Œä¹Ÿæ˜¯ä¸å…¶ä»–ç³»ç»Ÿçš„åº”ç”¨å±‚è¿›è¡Œäº¤äº’çš„å¿…è¦æ¸ é“ åº”ç”¨å±‚è¦å°½é‡ç®€å•ï¼Œä¸åŒ…å«ä¸šåŠ¡è§„åˆ™æˆ–è€…çŸ¥è¯†ï¼Œè€Œåªä¸ºä¸‹ä¸€å±‚ä¸­çš„é¢†åŸŸå¯¹è±¡åè°ƒä»»åŠ¡ï¼Œåˆ†é…å·¥ä½œï¼Œä½¿å®ƒä»¬äº’ç›¸åä½œã€‚å®ƒæ²¡æœ‰åæ˜ ä¸šåŠ¡æƒ…å†µçš„çŠ¶æ€ï¼Œä½†æ˜¯å´å¯ä»¥å…·æœ‰å¦å¤–ä¸€ç§çŠ¶æ€ï¼Œä¸ºç”¨æˆ·æˆ–ç¨‹åºæ˜¾ç¤ºæŸä¸ªä»»åŠ¡çš„è¿›åº¦ é¢†åŸŸå±‚ï¼ˆæˆ–æ¨¡å‹å±‚ï¼‰ è´Ÿè´£è¡¨è¾¾ä¸šåŠ¡æ¦‚å¿µï¼Œä¸šåŠ¡çŠ¶æ€ä¿¡æ¯ä»¥åŠä¸šåŠ¡è§„åˆ™ã€‚å°½ç®¡ä¿å­˜ä¸šåŠ¡çŠ¶æ€çš„æŠ€æœ¯ç»†èŠ‚æ˜¯ç”±åŸºç¡€è®¾æ–½å±‚å®ç°çš„ï¼Œä½†æ˜¯åæ˜ ä¸šåŠ¡æƒ…å†µçš„çŠ¶æ€æ˜¯ç”±æœ¬å±‚æ§åˆ¶å¹¶ä¸”ä½¿ç”¨çš„ã€‚**é¢†åŸŸå±‚æ˜¯ä¸šåŠ¡è½¯ä»¶çš„æ ¸å¿ƒ** åŸºç¡€è®¾æ–½å±‚ ä¸ºä¸Šé¢å„å±‚æä¾›é€šç”¨çš„æŠ€æœ¯èƒ½åŠ›ï¼šä¸ºåº”ç”¨å±‚ä¼ é€’æ¶ˆæ¯ï¼Œä¸ºé¢†åŸŸå±‚æä¾›æŒä¹…åŒ–æœºåˆ¶ï¼Œä¸ºç”¨æˆ·ç•Œé¢å±‚ç»˜åˆ¶å±å¹•ç»„ä»¶ï¼Œç­‰ç­‰ã€‚åŸºç¡€è®¾æ–½å±‚è¿˜èƒ½å¤Ÿé€šè¿‡æ¶æ„æ¡†æ¶æ¥æ”¯æŒ4ä¸ªå±‚æ¬¡é—´çš„äº¤äº’æ¨¡å¼ è½¯ä»¶ä¸­çš„æ¨¡å‹ å…³è” ä»£è¡¨é¢†åŸŸä¸­ä¸¤ä¸ªå®ä½“çš„å…³è” ä»¥åŠæŠ€æœ¯é‡Œçš„å…³è” å®ä½“ Entity ç”±æ ‡å¿—æ‰€å®šä¹‰çš„å¯¹è±¡ è¿™ä¸ªæ ‡è¯†æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸€ä¸ªID å€¼å¯¹è±¡ Value Object æ²¡æœ‰æ¦‚å¿µæ ‡è¯†çš„å¯¹è±¡ ä½œä¸ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ é€šå¸¸ç”¨æ¥ä¼ é€’æ¶ˆæ¯ Service æœ‰äº›æ“ä½œæ˜¯æ— æ³•å½’ç±»åˆ°æŸä¸ªå€¼å¯¹è±¡æˆ–è€…å®ä½“ä¸Šé¢ éœ€è¦ä½¿ç”¨Serviceæ¥å°è£…è¿™äº›è¡Œä¸º æ¨¡å— Module å¯¹ä¸€äº›èŒè´£ç±»ä¼¼çš„å¯¹è±¡è¿›è¡Œè¾¹ç•Œä¸Šä¸‹æ–‡å°è£… å»ºæ¨¡èŒƒå¼ å¯¹è±¡èŒƒå¼ éå¯¹è±¡èŒƒå¼ æ··åˆèŒƒå¼ é¢†åŸŸå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ Aggregate Aggregateå°±æ˜¯ä¸€ç»„ç›¸å…³å¯¹è±¡çš„é›†åˆï¼Œæˆ‘ä»¬æŠŠå®ƒä½œä¸ºæ•°æ®ä¿®æ”¹çš„å•å…ƒã€‚æ¯ä¸ªAggregateéƒ½æœ‰ä¸€ä¸ªæ ¹ï¼ˆrootï¼‰å’Œä¸€ä¸ªè¾¹ç•Œï¼ˆboundaryï¼‰ã€‚è¾¹ç•Œå®šä¹‰äº†Aggregateçš„å†…éƒ¨éƒ½æœ‰ä»€ä¹ˆã€‚æ ¹åˆ™æ˜¯Aggregateæ‰€åŒ…å«çš„ä¸€ä¸ªç‰¹å®šEntityã€‚å¯¹Aggregateè€Œè¨€ï¼Œå¤–éƒ¨å¯¹è±¡åªå¯ä»¥å¼•ç”¨æ ¹ï¼Œè€Œè¾¹ç•Œå†…éƒ¨çš„å¯¹è±¡ä¹‹é—´åˆ™å¯ä»¥äº’ç›¸å¼•ç”¨ Factory å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æˆ–åˆ›å»ºæ•´ä¸ªAggregateæ—¶ï¼Œå¦‚æœåˆ›å»ºå·¥ä½œå¾ˆå¤æ‚ï¼Œæˆ–è€…æš´éœ²äº†è¿‡å¤šçš„å†…éƒ¨ç»“æ„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨Factoryè¿›è¡Œå°è£…ã€‚ åˆ›å»ºæ–¹æ³•è¦æ˜¯åŸå­çš„ å·¥å‚åº”è¯¥åˆ›å»ºæŠ½è±¡ç±»å‹ è€Œä¸æ˜¯å…·ä½“ç±» Repositry å®¢æˆ·éœ€è¦ä¸€ç§æœ‰æ•ˆçš„æ–¹å¼æ¥è·å–å¯¹å·²å­˜åœ¨çš„é¢†åŸŸå¯¹è±¡çš„å¼•ç”¨ Repositoryæ˜¯ä¸€ä¸ªç®€å•çš„æ¦‚å¿µæ¡†æ¶ï¼Œå®ƒå¯ç”¨æ¥å°è£…å¯¹æ•°æ®åº“çš„æ£€ç´¢æŠ€æœ¯ å¯¹ç±»å‹è¿›è¡ŒæŠ½è±¡ å……åˆ†åˆ©ç”¨ä¸å®¢æˆ·ç«¯è§£è€¦çš„ä¼˜ç‚¹ å°†äº‹åŠ¡çš„æ§åˆ¶æƒäº¤ç»™å®¢æˆ· é‡æ„ ä¸ºå®ç°æ›´æ·±å±‚æ¬¡æ¨¡å‹è€Œè¿›è¡Œé‡æ„ çªç ´ æç‚¼æ¦‚å¿µ æœ‰æ²¡æœ‰ä¸€äº›æœ¯è¯­èƒ½å¤Ÿç®€æ´åœ°è¡¨è¾¾å‡ºå¤æ‚çš„æ¦‚å¿µ å€ŸåŠ©é¢†åŸŸä¸“å®¶ ä¹¦ç± ä¸æ–­å°è¯• éšå¼æ¦‚å¿µ æ³¨æ„çº¦æŸ Specification æ¨¡å¼å°±å¯ä»¥ç”¨æ¥çº¦æŸå¯¹è±¡çŠ¶æ€ å°†è¿‡ç¨‹æç‚¼ä¸ºé¢†åŸŸå¯¹è±¡ æŸ”æ€§è®¾è®¡ ä¹äºä½¿ç”¨ æ˜“äºä¿®æ”¹ æ¨¡å¼ï¼šIntention-Revealing Interfaces ä½¿ç”¨å°è£…æ¥è§£é‡Šä»£ç çš„æ„å›¾ æ¨¡å¼ï¼šSide-Effect-Free Function å°†æ“ä½œç²—ç•¥åˆ†ä¸ºæœ‰å‰¯ä½œç”¨çš„å‘½ä»¤ä»¥åŠæ— å‰¯ä½œç”¨çš„æŸ¥è¯¢ æ¨¡å¼ï¼šAssertion å£°æ˜å‰ç½®æ¡ä»¶ä¸åç½®æ¡ä»¶ æ¨¡å¼ï¼šConceptual Contour æ¦‚å¿µè½®å»“ å°†è®¾è®¡å…ƒç´ ç»„ç»‡æˆå†…èšçš„å•å…ƒ æ¨¡å¼ï¼šStandalong Class ç±»å°½å¯èƒ½ä¿æŒä¸å…¶ä»–ç±»çš„ä½è€¦åˆ ä»¥æ­¤é™ä½ä¾èµ–å¸¦æ¥çš„å¤æ‚åº¦ æ¨¡å¼ï¼šClosure Of Operation é—­åˆæ“ä½œ å…¥å‚ç±»å‹ä¸å‡ºå‚ç±»å‹ç›¸åŒ å£°æ˜å¼è®¾è®¡ æŠŠä»£ç å†™æˆä¸€ç§å¯æ‰§è¡Œçš„è§„åˆ™ ä¹Ÿå°±è¯´å¿…é¡»éµå®ˆæŸç§é¢„å…ˆå®šä¹‰å¥½çš„è§„åˆ™ åŸºäºè§„åˆ™çš„ç¼–ç¨‹ DSL åˆ‡å…¥é—®é¢˜ åˆ†å‰²å­é¢†åŸŸ å°½å¯èƒ½åˆ©ç”¨å·²æœ‰çš„å½¢å¼ æˆ˜ç•¥è®¾è®¡ ä¿æŒæ¨¡å‹çš„å®Œæ•´æ€§ çœ‹ä¼¼ç›¸åŒçš„æ¦‚å¿µå…¶å®å¹¶ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ æ¨¡å¼ï¼šBounded Context é™å®šæ¨¡å‹çš„å·¥ä½œèŒƒå›´ æ¨¡å¼ï¼šContinuous Integration ä½¿ç”¨CIå¿«é€Ÿå‘ç°æ¨¡å‹çš„é”™è¯¯ æ¨¡å¼ï¼šContext Map ä½¿ç”¨è¯¥æ¨¡å¼æè¿°ä¸¤ä¸ªè¾¹ç•Œä¸Šä¸‹æ–‡ä¹‹é—´çš„å…³ç³» æ¨¡å¼ï¼šShared Kernel æ¨¡å¼ï¼šCustomer/SupplierDevelopment Team å»ºç«‹ä¸Šä¸‹æ¸¸ç³»ç»Ÿå…³ç³» æ¨¡å¼ï¼šConformist ä½¿ç”¨æ‰¿è¯ºç»´æŠ¤ä¸Šä¸‹æ¸¸ç³»ç»Ÿå…³ç³» æ¨¡å¼ï¼šAnticorruption Layer å°è£…é—ç•™/å¤–éƒ¨ç³»ç»Ÿ æ¨¡å¼ï¼šSeparate Way å­ç³»ç»Ÿåˆ†é“æ‰¬é•³ ç‹¬ç«‹æ¼”åŒ– ç»§æ‰¿æ€»æ˜¯ä»£ä»·é«˜æ˜‚ è€Œä¸”åˆæ˜¯è·ç›Šå´å¾ˆå° æ¨¡å¼ï¼šOpen Host Service å®šä¹‰ä¸€å¥—Service æš´éœ²ç»™å…¶ä»–ç³»ç»Ÿ æ¨¡å¼ï¼šPublished Language ä½¿ç”¨ä¸€ç§é€šç”¨çš„è¯­è¨€ä½œä¸ºé€šä¿¡åª’ä»‹ ç²¾ç‚¼ æ¨¡å¼ï¼šCore Domain é’ˆå¯¹æ ¸å¿ƒé¢†åŸŸæ¨¡å‹è¿›è¡Œä¼˜åŒ–ã€å¼€å‘ æ¨¡å¼ï¼šGneric Subdomain é™ä½éæ ¸å¿ƒé¢†åŸŸæ¨¡å‹çš„ä¼˜å…ˆçº§ æ¨¡å¼ï¼šDomain Vision Statement ç®€çŸ­æè¿°é¢†åŸŸæ¨¡å‹ æ¨¡å¼ï¼šHighlighted Core æ ‡è®°æ ¸å¿ƒé¢†åŸŸæ¨¡å‹ç›¸å…³å…ƒç´  æ¨¡å¼ï¼šCohesive Mechanism å½“æ¨¡å‹çš„æŸäº›è¡Œä¸ºå˜å¾—å¤æ‚æ—¶ å°†è¿™äº›è¡Œä¸ºæŠ½ç¦»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ¡†æ¶é‡Œ æ¨¡å¼ï¼šSegregated Core å¢å¼ºCoreçš„å†…èšæ€§ æ¨¡å¼ï¼šAbstract Core å¯¹æ ¸å¿ƒé¢†åŸŸè¿›ä¸€æ­¥æŠ½è±¡ é™ä½å¤æ‚åº¦ å¤§å‹ç»“æ„ é€šè¿‡é‡æ„æ¥å¾—åˆ°è¿™äº›ç»“æ„ æ¨¡å¼ï¼šEvolving Order è®©ç»“æ„éšç€ä»£ç ä¸€èµ·æ¼”å˜ æ¨¡å¼ï¼šSystem Metaphor ä¸€ç§ä¿ƒè¿›ç³»ç»Ÿä¸€è‡´æ€§çš„éšå–» æ¨¡å¼ï¼šResponsibility Layer æ³¨æ„ç³»ç»Ÿä¸­çš„ä¾èµ– æ ¹æ®ä¾èµ–å¯èƒ½ä¼šå½¢æˆè‡ªç„¶çš„å±‚æ¬¡ç»“æ„ è¿›è€Œè¿›è¡ŒæŠ½å– æ¨¡å¼ï¼šKnowledge Level åˆ†å±‚æé«˜å®šåˆ¶çµæ´»åº¦ æ¨¡å¼ï¼šPluggable Component Framework è®¾è®¡ä¸€ä¸ªå¯æ’æ‹”çš„çµæ´»æ¡†æ¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-27 02:47:07 "},"è½¯ä»¶å·¥ç¨‹/DevOps.html":{"url":"è½¯ä»¶å·¥ç¨‹/DevOps.html","title":"DevOps","keywords":"","body":"DevOps DevOpsï¼ˆDevelopmentå’ŒOperationsçš„ç»„åˆè¯ï¼‰æ˜¯ä¸€ç§é‡è§†â€œè½¯ä»¶å¼€å‘äººå‘˜ï¼ˆDevï¼‰â€å’Œâ€œITè¿ç»´æŠ€æœ¯äººå‘˜ï¼ˆOpsï¼‰â€ä¹‹é—´æ²Ÿé€šåˆä½œçš„æ–‡åŒ–ã€è¿åŠ¨æˆ–æƒ¯ä¾‹ã€‚é€è¿‡è‡ªåŠ¨åŒ–â€œè½¯ä»¶äº¤ä»˜â€å’Œâ€œæ¶æ„å˜æ›´â€çš„æµç¨‹ï¼Œæ¥ä½¿å¾—æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒè½¯ä»¶èƒ½å¤Ÿæ›´åŠ åœ°å¿«æ·ã€é¢‘ç¹å’Œå¯é ã€‚ ä»£ç æ‰˜ç®¡ è™šæ‹ŸåŒ– æŒç»­é›†æˆã€äº¤ä»˜ æ— ç¼ºé™·ç¼–ç¨‹ç›®æ ‡ è½¯ä»¶å¼€å‘çš„å›°éš¾ å¤æ‚ ä¸å¯è§ å¯å˜ ä¸€è‡´æ€§ï¼šå…¼å®¹ è½¯ä»¶å‘å±•çš„ä¸‰ä¸ªé˜¶æ®µ è½¯ä»¶ä¾é™„äºç¡¬ä»¶ è½¯ä»¶æˆä¸ºç‹¬ç«‹äº§å“ ç½‘ç»œåŒ–æœåŠ¡åŒ– ä¸ªä½“è½¯ä»¶è¿‡ç¨‹ï¼ˆPSPï¼‰ ä¸è½¯ä»¶è´¨é‡ï¼ˆæ»¡è¶³ç”¨æˆ·çš„æœŸæœ›ï¼‰æ¯æ¯ç›¸å…³ å…¸å‹çš„ç”¨æˆ·æœŸæœ› æ­£å¸¸å·¥ä½œ æ€§èƒ½ éåŠŸèƒ½éœ€æ±‚ï¼ˆå®‰å…¨ã€å¯é ï¼‰ è´¨é‡ç­–ç•¥ ç¼ºé™·ç®¡ç† åŸºæœ¬æµç¨‹ ç­–åˆ’ è®¾è®¡ ç¼–ç  å•å…ƒæµ‹è¯• æ€»ç»“ åŸºæœ¬åŸç† è½¯ä»¶ç³»ç»Ÿçš„è´¨é‡ç”±ç»„æˆè¯¥ç³»ç»Ÿçš„è´¨é‡æœ€å·®ç»„ä»¶å†³å®š è½¯ä»¶è´¨é‡ä¸è½¯ä»¶å·¥ç¨‹å¸ˆæ¯æ¯ç›¸å…³ å»ºç«‹æŒç»­è‡ªæˆ‘æ”¹è¿›æœºåˆ¶ è¿‡ç¨‹åº¦é‡ è§„æ¨¡ ç²¾ç¡®çš„è§„æ¨¡åº¦é‡åœ¨æ—©æœŸå¾ˆéš¾ æ—¶é—´ è‰¯å¥½çš„æ—¶é—´åº¦é‡æœ‰åŠ©äºå·¥ç¨‹å¸ˆçš„èƒ½åŠ› ç¼ºé™· æ—¥ç¨‹ ä¸ºä»€ä¹ˆè¦åº¦é‡ ä½“ç°å†³ç­–è€…å¯¹è¦å®ç°ç›®æ ‡çš„å…³åˆ‡ç¨‹åº¦ é«˜è´¨é‡çš„å¼€å‘æ˜¯è®¡åˆ’å‡ºæ¥çš„ è´¨é‡è·¯å¾„ æµ‹è¯•æé«˜è´¨é‡ è¯„å®¡æ¶ˆé™¤ç¼ºé™·æé«˜è´¨é‡ PSP è¯„å®¡æ‰‹æ®µæ¶ˆé™¤ç¼ºé™·æ¯”æµ‹è¯•æ¶ˆé™¤æ•ˆç‡æ›´é«˜ æœ‰æ•ˆçš„è¯„å®¡ è¯„å®¡æ£€æŸ¥è¡¨ åˆ†ææ•´ç†å†å²é¡¹ç›®çš„ç¼ºé™·ï¼Œè¾…åŠ©å¼€å±•è¯„å®¡ è´¨é‡æ§åˆ¶æŒ‡æ ‡ è®¾è®¡è´¨é‡ï¼šè®¾è®¡çš„æ—¶é—´åº”è¯¥å¤§äºç¼–ç çš„æ—¶é—´ è®¾è®¡è¯„å®¡è´¨é‡:è®¾è®¡è¯„å®¡çš„æ—¶é—´åº”è¯¥å¤§äºè®¾è®¡æ—¶é—´çš„50% ä»£ç è¯„å®¡è´¨é‡:ä»£ç è¯„å®¡æ—¶é—´åº”è¯¥å¤§äºç¼–ç æ—¶é—´çš„50% ä»£ç è´¨é‡:ä»£ç çš„ç¼–è¯‘ç¼ºé™·å¯†åº¦åº”å½“å°äº10ä¸ª/åƒè¡Œ ç¨‹åºè´¨é‡:ä»£ç å•å…ƒæµ‹è¯•ç¼ºé™·å¯†åº¦åº”å½“å°äº5ä¸ª/åƒè¡Œ å…¶ä»– ç¯å¢ƒ å¯¹é˜…è¯»ä»£ç çš„è¾…åŠ© æ—¶æœº å•å…ƒæµ‹è¯•ä¹‹å‰ ä¸ªäººè¯„å®¡ä¸å°ç»„è¯„å®¡ç›¸ç»“åˆ ç¼ºé™·é¢„é˜² æ•æ·è½¯ä»¶å¼€å‘ åº”å¯¹æ¨¡ç³Šéœ€æ±‚ã€å¿«é€Ÿå˜åŒ–éœ€æ±‚çš„æœ€ä½³æ–¹æ³• ä»·å€¼è§‚ ä¸ªä½“å’Œäº’åŠ¨ é«˜äº æµç¨‹å’Œå·¥å…· å·¥ä½œçš„è½¯ä»¶ é«˜äº è¯¦å°½çš„æ–‡æ¡£ å®¢æˆ·åˆä½œ é«˜äº åˆåŒè°ˆåˆ¤ å“åº”å˜åŒ– é«˜äº éµå¾ªè®¡åˆ’ å°½ç®¡å³é¡¹æœ‰ä»·å€¼ï¼Œä½†æ˜¯å·¦é¡¹å¤§äºå³é¡¹ ç®€å• åé¦ˆ æ²Ÿé€š å‹‡æ°” å°Šé‡ åŸåˆ™ å¿«é€Ÿåé¦ˆ åŠæ—©äº¤ä»˜ ç®€æ´ä¸ºæœ¬ æ–¹æ³• æé™ç¼–ç¨‹ scrum kanban kanban æ¸è¿›å¢é‡å¼è¿‡ç¨‹æ”¹è¿›æ–¹æ³•å­¦ å¯è§†åŒ–å·¥ä½œæµ é™åˆ¶è¿›è¡Œä¸­çš„å·¥ä½œ ç‰©ç†çœ‹æ¿ï¼ˆä¿¡æ¯è¾å°„å¼ºï¼‰ ä½¿ç”¨ åˆ—éå›ºå®šçš„ï¼Œéšæ—¶é—´ç©ºé—´å˜åŒ–è€Œå˜åŒ– å¯ä»¥æ ¹æ®æ­¤çœ‹åˆ°å·¥ä½œçŠ¶æ€ä¸æ½œåœ¨é—®é¢˜ è®°äº‹è´´å†™ä»€ä¹ˆï¼Ÿ å·¥ä½œæè¿°Â· ç”µå­ç³»ç»Ÿå”¯ä¸€æ ‡è¯† å®ŒæˆæœŸé™ è´Ÿè´£äºº å·¥ä½œç±»å‹ ä¿è¯å·¥ä½œé¡¹çš„ç²’åº¦ç²—ç»†å·®åˆ«ä¸å¤§ é™ä½å‰ç½®æ—¶é—´ï¼ˆä»»åŠ¡ä»å¼€å§‹åˆ°ç»“æŸçš„æ—¶é—´ï¼‰æ˜¯ä¸€ä¸ªè¿½æ±‚ç›®æ ‡ éœ€è¦é™åˆ¶æ¯åˆ—ä¸­çš„å¡ç‰‡ å®è·µ æŠ€æœ¯å®è·µï¼š CI TDD é‡æ„ ç»“å¯¹ç¼–ç¨‹ ç²¾ç›Šæ€æƒ³ æ¶ˆé™¤æµªè´¹ ä¸èƒ½å¢åŠ ä»·å€¼çš„è¡Œä¸ºå³ä¸ºæµªè´¹ å¢å¼ºå­¦ä¹ ï¼ˆé¡¹ç›®å†…å®¹ï¼‰ å°½é‡å»¶è¿Ÿå†³å®š å°½å¿«å‘å¸ƒï¼Œå°½å¿«äº¤ä»˜ ä¸‹æ”¾æƒåŠ› å†…ç½®å®Œæ•´æ€§ å…¨å±€ä¼˜åŒ– å·¥å…· ä»»åŠ¡æ¿... è½¯ä»¶æ¶æ„æ¼”åŒ– å•ä½“æ¶æ„ å…¨éƒ¨åŠŸèƒ½è¢«é›†æˆåœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªå•ä¸€çš„å•å…ƒ åˆ†å±‚æ¶æ„ å…³æ³¨ç‚¹åˆ†ç¦» æ¯ä¸€å±‚æœ‰ç‰¹å®šçš„èŒè´£ï¼Œä¸Šå±‚åªèƒ½ç›´æ¥è®¿é—®ä¸‹å±‚ é¢å‘æœåŠ¡æ¶æ„ å…³æ³¨ç‚¹åˆ†ç¦» å»¶è¿Ÿç»‘å®šï¼ˆè®¾è®¡åˆ°è¿è¡Œï¼‰ æ¶ˆæ¯æ€»çº¿ä¸æœåŠ¡ç¼–æ’å¼•æ“ å¾®æœåŠ¡æ¶æ„ å›´ç»•ä¸šåŠ¡èƒ½åŠ›æ„å»ºçš„å¯ç‹¬ç«‹å¼€å‘éƒ¨ç½²çš„å°å‹å•å…ƒï¼Œä½¿ç”¨è¿œç¨‹è°ƒç”¨è¿›è¡Œé€šä¿¡ æ ¸å¿ƒæ¨¡å¼ æœåŠ¡æ³¨å†Œä¸å‘ç° apiç½‘å…³ ç†”æ–­å™¨ æŒ‘æˆ˜ï¼š å¯¹è¿ç»´ç›‘æ§çš„æŒ‘æˆ˜ å‘å¸ƒæ›´å¤æ‚ï¼Œå‡ºç°åˆ†å¸ƒå¼é—®é¢˜ éƒ¨ç½²ä¾èµ–æ€§å¼º é€šä¿¡æˆæœ¬é«˜ äº‘åŸç”Ÿä¸å®¹å™¨ ç°ä»£åº”ç”¨çš„åäºŒèŒƒå¼ äº‘åŸç”Ÿ å¯å¿«é€Ÿå¯é äº¤ä»˜è½¯ä»¶ å¾®æœåŠ¡ DevOps æŒç»­äº¤ä»˜ ä½¿ç”¨æ•æ·å¼€å‘æ¥å®ç°åŠ å¿«å‘å¸ƒé€Ÿåº¦ å®¹å™¨ å°†ä¸åŒç‰¹ç‚¹çš„åº”ç”¨æ‰“åŒ…æˆä¸€ä¸ªæ ‡å‡†åŒ–çš„åº”ç”¨ æœ‰æ•ˆåˆ†é…ä¸ç®¡ç†ç‰©ç†èµ„æº èµ„æºéš”ç¦» å®¹å™¨ç¼–æ’ä¸è°ƒåº¦ åˆ†å¸ƒå¼åº”ç”¨ç”±å¤šä¸ªå®¹å™¨å®ä¾‹ç»„æˆ éœ€è¦ä¸€ç§é«˜æ•ˆçš„æ–¹æ³•æ¥ç®¡ç†å®¹å™¨é›†ç¾¤ å®¹å™¨ä¸devops æ­¤å‰äº¤ä»˜çš„ä¸œè¥¿æ˜¯ä»£ç  å½“ä½¿ç”¨å®¹å™¨ä¹‹åï¼Œäº¤ä»˜çš„å°±æ˜¯ä¸€ä¸ªé•œåƒ XaaS ä»€ä¹ˆ å³ æœåŠ¡ SaaS ä¸­å¿ƒåŒ–çš„è½¯ä»¶çš„åˆ†å‘æ–¹å¼ï¼Œé€šè¿‡ç½‘ç»œä½¿ç”¨è½¯ä»¶ IaaS è™šæ‹ŸåŒ–ç¡¬ä»¶èµ„æºç»™ç”¨æˆ· PaaS æä¾›ç»™å¼€å‘è€…ä½¿ç”¨ ITæœåŠ¡æ ‡å‡† CMMI-SVC ITIL ISO20000 ITSS å·¥å…·é“¾ ååŒå¼€å‘ å·¥ä½œå¯è§†åŒ–ã€‚åŠ å¼ºæ²Ÿé€š JIRA KanBan Rally æŒç»­é›†æˆ jenkins ç‰ˆæœ¬ç®¡ç† git svn ç¼–è¯‘å·¥å…· ant maven gradle msbuild æµ‹è¯•å·¥å…· junit seleniumï¼ˆuiæµ‹è¯•ï¼‰ cucumberï¼ˆè‡ªåŠ¨åŒ–éªŒæ”¶ï¼‰ fitnesseï¼ˆç®¡ç†ï¼‰ ç›‘æ§ nagios zabbix æŒç»­äº¤ä»˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-05-08 12:36:40 "},"è½¯ä»¶å·¥ç¨‹/ServiceComb.html":{"url":"è½¯ä»¶å·¥ç¨‹/ServiceComb.html","title":"ServiceComb","keywords":"","body":" è‡´åŠ›äºå¸®åŠ©ä¼ä¸šã€ç”¨æˆ·å’Œå¼€å‘è€…å°†ä¼ä¸šåº”ç”¨è½»æ¾å¾®æœåŠ¡åŒ–ä¸Šäº‘ï¼Œå¹¶å®ç°å¯¹å¾®æœåŠ¡åº”ç”¨çš„é«˜æ•ˆè¿ç»´ç®¡ç†ã€‚å…¶æä¾›ä¸€ç«™å¼å¼€æºå¾®æœåŠ¡è§£å†³æ–¹æ¡ˆï¼ŒèåˆSDKæ¡†æ¶çº§ã€0ä¾µå…¥ServiceMeshåœºæ™¯å¹¶æ”¯æŒå¤šè¯­è¨€ è®¾è®¡æ€æƒ³ ç¼–ç¨‹æ¨¡å‹å’Œé€šä¿¡æ¨¡å‹åˆ†ç¦»ï¼Œä¸åŒçš„ç¼–ç¨‹æ¨¡å‹å¯ä»¥çµæ´»ç»„åˆä¸åŒçš„é€šä¿¡æ¨¡å‹ã€‚åº”ç”¨å¼€å‘è€…åœ¨å¼€å‘é˜¶æ®µåªå…³æ³¨æ¥å£å¼€å‘ï¼Œéƒ¨ç½²é˜¶æ®µçµæ´»åˆ‡æ¢é€šä¿¡æ–¹å¼ï¼›æ”¯æŒlegacyç³»ç»Ÿçš„åˆ‡æ¢ï¼Œlegacyç³»ç»Ÿåªéœ€è¦ä¿®æ”¹æœåŠ¡å‘å¸ƒçš„é…ç½®æ–‡ä»¶ï¼ˆæˆ–è€…annotationï¼‰ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä»£ç ã€‚ç°é˜¶æ®µæ”¯æŒSpringMVCã€JAX-RSå’Œé€æ˜RPCä¸‰ç§å¼€å‘æ–¹å¼ã€‚ å†…å»ºAPI-firstæ”¯æŒã€‚é€šè¿‡å¥‘çº¦è§„èŒƒåŒ–å¾®æœåŠ¡å¼€å‘ï¼Œå®ç°è·¨è¯­è¨€çš„é€šä¿¡ï¼Œå¹¶æ”¯æŒé…å¥—çš„è½¯ä»¶å·¥å…·é“¾ï¼ˆå¥‘çº¦ç”Ÿæˆä»£ç ã€ä»£ç ç”Ÿæˆå¥‘çº¦ç­‰ï¼‰å¼€å‘ï¼Œæ„å»ºå®Œæ•´çš„å¼€å‘ç”Ÿæ€ã€‚ å®šä¹‰äº†å¸¸ç”¨çš„å¾®æœåŠ¡è¿è¡Œæ¨¡å‹ï¼Œå°†å¾®æœåŠ¡ä»å‘ç°åˆ°äº¤äº’è¿‡ç¨‹ä¸­çš„å„ç§å®¹é”™æ‰‹æ®µéƒ½å°è£…èµ·æ¥ã€‚è¯¥è¿è¡Œæ¨¡å‹æ”¯æŒè‡ªå®šä¹‰å’Œæ‰©å±•ã€‚ æ³¨å†Œä¸­å¿ƒ å®‰è£…è¿è¡Œ docker pull servicecomb/service-center docker run -d -p 30100:30100 servicecomb/service-center:latest MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"è½¯ä»¶å·¥ç¨‹/ç¼–ç /ç¼–ç .html":{"url":"è½¯ä»¶å·¥ç¨‹/ç¼–ç /ç¼–ç .html","title":"ç¼–ç ","keywords":"","body":"ç¼–ç  ä»£ç é˜²è… ä¿¡æ¯éšè—ï¼šéšè—çš„æœ¬è´¨æ˜¯ä¸ºäº†é¿å…è¿‡å¤šçš„ä¾èµ– æŒç»­æ”¹è¿›ï¼šä¸è¦æå‰è®¾è®¡ æŒç»­åœ°å»å“åº”å˜åŒ– MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-06 02:05:29 "},"è½¯ä»¶å·¥ç¨‹/ç¼–ç /ä»£ç é‡æ„.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç¼–ç /ä»£ç é‡æ„.html","title":"ä»£ç é‡æ„","keywords":"","body":"ä»£ç é‡æ„ åœ¨ä¸æ”¹å˜ä»£ç å¤–åœ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œå¯¹ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œä»¥æ”¹è¿›ç¨‹åºçš„å†…éƒ¨ç»“æ„ å¦‚æœä½ è¦ç»™ç¨‹åºæ·»åŠ ä¸€ä¸ªç‰¹æ€§ï¼Œä½†å‘ç°ä»£ç å› ç¼ºä¹è‰¯å¥½çš„ç»“æ„è€Œä¸æ˜“äºè¿›è¡Œæ›´æ”¹ï¼Œé‚£å°±å…ˆé‡æ„é‚£ä¸ªç¨‹åºï¼Œä½¿å…¶æ¯”è¾ƒå®¹æ˜“æ·»åŠ è¯¥ç‰¹æ€§ï¼Œç„¶åå†æ·»åŠ è¯¥ç‰¹æ€§ã€‚ é‡æ„å‰ï¼Œå…ˆæ£€æŸ¥è‡ªå·±æ˜¯å¦æœ‰ä¸€å¥—å¯é çš„æµ‹è¯•ä»£ç ã€‚è¿™äº›æµ‹è¯•å¿…é¡»æœ‰è‡ªæˆ‘æ£€éªŒèƒ½åŠ›ã€‚ é‡æ„æŠ€æœ¯å°±æ˜¯ä»¥å¾®å°çš„æ­¥ä¼ä¿®æ”¹ç¨‹åºã€‚ å¦‚æœä½ çŠ¯ä¸‹é”™è¯¯ï¼Œå¾ˆå®¹æ˜“ä¾¿å¯å‘ç°å®ƒã€‚ é‡æ„åŸåˆ™ ä¸ºä½•é‡æ„ æ”¹è¿›è½¯ä»¶çš„è®¾è®¡ ä½¿ä»£ç æ›´å®¹æ˜“ç†è§£ æé«˜ç¼–ç¨‹é€Ÿåº¦ ä½•æ—¶é‡æ„ é¢„å¤‡æ€§é‡æ„ï¼šæ·»åŠ æ–°åŠŸèƒ½çš„æ—¶å€™ å¸®åŠ©ç†è§£çš„é‡æ„ï¼šä¸ºäº†ç†è§£ç³»ç»Ÿæˆ–è€…ä»£ç æ‰€åšçš„å·¥ä½œ æ¡åƒåœ¾å¼é‡æ„ï¼šå¶ç„¶å‘ç°ä¸€å¤„åä»£ç ï¼Œé‡æ„å®ƒ ä¿®å¤é”™è¯¯çš„æ—¶å€™ ä»£ç å®¡æŸ¥çš„æ—¶å€™ ä½•æ—¶ä¸è¯¥é‡æ„ ä¸ä¼šè¢«ç”¨åˆ°çš„ä»£ç  é‡æ„çš„ä»£ä»·æ¯”é‡å†™çš„ä»£ä»·è¿˜é«˜çš„ä»£ç  å¦‚ä½•ä¿è¯é‡æ„çš„æ­£ç¡®æ€§ æµ‹è¯•æ˜¯ä¿è¯ä»£ç æ­£ç¡®æ€§çš„å¼ºæœ‰åŠ›ä¿è¯ è‡ªåŠ¨åŒ– æµ‹è¯•ä¸é€šè¿‡çœŸçš„ä¼šå¤±è´¥ é¢‘ç¹è¿è¡Œæµ‹è¯• æ³¨æ„è¾¹ç•Œæ¡ä»¶ ä½¿ç”¨æµ‹è¯•æ¥é‡ç°bug ä»£ç çš„åå‘³é“ å¥‡æ€ªçš„å‘½å é‡å¤ä»£ç  è¿‡é•¿çš„å‡½æ•° è¿‡é•¿çš„å‚æ•°åˆ—è¡¨ å…¨å±€æ•°æ® å¯å˜æ•°æ® å‘æ•£å¼å˜åŒ– ä¸€ä¸ªä¿®æ”¹ä¼šå½±å“åˆ°è®¸å¤šåœ°æ–¹ éœ°å¼¹å¼ä¿®æ”¹ ä¸€ä¸ªå˜åŒ–éœ€è¦ä¿®æ”¹è®¸å¤šåœ°æ–¹ è¿‡åº¦ä¾èµ–å¤–éƒ¨æ¨¡å— ç±»ä¸­é‡å¤çš„æ•°æ® åŸºæœ¬ç±»å‹åæ‰§ æ€»è§‰å¾—åŸºæœ¬ç±»å‹æ•ˆç‡æ›´é«˜ï¼Œä¸æ„¿ä½¿ç”¨å¯¹è±¡ å¤§é‡é‡å¤çš„switch/if å¤æ‚çš„å¾ªç¯è¯­å¥ å†—ä½™çš„å…ƒç´  ä¸€ä¸ªç®€å•çš„å‡½æ•°ã€ä¸€ä¸ªç®€å•çš„æ“ä½œ è¿‡åº¦è®¾è®¡çš„é€šç”¨æ€§ è¿‡åº¦è€ƒè™‘äº†å¯¹è±¡/å‡½æ•°çš„ç”¨é€” ä¸´æ—¶å­—æ®µ è¿‡é•¿çš„å¯¹è±¡è°ƒç”¨ æ²¡æœ‰å¿…è¦çš„ä¸­é—´å¯¹è±¡ ä¸¤ä¸ªæ¨¡å—è€¦åˆè¿‡ç´§ è€ƒè™‘å°†å®ƒä»¬ç§»åŠ¨åˆ°æ–°æ¨¡å— è¿‡å¤§çš„ç±» è¿‡åº¦ç›¸ä¼¼çš„ç±» çº¯æ•°æ®ç±» æ•°æ®å’Œè¡Œä¸ºæ²¡æœ‰åœ¨ä¸€èµ· ç»§æ‰¿çˆ¶ç±»ï¼Œä½†ä¸æä¾›çˆ¶ç±»çš„æ¥å£ é‡æ„åˆ—è¡¨ å‡½æ•°/å˜é‡ æç‚¼å‡½æ•° æ ¹æ®ä»£ç æ„å›¾è¿›è¡Œæ‹†åˆ†å‡½æ•°ï¼Œå¦‚æœå‘ç°ä¸€æ®µä»£ç éœ€è¦é˜…è¯»ä¸€ä¼šæ‰èƒ½çŸ¥é“æ˜¯å¹²å˜›çš„ï¼Œé‚£å°±æç‚¼å®ƒ function printOwing(invoice) { ã€€printBanner(); ã€€let outstanding = calculateOutstanding(); ã€€//print details ã€€console.log(`name: ${invoice.customer}`); ã€€console.log(`amount: ${outstanding}`); } â†“ function printOwing(invoice) { ã€€printBanner(); ã€€let outstanding = calculateOutstanding(); ã€€printDetails(outstanding); ã€€function printDetails(outstanding) { ã€€ã€€console.log(`name: ${invoice.customer}`); ã€€ã€€console.log(`amount: ${outstanding}`); ã€€} } å†…è”å‡½æ•° æç‚¼å‡½æ•°çš„åå‘æ“ä½œ å¦‚æœå‡½æ•°çš„ä»£ç è·Ÿå‡½æ•°åç§°ä¸€æ ·æ‹¥æœ‰å¯è¯»æ€§ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å†…è”å®ƒ æç‚¼å˜é‡ ç»™ä¸€äº›è¡¨è¾¾å¼èµ·ä¸ªæœ‰æ„ä¹‰çš„åç§°ï¼Œæœ‰åŠ©äºé˜…è¯»ã€è°ƒè¯• return order.quantity * order.itemPrice - ã€€Math.max(0, order.quantity - 500) * order.itemPrice * 0.05 + ã€€Math.min(order.quantity * order.itemPrice * 0.1, 100) â†“ const basePrice = order . quantity * order . itemPrice; const quantityDiscount = Math. max(0, order . quantity - 500) * order. itemPrice * 0.05; const shipping = Math. min(basePrice * 0.1, 100); return basePrice - quantityDiscount + shipping; å†…è”å˜é‡ ä¸Šè¿°çš„åå‘é‡æ„ æœ‰äº›è¡¨è¾¾å¼æœ¬èº«å°±å·²ç»å¾ˆæœ‰è¯­ä¹‰ï¼Œæ²¡å¿…è¦å¼•å…¥å˜é‡å†æ¥è¯´æ˜ æ”¹å˜å‡½æ•°ç­¾å æ³¨æ„å‡½æ•°ç­¾åçš„ä¸Šä¸‹æ–‡ï¼Œä¸åŒçš„ä¸Šä¸‹æ–‡é€šç”¨æ€§ç¨‹åº¦ä¸ä¸€æ · ç›´æ¥ä¿®æ”¹ è¿ç§»å¼ æš´éœ²æ–°æ—§ä¸¤ä¸ªæ¥å£ï¼Œå°†æ—§æ¥å£è®¾ç½®ä¸ºåºŸå¼ƒ å°è£…å˜é‡ å¯¹äºè®¿é—®åŸŸè¿‡å¤§çš„æ•°æ®ï¼Œä½¿ç”¨å‡½æ•°è¿›è¡Œå°è£…ï¼Œè¿™æ ·åœ¨é‡æ„ã€ç›‘æ§ä¸Šæ›´åŠ å®¹æ˜“ let defaultOwner = {firstName: \"Martin\", lastName: \"Fowler\"}; â†“ let defaultOwnerData = {firstName: \"Martin\", lastName: \"Fowler\"}; export function defaultOwner() {return defaultOwnerData;} export function setDefaultOwner(arg) {defaultOwnerData = arg;} å˜é‡æ”¹å å¥½çš„å‘½åæ˜¯æ•´æ´ä»£ç çš„æ ¸å¿ƒ å¼•å…¥å‚æ•°å¯¹è±¡ è®©æ•°æ®é¡¹è‡ªå·±çš„å…³ç³»å˜å¾—æ¸…æ™°ï¼Œå¹¶ä¸”ç¼©çŸ­å‚æ•°åˆ—è¡¨ function amountInvoiced(startDate, endDate) {...} function amountReceived(startDate, endDate) {...} function amountOverdue(startDate, endDate) {...} â†“ function amountInvoiced(aDateRange) {...} function amountReceived(aDateRange) {...} function amountOverdue(aDateRange) {...} å‡½æ•°ç»„åˆæˆç±» å‘ç°è¡Œä¸ºä¸æ•°æ®ä¹‹é—´çš„è”ç³»ï¼Œå‘ç°å…¶ä»–çš„è®¡ç®—é€»è¾‘ function base(aReading) {...} function taxableCharge(aReading) {...} function calculateBaseCharge(aReading) {...} â†“ class Reading { base() {...} taxableCharge() {...} calculateBaseCharge() {...} } åˆå¹¶å‡½æ•° å¯¹äºå¤šä¸ªæ“ä½œç›¸åŒçš„æ•°æ®ï¼Œå¹¶ä¸”é€»è¾‘å¯ä»¥é›†ä¸­çš„å‡½æ•°ï¼Œå¯ä»¥å°†å®ƒä»¬åˆå¹¶æˆåŒä¸€ä¸ªå‡½æ•° function base(aReading) {...} function taxableCharge(aReading) {...} â†“ function enrichReading(argReading) { const aReading = _.cloneDeep(argReading); aReading.baseCharge = base(aReading); aReading.taxableCharge = taxableCharge(aReading); return aReading; } æ‹†åˆ†é˜¶æ®µ ä¸€æ®µä»£ç åšäº†å¤šä»¶äº‹ï¼Œå°†å®ƒæ‹†åˆ†ä¸ºå¤šä¸ªå‡½æ•° å°è£… å°è£…è®°å½• å°è£…èƒ½æ›´å¥½åœ°åº”å¯¹å˜åŒ– organization = {name: \"Acme Gooseberries\", country: \"GB\"}; â†“ class Organization {...} å°è£…é›†åˆ å¯¹é›†åˆæˆå‘˜å˜é‡è¿›è¡Œå°è£…ï¼Œè¿”å›å…¶ä¸€ä¸ªå‰¯æœ¬ï¼Œé¿å…å…¶è¢«ä¿®æ”¹å¸¦æ¥çš„è¯¸å¤šé—®é¢˜ class Person { get courses() {return this._courses;} set courses(aList) {this._courses = aList;} } â†“ class Person { get courses() {return this._courses.slice();} addCourse(aCourse) { ... } removeCourse(aCourse) { ... } } ä»¥å¯¹è±¡å–ä»£åŸºæœ¬ç±»å‹ ä¸€å¼€å§‹ä½¿ç”¨åŸºæœ¬ç±»å‹èƒ½å¾ˆå¥½åœ°è¡¨ç¤ºï¼Œä½†éšç€ä»£ç æ¼”è¿›ï¼Œè¿™äº›æ•°æ®å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›è¡Œä¸ºï¼Œæ­¤æ—¶æœ€å¥½å°†å…¶å°è£…ä¸ºå¯¹è±¡ orders.filter(o => \"high\" === o.priority || \"rush\" === o.priority); â†“ orders.filter(o => o.priority.higherThan(new Priority(\"normal\"))) ä»¥æŸ¥è¯¢å–ä»£ä¸´æ—¶å˜é‡ ä½¿ç”¨å‡½æ•°å°è£…ä¸´æ—¶å˜é‡çš„è®¡ç®—ï¼Œå¯¹äºå¯è¯»æ€§ã€å¯å¤ç”¨æ€§æœ‰æå‡ const basePrice = this._quantity * this._itemPrice; if (basePrice > 1000) return basePrice * 0.95; else return basePrice * 0.98; â†“ get basePrice() {this._quantity * this._itemPrice;} ... if (this.basePrice > 1000) return this.basePrice * 0.95; else return this.basePrice * 0.98; æç‚¼ç±» éšç€ä»£ç æ¼”è¿›ï¼Œç±»ä¸æ–­æˆé•¿ï¼Œä¼šå˜å¾—è¶ŠåŠ å¤æ‚ï¼Œéœ€è¦æ‹†åˆ†å®ƒ class Person { ã€€get officeAreaCode() {return this._officeAreaCode;} ã€€get officeNumber() {return this._officeNumber;} } â†“ class Person { ã€€get officeAreaCode() {return this._telephoneNumber.areaCode;} ã€€get officeNumber() {return this._telephoneNumber.number;} } class TelephoneNumber { ã€€get areaCode() {return this._areaCode;} ã€€get number() {return this._number;} } å†…è”ç±» ä¸Šè¿°çš„åå‘æ“ä½œï¼Œç”±äºç±»èŒè´£çš„æ”¹å˜ï¼Œæˆ–è€…ä¸¤ä¸ªç±»åˆå¹¶åœ¨ä¸€èµ·ä¼šæ›´åŠ ç®€å• éšè—å§”æ‰˜å…³ç³» å°è£…æ„å‘³ç€æ¨¡å—é—´ç›¸äº’äº†è§£çš„ç¨‹åº¦åº”è¯¥å°½å¯èƒ½å°ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œå½±å“ä¹Ÿä¼šè¾ƒå° manager = aPerson.department.manager; â†“ manager = aPerson.manager; class Person { get manager() {return this.department.manager;} } ç§»é™¤ä¸­é—´äºº ä¸Šè¿°çš„åå‘æ“ä½œï¼Œå¯¹äºä¸€äº›æ²¡å¿…è¦çš„å§”æ‰˜ï¼Œå¯ä»¥ç›´æ¥è®©å…¶è·ŸçœŸå®å¯¹è±¡æ‰“äº¤é“ï¼Œé¿å…ä¸­é—´å±‚å¯¹è±¡æˆä¸ºä¸€ä¸ªçº¯ç²¹çš„è½¬å‘å¯¹è±¡ æ›¿æ¢ç®—æ³• ä¸æ”¹å˜è¡Œä¸ºçš„å‰æä¸‹ï¼Œå°†æ¯”è¾ƒå·®çš„ç®—æ³•æ›¿æ¢æˆæ¯”è¾ƒå¥½çš„ç®—æ³• function foundPerson(people) { ã€€for(let i = 0; i â†“ function foundPerson(people) { ã€€const candidates = [\"Don\", \"John\", \"Kent\"]; ã€€return people.find(p => candidates.includes(p)) || ''; } æ¬ç§»ç‰¹æ€§ æ¬ç§»å‡½æ•° å¯¹äºæŸå‡½æ•°ï¼Œå¦‚æœå®ƒé¢‘ç¹ä½¿ç”¨äº†å…¶ä»–ä¸Šä¸‹æ–‡çš„å…ƒç´ ï¼Œé‚£ä¹ˆå°±è€ƒè™‘å°†å®ƒæ¬ç§»åˆ°é‚£ä¸ªä¸Šä¸‹æ–‡é‡Œ class Account { ã€€get overdraftCharge() {...} } â†“ class AccountType { get overdraftCharge() {...} } æ¬ç§»å­—æ®µ å¯¹äºæ—©æœŸè®¾è®¡ä¸è‰¯çš„æ•°æ®ç»“æ„ï¼Œä½¿ç”¨æ­¤æ–¹æ³•æ”¹é€ å®ƒ class Customer { get plan() {return this._plan;} get discountRate() {return this._discountRate;} } â†“ class Customer { get plan() {return this._plan;} get discountRate() {return this.plan.discountRate;} } æ¬ç§»è¯­å¥åˆ°å‡½æ•° ä½¿ç”¨è¿™ä¸ªæ–¹æ³•å°†åˆ†æ•£çš„é€»è¾‘èšåˆåˆ°å‡½æ•°é‡Œé¢ï¼Œæ–¹ä¾¿ç†è§£ä¿®æ”¹ result.push(`title: ${person.photo.title}`); result.concat(photoData(person.photo)); function photoData(aPhoto) { ã€€return [ ã€€ã€€`location: ${aPhoto.location}`, ã€€ã€€`date: ${aPhoto.date.toDateString()}`, ]; } â†“ result.concat(photoData(person.photo)); function photoData(aPhoto) { ã€€return [ ã€€ã€€`title: ${aPhoto.title}`, ã€€ã€€`location: ${aPhoto.location}`, ã€€ã€€`date: ${aPhoto.date.toDateString()}`, ã€€]; } æ¬ç§»è¯­å¥åˆ°è°ƒç”¨è€… ä¸Šè¿°çš„åå‘æ“ä½œ å¯¹äºä»£ç æ¼”è¿›ï¼Œå‡½æ•°æŸäº›ä»£ç èŒè´£å‘ç”Ÿå˜åŒ–ï¼Œå°†å®ƒä»¬ç§»é™¤å‡ºå» ä»¥å‡½æ•°è°ƒç”¨å–ä»£å†…è”ä»£ç  ä¸€äº›å‡½æ•°çš„å‡½æ•°åå°±æ‹¥æœ‰è¶³å¤Ÿçš„è¡¨è¾¾èƒ½åŠ› let appliesToMass = false; for(const s of states) { if (s === \"MA\") appliesToMass = true; } â†“ appliesToMass = states.includes(\"MA\"); ç§»åŠ¨è¯­å¥ è®©å­˜åœ¨å…³è”çš„ä¸œè¥¿ä¸€èµ·å‡ºç°ï¼Œå¯ä»¥ä½¿ä»£ç æ›´å®¹æ˜“ç†è§£ const pricingPlan = retrievePricingPlan(); const order = retreiveOrder(); let charge; const chargePerUnit = pricingPlan.unit; â†“ const pricingPlan = retrievePricingPlan(); const chargePerUnit = pricingPlan.unit; const order = retreiveOrder(); let charge; æ‹†åˆ†å¾ªç¯ å¯¹ä¸€ä¸ªå¾ªç¯åšäº†å¤šä»¶äº‹çš„ä»£ç ï¼Œæ‹†åˆ†å®ƒï¼Œä½¿å„æ®µä»£ç èŒè´£æ›´åŠ æ˜ç¡® è™½ç„¶è¿™æ ·å¯èƒ½ä¼šå¯¹æ€§èƒ½é€ æˆä¸€äº›æŸå¤± let averageAge = 0; let totalSalary = 0; for (const p of people) { ã€€averageAge += p.age; ã€€totalSalary += p.salary; } averageAge = averageAge / people.length; â†“ let totalSalary = 0; for (const p of people) { ã€€totalSalary += p.salary; } let averageAge = 0; for (const p of people) { ã€€averageAge += p.age; } averageAge = averageAge / people.length; ä»¥ç®¡ä»£å–ä»£å¾ªç¯ ä¸€äº›é€»è¾‘å¦‚æœé‡‡ç”¨ç®¡é“ç¼–å†™ï¼Œå¯è¯»æ€§ä¼šæ›´å¼º const names = []; for (const i of input) { if (i.job === \"programmer\") names.push(i.name); } â†“ const names = input .filter(i => i.job === \"programmer\") .map(i => i.name); ç§»é™¤æ­»ä»£ç  ç§»é™¤é‚£äº›æ°¸è¿œä¸ä¼šå…è®¸çš„ä»£ç  é‡æ–°ç»„ç»‡æ•°æ® æ‹†åˆ†å˜é‡ å¦‚æœä¸€ä¸ªå˜é‡è¢«ç”¨äºå¤šç§ç”¨é€”ï¼Œå¾ˆæ˜æ˜¾è¿åäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œè¿™æ ·çš„ä»£ç ä¼šé€ æˆç†è§£ä¸Šçš„å›°éš¾ let temp = 2 * (height + width); console.log(temp); temp = height * width; console.log(temp); â†“ const perimeter = 2 * (height + width); console.log(perimeter); const area = height * width; console.log(area); å­—æ®µæ”¹å å¯¹äºå‘½åä¸å¤Ÿè‰¯å¥½çš„å­—æ®µè¿›è¡Œæ”¹å ä»¥æŸ¥è¯¢å–ä»£æ´¾ç”Ÿå˜é‡ ä½¿ç”¨æŸ¥è¯¢å°è£…å˜é‡æ˜¯æ¶ˆé™¤å¯å˜æ•°æ®çš„ç¬¬ä¸€æ­¥ get discountedTotal() {return this._discountedTotal;} set discount(aNumber) { ã€€const old = this._discount; ã€€this._discount = aNumber; ã€€this._discountedTotal += old - aNumber; } â†“ get discountedTotal() {return this._baseTotal - this._discount;} set discount(aNumber) {this._discount = aNumber;} å°†å¼•ç”¨å¯¹è±¡æ”¹ä¸ºå€¼å¯¹è±¡ å¦‚æœéä¸€å®šéœ€è¦å¼•ç”¨å¯¹è±¡ï¼Œä½¿ç”¨å€¼å¯¹è±¡ä¸å¯å˜çš„ç‰¹æ€§èƒ½é¿å…å¾ˆå¤šé—®é¢˜ å°†å€¼å¯¹è±¡æ”¹ä¸ºå¼•ç”¨å¯¹è±¡ å¦‚æœä¸€ä¸ªå¯¹è±¡éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹åšæ›´æ–°ï¼Œå€¼å¯¹è±¡å°±ä¸é€‚åˆäº†ï¼Œéœ€è¦æ”¹ä¸ºå¼•ç”¨ ç®€åŒ–æ¡ä»¶é€»è¾‘ åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼ ä½¿ç”¨å‡½æ•°å°è£…æ¡ä»¶é€»è¾‘ï¼Œæå‡ä»£ç çš„å¯ç†è§£æ€§ if (!aDate.isBefore(plan.summerStart) && !aDate.isAfter(plan.summerEnd)) ã€€charge = quantity * plan.summerRate; else ã€€charge = quantity * plan.regularRate + plan.regularServiceCharge; â†“ if (summer()) ã€€charge = summerCharge(); else ã€€charge = regularCharge(); åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼ ä¸€äº›æ¡ä»¶çš„è¿”å›å€¼éƒ½ç›¸ç­‰ï¼Œå°±å°†å®ƒä»¬å°è£…åˆ°åŒä¸€ä¸ªå‡½æ•°é€»è¾‘é‡Œé¢ if (anEmployee.seniority 12) return 0; if (anEmployee.isPartTime) return 0; â†“ if (isNotEligibleForDisability()) return 0; function isNotEligibleForDisability() { ã€€return ((anEmployee.seniority 12) ã€€ã€€ã€€ã€€ã€€|| (anEmployee.isPartTime)); } ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼ æœ‰æ—¶å€™å•ä¸€å‡ºå£åŸåˆ™ï¼Œä¼¼ä¹ä¸æ˜¯é‚£ä¹ˆé‡è¦ function getPayAmount() { ã€€let result; ã€€if (isDead) ã€€ã€€result = deadAmount(); ã€€else { ã€€ã€€if (isSeparated) ã€€ã€€ã€€result = separatedAmount(); ã€€ã€€else { ã€€ã€€ã€€if (isRetired) ã€€ã€€ã€€ã€€result = retiredAmount(); ã€€ã€€ã€€else ã€€ã€€ã€€ã€€result = normalPayAmount(); ã€€ã€€} ã€€} ã€€return result; } â†“ function getPayAmount() { ã€€if (isDead) return deadAmount(); ã€€if (isSeparated) return separatedAmount(); ã€€if (isRetired) return retiredAmount(); ã€€return normalPayAmount(); } ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ å¦‚æœå‘ç°ä¸€äº›è¡Œä¸ºé€‚åˆç”¨å¤šæ€å–ä»£ï¼Œè¯•è¯•è¿™æ ·é‡æ„å®ƒ switch (bird.type) { ã€€case 'EuropeanSwallow': ã€€ã€€return \"average\"; ã€€case 'AfricanSwallow': ã€€ã€€return (bird.numberOfCoconuts > 2) ? \"tired\" : \"average\"; ã€€case 'NorwegianBlueParrot': ã€€ã€€return (bird.voltage > 100) ? \"scorched\" : \"beautiful\"; ã€€default: ã€€ã€€return \"unknown\"; â†“ class EuropeanSwallow { ã€€get plumage() { ã€€ã€€return \"average\"; ã€€} class AfricanSwallow { ã€€get plumage() { ã€€ã€€ return (this.numberOfCoconuts > 2) ? \"tired\" : \"average\"; ã€€} class NorwegianBlueParrot { ã€€get plumage() { ã€€ã€€ return (this.voltage > 100) ? \"scorched\" : \"beautiful\"; } å¼•å…¥ç‰¹ä¾‹ æ‰€è°“ç‰¹ä¾‹ï¼Œå°±æ˜¯æ»¡è¶³è¿™ä¸ªç±»çš„è¡Œä¸ºï¼Œä½†å´è¡¨è¾¾äº†ç‰¹ä¾‹çš„å«ä¹‰ if (aCustomer === \"unknown\") customerName = \"occupant\"; â†“ class UnknownCustomer { get name() {return \"occupant\";} å¼•å…¥æ–­è¨€ æ–­è¨€æä¾›äº†ä¸€ç§å¯¹ç³»ç»Ÿå½“å‰çŠ¶æ€çš„å‡è®¾ï¼Œå¯¹è°ƒè¯•ä»¥åŠé˜…è¯»å¾ˆæœ‰å¸®åŠ© if (this.discountRate) base = base - (this.discountRate * base); â†“ assert(this.discountRate>= 0); if (this.discountRate) base = base - (this.discountRate * base); é‡æ„API æŸ¥è¯¢å‡½æ•°å’Œä¿®æ”¹å‡½æ•°åˆ†ç¦» å¯¹äºæ— å‰¯ä½œç”¨çš„å‡½æ•°ï¼Œæœ‰åŠ©äºæµ‹è¯• function getTotalOutstandingAndSendBill() { const result = customer.invoices.reduce((total, each) => each.amount + total, 0); sendBill(); return result; } â†“ function totalOutstanding() { return customer.invoices.reduce((total, each) => each.amount + total, 0); } function sendBill() { emailGateway.send(formatBill(customer)); } å‡½æ•°å‚æ•°åŒ– æœ¬è´¨è¿˜æ˜¯æ¶ˆé™¤é‡å¤ï¼Œå°†å‡½æ•°åå­—ä¸­çš„å‚æ•°æå–åˆ°å‚æ•°åˆ—è¡¨ä¸­ function tenPercentRaise(aPerson) { aPerson.salary = aPerson.salary.multiply(1.1); } function fivePercentRaise(aPerson) { aPerson.salary = aPerson.salary.multiply(1.05); } â†“ function raise(aPerson, factor) { aPerson.salary = aPerson.salary.multiply(1 + factor); } ç§»é™¤æ ‡è®°å‚æ•° æ ‡è®°å‚æ•°çš„å­˜åœ¨ä¼šå¢åŠ ç†è§£æ¥å£è°ƒç”¨çš„éš¾åº¦ function setDimension(name, value) { ã€€if (name === \"height\") { ã€€ã€€this._height = value; ã€€ã€€return; ã€€} ã€€if (name === \"width\") { ã€€ã€€this._width = value; ã€€ã€€return; ã€€} } â†“ function setHeight(value) {this._height = value;} function setWidth (value) {this._width = value;} ä¿æŒå¯¹è±¡å®Œæ•´ ä¼ é€’æ•´ä¸ªå¯¹è±¡èƒ½æ›´å¥½åœ°åº”å¯¹æœªæ¥çš„å˜åŒ– const low = aRoom.daysTempRange.low; const high = aRoom.daysTempRange.high; if (aPlan.withinRange(low, high)) â†“ if (aPlan.withinRange(aRoom.daysTempRange)) ä»¥æŸ¥è¯¢å–ä»£å‚æ•° å‚æ•°åˆ—è¡¨å°½é‡é¿å…é‡å¤ï¼Œå‚æ•°åˆ—è¡¨è¶ŠçŸ­è¶Šå®¹æ˜“ç†è§£ availableVacation(anEmployee, anEmployee.grade); function availableVacation(anEmployee, grade) {} â†“ availableVacation(anEmployee) function availableVacation(anEmployee) {} ä»¥å‚æ•°å–ä»£æŸ¥è¯¢ ä¸Šè¿°æ“ä½œçš„åå‘é‡æ„ï¼Œå¦‚æœä¸æƒ³å‡½æ•°ä¾èµ–æŸä¸ªå…ƒç´ ï¼Œé‚£å°±ä½¿ç”¨è¿™ä¸ªæ–¹å¼ ç§»é™¤è®¾å€¼å‡½æ•° å–æ¶ˆè®¾å€¼å‡½æ•°ï¼Œä»£è¡¨ç€æ•°æ®ä¸åº”è¯¥è¢«ä¿®æ”¹çš„æ„å›¾ class Person { get name() {...} set name(aString) {...} } â†“ class Person { get name() {...} } ä»¥å·¥å‚å‡½æ•°å–ä»£æ„é€ å‡½æ•° æ„é€ å‡½æ•°ä½¿ç”¨èµ·æ¥è¾ƒä¸çµæ´»ï¼Œå°è¯•æŠŠåˆ›å»ºå¯¹è±¡çš„èŒè´£äº¤ç»™å·¥å‚ leadEngineer = new Employee(document.leadEngineer, 'E'); â†“ leadEngineer = createEngineer(document.leadEngineer); ä»¥å‘½åå–ä»£å‡½æ•° å‘½ä»¤å¯¹è±¡å¤§éƒ½æœåŠ¡äºå•ä¸€çš„å‡½æ•°ï¼Œå‘½ä»¤ç›¸äº¤äºè¿‡ç¨‹æ€§ä»£ç ï¼Œæ‹¥æœ‰äº†å¤§éƒ¨åˆ†é¢å‘å¯¹è±¡çš„èƒ½åŠ› function score(candidate, medicalExam, scoringGuide) { let result = 0; let healthLevel = 0; // long body code } â†“ class Scorer { constructor(candidate, medicalExam, scoringGuide) { this._candidate = candidate; this._medicalExam = medicalExam; this._scoringGuide = scoringGuide; } execute() { this._result = 0; this._healthLevel = 0; // long body code } } ä»¥å‡½æ•°å–ä»£å‘½ä»¤ ä¸Šè¿°çš„åå‘é‡æ„ï¼Œåœ¨ä¸æ˜¯å¾ˆå¤æ‚çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨å‡½æ•°å®Œæˆä»»åŠ¡å³å¯ å¤„ç†ç»§æ‰¿å…³ç³» å‡½æ•°ä¸Šç§» æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸ºäº†é¿å…é‡å¤ï¼Œé‡å¤ä»£ç æ˜¯æ»‹ç”Ÿbugçš„æ¸©åºŠ class Employee {...} class Salesman extends Employee { ã€€get name() {...} } class Engineer extends Employee { ã€€get name() {...} } â†“ class Employee { ã€€get name() {...} } class Salesman extends Employee {...} class Engineer extends Employee {...} å­—æ®µä¸Šç§» åŒä¸Šï¼Œå‡½æ•°æ¢æˆå­—æ®µ æ„é€ å‡½æ•°æœ¬ä½“ä¸Šç§» å°†å­ç±»é‡Œçš„å…±åŒè¡Œä¸ºæå–åˆ°çˆ¶ç±» class Party {...} class Employee extends Party { ã€€constructor(name, id, monthlyCost) { ã€€ã€€super(); ã€€ã€€this._id = id; ã€€ã€€this._name = name; ã€€ã€€this._monthlyCost = monthlyCost; ã€€} } â†“ class Party { ã€€constructor(name){ ã€€ã€€this._name = name; ã€€} } class Employee extends Party { ã€€constructor(name, id, monthlyCost) { ã€€ã€€super(name); ã€€ã€€this._id = id; ã€€ã€€this._monthlyCost = monthlyCost; ã€€} } å‡½æ•°ä¸‹ç§» å‡½æ•°ä¸Šç§»çš„åå‘é‡æ„ï¼Œå¦‚æœè¶…ç±»çš„æŸä¸ªå‡½æ•°åªä¸éƒ¨åˆ†å­ç±»æœ‰å…³ï¼Œé‚£å°±éœ€è¦å°†å‡½æ•°ä¸‹ç§» å­—æ®µä¸‹ç§» å­—æ®µä¸Šç§»çš„åå‘é‡æ„ï¼ŒåŠ¨æœºåŒä¸Š ä»¥å­ç±»å–ä»£ç±»å‹ç  ä½¿ç”¨å¤šæ€æ¥æ›¿ä»£é€»è¾‘åˆ¤æ–­ function createEmployee(name, type) { return new Employee(name, type); } â†“ function createEmployee(name, type) { switch (type) { case \"engineer\": return new Engineer(name); case \"salesman\": return new Salesman(name); case \"manager\": return new Manager (name); } ç§»é™¤å­ç±» éšç€ä»£ç æ¼”è¿›ï¼Œå­ç±»å‹æ ¹å°±ä¸éœ€è¦äº† class Person { ã€€get genderCode() {return \"X\";} } class Male extends Person { ã€€get genderCode() {return \"M\";} } class Female extends Person { ã€€get genderCode() {return \"F\";} } â†“ class Person { get genderCode() {return this._genderCode;} } æç‚¼è¶…ç±» å¦‚æœä¸¤ä¸ªç±»å†åšç›¸ä¼¼çš„äº‹ï¼Œåˆ©ç”¨ç»§æ‰¿æœºåˆ¶å°†å®ƒä»¬çš„ç›¸ä¼¼ä¹‹å¤„è¿›è¡Œæç‚¼ class Department { ã€€get totalAnnualCost() {...} ã€€get name() {...} ã€€get headCount() {...} } class Employee { ã€€get annualCost() {...} ã€€get name() {...} ã€€get id() {...} } â†“ class Party { ã€€get name() {...} ã€€get annualCost() {...} } class Department extends Party { ã€€get annualCost() {...} ã€€get headCount() {...} } class Employee extends Party { ã€€get annualCost() {...} ã€€get id() {...} } æŠ˜å ç»§æ‰¿ä½“ç³» éšç€ç»§æ‰¿ä½“ç³»æ¼”åŒ–ï¼Œä¸€ä¸ªç±»ä¸å…¶è¶…ç±»å·²ç»æ²¡æœ‰å¤šå¤§åŒºåˆ« class Employee {...} class Salesman extends Employee {...} â†“ class Employee {...} ä»¥å§”æ‰˜å–ä»£å­ç±» ç»§æ‰¿ä¼šç»™å­ç±»å¸¦æ¥æå¤§çš„è€¦åˆï¼Œçˆ¶ç±»çš„ä»»ä½•ä¿®æ”¹éƒ½ä¼šå½±å“åˆ°å­ç±»ï¼Œä½¿ç”¨å§”æ‰˜å°±æ˜¯ä¸€ç§ç»„åˆå…³ç³»ï¼Œåœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œç»„åˆåº”è¯¥ä¼˜å…ˆäºç»§æ‰¿ class Order { ã€€get daysToShip() { ã€€ã€€return this._warehouse.daysToShip; ã€€} } class PriorityOrder extends Order { ã€€get daysToShip() { ã€€ã€€return this._priorityPlan.daysToShip; ã€€} } â†“ class Order { ã€€get daysToShip() { ã€€ã€€return (this._priorityDelegate) ã€€ã€€ã€€? this._priorityDelegate.daysToShip ã€€ã€€ã€€: this._warehouse.daysToShip; ã€€} } class PriorityOrderDelegate { ã€€get daysToShip() { ã€€ã€€return this._priorityPlan.daysToShip ã€€} } ä»¥å§”æ‰˜å–ä»£è¶…ç±» å¦‚æœçˆ¶ç±»çš„ä¸€äº›æ¥å£ä¸é€‚åˆè®©å­ç±»æš´éœ²ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»åº”è¯¥å°±é€šè¿‡ç»„åˆçš„æ–¹å¼å¤ç”¨ class List {...} class Stack extends List {...} â†“ class Stack { constructor() { this._storage = new List(); } } class List {...} é€ŸæŸ¥è¡¨ åå‘³é“ï¼ˆè‹±æ–‡ï¼‰ åå‘³é“ï¼ˆä¸­æ–‡ï¼‰ é¡µç  å¸¸ç”¨é‡æ„ Alternative Classes with Different Interfaces å¼‚æ›²åŒå·¥çš„ç±» 83 æ”¹å˜å‡½æ•°å£°æ˜ï¼ˆ124ï¼‰ï¼Œæ¬ç§»å‡½æ•°ï¼ˆ198ï¼‰ï¼Œæç‚¼è¶…ç±»ï¼ˆ375ï¼‰ Comments æ³¨é‡Š 84 æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼Œæ”¹å˜å‡½æ•°å£°æ˜ï¼ˆ124ï¼‰ï¼Œå¼•å…¥æ–­è¨€ï¼ˆ302ï¼‰ Data Class çº¯æ•°æ®ç±» 83 å°è£…è®°å½•ï¼ˆ162ï¼‰ï¼Œç§»é™¤è®¾å€¼å‡½æ•°ï¼ˆ331ï¼‰ï¼Œæ¬ç§»å‡½æ•°ï¼ˆ198ï¼‰ï¼Œæç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼Œæ‹†åˆ†é˜¶æ®µï¼ˆ154ï¼‰ Data Clumps æ•°æ®æ³¥å›¢ 78 æç‚¼ç±»ï¼ˆ182ï¼‰ï¼Œå¼•å…¥å‚æ•°å¯¹è±¡ï¼ˆ140ï¼‰ï¼Œä¿æŒå¯¹è±¡å®Œæ•´ï¼ˆ319ï¼‰ Divergent Change å‘æ•£å¼å˜åŒ– 76 æ‹†åˆ†é˜¶æ®µï¼ˆ154ï¼‰ï¼Œæ¬ç§»å‡½æ•°ï¼ˆ198ï¼‰ï¼Œæç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼Œæç‚¼ç±»ï¼ˆ182ï¼‰ Duplicated Code é‡å¤ä»£ç  72 æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼Œç§»åŠ¨è¯­å¥ï¼ˆ223ï¼‰ï¼Œå‡½æ•°ä¸Šç§»ï¼ˆ350ï¼‰ Feature Envy ä¾æ‹æƒ…ç»“ 77 æ¬ç§»å‡½æ•°ï¼ˆ198ï¼‰ï¼Œæç‚¼å‡½æ•°ï¼ˆ106ï¼‰ Global Data å…¨å±€æ•°æ® 74 å°è£…å˜é‡ï¼ˆ132ï¼‰ Insider Trading å†…å¹•äº¤æ˜“ 82 æ¬ç§»å‡½æ•°ï¼ˆ198ï¼‰ï¼Œæ¬ç§»å­—æ®µï¼ˆ207ï¼‰ï¼Œéšè—å§”æ‰˜å…³ç³»ï¼ˆ189ï¼‰ï¼Œä»¥å§”æ‰˜å–ä»£å­ç±»ï¼ˆ381ï¼‰ï¼Œä»¥å§”æ‰˜å–ä»£è¶…ç±»ï¼ˆ399ï¼‰ Large Class è¿‡å¤§çš„ç±» 82 æç‚¼ç±»ï¼ˆ182ï¼‰ï¼Œæç‚¼è¶…ç±»ï¼ˆ375ï¼‰ï¼Œä»¥å­ç±»å–ä»£ç±»å‹ç ï¼ˆ362ï¼‰ Lazy Element å†—èµ˜çš„å…ƒç´  80 å†…è”å‡½æ•°ï¼ˆ115ï¼‰ï¼Œå†…è”ç±»ï¼ˆ186ï¼‰ï¼ŒæŠ˜å ç»§æ‰¿ä½“ç³»ï¼ˆ380ï¼‰ Long Function è¿‡é•¿å‡½æ•° 73 æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼Œä»¥æŸ¥è¯¢å–ä»£ä¸´æ—¶å˜é‡ï¼ˆ178ï¼‰ï¼Œå¼•å…¥å‚æ•°å¯¹è±¡ï¼ˆ140ï¼‰ï¼Œä¿æŒå¯¹è±¡å®Œæ•´ï¼ˆ319ï¼‰ï¼Œä»¥å‘½ä»¤å–ä»£å‡½æ•°ï¼ˆ337ï¼‰ï¼Œåˆ†è§£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ260ï¼‰ï¼Œä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ272ï¼‰ï¼Œæ‹†åˆ†å¾ªç¯ï¼ˆ227ï¼‰ Long Parameter List è¿‡é•¿å‚æ•°åˆ— 74 ä»¥æŸ¥è¯¢å–ä»£å‚æ•°ï¼ˆ324ï¼‰ï¼Œä¿æŒå¯¹è±¡å®Œæ•´ï¼ˆ319ï¼‰ï¼Œå¼•å…¥å‚æ•°å¯¹è±¡ï¼ˆ140ï¼‰ï¼Œç§»é™¤æ ‡è®°å‚æ•°ï¼ˆ314ï¼‰ï¼Œå‡½æ•°ç»„åˆæˆç±»ï¼ˆ144ï¼‰ Loops å¾ªç¯è¯­å¥ 79 ä»¥ç®¡é“å–ä»£å¾ªç¯ï¼ˆ231ï¼‰ Message Chains è¿‡é•¿çš„æ¶ˆæ¯é“¾ 81 éšè—å§”æ‰˜å…³ç³»ï¼ˆ189ï¼‰ï¼Œæç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼Œæ¬ç§»å‡½æ•°ï¼ˆ198ï¼‰ Middle Man ä¸­é—´äºº 81 ç§»é™¤ä¸­é—´äººï¼ˆ192ï¼‰ï¼Œå†…è”å‡½æ•°ï¼ˆ115ï¼‰ï¼Œä»¥å§”æ‰˜å–ä»£è¶…ç±»ï¼ˆ399ï¼‰ï¼Œä»¥å§”æ‰˜å–ä»£å­ç±»ï¼ˆ381ï¼‰ Mutable Data å¯å˜æ•°æ® 75 å°è£…å˜é‡ï¼ˆ132ï¼‰ï¼Œæ‹†åˆ†å˜é‡ï¼ˆ240ï¼‰ï¼Œç§»åŠ¨è¯­å¥ï¼ˆ223ï¼‰ï¼Œæç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼Œå°†æŸ¥è¯¢å‡½æ•°å’Œä¿®æ”¹å‡½æ•°åˆ†ç¦»ï¼ˆ306ï¼‰ï¼Œç§»é™¤è®¾å€¼å‡½æ•°ï¼ˆ331ï¼‰ï¼Œä»¥æŸ¥è¯¢å–ä»£æ´¾ç”Ÿå˜é‡ï¼ˆ248ï¼‰ï¼Œå‡½æ•°ç»„åˆæˆç±»ï¼ˆ144ï¼‰ï¼Œå‡½æ•°ç»„åˆæˆå˜æ¢ï¼ˆ149ï¼‰ï¼Œå°†å¼•ç”¨å¯¹è±¡æ”¹ä¸ºå€¼å¯¹è±¡ï¼ˆ252ï¼‰ Mysterious Name ç¥ç§˜å‘½å 72 æ”¹å˜å‡½æ•°å£°æ˜ï¼ˆ124ï¼‰ï¼Œå˜é‡æ”¹åï¼ˆ137ï¼‰ï¼Œå­—æ®µæ”¹åï¼ˆ244ï¼‰ Primitive Obsession åŸºæœ¬ç±»å‹åæ‰§ 78 ä»¥å¯¹è±¡å–ä»£åŸºæœ¬ç±»å‹ï¼ˆ174ï¼‰ï¼Œä»¥å­ç±»å–ä»£ç±»å‹ç ï¼ˆ362ï¼‰ï¼Œä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ272ï¼‰ï¼Œæç‚¼ç±»ï¼ˆ182ï¼‰ï¼Œå¼•å…¥å‚æ•°å¯¹è±¡ï¼ˆ140ï¼‰ Refused Bequest è¢«æ‹’ç»çš„é—èµ  83 å‡½æ•°ä¸‹ç§»ï¼ˆ359ï¼‰ï¼Œå­—æ®µä¸‹ç§»ï¼ˆ361ï¼‰ï¼Œä»¥å§”æ‰˜å–ä»£å­ç±»ï¼ˆ381ï¼‰ï¼Œä»¥å§”æ‰˜å–ä»£è¶…ç±»ï¼ˆ399ï¼‰ Repeated Switches é‡å¤çš„switch 79 ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ272ï¼‰ Shotgun Surgery éœ°å¼¹å¼ä¿®æ”¹ 76 æ¬ç§»å‡½æ•°ï¼ˆ198ï¼‰ï¼Œæ¬ç§»å­—æ®µï¼ˆ207ï¼‰ï¼Œå‡½æ•°ç»„åˆæˆç±»ï¼ˆ144ï¼‰ï¼Œå‡½æ•°ç»„åˆæˆå˜æ¢ï¼ˆ149ï¼‰ï¼Œæ‹†åˆ†é˜¶æ®µï¼ˆ154ï¼‰ï¼Œå†…è”å‡½æ•°ï¼ˆ115ï¼‰ï¼Œå†…è”ç±»ï¼ˆ186ï¼‰ Speculative Generality å¤¸å¤¸å…¶è°ˆé€šç”¨æ€§ 80 æŠ˜å ç»§æ‰¿ä½“ç³»ï¼ˆ380ï¼‰ï¼Œå†…è”å‡½æ•°ï¼ˆ115ï¼‰ï¼Œå†…è”ç±»ï¼ˆ186ï¼‰ï¼Œæ”¹å˜å‡½æ•°å£°æ˜ï¼ˆ124ï¼‰ï¼Œç§»é™¤æ­»ä»£ç ï¼ˆ237ï¼‰ Temporary Field ä¸´æ—¶å­—æ®µ 80 æç‚¼ç±»ï¼ˆ182ï¼‰ï¼Œæ¬ç§»å‡½æ•°ï¼ˆ198ï¼‰ï¼Œå¼•å…¥ç‰¹ä¾‹ï¼ˆ289ï¼‰ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-05 01:27:17 "},"è½¯ä»¶å·¥ç¨‹/ç¼–ç /ä»£ç å®¡æŸ¥.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç¼–ç /ä»£ç å®¡æŸ¥.html","title":"ä»£ç å®¡æŸ¥","keywords":"","body":"ä»£ç å®¡æŸ¥ ä»£ç å®¡æŸ¥ä¹Ÿå«ä»£ç å¤æŸ¥ï¼Œå³é€šè¿‡é˜…è¯»ä»£ç çš„æ–¹å¼æ¥æ£€æŸ¥ä»£ç æ˜¯å¦ç¬¦åˆè¦æ±‚ ä¸ºä½•è¦ä»£ç å®¡æŸ¥ ä»£ç å®¡æŸ¥æ˜¯æé«˜ä»£ç è´¨é‡ï¼Œæå‰å‘ç° BUG ï¼Œç»Ÿä¸€å›¢é˜Ÿä»£ç è§„èŒƒçš„ä¸€ä¸ªé‡è¦é€”å¾„ è°æ¥å®¡æŸ¥ å®¡æŸ¥ä»€ä¹ˆ è®¾è®¡è§„èŒƒ å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ æ˜¯å¦æœ‰é”™è¯¯ï¼ˆéœ€æ±‚ä¸BUGï¼‰ æµ‹è¯•ä»£ç æ˜¯å¦è‰¯å¥½ æ€§èƒ½ å®‰å…¨æ€§ å®¡æŸ¥å·¥å…· git Upsource å®¡æŸ¥å½¢å¼ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-27 01:02:45 "},"è½¯ä»¶å·¥ç¨‹/ç¼–ç /æ•´æ´ä»£ç .html":{"url":"è½¯ä»¶å·¥ç¨‹/ç¼–ç /æ•´æ´ä»£ç .html","title":"æ•´æ´ä»£ç ","keywords":"","body":"æ•´æ´ä»£ç  ä»£ç æ˜¯éœ€æ±‚çš„ç²¾ç¡®æ€§è¡¨è¾¾ ä»£ç ä¸ä¼šæ¶ˆå¤± è¯»èµ·æ¥ä»¤äººæ„‰æ‚¦ åªåšå¥½ä¸€ä»¶äº‹ æ˜ç¡®åœ°å±•ç°å‡ºè¦è§£å†³é—®é¢˜çš„å¼ åŠ› æ•´æ´ä»£ç ä»¥æµ‹è¯•ä½œä¸ºåŸºç¡€ ä¸è¦é‡å¤ä»£ç  æ·±åˆå·±æ„ ä»£ç æ›´å¤šçš„æ—¶å€™æ˜¯ç”¨æ¥è¯» å‘½å åå‰¯å…¶å®ï¼šå˜é‡ å‡½æ•° ç±»çš„åç§°è¦å……åˆ†ä½“ç°å®ƒä»¬çš„ä½œç”¨ é¿å…è¯¯å¯¼ï¼š é¿å…ä½¿ç”¨ä¸æœ¬æ„ç›¸æ‚–çš„è¯ Accounts accountList; // bad List accountList; // good è°¨æ…ä½¿ç”¨ä¸åŒä¹‹å¤„ç‰¹åˆ«å°çš„åç§° var userPermissionControllService; var userPermissionControllerService; ä»¥åŠå°å†™å­—æ¯lä¸å¤§å†™å­—æ¯Oä¸æ•°å­— 1 0 ç›¸ä¼¼çš„æƒ…å†µ int l = 0; int o = 1; if (l == 0) return o = l; æœ‰æ„ä¹‰çš„åŒºåˆ†ï¼š é¿å…ä½¿ç”¨æ•°å­—ç³»åˆ—å‘½å void copy(StringBuffer s1, StringBuffer s2); // bad void concat(StringBuffer source, StringBuffer target); // good é¿å…ä½¿ç”¨æ„ä¹‰ç›¸åŒçš„åç§° class Product{} class ProductInfo{} // åŠ ä¸ªInfoå¹¶æ²¡æœ‰è¯´æ˜ä»€ä¹ˆ class ProductDetail{} ä½¿ç”¨è¯»å¾—å‡ºæ¥çš„åç§°: æ–¹ä¾¿è®¨è®º ä½¿ç”¨å¯æœç´¢çš„åç§°ï¼š ä¸ºå¸¸é‡å‘½å æ–¹ä¾¿ç»´æŠ¤ double circleArea = 3.14 * Math.pow(radius, 2); // bad double CIRCLE_PI = 3.1415926; // good åç§°é•¿çŸ­ä¸å…¶ä½œç”¨åŸŸå¤§å°ç›¸å¯¹åº” private static final double CIRCLE_PI = 3.14; void calcArea() { final double PI = 3.14 ... } é¿å…ä½¿ç”¨ç¼–ç ï¼šè¿™äº›æŠ€å·§åœ¨IDEæ™ºèƒ½çš„æ—¶ä»£æœ‰å®ƒçš„ç”¨å¤„ é¿å…åŒˆç‰™åˆ©æ ‡è®°æ³•åœ¨å˜é‡åç§°æºå¸¦ç±»å‹ int iPort = 8080; // è¯¥å˜é‡ä¸ºintç±»å‹ bad é¿å…å‰ç¼€æ ‡è®°æˆå‘˜å˜é‡ private List m_listeners; // bad é¿å…é¿å…æ¥å£ä¸å®ç°æºå¸¦Iå‰ç¼€æˆ–è€…Impåç¼€ interface IUserService{} // bad class UserServiceImp implements UserService {} // bad class DefaultUserService implements UserService {} // good é¿å…æ€ç»´æ˜ å°„ï¼šä¼ ç»Ÿç®¡ç”¨i j è¡¨ç¤ºå¾ªç¯è®¡æ•°å™¨ å…¶ä»–æƒ…å†µä¸‹è¦é¿å…ä½¿ç”¨å•å­—æ¯ for (int i=0;i ç±»åä¸å¯¹è±¡ååº”è¯¥æ˜¯åè¯æˆ–è€…åè¯çŸ­è¯­ class Customer{} Processor processor; æ–¹æ³•ååº”è¯¥æ˜¯åŠ¨è¯æˆ–è€…åŠ¨è¯çŸ­è¯­ void getServerInfo(); å‘½åæ—¶é¿å…æŠ–æœºçµ threadPoll.kill(); // bad threadPoll.shutdown(); // good ä½¿ç”¨æ¦‚å¿µä¸€è‡´çš„å‘½åï¼š SELECT DELETE UPDATE INSERT é¿å…å°†åŒä¸€æœ¯è¯­ç”¨äºä¸åŒæ¦‚å¿µ // bad void addUser(); BigDecimal addPrice(BigDecimal target); å°½é‡ä½¿ç”¨æŠ€æœ¯æ€§åç§°è€Œéä¸šåŠ¡é¢†åŸŸåç§° æ˜¯åœ¨æ²¡æœ‰æŠ€æœ¯åè¯ ä¸é—®é¢˜é¢†åŸŸæ›´è¿‘çš„ä»£ç  å¯ä»¥é‡‡ç”¨ä¸šåŠ¡é¢†åŸŸçš„åç§° Queue jobQueue; // æŠ€æœ¯åè¯ DinnerOrder order; // ä¸šåŠ¡åè¯ å¦‚æœæ— æ³•é€šè¿‡ç±»æˆ–è€…æ–¹æ³•æ¥ç»™åç§°æä¾›ä¸Šä¸‹æ–‡ é‚£ä¹ˆåªèƒ½ç»™åç§°æ·»åŠ å‰ç¼€æ¥æ·»åŠ ä¸Šä¸‹æ–‡äº† class Address { String username; String phone; String country; String postCode; } String addressCode; // åœ¨ä¸€ä¸ªæ²¡æœ‰ä¸Šä¸‹æ–‡çš„ç¯å¢ƒä¸­ çŸ­åç§°å¤Ÿæ¸…æ¥šå°±è¡Œäº† ä¸è¦æ·»åŠ ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡ class ShopSystemUserService {} // bad å‡½æ•° çŸ­å°ï¼š å—å†…è°ƒç”¨çš„å­å‡½æ•°å…·æœ‰è¯´æ˜æ€§ String renderJsp(){ var classCode = compileJsp(); return executeJspService(classCode); } ä¸è¯¥æœ‰å¤æ‚çš„åµŒå¥—ç»“æ„ void badFunction() { // bad if (..) { while(){ ... for(..){..} } } } åªåšä¸€ä»¶äº‹ï¼šå‡½æ•°å†…éƒ¨çš„å®ç°å……åˆ†ä½“ç°å‡½æ•°åç§° ç¡®ä¿å‡½æ•°ä¸­çš„è¯­å¥åœ¨åŒä¸€æŠ½è±¡å±‚çº§ä¸Šé¢ String renderJsp(){ var classCode = compileJsp(); return executeJspService(classCode); } ä½¿ç”¨å¤šæ€å–ä»£switchè¯­å¥ // bad Money calcPay(Employee e){ switch(e.type) { case MANAGER: return e.getPay() - 20%; case COMMON: return e.getPay() - 10%; ... } } // good abstract class Employee{ abstract Money getPay(); } class CommonEmployee{ Money getPay(){...} } class ManagerEmployee{ Money getPay(){...} } ä½¿ç”¨æè¿°æ€§çš„åç§°èƒ½ç†æ€§è®¾è®¡æ€è·¯ å¸®åŠ©æ”¹è¿›ä¹‹ var result; var searchResult; var movieSearchResult; // best å‡½æ•°å‚æ•°ï¼š å‚æ•°è¶Šå¤šå‡½æ•°è¶Šéš¾ç†è§£ public void convertAndSend(Object object){..} public void correlationConvertAndSend(Object object, CorrelationData correlationData){..} public void convertAndSend(String routingKey, final Object object, CorrelationData correlationData){...} // bad exchange.send(String rotingKey,Object msg); // better ä½¿ç”¨æ ‡å¿—å‚æ•°(boolean)å°±ä»£è¡¨å‡½æ•°ä¸æ­¢åšä¸€ä»¶äº‹ åº”è¯¥æ‹†åˆ†æˆä¸¤ä¸ªå‡½æ•° void submitTask(Task t, boolean flag){ // å°¤å…¶flagå‘½åå¹¶ä¸èƒ½è¯´æ˜åšä»€ä¹ˆ æ”¹æˆisSync å¯èƒ½å¥½ä¸€ç‚¹ if (flag) { sync }else { async } } // good void submitTaskAsync(){...} void submitTaskSync(){...} å‡½æ•°å’Œå‚æ•°åº”å½“å½¢æˆä¸€ç§åŠ¨è¯/åè¯å¯¹å½¢å¼ write(PrintWriter pw, String msg); // bad printWriter.write(msg); // good å‰¯ä½œç”¨ï¼šé¿å…ä½¿ç”¨è¾“å‡ºå‚æ•°(out) éœ€è¦ä¿®æ”¹çŠ¶æ€ å°±å°†è¯¥çŠ¶æ€ä½œä¸ºå¯¹è±¡çš„å±æ€§ void removeNegative(List list); // bad list.removeIf(...); // good åˆ†å‰²æŒ‡ä»¤ä¸è¯¢é—®ï¼šå‡½æ•°è¦ä¹ˆåšä»€ä¹ˆ è¦ä¹ˆå›ç­”ä»€ä¹ˆ ä¸èƒ½ä¸¤è€…å¾—å…¼ boolean set(String k, String v){ // bad è¿™ä¸ªå‡½æ•°æ‰¿æ‹…äº†ä¸¤ä¸ªèŒè´£ if (exists){ return true; } ... return false; } // good boolean exists(String k); void set(String k,String v); å¼‚å¸¸ä»£æ›¿é”™è¯¯ç ï¼š é”™è¯¯å¤„ç†ä»£ç å°±èƒ½ä»ä¸»è·¯å¾„ä»£ç åˆ†ç¦»å‡ºæ¥ // bad if (!err){ if (!err){ ... } } // good try { } catch (Error1){ } catch (Error2){ } ä¸»ä½“ä»¥åŠé”™è¯¯å¤„ç†ä»£ç å¯ä»¥æŠ½ç¦»æˆå‡½æ•° try { generateSearchResult(); } catch(){ logError(); sendErrorMsg(); } é”™è¯¯ç æšä¸¾ä¸€æ—¦å‘ç”Ÿä¿®æ”¹ ä¾èµ–å…¶çš„æ¨¡å—éƒ½è¦é‡æ–°ç¼–è¯‘ ä½¿ç”¨ç»§æ‰¿å¼‚å¸¸çš„æ–¹å¼å¯ä»¥è¿›è¡Œå¹³æ»‘æ‰©å±• åˆ«é‡å¤è‡ªå·±ï¼šé‡å¤å¯èƒ½æ˜¯è½¯ä»¶ä¸­ä¸€åˆ‡é‚ªæ¶çš„æ ¹æº ç»“æ„åŒ–ç¼–ç¨‹ï¼šå•ä¸€å‡ºå…¥å£åŸåˆ™åœ¨å¤§å‡½æ•°ä¸­æ‰æœ‰æ˜æ˜¾çš„å¥½å¤„ æ³¨é‡Š æ³¨é‡Šå®¹æ˜“ä¸ä»£ç ä¸ä¸€è‡´ æ¬ºéª—è¯»è€… æ³¨é‡Šæ— æ³•ç¾åŒ–ä»£ç  ç³Ÿç³•çš„ä»£ç è¿˜æ˜¯ç³Ÿç³•çš„ä»£ç  å°½å¯èƒ½ä½¿ç”¨ä»£ç é˜è¿°ä½ çš„æ„å›¾ è€Œéæ³¨é‡Š å¥½çš„æ³¨é‡Š æ³•å¾‹ä¿¡æ¯ æä¾›ä¿¡æ¯ interface SessionFactory { // æ–°å»ºä¸€ä¸ªæ•°æ®åº“è¿æ¥å¹¶è¿”å› Session openSession(); } å¯¹æ„å›¾çš„è§£é‡Š // å¯»æ‰¾0åˆ°nçš„ç´ æ•° æ ¹æ®æ•°å­¦è¯æ˜ åªè¦åˆ°nçš„å¹³æ–¹æ ¹å°±è¡Œäº† for(int i=0;i é˜é‡Šä¸€äº›éš¾ä»¥ç†è§£çš„å‚æ•°æˆ–è€…è¿”å›å€¼ // å‘é€å¯¹è±¡ä¸ºç©ºï¼Œä»£è¡¨æ˜¯ä¸€æ¡å¹¿æ’­æ¶ˆæ¯ if (StringUtils.isEmpty(payload.getTo())){ ... } else { broadcast } è­¦ç¤ºä¼šå‡ºç°æŸç§åæœ // è¯¥æ–¹æ³•ä½¿ç”¨ä¸€ä¸ªlistenerçš„ç¡®è®¤ ä½¿ç”¨synchronizedå…³é”®å­—ä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è¿›å…¥ public synchronized ConfirmResult sendTextMessage(String target, String text) {...} TODOæ³¨é‡Š // å‘æ¶ˆæ¯é˜Ÿåˆ—å†™å…¥æ¶ˆæ¯ï¼šè®¢å• è®¢å•è¯¦æƒ… TODO å¼ºè°ƒæ–¹æ³•è²Œä¼¼ä¸åˆç†ä¹‹å¤„çš„é‡è¦æ€§ void onMessage(ByteBuf buf){ ... buf.release(); // éœ€è¦å‡å°‘ç¼“å†²åŒºçš„å¼•ç”¨è®¡æ•° } å…¬å…± API ä¸­çš„ Javadoc åæ³¨é‡Š æ— æ³•ç»™è¯»è€…æä¾›æœ‰æ•ˆçš„ä¿¡æ¯ // æäº¤ä»»åŠ¡ boolean success = submitTask(); å¤šä½™çš„æ³¨é‡Š/åºŸè¯æ³¨é‡Š ç¼–å†™ä»£ç æ—¶ ç€é‡äºä»£ç çš„è¡¨ç°åŠ› è€ŒéåŠ ä¹‹ä»¥æ³¨é‡Š // bad ç­‰å¾…timeoutä¸ªæ—¶é—´ ç„¶åå…³é—­ void close(int timeout){ wait(timeout); close(); } è¯¯å¯¼æ€§æ³¨é‡Š ä»£ç ä¸æ³¨é‡Šæ‰€è¯´çš„ä¸æ˜¯ä¸€å›äº‹ å¾ªè§„è¹ˆçŸ©æ³¨é‡Šï¼šæ¯ä¸ªæ–¹æ³•å˜é‡éƒ½è¦javadoc æ—¥å¿—å¼æ³¨é‡Šè®°å½•æ¯ä¸€æ¬¡ä¿®æ”¹ åœ¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå‡ºç°åæ„ä¹‰ä¸å¤§ æ ‡è®°æ æ³¨é‡Š // æ³¨æ„!!! //////////// ç‰¹åˆ«é‡è¦æ‰ä½¿ç”¨ ä½¿ç”¨å¤šçš„è¯ å°±ä¼šè¢«æ·¹æ²¡åœ¨å¤§é‡æ–œæ ä¸­ æ‹¬å·åé¢çš„æ³¨é‡Š å¯¹äºå¤§å‡½æ•°æˆ–è®¸æ‰æœ‰æ„ä¹‰ try{ if (){ while(){ }//while } // if }catch{ } // catch ä½œè€…ä¸ç½²å åŒæ · VCSå¯ä»¥å·¥ä½œçš„æ›´å¥½ æ³¨é‡Šæ‰çš„ä»£ç  åŒ…å«ç€HTMLæ ‡ç­¾çš„æ³¨é‡Š æºå¸¦éæœ¬åœ°ä¿¡æ¯ // æäº¤ä»»åŠ¡ æ¯éš”5åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ è¿™é‡Œçš„5åˆ†é’Ÿè·Ÿè¿™ä¸ªå‡½æ•°æ¯«æ— å…³ç³» void submitTask(); ä¿¡æ¯è¿‡å¤š å°†ä¸€äº›RFCææ¡ˆæ•´ä¸ªæ·»åŠ åˆ°æ³¨é‡Šé‡Œ æ ¼å¼ åŸå§‹ä»£ç å…¶ä»£ç é£æ ¼å’Œå¯è¯»æ€§ä»ä¼šå½±å“åˆ°å…¶å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ å‚ç›´æ ¼å¼ çŸ­æ–‡ä»¶æ¯”å¸¸æ–‡é™æ›´æ˜“äºç†è§£ // ç´§å¯†åœ¨ä¸€èµ·çš„ä»£ç ä»£è¡¨æ¦‚å¿µç›¸å…³ DeliveryInfoDO deliveryInfoDO = new DeliveryInfoDO(); deliveryInfoDO.setBuilding(deliveryDTO.getBuilding()); deliveryInfoDO.setDetail(deliveryDTO.getDetail()); // ä½¿ç”¨ç©ºç™½è¡Œéš”å¼€ æ¯ä¸ªç©ºç™½è¡Œéƒ½æ˜¯ä¸€ä¸ªçº¿ç´¢ deliveryRepository.save(deliveryInfoDO); if (deliveryDTO.getDefaultDelivery() != null && deliveryDTgetDefaultDelivery()) { consumerDeliveryRepository.resetDefaultDelivery(consumer.getUserId()); } å‚ç›´è·ç¦»ï¼š å…³ç³»å¯†åˆ‡çš„æ¦‚å¿µåº”ç›¸äº’é è¿‘ æœ¬åœ°å˜é‡å£°æ˜å°½å¯èƒ½é è¿‘å…¶ä½¿ç”¨ä½ç½® å®ä½“å˜é‡å£°æ˜åœ¨ç±»çš„é¡¶éƒ¨(Java) æœ‰è”ç³»çš„å‡½æ•°æ”¾åœ¨ä¸€èµ· è°ƒç”¨è€…å°½å¯èƒ½åœ¨è¢«è°ƒç”¨è€…ä¸Šé¢ æ¨ªå‘æ ¼å¼ å°½åŠ›ä¿æŒä»£ç è¡ŒçŸ­å° ä½¿ç”¨ç©ºæ ¼åˆ†å‰²ç›¸å…³æ€§è¾ƒå¼±çš„å…ƒç´ ï¼š åˆ†å‰²èµ‹å€¼æ“ä½œç¬¦ int[] data = new int[10]; åˆ†å‰²å‡½æ•°å‚æ•° deliveryService.updateDelivery(token, deliveryId, deliveryDTO); ä½¿ç”¨ç¼©è¿›è¡¨ç°æºæ–‡ä»¶çš„ç»§æ‰¿ç»“æ„ ç¼©è¿›å¯ä»¥å¿«é€Ÿå±•ç°å‡ºå½“å‰çš„èŒƒå›´ å¯¹è±¡å’Œæ•°æ®ç»“æ„ è¿‡ç¨‹å¼ä»£ç å®¹æ˜“åœ¨ä¸æ”¹åŠ¨æ•°æ®ç»“æ„çš„æƒ…å†µä¸‹å¢åŠ å‡½æ•° é¢å‘å¯¹è±¡åˆ™å®¹æ˜“åœ¨ä¸æ”¹åŠ¨å‡½æ•°çš„æƒ…å†µä¸‹å¢åŠ æ–°ç±» è¿ªç±³ç‰¹æ³•åˆ™ï¼šæ¨¡å—ä¸åº”äº†è§£å®ƒæ‰€æ“ä½œå¯¹è±¡çš„å†…éƒ¨æƒ…å½¢ // bad String url = host.getContext().getServlet().getName(); é¿å…åœ¨DTOä¸­å¡å…¥é€»è¾‘ ä¿æŒç®€å•setgetå³å¯ é”™è¯¯å¤„ç† ä½¿ç”¨å¼‚å¸¸è€Œéè¿”å›ç  å…ˆå†™try-catchè¯­å¥ try-catchå®šä¹‰äº†ä¸€ä¸ªèŒƒå›´ ä½¿ç”¨TDDå¼€å‘å‰©ä¸‹çš„é€»è¾‘ ä½¿ç”¨ä¸å¯æ§å¼‚å¸¸ å¯æ§å¼‚å¸¸è¿åäº†å¼€é—­åŸåˆ™ åº•å±‚çš„ä¿®æ”¹ä¼šç›´æ¥è´¯ç©¿åˆ°é«˜å±‚ æ„é€ å¼‚å¸¸æ—¶ æä¾›è¶³å¤Ÿçš„ç¯å¢ƒè¯´æ˜ ä»¥ä¾¿å¿«é€Ÿæ’é”™ æ ¹æ®è°ƒç”¨è€…éœ€è¦å®šä¹‰å¼‚å¸¸ ä¹Ÿå°±è¯´æ‰“åŒ…ç¬¬ä¸‰æ–¹ API try { } catch(ThirdPartException e){ throw new BusinessException(e); } ä½¿ç”¨ç‰¹ä¾‹æ¨¡å¼æ¥é¿å…åº”ä»˜å¼‚å¸¸ // bad try { getEmployee().run(); } catch(NullPointerException e){ ... } void getEmployee(){ maybe return null; } // good void getEmployee(){ normal return new Employee(); sometimes return new EmptyEmployee(); } é¿å…ä¼ é€’null è¾¹ç•Œ æ•´æ´çš„è¾¹ç•Œåº”è¯¥é¿å…æˆ‘ä»¬çš„ä»£ç è¿‡å¤šäº†è§£ç¬¬ä¸‰æ–¹ä»£ç ä¸­çš„ä¿¡æ¯ ç¬¬ä¸‰æ–¹åŒ… å°è£…ç¬¬ä¸‰æ–¹APIæ¥é¿å…åœ¨ç³»ç»Ÿä¸­ä¼ é€’ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¥å£ å­¦ä¹ æ€§æµ‹è¯•ï¼šé€šè¿‡ç¼–å†™æµ‹è¯•æ¥å­¦ä¹ ç¬¬ä¸‰æ–¹API ä¸ä»…å¯ä»¥å­¦ä¹ APIä½¿ç”¨ åŒæ—¶æµ‹è¯•ä¹Ÿæ˜¯æ›´æ–°ç¬¬ä¸‰æ–¹åŒ…æ—¶çš„ä¿éšœ ä½¿ç”¨å°šä¸å­˜åœ¨çš„ä»£ç  é€šè¿‡é€‚é…å™¨é€‚é…å°šæœªå®ç°çš„æ¥å£ æ¥è¿›è¡Œå·²çŸ¥ä¸æœªçŸ¥çš„éš”ç¦» // æœªçŸ¥ interface ThirdPartInterface{...} // æœªçŸ¥ä¸å·²çŸ¥çš„äº¤ç•Œå¤„ interface ThirdPartAdapter extends ThirdPartInterface{...} å•å…ƒæµ‹è¯• è„æµ‹è¯•ç­‰åŒäºç”šè‡³åäºæ²¡æµ‹è¯• æµ‹è¯•å¿…é¡»éšç€ç”Ÿäº§ä»£ç æ¼”è¿›è€Œä¿®æ”¹ å•å…ƒæµ‹è¯•ä½¿ä»£ç å¯æ‰©å±• å¯ç»´æŠ¤ å¯å¤ç”¨ ä½œç”¨ï¼š æå‡è½¯ä»¶è´¨é‡ ä¿ƒè¿›ä»£ç ä¼˜åŒ– æå‡åæœŸæ•ˆç‡ å¢åŠ é‡æ„è‡ªä¿¡ å•å…ƒæµ‹è¯•ç¼–å†™åŸåˆ™ï¼š è¾¹ç•Œå€¼æµ‹è¯• è¾¹ç•Œæ˜¯æœ€å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ æ­£ç¡®çš„è¾“å…¥ å¹¶å¾—åˆ°é¢„æœŸçš„ç»“æœ é”™è¯¯çš„è¾“å…¥ å¾—åˆ°é¢„æœŸçš„é”™è¯¯ç»“æœ æ•´æ´çš„æµ‹è¯•ä»£ç  å¯è¯»æ€§ æ„é€ -æ“ä½œ-æ£€éªŒ é€šè¿‡ä¸æ–­é‡æ„æµ‹è¯•å°±ä¼šæ…¢æ…¢å¾—åˆ°ä¸€ä¸ªæ–‡æ¡£çš„æµ‹è¯•API éšç€é‡æ„ä»£ç ä¹Ÿä¼šæ›´æœ‰è¡¨ç°åŠ› assertUserExistsInDatabase(\"cxk\"); // ä¸€ä¸ªæµ‹è¯•API å¯¹äºæµ‹è¯•ç¯å¢ƒ CPUå†…å­˜ç­‰èµ„æºæ²¡æœ‰é‚£ä¹ˆç´§å¼  æ‰€ä»¥æµ‹è¯•ä¹Ÿå¹¶éä¸€å®šè¦è¿½æ±‚æ•ˆç‡ æ¯ä¸ªæµ‹è¯•åº”æ‹¥æœ‰å°½å¯èƒ½å°‘çš„æ–­è¨€ ä¸ªäººè®¤ä¸º å¯ä»¥å¯¹æ–­è¨€è¿›è¡ŒæŠ½è±¡ å¦‚ä¸Šè¿°çš„æµ‹è¯•API åŒæ—¶ æµ‹è¯•åº”åªæµ‹è¯•ä¸€ä¸ªæ¦‚å¿µ å°†å¤šä»¶äº‹æ··æ‚åœ¨ä¸€èµ·åªä¼šå¯¼è‡´æ¦‚å¿µçš„æ··ä¹± @Test void testUserService(){...} // bad è¿‡äºæ··æ‚ @Test void testUserInsertFailed(){...} // better æ•´æ´æµ‹è¯•çš„å‡†åˆ™ï¼šFIRST fast æµ‹è¯•è¿è¡Œè¦è¶³å¤Ÿå¿« independent æµ‹è¯•ä¹‹é—´è¦ç›¸äº’ç‹¬ç«‹ repeatable æµ‹è¯•å¯åœ¨ä»»ä½•ç¯å¢ƒä¸­é‡å¤é€šè¿‡ self-validating é€šè¿‡ä¸€ä¸ªå¸ƒå°”å€¼è¡¨ç¤ºæµ‹è¯•æ˜¯å¦é€šè¿‡ï¼ˆè‡ªåŠ¨åŒ–ï¼‰ timely æµ‹è¯•è¦åŠæ—¶ç¼–å†™ æŒ‡çš„æ˜¯TDD æµ‹è¯•åœ¨ç”Ÿäº§ä»£ç ä¹‹å‰ç¼–å†™ å•å…ƒæµ‹è¯•è¦†ç›–ç‡ ç²—ç²’åº¦è¦†ç›–ï¼š æ–¹æ³•è¦†ç›–ä¸ç±»è¦†ç›– ç»†ç²’åº¦è¦†ç›–ï¼š è¡Œè¦†ç›– æ‰§è¡Œçš„è¯­å¥æ€»æ•° / å…¨éƒ¨è¯­å¥æ€»æ•° åˆ†æ”¯è¦†ç›– ç¡®ä¿åˆ¤å®šæ¡ä»¶çš„çœŸå‡éƒ½ä¼šè¢«æ‰§è¡Œ if (condition) {...} // condition ä¸ºçœŸä¸ºå‡çš„æ—¶å€™éƒ½è¦æµ‹è¯• æ¡ä»¶åˆ¤å®šè¦†ç›– è®©åˆ¤å®šæ¡ä»¶ä¸­çš„è¯­å¥çœŸå‡éƒ½ä¼šè¢«æ‰§è¡Œ if (condition1 && condition2) {...} // condtion1 å’Œ condtion2 ä¸ºçœŸä¸ºå‡çš„ç»„åˆ ä¹Ÿå°±æ˜¯è¦4ç§ç»„åˆ æ¡ä»¶ç»„åˆè¦†ç›– æ‰€æœ‰å‚æ•°çš„å¯èƒ½å–å€¼ è·¯å¾„è¦†ç›– æµ‹è¯•æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ ç±» ç»„ç»‡ï¼š public static int PORT = 8080; private static String MAGIC_NUMBER = 0XCAFE_BABE; private String instanceName; protected String subName; public void run(){...} private void innerRun(){...} å°½å¯èƒ½è¿›è¡Œå°è£… é™¤éç©ä¸å¾—ä»¥ å¦åˆ™ä¸è¦æš´éœ² ç±»åº”è¯¥çŸ­å°ï¼š åˆ¤æ–­ç±»çŸ­å°çš„æ ‡å‡†ä½¿ç”¨èŒè´£æ•°æ¥è¡¡é‡ è€Œéä»£ç è¡Œæ•° ç³»ç»Ÿåº”è¯¥ç”±è®¸å¤šçŸ­å°çš„ç±»è€Œéå°‘é‡å·¨å¤§çš„ç±»ç»„æˆ ç±»åº”åªç”±å°‘é‡å®ä½“å˜é‡ç»„æˆ è¿™äº›å˜é‡å¦‚æœåŒæ—¶è¢«è¶Šå¤šçš„å‡½æ•°æ“ä½œ å°±ä»£è¡¨è¿™ä¸ªç±»å†…èšæ€§è¶Šé«˜ é€šè¿‡æ‹†åˆ†å‡½æ•°ä»¥åŠå‡½æ•°ç›¸å…³çš„å®ä½“å˜é‡åˆ°å…¶ä»–ç±»æ¥å°†ä¸€ä¸ªå¤§ç±»æ‹†åˆ†ä¸ºå‡ ä¸ªå°ç±» æ–¹ä¾¿ä¿®æ”¹çš„ç»„ç»‡ï¼š ç¬¦åˆOCP ä½¿ç”¨æ¥å£éš”ç¦»ä¿®æ”¹ å½“é‡‡å–è¯¸å¦‚DIPç­‰åŸåˆ™æ—¶ ç³»ç»Ÿå„ä¸ªç»„ä»¶çš„è€¦åˆå°±å·²ç»éå¸¸ä½äº† æ­¤æ—¶ä¹Ÿæ–¹ä¾¿æµ‹è¯• ç³»ç»Ÿ åˆ†ç¦»ç³»ç»Ÿçš„æ„é€ ä¸ä½¿ç”¨ ä½¿ç”¨mainç»„ä»¶ï¼š ä½¿ç”¨å·¥å‚æ§åˆ¶å¯¹è±¡çš„åˆ›å»º ä½¿ç”¨ä¾èµ–æ³¨å…¥å®¹å™¨æ¥ç®¡ç†å¯¹è±¡ æµ‹è¯•é©±åŠ¨ç³»ç»Ÿæ¶æ„ ä»£ç å±‚é¢ä¸æ¶æ„å…³æ³¨é¢åˆ†ç¦»å¼€ é¿å…ä¾µå…¥æ€§ä»£ç  æ²¡æœ‰å¿…è¦å…ˆåšå¤§è®¾è®¡ å»¶è¿Ÿå†³ç­– ä½¿ç”¨DSL å¡«å¹³äº†é¢†åŸŸä¸å®ç°ä¹‹é—´ä»£ç çš„å£•æ²Ÿ è¿­è¿› ç®€å•è®¾è®¡åŸåˆ™ï¼š è¿è¡Œæ‰€æœ‰æµ‹è¯• ä¼šä¿ƒä½¿ç±»çŸ­å°ä¸”å•ä¸€ ç¬¦åˆSRP åŒæ—¶æµ‹è¯•è¶Šå¤š ä»£ç ä¹‹é—´è€¦åˆè¶Šä½ ç¬¦åˆDIP é‡æ„ æµ‹è¯•æ¶ˆé™¤äº†å¯¹ä¿®æ”¹ä»£ç çš„ææƒ§ ä¸å¯é‡å¤ ä»£ç å…·æœ‰è‰¯å¥½çš„è¡¨è¾¾åŠ› ä½¿ç”¨å¥½åç§° æ ‡å‡†å‘½åæ³• è‰¯å¥½çš„å•å…ƒæµ‹è¯•ä¹Ÿèƒ½è¡¨è¾¾å‡ºæŸä¸ªç±»çš„ä½œç”¨ å°½å¯èƒ½å‡å°‘ç±»å’Œæ–¹æ³• ä¼¼ä¹è¿åSRP ä½†æ˜¯è¿™æ¡è§„åˆ™ä¸SRPè¾¾åˆ°ä¸€ä¸ªå¹³è¡¡ å¹¶å‘ç¼–ç¨‹ å¹¶å‘è§£è€¦äº†ç›®çš„ä¸æ—¶æœº ä¸€äº›é—®é¢˜ï¼š å¹¶å‘ä¸€èˆ¬åªæœ‰åœ¨IOå¯†é›†å‹çš„ç¨‹åºæˆ–è€…æœ‰å¤šä¸ªå¤„ç†å™¨ä¸Šçš„æœºå™¨æ‰æœ‰æ•ˆç‡æå‡ å¹¶å‘ç³»ç»Ÿçš„è®¾è®¡ä¸å•çº¿ç¨‹è®¾è®¡æä¸ç›¸åŒ æ­£ç¡®çš„å¹¶å‘æ˜¯å¾ˆå¤æ‚çš„ é˜²å¾¡åŸåˆ™ è°¨è®°æ•°æ®å°è£… é™åˆ¶æ•°æ®ä½œç”¨åŸŸ ä¸¥æ ¼é™åˆ¶å¤šä¸ªçº¿ç¨‹è®¿é—®çš„å…±äº«æ•°æ® ä½¿ç”¨æ•°æ®å¤æœ¬ æœ‰äº›æƒ…å†µä¸‹çš„å¹¶å‘å¯ä»¥åªè¯» è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨å¤åˆ¶çš„æ–¹å¼é¿å…å…±äº« çº¿ç¨‹åº”å°½å¯èƒ½ç‹¬ç«‹ ä¸ä¸å…¶ä»–çº¿ç¨‹å…±äº«æ•°æ® æ‰§è¡Œæ¨¡å‹ å¤§éƒ¨åˆ†å¹¶å‘é—®é¢˜éƒ½æ˜¯ä¸‹åˆ—æ¨¡å‹çš„å˜ç§ï¼š ç”Ÿäº§è€…-æ¶ˆè´¹è€… é™å®šèµ„æºæ¨¡å‹ æœ‰ç€å›ºå®šæ•°é‡çš„èµ„æº è¯»è€…-å†™è€… è¯»å†™é—®é¢˜ å“²å­¦å®¶å°±é¤é—®é¢˜ èµ„æºç«äº‰é—®é¢˜ å»ºè®® ä¸è¦åœ¨å®¢æˆ·ç«¯è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªåŒæ­¥æ–¹æ³•ï¼š è¿™å¯èƒ½é€ æˆå¤šä¸ªçº¿ç¨‹ä¸‹çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ è§£å†³ï¼š å®¢æˆ·ç«¯ä»£ç é”å®š synchronized(lock){ obj.f1(); obj.f1(); } æœåŠ¡ç«¯é”å®š // AtomicInteger public int incrementAndGet(){} é€‚é…æœåŠ¡ç«¯ ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ ä¿æŒåŒæ­¥åŒºåŸŸå¾®å° å°½æ—©è€ƒè™‘å…³é—­é—®é¢˜ ã€€æµ‹è¯• å°†å¶ç„¶çš„å¤±è´¥çœ‹åšçº¿ç¨‹é—®é¢˜ å…ˆç¡®ä¿å•çº¿ç¨‹ä»£ç å¯å·¥ä½œ é…ç½®å¤šçº¿ç¨‹ä»£ç åœ¨ä¸åŒçš„é…ç½®ç¯å¢ƒä¸‹æ‰§è¡Œ åœ¨ä»£ç é‡Œæ’å…¥è¯•é”™ä»£ç ï¼šsleep yeild æ‰‹å·¥ aop é€ŸæŸ¥ æ³¨é‡Š æ³¨é‡Šåº”åªåŒ…å«æœ‰å…³ä»£ç çš„æŠ€æœ¯ä¿¡æ¯ã€€åƒä¿®æ”¹æ—¶é—´ã€€ä½œè€…ç­‰æ²¡å¿…è¦æ”¾å…¥æ³¨é‡Š å¯¹äºè¿‡æ—¶ã€€ä¸æ­£ç¡®çš„æ³¨é‡Šã€€è¿™äº›æ³¨é‡Šå¾ˆå¿«å°±ä¼šæ¶ˆå¤±ã€€å°‘å†™ å°‘å†™åºŸè¯æ³¨é‡Šã€€ä»£ç å·²ç»èƒ½è¡¨è¾¾çš„ã€€æ²¡å¿…è¦åŠ æ³¨é‡Š æ³¨é‡Šéœ€è¦èŠ±æ—¶é—´å†™åˆ°æœ€å¥½ ä»£ç ä¸è¦æ³¨é‡Šã€€ç›´æ¥åˆ é™¤ ç¯å¢ƒ ç³»ç»Ÿæ„å»ºä¸è¿è¡Œå•å…ƒæµ‹è¯•åº”åªéœ€ä¸€ä¸ªæŒ‡ä»¤ å‡½æ•° å‚æ•°è¶Šå°‘è¶Šå¥½ è¾“å‡ºå‚æ•°è¿åç›´è§‰ã€€é¿å…ä½¿ç”¨ æ ‡è¯†å‚æ•°åº”è¯¥è¢«æ¶ˆç­ ä¸¢å¼ƒæ°¸ä¸è°ƒç”¨çš„æ–¹æ³• ä¸€èˆ¬æ€§é—®é¢˜ ç†æƒ³çš„æºæ–‡ä»¶åªåŒ…å«ä¸€ç§ç¼–ç¨‹è¯­è¨€ å‡½æ•°æˆ–è€…ç±»çš„å®ç°åº”è¯¥æ˜¯å…¶ä»–ç¨‹åºå‘˜æ‰€æœŸå¾…çš„ å¯¹äºæµ‹è¯•éœ€è¦è¿½ç´¢æ¯ç§è¾¹ç•Œæ¡ä»¶ å¿½è§†å®‰å…¨è­¦å‘Šç›¸å½“å±é™© é‡å¤ æœ€æ˜æ˜¾çš„æ˜¯é‡å¤ä»£ç  è¾ƒéšè”½çš„æ˜¯ç›¸åŒçš„æ¡ä»¶åˆ¤æ–­ if switché“¾æ¡ æœ€éšè”½çš„æ˜¯ç®—æ³•ç›¸ä¼¼ã€€ä½†ä»£ç ä¸åŒ å»ºç«‹åˆé€‚çš„æŠ½è±¡å±‚çº§ æŠ½è±¡ç±»æ¥å®¹çº³è¾ƒé«˜å±‚çš„æ¦‚å¿µã€€å®ç°ç±»å®¹çº³è¾ƒä½å±‚ é€šå¸¸æ¥è¯´ã€€çˆ¶ç±»å¯¹ä¹‹ç±»ä¸€æ— æ‰€çŸ¥ éšè—æ•°æ®ã€€é€šè¿‡éšè—æ¥è¾¾åˆ°é™åˆ¶ä¿¡æ¯ã€€ä»è€Œæ§åˆ¶è€¦åˆåº¦ åˆ é™¤ä¸æ‰§è¡Œçš„æ­»ä»£ç  å‚ç›´åˆ†éš” æœ¬åœ°å˜é‡åº”è¯¥å®šä¹‰åœ¨å…¶é¦–æ¬¡ä½¿ç”¨çš„ä¸Šé¢ã€€ç§æœ‰å‡½æ•°åº”è¯¥å®šä¹‰åœ¨å…¶é¦–æ¬¡ä½¿ç”¨çš„ä¸‹é¢ æ¦‚å¿µå‰åä¸ä¸€è‡´ æ¯«æ— å…³ç³»çš„ä¸œè¥¿ä¸è¯¥è€¦åˆ ç±»çš„æ–¹æ³•åº”è¯¥åªå¯¹å®ƒè‡ªå·±çš„å˜é‡åŠå‡½æ•°æ„Ÿå…´è¶£ã€€å°‘å»ä¾èµ–å¤–éƒ¨ç±»çš„å˜é‡å‡½æ•° ä»£ç è¦å……åˆ†å±•ç°ä½œè€…æ„å›¾ å¯¹äºéœ€è¦è€ƒè™‘åŠ¨æ€è¡Œä¸ºçš„é™æ€æ–¹æ³•ã€€å¯èƒ½æœ‰é—®é¢˜ ä½¿ç”¨ä¸´æ—¶å˜é‡å­˜å‚¨è®¡ç®—è¿‡ç¨‹ã€€æä¾›å¯è¯»æ€§ å‡½æ•°åç§°åº”è¡¨è¾¾å…¶è¡Œä¸º è¦ç†è§£è‡ªå·±ç¼–å†™çš„ç®—æ³• æ¨¡å—çš„ä¾èµ–åº”è¯¥æ˜¯ç‰©ç†ä¾èµ– ä½¿ç”¨å¤šæ€å–ä»£if switch éµå¾ªå›¢é˜Ÿä»£ç è§„èŒƒ ç”¨å‘½åå¸¸é‡ä»£æ›¿é­”æ•° é¿å…ä»£ç å«ç³Šä¸æ¸… è‰¯å¥½çš„ç»“æ„ä¼˜äºè‰¯å¥½çš„å‘½å å¯¹æ¡ä»¶è¡¨è¾¾å¼è¿›è¡Œå‘½å ä¸€ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹ æš´éœ²å‡½æ•°è°ƒç”¨çš„å‰åé¡ºåº å°è£…è¾¹ç•Œæ¡ä»¶ å‡½æ•°åº”è¯¥åªæœ‰ä¸€ç§æŠ½è±¡å±‚çº§ é…ç½®æ•°æ®æ”¾åœ¨é«˜å±‚ é¿å…ä¼ é€’æµè§ˆã€€ä¹Ÿå°±æ˜¯æœ€å°çŸ¥é“åŸåˆ™ Java ä½¿ç”¨å¯¼å…¥é€šé…ç¬¦é¿å…è¿‡é•¿çš„å¯¼å…¥åˆ—è¡¨ ä¸è¦é€šè¿‡ç»§æ‰¿çš„æ–¹å¼ä½¿ç”¨å¸¸é‡ åç§° ä½¿ç”¨æè¿°æ€§çš„åç§° åç§°åº”ä¸æŠ½è±¡å±‚çº§ç›¸ç¬¦ ä½¿ç”¨æ ‡å‡†å‘½åæ³• åç§°æ— æ­§ä¹‰ ä¸ºè¾ƒå¤§çš„èŒƒå›´é€‰ç”¨è¾ƒé•¿çš„åç§° é¿å…ç¼–ç ã€€å‰ç¼€åç¼€ åç§°è¦è¯´æ˜å‰¯ä½œç”¨ æµ‹è¯• ä½¿ç”¨è¦†ç›–ç‡æµ‹è¯•è¦†ç›–å¤§éƒ¨åˆ†æµ‹è¯• æ³¨æ„è¾¹ç•Œæ¡ä»¶ ç¼ºé™·å¯èƒ½æ‰å †å‘ç”Ÿ æµ‹è¯•è¦å¿« MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-26 02:40:14 "},"è½¯ä»¶å·¥ç¨‹/ç¼–ç /ç¼–ç è§„èŒƒ.html":{"url":"è½¯ä»¶å·¥ç¨‹/ç¼–ç /ç¼–ç è§„èŒƒ.html","title":"ç¼–ç è§„èŒƒ","keywords":"","body":"ç¼–ç è§„èŒƒ å‘½å å½“å¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„åç§°çš„æ—¶å€™ï¼Œè¡¨æ˜å¯èƒ½æ˜¯å¯¹é—®é¢˜åŸŸç†è§£çš„è¿˜ä¸å¤Ÿé€å½» æœ‰æ„ä¹‰çš„å‘½å å‘½åä¸€è‡´æ€§ è‡ªè¯´æ˜æ€§ è§„èŒƒ ä»£ç è§„èŒƒ æ ¼å¼ ç©ºè¡Œ å‘½å æ—¥å¿— æ³¨æ„æ—¥å¿—çº§åˆ« å¼‚å¸¸ ç»Ÿä¸€å¼‚å¸¸å¤„ç† é”™è¯¯ç  åŸ‹ç‚¹è§„èŒƒ æ¶æ„è§„èŒƒ ç ´çª—æ•ˆåº” å‡½æ•° é€šè¿‡å‡½æ•°å°è£…åˆ¤æ–­ é¿å…è¿‡é•¿çš„å‡½æ•°å‚æ•°åˆ—è¡¨ é¿å…è¿‡é•¿çš„å‡½æ•° å•ä¸€èŒè´£åŸåˆ™ ç²¾ç®€è¾…åŠ©ä»£ç  åˆ¤ç©º é‰´æƒ ... ç»„åˆå‡½æ•° å…¬æœ‰å‡½æ•°çš„è¯­ä¹‰æ˜¯å…¶å®ç°çš„æ¦‚è¦ å‡½æ•°å¼ç¼–ç¨‹ è®¾è®¡åŸåˆ™ SOLID DRY dont repat youself YAGNI you ain't gonna need it Rule of Three ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶ï¼Œç¼–å†™å®ƒ ç¬¬äºŒæ¬¡ä½¿ç”¨æ—¶ï¼Œå¤åˆ¶å®ƒ ç¬¬ä¸‰æ¬¡ä½¿ç”¨æ—¶ï¼Œå°±éœ€è¦è¿›è¡Œå°è£…äº† KISS keep it simple and stupid POLA æœ€å°æƒŠå¥‡åŸåˆ™ è®¾è®¡æ¨¡å¼ ä¸€ç§å·¥å…·æˆ–æ‰‹æ®µï¼Œæä¾›äº†å…¬è®¤çš„è¯è¯­æ¦‚å¿µ æ¨¡å‹ UML é¢†åŸŸæ¨¡å‹ DDD æ•°æ®é©±åŠ¨ï¼šå¯¹æ•°æ®åº“å»ºæ¨¡->ç¼–å†™ä¸šåŠ¡é€»è¾‘ ç›¸å¯¹äºä¼ ç»Ÿçš„è´«è¡€è¿‡ç¨‹å¼ç¼–ç¨‹ DDDå……åˆ†åˆ©ç”¨äº†é¢å‘å¯¹è±¡çš„ä¼˜ç‚¹ï¼Œå®ä½“æ‹¥æœ‰è¡Œä¸ºï¼Œè¯­ä¹‰åŒ–æ›´é«˜ ä¸€äº›æ¦‚å¿µï¼š é¢†åŸŸå®ä½“ èšåˆæ ¹ é¢†åŸŸæœåŠ¡ é¢†åŸŸäº‹ä»¶ è¾¹ç•Œä¸Šä¸‹æ–‡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-27 01:02:45 "},"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼.html","title":"è®¾è®¡æ¨¡å¼","keywords":"","body":"è®¾è®¡æ¨¡å¼ æ¨¡å¼å¼€å‘è€…æ˜¯å¦‚ä½•ç¼–å†™æ¨¡å¼çš„ï¼š åå¤æ€è€ƒ è®°å½•è§£å†³é—®é¢˜å¤±è´¥ä¸æˆåŠŸçš„ç»éªŒ åæ€ç³»ç»Ÿçš„è®¾è®¡ ä»¥ç»“æ„åŒ–çš„æ–¹å¼æœ‰æ•ˆæè¿°æ¨¡å¼ å°½æ—©æ¶‰åŠå…·ä½“é—®é¢˜ ä¿æŒæ¨¡å¼æ­£äº¤ ä¸ºä»€ä¹ˆç¡¬ç¼–ç ä¸å¥½ï¼Ÿä¸å¤Ÿçµæ´»ï¼Œå½“éœ€æ±‚å‘ç”Ÿå˜æ›´ï¼Œå°±å¾—å¯¹ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œè¿™å°†å®¹æ˜“äº§ç”Ÿé”™è¯¯å¹¶ä¸”ä¸åˆ©äºå¤ç”¨ å¼€é—­åŸåˆ™ å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ é‡Œæ°ä»£æ¢åŸåˆ™ ä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç° ä¾èµ–å€’è½¬åŸåˆ™ é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ è¿ªç±³ç‰¹æ³•åˆ™ ä¸€ä¸ªå®ä½“åº”å½“å°½é‡å°‘çš„ä¸å…¶ä»–å®ä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ åˆæˆå¤ç”¨åŸåˆ™ åŸåˆ™æ˜¯å°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-09 07:50:21 "},"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼/åˆ›å»ºå‹æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼/åˆ›å»ºå‹æ¨¡å¼.html","title":"åˆ›å»ºå‹æ¨¡å¼","keywords":"","body":"åˆ›å»ºå‹æ¨¡å¼ å°è£…äº†ç³»ç»Ÿä½¿ç”¨å“ªäº›ç±» éšè—äº†è¿™äº›ç±»ç±»çš„å®ä¾‹æ˜¯å¦‚ä½•åˆ›å»ºå’Œæ”¾åœ¨ä¸€èµ·çš„ å»ºé€ è€… å°†å¤æ‚å¯¹è±¡çš„æ„å»ºä¸è¡¨ç¤ºç›¸åˆ†ç¦»ï¼ŒåŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤º å¯ä»¥æ”¹å˜ä¸€ä¸ªäº§å“å†…éƒ¨è¡¨ç¤º æ„é€ ä»£ç ä¸è¡¨ç¤ºä»£ç åˆ†ç¦» å¯¹æ„é€ è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ interface Builder{ Builder process1(); Builder process2(); Builder process3(); Product build(); } class ConcreteBuilder implements Builder{ // æ–¹æ³•å®ç°... } class ProductDirector{ public Product constructProduct(Builder builder){ builder.process1(); builder.process2(); builder.process3(); return builder.build(); } } // ä½¿ç”¨ ProductDirector director = new ProductDirector(); Product product = director.constructProduct(new ConcreteBuilder()); å·¥å‚æ¨¡å¼ ç®€å•å·¥å‚ å®¢æˆ·æ— éœ€çŸ¥é“å…·ä½“äº§å“çš„åç§°ï¼Œåªéœ€è¦çŸ¥é“äº§å“ç±»æ‰€å¯¹åº”çš„å‚æ•°å³å¯ class Factory{ public Product get(int condition){ switch(condition){ case 1: return new Product1(); case 2: return new Product2(); } return null; } } ä½†æ˜¯å·¥å‚çš„èŒè´£è¿‡é‡ï¼Œè€Œä¸”å½“ç±»å‹è¿‡å¤šæ—¶ä¸åˆ©äºç³»ç»Ÿçš„æ‰©å±•ç»´æŠ¤ å·¥å‚æ–¹æ³• å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œè®©å­ç±»åˆ›å»ºè¯¥æ¥å£çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯å°†å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å·¥å‚çš„å­ç±» å·¥å‚æ–¹æ³•æ¨¡å¼é€‚åˆäºæ„é€ åŒå±äºåŒä¸€ä¸ªç±»åˆ«çš„ä¸åŒäº§å“ï¼Œæ‰€æœ‰çš„äº§å“å±äºåŒä¸€ä¸ªç³»åˆ—ä¸­ æ¨¡æ¿æ–¹å¼å’Œå·¥å‚æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³éå¸¸ç±»ä¼¼ï¼Œ éƒ½æ˜¯æŠŠä¸€äº›æ“ä½œç•™ç»™å­ç±»å»å®ç°ã€‚æ¨¡æ¿æ–¹æ³•ç»å¸¸ä½¿ç”¨å·¥å‚æ–¹æ³•ä½œä¸ºå…¶ç®—æ³•çš„ä¸€éƒ¨åˆ† abstract class AbstractCreator{ abstract Product get(); public void doSomething(){ // do something Product product = get(); // do something } } class Creator1 extends AbstractCreator{ Product get(){...} } class Creator2 extends AbstractCreator{ Product get(){...} } // ä½¿ç”¨ Factory factory = new Creator2(); Product product = factory.doSomething(); æŠ½è±¡å·¥å‚ æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå…·ä½“ç±» åˆ†ç¦»äº†å…·ä½“çš„ç±» ä½¿å¾—äº§å“æ”¹å˜å˜å¾—å®¹æ˜“ åˆ©äºç»´æŠ¤äº§å“çš„ä¸€è‡´æ€§ æ‰©å±•äº§å“ç§ç±»å›°éš¾ abstract class Factory{ abstract Product get(int condition); } class ProductAFactory extends Factory{ ProductA get(int condition){...} } class ProductBFactory extends Factory{ ProductB get(int condition){...} } // ä½¿ç”¨ Factory factory = new ProductAFactory(); Product product = factory.get(condition); åœ¨å®è·µä¸­ï¼Œæ¯ä¸ªå·¥å‚ä¸€èˆ¬éƒ½ä¼šæ˜¯å•ä¾‹ã€‚å·¥å‚å†…éƒ¨å¯ä½¿ç”¨åŸå‹æ¨¡å¼æ¥å®ç° åŸå‹ é€šè¿‡ä¸€ä¸ªåŸå‹å¯¹è±¡åˆ›å»ºæ–°çš„å¯¹è±¡ å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ»åŠ¨æ€æ”¹å˜äº§å“ç§ç±» æ”¹å˜å€¼æˆ–ç»“æ„å°±èƒ½è·å¾—æ–°å¯¹è±¡ åŠ¨æ€é…ç½® class Product { Part1 part1; @Override protected Object clone() throws CloneNotSupportedException { Product product = (Product) super.clone(); product.part1 = (Part1)part1.clone(); return product; } } å•ä¾‹ ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶åªæ‹¥æœ‰ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ é—®é¢˜ï¼šè°æ¥é”€æ¯å•ä¾‹å¯¹è±¡ï¼Ÿä»€ä¹ˆæ—¶å€™é”€æ¯ï¼Ÿ å•ä¾‹æ¨¡å¼é€‚ç”¨äºç”Ÿå‘½å‘¨æœŸå¾ˆé•¿çš„å¯¹è±¡ ä¸€èˆ¬ä¸ä¼šæ˜¾å¼é”€æ¯ ä½¿ç”¨SingletonDestroyeråœ¨ç¨‹åºå…³é—­æ—¶è¿›è¡Œé”€æ¯ å¯¹äºç›¸äº’ä¾èµ–çš„å•ä¾‹å¯¹è±¡ éœ€è¦æ³¨æ„é¡ºåº é¥¿æ±‰å¼ ç±»åˆå§‹åŒ–æ—¶,ä¼šç«‹å³åŠ è½½è¯¥å¯¹è±¡ï¼Œçº¿ç¨‹å¤©ç”Ÿå®‰å…¨,è°ƒç”¨æ•ˆç‡é«˜ public class Singleton { private static final Singleton SINGLETON = new Singleton(); private Singleton() { } public static Singleton getInstance(){ return SINGLETON; } } æ‡’æ±‰å¼ ç±»åˆå§‹åŒ–æ—¶,ä¸ä¼šåˆå§‹åŒ–è¯¥å¯¹è±¡,çœŸæ­£éœ€è¦ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šåˆ›å»ºè¯¥å¯¹è±¡,å…·å¤‡æ‡’åŠ è½½åŠŸèƒ½ public class Singleton { private static Singleton SINGLETON ; private Singleton() { } // çº¿ç¨‹ä¸å®‰å…¨ public static Singleton getInstance(){ if (SINGLETON == null){ SINGLETON = new Singleton(); } return SINGLETON; } } é™æ€å†…éƒ¨ç±»æ–¹å¼ ç»“åˆäº†æ‡’æ±‰å¼å’Œé¥¿æ±‰å¼å„è‡ªçš„ä¼˜ç‚¹ï¼ŒçœŸæ­£éœ€è¦å¯¹è±¡çš„æ—¶å€™æ‰ä¼šåŠ è½½ï¼ŒåŠ è½½ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ public class Singleton { private Singleton() { } private static class SingletonClass{ public static final Singleton SINGLETON = new Singleton(); } public static Singleton getInstance(){ return SingletonClass.SINGLETON; } } æšä¸¾å•ä¾‹ ä½¿ç”¨æšä¸¾å®ç°å•ä¾‹æ¨¡å¼ ä¼˜ç‚¹:å®ç°ç®€å•ã€è°ƒç”¨æ•ˆç‡é«˜ï¼Œæšä¸¾æœ¬èº«å°±æ˜¯å•ä¾‹ï¼Œç”±jvmä»æ ¹æœ¬ä¸Šæä¾›ä¿éšœ!é¿å…é€šè¿‡åå°„å’Œååºåˆ—åŒ–çš„æ¼æ´ï¼Œ ç¼ºç‚¹æ²¡æœ‰å»¶è¿ŸåŠ è½½ public class Singleton { private Singleton() { } private enum SingletonEnum{ INSTANCE; private Singleton singleton; SingletonEnum() { singleton = new Singleton(); } public Singleton getSingleton() { return singleton; } } public static Singleton getInstance(){ return SingletonEnum.INSTANCE.getSingleton(); } } åŒé‡æ£€æµ‹åŠ é” public class Singleton { private static volatile Singleton SINGLETON; // å¦‚æœæ²¡æœ‰volatile JVMçš„æŒ‡ä»¤é‡æ’åºå¾ˆæœ‰å¯èƒ½å¯¼è‡´å®ä¾‹åŒ–å¤šä¸ªå¯¹è±¡ private Singleton() { } public static Singleton getInstance(){ if (SINGLETON == null){ synchronized (Singleton.class){ if (SINGLETON == null){ SINGLETON = new Singleton(); } } } return SINGLETON; } } // SINGLETON = new Singleton() å¯ä»¥åˆ†è§£ä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ 1 memory=allocate();// åˆ†é…å†…å­˜ ç›¸å½“äºcçš„malloc 2 ctorInstanc(memory) //åˆå§‹åŒ–å¯¹è±¡ 3 s=memory //è®¾ç½®sæŒ‡å‘åˆšåˆ†é…çš„åœ°å€ // ä¸Šè¿°ä¸‰ä¸ªæ­¥éª¤å¯èƒ½ä¼šè¢«é‡æ’åºä¸º 1-3-2ï¼Œä¹Ÿå°±æ˜¯ï¼š 1 memory=allocate();// åˆ†é…å†…å­˜ ç›¸å½“äºcçš„malloc 3 s=memory //è®¾ç½®sæŒ‡å‘åˆšåˆ†é…çš„åœ°å€ 2 ctorInstanc(memory) //åˆå§‹åŒ–å¯¹è±¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-06-04 03:41:31 "},"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼/ç»“æ„å‹æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼/ç»“æ„å‹æ¨¡å¼.html","title":"ç»“æ„å‹æ¨¡å¼","keywords":"","body":"ç»“æ„å‹æ¨¡å¼ å¦‚ä½•ç»„åˆç±»å’Œå¯¹è±¡ä»¥è·å¾—æ›´å¤§çš„ç»“æ„ é€‚é…å™¨ å°†ä¸€ä¸ªæ¥å£è½¬æ¢æˆå¦ä¸€ä¸ªæ¥å£ åŒå‘é€‚é…å™¨ interface Target{ void ops(); } class Adaptee{ public void run() { } } class Adapter implements Target{ private Adaptee adaptee; public Adapter(Adaptee adaptee) { this.adaptee = adaptee; } @Override public void ops() { // do something adaptee.run(); } } // ä½¿ç”¨ Target target = new Adapter(new Adaptee()); target.ops(); åˆ†ç±»ï¼š ç±»é€‚é…å™¨ å¯¹è±¡é€‚é… æ¥å£é€‚é…æ–¹å¼ æ¡¥æ¥ å°†æŠ½è±¡éƒ¨åˆ†ä¸å®ç°éƒ¨åˆ†åˆ†ç¦»,ä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ– abstract class Window { //... abstract setMenu(Menu menu) } interface Menu{} class LinuxWindow extends Window{...} class MacWindow extends Window{...} class PlainMenu implements Menu{...} class RichMenu implements Menu{...} ç»„åˆ å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„çš„éƒ¨åˆ†-æ•´ä½“å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—å®¢æˆ·ä½¿ç”¨å•ä¸ªå¯¹è±¡æˆ–ç»„åˆå¯¹è±¡éƒ½æœ‰ä¸€è‡´æ€§ interface Route { Route segement1, segement2; } // è·¯çº¿ class NationalHighway implements Route{} // å›½é“ class CountryRoad implements Route {} // ä¹¡é“ ç»„åˆæ¨¡å¼å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯å®¢æˆ·ç«¯ä½¿ç”¨æ‰€æœ‰èŠ‚ç‚¹çš„æ–¹å¼éƒ½ç›¸åŒï¼ŒåŒæ—¶è¿™äº›èŠ‚ç‚¹å†…éƒ¨åˆä»¥ç»„åˆçš„æ–¹å¼ç»„åˆå…¶ä»–èŠ‚ç‚¹ã€‚ è£…é¥°å™¨ ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ é¢å¤–çš„èŒè´£ è£…é¥°å™¨ä¸è¢«è£…é¥°çš„å¯¹è±¡éƒ½æ‹¥æœ‰åŒä¸€ä¸ªæ¥å£ï¼Œæ‰€ä»¥è¯´ï¼Œè£…é¥°å™¨å¯¹å®¢æˆ·æ¥è¯´æ˜¯é€æ˜çš„ abstract class InputStream{...} class FileInputStream extends InpurStream{...} å¤–è§‚ ä¸ºç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€è‡´çš„ç•Œé¢ class Facade{ private SubSystem1 subSystem1; private SubSystem2 subSystem2; void ops(){ subSystem1.ops1(); subSystem2.ops2(); } } // ä½¿ç”¨ Facade facade = new Facade(); facade.ops(); äº«å…ƒ å…±äº«ç³»ç»Ÿä¸­å¤§é‡çš„ç»†ç²’åº¦å¯¹è±¡ æé«˜æ€§èƒ½ class MessageFactory{ Message getHeartBeatMeessage(); } interface Message{...} class HeartBeatMessage implements Message{...} ä»£ç† ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†è®¿é—®æ§åˆ¶ åˆç§°ä¸ºå§”æ‰˜æ¨¡å¼ é™æ€ä»£ç† ç»“æ„ç®€å•ï¼Œä»£ç ç¹ç interface Subject{ void run(); } class Proxy implements Subject{ private Subject realObject = new RealSubject(); void run(){ //before realObject.run(); //after } } // ä½¿ç”¨ Subject subject = new Proxy(); subject.run(); åŠ¨æ€ä»£ç† JDKåŠ¨æ€ä»£ç† SubjectImpl impl = new SubjectImpl(); Subject proxy = (Subject) Proxy.newProxyInstance(impl.getClass().getClassLoader(), impl.getClass().getInterfaces(), (proxy1, method, args1) -> { System.out.println(\"pre invoke\"); return method.invoke(impl, args1); }); proxy.request(); å¦‚æœå¤šä¸ªæ¥å£é‡åï¼Œåˆ™è°ƒç”¨æ¥å£æ–¹æ³•ä»¥ç¬¬ä¸€ä¸ªæ¥å£ä¸ºä¸» cglibåŠ¨æ€ä»£ç† Enhancer enhancer = new Enhancer(); Object target = new Object(); enhancer.setSuperclass(Object.class); enhancer.setCallback((MethodInterceptor) (obj, method, args1, proxy) -> { System.out.println(method+\" invoke\"); return method.invoke(target, args1); }); Object o = enhancer.create(); System.out.println(o.hashCode()); generation gapï¼ˆç”Ÿæˆæ¨¡å¼ï¼‰ è¯¥æ¨¡å¼ä¼šç”Ÿæˆä»£ç å¯¼å‡ºè¡Œä¸º å†é€šè¿‡ç¼–ç¨‹æ¥ä¸°å¯Œç¨‹åºè¡Œä¸º åªä¿®æ”¹æˆ–æ‰©å±•ä¸€æ¬¡ è€Œå¯ä»¥ç”Ÿæˆä»£ç å¤šæ¬¡ winä¸‹çš„GUIè®¾è®¡å¥½åƒå°±è¿™ä¹ˆåšçš„ é—®é¢˜ï¼š éœ€æ±‚å˜åŒ–å¯¼è‡´ç”Ÿæˆä»£ç çš„å˜åŒ– è§£å†³æ–¹å¼ä¸€æ˜¯è­¦å‘Šç¦æ­¢ä¿®æ”¹ äºŒæ˜¯è®¡ç®—ä»£ç å·®å¼‚é‡æ–°ç”Ÿæˆ ä¸‰åˆ™æ˜¯éšè—ç”Ÿæˆçš„ä»£ç çš„ç»†èŠ‚ éš”ç¦»å˜ä¸ä¸å˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-27 08:41:09 "},"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼/è¡Œä¸ºæ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼/è¡Œä¸ºæ¨¡å¼.html","title":"è¡Œä¸ºæ¨¡å¼","keywords":"","body":"è¡Œä¸ºæ¨¡å¼ ä¸»è¦æ¶‰åŠåˆ°ç®—æ³•å’Œå¯¹è±¡ä¹‹é—´çš„èŒè´£åˆ†é… è´£ä»»é“¾ ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œé¿å…å‘é€è€…ä¸æ¥å—è€…ä¹‹é—´çš„è€¦åˆ æ‹¥æœ‰åŠ¨æ€æ·»åŠ èŒè´£çš„çµæ´»æ€§ ä¸ä¿è¯è¢«æ¥å— public interface Filter { void doFilter(ServletRequest var1, ServletResponse var2, FilterChain var3) throws IOException, ServletException; } public class LoggingFilter implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { //... } } åœ¨GOFçš„ä¹¦ä¸­æè¿°çš„è´£ä»»é“¾æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªåç»§èŠ‚ç‚¹ï¼Œå‰é©±èŠ‚ç‚¹å¯æ ¹æ®ç‰¹å®šçš„é€»è¾‘æ¥å°†è¯·æ±‚ä¼ é€’åˆ°åç»§èŠ‚ç‚¹æ¥è¿›è¡Œå¤„ç†ï¼Œä»£è¡¨ç€ä¸€ç§è´£ä»»çš„è½¬ç§»ã€‚ å¦å¤–ä¸€ç§è´£ä»»é“¾çš„å˜ä½“æ¨¡å¼ï¼š å¼•å…¥ä¸€ä¸ªè´£ä»»é“¾å®ä½“ï¼Œå³è´£ä»»é“¾èŠ‚ç‚¹ç¼–æ’å™¨ï¼š public class Chain { void process(){ for(var chainNode : chain) { if (!chainNode.process()) { break; } } } } è´£ä»»é“¾èŠ‚ç‚¹å¯é€šè¿‡ä¼ å›ä¸€ä¸ªå¸ƒå°”å€¼æˆ–è€…æŠ›å‡ºå¼‚å¸¸æ¥ç»ˆæ­¢æ•´ä¸ªæµç¨‹ã€‚ è¿™ç§æ–¹å¼çš„é—®é¢˜åœ¨äºæ— æ³•å®ç°ç±»ä¼¼äºWeb Filterçš„å¯¹Responseçš„è¿‡æ»¤å¤„ç†ã€‚ä¸Šè¿°çš„Filterå¯ä»¥åœ¨åç»§Filterå¤„ç†å®Œæ¯•åå›æ¥å¤„ç†åç»§Filterå¤„ç†è¿‡çš„Responseï¼Œè€Œé€šè¿‡å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹ç¼–æ’æ ¡è‰²çš„æ–¹å¼åˆ™æ— æ³•å®ç°ã€‚ å‘½ä»¤ å°†è¯·æ±‚å°è£…ä¸ºå¯¹è±¡ è¯¥æ¨¡å¼è§£è€¦äº†è°ƒç”¨è¯·æ±‚çš„å¯¹è±¡ä¸çŸ¥é“å¦‚ä½•å¤„ç†è¯¥è¯·æ±‚çš„å¯¹è±¡ interface Command { void execute(); } class ConcreteCommand1 implements Command { Reveiver reveiver; void execute() { reveiver.action(); // do something } } class ConcreteCommand2 implements Command {...} class Invoker { void invoke(){ Command command; command.execute(); } } åœ¨è¯¥æ¨¡å¼çš„å®ç°ä¸­ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯å¯ä»¥è€ƒè™‘åœ¨Invokerè®°å½•è¯¥å‘½ä»¤çš„æ“ä½œå†å²ï¼Œå®šä¹‰å¦å¤–ä¸€ä¸ªæ¥å£unexecute æ¥å®ç°å¯¹å‘½ä»¤æ’¤é”€ã€‚ è§£é‡Šå™¨ å®šä¹‰ä¸€ä¸ªæ–‡æ³•ï¼Œå®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè§£é‡Šå™¨è§£é‡Šæ‰§è¡Œåšä¸€äº›æ“ä½œ è¿­ä»£å™¨ æä¾›ä¸€ç§é¡ºåºè®¿é—®å¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œå¹¶ä¸æš´éœ²å†…éƒ¨è¡¨ç¤º å¤–éƒ¨è¿­ä»£ä¸å†…éƒ¨è¿­ä»£çš„åŒºåˆ«åœ¨äºæ˜¯ç”±å®¢æˆ·æ§åˆ¶è¿˜æ˜¯è¿­ä»£å™¨æ§åˆ¶è¿­ä»£ interface Iterator{ hasNext(); next(); } class ArrayListItr implements Iterator{...} ä¸­ä»‹è€… ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ ä¸å¤–è§‚æ¨¡å¼ä¸åŒä¹‹å¤„åœ¨äºä¸­ä»‹æ¨¡å¼çš„äº¤äº’æ˜¯åŒå‘çš„ï¼Œè€Œå¤–è§‚æ¨¡å¼åªæ˜¯ä»å¤–è§‚å¯¹è±¡åˆ°å­ç³»ç»Ÿä¹‹é—´çš„å•å‘åè®® å¤‡å¿˜å½• ä¸ç ´åå°è£…æ€§çš„æƒ…å†µä¸‹ï¼Œä¿å­˜ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ è§‚å¯Ÿè€… å®šä¹‰å¯¹è±¡é—´ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–° å…·ä½“ç›®æ ‡ä¸å…·ä½“è§‚å¯Ÿè€…ä¹‹é—´æ˜¯æŠ½è±¡è€¦åˆ å¹¿æ’­é€šä¿¡ æ¨æ¨¡å‹ä¸æ‹‰æ¨¡å‹ abstract class Subject{ add(Observer ob); del(Observer ob); notify(); } interface Observer{ update(); } class ConcreteSubject{ notify(){ obServerlist.forEachNotify(); } } class ConcreteObserver implements Observer{ ... } çŠ¶æ€ å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸º å¯¹è±¡å°±æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå½“ä»ä¸€ä¸ªçŠ¶æ€è½¬ç§»åˆ°å¦å¤–ä¸€ä¸ªçŠ¶æ€ï¼Œå…¶è¡Œä¸ºå°±ä¼šå‘ç”Ÿæ”¹å˜ class LoginContext{ private UserState state; login(){ state.login() } } interface UserState{ login(); } class UserNormalState{ login(){ if (loginFailCount == 5){ context.state = new UserBannedState(); } print \"login success\"; } } class UserBannedState{ login(){ print \"you are banned\"; } } ç­–ç•¥æ¨¡å¼ å°è£…ä¸€ç³»åˆ—ç®—æ³•ï¼Œä»¥ä½¿å®ƒä»¬å¯ä»¥äº’ç›¸æ›¿æ¢ ç­–ç•¥æ¨¡å¼ä¸çŠ¶æ€æ¨¡å¼ä¹‹é—´çš„åŒºåˆ«åœ¨äºçŠ¶æ€æ¨¡å¼çš„å„ä¸ªçŠ¶æ€ä¹‹é—´æ˜¯æœ‰è”ç³»çš„ interface Strategy{ void execute(..); } class Context { private Strategy strategy; public Context(Strategy strategy) { this.strategy = strategy; } void execute(){ strategy.execute(..); } } class StrategyA implements Strategy{ // å…·ä½“å®ç° } // ä½¿ç”¨ Context context = new Context(new StrategyA()); context.execute(); ç­–ç•¥æ¨¡å¼è¦æ±‚å®¢æˆ·ä»£ç å¿…é¡»äº†è§£ä¸åŒç­–ç•¥æ¨¡å¼çš„å·®å¼‚ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·å¿…é¡»é’ˆå¯¹å…·ä½“å®ç°è¿›è¡Œç¼–ç ã€‚ å¦å¤–ä¸€ä¸ªè¦è€ƒè™‘çš„æ˜¯ä¸åŒç­–ç•¥æ‰€éœ€è¦çš„å‚æ•°ä¸åŒï¼Œè™½ç„¶å¯ä»¥ä¸€è‚¡è„‘å°†å…¨éƒ¨å‚æ•°ä¼ é€’ç»™å…·ä½“ç­–ç•¥ï¼Œä½†ä¸ºäº†é™ä½æ€§èƒ½å¼€é”€ï¼ŒæŸäº›ç­–ç•¥å¹¶ä¸éœ€è¦ç”¨åˆ°é‚£ä¹ˆå¤šå‚æ•°ï¼Œæ­¤æ—¶å¯ä»¥ä¼ é€’ä¸€ä¸ªContextçš„å¼•ç”¨ç»™å…·ä½“ç­–ç•¥ï¼Œè®©å…·ä½“ç­–ç•¥æŒ‰éœ€ç´¢å–ï¼Œä½†è¿™ç§æ–¹å¼åˆ™å¯¹Contextæ¥å£çš„ç²’åº¦åšäº†è¿‡ç»†çš„è¦æ±‚ã€‚ ç»„åˆæ¨¡å¼ + ç­–ç•¥æ¨¡å¼ å¯ä»¥é€šè¿‡ç»„åˆå¤šä¸ªç­–ç•¥å¾—åˆ°ä¸€ä¸ªæ–°çš„ç­–ç•¥ï¼š class CompositeStrategy implements Strategy{ void execute(){ StrategyA... StrategyB... } } æ¨¡æ¿æ–¹æ³• åœ¨çˆ¶ç±»å½“ä¸­å®šä»¥ç®—æ³•éª¨æ¶ï¼Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»å½“ä¸­å®ç° å®ç°ä¸€äº›æ“ä½œæ—¶ï¼Œæ•´ä½“æ­¥éª¤å¾ˆå›ºå®šï¼Œä½†æ˜¯å‘¢ã€‚å°±æ˜¯å…¶ä¸­ä¸€å°éƒ¨åˆ†å®¹æ˜“å˜ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Œå°†å®¹æ˜“å˜çš„éƒ¨åˆ†æŠ½è±¡å‡ºæ¥ï¼Œä¾›å­ç±»å®ç° é’©å­æ“ä½œ abstract class BaseAlgorithm{ void process(){ process1(); process2(); } abstract void process1(); abstract void process2(); } class ConcreteAlgorithm extends BaseAlgorithm{ // å®ç°æ–¹æ³• } // ä½¿ç”¨ BaseAlgorithm algorithm = new ConcreteAlgorithm(); algorithm.process(); è®¿é—®è€… è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œ è¯†å›¾é¿å…æ–°åŠŸèƒ½çš„å¼•å…¥é€ æˆæ¥å£çš„ä¿®æ”¹ class Visitor { visit(ElementA); visit(ElementB); } class VisitorA extends Visitor { visit(ElementA){...} visit(ElementB){...} } class VisitorB extends Visitor { visit(ElementA){...} visit(ElementB){...} } class Element{ accept(Vistor); } class ElementA extends Element { accept(Vistor) { Visitor.visit(this) } } ... è®¿é—®è€…è®¾è®¡æ¨¡å¼æå‡ºçš„æ ¹æœ¬åŸå› æ˜¯ä¸ºäº†åœ¨ä¸ä¿®æ”¹ç±»çš„å‰æä¸‹ å¢åŠ ç±»çš„è¡Œä¸ºã€‚ åœ¨è¿™é‡Œï¼Œå½“éœ€è¦å¢åŠ æ–°çš„è¡Œä¸ºæ—¶ï¼Œå°±å°†æ–°å¢ä¸€ä¸ªå…·ä½“çš„Vistor ç„¶åä¼ é€’ç»™å“åº”çš„Elementã€‚ è¯¥æ¨¡å¼é€‚åˆåœ¨å¯¹è±¡æ•°æ®ç»“æ„ç¨³å®šï¼Œä¸ä¼šå˜æ›´ä¸”ç»å¸¸éœ€è¦å®šä¹‰æ–°æ“ä½œçš„åœºæ™¯ä¸‹ä½¿ç”¨ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-06-15 08:27:53 "},"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼/MVC.html":{"url":"è½¯ä»¶å·¥ç¨‹/è®¾è®¡æ¨¡å¼/MVC.html","title":"MVC","keywords":"","body":"MVC model:æ¨¡å‹ä»£è¡¨ä¸€ä¸ªå­˜å–æ•°æ®çš„å¯¹è±¡æˆ– JAVA POJOã€‚å®ƒä¹Ÿå¯ä»¥å¸¦æœ‰é€»è¾‘ï¼Œåœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–°æ§åˆ¶å™¨ view:è§†å›¾ä»£è¡¨æ¨¡å‹åŒ…å«çš„æ•°æ®çš„å¯è§†åŒ– controller:æ§åˆ¶å™¨ä½œç”¨äºæ¨¡å‹å’Œè§†å›¾ä¸Šã€‚å®ƒæ§åˆ¶æ•°æ®æµå‘æ¨¡å‹å¯¹è±¡ï¼Œå¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–°è§†å›¾ã€‚å®ƒä½¿è§†å›¾ä¸æ¨¡å‹åˆ†ç¦»å¼€ Model1æ¨¡å‹ Model2æ¨¡å‹ å½“æœ‰ç”¨æˆ·çš„è¡Œä¸ºè§¦å‘æ“ä½œæ—¶ï¼Œä¼šæœ‰æ§åˆ¶å™¨æ›´æ–°æ¨¡å‹ï¼Œå¹¶é€šçŸ¥è§†å›¾è¿›è¡Œæ›´æ–°ï¼Œåœ¨è¿™æ—¶è§†å›¾å‘æ¨¡å‹è¯·æ±‚æ–°çš„æ•°æ® ä¼˜åŠ¿ æ¸…æ™°çš„èŒè´£åˆ’åˆ† ç»„ä»¶ç‹¬ç«‹ï¼Œä»£ç é‡ç”¨ åæœŸç»´æŠ¤æ–¹ä¾¿ é€‚åˆä»»ä½•é¡¹ç›® å¼Šç«¯ å±•ç¤ºæ•°æ®æ…¢ï¼ˆé’ˆå¯¹jspï¼‰ å¯¹å¼€å‘è€…æ¶æ„è®¾è®¡èƒ½åŠ›è¦æ±‚é«˜ å¼‚æ­¥äº¤äº’ä¸æ–¹ä¾¿ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-06 06:03:42 "},"è½¯ä»¶å·¥ç¨‹/æœåŠ¡è®¡ç®—.html":{"url":"è½¯ä»¶å·¥ç¨‹/æœåŠ¡è®¡ç®—.html","title":"æœåŠ¡è®¡ç®—","keywords":"","body":"æœåŠ¡è®¡ç®— æœåŠ¡ æœåŠ¡æ—¶ä¸ºå®¢æˆ·æ‰€æ‰§è¡Œçš„éæŒä¹…çš„ï¼Œæ— å½¢çš„ä½“éªŒ æœåŠ¡æ¨¡å‹ä¸åˆ¶é€ æ¨¡å‹ å•çº¯çš„åˆ¶é€ æŒç»­å‡å°‘ï¼ŒæœåŠ¡äº§ä¸šæŒç»­å¢é•¿ æœåŠ¡ç³»ç»Ÿ ç”¨ä»¥å®ç°ä¸šåŠ¡æœåŠ¡çš„ITè½¯ä»¶ç³»ç»Ÿ ITä½¿èƒ½æœåŠ¡ï¼šä¸šåŠ¡æœåŠ¡ç”±æœåŠ¡ç³»ç»Ÿæä¾› é—®é¢˜ å¤æ‚ çµæ´» ä¸“ä¸šåŒ–ä¸å¤–åŒ… è®¡ç®—ç¯å¢ƒæ¼”åŒ– ITä¸“å®¶ä¸é¢†åŸŸä¸“å®¶çš„æ²Ÿé€š ä»·å€¼ä¸åˆ›æ–° æœåŠ¡ç³»ç»Ÿå®¶æ— é¢å‘æ³›å‹ ä½¿ç”¨è½¯ä»¶å·¥ç¨‹ç›¸å…³æ–¹æ³•å·¥å…·è¿›è¡Œå¼€å‘ å¤ç”¨ å‘½ä»¤å¼ï¼ˆè¿‡ç¨‹å¼ï¼‰æ³›å‹ é¢å‘å¯¹è±¡æ³›å‹ ä½¿ç”¨è®¾è®¡æ¨¡å¼åº”å¯¹å¯ä»¥é¢„æ–™åˆ°çš„å˜åŒ– åŸºäºæ„ä»¶çš„æ³›å‹ - åŸºäºæ„ä»¶ é¢å‘å¯¹è±¡ æŠ½è±¡è§†è§’ æ„ä»¶æ˜¯å¯¹å®¢è§‚ä¸–ç•Œçš„å®ä½“æˆ–è€…å®ä½“è”åˆèƒ½æä¾›çš„åŠŸèƒ½å’ŒæœåŠ¡çš„å»ºæ¨¡;ä»…ä»…å…³æ³¨å®ä½“çš„åŠŸèƒ½å’ŒæœåŠ¡ å¯¹è±¡æ˜¯å¯¹å®¢è§‚ä¸–ç•ŒåŸºæœ¬å®ä½“çš„æŠ½è±¡,å¼ºè°ƒå¯¹å®ä½“çš„å¯¹åº”åŠå¯¹å®ä½“çš„å»ºæ¨¡;æ¶‰åŠå®ä½“çš„é™æ€å±æ€§ç‰¹å¾ å¯å¤ç”¨ç¨‹åº¦å’Œå¤ç”¨æœºåˆ¶ ä»¥ç»„åˆçš„æ–¹å¼å®ç°å¤ç”¨ ä»¥ç»§æ‰¿çš„æ–¹å¼å®ç°å¤ç”¨ ç²’åº¦ä¸åŒ å¤§ å° æ„ä»¶:æ¨¡å—åŒ–çš„ã€å¯éƒ¨ç½²ã€å¯æ›¿æ¢çš„è½¯ä»¶ç³»ç»Ÿç»„æˆéƒ¨åˆ†ï¼Œå®ƒå°è£…äº†å†…éƒ¨çš„å…·ä½“å®ç°å¹¶å¯¹å¤–æä¾›ç»Ÿä¸€æ¥å£ã€‚ å¥½å¤„ï¼š æ¥å£ç¨³å®šï¼Œå†…éƒ¨å®ç°å‘ç”Ÿå˜åŒ–ä¸ä¼šå¯¼è‡´å˜åŒ–æ‰©æ•£ é¢å‘æœåŠ¡çš„æ³›å‹ æœåŠ¡ï¼šè‡ªæ²»ã€å¼€æ”¾ã€è‡ªæè¿°ã€ä¸å®ç°æ— å…³çš„ç½‘ç»œæ„ä»¶ æœåŠ¡ç»„åˆ é¢å‘æœåŠ¡çš„åº”ç”¨é€»è¾‘,éµå¾ªé¢å‘æœåŠ¡çš„è®¾è®¡åŸåˆ™,é‡‡ç”¨æœåŠ¡å’ŒæœåŠ¡ç»„åˆåŠ ä»¥å®ç°ã€‚ ç”±äºé¢å‘æœåŠ¡å€¾å‘äºå°†æœåŠ¡æ‰“é€ ä¸ºæ— å…³çš„ä¼ä¸šèµ„æº, -ä¸€ä¸ªæœåŠ¡å¯èƒ½è¢«å¤šä¸ªæ¶ˆè´¹è€…ç¨‹åºæ‰€è°ƒç”¨,å®ƒä»¬èƒ½åœ¨ä¸åŒçš„æœåŠ¡ç»„åˆä¸­ç»„åˆåŒä¸€ä¸ªæœåŠ¡ã€‚ æœåŠ¡åº“å­˜ æœåŠ¡åº“å­˜ï¼Œæ˜¯åœ¨ç»„ç»‡æˆ–ç»„ç»‡çš„åˆç†éƒ¨åˆ†è¾¹ç•Œå†…ä¸€ç»„ç‹¬ç«‹æ ‡å‡†åŒ–å¹¶æ²»ç†çš„å®Œå¤‡æœåŠ¡ã€‚ åˆ†å±‚ åº”ç”¨æœåŠ¡å±‚ ä¸šåŠ¡æœåŠ¡å±‚ ç¼–æ’æœåŠ¡å±‚ï¼ˆéå¿…é¡»ï¼‰ æ¼”åŒ– é¾™å·é£æ¨¡å‹ å„ä¸ªæœåŠ¡æŒ‰éœ€ç‹¬ç«‹å¼€å‘ ä¾èµ–å…ˆå‰çš„æœåŠ¡è¿›è¡Œå¼€å‘ ä½¿ç”¨å¼€å‘å®Œæˆçš„æœåŠ¡è¿›è¡Œç»„åˆï¼Œè¾¾åˆ°å¿«é€Ÿå¼€å‘ æœåŠ¡ç”Ÿæ€ç³»ç»Ÿ å½“æœåŠ¡åº“å­˜æŒ‰ç…§é¢å‘æœåŠ¡çš„æ–¹å¼è¿›è¡Œè‰¯å¥½è§„åˆ’å’Œè®¾è®¡ã€ç»è¿‡é•¿æ—¶é—´æ¼”åŒ–ã€å·²ç»åŸºæœ¬å®Œå¤‡;è¯¥ç»„ç»‡çš„æœåŠ¡ç³»ç»Ÿå‡å·²åˆç†åœ°è½¬å‘é¢å‘æœåŠ¡çš„å®ç°,é‚£ä¹ˆè¯¥ç»„ç»‡å†…çš„æœåŠ¡ç”Ÿæ€ç³»ç»Ÿå°±è¢«æ„å»ºèµ·æ¥ã€‚ å‚ç›´æœåŠ¡ï¼šå¯ä»¥è¢«æ¶ˆè´¹è€…ç›´æ¥è°ƒç”¨ï¼Œæ»¡è¶³æ¶ˆè´¹è€…éœ€æ±‚ æ°´å¹³æœåŠ¡ï¼šéœ€è¦ç»„åˆå¤šä¸ªæœåŠ¡æ‰èƒ½æä¾›æœåŠ¡ ç”Ÿå‘½å‘¨æœŸ åˆ†æ è®¾è®¡ å¼€å‘ æµ‹è¯• éƒ¨ç½² ç®¡ç† æœåŠ¡å±‚æ¬¡ äº¤ä»˜ç­–ç•¥ï¼ˆå¼€å‘æ–¹å¼ï¼‰ è‡ªé¡¶å‘ä¸‹ï¼šåˆ†æä¼˜å…ˆ è‡ªåº•å‘ä¸Šï¼šæŒ‰éœ€äº¤ä»˜ï¼Œå°è£…å¹¶é›†æˆé—ç•™ç³»ç»Ÿ æ•æ·ç­–ç•¥ é¢å‘æœåŠ¡çš„è®¡ç®— å¿«é€Ÿã€ä½æˆæœ¬ã€‚åœ¨å¼‚æ„ç¯å¢ƒä¸­åˆ†å¸ƒå¼åº”ç”¨çš„çµæ´»ç»„åˆ é¢å‘å¯¹è±¡ vs é¢å‘æœåŠ¡ ç‰¹ç‚¹ é¢å‘å¯¹è±¡çš„è®¡ç®— é¢å‘æœåŠ¡çš„è®¡ç®— æ–¹æ³•è®º é€šè¿‡å®šä¹‰ç´§è€¦åˆçš„ç±»æ¥è¿›è¡Œåº”ç”¨å¼€å‘åº”ç”¨æ¶æ„ä¸ºåŸºäºç»§æ‰¿å…³ç³»çš„å±‚æ¬¡å¼æ¶æ„ä»æ„é€ å‡½æ•°ä¸€é€šè¿‡ç±»æˆ–æ¨¡å‹åˆ°ç³»ç»Ÿè®¾è®¡ é€šè¿‡å®šä¹‰æ¾è€¦åˆçš„æœåŠ¡æ¥è¿›è¡Œåº”ç”¨å¼€å‘,å¹¶å°†æœåŠ¡ç»„è£…æˆå¯æ‰§è¡Œçš„åº”ç”¨ä»ç³»ç»Ÿæ¨¡å‹åˆ°æœåŠ¡æ¨¡å—,ä»æœåŠ¡æŠ½è±¡å®šä¹‰åˆ°æœåŠ¡å®ç°ç»‘å®šé€šè¿‡æœç´¢è·å¾—å¯ç”¨çš„æœåŠ¡å®ç° æŠ½è±¡å’Œåä½œå±‚æ¬¡ å¾€å¾€ç”±ä¸€ä¸ªå›¢é˜Ÿæ¥è´Ÿè´£åº”ç”¨çš„å¼€å‘,å¹¶è´Ÿè´£æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå¼€å‘è€…å¿…é¡»äº†è§£åº”ç”¨é¢†åŸŸçŸ¥è¯†å’Œç¼–ç¨‹ å¼€å‘ä»»åŠ¡ç”±ä¸‰ä¸ªç‹¬ç«‹æ–¹æ‰¿æ‹…:åº”ç”¨ç¨‹åºå¼€å‘è€…,æœåŠ¡æä¾›æ–¹å’ŒæœåŠ¡ä»£ç†ã€‚å…¶ä¸­,åº”ç”¨ç¨‹åºå¼€å‘è€…éœ€è¦äº†è§£åº”ç”¨é€»è¾‘,ä½†ä¸éœ€è¦äº†è§£å…·ä½“çš„æœåŠ¡æ˜¯å¦‚ä½•å®ç°çš„ã€‚æœåŠ¡æä¾›è€…éœ€è¦ç¼–ç¨‹èƒ½åŠ›,ä½†ä¸å¿…äº†è§£ä½¿ç”¨æœåŠ¡çš„åº”ç”¨ ä»£åˆå…±äº«å’Œå¤ç”¨ ä»£ç å¤ç”¨é€šè¿‡ç±»æˆå‘˜çš„ç»§æ‰¿å’Œåº“å‡½æ•°åŠ ä»¥å®ç°ã€‚å…¶ä¸­åº“å‡½æ•°åœ¨ç¼–è¯‘æ—¶å¼•å…¥,ä¸”å¾€å¾€æ˜¯å¹³å°ç›¸å…³çš„ ä»£ç åœ¨æœåŠ¡å±‚æ¬¡å¤ç”¨ã€‚ æœåŠ¡ä½¿ç”¨æ ‡å‡†çš„ç»“æ„,å¹¶å‘å¸ƒåœ¨Internetåº“ä¸­ã€‚æœåŠ¡æ˜¯å¹³å°æ— å…³çš„ï¼Œä¸”èƒ½å¤Ÿè¢«æŸ¥æ‰¾å¹¶è¿œç¨‹è°ƒç”¨ã€‚æœåŠ¡ä»£ç†æ”¯æŒç³»ç»Ÿçš„æœåŠ¡å…±äº« åŠ¨æ€ç»‘å®šå’Œé‡æ–°ç»„åˆ åœ¨è¿è¡Œæ—¶å°†åç§°å’Œæ–¹æ³•è¿›è¡Œå…³è”ã€‚æ–¹æ³•å¿…é¡»åœ¨åº”ç”¨éƒ¨ç½²å‰é“¾æ¥åˆ°å¯æ‰§è¡Œçš„ä»£ç  åœ¨è¿è¡Œæ—¶å°†æœåŠ¡è°ƒç”¨å’ŒæœåŠ¡è¿›è¡Œç»‘å®šã€‚å¯ä»¥åœ¨åº”ç”¨éƒ¨ç½²å,å†è¿›è¡ŒæœåŠ¡é€‰å®šã€‚è¿™ä¸€ç‰¹è‰²ä½¿å¾—åº”ç”¨å¯ä»¥åœ¨è¿è¡Œæ—¶é‡ç»„ é‡ç»„ èº²åœ¨è®¾è®¡æ—¶å†³å®šå¯¼å…¥çš„ç»„ä»¶ å¯ä»¥åŠ¨æ€æ”¹å˜åº”ç”¨ç³»ç»Ÿä¸­æœåŠ¡çš„ç»„åˆå…³ç³»,ä»¥åŠæœåŠ¡å®šä¹‰ä¸æœåŠ¡å®ç°ä¹‹é—´çš„ç»‘å®šå…³ç³»,å³å®ç°åŠ¨æ€åœ°æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤å„ä¸ªæœåŠ¡èŠ‚ç‚¹ ç»„ä»¶é€šè®¯å’Œæ¥å£ ä¸å¹³å°å’Œè¯­è¨€æœ‰å…³,ä¾‹å¦‚C++ç¨‹åºéš¾ä»¥ç›´æ¥å’ŒJavaç¨‹åºé€šä¿¡ ä¸å¹³å°å’Œè¯­è¨€æ— å…³ã€‚ç»„ä»¶é—´é€šè¿‡æ ‡å‡†åè®®é€šä¿¡ï¼Œå¦‚XMLï¼ŒWSDLå’ŒSOAP ç³»ç»Ÿç»´æŠ¤ ç”¨æˆ·éœ€è¦æ—¶å¸¸å‡çº§è½¯ä»¶,ä¸”åœ¨æ‰§è¡Œå‡çº§æ—¶,åº”ç”¨å¿…é¡»åœæ­¢ é€šè¿‡äº’è”ç½‘å‡çº§ç³»ç»Ÿ,å› ä¸ºæœåŠ¡å¤šè¿è¡Œåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Š,ç”¨æˆ·é€šè¿‡äº’è”ç½‘è¿›è¡Œè®¿é—®ã€‚ç»´æŠ¤å¯¹ç”¨æˆ·é€æ˜ å¯é æ€§ åœ¨è®¾è®¡æ—¶å†³å®šå¯é æ€§çš„æ–¹æ³• å¯¹äºæœåŠ¡æä¾›è€…,æ¯ä¸ªæœåŠ¡ç›¸å¯¹ç®€å•ï¼Œæ›´åŠ å¯é ã€‚å¯¹äºåº”ç”¨ç¨‹åºå­˜åœ¨å¤šä¸ªæ»¡è¶³åŒä¸€-éœ€æ±‚çš„æœåŠ¡å¯ç”¨è¿‡å°†æ•…éšœæœåŠ¡çš„èŠ‚ï¼Œç‚¹æ–­å¼€å¹¶é‡æ–°ç»‘å®šåˆ°å¤‡é€‰æœåŠ¡èŠ‚ç‚¹ä¸Šï¼Œè·å¾—ä¸é—´æ–­çš„åº”ç”¨ç³»ç»Ÿ è½¯ä»¶æ‹¥æœ‰ è½¯ä»¶ä½œä¸ºäº§å“é”€å”®,ä¸ºç”¨æˆ·æ‰€æ‹¥æœ‰ è½¯ä»¶å­˜åœ¨å¹¶æ‰§è¡Œäºç‹¬ç«‹çš„æœåŠ¡æä¾›å•†çš„è®¾å¤‡ä¸Š,ç”¨æˆ·æŒ‰ç…§æ¯æ¬¡å¯¹æœåŠ¡ä½¿ç”¨ä»˜è´¹,è€Œä¸æ˜¯æŒ‰ç…§è½¯ä»¶äº§å“ä»˜è´¹ è€¦åˆ æå€¡é‡ç”¨å’Œæ¾è€¦åˆ,ä½†æ˜¯é¢„å…ˆå®šä¹‰çš„ç±»ä¾èµ–å¯¼è‡´æ›´å¤šçš„å¯¹è±¡ç´§å¯†ç»‘å®š æœåŠ¡çš„æ¾è€¦åˆç”±åŠŸèƒ½å’ŒæœåŠ¡åˆçº¦ç»™å®š ç²’åº¦ ä¸ºæ”¯æŒä¸åŒè§„æ¨¡çš„ä»»åŠ¡,æ”¯æŒç»†ç²’åº¦æ¥å£( API) é¼“åŠ±ç²—ç²’åº¦çš„æ¥å£( æœåŠ¡æè¿°) ,é€šè®¯æ¶ˆæ¯ä¸­åŒ…å«å°½å¯èƒ½å¤šçš„ä»»åŠ¡ç›¸å…³ä¿¡æ¯ ä½œç”¨åŸŸ å¯¹è±¡ä½œç”¨åŸŸæ›´å°ï¼Œæ›´æœ‰é’ˆå¯¹æ€§(å¾€å¾€åŸºäºä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿ) æœåŠ¡ä½œç”¨åŸŸæ˜¾è‘—ä¸åŒ(å¾€å¾€åŸºäºä¸€ä¸ªæœåŠ¡ç”Ÿæ€ç³»ç»Ÿ) å‰ç»æ€§ é¼“åŠ±å¤„ç†é€»è¾‘ä¸æ•°æ®çš„ç»‘å®šä»è€Œäº§ç”Ÿå¯¹è±¡ é¼“åŠ±åˆ›å»ºæ´»åŠ¨æ— å…³çš„ã€ç”±æ¶ˆæ¯é©±åŠ¨çš„æœåŠ¡ çŠ¶æ€æ€§ æ•°æ®å’Œé€»è¾‘çš„ç»‘å®š,å¯¼è‡´å¸¦çŠ¶æ€çš„å¯¹è±¡ æœåŠ¡å°½å¯èƒ½ä¿æŒæ— çŠ¶æ€æ€§ ç»„åˆ åœ¨æ”¯æŒå¯¹è±¡ç»„åˆçš„åŒæ—¶ä¹Ÿæ”¯æŒå¯¹è±¡çš„ç»§æ‰¿,ä»è€Œå¯¼è‡´ç´§è€¦åˆ æ”¯æŒæ¾æ•£è€¦åˆæœåŠ¡çš„ç»„åˆ é¢å‘æœåŠ¡çš„æ¶æ„SOA é¢å‘æœåŠ¡çš„ä¼ä¸š ä½¿ç”¨æœåŠ¡å¯¹åº”ç”¨å°è£… SOAä¸‰è§’æ“ä½œæ¨¡å‹ åˆ†å±‚ æ“ä½œå‹ç³»ç»Ÿå±‚ï¼šåªä¸ºä¸€ä¸ªç›®çš„æœåŠ¡ä¸€ç±»ç‰¹å®šç”¨æˆ· æœåŠ¡ç»„ä»¶å±‚ï¼šæä¾›ç”¨ä»¥å®ç°æœåŠ¡å±‚ä¸­æ‰€å®šä¹‰æœåŠ¡çš„ä»£ç å®¹å™¨ æœåŠ¡å±‚ï¼šæœåŠ¡å±‚å°†SOAä¸‰è§’æ“ä½œæ¨¡å‹ï¼Œæ‰©å±•ä¸ºç»¼åˆçš„é€»è¾‘å±‚æ¬¡,ä»¥æ”¯æŒæœåŠ¡æ³¨å†Œã€æœåŠ¡åˆ†è§£ã€æœåŠ¡å‘ç°ã€æœåŠ¡ç»‘å®šã€æ¥å£èšåˆå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ ä¸šåŠ¡è¿‡ç¨‹å±‚ï¼šä»¥ç»„åˆå’Œåˆ†è§£çš„æ–¹å¼å¤„ç†ä¸šåŠ¡é€»è¾‘ ç¼–æ’ ç¼–å¯¼ æ¶ˆè´¹è€…å±‚ï¼šé€šè¿‡ä¸šåŠ¡æœåŠ¡å¿«é€Ÿæ„å»ºç”¨æˆ·æ¥å£æ¥æ»¡è¶³æ¶ˆè´¹è€…éœ€æ±‚ web service xmlï¼šå®šä¹‰æ•°æ®ï¼Œä¿¡æ¯äº¤æ¢ xml schemaï¼šå®šä¹‰æ•°æ®ç»“æ„ soapï¼šå¹³å°æ— å…³æ¶ˆæ¯ä¼ é€ wsdlï¼šå¹³å°æŠ€æœ¯æ— å…³æœåŠ¡æè¿° ws-bpel/ws-cdl:è„šæœ¬ uddiï¼Œwsilï¼šæœåŠ¡å‘å¸ƒä¸æŸ¥æ‰¾ æŠ½è±¡æ¨¡å‹ SOAP æä¾›äº†å•å‘ã€ä¸å¸¦çŠ¶æ€çš„æ¶ˆæ¯äº¤äº’èŒƒå¼ ä¸€ä¸ªå®šä¹‰äº†æ¶ˆæ¯ä¼ è¾“çš„æ•°æ®æŠ½è±¡æ¥å£ WSDL æä¾›äº†ä¸€ç§åŸºäºXMLçš„æ ‡å‡†æ¥å£å®šä¹‰è¯­è¨€/æœåŠ¡èƒ½åŠ›å®šä¹‰è¯­è¨€,ç”¨ä»¥åœ¨æœåŠ¡çš„æä¾›è€…/è°ƒç”¨è€…/æœåŠ¡æ³¨å†Œä¹‹é—´,äº¤æ¢å¿…è¦çš„æœ‰å…³Web Serviceçš„ä¿¡æ¯ é¢å‘æœåŠ¡çš„åˆ†æ éœ€è¦æ„å»ºå“ªäº›æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡éœ€è¦å°è£…å“ªäº›é€»è¾‘ å®šä¹‰æµç¨‹è‡ªåŠ¨åŒ–éœ€æ±‚ è¯†åˆ«ç°æœ‰è‡ªåŠ¨åŒ–ç³»ç»Ÿ ä¸šåŠ¡æœåŠ¡ ä»¥ä»»åŠ¡ä¸ºæ ¸å¿ƒ ä»¥å®ä½“ä¸ºæ ¸å¿ƒ æœåŠ¡å»ºæ¨¡ é¢å‘æœåŠ¡è®¾è®¡ ä»æœåŠ¡å€™é€‰ä¸­æ´¾ç”Ÿå‡ºå…·ä½“çš„æœåŠ¡è®¾è®¡ï¼Œè£…é…åˆ°å®é™…ä¸šåŠ¡æµç¨‹ ä»¥å®ä½“ä¸ºæ ¸å¿ƒ åº”ç”¨æœåŠ¡ ä»¥ä»»åŠ¡ä¸ºæ ¸å¿ƒ æœåŠ¡å¼€å‘ ç‰¹å®šå¹³å°åŠè¯­è¨€ï¼š å¼€å‘å®šåˆ¶æœåŠ¡ åŒ…è£…é—ç•™ç³»ç»Ÿ æ„å»ºåº”ç”¨ç³»ç»Ÿ æœåŠ¡è®¾è®¡ æ ‡å‡†åŒ–æœåŠ¡åˆçº¦ æŠ€æœ¯æ€§ éæŠ€æœ¯æ€§ ç‰ˆæœ¬é—®é¢˜ï¼šæœåŠ¡åˆçº¦çš„æ¼”åŒ– æŠ€æœ¯ä¾èµ– æ ‡å‡†åŒ–æœåŠ¡ç­–ç•¥ æœåŠ¡è€¦åˆ é€»è¾‘-åˆçº¦è€¦åˆ å…ˆè®¾è®¡åˆçº¦ï¼Œå†è®¾è®¡åº•å±‚æ–¹æ¡ˆé€»è¾‘ åˆçº¦-é€»è¾‘è€¦åˆ æ ¹æ®å®é™…è®¾è®¡ç”Ÿäº§åˆçº¦ï¼Œæ˜¯ä¸€ç§åæ¨¡å¼ åˆçº¦-æŠ€æœ¯è€¦åˆ åˆçº¦-å®ç°è€¦åˆ åˆçº¦-åŠŸèƒ½è€¦åˆ æœåŠ¡æ²¡æœ‰å¯å¤ç”¨æ€§ æ¶ˆè´¹è€…-åˆçº¦è€¦åˆ æ¥å£ç²’åº¦ æœåŠ¡æŠ½è±¡ ä¸ºäº†è·å¾—ä¿¡æ¯éšè—çš„æ­£ç¡®å¹³è¡¡ç‚¹ æŠ½è±¡åº¦é‡ï¼šåˆçº¦å†…å®¹ è¯¦ç»†åˆçº¦ ç®€æ˜åˆçº¦ ä¼˜åŒ–åˆçº¦ æœåŠ¡å¯å¤ç”¨æ€§ è®¡åˆ’çš„å¯å¤ç”¨ é’ˆå¯¹çš„å¯å¤ç”¨ å®Œå…¨å¯å¤ç”¨ æ— å…³æœåŠ¡ä¸å‘¨å›´ç¯å¢ƒä¹‹é—´ä¿æŒä¸­ç«‹æˆ–è€…æ— å…³ æœåŠ¡è¶Šæ˜¯æ— å…³ï¼Œå¤ç”¨æ½œèƒ½è¶Šå¤§ æœåŠ¡å¯å¤ç”¨æ€§åŸåˆ™å€¾å‘äºé™ä½æœåŠ¡ç²’åº¦ æœåŠ¡è‡ªæ²» å½“å‰æœåŠ¡ä¸ä¾èµ–äºå…¶ä»–å› ç´  è¿è¡Œæ—¶è‡ªæ²» è®¾è®¡æ—¶è‡ªæ²» æœåŠ¡æ‹¥æœ‰è€…å¯¹æœåŠ¡ä¿®æ”¹çš„è‡ªç”±åº¦ é£é™©ï¼š é”™è¯¯åˆ¤æ–­äº†æœåŠ¡çš„èŒƒå›´ï¼Œå¯¼è‡´ä¿®æ”¹å›°éš¾ å¯¹é—ç•™ç³»ç»Ÿçš„å°è£…ï¼Œä¿®æ”¹å›°éš¾ è¿‡åº¦è®¾è®¡ æœåŠ¡æ— çŠ¶æ€æ€§ ä½¿ç”¨çŠ¶æ€åº“ä¿å­˜çŠ¶æ€ ä½¿ç”¨æ¶ˆæ¯ä¿å­˜çŠ¶æ€ ä»£ä»·ï¼š æ€§èƒ½ä»£ä»· è®¾è®¡ä»£ä»· æœåŠ¡å¯å‘ç°æ€§ æœåŠ¡å¯ç»„åˆæ€§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-12 10:10:30 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/æ¶æ„.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/æ¶æ„.html","title":"æ¶æ„","keywords":"","body":"æ¶æ„ æ¶æ„æ»¡è¶³äº†åº”ç”¨ç¨‹åºçš„éåŠŸèƒ½æ€§éœ€æ±‚ï¼šå¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•ä¸‹ã€å¯æ‰©å±•æ€§ã€å¯éƒ¨ç½²æ€§ç­‰ã€‚ æ¶æ„çš„åˆ†ç±»ï¼š åŸºç¡€æ¶æ„ ä»¥äº‘å¹³å° æ“ä½œç³»ç»Ÿç­‰åŸºç¡€è®¾æ–½ä¸ºä¸» ä¸­é—´ä»¶ä¸å¤§æ•°æ®æ¶æ„ ä¸šåŠ¡ç³»ç»Ÿæ¶æ„ é€šç”¨è½¯ä»¶ç³»ç»Ÿ åŠå…¬è½¯ä»¶ æµè§ˆå™¨ç­‰ä¸€ç±» ç¦»çº¿ä¸šåŠ¡ç³»ç»Ÿ å¤§æ•°æ®åˆ†æ æ•°æ®æŒ–æ˜ç³»ç»Ÿ åœ¨çº¿ä¸šåŠ¡ç³»ç»Ÿ åœ¨çº¿ä¸ºç‰¹å®šä¸šåŠ¡æœåŠ¡çš„ç³»ç»Ÿ è¿™äº›ä¸åŒåˆ†ç±»çš„æ¶æ„ç•Œé™ä¸æ˜¯å¾ˆæ¸…æ™° éšç€æ—¶é—´æ¼”è¿› å„ä¸ªç±»å‹ä¹‹é—´çš„ç³»ç»Ÿè¾¹ç•Œä¼šäº’ç›¸æ¸—é€ æ¶æ„è§†å›¾ï¼š æ¶æ„çš„æ¼”è¿› ç«™åœ¨åç«¯å¼€å‘äººå‘˜çš„è§’åº¦ä¸Šè½¯ä»¶æ¶æ„é£æ ¼ä»å¤§å‹æœºï¼ˆMainframeï¼‰ï¼Œåˆ°åŸå§‹åˆ†å¸ƒå¼ï¼ˆDistributedï¼‰ï¼Œåˆ°å¤§å‹å•ä½“ï¼ˆMonolithicï¼‰ï¼Œåˆ°é¢å‘æœåŠ¡ï¼ˆService-Orientedï¼‰ï¼Œåˆ°å¾®æœåŠ¡ï¼ˆMicroservicesï¼‰ï¼Œåˆ°æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰ï¼Œåˆ°æ— æœåŠ¡ï¼ˆServerlessï¼‰ è°ˆèµ·å¾®æœåŠ¡ï¼Œä¼šæƒ³åˆ°æŠ€æœ¯å¼‚æ„ï¼Œä¾¿äºéƒ¨ç½²ï¼Œé«˜æ€§èƒ½ç­‰ç­‰ï¼Œä½†è¿™äº›ä¼¼ä¹éƒ½åªæ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œæ¶æ„çš„æ ¸å¿ƒåœ¨äºè§£å†³è½¯ä»¶çš„å­˜æ´»é—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªè½¯ä»¶å‹æ ¹å°±ä¸èƒ½æä¾›æœåŠ¡ï¼Œè¿™äº›é”¦ä¸Šæ·»èŠ±çš„åŠŸèƒ½ä¹Ÿæ¯«æ— ä½œç”¨ æ¶æ„çš„ç›®æ ‡ ç”¨æœ€å°çš„äººåŠ›æˆæœ¬æ¥æ»¡è¶³æ„å»ºå’Œç»´æŠ¤è¯¥ç³»ç»Ÿçš„éœ€æ±‚ ä¹±éº»ç³»ç»Ÿ è¿‡åº¦çš„è‡ªä¿¡å¯¼è‡´è½¯ä»¶ç»´æŠ¤æˆæœ¬æŒç»­ä¸Šå‡ ä¸¤ä¸ªç»´åº¦ è¡Œä¸ºä»·å€¼ è®©ç³»ç»Ÿæ­£å¸¸è¿è¡Œ æ¶æ„ä»·å€¼ è®©ç³»ç»Ÿæ›´å®¹æ˜“ä¿®æ”¹ å››ç§æ¶æ„æ¨¡å¼ æŒ‰å±‚å°è£… ä¹Ÿå°±è¯´ä¼ ç»Ÿçš„æ°´å¹³åˆ†å±‚æ¶æ„ï¼Œåœ¨é¡¹ç›®åˆæœŸå¾ˆåˆé€‚ package controller{ Controller; } package service { Service; ServiceImpl; } package dao { Dao; } æŒ‰åŠŸèƒ½å°è£… å³å‚ç›´åˆ‡åˆ† package Order { OrderController; OrderService; OrderDao; } ç«¯å£ä¸é€‚é…å™¨ package controller{...} package domain { Service; ServiceImpl; Domain; } package dao{...} æŒ‰ç»„ä»¶å°è£… ä¼˜ç‚¹æœåŠ¡æ¶æ„çš„å‘³é“ package controller {...} package order { Service; Dao; } COLA åˆ†å±‚ æ‰©å±•è®¾è®¡ åœ¨ç³»ç»Ÿè®¾è®¡æ—¶ï¼Œé’ˆå¯¹ä¸šåŠ¡æˆ–è€…åœºæ™¯é¢„ç•™ä¸€äº›æ‰©å±•ç‚¹ å…·ä½“æŠ€æœ¯ä¸‹çš„æ¶æ„ å•ä½“æ¶æ„ï¼šSpring Boot ä½¿ç”¨ä¼ ç»Ÿçš„åˆ†å±‚ï¼Œæ‰“æˆä¸€ä¸ªjaråŒ… è¿è¡Œå®ƒ å¾®æœåŠ¡ï¼šSpring Cloud é«˜å¯ç”¨ é«˜æ€§èƒ½ç­‰éœ€æ±‚ä½¿æˆ‘ä»¬ä¸å¾—ä¸å¯¹ç³»ç»Ÿè¿›è¡Œæ‹†åˆ†ï¼Œåœ¨å‰é¢çš„å•ä½“æ¶æ„ä¸‹ï¼Œåˆ†æˆå¤šä¸ªå·¥ç¨‹ ä¸šåŠ¡ä»£ç ä¸æœåŠ¡åŸºç¡€è®¾æ–½ä»£ç è€¦åˆåœ¨ä¸€èµ· æ„æˆäº†ä¼ ç»Ÿçš„å¾®æœåŠ¡ï¼Œä¹Ÿæ˜¯ç›®å‰æœ€æµè¡Œçš„æ¶æ„ å¾®æœåŠ¡ï¼šK8S åœ¨ä¼ ç»Ÿçš„å¾®æœåŠ¡ä¸‹ï¼ŒåŸºç¡€è®¾æ–½ä»£ç ä¸ä¸šåŠ¡ä»£ç è€¦åˆåœ¨ä¸€èµ·ï¼Œè¿™ä¸ªé˜¶æ®µä¸‹ä½¿ç”¨äº†K8Sçš„å®¹å™¨åŸºç¡€è®¾æ–½æ¥å®Œæˆå¤§éƒ¨åˆ†æœåŠ¡æ²»ç†åŠŸèƒ½ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥æ›´ä¸“æ³¨æˆ‘ä»¬çš„ä¸šåŠ¡ æœåŠ¡ç½‘æ ¼ï¼šIstio K8Så°†æœåŠ¡æ²»ç†æ²‰æ·€åˆ°åŸºç¡€è®¾æ–½åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæ¥ä¸‹æ¥æœåŠ¡ç½‘æ ¼å°†è¿™äº‹åšçš„æ›´åŠ å½»åº•ï¼Œæ›´åŠ å¯ç®¡ç† å¯è§‚æµ‹ å¦å¤–ä¸€æ¡æ”¯çº¿ï¼šæ— æœåŠ¡ ä¸Šä¼ ä»£ç ï¼ŒæŸäº›äº‹ä»¶ä¼šè§¦å‘ä½ çš„ä»£ç è¿è¡Œå®ƒï¼Œå½»åº•ä¸ç”¨ç®¡ç†åŸºç¡€è®¾æ–½ï¼Œä¸€åˆ‡äº¤ç»™äº‘ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-18 09:29:20 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç¼–ç¨‹èŒƒå¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç¼–ç¨‹èŒƒå¼.html","title":"ç¼–ç¨‹èŒƒå¼","keywords":"","body":"ç¼–ç¨‹èŒƒå¼ ç»“æ„åŒ–ç¼–ç¨‹ ç»“æ„åŒ–ç¼–ç¨‹æ˜¯å¯¹ç¨‹åºçš„æ§åˆ¶æƒçš„ç›´æ¥è½¬ç§»è¿›è¡Œäº†é™åˆ¶å’Œè§„èŒƒ å¯æ¨å¯¼æ€§ é”™è¯¯åœ°ä½¿ç”¨gotoæ˜¯æœ‰å®³çš„ å¯å°†æ¨¡å—é€’å½’é™è§£ä¸ºå¯æ¨å¯¼çš„å•å…ƒ æµ‹è¯•åªèƒ½è¯æ˜ç¨‹åºå­˜åœ¨é”™è¯¯ï¼Œè€Œä¸èƒ½è¯æ˜å…¶æ­£ç¡® é¢å‘å¯¹è±¡ç¼–ç¨‹ é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯å¯¹ç¨‹åºçš„æ§åˆ¶æƒçš„é—´æ¥è½¬ç§»è¿›è¡Œäº†é™åˆ¶å’Œè§„èŒƒ å°è£… ç»§æ‰¿ å¤šæ€ å¤šæ€ä¸­æ¥å£ä¸å®ç°çš„å¼ºå¤§ä½œç”¨ ä¾èµ–åè½¬ å½“è¿›è¡Œä¾èµ–åè½¬ä¹‹åï¼Œè½¯ä»¶æ¨¡å—åˆ™å¯ä»¥è¿›è¡Œç‹¬ç«‹å¼€å‘ï¼Œç‹¬ç«‹éƒ¨ç½² å‡½æ•°å¼ç¼–ç¨‹ å‡½æ•°å¼ç¼–ç¨‹æ˜¯å¯¹èµ‹å€¼æ“ä½œè¿›è¡Œé™åˆ¶å’Œè§„èŒƒ å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„å˜é‡æ˜¯ä¸å¯å˜çš„ å¯å˜æ€§çš„éš”ç¦» æœåŠ¡è¢«åˆ‡åˆ†ä¸ºå¯å˜å’Œä¸å¯å˜ä¸¤ç§ç»„ä»¶ äº‹ä»¶æº¯æº ä¸ä¿å­˜å…·ä½“çŠ¶æ€ï¼Œè€Œæ˜¯ä¿å­˜æ“ä½œæ—¥å¿—ï¼Œæ ¹æ®æ—¥å¿—è®¡ç®—æŸä¸€å…·ä½“æ—¶åˆ»çš„çŠ¶æ€ æ€»ç»“ è½¯ä»¶ï¼Œæ˜¯ç”±é¡ºåºç»“æ„ï¼Œåˆ†æ”¯ç»“æ„ï¼Œå¾ªç¯ç»“æ„å’Œé—´æ¥è½¬ç§»å‡ ç§è¡Œä¸ºç»„æˆï¼Œæ— å¯å¢åŠ ï¼Œä¹Ÿç¼ºä¸€ä¸å¯ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-27 06:33:44 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/è®¾è®¡åŸåˆ™.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/è®¾è®¡åŸåˆ™.html","title":"è®¾è®¡åŸåˆ™","keywords":"","body":"è®¾è®¡åŸåˆ™ è½¯ä»¶æ„å»ºç›®æ ‡ æ”¹åŠ¨ ç†è§£ å¤ç”¨ SRP:å•ä¸€èŒè´£åŸåˆ™ ä»»ä½•ä¸€ä¸ªè½¯ä»¶æ¨¡å—éƒ½åº”åªå¯¹æŸä¸€ç±»è¡Œä¸ºè´Ÿè´£ ä¸»è¦è®¨è®ºçš„æ˜¯å‡½æ•°ä¸ç±»çš„å…³ç³» OCP:å¼€é—­åŸåˆ™ è®¾è®¡è‰¯å¥½çš„è½¯ä»¶åº”è¯¥å®¹æ˜“æ‰©å±•ï¼Œè€Œç¦æ­¢ä¿®æ”¹ å°†æ—§ä»£ç çš„ä¿®æ”¹é‡é™ä½è‡³æœ€å° ä¾èµ–æ–¹å‘çš„æ§åˆ¶ é€šè¿‡æ¥å£æ¥åè½¬ç»„ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä½¿å¾—é«˜é˜¶ç»„ä»¶ä¸ä¼šå› ä½é˜¶ç»„ä»¶è¢«ä¿®æ”¹è€Œå—åˆ°å½±å“ ä¿¡æ¯éšè— é€šè¿‡ä¸­é—´å±‚ä½¿é«˜å±‚ç»„ä»¶ä¸è¿‡åº¦ä¾èµ–ä½å±‚ç»„ä»¶çš„å†…éƒ¨ç»†èŠ‚ LSP:é‡Œæ°æ›¿æ¢åŸåˆ™ ä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚æœä½¿ç”¨çš„æ˜¯ä¸€ä¸ªåŸºç±»çš„è¯ï¼Œé‚£ä¹ˆä¸€å®šé€‚ç”¨äºå…¶å­ç±»ï¼Œè€Œä¸”å®ƒæ ¹æœ¬ä¸èƒ½å¯Ÿè§‰å‡ºåŸºç±»å¯¹è±¡å’Œå­ç±»å¯¹è±¡çš„åŒºåˆ« æ˜¯ä¸€ä¸ªæŒ‡å¯¼æ¥å£ä¸å…¶å®ç°æ–¹å¼çš„è®¾è®¡åŸåˆ™ ISP:æ¥å£éš”ç¦»åŸåˆ™ å¯¹æ¨¡å—æ¥è¯´ï¼Œè·Ÿå®ƒæ— å…³çš„æ¥å£ä¸€æ—¦å‘ç”Ÿå˜æ›´ï¼Œåº”è¯¥ä¸èƒ½å½±å“åˆ°è¯¥æ¨¡å— è½¯ä»¶è®¾è®¡å¦‚æœä¾èµ–äº†å®ƒå¹¶ä¸éœ€è¦çš„ä¸œè¥¿ï¼Œä¼šå¸¦æ¥éº»çƒ¦ DIP:ä¾èµ–åè½¬åŸåˆ™ æƒ³è¦è®¾è®¡ä¸€ä¸ªçµæ´»çš„ç³»ç»Ÿï¼Œåˆ™å°±åº”å¤šå¼•ç”¨æŠ½è±¡ç±»å‹ï¼Œè€Œéå…·ä½“å®ç° ä¸»è¦å…³æ³¨çš„æ˜¯ç³»ç»Ÿä¸­é‚£äº›ç»å¸¸å˜åŠ¨çš„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-28 07:07:35 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/æ•°æ®ç³»ç»Ÿ.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/æ•°æ®ç³»ç»Ÿ.html","title":"æ•°æ®ç³»ç»Ÿ","keywords":"","body":"æ•°æ®ç³»ç»Ÿ åœ¨çº¿ç³»ç»Ÿï¼šæœåŠ¡ç­‰å¾…å®¢æˆ·çš„è¯·æ±‚æˆ–æŒ‡ä»¤åˆ°è¾¾ã€‚æ¯æ”¶åˆ°ä¸€ä¸ªï¼ŒæœåŠ¡ä¼šè¯•å›¾å°½å¿«å¤„ç†å®ƒï¼Œå¹¶å‘å›ä¸€ä¸ªå“åº” æ‰¹å¤„ç†ç³»ç»Ÿï¼šå¤§é‡çš„è¾“å…¥æ•°æ®ï¼Œè·‘ä¸€ä¸ªä½œä¸šï¼ˆjobï¼‰æ¥å¤„ç†å®ƒï¼Œå¹¶ç”Ÿæˆä¸€äº›è¾“å‡ºæ•°æ® æµå¤„ç†ç³»ç»Ÿï¼šåƒæ‰¹å¤„ç†ç³»ç»Ÿä¸€æ ·ï¼Œæµå¤„ç†æ¶ˆè´¹è¾“å…¥å¹¶äº§ç”Ÿè¾“å‡ºï¼ˆå¹¶ä¸éœ€è¦å“åº”è¯·æ±‚ï¼‰ã€‚ä½†æ˜¯ï¼Œæµå¼ä½œä¸šåœ¨äº‹ä»¶å‘ç”Ÿåä¸ä¹…å°±ä¼šå¯¹äº‹ä»¶è¿›è¡Œæ“ä½œ åŸºçŸ³ å¯é æ€§ é€ æˆé”™è¯¯çš„åŸå› å«åšæ•…éšœï¼ˆfaultï¼‰ï¼Œé¢„æ–™å¹¶åº”å¯¹æ•…éšœçš„ç³»ç»Ÿç‰¹æ€§å¯ç§°ä¸ºå®¹é”™ï¼ˆfault-tolerantï¼‰ã€‚ æ•…éšœï¼ˆfaultï¼‰ä¸åŒäºå¤±æ•ˆï¼ˆfailureï¼‰ï¼Œæ•…éšœå®šä¹‰çš„æ˜¯ç³»ç»Ÿåç¦»æ­£å¸¸çŠ¶æ€ï¼Œå¤±æ•ˆåˆ™æ˜¯æ•´ä¸ªç³»ç»Ÿä¸èƒ½å¯¹ç”¨æˆ·æä¾›æœåŠ¡ å¯ä¼¸ç¼©æ€§ å¯ä¼¸ç¼©æ€§ï¼ˆScalabilityï¼‰ æ˜¯ç”¨æ¥æè¿°ç³»ç»Ÿåº”å¯¹è´Ÿè½½å¢é•¿èƒ½åŠ›çš„æœ¯è¯­ è´Ÿè½½å¯ä»¥ç”¨ä¸€äº›ç§°ä¸º è´Ÿè½½å‚æ•°ï¼ˆload parametersï¼‰ çš„æ•°å­—æ¥æè¿°,å¦‚æ¯ç§’è¯·æ±‚æ•°ã€è¯»å†™è¯·æ±‚æ¯”ç‡ç­‰ç­‰ã€‚ ä¸ºäº†æè¿°æ€§èƒ½ï¼Œå•ä¸ªè¯·æ±‚çš„å“åº”å‚æ•°æ˜¯æ²¡æœ‰å¤ªå¤šå‚è€ƒå‚è€ƒä»·å€¼çš„ï¼Œéœ€è¦é€šè¿‡ä¸€ä¸ªå¯æµ‹é‡çš„æ•°å€¼åˆ†å¸ƒæ¥æè¿°ï¼š ä¸ºäº†æ˜ç¡®å¤§å¤šæ•°ç”¨æˆ·çš„æŒ‡æ ‡ï¼Œä¸­ä½æ•°æ˜¯æœ€æœ‰ä»·å€¼çš„ã€‚ ä¸ºäº†åº”å¯¹è´Ÿè½½ï¼Œå¯ä»¥è¿›è¡Œå‚ç›´æ‰©å±•æˆ–è€…æ°´å¹³æ‰©å±•ã€‚æ²¡æœ‰ä¸€ç§é“¶å¼¹å¯ä»¥è§£å†³æ‰€æœ‰çš„åº”å¯¹è´Ÿè½½éœ€æ±‚ï¼Œä¸€ä¸ªè‰¯å¥½é€‚é…åº”ç”¨çš„å¯æ‰©å±•æ¶æ„ï¼Œæ˜¯å›´ç»•ç€å‡è®¾ï¼ˆassumptionï¼‰å»ºç«‹çš„ï¼Œè¿™å°±æ˜¯æ‰€è°“è´Ÿè½½å‚æ•°ã€‚ å¯ç»´æŠ¤æ€§ å¯æ“ä½œæ€§ï¼šé™ä½è¿ç»´å¤æ‚åº¦ã€‚ ç®€å•æ€§ï¼šé€šè¿‡å°è£…é™ä½å¤æ‚åº¦ã€‚ å¯æ¼”åŒ–æ€§ï¼šç®€å•æ˜“æ‡‚çš„ç³»ç»Ÿé€šå¸¸æ¯”å¤æ‚ç³»ç»Ÿæ›´å®¹æ˜“ä¿®æ”¹ã€‚ æ•°æ®æ¨¡å‹ ä¸åŒçš„æ•°æ®æ¨¡å‹æ˜¯ä¸ºä¸åŒçš„åº”ç”¨åœºæ™¯è€Œè®¾è®¡çš„ã€‚é€‰æ‹©é€‚åˆåº”ç”¨ç¨‹åºçš„æ•°æ®æ¨¡å‹éå¸¸é‡è¦ã€‚ åº”ç”¨å±‚æœ‰å„ç§é¢†åŸŸæ¦‚å¿µï¼Œå­˜å‚¨å±‚åˆ™æœ‰JSONã€XMLæˆ–å…³ç³»æ¨¡å‹ï¼Œæ•°æ®åº“å±‚åˆ™æœ‰ä»¥å†…å­˜æˆ–å­—èŠ‚æ¥è¡¨ç¤ºJSONã€XMLç­‰ï¼Œæœ€åº•å±‚ä½¿ç”¨ç”µæµæˆ–è€…è„‰å†²æ¥è¡¨ç¤ºå­—èŠ‚ã€‚ å…³ç³»æ¨¡å‹å·²ç»æŒç»­ç§°éœ¸äº†å¤§çº¦25~30å¹´ï¼Œ2010å¹´æ–°èµ·çš„NoSQLæ–‡æ¡£æ¨¡å‹åœ¨æœ€è¿‘ä¸€æ®µæ—¶é—´å†…ä¹Ÿæ…¢æ…¢ä¸å…³ç³»æ¨¡å‹é…åˆä½¿ç”¨ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œå…³ç³»æ•°æ®åº“å’Œæ–‡æ¡£æ•°æ®åº“ä¼¼ä¹å˜å¾—è¶Šæ¥è¶Šç›¸ä¼¼ã€‚ å½“å‰çš„æ–‡æ¡£æ¨¡å‹å’Œä¸Šä¸–çºª70å¹´ä»£çš„å±‚æ¬¡æ¨¡å‹å¾ˆåƒï¼Œä¸€å¯¹å¤šå¾ˆå®¹æ˜“æ”¯æŒï¼Œä½†å¤šå¯¹å¤šå°±æŠ“çäº†ï¼Œæ–‡æ¡£æ¨¡å‹ä¼šä¸ä¼šé‡è¹ˆå±‚æ¬¡æ¨¡å‹çš„è¦†è¾™ã€‚ æ–‡æ¡£æ¨¡å‹æ‹¥æœ‰è¾ƒå…³ç³»æ¨¡å‹å¼ºçš„æ¶æ„çµæ´»æ€§ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹æ•°æ®çš„è§£é‡Šæ˜¯å‘ç”Ÿåœ¨æˆ‘ä»¬çš„ä»£ç ä¹‹ä¸­ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦æ•°æ®æ¨¡å‹å‘ç”Ÿæ”¹å˜ï¼Œä¿®æ”¹ä»£ç å°±å¥½äº†ã€‚ åŒæ—¶æ–‡æ¡£æ¨¡å‹æ‹¥æœ‰æ•°æ®å±€éƒ¨æ€§ä¼˜åŠ¿ï¼Œä½†è¿™åªå¯¹åŒæ—¶éœ€è¦åŒä¸€æ–‡æ¡£é‡Œçš„å¤§éƒ¨åˆ†æ•°æ®æ—¶ä¸‹çš„åœºæ™¯æœ‰æ•ˆã€‚ æŸ¥è¯¢è¯­è¨€ ç›¸è¾ƒäºå‘½ä»¤å¼æŸ¥è¯¢ï¼Œå£°æ˜å¼æŸ¥è¯¢æ›´é€‚åˆå¹¶è¡Œã€‚ å¯¹äºå£°æ˜å¼æŸ¥è¯¢è¯­è¨€æ¥è¯´ï¼Œåœ¨ç¼–å†™æŸ¥è¯¢è¯­å¥æ—¶ï¼Œä¸éœ€è¦æŒ‡å®šæ‰§è¡Œç»†èŠ‚ï¼šæŸ¥è¯¢ä¼˜åŒ–ç¨‹åºä¼šè‡ªåŠ¨é€‰æ‹©é¢„æµ‹æ•ˆç‡æœ€é«˜çš„ç­–ç•¥ å­˜å‚¨ä¸æŸ¥è¯¢ è®¸å¤šæ•°æ®åº“åœ¨å†…éƒ¨ä½¿ç”¨äº†æ—¥å¿—ï¼ˆlogï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ª ä»…è¿½åŠ ï¼ˆappend-onlyï¼‰ çš„æ•°æ®æ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼å¯¹äºå†™å…¥çš„æ€§èƒ½éå¸¸å¥½ï¼Œä½†è¯»å–æ€§èƒ½å¾ˆå·®ï¼Œäºæ˜¯å¼•å…¥äº†ç´¢å¼•ã€‚ ç´¢å¼•æ˜¯æ•°æ®åº“ç»´æŠ¤çš„ä¸€ä¸ªä¸»æ•°æ®çš„é™„åŠ ç»“æ„ï¼Œæ ¹æ®è¿™ä¸ªé™„åŠ ç»“æ„å¯ä»¥æå‡æŸ¥è¯¢é€Ÿåº¦ï¼Œä½†ä¼šå¯¹å†™å…¥é€Ÿåº¦é€ æˆå½±å“ã€‚ å“ˆå¸Œç´¢å¼• è¿™ç§ç´¢å¼•è¦æ±‚å…¨éƒ¨çš„ç´¢å¼•è¦èƒ½æ”¾å…¥å†…å­˜ï¼Œè¿™ä¼šå¯¼è‡´è®¸å¤šé—®é¢˜ï¼ŒåŒæ—¶å“ˆå¸Œç´¢å¼•ä¹Ÿæ— æ³•è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾ã€‚ SSTableså’ŒLSMæ ‘ Bæ ‘ ä¸ºäº†é¿å…è¿›è¡Œäº‹åŠ¡åˆ†æå¯¹åœ¨çº¿äº‹åŠ¡çš„å½±å“ï¼Œé€šè¿‡é‡‡ç”¨åŒæ­¥æ•°æ®åˆ°æ•°æ®ä»“åº“çš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªéœ€æ±‚ï¼Œå°†æ•°æ®å­˜å…¥ä»“åº“çš„è¿‡ç¨‹ç§°ä¸ºâ€œæŠ½å–-è½¬æ¢-åŠ è½½ï¼ˆETLï¼‰â€ å¯¹äºéƒ¨åˆ†çš„æŸ¥è¯¢åªéœ€è¦ç”¨åˆ°å°‘éƒ¨åˆ†åˆ—ï¼Œä½†ä¸€ä¸ªäº‹å®è¡¨å¯èƒ½ç”¨æ¥æˆç™¾ä¸Šåƒä¸ªåˆ—ï¼Œè¿™ä¸ªæ—¶å€™å¼•å…¥åˆ—å­˜å‚¨æ¥æå‡æ€§èƒ½ ç¼–ç ä¸æ¼”åŒ– æ–°æ—§ç‰ˆæœ¬çš„ä»£ç ï¼Œä»¥åŠæ–°æ—§æ•°æ®æ ¼å¼å¯èƒ½ä¼šåœ¨ç³»ç»Ÿä¸­åŒæ—¶å…±å¤„ã€‚ç³»ç»Ÿæƒ³è¦ç»§ç»­é¡ºåˆ©è¿è¡Œï¼Œå°±éœ€è¦ä¿æŒåŒå‘å…¼å®¹æ€§ï¼š å‘åå…¼å®¹ï¼šâ€‹æ–°ä»£ç å¯ä»¥è¯»æ—§æ•°æ® å‘å‰å…¼å®¹ï¼šæ—§ä»£ç å¯ä»¥è¯»æ–°æ•°æ® æ•°æ®çš„ä½¿ç”¨å½¢å¼ï¼š åœ¨å†…å­˜ä¸­ï¼Œæ•°æ®ä¿å­˜åœ¨å¯¹è±¡ï¼Œç»“æ„ä½“ï¼Œåˆ—è¡¨ï¼Œæ•°ç»„ï¼Œå“ˆå¸Œè¡¨ï¼Œæ ‘ç­‰ä¸­ åœ¨ä¼ è¾“ä¸­ï¼Œæ•°æ®é€šè¿‡XMLæˆ–è€…JSONç­‰è¿›è¡Œç¼–ç  ç›¸è¾ƒäºXMLå’ŒJSONï¼ŒäºŒè¿›åˆ¶ç¼–ç æ›´åŠ èŠ‚çœç©ºé—´ã€‚ ä¸ºäº†ä¿è¯è½¯ä»¶æ¼”åŒ–è¿‡ç¨‹çš„å‘å‰å‘åå…¼å®¹ï¼Œå¯¹æ¯ä¸ªå­—æ®µï¼Œé€šè¿‡ä¸€ä¸ªå”¯ä¸€æ ‡ç­¾æ¥æ ‡å¿—ï¼Œåªè¦å­—æ®µä¸è¢«åˆ é™¤ï¼Œæ–°çš„ä»£ç è‚¯å®šå¯ä»¥å¤„ç†è€æ•°æ®ï¼Œä½†åè¿‡æ¥ï¼Œåªæœ‰æ·»åŠ çš„æ¯ä¸ªå­—æ®µæ˜¯å¯é€‰çš„æˆ–è€…æœ‰é»˜è®¤å€¼ï¼Œæ‰èƒ½å‘å‰å…¼å®¹ã€‚ æ•°æ®ç±»å‹ä¹Ÿå¯¹æ¼”åŒ–è¿‡ç¨‹æœ‰å½±å“ï¼Œå¦‚æœè€æ•°æ®æ—¶32ä½çš„ï¼Œæ–°æ•°æ®æ—¶64ä½çš„ï¼Œå‡çº§å¯ä»¥æ— ç¼è¿ç§»ï¼Œä½†å‘å‰å…¼å®¹æ—¶å°±ä¼šæœ‰é—®é¢˜ã€‚ ä½¿ç”¨è¯»è€…è·Ÿä½œè€…æ¨¡å¼è§£å†³å·®å¼‚ï¼š åŒæ—¶å¦‚æœæ•°æ®æµç»è¿‡æ—§ä»£ç ï¼Œé‚£ä¹ˆéƒ¨åˆ†æ•°æ®å¾ˆæœ‰å¯èƒ½ä¸¢å¤±ï¼š æµå¤„ç† æ¶ˆæ¯ç³»ç»Ÿ ç”Ÿäº§è€…ç›´æ¥åˆ°æ¶ˆè´¹è€… ä½¿ç”¨æ¶ˆæ¯ä»£ç†ç¼“å­˜ å½“æœ‰å¤šä¸ªæ¶ˆè´¹è€…æ—¶ï¼Œå¦‚ä½•è¿›è¡Œæ¶ˆæ¯ä¼ é€’ï¼š è´Ÿè½½å‡è¡¡ æ‰‡å‡º åˆ†åŒºæ—¥å¿—æ¶ˆæ¯ç³»ç»Ÿ æµä¸æ•°æ®åº“ å¦‚ä½•ä¿æŒåŒæ­¥ å˜æ›´æ•°æ®æ•è· äº‹ä»¶æº¯æº æµå¤„ç† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-23 10:16:05 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/ç³»ç»Ÿè®¾è®¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/ç³»ç»Ÿè®¾è®¡.html","title":"ç³»ç»Ÿè®¾è®¡","keywords":"","body":"ç³»ç»Ÿè®¾è®¡ æ€§èƒ½ æ€§èƒ½æŒ‡æ ‡ å“åº”æ—¶é—´ æŸä¸ªè¯·æ±‚ä»å‘å‡ºåˆ°æ¥æ”¶åˆ°å“åº”æ¶ˆè€—çš„æ—¶é—´ ååé‡ ç³»ç»Ÿåœ¨å•ä½æ—¶é—´å†…å¯ä»¥å¤„ç†çš„è¯·æ±‚æ•°é‡ï¼Œé€šå¸¸ä½¿ç”¨æ¯ç§’çš„è¯·æ±‚æ•°æ¥è¡¡é‡ å¹¶å‘ç”¨æˆ·æ•° ç³»ç»Ÿèƒ½åŒæ—¶å¤„ç†çš„å¹¶å‘ç”¨æˆ·è¯·æ±‚æ•°é‡ æ€§èƒ½ä¼˜åŒ– é›†ç¾¤ å°†å¤šå°æœåŠ¡å™¨ç»„æˆé›†ç¾¤ï¼Œä½¿ç”¨è´Ÿè½½å‡è¡¡å°†è¯·æ±‚è½¬å‘åˆ°é›†ç¾¤ä¸­ ç¼“å­˜ ç¼“å­˜å¯¹äºæ€§èƒ½çš„æå‡ä½“ç°åœ¨å“åº”æ—¶é—´ä¸Š å¼‚æ­¥ å°†æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åç«‹å³è¿”å›ï¼Œä¹‹åè¿™ä¸ªæ“ä½œä¼šè¢«å¼‚æ­¥å¤„ç† ä¼¸ç¼©æ€§ ä¸æ–­å‘é›†ç¾¤ä¸­æ·»åŠ æœåŠ¡å™¨æ¥ç¼“è§£ä¸æ–­ä¸Šå‡çš„ç”¨æˆ·å¹¶å‘è®¿é—®å‹åŠ›å’Œä¸æ–­å¢é•¿çš„æ•°æ®å­˜å‚¨éœ€æ±‚ å¦‚æœç³»ç»Ÿå­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œé‚£ä¹ˆå•ä¸ªç”¨æˆ·çš„è¯·æ±‚æ€»æ˜¯å¾ˆæ…¢çš„ã€‚ å¦‚æœç³»ç»Ÿå­˜åœ¨ä¼¸ç¼©æ€§é—®é¢˜ï¼Œé‚£ä¹ˆå•ä¸ªç”¨æˆ·çš„è¯·æ±‚å¯èƒ½ä¼šå¾ˆå¿«ï¼Œä½†æ˜¯åœ¨å¹¶å‘æ•°å¾ˆé«˜çš„æƒ…å†µä¸‹ç³»ç»Ÿä¼šå¾ˆæ…¢ åªè¦é›†ç¾¤ä¸­çš„æœåŠ¡å™¨æ˜¯æ— çŠ¶æ€çš„ï¼Œé‚£ä¹ˆå¾€é›†ç¾¤ä¸­æ·»åŠ æœåŠ¡å™¨åè¿›è¡Œè´Ÿè½½å‡è¡¡æ˜¯å¾ˆå®¹æ˜“çš„ æ‰©å±•æ€§ æ·»åŠ æ–°åŠŸèƒ½æ—¶å¯¹ç°æœ‰ç³»ç»Ÿçš„å…¶å®ƒåº”ç”¨æ— å½±å“ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¯¹ä¸Šä¸‹æ¸¸åº”ç”¨è§£è€¦ ä½¿ç”¨åˆ†å¸ƒå¼æœåŠ¡å°†ä¸šåŠ¡ä¸æœåŠ¡åˆ†ç¦»ï¼ŒæœåŠ¡éƒ½æ˜¯ä¸€äº›å¯å¤ç”¨çš„æœåŠ¡ï¼Œæ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œåªè¦è°ƒç”¨å·²æœ‰çš„æœåŠ¡å³å¯ å®‰å…¨æ€§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-28 11:11:11 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼.html","title":"åˆ†å¸ƒå¼","keywords":"","body":"åˆ†å¸ƒå¼ åˆ†å¸ƒå¼æ•°æ® äºå„ç§å„æ ·çš„åŸå› ï¼Œå°†æ•°æ®åº“åˆ†å¸ƒåˆ°å¤šå°æœºå™¨ä¸Šï¼š å¯ä¼¸ç¼©æ€§ï¼šè¯»å–è´Ÿè½½ã€å†™å…¥è´Ÿè½½è¶…å‡ºå•å°æœºå™¨çš„å¤„ç†èƒ½åŠ›ï¼Œå¯ä»¥å°†è´Ÿè½½åˆ†æ•£åˆ°å¤šå°è®¡ç®—æœºä¸Š å¯ç”¨æ€§ï¼šä½¿ç”¨å¤šå°æœºå™¨ï¼Œä»¥æä¾›å†—ä½™ã€‚ä¸€å°æ•…éšœæ—¶ï¼Œå¦ä¸€å°å¯ä»¥æ¥ç®¡ å»¶è¿Ÿï¼šè®©æ¯ä¸ªç”¨æˆ·å¯ä»¥ä»åœ°ç†ä¸Šæœ€è¿‘çš„æ•°æ®ä¸­å¿ƒè·å–æœåŠ¡ å…±äº«æ¶æ„ï¼šé€šè¿‡å…±äº«æ•°æ®å­˜å‚¨çš„æ–¹å¼æ¥è¿›è¡Œæ‰©å±• æ— å…±äº«æ¶æ„ï¼šé€šè¿‡æ°´å¹³æ‰©å±•æ¥æå‡æ€§èƒ½ åˆ†åŒºä¸å¤åˆ¶ï¼š å¤åˆ¶ ä¸»ä»å¤åˆ¶ åŒæ­¥å¤åˆ¶æˆ–æ˜¯å¼‚æ­¥å¤åˆ¶ï¼š æ–°ä»åº“åŠ å…¥ï¼šé€šè¿‡è¯»å–å¿«ç…§ + å¿«ç…§åçš„å˜æ›´æ–¹å¼æ¥è¾¾åˆ°å¯ç”¨æ€§ä¸ä¸€è‡´æ€§çš„æŠ˜ä¸­ èŠ‚ç‚¹å®•æœºï¼š ä»åº“æŒ‚äº†ï¼šé‡è¿ä¸»åº“åè¿½èµ¶æ¢å¤ ä¸»åº“æŒ‚äº†ï¼šæ•…éšœåˆ‡æ¢ ä½¿ç”¨è¶…æ—¶åˆ¤å®šä¸»åº“æ˜¯å¦å®•æœº å…±è¯†ç®—æ³•é€‰ä¸¾å‡ºæ–°ä¸»åº“ è€ä¸»åº“é‡æ–°ä¸Šçº¿å˜æˆä»åº“ æ•…éšœåˆ‡æ¢å¸¦æ¥çš„é—®é¢˜ï¼š å¼‚æ­¥å¤åˆ¶é€ æˆæ–°è€ä¸»åº“æ•°æ®å†²çª è„‘è£‚é—®é¢˜ ä¸¢å¼ƒå†™å…¥å†…å®¹é€ æˆä¸€äº›å…¶ä»–é—®é¢˜ å¤åˆ¶æ—¥å¿—å®ç° åŸºäºè¯­å¥çš„å¤åˆ¶ï¼šç›´æ¥å‘é€SQLè¯­å¥ï¼Œä½†è¿™ç§æ–¹å¼å¦‚æœè¯­å¥ä¸­å«æœ‰éç¡®å®šæ€§å‡½æ•°ï¼Œåˆ™è¿™ç§æ–¹å¼ä¸èƒ½ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ ä¼ è¾“é¢„å†™å¼æ—¥å¿—ï¼šç›´æ¥ä¼ è¾“å­—èŠ‚åºåˆ—ï¼Œä½†è¿™ç§æ–¹å¼è·Ÿå…·ä½“çš„æ•°æ®åº“å¼•æ“ç»‘å®š é€»è¾‘æ—¥å¿—å¤åˆ¶ï¼šä½¿ç”¨ç‹¬ç«‹çš„å­˜å‚¨æ ¼å¼æ¥è¡¨è¾¾æ•°æ®çš„å¢åˆ æ”¹ åŸºäºè§¦å‘å™¨çš„å¤åˆ¶ï¼šå¼€é”€æ›´å¤§ å¤åˆ¶å»¶è¿Ÿ å¦‚æœåœæ­¢å†™å…¥æ•°æ®åº“å¹¶ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œä»åº“æœ€ç»ˆä¼šèµ¶ä¸Šå¹¶ä¸ä¸»åº“ä¿æŒä¸€è‡´ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œè¿™ç§æ•ˆåº”è¢«ç§°ä¸º æœ€ç»ˆä¸€è‡´æ€§ï¼ˆeventually consistencyï¼‰ ä¸ºäº†ä¿è¯è¯»å·±ä¹‹å†™ä¸€è‡´æ€§ï¼ˆread-your-writes consistencyï¼‰ï¼Œä½¿ç”¨è¿™ä¹ˆæ ·å‡ ä¸ªæ–¹æ³•ï¼š å¦‚æœæŸäº›æ•°æ®åªèƒ½ç”±ç”¨æˆ·è‡ªå·±æ›´æ–°ï¼Œåˆ™è¿™ä»½æ•°æ®ç›´æ¥ä»ä¸»åº“è¯»å– ç”¨æˆ·è®°å½•æœ€åä¸€æ¬¡å†™å…¥æ—¶é—´æˆ³ï¼Œå¦‚æœå»è¯»å–ä»åº“ï¼Œåˆ™è¦ä¿è¯è‡ªè¿™ä¸ªæ—¶é—´æˆ³ä¹‹åçš„æ•°æ®å·²ç»åŒæ­¥åˆ°ä»åº“ å¦‚æœæ•°æ®åˆ†å¸ƒåœ¨å¤šä¸ªæ•°æ®ä¸­å¿ƒï¼Œåˆ™è¦ä¿è¯åŒä¸€ç”¨æˆ·è¯·æ±‚è·¯ç”±çš„åŒä¸€æ€§ å•è°ƒè¯» ä¸€ä¸ªæ¯”å¼ºä¸€è‡´æ€§ï¼ˆstrong consistencyï¼‰æ›´å¼±ï¼Œä½†æ¯”æœ€ç»ˆä¸€è‡´æ€§ï¼ˆeventually consistencyï¼‰æ›´å¼ºçš„ä¿è¯ï¼Œä¿è¯æ¯æ¬¡è¯»å–çš„æ•°æ®ä¸ä¼šæ¯”ä¸Šä¸€æ¬¡è¯»å–çš„è€ã€‚ ä¸€è‡´å‰ç¼€è¯»ï¼ˆconsistent prefix readsï¼‰ï¼šå¦‚æœä¸€ç³»åˆ—å†™å…¥æŒ‰æŸä¸ªé¡ºåºå‘ç”Ÿï¼Œé‚£ä¹ˆä»»ä½•äººè¯»å–è¿™äº›å†™å…¥æ—¶ï¼Œä¹Ÿä¼šçœ‹è§å®ƒä»¬ä»¥åŒæ ·çš„é¡ºåºå‡ºç° å¤šä¸»å¤åˆ¶ åº”ç”¨åœºæ™¯ï¼š æ•°æ®ä¸­å¿ƒ ç¦»çº¿å¤šå®¢æˆ·ç«¯æ•°æ®åŒæ­¥ å†™å…¥å†²çªï¼š ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå†™å…¥æ—¶ä½¿ç”¨ä¸€ä¸ªä¸»åº“æ¥é¿å…å†²çª å¦‚æœæ— æ³•é¿å…å†²çªï¼Œåˆ™ä½¿ç”¨å†²çªåˆå¹¶ï¼š ä¸¢å¼ƒæ¯”è¾ƒè€çš„å†™å…¥ å‚è€ƒgitï¼Œè®°å½•å†²çªå¹¶åœ¨åº”ç”¨å±‚å¤„ç† å†²çªè§£å†³é€»è¾‘ï¼š å†™æ—¶æ‰§è¡Œï¼šæµ‹åˆ°å¤åˆ¶æ›´æ”¹æ—¥å¿—ä¸­å­˜åœ¨å†²çªï¼Œå°±ä¼šè°ƒç”¨å†²çªå¤„ç†ç¨‹åº è¯»æ—¶æ‰§è¡Œï¼šå½“æ£€æµ‹åˆ°å†²çªæ—¶ï¼Œæ‰€æœ‰å†²çªå†™å…¥è¢«å­˜å‚¨ã€‚ä¸‹ä¸€æ¬¡è¯»å–æ•°æ®æ—¶ï¼Œä¼šå°†è¿™äº›å¤šä¸ªç‰ˆæœ¬çš„æ•°æ®è¿”å›ç»™åº”ç”¨ç¨‹åºã€‚åº”ç”¨ç¨‹åºå¯èƒ½ä¼šæç¤ºç”¨æˆ·æˆ–è‡ªåŠ¨è§£å†³å†²çª å¤šä¸»å¤åˆ¶æ‹“æ‰‘ç»“æ„ï¼š å‰ä¸¤ç§æ‹“æ‰‘ç»“æ„ä¼šå‡ºç°å•ç‚¹æ•…éšœï¼Œè€Œæœ€åä¸€ç§è™½ç„¶ä¸ä¼šå•ç‚¹æ•…éšœï¼Œä½†æ˜¯å¦‚æœä¸ç‰¹åˆ«å¤„ç†ï¼Œå¾ˆå®¹æ˜“å°±ä¼šå‡ºç°å†™å…¥é¡ºåºä¸ä¸€è‡´çš„é—®é¢˜ æ— ä¸»å¤åˆ¶ å®¢æˆ·ç«¯å¯ä»¥è‡ªç”±é€‰æ‹©èŠ‚ç‚¹è¿›è¡Œå†™å…¥ï¼Œè¿™ä¸ªè¢«é€‰æ‹©çš„èŠ‚ç‚¹å……å½“åè°ƒè€…ï¼Œå°†æ•°æ®å†™å…¥åˆ°è‡ªèº«æˆ–è€…å…¶ä»–èŠ‚ç‚¹ ä¸ºäº†è§£å†³æ—§èŠ‚ç‚¹é‡æ–°ä¸Šçº¿é€ æˆçš„æ–°è€èŠ‚ç‚¹æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œä¸ä»…å†™éœ€è¦å†™å…¥åˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼ŒåŒæ—¶è¯»ä¹Ÿè¦è¯»å¤šä¸ªèŠ‚ç‚¹ï¼Œä»¥æ­¤æ¥åˆ¤å®šæ•°æ®çš„æœ€æ–°å€¼ ä¸ºæ¯ä¸ªå†™å…¥é™„åŠ ä¸€ä¸ªæ—¶é—´æˆ³ï¼ŒæŒ‘é€‰æœ€â€œæœ€è¿‘â€çš„æœ€å¤§æ—¶é—´æˆ³ï¼Œå¹¶ä¸¢å¼ƒå…·æœ‰è¾ƒæ—©æ—¶é—´æˆ³çš„ä»»ä½•å†™å…¥ã€‚è¿™ç§å†²çªè§£å†³ç®—æ³•è¢«ç§°ä¸ºæœ€åå†™å…¥èƒœåˆ©ï¼ˆLWW, last write winsï¼‰ åˆ†åŒº é”®å€¼æ•°æ®åˆ†åŒº å¦‚æœåˆ†åŒºä¸å…¬å¹³ï¼Œåˆ™ä¼šäº§ç”Ÿåæ–œï¼ˆskewï¼‰ï¼Œè¿›è€Œå‡ºç°é«˜è´Ÿè½½çš„çƒ­ç‚¹ï¼ˆhot spotï¼‰ã€‚é¿å…è¿™ä¸ªé—®é¢˜çš„æœ€ç®€å•æ–¹å¼æ˜¯éšæœºåˆ†é…æ•°æ®çš„èŠ‚ç‚¹ï¼Œä½†è¿™æ ·çš„è¯å¿…é¡»å¹¶è¡ŒæŸ¥è¯¢æ‰€æœ‰èŠ‚ç‚¹ä»¥è·å–æ•°æ®ã€‚ æ ¹æ®é”®çš„èŒƒå›´åˆ†åŒº æ ¹æ®é”®çš„æ•£åˆ—å€¼åˆ†åŒº å¦‚æœå•çº¯ä½¿ç”¨æ•£åˆ—å€¼è¿›è¡Œåˆ†åŒºä¼šæ— æ³•è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼Œæ‰€ä»¥ä¸€ç§æŠ˜ä¸­çš„æ–¹å¼æ˜¯ä½¿ç”¨å¤šä¸ªåˆ—ï¼Œä¸»é”®è¿›è¡Œæ•£åˆ—ï¼Œæ¬¡é”®ç”¨æ¥è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾ å“ˆå¸Œèƒ½æœ‰æ•ˆå¸®åŠ©å‡å°‘çƒ­ç‚¹ï¼Œä½†è¿˜ä¸å¤Ÿï¼Œä¸ºäº†æ¶ˆé™¤æŸäº›æç«¯æƒ…å†µè¯¸å¦‚å•ä¸ªé”®çš„æ•°æ®çƒ­ç‚¹ï¼Œå¯ä»¥å¯¹æ•£åˆ—é”®åŠ ä¸Šéšæœºæ•°ï¼Œè®©å…¶ç»§ç»­åˆ†å¸ƒå­˜å‚¨åœ¨ä¸åŒçš„åˆ†åŒºä¸­ã€‚ æ¬¡çº§ç´¢å¼• åˆ†åŒºå†å¹³è¡¡ å°†è´Ÿè½½ä»é›†ç¾¤ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹å‘å¦ä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨çš„è¿‡ç¨‹ç§°ä¸ºå†å¹³è¡¡ï¼ˆreblancingï¼‰ å‡ ä¸ªæœ€ä½è¦æ±‚ï¼š å¹³è¡¡ä¹‹åï¼Œè´Ÿè½½åœ¨å„ä¸ªèŠ‚ç‚¹ä¹Ÿè¦å¹³è¡¡ å¹³è¡¡æ—¶ï¼Œåº”ä¹Ÿèƒ½åŒæ—¶å¯¹å¤–æä¾›æœåŠ¡ èŠ‚ç‚¹ä¹‹é—´åªç§»åŠ¨å¿…é¡»çš„æ•°æ®ï¼Œä»¥ä¾¿å¿«é€Ÿå†å¹³è¡¡ æœ€å·®çš„æ–¹æ¡ˆï¼šhash mod N è¿™ç§æ–¹æ¡ˆä¸€æ—¦èŠ‚ç‚¹æ•°é‡å‘ç”Ÿå˜åŒ–ï¼Œæ‰€æœ‰æ•°æ®éƒ½å¾—å…¨éƒ¨ç§»åŠ¨ å›ºå®šæ•°é‡åˆ†åŒºï¼š åŠ¨æ€åˆ†åŒºï¼š æŒ‰é”®çš„èŒƒå›´è¿›è¡Œåˆ†åŒºçš„æ•°æ®åº“ä¼šåŠ¨æ€åˆ›å»ºåˆ†åŒºã€‚å½“åˆ†åŒºå¢é•¿åˆ°è¶…è¿‡é…ç½®çš„å¤§å°æ—¶ï¼Œä¼šè¢«åˆ†æˆä¸¤ä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºçº¦å ä¸€åŠçš„æ•°æ®ã€‚ä¸ä¹‹ç›¸åï¼Œå¦‚æœå¤§é‡æ•°æ®è¢«åˆ é™¤å¹¶ä¸”åˆ†åŒºç¼©å°åˆ°æŸä¸ªé˜ˆå€¼ä»¥ä¸‹ï¼Œåˆ™å¯ä»¥å°†å…¶ä¸ç›¸é‚»åˆ†åŒºåˆå¹¶ æŒ‰èŠ‚ç‚¹æ¯”åˆ—åˆ†åŒºï¼š å½“ä¸€ä¸ªæ–°èŠ‚ç‚¹åŠ å…¥é›†ç¾¤æ—¶ï¼Œå®ƒéšæœºé€‰æ‹©å›ºå®šæ•°é‡çš„ç°æœ‰åˆ†åŒºè¿›è¡Œæ‹†åˆ†ï¼Œç„¶åå æœ‰è¿™äº›æ‹†åˆ†åˆ†åŒºä¸­æ¯ä¸ªåˆ†åŒºçš„ä¸€åŠï¼ŒåŒæ—¶å°†æ¯ä¸ªåˆ†åŒºçš„å¦ä¸€åŠç•™åœ¨åŸåœ° å®Œå…¨è‡ªåŠ¨åŒ–çš„å†å¹³è¡¡å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œå¦‚æŸäº›èŠ‚ç‚¹è¿‡è½½è¢«è®¤ä¸ºå®•æœºï¼Œæ­¤æ—¶å°†å…¶çš„è´Ÿè½½åˆ†æ‘Šåˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šé¢ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´èŠ‚ç‚¹å’Œç½‘ç»œé€ æˆé¢å¤–çš„è´Ÿè½½ï¼Œä»è€Œä½¿æƒ…å†µå˜å¾—æ›´ç³Ÿã€‚å†å¹³è¡¡çš„è¿‡ç¨‹ä¸­æœ‰äººå‚ä¸æ˜¯ä¸€ä»¶å¥½äº‹ã€‚è¿™æ¯”å®Œå…¨è‡ªåŠ¨çš„è¿‡ç¨‹æ…¢ï¼Œä½†å¯ä»¥å¸®åŠ©é˜²æ­¢è¿ç»´æ„å¤– è¯·æ±‚è·¯ç”± ä¸ºäº†è·å–æ•´ä¸ªé›†ç¾¤çš„å…ƒæ•°æ®æƒ…å†µï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š é€šè¿‡å¦‚zkè¿™æ ·çš„å…ƒæ•°æ®ç®¡ç†æœåŠ¡ ä½¿ç”¨å¦‚gossipè¿™ç§åè®® ä¸ºä»€ä¹ˆè¦åˆ†å¸ƒå¼ æ¨¡å—è€¦åˆè¿‡é«˜å¾ˆå¯èƒ½é€ æˆç‰µä¸€å‘åŠ¨å…¨èº« ä»£ç å‘å¸ƒæˆæœ¬å¾ˆé«˜ æé«˜å¼€å‘æ•ˆç‡ åˆ†å¸ƒå¼ç³»ç»Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ å•æœºæ€§èƒ½ç“¶é¢ˆå¯¼è‡´çš„æˆæœ¬é—®é¢˜ å°å‹æœºå™¨ä¸å¤Ÿç”¨ å¤§å‹æœºå™¨åˆå¾ˆè´µ ç”¨æˆ·é‡ä»¥åŠæ•°æ®é‡å¢å¤§ä¸å¾—ä¸ä½¿ç”¨åˆ†å¸ƒå¼ ä¸šåŠ¡é«˜å¯ç”¨çš„è¦æ±‚ åˆ†å¸ƒå¼ç†è®º CAP ä¸€è‡´æ€§(Consistency)ï¼šæœåŠ¡Aã€Bã€Cä¸‰ä¸ªç»“ç‚¹éƒ½å­˜å‚¨äº†ç”¨æˆ·æ•°æ®ï¼Œ ä¸‰ä¸ªç»“ç‚¹çš„æ•°æ®éœ€è¦ä¿æŒåŒä¸€æ—¶åˆ»æ•°æ®ä¸€è‡´æ€§ã€‚ å¯¹ç³»ç»Ÿçš„ä¸€ä¸ªæ•°æ®æ›´æ–°æˆåŠŸä¹‹åï¼Œå¦‚æœæ‰€æœ‰ç”¨æˆ·éƒ½èƒ½å¤Ÿè¯»å–åˆ°æœ€æ–°çš„å€¼ï¼Œè¯¥ç³»ç»Ÿå°±è¢«è®¤ä¸ºå…·æœ‰å¼ºä¸€è‡´æ€§ å¯ç”¨æ€§(Availability)ï¼šæœåŠ¡Aã€Bã€Cä¸‰ä¸ªç»“ç‚¹ï¼Œå…¶ä¸­ä¸€ä¸ªç»“ç‚¹å®•æœºä¸å½±å“æ•´ä¸ªé›†ç¾¤å¯¹å¤–æä¾›æœåŠ¡ï¼Œå¦‚æœåªæœ‰æœåŠ¡Aç»“ ç‚¹ï¼Œå½“æœåŠ¡Aå®•æœºæ•´ä¸ªç³»ç»Ÿå°†æ— æ³•æä¾›æœåŠ¡ï¼Œå¢åŠ æœåŠ¡Bã€Cæ˜¯ä¸ºäº†ä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚ å¯¹äºç”¨æˆ·çš„æ¯ä¸€ä¸ªæ“ä½œè¯·æ±‚æ€»æ˜¯èƒ½å¤Ÿåœ¨æœ‰é™çš„æ—¶é—´å†…è¿”å›ç»“æœ åˆ†åŒºå®¹å¿æ€§(Partition Tolerance)ï¼šåˆ†åŒºå®¹å¿æ€§å°±æ˜¯å…è®¸ç³»ç»Ÿé€šè¿‡ç½‘ç»œååŒå·¥ä½œï¼Œåˆ†åŒºå®¹å¿æ€§è¦è§£å†³ç”±äºç½‘ç»œåˆ†åŒºå¯¼è‡´æ•°æ®çš„ä¸å®Œæ•´åŠæ— æ³•è®¿é—®ç­‰é—®é¢˜ã€‚ æœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³å…¶ä¸­ä¸¤é¡¹ å¦‚æœæ”¾å¼ƒåˆ†åŒºå®¹é”™æ€§ï¼ˆCA without Pï¼‰ï¼Œæ„å‘³ç€æˆ‘ä»¬å°†å‡è®¾èŠ‚ç‚¹ä¹‹é—´é€šè®¯æ°¸è¿œæ˜¯å¯é çš„ã€‚æ°¸è¿œå¯é çš„é€šè®¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¿…å®šä¸æˆç«‹çš„ å¦‚æœæ”¾å¼ƒå¯ç”¨æ€§ï¼ˆCP without Aï¼‰ï¼Œæ„å‘³ç€æˆ‘ä»¬å°†å‡è®¾ä¸€æ—¦ç½‘ç»œå‘ç”Ÿåˆ†åŒºï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„ä¿¡æ¯åŒæ­¥æ—¶é—´å¯ä»¥æ— é™åˆ¶åœ°å»¶é•¿ å¦‚æœæ”¾å¼ƒä¸€è‡´æ€§ï¼ˆAP without Cï¼‰ï¼Œæ„å‘³ç€æˆ‘ä»¬å°†å‡è®¾ä¸€æ—¦å‘ç”Ÿåˆ†åŒºï¼ŒèŠ‚ç‚¹ä¹‹é—´æ‰€æä¾›çš„æ•°æ®å¯èƒ½ä¸ä¸€è‡´ åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œåˆ†åŒºå®¹å¿æ€§å¿…ä¸å¯å°‘ï¼Œå› ä¸ºéœ€è¦æ€»æ˜¯å‡è®¾ç½‘ç»œæ˜¯ä¸å¯é çš„ï¼Œæ‰€ä»¥CAPç†è®ºå®é™…ä¸Šæ˜¯è¦åœ¨å¯ç”¨æ€§å’Œä¸€è‡´æ€§ä¹‹é—´åšæƒè¡¡ ä¿è¯ä¸€è‡´æ€§ï¼ˆCPï¼‰ï¼Œä¸èƒ½è®¿é—®æœªåŒæ­¥å®Œæˆçš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±å¤±å»äº†éƒ¨åˆ†å¯ç”¨æ€§ è„‘è£‚ n/2+1 è¿‡åŠï¼ ä½¿ç”¨å¥‡æ•°å°ï¼ ä¿è¯å¯ç”¨æ€§ï¼ˆAPï¼‰ï¼Œå…è®¸è¯»å–æ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®å¯èƒ½ä¸ä¸€è‡´ BASE BAï¼šï¼ˆBasically Available ï¼‰ï¼ŒåŸºæœ¬å¯ç”¨ åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°æ•…éšœçš„æ—¶å€™ï¼Œä¿è¯æ ¸å¿ƒå¯ç”¨ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ Sï¼šï¼ˆ Soft Stateï¼‰ï¼Œè½¯çŠ¶æ€ï¼ŒçŠ¶æ€å¯ä»¥åœ¨ä¸€æ®µæ—¶é—´å†…ä¸åŒæ­¥ å…è®¸ç³»ç»Ÿä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬ä¹‹é—´è¿›è¡ŒåŒæ­¥çš„è¿‡ç¨‹å­˜åœ¨æ—¶å»¶ Eï¼šï¼ˆEventually Consistent ï¼‰ï¼Œæœ€ç»ˆä¸€è‡´ï¼Œåœ¨ä¸€å®šçš„æ—¶é—´çª—å£å†…ï¼Œ æœ€ç»ˆæ•°æ®è¾¾æˆä¸€è‡´å³å¯ åˆ†å¸ƒå¼ç³»ç»Ÿçš„éº»çƒ¦ ç³»ç»Ÿçš„æŸäº›éƒ¨åˆ†å¯èƒ½ä¼šä»¥æŸç§ä¸å¯é¢„çŸ¥çš„æ–¹å¼è¢«ç ´åã€‚è¿™è¢«ç§°ä¸ºéƒ¨åˆ†å¤±æ•ˆï¼ˆpartial failureï¼‰ã€‚è¿™ç§å¤±æ•ˆé‡ç‚¹åœ¨äºç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿé€šè¿‡ç½‘ç»œæ¥è¿›è¡Œåä½œï¼Œæ‰€ä»¥æ˜¯ä¸ç¡®å®šæ€§çš„ åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•…éšœå¤„ç†åŸåˆ™ï¼š çœŸç†ç”±å¤šæ•°æ‰€å®šä¹‰ï¼šå½“ä¸€ä¸ªæ•°æ®çš„å€¼è¢«å¤šæ•°èŠ‚ç‚¹æ‰€è®¤å¯æ—¶ï¼Œè¿™ä¸ªå€¼æ‰æ˜¯æ­£ç¡®çš„ï¼Œå¤šæ•°èŠ‚ç‚¹è¢«ç§°ä¸ºæ³•å®šäººæ•°ï¼Œæœ€å¸¸è§çš„æ³•å®šäººæ•°æ˜¯è¶…è¿‡ä¸€åŠçš„ç»å¯¹å¤šæ•° éæ‹œå åº­æ•…éšœï¼šæ‰€è°“åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç½‘ç»œå¤§éƒ½ç”±æŸä¸ªç»„ç»‡æ‰€æ§åˆ¶ ç½‘ç»œä¸å¯é  åˆ†å¸ƒå¼ç³»ç»Ÿå¤§éƒ½é€šè¿‡èŠ‚ç‚¹ä¹‹é—´å‘é€æ¶ˆæ¯æ¥åä½œã€‚ä½†ç½‘ç»œæ˜¯ä¸å¯é çš„ï¼Œæœ‰æ—¶æ¶ˆæ¯å‘æ²¡å‘åˆ°ï¼Œæ¥æ²¡æ¥åˆ°ï¼Œè¿™äº›éƒ½æ˜¯ä¸ç¡®å®šçš„ã€‚å¤„ç†è¿™ä¸ªé—®é¢˜çš„é€šå¸¸æ–¹æ³•æ˜¯è¶…æ—¶ï¼ˆTimeoutï¼‰ï¼šåœ¨ä¸€æ®µæ—¶é—´ä¹‹åæ”¾å¼ƒç­‰å¾…ï¼Œå¹¶ä¸”è®¤ä¸ºå“åº”ä¸ä¼šåˆ°è¾¾ ä¸ºäº†æ£€æµ‹åˆ†å¸ƒå¼ç³»ç»ŸèŠ‚ç‚¹çš„æ•…éšœï¼Œä¸€äº›æœºåˆ¶å¯ä»¥çŸ¥é“èŠ‚ç‚¹æ˜¯å¦å…³é—­äº†ï¼Œæ¯”å¦‚TCPåè®®ä¸­å‘é€FINæˆ–è€…RSTï¼Œé€šè¿‡æ¢æµ‹æ•´ä¸ªç½‘ç»œæ‹“æ‰‘ç»“æ„æ¥å‘ç°ç½‘ç»œæ˜¯å¦æ•…éšœã€‚ä½†è¿™äº›ä»æ— æ³•ç™¾åˆ†ç™¾ç¡®ä¿èƒ½æ¥æ”¶åˆ°èŠ‚ç‚¹å…³é—­çš„æ¶ˆæ¯ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡é‡è¯•ï¼Œæ— è®ºæ˜¯TCPå±‚çš„é‡è¯•ï¼Œè¿˜æ˜¯åº”ç”¨å±‚çš„é‡è¯•ï¼Œæ¥è¿›è¡Œç­‰å¾…ï¼Œè¶…æ—¶åˆ™å£°æ˜èŠ‚ç‚¹æ­»äº¡ã€‚ æ—¢ç„¶è¶…æ—¶æ˜¯å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆï¼Œé‚£è¶…æ—¶åº”è¯¥è¶…å¤šä¹…ï¼Ÿè¿™ä¸ªæ—¶é—´åº”è¯¥æ˜¯åŠ¨æ€è°ƒæ•´çš„ï¼Œç”±äºç½‘ç»œæ˜¯é€šè¿‡åŠ¨æ€åˆ†é…æµé‡æ¥æå‡èµ„æºåˆ©ç”¨ç‡ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡å®éªŒæ–¹å¼é€‰æ‹©è¶…æ—¶ï¼šæµ‹é‡å»¶é•¿çš„ç½‘ç»œå¾€è¿”æ—¶é—´å’Œå¤šå°æœºå™¨çš„åˆ†å¸ƒï¼Œä»¥ç¡®å®šè¶…æ—¶æ—¶é—´ ä¸åŒäºç”µè¯ç½‘è¿™ç§äº‹å…ˆä¸ºæ¯ä¸ªç”¨æˆ·é¢„ç•™ä¸€å®šèµ„æºçš„ç½‘ç»œï¼Œä»¥å¤ªç½‘è¿™ç§ç½‘ç»œæ›´åƒä¸€ç§æŠ¢å æ€§çš„ç½‘ç»œï¼Œæ‰€ä»¥ç”µè¯ç½‘è¿™ç§ç½‘ç»œæ›´æœ‰å¯èƒ½è¾¾åˆ°å¯é¢„æµ‹çš„å»¶æ—¶æ—¶é—´ç›®æ ‡ã€‚ æ—¶é’Ÿä¸å¯é  è®¡ç®—æœºä¸­çš„çŸ³è‹±é’Ÿä¸å¤Ÿç²¾ç¡®ï¼šå®ƒä¼šæ¼‚ç§»ï¼ˆdriftsï¼‰ï¼ˆè¿è¡Œé€Ÿåº¦å¿«äºæˆ–æ…¢äºé¢„æœŸï¼‰ å•è°ƒé’Ÿï¼šå•è°ƒé’Ÿçš„ç»å¯¹å€¼æ˜¯æ¯«æ— æ„ä¹‰çš„ï¼šå®ƒå¯èƒ½æ˜¯è®¡ç®—æœºå¯åŠ¨ä»¥æ¥çš„çº³ç§’æ•°ï¼Œæˆ–ç±»ä¼¼çš„ä»»æ„å€¼ æ—¶é’Ÿï¼šæœ‰æ„ä¹‰çš„æ—¶é—´ï¼Œé€šå¸¸ä¸NTPåŒæ­¥ ä¸ºäº†è§£å†³æ—¶é’Ÿæ¼‚ç§»å¸¦æ¥çš„ä¸åŒèŠ‚ç‚¹æ—¶é—´ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ï¼š é€»è¾‘æ—¶é’Ÿï¼ˆlogic clockï¼‰ï¼šç±»ä¼¼äºäº‹åŠ¡ç‰ˆæœ¬å· å¦å¤–ä¸€ä¸ªéœ€è¦æ³¨æ„é¢æ˜¯è¿›ç¨‹æš‚åœé—®é¢˜ï¼Œæ— è®ºæ˜¯JVMçš„STWæˆ–è€…æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹é‡æ–°è°ƒåº¦ï¼Œå¯èƒ½éƒ½ä¼šé€ æˆè¿›ç¨‹è¢«å†»ç»“ä¸€æ®µæ—¶é—´ï¼Œç„¶åä¼šæ¥é‡æ–°æ‰§è¡Œï¼Œæ­¤æ—¶å¦‚æœæ²¡æœ‰å¯¹æ—¶é—´åšç‰¹æ®Šå¤„ç†ï¼Œå¯èƒ½å°±ä¼šå‡ºç°é—®é¢˜ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„èŠ‚ç‚¹ï¼Œå¿…é¡»å‡å®šå…¶æ‰§è¡Œå¯èƒ½åœ¨ä»»æ„æ—¶åˆ»æš‚åœç›¸å½“é•¿çš„æ—¶é—´ ä¸ºäº†è¾¾åˆ°ç›¸åº”æ—¶é—´çš„ä¿è¯ï¼Œä¸€äº›å®æ—¶ç³»ç»Ÿå¯èƒ½ä¼šé€šè¿‡é™ä½ååé‡çš„æ–¹å¼æ¥æå‡å®æ—¶æ€§ã€‚ ä¸€è‡´æ€§ä¸å…±è¯† çº¿æ€§ä¸€è‡´æ€§ åœ¨ä¸€ä¸ªçº¿æ€§ä¸€è‡´çš„ç³»ç»Ÿä¸­ï¼Œåªè¦ä¸€ä¸ªå®¢æˆ·ç«¯æˆåŠŸå®Œæˆå†™æ“ä½œï¼Œæ‰€æœ‰å®¢æˆ·ç«¯ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®å¿…é¡»èƒ½å¤Ÿçœ‹åˆ°åˆšåˆšå†™å…¥çš„å€¼ çº¿æ€§ä¸€è‡´æ€§èƒŒåçš„åŸºæœ¬æ€æƒ³å¾ˆç®€å•ï¼šä½¿ç³»ç»Ÿçœ‹èµ·æ¥å¥½åƒåªæœ‰ä¸€ä¸ªæ•°æ®å‰¯æœ¬ã€‚ ç½‘ç»œåˆ†åŒºè¿«ä½¿æˆ‘ä»¬åœ¨ä¸€è‡´æ€§ä¸å¯ç”¨æ€§ä¹‹é—´è¿›è¡Œé€‰æ‹© é¡ºåºä¿è¯ åˆ†å¸ƒå¼äº‹åŠ¡ä¸å…±è¯† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-19 09:37:29 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼å…±è¯†ç®—æ³•.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼å…±è¯†ç®—æ³•.html","title":"åˆ†å¸ƒå¼å…±è¯†ç®—æ³•","keywords":"","body":"åˆ†å¸ƒå¼å…±è¯†ç®—æ³• ä¸€ä»½éšæ—¶å¯èƒ½å‘ç”Ÿå˜åŒ–çš„æ•°æ®å¦‚ä½•åœ¨ä¸åŒé›†ç¾¤èŠ‚ç‚¹ä¹‹é—´åŒæ­¥ï¼š çŠ¶æ€è½¬ç§»ï¼šé€šè¿‡å…¨åŒæ­¥å¤åˆ¶çš„æ–¹å¼ï¼Œåªæœ‰æ‰€æœ‰èŠ‚ç‚¹éƒ½å®Œæˆæ›´æ”¹ï¼Œæ•°æ®æ‰ç®—å†™å…¥æˆåŠŸ æ“ä½œè½¬ç§»ï¼šä¿è¯èŠ‚ç‚¹åˆå§‹çŠ¶æ€ä¸æ¥æ”¶åˆ°çš„æ“ä½œåºåˆ—ä¸€ç›´ æœ€ç»ˆæ•°æ®ä¹Ÿèƒ½ä¿æŒä¸€è‡´ ä¸€æ—¦ç³»ç»Ÿä¸­è¿‡åŠæ•°çš„èŠ‚ç‚¹ä¸­å®Œæˆäº†çŠ¶æ€çš„è½¬æ¢ï¼Œå°±è®¤ä¸ºæ•°æ®çš„å˜åŒ–å·²ç»è¢«æ­£ç¡®åœ°å­˜å‚¨åœ¨ç³»ç»Ÿå½“ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥å®¹å¿å°‘æ•°ï¼ˆé€šå¸¸æ˜¯ä¸è¶…è¿‡åŠæ•°ï¼‰çš„èŠ‚ç‚¹å¤±è”ï¼Œä½¿å¾—å¢åŠ æœºå™¨æ•°é‡å¯¹ç³»ç»Ÿæ•´ä½“çš„å¯ç”¨æ€§å˜æˆæ˜¯æœ‰ç›Šçš„ï¼Œè¿™ç§æ€æƒ³åœ¨åˆ†å¸ƒå¼ä¸­è¢«ç§°ä¸ºâ€œQuorumæœºåˆ¶â€œ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè§£å†³å…±è¯†çš„å¤æ‚åº¦åœ¨äºï¼š ç½‘ç»œå„ä¸ªèŠ‚ç‚¹é€šè®¯ä¸å¯é  æ¶ˆæ¯å¯èƒ½ä¼šå»¶è¿Ÿæˆ–è€…ä¸¢å¤± ç³»ç»Ÿå¯¹å¤–æä¾›çš„è®¿é—®æ˜¯å¯ä»¥å¹¶å‘çš„ å½“ä»¥ä¸‹3æ ¹é—®é¢˜è¢«åŒæ—¶è§£å†³ï¼Œå³è¾¾æˆå…±è¯†ï¼š å¦‚ä½•é€‰ä¸» å¦‚ä½•å°†æ•°æ®å¤åˆ¶åˆ°å„ä¸ªèŠ‚ç‚¹ å¦‚ä½•ä¿è¯è¿‡ç¨‹å®‰å…¨ Paxos å¯¹å¤šä¸ªèŠ‚ç‚¹äº§ç”Ÿçš„å€¼ï¼Œè¯¥ç®—æ³•èƒ½ä¿è¯åªé€‰å‡ºå”¯ä¸€ä¸€ä¸ªå€¼ èŠ‚ç‚¹ç±»å‹ æè®®è€…ï¼ˆProposerï¼‰ï¼šæè®®ä¸€ä¸ªå€¼ å†³ç­–è€…ï¼ˆAcceptorï¼‰ï¼šå¯¹æ¯ä¸ªæè®®è¿›è¡ŒæŠ•ç¥¨ è®°å½•è€…ï¼ˆLearnerï¼‰ï¼šè¢«å‘ŠçŸ¥æŠ•ç¥¨çš„ç»“æœï¼Œä¸å‚ä¸æŠ•ç¥¨è¿‡ç¨‹ Paxosæè¿°äº†è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œæœ‰ä¸€ä¸ªå«åšPaxosçš„å°å²›(Island)ä¸Šé¢ä½äº†ä¸€æ‰¹å±…æ°‘ï¼Œå²›ä¸Šé¢æ‰€æœ‰çš„äº‹æƒ…ç”±ä¸€äº›ç‰¹æ®Šçš„äººå†³å®šï¼Œä»–ä»¬å«åšè®®å‘˜(Senator)ã€‚è®®å‘˜çš„æ€»æ•°(Senator Count)æ˜¯ç¡®å®šçš„ï¼Œä¸èƒ½æ›´æ”¹ã€‚å²›ä¸Šæ¯æ¬¡ç¯å¢ƒäº‹åŠ¡çš„å˜æ›´éƒ½éœ€è¦é€šè¿‡ä¸€ä¸ªæè®®(Proposal)ï¼Œæ¯ä¸ªæè®®éƒ½æœ‰ä¸€ä¸ªç¼–å·(PID)ï¼Œè¿™ä¸ªç¼–å·æ˜¯ä¸€ç›´å¢é•¿çš„ï¼Œä¸èƒ½å€’é€€ã€‚æ¯ä¸ªæè®®éƒ½éœ€è¦è¶…è¿‡åŠæ•°((Senator Count)/2 +1)çš„è®®å‘˜åŒæ„æ‰èƒ½ç”Ÿæ•ˆã€‚æ¯ä¸ªè®®å‘˜åªä¼šåŒæ„å¤§äºå½“å‰ç¼–å·çš„æè®®ï¼ŒåŒ…æ‹¬å·²ç”Ÿæ•ˆçš„å’Œæœªç”Ÿæ•ˆçš„ã€‚å¦‚æœè®®å‘˜æ”¶åˆ°å°äºç­‰äºå½“å‰ç¼–å·çš„æè®®ï¼Œä»–ä¼šæ‹’ç»ï¼Œå¹¶å‘ŠçŸ¥å¯¹æ–¹ï¼šä½ çš„æè®®å·²ç»æœ‰äººæè¿‡äº†ã€‚è¿™é‡Œçš„å½“å‰ç¼–å·æ˜¯æ¯ä¸ªè®®å‘˜åœ¨è‡ªå·±è®°äº‹æœ¬ä¸Šé¢è®°å½•çš„ç¼–å·ï¼Œä»–ä¸æ–­æ›´æ–°è¿™ä¸ªç¼–å·ã€‚æ•´ä¸ªè®®ä¼šä¸èƒ½ä¿è¯æ‰€æœ‰è®®å‘˜è®°äº‹æœ¬ä¸Šçš„ç¼–å·æ€»æ˜¯ç›¸åŒçš„ã€‚ç°åœ¨è®®ä¼šæœ‰ä¸€ä¸ªç›®æ ‡ï¼šä¿è¯æ‰€æœ‰çš„è®®å‘˜å¯¹äºæè®®éƒ½èƒ½è¾¾æˆä¸€è‡´çš„çœ‹æ³• ä¸€äº›paxosåŸå‹æè¿°:https://www.douban.com/note/208430424/ æœ€åŸå…ˆçš„Paxosè¢«ç§°ä¸º Basic Paxosï¼Œä½†è¿™ä¸ªç®—æ³•å¦‚æœä¸¤ä¸ªææ¡ˆèŠ‚ç‚¹äº’ä¸ç›¸è®©åœ°äº‰ç›¸æå‡ºè‡ªå·±çš„ææ¡ˆï¼ŒæŠ¢å åŒä¸€ä¸ªå€¼çš„ä¿®æ”¹æƒé™ï¼Œå°±ä¼šäº§ç”Ÿæ´»é”é—®é¢˜ Multi Paxos Multi Paxoså¯¹Basic Paxosçš„æ ¸å¿ƒæ”¹è¿›æ˜¯å¢åŠ äº†â€œé€‰ä¸»â€çš„è¿‡ç¨‹ ä¸€æ—¦ç³»ç»Ÿæœ‰äº†ä¸»èŠ‚ç‚¹ï¼Œç”¨æˆ·çš„æ“ä½œè¯·æ±‚éƒ½å°†ç›´æ¥åœ¨ä¸»ææ¡ˆèŠ‚ç‚¹ä¸Šæ“ä½œï¼š è¿™å°±è·Ÿzkçš„ç®—æ³•å¾ˆåƒäº† å®ç°æ•°æ®çš„å¤åˆ¶åŒæ­¥åªéœ€è¾¾åˆ°èŠ‚ç‚¹æ€»æ•°çš„ä¸€åŠå°±å¯ä»¥æäº¤ æ•°æ®å°†ä¼šç”Ÿæ•ˆ è®¸å¤šè¯´æ³•éƒ½ä¼šæå‡ºä¸ºäº†é˜²æ­¢äº§ç”Ÿç½‘ç»œåˆ†åŒºï¼Œä¹Ÿå°±è¯´èŠ‚ç‚¹ä¹‹é—´ç½‘ç»œä¸é€šï¼Œä½†æ˜¯è¿˜èƒ½å¤Ÿå‘å¤–æä¾›æœåŠ¡ï¼Œäº§ç”Ÿè„‘è£‚é—®é¢˜ï¼Œæ‰€ä»¥é€šè¿‡è®¾ç½®èŠ‚ç‚¹æ•°ä¸èƒ½å°äºæ€»æ•°çš„ä¸€åŠï¼Œä½†å®é™…ä¸Šè¿™ç§æƒ…å†µååˆ†å°‘è§ã€‚ æœ¬è´¨ä¸Šï¼Œå®¹å¿ä¸€åŠä»¥ä¸‹èŠ‚ç‚¹æ›´å¤šåœ°æ˜¯ä¸ºäº†å…è®¸ä¸€å®šé‡çš„èŠ‚ç‚¹ä¸‹çº¿ï¼Œæ˜¯ä¸ºäº†å¯ç”¨æ€§ Raft åˆ†å¸ƒå¼ä¸€è‡´æ€§åè®®ï¼Œä¸»è¦æ˜¯ç”¨æ¥ç«é€‰ä¸»èŠ‚ç‚¹ æœ‰ä¸‰ç§èŠ‚ç‚¹ï¼šFollowerã€Candidate å’Œ Leaderã€‚Leader ä¼šå‘¨æœŸæ€§çš„å‘é€å¿ƒè·³åŒ…ç»™ Followerã€‚æ¯ä¸ª Follower éƒ½è®¾ç½®äº†ä¸€ä¸ªéšæœºçš„ç«é€‰è¶…æ—¶æ—¶é—´ï¼Œä¸€èˆ¬ä¸º 150ms~300msï¼Œå¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ° Leader çš„å¿ƒè·³åŒ…ï¼Œå°±ä¼šå˜æˆ Candidateï¼Œè¿›å…¥ç«é€‰é˜¶æ®µ ç«é€‰é˜¶æ®µCandidateä¼šå‘å…¶ä»–èŠ‚ç‚¹å‘é€æŠ•ç¥¨è¯·æ±‚ï¼ŒFolloweråŒæ„æŠ•ç¥¨åˆ™å‘è¯¥Candidateå›å¤åŒæ„æŠ•ç¥¨ å½“ Candidateè·å¾—è¶…è¿‡åŠæ•°ç¥¨æ—¶ï¼Œå°±æˆä¸ºLeaderèŠ‚ç‚¹ å¦‚æœæœ‰å¤šä¸ªCandidateè·å¾—ç›¸åŒçš„ç¥¨æ•°ï¼Œåˆ™é‡æ–°å¼€å§‹æŠ•ç¥¨ æ¯ä¸ªèŠ‚ç‚¹è®¾ç½®çš„éšæœºç«é€‰è¶…æ—¶æ—¶é—´ä¸åŒï¼Œå› æ­¤ä¸‹ä¸€æ¬¡å†æ¬¡å‡ºç°å¤šä¸ª Candidate å¹¶è·å¾—åŒæ ·ç¥¨æ•°çš„æ¦‚ç‡å¾ˆä½ æ•°æ®åŒæ­¥ è‡ªå®¢æˆ·ç«¯çš„ä¿®æ”¹éƒ½ä¼šè¢«ä¼ å…¥ Leaderã€‚æ­¤æ—¶è¯¥ä¿®æ”¹è¿˜æœªè¢«æäº¤ï¼Œåªæ˜¯å†™å…¥æ—¥å¿—ä¸­ Leader ä¼šæŠŠä¿®æ”¹å¤åˆ¶åˆ°æ‰€æœ‰ Follower Leader ä¼šç­‰å¾…å¤§å¤šæ•°çš„ Follower ä¹Ÿè¿›è¡Œäº†ä¿®æ”¹ï¼Œç„¶åæ‰å°†ä¿®æ”¹æäº¤ æ­¤æ—¶ Leader ä¼šé€šçŸ¥çš„æ‰€æœ‰ Follower è®©å®ƒä»¬ä¹Ÿæäº¤ä¿®æ”¹ï¼Œæ­¤æ—¶æ‰€æœ‰èŠ‚ç‚¹çš„å€¼è¾¾æˆä¸€è‡´ Goossipåè®® æœ€ç»ˆä¸€è‡´æ€§çš„åˆ†å¸ƒå¼å…±è¯†åè®® ç³»ç»Ÿä¸­ä¸ä¸€è‡´çš„çŠ¶æ€æœ‰å¯èƒ½ä¼šåœ¨ä¸€å®šæ—¶é—´å†…è¢«å¤–éƒ¨ç›´æ¥è§‚å¯Ÿåˆ° ä¸¤ç§ä¼ æ’­æ–¹å¼ï¼š åç†µï¼šå…¨é‡åŒæ­¥æ•°æ® ä¼ è°£ï¼šåªå¯¹å¤–å‘é€å˜æ›´æ¶ˆæ¯ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-12 06:59:02 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ç³»ç»Ÿ.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ç³»ç»Ÿ.html","title":"åˆ†å¸ƒå¼ç³»ç»Ÿ","keywords":"","body":"åˆ†å¸ƒå¼ç³»ç»Ÿ å­˜å‚¨ç³»ç»Ÿ GFS HDFS è®¡ç®—ç³»ç»Ÿ æ‰¹å¤„ç†ï¼šMapReduce æµå¤„ç†ï¼šStorm èŠ‚ç‚¹å…³ç³» ä¸»ä»å¼ å¯¹ç­‰å¼ å‰ç«¯æŠ€æœ¯ MVCæ¡†æ¶ åå‘ä»£ç† nginx vanish è´Ÿè½½å‡è¡¡ dns ç¡¬ä»¶ï¼šF5 è½¯ä»¶ï¼šLVS åˆ†å¸ƒå¼ä¸­é—´ä»¶ åˆ†å¸ƒå¼åŒæ­¥æœåŠ¡ä¸­é—´ä»¶ åˆ†å¸ƒå¼ä¸€è‡´æ€§åè®®ï¼špaxos raft ark npc chubby zookeeper å…³ç³»å‹æ•°æ®åº“è®¿é—®ä¸­é—´ä»¶ å®¢æˆ·ç«¯è½¬å‘ æœåŠ¡ç«¯è½¬å‘ mysql ä»£ç† cobar mycat sharding jdbc åˆ†å¸ƒå¼æœåŠ¡è°ƒç”¨ä¸­é—´ä»¶ dubbo dubbox protocol buffers ä¸€ä¸ªè¯­è¨€å¹³å°æ— å…³çš„åºåˆ—åŒ–ååºåˆ—åŒ–åº“ grpc thrift motan åˆ†å¸ƒå¼æ¶ˆæ¯æœåŠ¡ä¸­é—´ä»¶ kafka åˆ†å¸ƒå¼è·Ÿè¸ªæœåŠ¡ä¸­é—´ä»¶ dapper zipkin pinpoint é¹°çœ¼ åˆ†å¸ƒå¼å­˜å‚¨æœåŠ¡ åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ GFS HDFS å¤§æ–‡ä»¶ TFS æµ·é‡å°æ–‡ä»¶ NoSQLæ•°æ®åº“ ç‰ºç‰²C é€‰æ‹©AP åŸºäºé”®å€¼å¯¹ LevelDB Tair Dynamo Memcached Redis Berkeley DB åŸºäºåˆ— Bigtable HBase Cassandra åŸºäºæ–‡æ¡£ MongoDB CouchDB RethinkDB åŸºäºå›¾ Neo4j æ—¶é—´åºåˆ— influxDB NewSQL å…³ç³»å‹æ•°æ®åº“ä¸NoSQLçš„èåˆ Megastore Spanner F1 OceanBase æ„å»ºæ€æƒ³ äº‘åŒ– è™šæ‹ŸåŒ–æŠ€æœ¯ åˆ†å¸ƒå¼ ä¸€åˆ‡éƒ½å¯èƒ½å¤±è´¥ä¸å†—ä½™æ€æƒ³ å¤šèŠ‚ç‚¹ ä¸»ä»æ¶æ„ åˆ†ç‰‡ æ°´å¹³æ‰©å±• æ•°æ®ï¼šåˆ†ç‰‡ æœåŠ¡ï¼š é›†ç¾¤ è´Ÿè½½å‡è¡¡ æ•°æ®ä¸­å¿ƒï¼šå¼‚åœ°ä¸»ä» å¼‚åœ°å¤šæ´» å°½å¯èƒ½ç®€å• ç»„ä»¶æ•°é‡ æœåŠ¡ä¾èµ– æ¶æ„ è®¾è®¡ å¼‚æ­¥åŒ–å‰Šå³°å¡«è°·è§£è€¦ æœ€ç»ˆä¸€è‡´æ€§ å¾®æœåŠ¡æ€æƒ³ æœåŠ¡è·Ÿè¸ª èµ„æºæ± åŒ– æ€è€ƒ å¤§å‹äº’è”ç½‘å…¬å¸æ¶æ„å…±æ€§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-12 06:59:02 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼äº‹åŠ¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼äº‹åŠ¡.html","title":"åˆ†å¸ƒå¼äº‹åŠ¡","keywords":"","body":"åˆ†å¸ƒå¼äº‹åŠ¡ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸€æ¬¡æ“ä½œç”±å¤šä¸ªç³»ç»ŸååŒå®Œæˆï¼Œè¿™ç§ä¸€æ¬¡äº‹åŠ¡æ“ä½œæ¶‰åŠå¤šä¸ªç³»ç»Ÿé€šè¿‡ç½‘ç»œååŒå®Œæˆçš„è¿‡ç¨‹ç§°ä¸ºåˆ†å¸ƒå¼äº‹åŠ¡ã€‚ æŸ”æ€§äº‹åŠ¡ä¸åˆšæ€§äº‹åŠ¡ æŸ”æ€§äº‹åŠ¡æ»¡è¶³BASEç†è®ºï¼ˆåŸºæœ¬å¯ç”¨ï¼Œæœ€ç»ˆä¸€è‡´ï¼‰ åˆšæ€§äº‹åŠ¡æ»¡è¶³ACIDç†è®º è§£å†³æ–¹æ¡ˆ ä¸¤é˜¶æ®µæäº¤(2PC) å‡†å¤‡é˜¶æ®µï¼šåè°ƒè€…å‘å‚ä¸è€…å‘èµ·æŒ‡ä»¤ï¼Œå‚ä¸è€…è¯„ä¼°è‡ªå·±çš„çŠ¶æ€ï¼Œå¦‚æœå‚ä¸è€…è¯„ä¼°æŒ‡ä»¤å¯ä»¥å®Œæˆï¼Œåˆ™ä¼šå†™redoæˆ–è€…undoæ—¥å¿—ï¼Œç„¶åé”å®šèµ„æºï¼Œæ‰§è¡Œæ“ä½œï¼Œä½†å¹¶ä¸æäº¤ æäº¤é˜¶æ®µ:å¦‚æœæ¯ä¸ªå‚ä¸è€…æ˜ç¡®è¿”å›å‡†å¤‡æˆåŠŸï¼Œåˆ™åè°ƒè€…å‘å‚ä¸è€…å‘é€æäº¤æŒ‡ä»¤ï¼Œå‚ä¸è€…é‡Šæ”¾é”å®šçš„èµ„æºï¼Œå¦‚ä½•ä»»ä½•ä¸€ä¸ªå‚ä¸è€…æ˜ç¡®è¿”å›å‡†å¤‡å¤±è´¥ï¼Œåˆ™åè°ƒè€…ä¼šå‘é€ä¸­æ­¢æŒ‡ä»¤ï¼Œå‚ä¸è€…å–æ¶ˆå·²ç»å˜æ›´çš„äº‹åŠ¡ï¼Œé‡Šæ”¾é”å®šçš„èµ„æºã€‚ ä¼˜ç‚¹ï¼šå®ç°å¼ºä¸€è‡´æ€§ ç¼ºç‚¹ï¼šæ•´ä¸ªäº‹åŠ¡çš„æ‰§è¡Œéœ€è¦ç”±åè°ƒè€…åœ¨å¤šä¸ªèŠ‚ç‚¹ä¹‹é—´å»åè°ƒ å•ç‚¹é—®é¢˜ï¼šåè°ƒè€…å¦‚æœå‘ç”Ÿæ•…éšœä¼šé€ æˆå¾ˆå¤§å½±å“ æ€§èƒ½é—®é¢˜ï¼šæ‰€æœ‰äº‹åŠ¡å‚ä¸è€…åœ¨ç­‰å¾…å…¶å®ƒå‚ä¸è€…å“åº”çš„æ—¶å€™éƒ½å¤„äºåŒæ­¥é˜»å¡ç­‰å¾…çŠ¶æ€ï¼Œæ— æ³•è¿›è¡Œå…¶å®ƒæ“ä½œ ä¸€è‡´æ€§é£é™©ï¼šå½“åœ¨æäº¤é˜¶æ®µç½‘ç»œå‘ç”Ÿå¼‚å¸¸ï¼Œåªæœ‰éƒ¨åˆ†å‚ä¸è€…commitäº†æ¶ˆæ¯ï¼Œé€ æˆæ•°æ®ä¸ä¸€è‡´ ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹å¤±è´¥å°±ä¼šå¯¼è‡´æ•´ä¸ªäº‹åŠ¡å¤±è´¥ ä¸‰é˜¶æ®µæäº¤(3PC) ä¸ºäº†ç¼“è§£2PCçš„ç¼ºç‚¹ 3PCå¢åŠ äº†ä¸€ä¸ªè¯¢é—®é˜¶æ®µ è¯¢é—®é˜¶æ®µï¼šåè°ƒè€…è¯¢é—®å‚ä¸è€…æ˜¯å¦å¯ä»¥å®ŒæˆæŒ‡ä»¤ï¼Œåè°ƒè€…åªéœ€è¦å›ç­”æ˜¯è¿˜æ˜¯ä¸æ˜¯ï¼Œè€Œä¸éœ€è¦åšçœŸæ­£çš„æ“ä½œï¼Œè¿™ä¸ªé˜¶æ®µè¶…æ—¶å°†å¯¼è‡´äº‹åŠ¡ä¸­æ­¢ å‡†å¤‡é˜¶æ®µ æäº¤é˜¶æ®µ ä¸‰æ®µå¼æäº¤å¯¹å•ç‚¹é—®é¢˜å’Œå›æ»šæ—¶çš„æ€§èƒ½é—®é¢˜æœ‰æ‰€æ”¹å–„ï¼Œä½†æ˜¯å®ƒå¯¹ä¸€è‡´æ€§é£é™©é—®é¢˜å¹¶æœªæœ‰ä»»ä½•æ”¹è¿› å…±äº«äº‹åŠ¡ é€šè¿‡å¤šä¸ªæœåŠ¡å…±ç”¨ä¸€ä¸ªæ•°æ®æºçš„æ–¹å¼æ¥å®ç°ï¼Œä¸è¿‡è¿™ç§æ–¹å¼å¾ˆé¸¡è‚‹ï¼Œå› ä¸ºå¾€å¾€æ•°æ®åº“æ‰æ˜¯æ•´ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆ äº‹åŠ¡è¡¥å¿(TCC) ä¼˜ç‚¹ï¼šæœ€ç»ˆä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œåœ¨ä¸šåŠ¡å±‚å®ç°äº‹åŠ¡æ§åˆ¶ï¼Œçµæ´»æ€§å¥½ã€‚ ç¼ºç‚¹ï¼šå¼€å‘æˆæœ¬é«˜ï¼Œæ¯ä¸ªäº‹åŠ¡æ“ä½œæ¯ä¸ªå‚ä¸è€…éƒ½éœ€è¦å®ç°try/confirm/cancelä¸‰ä¸ªæ¥å£ã€‚ ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å®ç°æœ€ç»ˆä¸€è‡´æ€§ åœ¨è¿™ç§æ–¹æ¡ˆä¸‹ï¼Œåªæœ‰äº‹åŠ¡çš„ä¸€éƒ¨åˆ†æˆåŠŸï¼Œäº‹åŠ¡çš„å…¶ä»–éƒ¨åˆ†å¦‚æœå¤±è´¥åå°±ä¸æ–­é‡è¯•ï¼Œç›´è‡³æ“ä½œæˆåŠŸæˆ–è€…äººå·¥ä»‹å…¥ æœ€å¤§åŠªåŠ›é€šçŸ¥æ–¹æ¡ˆ ç±»ä¼¼äºç¬¬ä¸‰æ–¹æ”¯ä»˜çš„æ”¯ä»˜å›è°ƒ ä¸€ç›´è¿›è¡Œé‡è¯• ç›´åˆ°æˆåŠŸä¸ºæ­¢ æœ¬åœ°æ¶ˆæ¯è¡¨ åœ¨åˆ†å¸ƒå¼äº‹åŠ¡æ“ä½œçš„ä¸€æ–¹å®Œæˆå†™ä¸šåŠ¡æ•°æ®çš„æ“ä½œä¹‹åå‘æœ¬åœ°æ¶ˆæ¯è¡¨å‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œæœ¬åœ°äº‹åŠ¡èƒ½ä¿è¯è¿™ä¸ªæ¶ˆæ¯ä¸€å®šä¼šè¢«å†™å…¥æœ¬åœ°æ¶ˆæ¯è¡¨ä¸­ ä¹‹åå°†æœ¬åœ°æ¶ˆæ¯è¡¨ä¸­çš„æ¶ˆæ¯è½¬å‘åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœè½¬å‘æˆåŠŸåˆ™å°†æ¶ˆæ¯ä»æœ¬åœ°æ¶ˆæ¯è¡¨ä¸­åˆ é™¤ï¼Œå¦åˆ™ç»§ç»­é‡æ–°è½¬å‘ åˆ†å¸ƒå¼äº‹åŠ¡æ“ä½œçš„å¦ä¸€æ–¹ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–ä¸€ä¸ªæ¶ˆæ¯ï¼Œå¹¶æ‰§è¡Œæ¶ˆæ¯ä¸­çš„æ“ä½œ è¡¥å¿çš„æ–¹å¼ ç”Ÿäº§è€…ä¸€å®šè¦å°†æ•°æ®æŠ•é€’åˆ°MQæœåŠ¡å™¨ä¸­ï¼ˆæ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼‰ MQæ¶ˆè´¹è€…æ¶ˆæ¯èƒ½å¤Ÿæ­£ç¡®æ¶ˆè´¹æ¶ˆæ¯ï¼Œé‡‡ç”¨æ‰‹åŠ¨ACKæ¨¡å¼ï¼ˆå½“æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯å¤±è´¥ï¼Œåˆ™ä¸ç¡®è®¤æ¶ˆæ¯ï¼Œæ¶ˆæ¯è¿›è¡Œé‡è¯•ï¼‰ å½“ç”Ÿäº§è€…å‡ºé”™å›æ»šï¼Œå‘é€åˆ°è¡¥å¿é˜Ÿåˆ—çš„æ¶ˆæ¯ä¼šæ£€æµ‹ç”Ÿäº§è€…çš„æ•°æ®æ˜¯å¦æäº¤æˆåŠŸï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¡¥å¿é˜Ÿåˆ—çš„æ¶ˆè´¹è€…ä¼šé‡æ–°æ‰§è¡Œä¸€éç”Ÿäº§è€…æ²¡æœ‰æäº¤çš„äº‹åŠ¡ SAGA é€šè¿‡å°†äº‹åŠ¡æ‹†åˆ†ä¸ºä¸€ç³»åˆ—æ­£å‘åŸå­æ“ä½œT1 T2 ... TN ä¸ä¸€ç³»åˆ—çš„è¡¥å¿åŸå­æ“ä½œï¼šC1 C2 ... CN è¿™äº›æ“ä½œéƒ½å¿…é¡»ä¿è¯æ˜¯å¹‚ç­‰çš„ï¼Œå½“äº‹åŠ¡å‘ç”Ÿå¤±è´¥ï¼Œå¯ä»¥é‡‡å–ä¸¤ç§ç­–ç•¥ï¼š æ­£å‘æ¢å¤ ä¸æ–­é‡è¯•T ç›´è‡³æˆåŠŸ åå‘æ¢å¤ åå‘æ‰§è¡Œè¡¥å¿æ“ä½œ å°†æ•°æ®æ¢å¤è‡³åŸå§‹çŠ¶æ€ LCN åŸç† ä½¿ç”¨ å¯åŠ¨tx-manager å®¢æˆ·ç«¯ ä¾èµ– com.codingapi.txlcn txlcn-tc 5.0.2.RELEASE com.codingapi.txlcn txlcn-txmsg-netty 5.0.2.RELEASE é…ç½® @EnableDistributedTransaction ä½¿ç”¨ å‘èµ·è€… @LcnTransaction @Transactional(rollbackFor = Exception.class) public void consume(){ jdbcTemplate.update(\"INSERT INTO tb_order VALUES(1,1,'test')\"); String result = producerRemote.home(); } å‚ä¸è€… @LcnTransaction @Transactional(rollbackFor = Exception.class) public String home() { jdbcTemplate.update(\"UPDATE stock SET stock = stock -1 WHERE product_id = 1\"); return name+port; } é›†ç¾¤ å¯åŠ¨å¤šå°tx-manager å‘èµ·è€…ä¸å‚ä¸è€…é…ç½®åœ°å€ tx-lcn.client.manager-address=127.0.0.1:8070,127.0.0.1:8071 MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-12 06:59:02 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼å®ç°.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼å®ç°.html","title":"åˆ†å¸ƒå¼å®ç°","keywords":"","body":"åˆ†å¸ƒå¼é” åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹ï¼Œéœ€è¦åŒæ­¥çš„è¿›ç¨‹å¯èƒ½ä½äºä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼é” é˜»å¡é”ä½¿ç”¨ä¸€ä¸ªäº’æ–¥é‡æ¥å®ç°ï¼š 0ä»£è¡¨å…¶ä»–è¿›ç¨‹åœ¨ä½¿ç”¨é” 1ä»£è¡¨æœªé”å®š å¯ä»¥ç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç”¨æŸä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨æ¥è¡¨ç¤º æ•°æ®åº“å”¯ä¸€ç´¢å¼• è·å¾—é”æ—¶å‘è¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•ï¼Œé‡Šæ”¾é”æ—¶åˆ é™¤è¿™æ¡è®°å½• é”æ²¡æœ‰å¤±æ•ˆæ—¶é—´ï¼Œå®¹æ˜“æ­»é” æ˜¯éé˜»å¡çš„ï¼Œè·å–é”å¤±è´¥å°±æŠ¥é”™ ä¸å¯é‡å…¥ redis setnx 1.è·å–é”çš„æ—¶å€™ï¼Œå¯¹æŸä¸ªkeyæ‰§è¡Œsetnxï¼ŒåŠ é”ï¼ˆå¦‚æœè®¾ç½®æˆåŠŸï¼ˆè·å¾—é”ï¼‰è¿”å›1ï¼Œå¦åˆ™è¿”å›0ï¼‰ï¼Œå¹¶ä½¿ç”¨expireå‘½ä»¤ä¸ºé”æ·»åŠ ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´åˆ™è‡ªåŠ¨é‡Šæ”¾é”ï¼Œé”çš„valueå€¼ä¸ºä¸€ä¸ªéšæœºç”Ÿæˆçš„UUIDï¼Œé€šè¿‡æ­¤åœ¨é‡Šæ”¾é”çš„æ—¶å€™è¿›è¡Œåˆ¤æ–­ã€‚ 2.è·å–é”çš„æ—¶å€™è¿˜è®¾ç½®ä¸€ä¸ªè·å–çš„è¶…æ—¶æ—¶é—´(é˜²æ­¢æ­»é”)ï¼Œè‹¥è¶…è¿‡è¿™ä¸ªæ—¶é—´åˆ™æ”¾å¼ƒè·å–é”ã€‚ 3.é‡Šæ”¾é”çš„æ—¶å€™ï¼Œé€šè¿‡UUIDåˆ¤æ–­æ˜¯ä¸æ˜¯è¯¥é”ï¼Œè‹¥æ˜¯è¯¥é”ï¼Œåˆ™æ‰§è¡Œdeleteè¿›è¡Œé”é‡Šæ”¾ å®ç° public class RedisLock { private StringRedisTemplate template; private static final String LOCK_KEY = \"LOCK\"; private String identifyValue; public RedisLock(StringRedisTemplate template) {this.template = template;} /** * @param acquireTimeout è·å–é”ä¹‹å‰çš„è¶…æ—¶æ—¶é—´ * @param expireTime é”çš„è¿‡æœŸæ—¶é—´ * @return */ public boolean lock(long acquireTimeout, long expireTime) { // è·å–é”çš„æ—¶é—´ long inTime = System.currentTimeMillis(); identifyValue = UUID.randomUUID().toString(); for (; ; ) { // åˆ¤æ–­è·å–é”æ˜¯å¦è¶…æ—¶ if (System.currentTimeMillis() - inTime >= acquireTimeout) { return false; } // é€šè¿‡setnxçš„æ–¹å¼æ¥è·å–é” if (template.opsForValue().setIfAbsent(LOCK_KEY, identifyValue, expireTime, TimeUnit.MILLISECONDS)) { // è·å–é”æˆåŠŸ return true; } // è·å–é”å¤±è´¥ï¼Œç»§ç»­è‡ªæ—‹ } } public void release() { if (identifyValue == null){ throw new IllegalStateException(\"æ²¡æœ‰è·å–é”\"); } // åˆ é™¤çš„æ—¶å€™éªŒè¯valueï¼Œå¿…é¡»ç¡®ä¿é‡Šæ”¾çš„é”æ˜¯è‡ªå·±åˆ›å»ºçš„ if (!identifyValue.equals(template.opsForValue().get(LOCK_KEY))){ throw new IllegalStateException(\"é”çš„valueä¸ä¸€è‡´\"); } template.delete(LOCK_KEY); } } ä¸zookeeperæ¯”è¾ƒ ç›¸å¯¹æ¯”æ¥è¯´Redisæ¯”Zookeeperæ€§èƒ½è¦å¥½ï¼Œä»å¯é æ€§è§’åº¦åˆ†æï¼ŒZookeeperå¯é æ€§æ¯”Redisæ›´å¥½ã€‚å› ä¸ºRedisæœ‰æ•ˆæœŸä¸æ˜¯å¾ˆå¥½æ§åˆ¶ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæœ‰æ•ˆæœŸå»¶è¿Ÿ redis redlock ä½¿ç”¨äº†å¤šä¸ª Redis å®ä¾‹æ¥å®ç°åˆ†å¸ƒå¼é”ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯åœ¨å‘ç”Ÿå•ç‚¹æ•…éšœæ—¶ä»ç„¶å¯ç”¨ è®¡ç®—è·å–é”æ¶ˆè€—çš„æ—¶é—´ï¼Œåªæœ‰æ¶ˆè€—çš„æ—¶é—´å°äºé”çš„è¿‡æœŸæ—¶é—´ï¼Œå¹¶ä¸”ä»å¤§å¤šæ•°ï¼ˆN / 2 + 1ï¼‰å®ä¾‹ä¸Šè·å–äº†é”ï¼Œæ‰è®¤ä¸ºè·å–é”æˆåŠŸ å¦‚æœè·å–é”å¤±è´¥ï¼Œå°±åˆ°æ¯ä¸ªå®ä¾‹ä¸Šé‡Šæ”¾é” zookeeperä¸´æ—¶èŠ‚ç‚¹ å¤šä¸ªè¿›ç¨‹åŒæ—¶åœ¨zookeeper.ä¸Šåˆ›å»ºåŒä¸€ä¸ªç›¸åŒçš„èŠ‚ç‚¹(/lock) , å› ä¸ºzookeeperèŠ‚ç‚¹æ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœæ˜¯å”¯ä¸€çš„è¯ï¼Œé‚£ä¹ˆåŒæ—¶å¦‚æœæœ‰å¤šä¸ªå®¢æˆ·ç«¯åˆ›å»ºç›¸åŒçš„èŠ‚ç‚¹/lockçš„è¯ï¼Œæœ€ç»ˆåªæœ‰çœ‹è°èƒ½å¤Ÿå¿«é€Ÿçš„æŠ¢èµ„æºï¼Œè°å°±èƒ½åˆ›å»º/lockèŠ‚ç‚¹,åˆ›å»ºèŠ‚ç‚¹ä¸æˆåŠŸçš„è¿›ç¨‹ï¼Œä¼šæ³¨å†Œä¸€ä¸ªç›‘å¬äº‹ä»¶ï¼Œç­‰èŠ‚ç‚¹è¢«åˆ é™¤çš„æ—¶å€™ï¼Œé‡æ–°ç«äº‰è¿™ä¸ªé” è¿™ä¸ªæ—¶å€™èŠ‚ç‚¹ç±»å‹åº”è¯¥ä½¿ç”¨ä¸´æ—¶ç±»å‹ã€‚ å½“ä¸€ä¸ªè¿›ç¨‹é‡Šæ”¾é”åï¼ˆå…³é—­zkè¿æ¥æˆ–è€…ä¼šè¯è¶…æ—¶ï¼‰ï¼Œä¸´æ—¶èŠ‚ç‚¹ä¼šè¢«åˆ é™¤ï¼Œç­‰å¾…é”çš„å…¶ä»–è¿›ç¨‹ä¼šæ”¶åˆ°èŠ‚ç‚¹è¢«åˆ é™¤çš„é€šçŸ¥ï¼Œè¿™äº›ç­‰å¾…çš„è¿›ç¨‹ä¼šé‡æ–°å‚ä¸åˆ°ç«äº‰ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦æ ¹æ®ä¸šåŠ¡è®¾ç½®é”ç­‰å¾…æ—¶é—´ï¼Œé¿å…æ­»é” å®ç° ä¸Šé” public void lock() { // å°è¯•è·å–é”ï¼Œå¦‚æœæˆåŠŸï¼Œå°±çœŸçš„æˆåŠŸäº† if (tryLock()) { System.out.println(Thread.currentThread().getName() + \"è·å–é”æˆåŠŸ\"); // å¦åˆ™ç­‰å¾…é” } else { waitLock(); // å½“ç­‰å¾…è¢«å”¤é†’åé‡æ–°å»ç«äº‰é” lock(); } } private boolean tryLock() { try { // é€šè¿‡zkåˆ›å»ºä¸´æ—¶èŠ‚ç‚¹çš„æˆåŠŸä¸å¦æ¥è¡¨ç¤ºæ˜¯å¦è·å¾—é” zkClient.createEphemeral(\"/lock\"); return true; } catch (Exception e) { return false; } } private void waitLock() { // ç›‘å¬èŠ‚ç‚¹è¢«åˆ é™¤çš„äº‹ä»¶ zkClient.subscribeDataChanges(\"/lock\", new IZkDataListener() { @Override public void handleDataDeleted(String s) throws Exception { // å¦‚æœèŠ‚ç‚¹è¢«åˆ é™¤ï¼Œå”¤é†’latch if (latch != null) { latch.countDown(); } } }); // å¦‚æœzkæœ‰lockè¿™ä¸ªé” if (zkClient.exists(\"/lock\")) { // åœ¨è¿™é‡Œè¿›è¡Œç­‰å¾…ï¼Œç›´è‡³è¢«ä¸Šé¢çš„äº‹ä»¶ç›‘å¬å”¤é†’ latch = new CountDownLatch(1); try { latch.await(); } catch (InterruptedException e) { throw new RuntimeException(e); } } // ç­‰å¾…å®Œæˆåˆ é™¤æ‰€æœ‰ç›‘å¬äº‹ä»¶ï¼Œé¿å…ç›‘å¬å™¨å †ç§¯å½±å“æ€§èƒ½ zkClient.unsubscribeAll(); } é‡Šæ”¾é” public void release() { if (zkClient != null) { // å…³é—­zkå®¢æˆ·ç«¯ï¼Œä¸´æ—¶èŠ‚ç‚¹ä¹Ÿéšä¹‹è¢«åˆ é™¤ï¼Œç›¸å½“äºé‡Šæ”¾é”ï¼Œè®©å…¶ä»–äººå»ç«äº‰ zkClient.close(); System.out.println(Thread.currentThread().getName()+\"é‡Šæ”¾é”å®Œæˆ\"); } } zookeeperä¸´æ—¶é¡ºåºèŠ‚ç‚¹ æœ‰ä¸€æŠŠé”ï¼Œè¢«å¤šä¸ªäººç»™ç«äº‰ï¼Œæ­¤æ—¶å¤šä¸ªäººä¼šæ’é˜Ÿï¼Œç¬¬ä¸€ä¸ªæ‹¿åˆ°é”çš„äººä¼šæ‰§è¡Œï¼Œç„¶åé‡Šæ”¾é”ï¼›åé¢çš„æ¯ä¸ªäººéƒ½ä¼šå»ç›‘å¬æ’åœ¨è‡ªå·±å‰é¢çš„é‚£ä¸ªäººåˆ›å»ºçš„ node ä¸Šï¼Œä¸€æ—¦æŸä¸ªäººé‡Šæ”¾äº†é”ï¼Œæ’åœ¨è‡ªå·±åé¢çš„äººå°±ä¼šè¢« zookeeper ç»™é€šçŸ¥ï¼Œä¸€æ—¦è¢«é€šçŸ¥äº†ä¹‹åï¼Œå°± ok äº†ï¼Œè‡ªå·±å°±è·å–åˆ°äº†é” zké” vs redisé” redis åˆ†å¸ƒå¼é”ï¼Œå…¶å®éœ€è¦è‡ªå·±ä¸æ–­å»å°è¯•è·å–é”ï¼Œæ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ zk åˆ†å¸ƒå¼é”ï¼Œè·å–ä¸åˆ°é”ï¼Œæ³¨å†Œä¸ªç›‘å¬å™¨å³å¯ï¼Œç­‰å¾…zkçš„é€šçŸ¥ rediså¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰åŠæ—¶é‡Šæ”¾é”ï¼Œä¼šå‘ç”Ÿæ­»é” åˆ†å¸ƒå¼Session é›†ç¾¤äº§ç”Ÿçš„é—®é¢˜ æœåŠ¡å™¨é›†ç¾¤åï¼Œå› ä¸ºsessionæ˜¯å­˜æ”¾åœ¨æœåŠ¡å™¨ä¸Šï¼Œå®¢æˆ·ç«¯ä¼šä½¿ç”¨åŒä¸€ä¸ªSessionidåœ¨å¤šä¸ªä¸åŒçš„æœåŠ¡å™¨ä¸Šè·å–å¯¹åº”çš„Sessionï¼Œä»è€Œä¼šå¯¼è‡´Sessionä¸ä¸€è‡´é—®é¢˜ è§£å†³æ–¹æ¡ˆ cookieä»£æ›¿session nginxå°†åŒä¸€ä¸ªipçš„è¯·æ±‚éƒ½è½¬å‘åˆ°åŒä¸€å°æœåŠ¡å™¨ ä½¿ç”¨æ•°æ®åº“å­˜å‚¨session ä½¿ç”¨webå®¹å™¨çš„sessionåŒæ­¥ ä½¿ç”¨rediså­˜å‚¨session ä½¿ç”¨tokenæˆ–è€…jwtå­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œéœ€è¦æ—¶å†å»æ•°æ®åº“æˆ–è€…cacheæŸ¥ SpringSession ä½¿ç”¨rediså­˜å‚¨session ä¾èµ– org.springframework.boot spring-boot-starter-data-redis org.springframework.session spring-session-data-redis é…ç½® @EnableRedisHttpSession è¿™æ—¶å€™ï¼ŒSessionçš„å­˜å–éƒ½æ˜¯é€šè¿‡redisæ¥äº† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-12 06:59:02 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/é«˜å¹¶å‘.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/é«˜å¹¶å‘.html","title":"é«˜å¹¶å‘","keywords":"","body":"é«˜å¹¶å‘ é«˜å¹¶å‘è¯» é«˜å¹¶å‘å†™ é«˜å¹¶å‘è¯»å†™ å•ä¸ªæ•°æ®åº“æ¯ç§’ä¸¤ä¸‰åƒå¹¶å‘å°±åŸºæœ¬æ‰›ä¸ä½äº† ç³»ç»Ÿæ‹†åˆ† å°†å•ä½“ç³»ç»Ÿæ‹†åˆ†æˆå¤šä¸ªç³»ç»Ÿæˆ–è€…å¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªå­ç³»ç»Ÿä½¿ç”¨è‡ªå·±çš„æ•°æ®åº“ï¼Œæé«˜å¹¶å‘åº¦ å¤§éƒ¨åˆ†çš„ç³»ç»Ÿéƒ½æ˜¯éœ€è¦ç»è¿‡å¤šè½®æ‹†åˆ†çš„ï¼Œç¬¬ä¸€è½®æ‹†åˆ†å°†ç³»ç»Ÿç²’åº¦åˆ’çš„å°ä¸€ç‚¹ï¼Œå¯èƒ½éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå•ä¸ªç³»ç»Ÿä¼šå˜å¾—æ›´å¤æ‚ï¼Œæ‰€ä»¥éœ€è¦è¿›ä¸€æ­¥çš„æ‹†åˆ† é«˜å¹¶å‘è¯» ç­–ç•¥ï¼šåŠ ç¼“å­˜ å¤§éƒ¨åˆ†é«˜å¹¶å‘çš„åœºæ™¯ï¼Œéƒ½æ˜¯å†™å¤šè¯»å°‘ï¼Œä½¿ç”¨ç¼“å­˜ï¼Œå¯ä»¥æœ‰æ•ˆæŠ—ä½é«˜å¹¶å‘ å¯¹äºç¼“å­˜éœ€è¦è€ƒè™‘ é›ªå´© å‡»ç©¿ ç©¿é€ ç­‰ç¼“å­˜é—®é¢˜ æœ¬åœ°ç¼“å­˜æˆ–ä»¥Redisä¸ºä»£è¡¨çš„é›†ä¸­å¼ç¼“å­˜ æ•°æ®åº“ä¸»ä»å¤åˆ¶åˆ†æ‹…ä¸»åº“å‹åŠ› CDN é™æ€åŠ é€Ÿ ç­–ç•¥ï¼šå¹¶å‘è¯» å¼‚æ­¥RPC è¦æ±‚å„ä¸ªè°ƒç”¨ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ æ—¢ç„¶æ•°æ®åº“æ¯ç§’èƒ½æ’‘ä½çš„è¯·æ±‚æ˜¯æœ‰é™çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨MQï¼Œå¤§é‡çš„è¯·æ±‚çŒå…¥MQï¼Œåˆ©ç”¨MQçš„å‰Šå³°ï¼Œè®©ä¸‹æ¸¸ç³»ç»Ÿæ…¢æ…¢æ¶ˆè´¹ å†—ä½™è¯·æ±‚ é€šè¿‡æ¯æ¬¡è°ƒç”¨å¤šä¸ªæœåŠ¡å™¨ å“ªä¸ªè¿”å›çš„å¿«å°±ä½¿ç”¨çš„å“ªä¸ª åˆ†åº“åˆ†è¡¨ è®©æ¯ä¸ªè¡¨çš„æ•°æ®å°‘ä¸€ç‚¹ï¼Œæé«˜SQLçš„æ‰§è¡Œé€Ÿåº¦ ç­–ç•¥ï¼šé‡å†™è½»è¯» æŸäº›äº‹ä»¶äº§ç”Ÿçš„æ•°æ®æå‰èšåˆå¥½ ç­‰éœ€è¦çš„æ—¶å€™ç›´æ¥è¯»å–å³å¯ è€Œéåœ¨éœ€è¦çš„æ—¶å€™å®æ—¶è®¡ç®— æ€»ç»“ï¼šè¯»å†™åˆ†ç¦» æ•°æ®åº“è¯»å†™åˆ†ç¦» å¤§éƒ¨åˆ†å¯¹æ•°æ®åº“çš„è¯·æ±‚éƒ½æ˜¯è¯»å¤šå†™å°‘ï¼Œæ‰€ä»¥è¯»å†™åˆ†ç¦»ï¼Œåˆ†é…å¤šä¸€äº›æœºå™¨ç»™è¯»è¯·æ±‚ï¼Œèƒ½æœ‰æ•ˆæé«˜æ€§èƒ½ é«˜å¹¶å‘å†™ ç­–ç•¥ï¼šæ•°æ®åˆ†ç‰‡ æ•°æ®åº“åˆ†åº“åˆ†è¡¨ JDKçš„ConcurrentHashMap é€šè¿‡åˆ†æ®µ(ä¹‹å‰çš„ç‰ˆæœ¬) æ¥é™ä½ç«äº‰ Kafkaçš„åˆ†åŒº ä¸åŒçš„åˆ†åŒºå¯ä»¥å¹¶å‘åœ°è¯»å†™ ESåˆ†å¸ƒå¼ç´¢å¼• ç­–ç•¥ï¼šä»»åŠ¡åˆ†ç‰‡ æŒ‡ä»¤æµæ°´çº¿ mapreduce ç­–ç•¥ï¼šå¼‚æ­¥åŒ– ç³»ç»Ÿå±‚é¢ï¼šå¼‚æ­¥ç½‘ç»œæ¨¡å‹ JDKå±‚é¢ NIOç­‰ æ¥å£å±‚é¢ çº¿ç¨‹æ±  å¼‚æ­¥è°ƒç”¨ Futureç­‰ ä¸šåŠ¡å±‚é¢ RPCæ–¹å¼ ç­–ç•¥ï¼šæ‰¹é‡ æ‰¹é‡å†™å…¥æ•°æ® å°†å°æ“ä½œåˆå¹¶æˆä¸€æ•´ä¸ªå¤§æ“ä½œ è´Ÿè½½å‡è¡¡ è°ƒåº¦åæ–¹çš„å¤šå°æœºå™¨ï¼Œä»¥ç»Ÿä¸€çš„æ¥å£å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ‰¿æ‹…æ­¤èŒè´£çš„æŠ€æœ¯ç»„ä»¶è¢«ç§°ä¸ºâ€œè´Ÿè½½å‡è¡¡â€ã€‚ å››å±‚è´Ÿè½½å‡è¡¡ä¼˜åŠ¿æ˜¯æ€§èƒ½é«˜ï¼Œä¸ƒå±‚è´Ÿè½½å‡è¡¡çš„ä¼˜åŠ¿åŠŸèƒ½å¼º åšå¤šçº§æ··åˆè´Ÿè½½å‡è¡¡ï¼Œé€šå¸¸åº”æ˜¯ä½å±‚çš„è´Ÿè½½å‡è¡¡åœ¨å‰ï¼Œé«˜å±‚çš„è´Ÿè½½å‡è¡¡åœ¨å â€œå››å±‚â€çš„æ„æ€æ˜¯è¯´è¿™äº›å·¥ä½œæ¨¡å¼çš„å…±åŒç‰¹ç‚¹æ˜¯éƒ½ç»´æŒç€åŒä¸€ä¸ªTCPè¿æ¥ï¼Œè€Œä¸æ˜¯è¯´å®ƒå°±åªå·¥ä½œåœ¨ç¬¬å››å±‚ é“¾è·¯è´Ÿè½½å‡è¡¡ é€šè¿‡DNSè§£ææ¥å®Œæˆ å®æ—¶æ€§ä¸å¼º ä¸€æ—¦åç«¯æœåŠ¡å™¨å®•æœº è¿™ç§è´Ÿè½½æ–¹å¼æ— æ³•åŠæ—¶å‘ç° æ“ä½œç³»ç»Ÿè´Ÿè½½å‡è¡¡ åˆ©ç”¨ç³»ç»Ÿçº§åˆ«çš„ä¸­æ–­ä»¥åŠå¤šé˜Ÿåˆ—ç½‘å¡ç­‰æ¥å……åˆ†åˆ©ç”¨èµ„æº è¾¾åˆ°è´Ÿè½½å‡è¡¡çš„åŠŸèƒ½ å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ ä¼ ç»Ÿå¾®æœåŠ¡ ä»£ç†è´Ÿè½½å‡è¡¡ æœåŠ¡ç½‘æ ¼ é›†ç¾¤è´Ÿè½½å‡è¡¡ ç½‘ç»œçº§åˆ«çš„è´Ÿè½½å‡è¡¡ æ•°æ®é“¾è·¯å±‚è´Ÿè½½å‡è¡¡ ç›´æ¥ä¿®æ”¹è¯·æ±‚çš„æ•°æ®å¸§ä¸­çš„MACç›®æ ‡åœ°å€ï¼Œè®©ç”¨æˆ·åŸæœ¬æ˜¯å‘é€ç»™è´Ÿè½½å‡è¡¡å™¨çš„è¯·æ±‚çš„æ•°æ®å¸§ï¼Œè¢«äºŒå±‚äº¤æ¢æœºæ ¹æ®æ–°çš„MACç›®æ ‡åœ°å€è½¬å‘åˆ°æœåŠ¡å™¨é›†ç¾¤ä¸­å¯¹åº”çš„æœåŠ¡å™¨ äºŒå±‚è´Ÿè½½å‡è¡¡å™¨ç›´æ¥æ”¹å†™ç›®æ ‡MACåœ°å€çš„å·¥ä½œåŸç†å†³å®šäº†å®ƒä¸çœŸå®çš„æœåŠ¡å™¨çš„é€šè®¯å¿…é¡»æ˜¯äºŒå±‚å¯è¾¾çš„ æ•ˆç‡å¾ˆé«˜ï¼Œä½†å¿…é¡»æ˜¯äºŒå±‚å¯è¾¾ï¼Œè¿™å°±å¯¼è‡´äº†å®ƒé€‚åˆåšç¬¬ä¸€çº§è´Ÿè½½è®¾å¤‡ ç½‘ç»œå±‚è´Ÿè½½å‡è¡¡ IPéš§é“æ¨¡å¼ï¼šå¯¹IPåŒ…è¿›è¡Œå°è£…ï¼Œå°è£…æˆä¸€ä¸ªæ–°åŒ…å‘é€åˆ°åç«¯æœåŠ¡å™¨ è¿™ç§æ–¹å¼éœ€è¦åç«¯æœåŠ¡å™¨æŒæœ‰ä¸€ä¸ªVIP è¿™æ ·æ‰èƒ½ç›´æ¥å“åº”è¯·æ±‚ï¼Œä¸å¤Ÿé€æ˜ NATæ¨¡å¼ï¼šç›´æ¥ç”±å‡è¡¡å™¨å¯¹IPå¤´è¿›è¡Œä¿®æ”¹ æ‰€æœ‰æ•°æ®æŠ¥éƒ½è¦ç»è¿‡å‡è¡¡å™¨ è¿™ä¸ªå‡è¡¡å™¨å¾ˆå®¹æ˜“ç§°ä¸ºç“¶é¢ˆ æ›´å½»åº•çš„NATæ¨¡å¼ï¼šå‡è¡¡å™¨åœ¨è½¬å‘æ—¶ï¼Œä¸ä»…ä¿®æ”¹ç›®æ ‡IPåœ°å€ï¼Œè¿æºIPåœ°å€ä¹Ÿä¸€èµ·æ”¹äº†ï¼Œæºåœ°å€å°±æ”¹æˆå‡è¡¡å™¨è‡ªå·±çš„IPï¼Œç§°ä½œSource NATï¼ˆSNATï¼‰ åœ¨åç«¯æœåŠ¡å™¨çš„è§†è§’çœ‹æ¥ï¼Œæ‰€æœ‰çš„æµé‡éƒ½æ¥è‡ªäºè´Ÿè½½å‡è¡¡å™¨ åº”ç”¨å±‚è´Ÿè½½å‡è¡¡ è¯¥å±‚çš„ä¼˜åŠ¿å°±åœ¨äºæ¯”é“¾è·¯å±‚ ç½‘ç»œå±‚å¯ä»¥å¾—åˆ°æ›´å¤šçš„ä¿¡æ¯ ä»è€Œåšå‡ºæ›´åŠ æ™ºèƒ½çš„å†³ç­– å‡è¡¡ç­–ç•¥ä¸å®ç° è½®å¾ªå‡è¡¡ æƒé‡è½®å¾ªå‡è¡¡ éšæœºå‡è¡¡ æƒé‡éšæœºå‡è¡¡ ä¸€è‡´æ€§å“ˆå¸Œå‡è¡¡ å“åº”é€Ÿåº¦å‡è¡¡ æœ€å°‘è¿æ¥æ•°å‡è¡¡ å‡è¡¡å™¨çš„å®ç°åˆ™æœ‰ï¼š ç¡¬ä»¶è´Ÿè½½å‡è¡¡ F5 è½¯ä»¶è´Ÿè½½å‡è¡¡ æ„å»ºåœ¨å†…æ ¸çš„ï¼šLVS åº”ç”¨ç¨‹åºçš„å½¢å¼ï¼šNginxã€HAProxyã€KeepAlived è¯·æ±‚ä¼šç»è¿‡å¤šå°æœåŠ¡å™¨ ä¼šå¢åŠ ç½‘ç»œæ—¶å»¶ LVS D-NATæ¨¡å¼ DRæ¨¡å¼ å°†RSçš„VIPé…ç½®åœ¨å†…æ ¸ä¸­ TUNæ¨¡å¼ è°ƒåº¦ç®—æ³•: é™æ€ è½®è¯¢ åŠ æƒè½®è¯¢ ... åŠ¨æ€ æœ€å°‘è¿æ¥ åŠ æƒæœ€å°‘è¿æ¥ ... æµç¨‹ï¼š node01: ifconfig eth0:8 192.168.150.100/24 node02~node03: 1)ä¿®æ”¹å†…æ ¸ï¼š echo 1 > /proc/sys/net/ipv4/conf/eth0/arp_ignore echo 1 > /proc/sys/net/ipv4/conf/all/arp_ignore echo 2 > /proc/sys/net/ipv4/conf/eth0/arp_announce echo 2 > /proc/sys/net/ipv4/conf/all/arp_announce 2ï¼‰è®¾ç½®éšè—çš„vipï¼š ifconfig lo:3 192.168.150.100 netmask 255.255.255.255 RSä¸­çš„æœåŠ¡ï¼š node02~node03: yum install httpd -y service httpd start vi /var/www/html/index.html from 192.168.150.1x LVSæœåŠ¡é…ç½® node01: yum install ipvsadm ipvsadm -A -t 192.168.150.100:80 -s rr ipvsadm -a -t 192.168.150.100:80 -r 192.168.150.12 -g -w 1 ipvsadm -a -t 192.168.150.100:80 -r 192.168.150.13 -g -w 1 ipvsadm -ln éªŒè¯ï¼š æµè§ˆå™¨è®¿é—® 192.168.150.100 çœ‹åˆ°è´Ÿè½½ ç–¯ç‹‚F5 node01ï¼š netstat -natp ç»“è®ºçœ‹ä¸åˆ°socketè¿æ¥ node02~node03: netstat -natp ç»“è®ºçœ‹åˆ°å¾ˆå¤šçš„socketè¿æ¥ node01: ipvsadm -lnc æŸ¥çœ‹å·çª¥è®°å½•æœ¬ TCP 00:57 FIN_WAIT 192.168.150.1:51587 192.168.150.100:80 192.168.150.12:80 FIN_WAITï¼š è¿æ¥è¿‡ï¼Œå·çª¥äº†æ‰€æœ‰çš„åŒ… SYN_RECVï¼š åŸºæœ¬ä¸Šlvséƒ½è®°å½•äº†ï¼Œè¯æ˜lvsæ²¡äº‹ï¼Œä¸€å®šæ˜¯åè¾¹ç½‘ç»œå±‚å‡ºé—®é¢˜ é—®é¢˜ï¼š LVSå¯èƒ½ä¼šå‘ç”Ÿå•ç‚¹æ•…éšœ ä¸»å¤‡ RSæŒ‚çš„è¯ï¼Œéƒ¨åˆ†è¯·æ±‚ä¼šå¤±è´¥ keepalived ä½œä¸ºä¸€ä¸ªé€šç”¨å·¥å…·ï¼Œè§£å†³é«˜å¯ç”¨é—®é¢˜ é…ç½® vrrp_instance VI_1 { state MASTER // å¤‡æœåŠ¡å™¨BACKUP interface eth0 virtual_router_id 51 priority 100 advert_int 1 authentication { auth_type PASS auth_pass 1111 } virtual_ipaddress { 172.17.0.100/16 dev eth0 label eth0:3 } } virtual_server 172.17.0.100 80 { delay_loop 6 lb_algo rr lb_kind DR nat_mask 255.255.255.0 persistence_timeout 0 protocol TCP real_server 172.17.0.4 80 { weight 1 HTTP_GET { url { path / status_code 200 } connect_timeout 3 nb_get_retry 3 delay_before_retry 3 } } real_server 172.17.0.6 80 { weight 1 HTTP_GET { url { path / status_code 200 } connect_timeout 3 nb_get_retry 3 delay_before_retry 3 } } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-19 07:53:17 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/å¯ç”¨æ€§.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/å¯ç”¨æ€§.html","title":"å¯ç”¨æ€§","keywords":"","body":"å¯ç”¨æ€§ å†—ä½™ ä¿è¯é«˜å¯ç”¨çš„ä¸»è¦æ‰‹æ®µæ˜¯ä½¿ç”¨å†—ä½™ å¯¹äºåº”ç”¨æœåŠ¡å™¨æ¥è¯´ï¼Œä¿è¯æ˜¯æ— çŠ¶æ€çš„ï¼Œå°±å¯ä»¥å®ç°å†—ä½™ è€Œå¯¹äºå­˜å‚¨æœåŠ¡å™¨ï¼Œéœ€è¦é€šè¿‡ä¸»ä»å¤åˆ¶æ¥å®ç°å†—ä½™ éš”ç¦» æŒ‡å°†ç³»ç»Ÿæˆ–èµ„æºåˆ†éš”å¼€ åœ¨å‘ç”Ÿæ•…éšœæ—¶å°½å¯èƒ½ç¼©å°å½±å“èŒƒå›´ çº¿ç¨‹éš”ç¦» ä¸»è¦æ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå¯¹çº¿ç¨‹æ± è¿›è¡Œæ²»ç†ï¼ŒæŠŠæ ¸å¿ƒä¸šåŠ¡å’Œéæ ¸å¿ƒä¸šåŠ¡åˆ†å‰²å¼€ã€‚ ä½¿ç”¨çº¿ç¨‹æ± æ¥è¿›è¡Œéš”ç¦»ï¼Œä¸åŒçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ˜¯äº’ç›¸éš”ç¦»çš„ Tomcat ä¸­çš„çº¿ç¨‹éš”ç¦»ï¼š çº¿ç¨‹éš”ç¦»ï¼Œåªèƒ½ä¿è¯åœ¨åˆ†é…çº¿ç¨‹è¿™ä¸ªèµ„æºä¸Šè¿›è¡Œéš”ç¦»ï¼Œå¹¶ä¸èƒ½ä¿è¯æ•´ä½“ç¨³å®šæ€§ è¿›ç¨‹éš”ç¦» java cpuã€å†…å­˜è¿™äº›èµ„æºå¯ä»¥é€šè¿‡ä¸åŒçš„è™šæ‹Ÿæœºè¿›ç¨‹æ¥åšéš”ç¦»ã€‚ é›†ç¾¤å¼ åˆ†å¸ƒå¼ é›†ç¾¤éš”ç¦» ä¸€äº›æ¨¡å—å®¹æ˜“åœ¨å¹¶å‘é‡é«˜çš„æ—¶å€™å› ä¸ºè¿™ç§åŠŸèƒ½æŠŠæ•´ä¸ªæ¨¡å—å æœ‰çš„èµ„æºå…¨éƒ¨è€—å°½ è§£å†³æ–¹æ¡ˆ ç‹¬ç«‹æ‹†åˆ†æ¨¡å— å¾®æœåŠ¡åŒ– æœºæˆ¿éš”ç¦»å¼‚åœ°å¤šæ´» æŠŠæœåŠ¡å»ºç«‹æ•´ä½“å‰¯æœ¬ï¼ˆè®¡ç®—æœåŠ¡ã€æ•°æ®å­˜å‚¨ï¼‰ï¼Œåœ¨å¤šæœºæˆ¿å†…åšå¼‚åœ°å¤šæ´»æˆ–å†·å¤‡ä»½ã€æ˜¯å¾®æœåŠ¡æ•°æ®å¼‚æ„çš„æ”¾å¤§ç‰ˆ å½“åœ¨æœºæˆ¿å±‚é¢å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æ™ºèƒ½dnsã€httpdnsã€è´Ÿè½½å‡è¡¡ç­‰æŠ€æœ¯å¿«é€Ÿåˆ‡æ¢ æ•°æ®ï¼ˆè¯»å†™ï¼‰åˆ†ç¦» é€šè¿‡ä¸»ä»æ¨¡å¼ï¼Œå°†mysqlã€redisç­‰æ•°æ®å­˜å‚¨æœåŠ¡é›†ç¾¤åŒ–ï¼Œè¯»å†™åˆ†ç¦»ï¼Œé‚£ä¹ˆåœ¨å†™å…¥æ•°æ®ä¸å¯ç”¨çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡è¯•æœºåˆ¶ä¸´æ—¶é€šè¿‡å…¶ä»–èŠ‚ç‚¹è¯»å–åˆ°æ•°æ®ã€‚ å¤šèŠ‚ç‚¹åœ¨åšå­ç½‘åˆ’åˆ†çš„æ—¶å€™ï¼Œé™¤äº†å¼‚åœ°å¤šæ´»ï¼Œè¿˜å¯ä»¥åšæ•°æ®ä¸­å¿ƒï¼Œæ‰€æœ‰æ•°æ®åœ¨æœ¬åœ°æœºæˆ¿crud å¼‚æ­¥åŒæ­¥åˆ°æ•°æ®ä¸­å¿ƒï¼Œæ•°æ®ä¸­å¿ƒå†å»åˆ†å‘æ•°æ®ç»™å…¶ä»–æœºæˆ¿ åŠ¨é™åˆ†ç¦» cdn çˆ¬è™«éš”ç¦» æœ‰çš„ç³»ç»Ÿæœ‰æ—¶å€™å°±ä¼šå› ä¸ºçˆ¬è™«æµé‡è¿‡é«˜è€Œå¯¼è‡´èµ„æºè€—å°½ï¼ŒæœåŠ¡ä¸å¯ç”¨ ç†”æ–­ é™æµæ˜¯æœåŠ¡æ–¹å¯¹è‡ªå·±çš„ä¿æŠ¤ ç†”æ–­æ˜¯è°ƒç”¨æ–¹å¯¹è‡ªå·±çš„ä¿æŠ¤ æŸä¸ªæ¥å£è¯·æ±‚å¤±è´¥ç‡è¾¾åˆ°ä¸€å®šé˜ˆå€¼ å°±ç›´æ¥ç†”æ–­è¿™ä¸ªæ¥å£(è°ƒç”¨æ–¹ä¸å†è°ƒç”¨å®ƒ) æˆ–è€…å“åº”æ—¶é—´è¾¾åˆ°é˜ˆå€¼ ä¹Ÿå¯ä»¥ç†”æ–­ é™çº§ ä¸ºäº†ä¿è¯æ•´ä½“ç³»ç»Ÿå¯ç”¨æ€§ï¼Œå¯ä»¥ç‰ºç‰²ä¸€éƒ¨åˆ†åŠŸèƒ½ä¾æ—§æä¾›æœ‰æŸæœåŠ¡ é™çº§å¤„ç† å…œåº•æ•°æ® é»˜è®¤å€¼: è®¾ç½®å®‰å…¨çš„é»˜è®¤å€¼ï¼Œä¸ä¼šå¼•èµ·æ•°æ®é—®é¢˜ï¼Œæ¯”å¦‚åº“å­˜ä¸º0 é™æ€å€¼:è¯·æ±‚çš„é¡µé¢æˆ–apiæ— æ³•è¿”å›æ•°æ®ï¼Œæä¾›ä¸€å¥—é™æ€æ•°æ®å±•ç¤ºï¼Œæ¯”å¦‚åŠ è½½å¤±è´¥æç¤ºé‡è¯•ï¼Œæˆ–é»˜è®¤èœå• ç¼“å­˜: ç¼“å­˜æ— æ³•æ›´æ–°ä¾¿ä½¿ç”¨æ—§çš„ç¼“å­˜ é™çº§åŸåˆ™ è·ç¦»ç”¨æˆ·è¶Šè¿‘ é€ æˆæŸå¤±è¶Šå° é¿å…æ»šé›ªçƒæ•ˆåº” é™çº§ä¸æ˜¯ä¸€ç§å…·ä½“çš„æŠ€æœ¯æ‰‹æ®µ æ›´å¤šçš„ä¸ä¸šåŠ¡ç›¸å…³ éœ€è¦æ ¹æ®ä¸šåŠ¡æ¥å†³å®šå¦‚ä½•é™çº§ é™çº§ç±»å‹ é™æµé™çº§ å½“æµé‡æ´ªå³°åˆ°è¾¾çš„æ—¶å€™ï¼Œå¯¹äºä¸¢å¼ƒçš„ç”¨æˆ·å¯ä»¥æä¾›å‹å¥½çš„æç¤º è¶…æ—¶é™çº§ å¯¹è°ƒç”¨çš„æ•°æ®è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå½“è°ƒç”¨å¤±è´¥ï¼Œå¯¹æœåŠ¡é™çº§ é‡è¯•/è‡ªåŠ¨å¤„ç† å½“è¾¾åˆ°é‡è¯•æ¬¡æ•°åï¼Œå¢åŠ è®¿é—®æ ‡è®°ï¼ŒæœåŠ¡é™çº§ï¼Œå¼‚æ­¥æ¢æµ‹æœåŠ¡æ˜¯å¦æ¢å¤(ç†”æ–­å™¨åŠå¼€) æ³¨æ„å¹‚ç­‰æ€§ æ•°æ®ç»„è£…é™çº§ å¤šåº“/å¤šç»´åº¦ç»„è£…JSON/XMLæ—¶ï¼Œå¦‚æœæœ‰ä¸€äº›ä¸é‡è¦çš„æ•°æ®æ— æ³•è·å–æˆ–æ•°æ®å‡ºé”™ï¼Œå¯ä»¥å¿½ç•¥ç»§ç»­ çˆ¬è™«é™çº§ åˆ†ææœºå™¨äººè¡Œä¸º å¼•åˆ°åˆ°é™æ€é¡µæˆ–ç¼“å­˜é¡µ è¯»é™çº§ å¤šçº§ç¼“å­˜æ¶æ„ä¸‹ï¼Œåç«¯ç¼“å­˜æˆ–dbä¸å¯ç”¨ï¼Œå¯ä»¥ä½¿ç”¨å‰ç«¯ç¼“å­˜æˆ–å…œåº•æ•°æ® å†™é™çº§ é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå†™å…¥æ“ä½œæ— æ³•åŠæ—¶åˆ°è¾¾æˆ–æŠ—å‹ï¼Œå¯ä»¥å¼‚æ­¥æ¶ˆè´¹æ•°æ®/cacheæ›´æ–°/logç­‰æ–¹å¼ å‰ç«¯é™çº§ js åŸ‹ç‚¹ æ¥å…¥å±‚é™çº§ nginx åº”ç”¨å±‚é™çº§ hystrix sentinel ç‰‡æ®µé™çº§ å¿½ç•¥jsæ–‡ä»¶åŠ è½½ é™æ€åŒ–é™çº§ ç¼“å­˜é™æ€åŒ–html ä½œä¸ºå…œåº•æ•°æ® ç°åº¦å‘å¸ƒä¸å›æ»š æ–°åŠŸèƒ½ç°åº¦ä¸Šçº¿ è“ç»¿éƒ¨ç½² é‡‘ä¸é›€å‘å¸ƒ æ—§ç³»ç»Ÿç°åº¦é‡æ„ æ–°æ—§ç³»ç»Ÿå…±å­˜ é€šè¿‡åœ¨å…¥å£å¤„è¿›è¡Œæµé‡åˆ†å‘ å›æ»š é€šè¿‡å¼€å…³åœæ­¢å°†æµé‡åˆ†å‘åˆ°æ–°ç³»ç»Ÿ ç›‘æ§ä¸æŠ¥è­¦ ç›‘æ§ä½“ç³»ï¼š èµ„æºç›‘æ§ å†…å­˜ CPUç­‰ ç³»ç»Ÿç›‘æ§ æ¥å£è¯·æ±‚ä¿¡æ¯ å“åº”æ—¶é—´ç­‰ç­‰ ä¸šåŠ¡ç›‘æ§ è®¢å•äº¤æ˜“æ•° æ”¯ä»˜æˆåŠŸç‡ç­‰ç­‰ æŠ¥è­¦ï¼š æ—¥å¿— MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-20 07:17:06 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æœåŠ¡å®¹é”™.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æœåŠ¡å®¹é”™.html","title":"æœåŠ¡å®¹é”™","keywords":"","body":"æœåŠ¡å®¹é”™ å®¹é”™æ€§è®¾è®¡ä¸èƒ½å¦¥åæºäºåˆ†å¸ƒå¼ç³»ç»Ÿçš„æœ¬è´¨æ˜¯ä¸å¯é çš„ å®¹é”™ç­–ç•¥ é¢å¯¹æ•…éšœï¼Œæˆ‘ä»¬è¯¥åšäº›ä»€ä¹ˆ æ•…éšœè½¬ç§»ï¼ˆFailoverï¼‰ï¼šå½“å¯¹æŸäº›æœåŠ¡çš„è°ƒç”¨å¤±è´¥ è½¬è€Œè°ƒç”¨è¯¥æœåŠ¡çš„å…¶ä»–å‰¯æœ¬ è¿™ç§é‡è¯•ç­–ç•¥åº”è¯¥è¦æœ‰ä¸€å®šçš„é˜ˆå€¼ è¿‡åº¦çš„é‡è¯•åè€Œå¯èƒ½è®©ç³»ç»Ÿå¤„äºæ›´åŠ ä¸åˆ©çš„çŠ¶å†µ å¿«é€Ÿå¤±è´¥ï¼ˆFailfastï¼‰ï¼šå¯¹äºéå¹‚ç­‰çš„æœåŠ¡è°ƒç”¨å¤±è´¥ å°±åº”è¯¥ç›´æ¥ä½¿ç”¨å¤±è´¥è€Œéé‡è¯•æ¥è§£å†³ å®‰å…¨å¤±è´¥ï¼ˆFailsafeï¼‰ï¼šå¯¹äºä¸åœ¨é“¾è·¯ä¸»çº¿çš„æœåŠ¡è°ƒç”¨ å¦‚æ—¥å¿— æ‰©å±•ç‚¹ç­‰ è¿™äº›æœåŠ¡çš„ç»“æœä¸å‚ä¸æœ€ç»ˆè¿ç®— å³ä½¿å¤±è´¥äº† ä¹Ÿå¯ä»¥å½“åšæ­£ç¡®æ¥è¿”å› æ²‰é»˜å¤±è´¥ï¼ˆFailsilentï¼‰ï¼šå¦‚æœå¯¹äºæŸä¸ªæœåŠ¡çš„è°ƒç”¨å¤§é‡è¶…æ—¶å¤±è´¥ æ­¤æ—¶å°±å¾ˆå®¹æ˜“è¯·æ±‚å †ç§¯è€Œæ¶ˆè€—èµ„æº å¯ä»¥åœ¨ä¸€æ®µæ—¶é—´å†…ä¸å†å‘å®ƒåˆ†é…æµé‡ ç±»ä¼¼äºç†”æ–­ æ•…éšœæ¢å¤ï¼ˆFailbackï¼‰ï¼šæŒ‡å½“æœåŠ¡è°ƒç”¨å‡ºé”™äº†ä»¥åï¼Œå°†è¯¥æ¬¡è°ƒç”¨å¤±è´¥çš„ä¿¡æ¯å­˜å…¥ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç„¶åç”±ç³»ç»Ÿè‡ªåŠ¨å¼€å§‹å¼‚æ­¥é‡è¯•è°ƒç”¨ è¿™ç§ç±»å‹é€‚åˆå¹‚ç­‰è°ƒç”¨çš„ä¸”æ²¡æœ‰è¿”å›å€¼çš„é“¾è·¯ä¸»çº¿æœåŠ¡è°ƒç”¨ å¹¶è¡Œè°ƒç”¨ï¼ˆForkingï¼‰ï¼šä¸€å¼€å§‹å°±åŒæ—¶å‘å¤šä¸ªæœåŠ¡å‰¯æœ¬å‘èµ·è°ƒç”¨ï¼Œåªè¦æœ‰å…¶ä¸­ä»»ä½•ä¸€ä¸ªè¿”å›æˆåŠŸï¼Œé‚£è°ƒç”¨ä¾¿å®£å‘ŠæˆåŠŸ å¹¿æ’­è°ƒç”¨ï¼ˆBroadcastï¼‰ï¼šè¦æ±‚æ‰€æœ‰çš„è¯·æ±‚å…¨éƒ¨éƒ½æˆåŠŸï¼Œè¿™æ¬¡è°ƒç”¨æ‰ç®—æ˜¯æˆåŠŸ å®¹é”™ç­–ç•¥ ä¼˜ç‚¹ ç¼ºç‚¹ åº”ç”¨åœºæ™¯ æ•…éšœè½¬ç§» ç³»ç»Ÿè‡ªåŠ¨å¤„ç†ï¼Œè°ƒç”¨è€…å¯¹å¤±è´¥çš„ä¿¡æ¯ä¸å¯è§ å¢åŠ è°ƒç”¨æ—¶é—´ï¼Œé¢å¤–çš„èµ„æºå¼€é”€ è°ƒç”¨å¹‚ç­‰æœåŠ¡å¯¹è°ƒç”¨æ—¶é—´ä¸æ•æ„Ÿçš„åœºæ™¯ å¿«é€Ÿå¤±è´¥ è°ƒç”¨è€…æœ‰å¯¹å¤±è´¥çš„å¤„ç†å®Œå…¨æ§åˆ¶æƒä¸ä¾èµ–æœåŠ¡çš„å¹‚ç­‰æ€§ è°ƒç”¨è€…å¿…é¡»æ­£ç¡®å¤„ç†å¤±è´¥é€»è¾‘ï¼Œå¦‚æœä¸€å‘³åªæ˜¯å¯¹å¤–æŠ›å¼‚å¸¸ï¼Œå®¹æ˜“å¼•èµ·é›ªå´© è°ƒç”¨éå¹‚ç­‰çš„æœåŠ¡è¶…æ—¶é˜ˆå€¼è¾ƒä½çš„åœºæ™¯ å®‰å…¨å¤±è´¥ ä¸å½±å“ä¸»è·¯é€»è¾‘ åªé€‚ç”¨äºæ—è·¯è°ƒç”¨ è°ƒç”¨é“¾ä¸­çš„æ—è·¯æœåŠ¡ æ²‰é»˜å¤±è´¥ æ§åˆ¶é”™è¯¯ä¸å½±å“å…¨å±€ å‡ºé”™çš„åœ°æ–¹å°†åœ¨ä¸€æ®µæ—¶é—´ç±»ä¸å¯ç”¨ é¢‘ç¹è¶…æ—¶çš„æœåŠ¡ æ•…éšœæ¢å¤ è°ƒç”¨å¤±è´¥åè‡ªåŠ¨é‡è¯•ï¼Œä¹Ÿä¸å½±å“ä¸»è·¯é€»è¾‘ æ¨èç”¨äºæ—è·¯æœåŠ¡è°ƒç”¨ï¼Œæˆ–è€…å¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„ä¸»è·¯é€»è¾‘é‡è¯•ä»»åŠ¡å¯èƒ½äº§ç”Ÿå †ç§¯ï¼Œé‡è¯•ä»ç„¶å¯èƒ½å¤±è´¥ è°ƒç”¨é“¾ä¸­çš„æ—è·¯æœåŠ¡å¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„ä¸»è·¯é€»è¾‘ä¹Ÿå¯ä»¥ä½¿ç”¨ å¹¶è¡Œè°ƒç”¨ å°½å¯èƒ½åœ¨æœ€çŸ­æ—¶é—´å†…è·å¾—æœ€é«˜çš„æˆåŠŸç‡ é¢å¤–æ¶ˆè€—æœºå™¨èµ„æºï¼Œå¤§éƒ¨åˆ†è°ƒç”¨å¯èƒ½éƒ½æ˜¯æ— ç”¨åŠŸ èµ„æºå……è¶³ä¸”å¯¹å¤±è´¥å®¹å¿åº¦ä½çš„åœºæ™¯ å¹¿æ’­è°ƒç”¨ æ”¯æŒåŒæ—¶å¯¹æ‰¹é‡çš„æœåŠ¡æä¾›è€…å‘èµ·è°ƒç”¨ èµ„æºæ¶ˆè€—å¤§ï¼Œå¤±è´¥æ¦‚ç‡é«˜ åªé€‚ç”¨äºæ‰¹é‡æ“ä½œçš„åœºæ™¯ å®¹é”™è®¾è®¡æ¨¡å¼ æ–­è·¯å™¨æ¨¡å¼ é€šè¿‡ä»£ç†ï¼ˆæ–­è·¯å™¨å¯¹è±¡ï¼‰æ¥ä¸€å¯¹ä¸€åœ°ï¼ˆä¸€ä¸ªè¿œç¨‹æœåŠ¡å¯¹åº”ä¸€ä¸ªæ–­è·¯å™¨å¯¹è±¡ï¼‰åœ°æ¥ç®¡æœåŠ¡è°ƒç”¨è€…çš„è¿œç¨‹è¯·æ±‚ã€‚æ–­è·¯å™¨ä¼šæŒç»­ç›‘æ§å¹¶ç»Ÿè®¡æœåŠ¡è¿”å›çš„æˆåŠŸã€å¤±è´¥ã€è¶…æ—¶ã€æ‹’ç»ç­‰å„ç§ç»“æœï¼Œå½“å‡ºç°æ•…éšœï¼ˆå¤±è´¥ã€è¶…æ—¶ã€æ‹’ç»ï¼‰çš„æ¬¡æ•°è¾¾åˆ°æ–­è·¯å™¨çš„é˜ˆå€¼æ—¶ï¼Œå®ƒçŠ¶æ€å°±è‡ªåŠ¨å˜ä¸ºâ€œOPENâ€ï¼Œåç»­æ­¤æ–­è·¯å™¨ä»£ç†çš„è¿œç¨‹è®¿é—®éƒ½å°†ç›´æ¥è¿”å›è°ƒç”¨å¤±è´¥ï¼Œè€Œä¸ä¼šå‘å‡ºçœŸæ­£çš„è¿œç¨‹æœåŠ¡è¯·æ±‚ ç°å®ä¸­ï¼Œå½“ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶åŒæ—¶æ»¡è¶³ æ–­è·¯å™¨å°±ä¼šæ‰“å¼€ï¼š ä¸€æ®µæ—¶é—´å†…è¯·æ±‚è¾¾åˆ°æŸä¸ªé˜ˆå€¼ ä¸€æ®µæ—¶é—´å†…è¯·æ±‚çš„æ•…éšœç‡è¾¾åˆ°æŸä¸ªé˜ˆå€¼ èˆ±å£éš”ç¦»æ¨¡å¼ æ— è®ºæ˜¯ä½¿ç”¨çº¿ç¨‹æ± æˆ–è€…ä¿¡å·é‡æ¥éš”ç¦» æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸ºäº†å°†æ•…éšœéš”ç¦»åˆ°æœ€å°çš„ç²’åº¦ é˜²æ­¢æ‰©æ•£ é‡è¯•æ¨¡å¼ é‡è¯•æ—¶ åº”è¯¥åŒæ—¶æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š ä»…å¯¹é“¾è·¯ä¸»çº¿çš„å…³é”®æœåŠ¡è¿›è¡ŒåŒæ­¥é‡è¯• è¿›é˜Ÿç¬æ—¶æ•…éšœè¿›è¡Œé‡è¯• åƒç±»ä¼¼403 404è¿™ç§é”™è¯¯é‡è¯•æ²¡æœ‰æ„ä¹‰ ä»…å¯¹å¹‚ç­‰è°ƒç”¨è¿›è¡Œé‡è¯• é‡è¯•è¦æœ‰ç»ˆæ­¢æ¡ä»¶ é‡è¯•æ¬¡æ•° è¶…æ—¶ç»ˆæ­¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-20 06:52:54 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æµé‡æ§åˆ¶.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æµé‡æ§åˆ¶.html","title":"æµé‡æ§åˆ¶","keywords":"","body":"æµé‡æ§åˆ¶ å½“ç³»ç»Ÿèµ„æºä¸å¤Ÿï¼Œä¸è¶³ä»¥åº”å¯¹å¤§é‡è¯·æ±‚ï¼Œå³ç³»ç»Ÿèµ„æºä¸è®¿é—®é‡å‡ºç°çŸ›ç›¾çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸ºäº†ä¿è¯æœ‰é™çš„èµ„æºèƒ½å¤Ÿæ­£å¸¸æœåŠ¡ï¼Œå› æ­¤å¯¹ç³»ç»ŸæŒ‰ç…§é¢„è®¾çš„è§„åˆ™è¿›è¡Œæµé‡é™åˆ¶æˆ–åŠŸèƒ½é™åˆ¶çš„ä¸€ç§æ–¹æ³• é™æµåŸå›  æµé‡å¤§ ä¿æŠ¤æœåŠ¡ é™æµå½¢å¼ï¼š æŠ€æœ¯å±‚é¢é™æµ é™åˆ¶å¹¶å‘ é™åˆ¶é€Ÿç‡ç­‰ ä¸šåŠ¡å±‚é¢é™æµ ç±»ä¼¼äºç§’æ€ä¸‹åœºæ™¯çš„å•†å“æ€»é‡ æŠ¢å®Œå°±å®Œ å¯¹äºé™æµ æˆ‘ä»¬éœ€è¦è€ƒè™‘å¦‚ä¸‹é—®é¢˜ï¼š é™æµæŒ‡æ ‡ é™æµæ‰‹æ®µ è¶…é¢æµé‡å¤„ç† æµé‡ç»Ÿè®¡æŒ‡æ ‡ æ¯ç§’äº‹åŠ¡æ•°ï¼ˆTransactions per Secondï¼ŒTPSï¼‰ï¼šâ€œäº‹åŠ¡â€å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé€»è¾‘ä¸Šå…·å¤‡åŸå­æ€§çš„ä¸šåŠ¡æ“ä½œ æ¯ç§’è¯·æ±‚æ•°ï¼ˆHits per Secondï¼ŒHPSï¼‰ï¼šæŒ‡æ¯ç§’ä»å®¢æˆ·ç«¯å‘å‘æœåŠ¡ç«¯çš„è¯·æ±‚æ•° æ¯ç§’æŸ¥è¯¢æ•°ï¼ˆQueries per Secondï¼ŒQPSï¼‰ï¼šä¸€ä¸ªè¯·æ±‚çš„å“åº”å¾€å¾€è¦ç”±åå°å¤šä¸ªæœåŠ¡èŠ‚ç‚¹å…±åŒåä½œæ¥å®Œæˆ æ‰€ä»¥çœ‹ä¼¼å®¢æˆ·ç«¯å‘é€äº†ä¸€æ¡è¯·æ±‚ ä½†èƒŒåå¾ˆå¯èƒ½æ¶‰åŠåˆ°å¤šä¸ªæŸ¥è¯¢ å½“ç„¶å…·ä½“ä¸šåŠ¡ç›¸å…³çš„ç³»ç»Ÿä¹Ÿæœ‰å…¶ä»–ç»Ÿè®¡æŒ‡æ ‡ï¼šå¦‚IOå¯†é›†å‹çš„ä½¿ç”¨æœ€é«˜å¸¦å®½ æ¸¸æˆæœåŠ¡é‡‡ç”¨åœ¨çº¿ç”¨æˆ·æ•° é™æµè®¾è®¡æ¨¡å¼ è®¡æ•°å™¨ç®—æ³• ç³»ç»Ÿç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ¥ä¸€ä¸ªè¯·æ±‚å°±åŠ 1ï¼Œè¯·æ±‚å¤„ç†å®Œæˆå°±å‡1ï¼Œå½“è®¡æ•°å™¨å¤§äºæŒ‡å®šçš„é˜ˆå€¼ï¼Œå°±æ‹’ç»æ–°çš„è¯·æ±‚ã€‚ åŸºäºè¿™ä¸ªç®€å•çš„æ–¹æ³•ï¼Œå¯ä»¥å†å»¶ä¼¸å‡ºä¸€äº›é«˜çº§åŠŸèƒ½ï¼Œæ¯”å¦‚é˜ˆå€¼å¯ä»¥ä¸æ˜¯å›ºå®šå€¼ï¼Œæ˜¯åŠ¨æ€è°ƒæ•´çš„ã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥æœ‰å¤šç»„è®¡æ•°å™¨åˆ†åˆ«ç®¡ç†ä¸åŒçš„æœåŠ¡ï¼Œä»¥ä¿è¯äº’ä¸å½±å“ç­‰ã€‚ çº¿ç¨‹æ± å¤§å°ï¼Œæ•°æ®åº“è¿æ¥æ± å¤§å°ã€nginxè¿æ¥æ•°ç­‰éƒ½å±äºè®¡æ•°å™¨ç®—æ³•ã€‚ å…¨å±€æˆ–æŸæ®µæ—¶é—´èŒƒå›´è¾¾åˆ°é˜ˆå€¼åˆ™é™æµ æ»‘åŠ¨çª—å£è®¡æ•° æ»‘åŠ¨çª—å£åŸç†æ˜¯åœ¨æ¯æ¬¡æœ‰è®¿é—®è¿›æ¥æ—¶ï¼Œå…ˆåˆ¤æ–­å‰ N ä¸ªå•ä½æ—¶é—´å†…çš„æ€»è®¿é—®é‡æ˜¯å¦è¶…è¿‡äº†è®¾ç½®çš„é˜ˆå€¼ï¼Œå¹¶å¯¹å½“å‰æ—¶é—´ç‰‡ä¸Šçš„è¯·æ±‚æ•° +1 é˜Ÿåˆ— å°±æ˜¯åŸºäºFIFOé˜Ÿåˆ—ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½è¿›å…¥é˜Ÿåˆ—ï¼Œåç«¯ç¨‹åºä»é˜Ÿåˆ—ä¸­å–å‡ºå¾…å¤„ç†çš„è¯·æ±‚ä¾æ¬¡å¤„ç†ã€‚ åŸºäºé˜Ÿåˆ—çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å»¶ä¼¸å‡ºæ›´å¤šçš„ç©æ³•æ¥ï¼Œæ¯”å¦‚å¯ä»¥è®¾ç½®å¤šä¸ªé˜Ÿåˆ—ä»¥é…ç½®ä¸åŒçš„ä¼˜å…ˆçº§ æ¼æ¡¶ç®—æ³• æ¼æ¡¶(Leaky Bucket)ç®—æ³•æ€è·¯å¾ˆç®€å•,æ°´(è¯·æ±‚)å…ˆè¿›å…¥åˆ°æ¼æ¡¶é‡Œ,æ¼æ¡¶ä»¥ä¸€å®šçš„é€Ÿåº¦å‡ºæ°´(æ¥å£æœ‰å“åº”é€Ÿç‡),å½“æ°´æµå…¥é€Ÿåº¦è¿‡å¤§ä¼šç›´æ¥æº¢å‡º(è®¿é—®é¢‘ç‡è¶…è¿‡æ¥å£å“åº”é€Ÿç‡),ç„¶åå°±æ‹’ç»è¯·æ±‚,å¯ä»¥çœ‹å‡ºæ¼æ¡¶ç®—æ³•èƒ½å¼ºè¡Œé™åˆ¶æ•°æ®çš„ä¼ è¾“é€Ÿç‡ ä»¤ç‰Œæ¡¶ç®—æ³• è®¾ç½®ä¸€ä¸ªä»¤ç‰Œæ¡¶ï¼Œå¦å¤–æœ‰ä¸€ä¸ªè„šæœ¬ä»¥æŒç»­æ’å®šçš„é€Ÿåº¦å¾€ä»¤ç‰Œæ¡¶é‡Œé¢æ”¾ä»¤ç‰Œï¼Œåç«¯å¤„ç†ç¨‹åºæ¯å¤„ç†ä¸€ä¸ªè¯·æ±‚å°±å¿…é¡»ä»æ¡¶é‡Œæ‹¿å‡ºä¸€ä¸ªä»¤ç‰Œï¼Œå¦‚æœä»¤ç‰Œæ‹¿å®Œäº†ï¼Œé‚£å°±ä¸èƒ½å¤„ç†è¯·æ±‚äº†ã€‚æˆ‘ä»¬å¯ä»¥æ§åˆ¶è„šæœ¬æ”¾ä»¤ç‰Œçš„é€Ÿåº¦æ¥è¾¾åˆ°æ§åˆ¶åç«¯å¤„ç†çš„é€Ÿåº¦ï¼Œä»¥å®ç°åŠ¨æ€æµæ§ ä½¿ç”¨guavaå®ç° @RestController public class Controller { /** * ä¸€ä¸ªæ¯ç§’åˆ›å»ºä¸€ä¸ªtokençš„æ¡¶ */ RateLimiter limiter = RateLimiter.create(1); @RequestMapping(\"index\") public String index(){ // 500mså†…æ— æ³•è·å–ä»¤ç‰Œï¼Œè¿”å›é”™è¯¯ï¼Œå¦åˆ™æˆåŠŸ if (limiter.tryAcquire(500, TimeUnit.MILLISECONDS)){ return \"success\"; }else { return \"error\"; } } } ä»¤ç‰Œæ¡¶ä¸æ¼æ¡¶ ä¸»è¦åŒºåˆ«åœ¨äºâ€œæ¼æ¡¶ç®—æ³•â€èƒ½å¤Ÿå¼ºè¡Œé™åˆ¶æ•°æ®çš„ä¼ è¾“é€Ÿç‡ï¼Œè€Œâ€œä»¤ç‰Œæ¡¶ç®—æ³•â€åœ¨èƒ½å¤Ÿé™åˆ¶æ•°æ®çš„å¹³å‡ä¼ è¾“é€Ÿç‡å¤–ï¼Œè¿˜å…è®¸æŸç§ç¨‹åº¦çš„çªå‘ä¼ è¾“ã€‚åœ¨â€œä»¤ç‰Œæ¡¶ç®—æ³•â€ä¸­ï¼Œåªè¦ä»¤ç‰Œæ¡¶ä¸­å­˜åœ¨ä»¤ç‰Œï¼Œé‚£ä¹ˆå°±å…è®¸çªå‘åœ°ä¼ è¾“æ•°æ®ç›´åˆ°è¾¾åˆ°ç”¨æˆ·é…ç½®çš„é—¨é™ï¼Œå› æ­¤å®ƒé€‚åˆäºå…·æœ‰çªå‘ç‰¹æ€§çš„æµé‡ã€‚ åˆ†å¸ƒå¼é™æµ é›†ä¸­å¼å­˜å‚¨ç»Ÿè®¡ä¿¡æ¯ å°†åŸæœ¬åœ¨æ¯ä¸ªæœåŠ¡èŠ‚ç‚¹è‡ªå·±å†…å­˜å½“ä¸­çš„ç»Ÿè®¡æ•°æ®ç»™å¼€æ”¾å‡ºæ¥ï¼Œè®©å…¨å±€çš„é™æµæœåŠ¡å¯ä»¥è®¿é—®åˆ° è¿™ç§æ–¹å¼æ¯æ¬¡æœåŠ¡è°ƒç”¨é¢å¤–å¢åŠ äº†ä¸€æ¬¡ç½‘ç»œå¼€é”€ ä½¿ç”¨è´§å¸ä»¤ç‰Œ ä¸€ä¸ªä»¤ç‰Œä¼šæºå¸¦ç€ä¸€å®šé¢åº¦è´¯ç©¿æ•´æ¡é“¾è·¯ æ¯æ¬¡æœåŠ¡è°ƒç”¨è¿™ä¸ªé¢åº¦éƒ½ä¼šè¢«å‡å»ç‚¹ å½“é¢åº¦ä¸º0æ—¶ è¦ä¸ç›´æ¥å¤±è´¥ è¦ä¸å°±å†å‘ä¸­å¿ƒç”³è¯·ä¸€å®šçš„é¢åº¦ ç»§ç»­è¯·æ±‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-20 07:17:06 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/é›†ç¾¤.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/é›†ç¾¤.html","title":"é›†ç¾¤","keywords":"","body":"é›†ç¾¤ è´Ÿè½½å‡è¡¡ é«˜å¯ç”¨ï¼šå½“æŸä¸ªèŠ‚ç‚¹æ•…éšœæ—¶ï¼Œè´Ÿè½½å‡è¡¡å™¨ä¼šå°†ç”¨æˆ·è¯·æ±‚è½¬å‘åˆ°å¦å¤–çš„èŠ‚ç‚¹ä¸Šï¼Œä»è€Œä¿è¯æ‰€æœ‰æœåŠ¡æŒç»­å¯ç”¨ ä¼¸ç¼©æ€§ï¼šæ ¹æ®ç³»ç»Ÿæ•´ä½“è´Ÿè½½æƒ…å†µï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°æ·»åŠ æˆ–ç§»é™¤èŠ‚ç‚¹ ç®—æ³• è½®è¯¢ï¼ˆRound Robinï¼‰ æ¯ä¸ªè¯·æ±‚è½®æµå‘é€åˆ°æ¯ä¸ªæœåŠ¡å™¨ä¸Š è¯¥ç®—æ³•ç¬”è®°é€‚åˆæ¯ä¸ªæœåŠ¡å™¨æ€§èƒ½å·®ä¸å¤šçš„åœºæ™¯ åŠ æƒè½®è¯¢ï¼ˆWeighted Round Robbinï¼‰ åœ¨è½®è¯¢çš„åŸºç¡€ä¸Šï¼Œæ ¹æ®æœåŠ¡å™¨çš„æ€§èƒ½å·®å¼‚ï¼Œä¸ºæœåŠ¡å™¨èµ‹äºˆä¸€å®šçš„æƒå€¼ï¼Œæ€§èƒ½é«˜çš„æœåŠ¡å™¨åˆ†é…æ›´é«˜çš„æƒå€¼ æƒå€¼æ›´é«˜çš„æœåŠ¡å™¨æ¥æ”¶æ›´å¤šçš„è¯·æ±‚ æœ€å°‘è¿æ¥ï¼ˆLeast Connectionsï¼‰ å°†è¯·æ±‚å‘é€ç»™å½“å‰æœ€å°‘è¿æ¥æ•°çš„æœåŠ¡å™¨ä¸Š åŠ æƒæœ€å°‘è¿æ¥ï¼ˆWeighted Least Connectionï¼‰ æ ¹æ®æœåŠ¡å™¨çš„æ€§èƒ½ä¸ºæ¯å°æœåŠ¡å™¨åˆ†é…æƒé‡ï¼Œå†æ ¹æ®æƒé‡è®¡ç®—å‡ºæ¯å°æœåŠ¡å™¨èƒ½å¤„ç†çš„è¿æ¥æ•° éšæœºç®—æ³•ï¼ˆRandomï¼‰ æŠŠè¯·æ±‚éšæœºå‘é€åˆ°æœåŠ¡å™¨ä¸Š æºåœ°å€å“ˆå¸Œæ³• (IP Hash) é€šè¿‡å¯¹å®¢æˆ·ç«¯ IP è®¡ç®—å“ˆå¸Œå€¼ä¹‹åï¼Œå†å¯¹æœåŠ¡å™¨æ•°é‡å–æ¨¡å¾—åˆ°ç›®æ ‡æœåŠ¡å™¨çš„åºå· è¿™æ ·å°±å¯ä»¥ä¿è¯åŒä¸€ipçš„å®¢æˆ·çš„è¯·æ±‚éƒ½ä¼šè½¬å‘åˆ°åŒä¸€å°æœåŠ¡å™¨ï¼Œè¿™ä¸ªç®—æ³•å¯ä»¥è§£å†³åˆ†å¸ƒå¼sessioné—®é¢˜ è½¬å‘å®ç° HTTPé‡å®šå‘ è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä½¿ç”¨æŸç§è´Ÿè½½å‡è¡¡ç®—æ³•è®¡ç®—å¾—åˆ°æœåŠ¡å™¨çš„ IP åœ°å€ä¹‹åï¼Œå°†è¯¥åœ°å€å†™å…¥ HTTP é‡å®šå‘æŠ¥æ–‡ä¸­ï¼ŒçŠ¶æ€ç ä¸º 302ã€‚å®¢æˆ·ç«¯æ”¶åˆ°é‡å®šå‘æŠ¥æ–‡ä¹‹åï¼Œéœ€è¦é‡æ–°å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ è¿™æ ·å®¢æˆ·ç«¯éœ€è¦ä¸¤æ¬¡è¯·æ±‚ï¼Œæ€§èƒ½ä¼šæ”¶åˆ°ä¸€å®šå½±å“ DNSåŸŸåè§£æ DNS è§£æåŸŸåçš„åŒæ—¶ä½¿ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•è®¡ç®—æœåŠ¡å™¨ IP åœ°å€ ä¼˜ç‚¹æ˜¯å¯ä»¥è¿”å›ç¦»ç”¨æˆ·åœ°ç†ä½ç½®æ›´è¿‘çš„æœåŠ¡å™¨ ç¼ºç‚¹æ˜¯DNSå…·æœ‰å¤šçº§ç»“æ„ï¼ŒDNSè§£æç»“æœå¯èƒ½è¢«å„çº§ç¼“å­˜ï¼Œä¿®æ”¹DNSè®°å½•åï¼Œéœ€è¦æ¯”è¾ƒé•¿çš„æ—¶é—´æ‰èƒ½ç”Ÿæ•ˆ å¤§å‹ç½‘ç«™åŸºæœ¬ä½¿ç”¨äº† DNS åšä¸ºç¬¬ä¸€çº§è´Ÿè½½å‡è¡¡æ‰‹æ®µï¼Œç„¶ååœ¨å†…éƒ¨ä½¿ç”¨å…¶å®ƒæ–¹å¼åšç¬¬äºŒçº§è´Ÿè½½å‡è¡¡ åå‘ä»£ç†æœåŠ¡å™¨ ä½äºæºæœåŠ¡å™¨å‰é¢ï¼Œç”¨æˆ·çš„è¯·æ±‚éœ€è¦å…ˆç»è¿‡åå‘ä»£ç†æœåŠ¡å™¨æ‰èƒ½åˆ°è¾¾æºæœåŠ¡å™¨ åå‘ä»£ç†æœåŠ¡å™¨å¯èƒ½ä¼šæˆä¸ºæ€§èƒ½ç“¶é¢ˆ ç½‘ç»œå±‚ nginxä¹‹ç±»çš„ä»£ç†æœåŠ¡å™¨æ˜¯å·¥ä½œåœ¨åº”ç”¨å±‚ä¸Šçš„ï¼Œç½‘ç»œå±‚ä¸Šçš„åå‘ä»£ç†å¯ä»¥ç›´æ¥ä¿®æ”¹æ•°æ®åŒ…ç›®çš„IPåœ°å€ï¼Œè¿›è¡Œè½¬å‘ï¼Œä½†åœ¨æœåŠ¡å™¨çš„å“åº”è¿˜æ˜¯éœ€è¦ç»è¿‡è´Ÿè½½å‡è¡¡å™¨ é“¾è·¯å±‚ åœ¨é“¾è·¯å±‚æ ¹æ®è´Ÿè½½å‡è¡¡ç®—æ³•è®¡ç®—æºæœåŠ¡å™¨çš„ MAC åœ°å€ï¼Œå¹¶ä¿®æ”¹è¯·æ±‚æ•°æ®åŒ…çš„ç›®çš„ MAC åœ°å€ï¼Œå¹¶è¿›è¡Œè½¬å‘ é€šè¿‡é…ç½®æºæœåŠ¡å™¨çš„è™šæ‹Ÿ IP åœ°å€å’Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨çš„ IP åœ°å€ä¸€è‡´ï¼ŒæºæœåŠ¡å™¨çš„å“åº”å¯ä»¥ç›´æ¥å‘é€ç»™å®¢æˆ·ç«¯ï¼Œä¸ç”¨ç»è¿‡è´Ÿè½½å‡è¡¡å™¨ sessionç®¡ç† Sticky Session é…ç½®è´Ÿè½½å‡è¡¡å™¨ï¼Œä½¿å¾—ä¸€ä¸ªç”¨æˆ·çš„æ‰€æœ‰è¯·æ±‚éƒ½è·¯ç”±åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠç”¨æˆ·çš„ Session å­˜æ”¾åœ¨è¯¥æœåŠ¡å™¨ä¸­ å½“è¯¥èŠ‚ç‚¹å®•æœºåï¼Œè¯¥èŠ‚ç‚¹çš„æ‰€æœ‰ä¼šè¯æ•°æ®éƒ½å°†ä¸¢å¤± Session Replication åœ¨æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œ Session åŒæ­¥æ“ä½œï¼Œæ¯ä¸ªæœåŠ¡å™¨éƒ½æœ‰æ‰€æœ‰ç”¨æˆ·çš„ Session ä¿¡æ¯ å†…å­˜å ç”¨è¿‡å¤šï¼Œä¸”åŒæ­¥è¿‡ç¨‹ä¼šå½±å“æ€§èƒ½ Session Server ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„æœåŠ¡å™¨å­˜å‚¨ Session æ•°æ®ï¼Œå¦‚å¯ä»¥ä½¿ç”¨mysqlæˆ–è€…redisæ¥å®ç° è¿™å¯ä»¥ä½¿åº”ç”¨æœåŠ¡å™¨ä¿æŒæ— çŠ¶æ€ï¼Œä½†ç¼ºç‚¹æ˜¯éœ€è¦å¯¹sessionå­˜å–ä»£ç è¿›è¡Œæ”¹é€  MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-17 07:04:19 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/ç¼“å­˜.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/ç¼“å­˜.html","title":"ç¼“å­˜","keywords":"","body":"ç¼“å­˜ ä¸ºä»€ä¹ˆä½¿ç”¨ æ”¶ç›Šï¼š åŠ é€Ÿè¯»å†™ï¼šç¼“å­˜é€šå¸¸éƒ½æ˜¯å…¨å†…å­˜çš„ï¼ˆç¼“è§£IOå‹åŠ›ï¼‰ é™ä½åç«¯è´Ÿè½½ï¼šå¸®åŠ©åç«¯å‡å°‘è®¿é—®é‡å’Œå¤æ‚è®¡ç®—ï¼ˆç¼“è§£CPUå‹åŠ›ï¼‰ æˆæœ¬ï¼š æ•°æ®ä¸ä¸€è‡´æ€§ï¼šç¼“å­˜å±‚å’Œå­˜å‚¨å±‚çš„æ•°æ®å­˜åœ¨ç€ä¸€å®šæ—¶é—´çª—å£çš„ä¸ä¸€è‡´ ä»£ç ç»´æŠ¤æˆæœ¬ï¼šåŠ å…¥ç¼“å­˜åï¼Œéœ€è¦åŒæ—¶å¤„ç†ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚çš„é€»è¾‘ è¿ç»´æˆæœ¬ï¼šå¦‚Redisé›†ç¾¤çš„åŠ å…¥ è¿ç»´ä¼šæ›´æœ‰éš¾åº¦ ç‰¹å¾ ååé‡ ä½¿ç”¨OPSå€¼ï¼ˆæ¯ç§’æ“ä½œæ•°ï¼ŒOperations per Secondï¼Œops/sï¼‰æ¥è¡¡é‡ï¼Œåæ˜ äº†å¯¹ç¼“å­˜è¿›è¡Œå¹¶å‘è¯»ã€å†™æ“ä½œçš„æ•ˆç‡ åœ¨å¹¶å‘è¯»å†™çš„åœºæ™¯ä¸‹ï¼Œ é¿å…ç«äº‰æ˜¯æœ€å…³é”®çš„ å‘½ä¸­ç‡ æŸä¸ªè¯·æ±‚èƒ½å¤Ÿé€šè¿‡è®¿é—®ç¼“å­˜è€Œå¾—åˆ°å“åº”æ—¶ï¼Œç§°ä¸ºç¼“å­˜å‘½ä¸­ç‡ ç¼“å­˜å‘½ä¸­ç‡è¶Šé«˜ï¼Œç¼“å­˜çš„åˆ©ç”¨ç‡ä¹Ÿå°±è¶Šé«˜ æœ€å¤§ç©ºé—´ ç¼“å­˜çš„åˆ©ç”¨ç©ºé—´æ˜¯æœ‰é™çš„ å½“ç¼“å­˜å­˜æ”¾çš„æ•°æ®é‡è¶…è¿‡æœ€å¤§ç©ºé—´æ—¶ï¼Œå°±éœ€è¦æ·˜æ±°éƒ¨åˆ†æ•°æ®æ¥å­˜æ”¾æ–°åˆ°è¾¾çš„æ•°æ® åˆ†å¸ƒå¼æ”¯æŒ ç¼“å­˜å¯åˆ†ä¸ºâ€œè¿›ç¨‹å†…ç¼“å­˜â€å’Œâ€œåˆ†å¸ƒå¼ç¼“å­˜â€ä¸¤å¤§ç±» å¤åˆ¶å¼ç¼“å­˜ï¼šæ¯ä¸ªèŠ‚ç‚¹é‡Œé¢éƒ½å­˜åœ¨æœ‰ä¸€ä»½å‰¯æœ¬ï¼Œè¯»å–æ•°æ®æ—¶æ— éœ€ç½‘ç»œè®¿é—®ï¼Œç›´æ¥ä»å½“å‰èŠ‚ç‚¹çš„è¿›ç¨‹å†…å­˜ä¸­è¿”å›ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±å¿…é¡»éµå¾ªå¤åˆ¶åè®®ï¼Œå°†å˜æ›´åŒæ­¥åˆ°é›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹ä¸­ï¼Œè¿™ç§å¤åˆ¶æ€§èƒ½éšç€èŠ‚ç‚¹çš„å¢åŠ å‘ˆç°å¹³æ–¹çº§ä¸‹é™ï¼Œå˜æ›´æ•°æ®çš„ä»£ä»·ååˆ†é«˜æ˜‚ é›†ä¸­å¼ç¼“å­˜ï¼šæ˜¯ç›®å‰åˆ†å¸ƒå¼ç¼“å­˜çš„ä¸»æµå½¢å¼ï¼Œé›†ä¸­å¼ç¼“å­˜çš„è¯»ã€å†™éƒ½éœ€è¦ç½‘ç»œè®¿é—®ï¼Œå…¶å¥½å¤„æ˜¯ä¸ä¼šéšç€é›†ç¾¤èŠ‚ç‚¹æ•°é‡çš„å¢åŠ è€Œäº§ç”Ÿé¢å¤–çš„è´Ÿæ‹…ï¼Œå…¶åå¤„è‡ªç„¶æ˜¯è¯»ã€å†™éƒ½ä¸å†å¯èƒ½è¾¾åˆ°è¿›ç¨‹å†…ç¼“å­˜é‚£æ ·çš„é«˜æ€§èƒ½ã€‚ç”±äºå¯¹è±¡æ›´æ–°ä¸€ä¸ªå­—æ®µå¯èƒ½ä¹Ÿä¼šå¯¼è‡´æ•´ä¸ªå¯¹è±¡çš„åºåˆ—åŒ–ä¼ è¾“ï¼Œæ‰€ä»¥é›†ä¸­å¼ç¼“å­˜æ›´æå€¡ç¼“å­˜åŸå§‹ç±»å‹ ä½¿ç”¨å¤šçº§ç¼“å­˜åŒæ—¶å¾—åˆ°ä¸¤ç§ç±»å‹çš„ä¼˜ç‚¹ï¼š æ‰©å±•åŠŸèƒ½ æ›´æ–°ç­–ç•¥ å½“ç¼“å­˜ä½¿ç”¨é‡è¶…è¿‡äº†é¢„è®¾çš„æœ€å¤§å€¼æ—¶å€™ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ LRUï¼ˆæœ€ä¹…æœªä½¿ç”¨ï¼‰ LFUï¼ˆæœ€å°‘ä½¿ç”¨ï¼‰ ç­‰ç®—æ³•ç”¨æ¥å‰”é™¤éƒ¨åˆ†æ•°æ® æ•°æ®ä¸€è‡´æ€§æœ€å·®ï¼ˆå› ä¸ºæ•°æ®çš„è¿‡æœŸå®Œå…¨å–å†³äºç¼“å­˜ï¼‰ ä½†åŸºæœ¬æ²¡æœ‰ç»´æŠ¤æˆæœ¬ é’ˆå¯¹LRUçš„ä¸€äº›ç¼ºç‚¹ï¼Œå‡ºç°äº†ä¸€äº›ç®—æ³•ï¼Œè¿™äº›ç®—æ³•åœ¨æŸäº›æ¡ä»¶ä¸‹å¾€å¾€æœ‰æ›´å¥½çš„è¡¨ç°ï¼š TinyLFUï¼šä¼šç”¨å°‘é‡çš„æ ·æœ¬æ•°æ®æ¥ä¼°è®¡å…¨ä½“æ•°æ®çš„ç‰¹å¾ï¼Œå¹¶ä¸”æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œä¾¿ä¼šæŠŠè®¡æ•°å™¨çš„æ•°å€¼å‡åŠï¼Œä»¥æ­¤è§£å†³â€œæ—§çƒ­ç‚¹â€æ•°æ®éš¾ä»¥æ¸…é™¤çš„é—®é¢˜ W-TinyLFUï¼šç”¨æ¥è§£å†³TinyLFUæ— æ³•åº”å¯¹ç¨€ç–çªå‘è®¿é—®çš„é—®é¢˜ è¶…æ—¶å‰”é™¤é€šè¿‡ç»™ç¼“å­˜æ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè®©å…¶åœ¨è¿‡æœŸæ—¶é—´åè‡ªåŠ¨åˆ é™¤ æ®µæ—¶é—´çª—å£å†…ï¼ˆå–å†³äºè¿‡æœŸæ—¶é—´é•¿çŸ­ï¼‰å­˜åœ¨ä¸€è‡´æ€§é—®é¢˜ ç»´æŠ¤æˆæœ¬ä¸é«˜ åªéœ€è¦è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ åº”ç”¨æ–¹å¯¹äºæ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚é«˜ï¼Œéœ€è¦åœ¨çœŸå®æ•°æ®æ›´æ–°åï¼Œç«‹å³ä¸»åŠ¨æ›´æ–°ç¼“å­˜æ•°æ® ä¸€è‡´æ€§å¾ˆé«˜ ä½†æ˜¯ç»´æŠ¤æˆæœ¬ä¹Ÿæ˜¯æœ€é«˜çš„ ç¼“å­˜ç²’åº¦ ç©¶ç«Ÿæ˜¯ç¼“å­˜å…¨éƒ¨å±æ€§è¿˜æ˜¯åªç¼“å­˜éƒ¨åˆ†é‡è¦å±æ€§å‘¢ ä»ä¸‰ä¸ªç»´åº¦åˆ¤æ–­ï¼š é€šç”¨æ€§ï¼šç¼“å­˜å…¨éƒ¨æ•°æ®æ¯”éƒ¨åˆ†æ•°æ®æ›´åŠ é€šç”¨ ä½†æ˜¯æ•°æ®å…·æœ‰çƒ­ç‚¹ ä¸€èˆ¬åªæœ‰å‡ ä¸ªå±æ€§ç”¨çš„æ¯”è¾ƒå¤š ç©ºé—´å¸¦å®½ã€‚ç¼“å­˜å…¨éƒ¨æ•°æ®è¦æ¯”éƒ¨åˆ†æ•°æ®å ç”¨æ›´å¤šçš„ç©ºé—´åŠå¸¦å®½ ä»£ç ç»´æŠ¤ï¼šéƒ¨åˆ†æ•°æ®ä¸€æ—¦è¦åŠ æ–°å­—æ®µéœ€è¦ä¿®æ”¹ä¸šåŠ¡ä»£ç  ä½ç½® æµè§ˆå™¨ç¼“å­˜ CDN ISPç¼“å­˜ ISPæ˜¯ç½‘ç»œè®¿é—®çš„ç¬¬ä¸€è·³ï¼Œè¿™ä¸ªåœ°æ–¹æœ‰ç¼“å­˜èƒ½å¤§å¤§åŠ å¿«ç”¨æˆ·çš„è®¿é—®é€Ÿåº¦ åå‘ä»£ç†ç¼“å­˜ æœ¬åœ°ç¼“å­˜ è¿™é‡ŒæŒ‡çš„æ˜¯å°†ç¼“å­˜å­˜æ”¾åœ¨æœåŠ¡å™¨è¿›ç¨‹å†… åˆ†å¸ƒå¼ç¼“å­˜ ä½¿ç”¨ä¸“é—¨çš„æœåŠ¡å™¨é›†ç¾¤æ¥å­˜æ”¾ç¼“å­˜ æ•°æ®åº“ç¼“å­˜ ä¸€èˆ¬æ•°æ®åº“éƒ½æœ‰è‡ªå·±çš„ç¼“å­˜æœºåˆ¶ CPUç¼“å­˜ ç¼“å­˜é£é™© ç¼“å­˜é›ªå´© åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹å—ï¼Œç”±äºäºæ•°æ®æ²¡æœ‰è¢«ç¼“å­˜ä¸­æˆ–è€…ç¼“å­˜éƒ½é‡‡ç”¨äº†ç›¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œå¯¼è‡´ç¼“å­˜åœ¨æŸä¸€æ—¶åˆ»åŒæ—¶å¤±æ•ˆï¼Œè¯·æ±‚å…¨éƒ¨å‘åˆ°æ•°æ®åº“ï¼Œæ•°æ®åº“ç¬æ—¶å‹åŠ›è¿‡é‡ è§£å†³æ–¹æ¡ˆ é” æ¯”å¦‚å¯¹æŸä¸ªkeyåªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ•°æ®åº“æŸ¥è¯¢æ•°æ®å’Œå†™ç¼“å­˜ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾… ä½†æ˜¯è¿™æ ·å°±åªèƒ½é™åˆ¶åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®æ•°æ®åº“ï¼Œååé‡è¿˜æ˜¯ä¸è¡Œ æ¶ˆæ¯ä¸­é—´ä»¶ ç¼“å­˜ä¸­é—´ä»¶æ²¡æœ‰å‘½ä¸­çš„æƒ…å†µä¸‹ï¼Œç”Ÿäº§è€…å°†æ•°æ®åº“æŸ¥è¯¢è¯·æ±‚é€šè¿‡æ¶ˆæ¯ä¸­é—´ä»¶å‘é€ç»™æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…æŸ¥è¯¢æ•°æ®åº“åå†è¿”å›ç»™ç”Ÿäº§è€…ï¼Œç”Ÿäº§è€…å†è¿”å›ç»™å®¢æˆ·ç«¯ï¼ŒMQå…·æœ‰å‰Šå³°çš„åŠŸèƒ½ï¼Œèƒ½ç¼“è§£æ•°æ®åº“è¿‡é«˜çš„è¯·æ±‚å‹åŠ› ä½¿ç”¨å¤šçº§ç¼“å­˜ä»¥åŠåˆ†å¸ƒå¼ç¼“å­˜ åˆ†æç”¨æˆ·çš„è¡Œä¸ºï¼Œå°½é‡è®©ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´å‡åŒ€åˆ†å¸ƒï¼ˆå°†è¿‡æœŸæ—¶é—´ä¸Šä¸‹æµ®åŠ¨ä¸€å®šèŒƒå›´ï¼‰ æ¦‚æ‹¬ï¼š ä¿è¯ç¼“å­˜å±‚æœåŠ¡çš„é«˜å¯ç”¨ å¯¹åç«¯æœåŠ¡è¿›è¡Œé™æµé™çº§ ä¸€æ—¦åç«¯æœåŠ¡ä¸å¯ç”¨ ç›´æ¥é™çº§è¿”å›ä¸€ä¸ªå‹å¥½ç»“æœ çƒ­ç‚¹key å¯¹äºä¸€äº›è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyï¼Œå¦‚æœè¿™äº›keyå¯èƒ½ä¼šåœ¨æŸäº›æ—¶é—´ç‚¹è¢«è¶…é«˜å¹¶å‘åœ°è®¿é—®ï¼Œæ˜¯ä¸€ç§éå¸¸â€œçƒ­ç‚¹â€çš„æ•°æ®ã€‚è¿™ä¸ªæ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šç¼“å­˜è¢«â€œå‡»ç©¿â€çš„é—®é¢˜ï¼š å¦‚æœè¿™ä¸ªkeyçš„è®¡ç®—ä¸èƒ½åœ¨çŸ­æ—¶é—´å®Œæˆï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ª key åœ¨æ•ˆçš„ç¬é—´ï¼Œå¤§é‡çš„è¯·æ±‚å°±å‡»ç©¿äº†ç¼“å­˜ï¼Œç›´æ¥è¯·æ±‚æ•°æ®åº“ï¼Œå°±åƒæ˜¯åœ¨ä¸€é“å±éšœä¸Šå‡¿å¼€äº†ä¸€ä¸ªæ´ è§£å†³æ–¹æ¡ˆ é” åœ¨é‡å»ºç¼“å­˜æ—¶ åªå…è®¸ä¸€ä¸ªçº¿ç¨‹é‡å»º å…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰å¾… ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè€Œå°†è¿‡æœŸæ—¶é—´è®¾ç½®åœ¨æ•°æ®ä¸­ï¼Œå¦‚æœæ£€æµ‹åˆ°æ•°æ®è¿‡æœŸäº†ï¼Œå†æ¸…é™¤æ‰ æˆ–è€…å½“å‘ç°è¶…è¿‡é€»è¾‘è¿‡æœŸæ—¶é—´åï¼Œä¼šä½¿ç”¨å•ç‹¬çš„çº¿ç¨‹å»æ„å»ºç¼“å­˜ ç¼“å­˜ç©¿é€ æŒ‡ç”¨æˆ·æŸ¥è¯¢æ•°æ®ï¼Œåœ¨æ•°æ®åº“æ²¡æœ‰ï¼Œè‡ªç„¶åœ¨ç¼“å­˜ä¸­ä¹Ÿä¸ä¼šæœ‰ã€‚è¿™æ ·å°±å¯¼è‡´ç”¨æˆ·æŸ¥è¯¢çš„æ—¶å€™ï¼Œåœ¨ç¼“å­˜ä¸­æ‰¾ä¸åˆ°ï¼Œæ¯æ¬¡éƒ½è¦å»æ•°æ®åº“å†æŸ¥è¯¢ä¸€éï¼Œç„¶åè¿”å›ç©ºã€‚è¿™æ ·å°±ä¼šå¯¼è‡´æ¯æ¬¡æŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®éƒ½ä¼šç»•è¿‡ç¼“å­˜å»æŸ¥è¯¢æ•°æ®åº“ è§£å†³ æŠŠç©ºç»“æœï¼Œä¹Ÿç»™ç¼“å­˜èµ·æ¥ï¼Œè¿™æ ·ä¸‹æ¬¡åŒæ ·çš„è¯·æ±‚å°±å¯ä»¥ç›´æ¥è¿”å›ç©ºäº†ï¼Œå³å¯ä»¥é¿å…å½“æŸ¥è¯¢çš„å€¼ä¸ºç©ºæ—¶å¼•èµ·çš„ç¼“å­˜ç©¿é€ è¿™ç§æ–¹æ¡ˆå¯¹ç©ºå€¼åšäº†ç¼“å­˜ï¼Œæ„å‘³ç€ç¼“å­˜å±‚ä¸­å­˜äº†æ›´å¤šçš„é”®ï¼Œéœ€è¦æ›´å¤šçš„å†…å­˜ç©ºé—´ åŒæ—¶ä¹Ÿä¼šæœ‰ä¸€å®šçš„æ•°æ®ä¸ä¸€è‡´æ€§ ä¹Ÿå¯ä»¥ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ç›´æ¥å¯¹è¿™ç±»è¯·æ±‚è¿›è¡Œè¿‡æ»¤ è¿™ç§æ–¹æ³•é€‚ç”¨äºæ•°æ®å‘½ä¸­ä¸é«˜ã€æ•°æ®ç›¸å¯¹å›ºå®šã€å®æ—¶æ€§ä½ï¼ˆé€šå¸¸æ˜¯æ•°æ®é›†è¾ƒå¤§ï¼‰çš„åº”ç”¨åœºæ™¯ ç¼“å­˜ä¸€è‡´æ€§ ç¼“å­˜ä¸­çš„æ•°æ®ä¸çœŸå®æ•°æ®æºä¸­çš„æ•°æ®ä¸ä¸€è‡´çš„ç°è±¡ è§£å†³ å½“æ•°æ®æ›´æ–°çš„åŒæ—¶ç«‹å³å»æ›´æ–°ç¼“å­˜ è¯»è¯·æ±‚å’Œå†™è¯·æ±‚ä¸²è¡ŒåŒ–ï¼Œä¸²åˆ°ä¸€ä¸ªå†…å­˜é˜Ÿåˆ—é‡Œå» è¯»ç¼“å­˜ä¹‹å‰åˆ¤æ–­ç¼“å­˜æ˜¯å¦æ˜¯æœ€æ–°ï¼Œå¦åˆ™å…ˆè¿›è¡Œæ›´æ–°ç¼“å­˜ æ›´æ–°æ•°æ®æ—¶ï¼Œå…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜ ä¸ºä»€ä¹ˆè¦åˆ é™¤ç¼“å­˜ï¼Œè€Œéæ›´æ–°ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜é‡‡ç”¨æ›´æ–°çš„æ–¹å¼ï¼Œå¯èƒ½è¿™ä¸ªç¼“å­˜å‹æ ¹å°±ä¸ä¼šè¢«ç”¨åˆ°ï¼Œåº”è¯¥æ˜¯ç”¨åˆ°ç¼“å­˜æ‰å»å†™å…¥ç¼“å­˜ ä¿è¯ç¼“å­˜ä¸€è‡´æ€§éœ€è¦ä»˜å‡ºå¾ˆå¤§çš„ä»£ä»·ï¼Œç¼“å­˜æ•°æ®æœ€å¥½æ˜¯é‚£äº›å¯¹ä¸€è‡´æ€§è¦æ±‚ä¸é«˜çš„æ•°æ®ï¼Œå…è®¸ç¼“å­˜æ•°æ®å­˜åœ¨ä¸€äº›è„æ•°æ® ç¼“å­˜æ— åº•æ´ éšç€ç¼“å­˜èŠ‚ç‚¹æ•°ç›®çš„å¢åŠ ï¼Œé”®å€¼åˆ†å¸ƒåˆ°æ›´å¤šçš„èŠ‚ç‚¹ä¸Šï¼Œå¯¼è‡´å®¢æˆ·ç«¯ä¸€æ¬¡æ‰¹é‡æ“ä½œä¼šæ¶‰åŠå¤šæ¬¡ç½‘ç»œæ“ä½œ è§£å†³ ä¼˜åŒ–ç»†ç²’åº¦çš„è¿œç¨‹è°ƒç”¨ å‡å°‘ç½‘ç»œé€šä¿¡æ¬¡æ•° ä½¿ç”¨é•¿è¿æ¥æˆ–è€…è¿æ¥æ±  å®¢æˆ·ç«¯ç¼“å­˜ æµè§ˆå™¨ç¼“å­˜ ETag ETag: \"5d8c4a06-a0fc\" ETag ç”¨æ¥æ ¡éªŒç”¨æˆ·è¯·æ±‚çš„èµ„æºæ˜¯å¦æœ‰å˜åŒ– Cache-Controlã€ Last-Modified ã€Expires Last-Modified : è¡¨ç¤ºæ–‡æ¡£æœ€åä¿®æ”¹æ—¶é—´ï¼Œæµè§ˆå™¨åœ¨è®¿é—®é‡å¤èµ„æºçš„æ—¶å€™ä¼šå‘é€IF-Modified-Since æºå¸¦æ­¤æ—¶é—´å»æœåŠ¡å™¨éªŒè¯ï¼Œå¦‚æœæ—¶é—´åŒ¹é…åˆ™è¿”å›304ï¼Œæµè§ˆå™¨åŠ è½½æœ¬åœ°èµ„æº Expiresï¼š æ–‡æ¡£è¿‡æœŸæ—¶é—´ï¼Œåœ¨æµè§ˆå™¨å†…å¯ä»¥é€šè¿‡è¿™ä¸ªæ—¶é—´æ¥åˆ¤æ–­æ˜¯å¦å‘é€è¯·æ±‚ Cache-Control ï¼šhttp1.1çš„è§„èŒƒï¼Œä½¿ç”¨max-ageè¡¨ç¤ºæ–‡ä»¶å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç¼“å­˜çš„æ—¶é—´ä»¥ç§’ä¸ºå•ä½ Cache-Controlå’ŒETagçš„åŒºåˆ« Cache-Controlç›´æ¥æ˜¯é€šè¿‡ä¸è¯·æ±‚æ¥å®ç°ï¼Œè€ŒETagæ˜¯ä¼šå‘è¯·æ±‚çš„ï¼Œåªä¸è¿‡æœåŠ¡å™¨æ ¹æ®è¯·æ±‚çš„ä¸œè¥¿çš„å†…å®¹æœ‰æ— å˜åŒ–æ¥åˆ¤æ–­æ˜¯å¦è¿”å›è¯·æ±‚çš„èµ„æº Age æ˜¯CDNæ·»åŠ çš„å±æ€§è¡¨ç¤ºåœ¨CDNä¸­ç¼“å­˜äº†å¤šå°‘ç§’ via ç”¨æ¥æ ‡è¯†CDNç¼“å­˜ç»å†äº†å“ªäº›æœåŠ¡å™¨ï¼Œç¼“å­˜æ˜¯å¦å‘½ä¸­ï¼Œä½¿ç”¨çš„åè®® æµè§ˆå™¨ç¼“å­˜åŸåˆ™ é¦–é¡µå¯ä»¥çœ‹åšæ˜¯æ¡†æ¶ åº”è¯¥ç¦ç”¨ç¼“å­˜ï¼Œä»¥ä¿è¯åŠ è½½çš„èµ„æºéƒ½æ˜¯æœ€æ–°çš„ è¿˜æœ‰ä¸€äº›åœºæ™¯ä¸‹æˆ‘ä»¬å¸Œæœ›ç¦ç”¨æµè§ˆå™¨ç¼“å­˜ã€‚æ¯”å¦‚è½®è®­apiä¸ŠæŠ¥æ•°æ®æ•°æ® æµè§ˆå™¨ç¼“å­˜å¾ˆéš¾å½»åº•ç¦ç”¨ï¼Œå¤§å®¶çš„åšæ³•æ˜¯åŠ ç‰ˆæœ¬å·ï¼Œéšæœºæ•°ç­‰æ–¹æ³•ã€‚ åªç¼“å­˜200å“åº”å¤´çš„æ•°æ®ï¼Œåƒ3XXè¿™ç±»è·³è½¬çš„é¡µé¢ä¸éœ€è¦ç¼“å­˜ã€‚ å¯¹äºjsï¼Œcssè¿™ç±»å¯ä»¥ç¼“å­˜å¾ˆä¹…çš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡åŠ ç‰ˆæœ¬å·çš„æ–¹å¼æ›´æ–°å†…å®¹ ä¸éœ€è¦å¼ºä¸€è‡´æ€§çš„æ•°æ®ï¼Œå¯ä»¥ç¼“å­˜å‡ ç§’ å¼‚æ­¥åŠ è½½çš„æ¥å£æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ETagæ¥æ ¡éªŒã€‚ åœ¨æœåŠ¡å™¨æ·»åŠ Serverå¤´ï¼Œæœ‰åˆ©äºæ’æŸ¥é”™è¯¯ åº”ç”¨ç¼“å­˜ åˆ†ä¸ºæ‰‹æœºAPPå’ŒClientä»¥åŠæ˜¯å¦éµå¾ªhttpåè®® åœ¨æ²¡æœ‰è”ç½‘çš„çŠ¶æ€ä¸‹å¯ä»¥å±•ç¤ºæ•°æ® æµé‡æ¶ˆè€—è¿‡å¤š æ¼‚äº®çš„åŠ è½½è¿‡ç¨‹ æå‰ä¸‹å‘ é¿å…ç§’æ€æ—¶åŒæ—¶ä¸‹å‘æ•°æ®é€ æˆæµé‡çŸ­æ—¶é—´æš´å¢ å…œåº•æ•°æ® åœ¨æœåŠ¡å™¨å´©æºƒå’Œç½‘ç»œä¸å¯ç”¨çš„æ—¶å€™å±•ç¤º ä¸´æ—¶ç¼“å­˜ é€€å‡ºå³æ¸…ç† å›ºå®šç¼“å­˜ å±•ç¤ºæ¡†æ¶è¿™ç§ï¼Œå¯èƒ½å¾ˆé•¿æ—¶é—´ä¸ä¼šæ›´æ–°ï¼Œå¯ä»¥éšå®¢æˆ·ç«¯ä¸‹å‘ çˆ¶å­è¿æ¥ é¡µé¢è·³è½¬æ—¶æœ‰ä¸€éƒ¨åˆ†å†…å®¹ä¸éœ€è¦é‡æ–°åŠ è½½ï¼Œå¯ç”¨ä»çˆ¶èœå•å¸¦è¿‡æ¥ é¢„åŠ è½½ æŸäº›é€»è¾‘å¯ç”¨åˆ¤å®šç”¨æˆ·æ¥ä¸‹æ¥çš„æ“ä½œï¼Œé‚£ä¹ˆå¯ç”¨å¼‚æ­¥åŠ è½½é‚£äº›èµ„æº å¼‚æ­¥åŠ è½½ å…ˆå±•ç¤ºæ¡†æ¶ï¼Œç„¶åå¼‚æ­¥åŠ è½½å†…å®¹ï¼Œé¿å…ä¸»çº¿ç¨‹é˜»å¡ æ•°æ®åˆ†å¸ƒ å“ˆå¸Œåˆ†å¸ƒ å“ˆå¸Œåˆ†å¸ƒå°±æ˜¯å°†æ•°æ®è®¡ç®—å“ˆå¸Œå€¼ä¹‹åï¼ŒæŒ‰ç…§å“ˆå¸Œå€¼åˆ†é…åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Š ä¼ ç»Ÿçš„å“ˆå¸Œåˆ†å¸ƒç®—æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå½“èŠ‚ç‚¹æ•°é‡å˜åŒ–æ—¶ï¼Œé‚£ä¹ˆå‡ ä¹æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦é‡æ–°åˆ†å¸ƒï¼Œå°†å¯¼è‡´å¤§é‡çš„æ•°æ®è¿ç§» é¡ºåºåˆ†å¸ƒ å°†æ•°æ®åˆ’åˆ†ä¸ºå¤šä¸ªè¿ç»­çš„éƒ¨åˆ†ï¼Œæ¯ä¸ªèŠ‚ç‚¹å›ºå®šå­˜æ”¾ä¸€å®šèŒƒå›´å†…çš„æ•°æ®ï¼ŒæŒ‰æ•°æ®çš„ ID æˆ–è€…æ—¶é—´åˆ†å¸ƒåˆ°ä¸åŒèŠ‚ç‚¹ä¸Š å¯ä»¥ä¿æŒæ•°æ®çš„é¡ºåºï¼Œå¹¶ä¸”å¯ä»¥æ§åˆ¶æœåŠ¡å™¨çš„æ•°æ®é‡ ä¸€è‡´æ€§å“ˆå¸Œ Distributed Hash Tableï¼ˆDHTï¼‰ æ˜¯ä¸€ç§å“ˆå¸Œåˆ†å¸ƒæ–¹å¼ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†å…‹æœä¼ ç»Ÿå“ˆå¸Œåˆ†å¸ƒåœ¨æœåŠ¡å™¨èŠ‚ç‚¹æ•°é‡å˜åŒ–æ—¶å¤§é‡æ•°æ®è¿ç§»çš„é—®é¢˜ å°†å“ˆå¸Œç©ºé—´çœ‹åšä¸€ä¸ªç¯ï¼ŒæœåŠ¡å™¨èŠ‚ç‚¹åˆ†å¸ƒåœ¨è¿™äº›ç¯ä¸Šï¼Œå½“ä¸€ä¸ªæ•°æ®è®¡ç®—å‡ºå“ˆå¸Œå€¼åï¼Œæ‰¾å‡ºè¿™ä¸ªå“ˆå¸Œå€¼åé¢æœ€è¿‘çš„ä¸€å°æœåŠ¡å™¨ï¼Œå°†æ•°æ®å­˜æ”¾åˆ°è¿™å°æœåŠ¡å™¨ä¸Š å½“æœåŠ¡å™¨èŠ‚ç‚¹å‘ç”Ÿå˜æ›´ï¼Œå—åˆ°å½±å“çš„ï¼Œåªæ˜¯å˜æ›´èŠ‚ç‚¹çš„åä¸€å°æœåŠ¡å™¨ï¼Œåªéœ€å¯¹è¿™å°æœåŠ¡å™¨çš„æ•°æ®è¿›è¡Œé‡æ–°å†è®¡ç®—å“ˆå¸Œå³å¯ è™šæ‹ŸèŠ‚ç‚¹ ä¸€è‡´æ€§å“ˆå¸Œå­˜åœ¨æ•°æ®åˆ†å¸ƒä¸å‡åŒ€çš„é—®é¢˜ï¼ŒèŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®é‡æœ‰å¯èƒ½ä¼šå­˜åœ¨å¾ˆå¤§çš„ä¸åŒ é‚£ä¹ˆå°±å¯ä»¥é€šè¿‡å¢åŠ è™šæ‹ŸèŠ‚ç‚¹çš„æ–¹å¼ï¼ŒæŠŠè¿™äº›èŠ‚ç‚¹æ˜ å°„åˆ°çœŸæ­£çš„æœåŠ¡å™¨èŠ‚ç‚¹ï¼Œä½¿å¾—æ•°æ®åˆ†å¸ƒæ›´åŠ å‡åŒ€ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-15 06:20:53 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/é™æ€åŒ–.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/é™æ€åŒ–.html","title":"é™æ€åŒ–","keywords":"","body":"é™æ€åŒ– å…¨é‡é™æ€åŒ– å¯¹äºå°å‹ç½‘ç«™ï¼Œé¡µé¢ä¸å¤šï¼Œå¯ä»¥é‡‡ç”¨è¿™ä¸ªæ–¹å¼ æŒ‰éœ€é™æ€åŒ– å½“æ•°æ®å‘ç”Ÿå˜æ›´ï¼Œå¾€MQæ¨é€ä¸€æ¡æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹åæ¨é€æœ€æ–°æ•°æ®åˆ°ç¼“å­˜ è¿‡ä¸€æ®µæ—¶é—´ï¼Œnginxæ„ŸçŸ¥åˆ°ç¼“å­˜å˜åŒ–ï¼Œå†ç”Ÿæˆæ–°é¡µé¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-22 02:17:10 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æœåŠ¡å‘ç°.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æœåŠ¡å‘ç°.html","title":"ğŸ”­æœåŠ¡å‘ç°","keywords":"","body":"æœåŠ¡å‘ç° æœåŠ¡åŒ–çš„æ™®åŠï¼Œä»¤è½¯ä»¶ç³»ç»Ÿå¾—ä»¥é€šè¿‡åˆ†å¸ƒäºç½‘ç»œä¸­ä¸åŒæœºå™¨çš„äº’ç›¸åä½œæ¥å¤ç”¨åŠŸèƒ½ æœ€æ—©çš„æœåŠ¡å‘ç°å¯ä»¥ç›´æ¥ä¾èµ–DNSå°†ä¸€ä¸ªå…¨é™å®šåç¿»è¯‘ä¸ºä¸€è‡³å¤šä¸ªIPåœ°å€æˆ–è€…SRVç­‰å…¶ä»–ç±»å‹çš„è®°å½•ä¾¿å¯ ä½†è¿›å…¥å¾®æœåŠ¡æ—¶ä»£åï¼ŒæœåŠ¡å®•æœº ä¸Šçº¿ä¸‹çº¿å˜å¾—æ›´åŠ é¢‘ç¹ DNSå°±åŠ›ä¸ä»å¿ƒäº†ã€‚ æœåŠ¡æ³¨å†Œä¸å‘ç°çš„å®ç°æ˜¯éšzk-eureka-nacos/consulè¿™æ¡çº¿è¿‡æ¥çš„ æœåŠ¡å‘ç°å…±æ€§è®¾è®¡ æœåŠ¡æ³¨å†Œï¼šæœåŠ¡é€šè¿‡æŸäº›å½¢å¼å°†è‡ªå·±çš„åæ ‡ä¿¡æ¯é€šçŸ¥åˆ°æœåŠ¡æ³¨å†Œä¸­å¿ƒ æœåŠ¡ç»´æŠ¤ï¼šæœåŠ¡å‘ç°æ¡†æ¶å¿…é¡»èƒ½ç›‘æ§æœåŠ¡å¥åº·çŠ¶å†µï¼ŒåŠæ—¶å‰”é™¤ä¸å¥åº·çš„æœåŠ¡ æœåŠ¡å‘ç°ï¼šæ¶ˆè´¹è€…å¯ä»¥é€šè¿‡æ¡†æ¶å°†æœåŠ¡åè½¬ä¸ºå…·ä½“çš„åæ ‡ åœ¨çœŸå®ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡å‘ç°ä¸­å¿ƒæ˜¯æ•´ä¸ªç³»ç»Ÿçš„åŸºç¡€æ¶æ„ å¦‚æœå®ƒä¸€æŒ‚ æ•´ä¸ªç³»ç»Ÿå°±å®Œå…¨å´©æºƒäº† æ‰€ä»¥å¿…é¡»è¿›è¡Œé«˜å¯ç”¨æ”¯æŒ æœåŠ¡å‘ç°ä¸­å¿ƒæœ‰ä»¥Eurekaçš„APæ³¨å†Œä¸­å¿ƒ ä¹Ÿæœ‰ä»¥Consulä¸ºä»£è¡¨çš„CPæ³¨å†Œä¸­å¿ƒ å½“ç„¶ä¹Ÿæœ‰AP CPéšæ—¶è½¬æ¢çš„Nacos APåœ¨å‡ºç°åœ¨ç³»ç»Ÿå‡ºç°ç½‘ç»œåˆ†åŒºä¹Ÿèƒ½ç»§ç»­å¯¹å¤–æä¾›æœåŠ¡ ä¸ä¼šå½±å“ç³»ç»Ÿæ“ä½œçš„æ­£ç¡®æ€§åœºæ™¯ä¸‹ æ˜¯ååˆ†æœ‰ç”¨çš„ æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„å®ç° åœ¨åˆ†å¸ƒå¼KVå­˜å‚¨ä¸­é—´ä»¶ä¸Šå¼€å‘è‡ªå·±çš„æ¡†æ¶ï¼šzkï¼Œredisï¼Œetcd åŸºç¡€è®¾æ–½å®ç°ï¼šDNS ä¸“ç”¨æ¡†æ¶ï¼šEureka Nacosç­‰ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-19 07:12:39 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/ç½‘å…³.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/ç½‘å…³.html","title":"ç½‘å…³","keywords":"","body":"ç½‘å…³ ç½‘å…³çš„èŒè´£ï¼šç½‘å…³ = è·¯ç”±å™¨ï¼ˆåŸºç¡€èŒèƒ½ï¼‰ + è¿‡æ»¤å™¨ï¼ˆå¯é€‰èŒèƒ½ï¼‰ å¯¹äºè·¯ç”±ï¼šå¦‚æœéœ€è¦å¯¹æµé‡çš„ç‰¹å¾è¿›è¡Œåˆ†æï¼Œé‚£å¿…é¡»æ˜¯è¦åœ¨ä¸ƒå±‚æ“ä½œï¼Œå¦åˆ™ç›´æ¥åœ¨å››å±‚ç›´æ¥è¿›è¡Œæµé‡è½¬å‘å°±å¯ä»¥äº† ä¸åŒçš„ç½‘å…³é‡‡ç”¨çš„ç½‘ç»œIOæ¨¡å‹ä¸åŒ æ€§èƒ½è¡¨ç°ä¹Ÿä¸åŒ ç½‘å…³çš„å¯ç”¨æ€§è€ƒè™‘ï¼š ç½‘å…³åº”è¯¥è½»é‡ è¾¾åˆ°åŠŸèƒ½æ€§ä¸å¯ç”¨æ€§çš„å¹³è¡¡ èŒè´£è¿‡å¤šæ˜¯å¾ˆå±é™©çš„ é€‰æ‹©æˆç†Ÿçš„ç½‘å…³äº§å“ åœ¨ç½‘å…³ä¹‹é—´åŠ ä¸Šè´Ÿè½½å‡è¡¡å™¨æˆ–è€…è·¯ç”±å™¨ ä»¥ä¾¿è®©ç½‘å…³ä¹Ÿèƒ½è¿›è¡Œæ‰©å±• æµé‡ç½‘å…³ å…¨å±€æ€§æµæ§ æ—¥å¿—ç»Ÿè®¡ é˜²æ­¢ SQL æ³¨å…¥ é˜²æ­¢ Web æ”»å‡» å±è”½å·¥å…·æ‰«æ é»‘ç™½åå•æ§åˆ¶ ä¸šåŠ¡ç½‘å…³ è¯·æ±‚æ¥å…¥ï¼šä½œä¸ºæ‰€æœ‰ API æ¥å£æœåŠ¡è¯·æ±‚çš„æ¥å…¥ç‚¹ï¼Œç®¡ç†æ‰€æœ‰çš„æ¥å…¥è¯·æ±‚ï¼› ä¸šåŠ¡èšåˆï¼šä½œä¸ºæ‰€æœ‰åç«¯ä¸šåŠ¡æœåŠ¡çš„èšåˆç‚¹ï¼Œæ‰€æœ‰çš„ä¸šåŠ¡æœåŠ¡éƒ½å¯ä»¥åœ¨è¿™é‡Œè¢«è°ƒç”¨ï¼› ä¸­ä»‹ç­–ç•¥ï¼šå®ç°å®‰å…¨ã€éªŒè¯ã€è·¯ç”±ã€è¿‡æ»¤ã€æµæ§ï¼Œç¼“å­˜ç­‰ç­–ç•¥ï¼Œè¿›è¡Œä¸€äº›å¿…è¦çš„ä¸­ä»‹å¤„ç†ï¼› ç»Ÿä¸€ç®¡ç†ï¼šæä¾›é…ç½®ç®¡ç†å·¥å…·ï¼Œå¯¹æ‰€æœ‰ API æœåŠ¡çš„è°ƒç”¨ç”Ÿå‘½å‘¨æœŸå’Œç›¸åº”çš„ä¸­ä»‹ç­–ç•¥è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚ BFF( Backend for frontend)ç½‘å…³ ä¸€äº›ç½‘å…³ ç½‘å…³ é™æµ é‰´æƒ ç›‘æ§ æ˜“ç”¨æ€§ å¯ç»´æŠ¤æ€§ æˆç†Ÿåº¦ Spring Cloud Gateway å¯ä»¥é€šè¿‡IPï¼Œç”¨æˆ·ï¼Œé›†ç¾¤é™æµï¼Œæä¾›äº†ç›¸åº”çš„æ¥å£è¿›è¡Œæ‰©å±• æ™®é€šé‰´æƒã€auth2.0 Gateway Metrics Filter ç®€å•æ˜“ç”¨ springç³»åˆ—å¯æ‰©å±•å¼ºï¼Œæ˜“é…ç½® å¯ç»´æŠ¤æ€§å¥½ springç¤¾åŒºæˆç†Ÿï¼Œä½†gatewayèµ„æºè¾ƒå°‘ Zuul2 å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®é›†ç¾¤é™æµå’Œå•æœåŠ¡å™¨é™æµäº¦å¯é€šè¿‡filterå®ç°é™æµæ‰©å±• filterä¸­å®ç° filterä¸­å®ç° å‚è€ƒèµ„æ–™è¾ƒå°‘ å¯ç»´æŠ¤æ€§è¾ƒå·® å¼€æºä¸ä¹…ï¼Œèµ„æ–™å°‘ OpenResty éœ€è¦luaå¼€å‘ éœ€è¦luaå¼€å‘ éœ€è¦å¼€å‘ ç®€å•æ˜“ç”¨ï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œçš„luaå¼€å‘å¾ˆå¤š å¯ç»´æŠ¤æ€§è¾ƒå·®ï¼Œå°†æ¥éœ€è¦ç»´æŠ¤å¤§é‡luaè„šæœ¬ å¾ˆæˆç†Ÿèµ„æ–™å¾ˆå¤š Kong æ ¹æ®ç§’ï¼Œåˆ†ï¼Œæ—¶ï¼Œå¤©ï¼Œæœˆï¼Œå¹´ï¼Œæ ¹æ®ç”¨æˆ·è¿›è¡Œé™æµã€‚å¯åœ¨åŸç çš„åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘ æ™®é€šé‰´æƒï¼ŒKey Authé‰´æƒï¼ŒHMACï¼Œauth2.0 å¯ä¸ŠæŠ¥datadogï¼Œè®°å½•è¯·æ±‚æ•°é‡ï¼Œè¯·æ±‚æ•°æ®é‡ï¼Œåº”ç­”æ•°æ®é‡ï¼Œæ¥æ”¶äºå‘é€çš„æ—¶é—´é—´éš”ï¼ŒçŠ¶æ€ç æ•°é‡ï¼Œkongå†…è¿è¡Œæ—¶é—´ ç®€å•æ˜“ç”¨ï¼Œapiè½¬å‘é€šè¿‡ç®¡ç†å‘˜æ¥å£é…ç½®ï¼Œå¼€å‘éœ€è¦luaè„šæœ¬ \"å¯ç»´æŠ¤æ€§è¾ƒå·®ï¼Œå°†æ¥éœ€è¦ç»´æŠ¤å¤§é‡luaåº“ ç›¸å¯¹æˆç†Ÿï¼Œç”¨æˆ·é—®é¢˜æ±‡æ€»ï¼Œç¤¾åŒºï¼Œæ’ä»¶å¼€æº MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-19 07:29:14 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æ¶æ„å®‰å…¨.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æ¶æ„å®‰å…¨.html","title":"æ¶æ„å®‰å…¨","keywords":"","body":"å®‰å…¨ è®¤è¯ HTTP è®¤è¯ å¦‚æœéœ€è¦è®¤è¯ï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›è¿™æ ·çš„ä¿¡æ¯ï¼š WWW-Authenticate: realm= Proxy-Authenticate: realm= å®¢æˆ·ç«¯æ¥æ”¶åˆ°åï¼Œéœ€è¦éµå¾ªæœåŠ¡çš„æŒ‡å®šçš„è®¤è¯æ–¹æ¡ˆï¼š Authorization: Proxy-Authorization: æœåŠ¡ç«¯è¿›è¡Œè®¤è¯ï¼Œæ ¹æ®æˆåŠŸä¸å¦è¿”å›200æˆ–è€…403 å¯¹äºå‡­è¯å†…å®¹ï¼Œé»˜è®¤æ˜¯Base64ç¼–ç ï¼Œä½†è¿˜æœ‰å…¶ä»–çš„ä¸€äº›è®¤è¯æ–¹æ¡ˆï¼š Digest Bearer HOBA è¡¨å•è®¤è¯ å¯¹äºè¡¨å•è®¤è¯ å¹¶æ²¡æœ‰ä¸€ä¸ªé€šç”¨çš„æ ‡å‡† åº”è¯¥è¿™äº›å†…å®¹å¿…é¡»æ”¾åˆ°åº”ç”¨å±‚é¢è§£å†³ WebAuthnï¼šæ–°çš„è®¤è¯æ ‡å‡† Javaçš„å®ç° JACC JASPIC EE Security ä½†å®é™…ä¸Š æ´»è·ƒåœ¨Javaå®‰å…¨é¢†åŸŸçš„æ˜¯ä¸¤ä¸ªç§æœ‰æ ‡å‡† Shiro å’Œ Spring Security æˆæƒ ç³»ç»Ÿå¦‚ä½•æ§åˆ¶ä¸€ä¸ªç”¨æˆ·è¯¥çœ‹åˆ°å“ªäº›æ•°æ®ã€èƒ½æ“ä½œå“ªäº›åŠŸèƒ½ RBAC ç®€åŒ–äº†é…ç½®æ“ä½œ å¹¶ä¸”æ»¡è¶³äº†æœ€å°ç‰¹æƒåŸåˆ™ RBAC-1æ¨¡å‹å¯ä»¥æè¿°è§’è‰²ç»§æ‰¿å…³ç³» RBAC02æ¨¡å‹å¯ä»¥æè¿°è§’è‰²äº’æ–¥ OAuth2 OAUTHåè®®ä¸ºç”¨æˆ·èµ„æºçš„æˆæƒæä¾›äº†ä¸€ä¸ªå®‰å…¨çš„ã€å¼€æ”¾è€Œåˆç®€æ˜“çš„æ ‡å‡†ã€‚åŒæ—¶ï¼Œä»»ä½•ç¬¬ä¸‰æ–¹éƒ½å¯ä»¥ä½¿ç”¨OAUTHè®¤è¯æœåŠ¡ï¼Œä»»ä½•æœåŠ¡æä¾›å•†éƒ½å¯ä»¥å®ç°è‡ªèº«çš„OAUTHè®¤è¯æœåŠ¡ã€‚ æˆæƒç æ¨¡å¼ è¿™ç§æ¨¡å¼è€ƒè™‘åˆ°äº†è®¸å¤šç§æƒ…å†µ ä½†æ˜¯æ˜¯åœ¨å‡è®¾ç¬¬ä¸‰æ–¹åº”ç”¨æœ‰è‡ªå·±çš„æœåŠ¡å™¨çš„åŸºç¡€ä¸Š è€Œä¸”æˆæƒè¿‡ç¨‹ä¹Ÿè¿‡åˆ†ç¹ç éšå¼æˆæƒ Fragmentæ˜¯ä¸ä¼šè·Ÿéšè¯·æ±‚è¢«å‘é€åˆ°æœåŠ¡ç«¯çš„ï¼Œåªèƒ½åœ¨å®¢æˆ·ç«¯é€šè¿‡Scriptè„šæœ¬æ¥è¯»å–ã€‚æ‰€ä»¥éšå¼æˆæƒå·§å¦™åœ°åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå°½æœ€å¤§åŠªåŠ›åœ°é¿å…äº†ä»¤ç‰Œä»æ“ä½œä»£ç†åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ä¹‹é—´çš„é“¾è·¯å­˜åœ¨è¢«æ”»å‡»è€Œæ³„æ¼å‡ºå»çš„å¯èƒ½æ€§ å¯†ç æ¨¡å¼ è¿™ç§æƒ…å†µä¸‹éœ€è¦æŠŠå¯†ç æä¾›ç»™ç¬¬ä¸‰æ–¹ è¦æ±‚ç¬¬ä¸‰æ–¹å¿…é¡»ååˆ†å¯ä¿¡ å®¢æˆ·ç«¯æ¨¡å¼ å‡­è¯ Cookie-Session é€šè¿‡åœ¨å“åº”å¤´è®¾ç½®è¿™ä¹ˆæ ·çš„ä¸€é¡¹ï¼š Set-Cookie: id=cxk; Expires=Wed, 21 Feb 2020 07:28:00 GMT; Secure; HttpOnly åå®¢æˆ·ç«¯æ¯æ¬¡è¯·æ±‚éƒ½ä¼šå°†è¿™ä¸ªCookieå¸¦ä¸Šåˆ°è¯·æ±‚å¤´ GET /index.html HTTP/2.0 Host: www.baidu.com Cookie: id=cxk ä½†ç³»ç»Ÿå¯ä»¥å°†è¿™ä¸ªCookieä»¥ä¸€ä¸ªkeyçœ‹å¾…ï¼Œåœ¨æœåŠ¡ç«¯å¼€è¾Ÿä¸€å—å†…å­˜ï¼Œå½¢æˆä¸€ä¸ªKVå¯¹ï¼Œè¿™å°±æ˜¯Session ä½† Cookieä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Œ Sesssion åœ¨é›†ç¾¤ç¯å¢ƒä¸‹åˆä¼šæœ‰é—®é¢˜ JWT JSON Web Tokenï¼ˆJWTï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾çš„è¡Œä¸šæ ‡å‡†ï¼ˆRFC 7519ï¼‰ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç®€ä»‹çš„ã€è‡ªåŒ…å«çš„åè®®æ ¼å¼ï¼Œç”¨äº åœ¨é€šä¿¡åŒæ–¹ä¼ é€’jsonå¯¹è±¡ï¼Œä¼ é€’çš„ä¿¡æ¯ç»è¿‡æ•°å­—ç­¾åå¯ä»¥è¢«éªŒè¯å’Œä¿¡ä»»ã€‚JWTå¯ä»¥ä½¿ç”¨HMACç®—æ³•æˆ–ä½¿ç”¨RSAçš„å…¬ é’¥/ç§é’¥å¯¹æ¥ç­¾åï¼Œé˜²æ­¢è¢«ç¯¡æ”¹ æ— çŠ¶æ€ï¼Œæ—¢æ˜¯ä¼˜ç‚¹ ä¹Ÿæ˜¯ç¼ºç‚¹ è™½ç„¶å¯ä»¥è¿›è¡Œæ— çŠ¶æ€æœåŠ¡èŠ‚ç‚¹æ°´å¹³æ‰©å±• ä½†åœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹ å®ç°æŸäº›åŠŸèƒ½è¿˜æ˜¯ä¼˜ç‚¹å›°éš¾ ç¼ºç‚¹ï¼šä»¤ç‰Œé•¿åº¦è¾ƒé•¿ï¼Œè¿™å°±æ„å‘³ç€ä¼ è¾“ä¼šæœ‰é—®é¢˜ï¼ŒæŸäº›æœåŠ¡å™¨å¯¹Headeræ˜¯æœ‰é™åˆ¶çš„ ç»„æˆ å¤´éƒ¨ {\"typ\":\"JWT\",\"alg\":\"HS256\"} // ç»è¿‡base64åŠ å¯†åï¼šeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9 è½½è· æ ‡å‡†ä¸­æ³¨å†Œçš„å£°æ˜ å…¬å…±çš„å£°æ˜ issï¼ˆIssuerï¼‰ï¼šç­¾å‘äººã€‚ expï¼ˆExpiration Timeï¼‰ï¼šä»¤ç‰Œè¿‡æœŸæ—¶é—´ã€‚ subï¼ˆSubjectï¼‰ï¼šä¸»é¢˜ã€‚ aud ï¼ˆAudienceï¼‰ï¼šä»¤ç‰Œå—ä¼—ã€‚ nbf ï¼ˆNot Beforeï¼‰ï¼šä»¤ç‰Œç”Ÿæ•ˆæ—¶é—´ã€‚ iat ï¼ˆIssued Atï¼‰ï¼šä»¤ç‰Œç­¾å‘æ—¶é—´ã€‚ jti ï¼ˆJWT IDï¼‰ï¼šä»¤ç‰Œç¼–å· ç§æœ‰çš„å£°æ˜ {\"sub\":\"1234567890\",\"name\":\"John Doe\",\"admin\":true} // eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9 ç­¾è¯ header (base64åçš„) payload (base64åçš„) ä½¿ç”¨secretå¯¹headerä»¥åŠpayloadè¿›è¡Œä¸€ä¸ªç­¾å secretæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œjwtçš„ç­¾å‘ç”Ÿæˆä¹Ÿæ˜¯åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œsecretå°±æ˜¯ç”¨ æ¥è¿›è¡Œjwtçš„ç­¾å‘å’Œjwtçš„éªŒè¯ï¼Œæ‰€ä»¥ï¼Œå®ƒå°±æ˜¯ä½ æœåŠ¡ç«¯çš„ç§é’¥ï¼Œåœ¨ä»»ä½•åœºæ™¯éƒ½ä¸åº”è¯¥æµéœ²å‡ºå» JJWT ä¾èµ– io.jsonwebtoken jjwt 0.9.1 æ„å»º JwtBuilder jwtBuilder = Jwts.builder() .setId(\"jntm\") .setSubject(\"cxk\") .setIssuedAt(new Date()) .signWith(SignatureAlgorithm.HS256,\"1234\") .claim(\"role\",\"admin\") .setExpiration(new Date(System.currentTimeMillis()+300)); System.out.println(jwtBuilder.compact()); è§£æ Claims body = Jwts.parser().setSigningKey(\"1234\") .parseClaimsJws(\"jwt\") .getBody(); System.out.println(body.getId()+\"|\"+body.getSubject()+\"|\"+body.getIssuedAt()); ä¿å¯† ä¿å¯†æ˜¯æœ‰æˆæœ¬çš„ï¼Œè¿½æ±‚è¶Šé«˜çš„å®‰å…¨ç­‰çº§ï¼Œå°±è¦ä»˜å‡ºè¶Šå¤šçš„å·¥ä½œé‡ä¸ç®—åŠ›æ¶ˆè€— å®¢æˆ·ç«¯åŠ å¯† å®¢æˆ·ç«¯åŠ å¯†å¹¶éæ˜¯ä¸ºäº†ä¼ è¾“å®‰å…¨ ä¼ è¾“å®‰å…¨åº”è¯¥ç”±è¯¸å¦‚HTTPSç­‰çš„æœºåˆ¶æ¥è¿›è¡Œä¿éšœ æ›´å¤šåœ° å®¢æˆ·ç«¯åŠ å¯†æ˜¯ä¸ºäº†é¿å…æ˜æ–‡ä¼ è¾“åˆ°æœåŠ¡ç«¯åé€ æˆçš„å®‰å…¨é—®é¢˜ å¯†ç åŠ å¯†ä¸å­˜å‚¨ åŠ å¯† å®¢æˆ·ç«¯å¯¹è‡ªå·±çš„å¯†ç å–æ‘˜è¦ï¼š const passwd = 123456 const client_hash = MD5(passwd) å¾—åˆ°æ‘˜è¦åè¿›è¡ŒåŠ ç›ï¼š client_hash = MD5(client_hash + salt) ä¸ºäº†åº”å¯¹å½©è™¹è¡¨ç±»çš„æš´åŠ›ç ´è§£ï¼Œæ‘˜è¦å‡½æ•°å¯ä»¥ä½¿ç”¨æ…¢å“ˆå¸Œå‡½æ•° ä¹Ÿå°±æ˜¯æ‰§è¡Œæ—¶é—´å¯ä»¥è°ƒèŠ‚çš„å‡½æ•°ï¼ˆæ¯”å¦‚Bcryptï¼‰ ä¸ºäº†é˜²æ­¢æœåŠ¡ç«¯è¢«è„±åº“ï¼ŒæœåŠ¡ç«¯å†ä½¿ç”¨ä¸€ä¸ªç›ï¼š String salt = randomSalt(); String serverHash = SHA256(client_hash + salt) addToDB(serverHash, salt) éªŒè¯ å®¢æˆ·ç«¯åŠ å¯†è¿˜æ˜¯åŒä¸Šï¼Œè¿›è¡ŒåŠ ç›å“ˆå¸Œ client_hash = MD5(MD5(passwd) + salt) æœåŠ¡ç«¯æ¥æ”¶åˆ°client_hash åï¼Œå¯¹å…¶åŠ ç›å“ˆå¸Œï¼Œåˆ¤æ–­æ˜¯å¦ä¸å­˜å‚¨çš„ä¸€è‡´ï¼š compare(server_hash, SHA256(client_hash + server_salt)) ä¼ è¾“ ä¸‰ç§åŸºæœ¬ç®—æ³•ï¼š ç±»å‹ ç‰¹ç‚¹ å¸¸è§å®ç° ä¸»è¦ç”¨é€” ä¸»è¦å±€é™ å“ˆå¸Œæ‘˜è¦ ä¸å¯é€†ï¼Œå³ä¸èƒ½è§£å¯†ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯åŠ å¯†ç®—æ³•ï¼Œåªæ˜¯ä¸€äº›åœºæ™¯æŠŠå®ƒå½“ä½œåŠ å¯†ç®—æ³•ä½¿ç”¨ã€‚æ˜“å˜æ€§ï¼Œè¾“å…¥å‘ç”Ÿ1Bitå˜åŠ¨ï¼Œå°±å¯èƒ½å¯¼è‡´è¾“å‡ºç»“æœ50%çš„å†…å®¹å‘ç”Ÿæ”¹å˜ã€‚æ— è®ºè¾“å…¥é•¿åº¦å¤šå°‘ï¼Œè¾“å‡ºé•¿åº¦å›ºå®šï¼ˆ2çš„Næ¬¡å¹‚ï¼‰ã€‚ MD2/4/5/6ã€SHA0/1/256/512 æ‘˜è¦ æ— æ³•è§£å¯† å¯¹ç§°åŠ å¯† åŠ å¯†æ˜¯æŒ‡åŠ å¯†å’Œè§£å¯†æ˜¯ä¸€æ ·çš„å¯†é’¥ã€‚è®¾è®¡éš¾åº¦ç›¸å¯¹è¾ƒå°ï¼Œæ‰§è¡Œé€Ÿåº¦ç›¸å¯¹è¾ƒå—ã€‚åŠ å¯†æ˜æ–‡é•¿åº¦ä¸å—é™åˆ¶ã€‚ DESã€AESã€RC4ã€IDEA åŠ å¯† è¦è§£å†³å¦‚ä½•æŠŠå¯†é’¥å®‰å…¨åœ°ä¼ é€’ç»™è§£å¯†è€…ã€‚ éå¯¹ç§°åŠ å¯† åŠ å¯†å’Œè§£å¯†ä½¿ç”¨çš„æ˜¯ä¸åŒçš„å¯†é’¥ã€‚æ˜æ–‡é•¿åº¦ä¸èƒ½è¶…è¿‡å…¬é’¥é•¿åº¦ã€‚ RSAã€BCDSAã€ElGamal ç­¾åã€ä¼ é€’å¯†é’¥ æ€§èƒ½ä¸åŠ å¯†æ˜æ–‡é•¿åº¦å—é™ã€‚ æ•°å­—è¯ä¹¦ CAå°†ç”¨æˆ·çš„ä¸ªäººèº«ä»½è·Ÿå…¬å¼€å¯†é’¥é“¾æ¥åœ¨ä¸€èµ· å¯ä»¥é˜²æŠµèµ– é€šè¿‡æ“ä½œç³»ç»Ÿå†…ç½®çš„è¯ä¹¦ å¯ä»¥åœ¨ä¸é€šè¿‡ç½‘ç»œçš„æƒ…å†µä¸‹å¯¹è¯ä¹¦è¿›è¡Œè®¤è¯ ä¼ è¾“å®‰å…¨å±‚ TLS éªŒè¯ ç³»ç»Ÿå¦‚ä½•ç¡®ä¿æäº¤åˆ°æ¯é¡¹æœåŠ¡ä¸­çš„æ•°æ®æ˜¯åˆä¹è§„åˆ™çš„ï¼Œä¸ä¼šå¯¹ç³»ç»Ÿç¨³å®šæ€§ã€æ•°æ®ä¸€è‡´æ€§ã€æ­£ç¡®æ€§äº§ç”Ÿé£é™© åˆ†å±‚æ ¡éªŒ Bean Validationï¼šå¥½å¤„å°±æ˜¯åšåˆ°äº†ä¸šåŠ¡é€»è¾‘ä¸æ ¡éªŒé€»è¾‘ç›¸åˆ†ç¦» æ›´é«˜çº§çš„ç”¨æ³•ï¼šæ ¡éªŒä¸šåŠ¡é€»è¾‘ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-17 07:53:33 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/é›¶ä¿¡ä»»ç½‘ç»œ.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/é›¶ä¿¡ä»»ç½‘ç»œ.html","title":"é›¶ä¿¡ä»»ç½‘ç»œ","keywords":"","body":"é›¶ä¿¡ä»»ç½‘ç»œ ä¼ ç»ŸåŸºäºè¾¹ç•Œçš„å®‰å…¨æ¨¡å‹ï¼šé˜²ç«å¢™ã€å†…ç½‘å¤–ç½‘ã€VPN é›¶ä¿¡ä»»å®‰å…¨æ¨¡å‹ ä¸æ”¾å¼ƒåŸºäºè¾¹ç•Œçš„å®‰å…¨ä¿æŠ¤ åŸºäºæœåŠ¡çš„èº«ä»½è®¤è¯ æœåŠ¡ä¹‹é—´çš„ä¿¡ä»»å…³ç³»ä¸å›ºå®š é›†ä¸­å¼çš„å®‰å…¨ åŸºäºä»£ç çš„ä¿¡ä»» å·¥ä½œè´Ÿè½½ä¹‹é—´éš”ç¦» ä¼ ç»Ÿã€è¾¹ç•Œå®‰å…¨æ¨¡å‹ äº‘åŸç”Ÿã€é›¶ä¿¡ä»»å®‰å…¨æ¨¡å‹ å…·ä½“éœ€æ±‚ åŸºäºé˜²ç«å¢™ç­‰è®¾æ–½ï¼Œè®¤ä¸ºè¾¹ç•Œå†…å¯ä¿¡ æœåŠ¡åˆ°æœåŠ¡é€šä¿¡éœ€è®¤è¯ï¼Œç¯å¢ƒå†…çš„æœåŠ¡ä¹‹é—´é»˜è®¤æ²¡æœ‰ä¿¡ä»» ä¿æŠ¤ç½‘ç»œè¾¹ç•Œï¼ˆä»ç„¶æœ‰æ•ˆï¼‰ï¼›æœåŠ¡ä¹‹é—´é»˜è®¤æ²¡æœ‰äº’ä¿¡ ç”¨äºç‰¹å®šçš„IPå’Œç¡¬ä»¶ï¼ˆæœºå™¨ï¼‰ èµ„æºåˆ©ç”¨ç‡ã€é‡ç”¨ã€å…±äº«æ›´å¥½ï¼ŒåŒ…æ‹¬IPå’Œç¡¬ä»¶ å—ä¿¡ä»»çš„æœºå™¨è¿è¡Œæ¥æºå·²çŸ¥çš„ä»£ç  åŸºäºIPçš„èº«ä»½ åŸºäºæœåŠ¡çš„èº«ä»½ åŒä¸Š æœåŠ¡è¿è¡Œåœ¨å·²çŸ¥çš„ã€å¯é¢„æœŸçš„æœåŠ¡å™¨ä¸Š æœåŠ¡å¯è¿è¡Œåœ¨ç¯å¢ƒä¸­çš„ä»»ä½•åœ°æ–¹ï¼ŒåŒ…æ‹¬ç§æœ‰äº‘/å…¬æœ‰äº‘æ··åˆéƒ¨ç½² åŒä¸Š å®‰å…¨ç›¸å…³çš„éœ€æ±‚ç”±åº”ç”¨æ¥å®ç°ï¼Œæ¯ä¸ªåº”ç”¨å•ç‹¬å®ç° ç”±åŸºç¡€è®¾æ–½æ¥å®ç°ï¼ŒåŸºç¡€è®¾æ–½ä¸­é›†æˆäº†å…±äº«çš„å®‰å…¨æ€§è¦æ±‚ã€‚ é›†ä¸­ç­–ç•¥å®æ–½ç‚¹ï¼ˆChoke Pointsï¼‰ï¼Œä¸€è‡´åœ°åº”ç”¨åˆ°æ‰€æœ‰æœåŠ¡ å¯¹æœåŠ¡å¦‚ä½•æ„å»ºã€è¯„å®¡ã€å®æ–½çš„å®‰å…¨éœ€æ±‚çš„çº¦æŸåŠ›è¾ƒå¼± å®‰å…¨ç›¸å…³çš„éœ€æ±‚ä¸€è‡´åœ°åº”ç”¨åˆ°æ‰€ä»¥æœåŠ¡ åŒä¸Š å®‰å…¨ç»„ä»¶çš„å¯è§‚æµ‹æ€§è¾ƒå¼± æœ‰å®‰å…¨ç­–ç•¥åŠå…¶æ˜¯å¦ç”Ÿæ•ˆçš„å…¨å±€è§†å›¾ åŒä¸Š å‘å¸ƒä¸æ ‡å‡†ï¼Œå‘å¸ƒé¢‘ç‡è¾ƒä½ æ ‡å‡†åŒ–çš„æ„å»ºå’Œå‘å¸ƒæµç¨‹ï¼Œæ¯ä¸ªå¾®æœåŠ¡å˜æ›´ç‹¬ç«‹ï¼Œå˜æ›´æ›´é¢‘ç¹ ç®€å•ã€è‡ªåŠ¨ã€æ ‡å‡†åŒ–çš„å˜æ›´å‘å¸ƒæµç¨‹ å·¥ä½œè´Ÿè½½é€šå¸¸ä½œä¸ºè™šæ‹Ÿæœºéƒ¨ç½²æˆ–éƒ¨ç½²åˆ°ç‰©ç†ä¸»æœºï¼Œå¹¶ä½¿ç”¨ç‰©ç†æœºæˆ–ç®¡ç†ç¨‹åºè¿›è¡Œéš”ç¦» å°è£…çš„å·¥ä½œè´Ÿè½½åŠå…¶è¿›ç¨‹åœ¨å…±äº«çš„æ“ä½œç³»ç»Ÿä¸­è¿è¡Œï¼Œå¹¶æœ‰ç®¡ç†å¹³å°æä¾›çš„æŸç§æœºåˆ¶æ¥è¿›è¡Œéš”ç¦» åœ¨å…±äº«çš„æ“ä½œç³»ç»Ÿçš„å·¥ä½œè´Ÿè½½ä¹‹é—´è¿›è¡Œéš”ç¦» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-24 07:18:24 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æœåŠ¡å®‰å…¨.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æœåŠ¡å®‰å…¨.html","title":"æœåŠ¡å®‰å…¨","keywords":"","body":"æœåŠ¡å®‰å…¨ å»ºç«‹ä¿¡ä»» å•å‘TLSè®¤è¯ åŒå‘TLSè®¤è¯ è®¤è¯ æœåŠ¡è®¤è¯ ç”¨æˆ·è®¤è¯ æˆæƒ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-24 07:36:21 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/å¯è§‚æµ‹æ€§.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/å¯è§‚æµ‹æ€§.html","title":"å¯è§‚æµ‹æ€§","keywords":"","body":"å¯è§‚æµ‹æ€§ æ—¥å¿—ï¼šè®°å½•ç¦»æ•£äº‹ä»¶ï¼Œé€šè¿‡è¿™äº›è®°å½•äº‹ååˆ†æå‡ºç¨‹åºçš„è¡Œä¸º è¿½è¸ªï¼šå•ä½“çš„è°ƒç”¨æ ˆè¿½è¸ªæˆ–è€…æœåŠ¡è°ƒç”¨ä¹‹é—´çš„åˆ†å¸ƒå¼è¿½è¸ª åº¦é‡ï¼šåº¦é‡æ˜¯æŒ‡å¯¹ç³»ç»Ÿä¸­æŸä¸€ç±»ä¿¡æ¯çš„ç»Ÿè®¡èšåˆ æ—¥å¿—æ”¶é›†ï¼šä¸å…·ä½“æŠ€æœ¯æ ˆæ— å…³ ELK EFK åº¦é‡ï¼šPrometheus é“¾è·¯è¿½è¸ªï¼šZipkin... æ—¥å¿— è¾“å‡º è¾“å‡ºçš„æ—¥å¿—åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼š é¿å…æ•æ„Ÿä¿¡æ¯ é¿å…å¼•ç”¨åˆ°æ…¢æ“ä½œä¿¡æ¯ é¿å…è¾“å‡ºçš„ä¿¡æ¯æœ‰è¯¯å¯¼æ€§ è®°å½•TraceID æ²¡æœ‰TraceIDå°±è¦è‡ªåŠ¨ç”Ÿæˆæ¥å¯¹è¯·æ±‚è¿›è¡Œæ ‡è®° è®°å½•ç³»ç»Ÿè¿è¡Œæ—¶çš„å…³é”®äº‹ä»¶ æ”¶é›†&ç¼“å†² Logstash Beats ä¸ºäº†ç¼“è§£æ”¶é›†å¤§é‡æ—¥å¿—çš„å‹åŠ› å¯ä»¥åœ¨æ”¶é›†å™¨ä¹‹å‰å‡è®¾Kafkaæˆ–è€…Redisä½œä¸ºç¼“å†²å±‚ é¢å¯¹çªå‘æµé‡ åŠ å·¥&èšåˆ å°†éç»“æ„åŒ–æ•°æ®è½¬ä¸ºç»“æ„åŒ–æ•°æ® å­˜å‚¨&æŸ¥è¯¢ ESæ˜¯è¿™æ–¹é¢å”¯ä¸€çš„é€‰æ‹© æ—¥å¿—æœ‰å¦‚ä¸‹æ€§è´¨ï¼š å†™å…¥ååŸºæœ¬æ— éœ€ä¿®æ”¹ åˆ†ä¸ºå†·çƒ­æ•°æ® æ›´æ—©çš„æ—¥å¿—ä»·å€¼æ›´ä½ æ—¥å¿—å¯ç¦»çº¿æŸ¥è¯¢ä¸å®æ—¶æŸ¥è¯¢ é“¾è·¯è¿½è¸ª ç›®æ ‡ï¼šæ’æŸ¥æ•…éšœ åˆ†ææ€§èƒ½æ•°æ® traceä¸span é“¾è·¯è¿½è¸ªçš„æŒ‘æˆ˜ï¼š å¼‚æ„æŠ€æœ¯ å¯¹æ€§èƒ½æ•æ„Ÿ å¯¹åº”ç”¨é€æ˜ è‡ªåŠ¨æ‰©ç¼©å®¹ æŒç»­çš„ç›‘æ§ æ•°æ®æ”¶é›† åŸºäºæ—¥å¿—ä¿¡æ¯çš„è¿½è¸ªï¼šå°†Traceã€Spanç­‰ä¿¡æ¯ç›´æ¥è¾“å‡ºåˆ°åº”ç”¨æ—¥å¿—ä¸­ï¼Œç„¶åéšç€æ‰€æœ‰èŠ‚ç‚¹çš„æ—¥å¿—å½’é›†è¿‡ç¨‹æ±‡èšåˆ°ä¸€èµ·ï¼Œå†ä»å…¨å±€æ—¥å¿—ä¿¡æ¯ä¸­åæ¨å‡ºå®Œæ•´çš„è°ƒç”¨é“¾æ‹“æ‰‘å…³ç³» åŸºäºæœåŠ¡çš„è¿½è¸ªï¼šé€šè¿‡ä»£ç æ³¨å…¥çš„æ–¹å¼å¯ä»¥å¾—åˆ°æ–¹æ³•è°ƒç”¨æ ˆç­‰ä¿¡æ¯ å¹¶ä¸”éœ€è¦é€šè¿‡ç‹¬ç«‹çš„ç½‘ç»œè°ƒç”¨ä¸ŠæŠ¥ä¿¡æ¯ éœ€è¦æ¶ˆè€—æ›´å¤šçš„èµ„æº åŸºäºsidecarä»£ç†çš„æ–¹å¼ï¼šè¿™ç§æ–¹å¼å¯¹åº”ç”¨é€æ˜ ä½†å®ƒåªèƒ½å®ç°æœåŠ¡è°ƒç”¨å±‚é¢çš„è¿½è¸ª è¿½è¸ªè§„èŒƒåŒ– OpenTracing -> OpenCensus -> OpenTelemetry èšåˆåº¦é‡ æŒ‡æ ‡æ”¶é›† æŒ‡æ ‡æ•°æ®ç±»å‹ è®¡æ•°åº¦é‡å™¨ï¼ˆCounterï¼‰ï¼šå¯¹æœ‰ç›¸åŒé‡çº²ã€å¯åŠ å‡æ•°å€¼çš„åˆè®¡é‡ ç¬æ€åº¦é‡å™¨ï¼ˆGaugeï¼‰ï¼šè¡¨ç¤ºæŸä¸ªæŒ‡æ ‡åœ¨æŸä¸ªæ—¶ç‚¹çš„æ•°å€¼ ååç‡åº¦é‡å™¨ï¼ˆMeterï¼‰ï¼šå•ä½æ—¶é—´å†…æŸä¸ªäº‹ä»¶çš„å‘ç”Ÿæ¬¡æ•° ç›´æ–¹å›¾åº¦é‡å™¨ï¼ˆHistogramï¼‰ é‡‡æ ·ç‚¹åˆ†ä½å›¾åº¦é‡å™¨ï¼ˆQuantile Summaryï¼‰ æŒ‡æ ‡é‡‡é›†æ–¹å¼ push pull æŒ‡æ ‡ä¼ è¾“åè®®ï¼š OpenMetrics å¥åº·æ£€æŸ¥APIæ¨¡å¼ï¼š å­˜å‚¨æŸ¥è¯¢ å¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å­˜å‚¨åº¦é‡æ•°æ® é‚£æ¯å¤©ç›‘æ§æ•°æ®çš„äº§ç”Ÿé‡å°†ä¼šéå¸¸çš„å¤§ å¤§éƒ¨åˆ†åº¦é‡æ•°æ®éƒ½å¯ä»¥ä½¿ç”¨ä¸“é—¨çš„æ—¶åºæ•°æ®åº“æ¥è¿›è¡Œå­˜å‚¨ ç”±äºåº¦é‡æ•°æ®å¤šå†™å°‘è¯»ã€å‡ ä¹ä¸åˆ æ”¹ã€æ•°æ®åªé¡ºåºè¿½åŠ è¿™äº›ç‰¹ç‚¹ï¼Œæ—¶åºæ•°æ®åº“å°±å¯ä»¥ä½¿ç”¨æŸäº›ç­–ç•¥æ¥è¿›è¡Œä¼˜åŒ–ï¼š æ—¥å¿—ç»“æ„çš„åˆå¹¶æ ‘ å¯¹æ•°æ®è¿›è¡Œé‡‡æ ·è¿›è¡ŒèŠ‚çœç©ºé—´ æ¯”å¦‚å‡ å‘¨å‰çš„æ•°æ®å°±åªä¿ç•™ä¸€å¤© å‡ å¹´å‰çš„å°±ä¿ç•™ä¸€å‘¨ è½®æ›¿æ•°æ®å­˜å‚¨ ç±»ä¼¼äºç¯å½¢ç¼“å†²åŒº è¾“å…¥å¯ä»¥æ— é™ å­˜å‚¨æœ‰é™ ç›‘æ§é¢„è­¦ Grafana Alter Manager MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-29 01:47:59 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/å¼€æ”¾å¹³å°è®¾è®¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/å¼€æ”¾å¹³å°è®¾è®¡.html","title":"å¼€æ”¾å¹³å°è®¾è®¡","keywords":"","body":"å¼€æ”¾å¹³å°è®¾è®¡ åœ¨äº’è”ç½‘æ—¶ä»£ï¼ŒæŠŠç½‘ç«™çš„æœåŠ¡å°è£…æˆä¸€ç³»åˆ—è®¡ç®—æœºæ˜“è¯†åˆ«çš„æ•°æ®æ¥å£å¼€æ”¾å‡ºå»ï¼Œä¾›ç¬¬ä¸‰æ–¹å¼€å‘è€…ä½¿ç”¨ï¼Œè¿™ç§è¡Œä¸ºå°±å«åšOpen APIï¼Œæä¾›å¼€æ”¾APIçš„å¹³å°æœ¬èº«å°±è¢«ç§°ä¸ºå¼€æ”¾å¹³å° ä½¿ç”¨åŠ ç­¾åæ–¹å¼ï¼Œé˜²æ­¢ç¯¡æ”¹æ•°æ® ä½¿ç”¨HTTPSåŠ å¯†ä¼ è¾“ æ­å»ºOAuth2.0è®¤è¯æˆæƒ ä½¿ç”¨ä»¤ç‰Œæ–¹å¼ æ­å»ºç½‘å…³å®ç°é»‘åå•å’Œç™½åå• ä»¤ç‰Œ é€šè¿‡app idä¸ app secret è·å–ä¸€ä¸ªä¸´æ—¶tokenï¼Œæ­¤tokenå…·æœ‰æ“ä½œçš„æƒé™ OAuth2.0 OAuthï¼š OAuthï¼ˆå¼€æ”¾æˆæƒï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œå…è®¸ç”¨æˆ·æˆæƒç¬¬ä¸‰æ–¹ç½‘ç«™è®¿é—®ä»–ä»¬å­˜å‚¨åœ¨å¦å¤–çš„æœåŠ¡æä¾›è€…ä¸Šçš„ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦å°†ç”¨æˆ·åå’Œå¯†ç æä¾›ç»™ç¬¬ä¸‰æ–¹ç½‘ç«™æˆ–åˆ†äº«ä»–ä»¬æ•°æ®çš„æ‰€æœ‰å†…å®¹ æ¦‚å¿µ appId å•†æˆ·å· appKey å•†æˆ·å¯†é’¥ æˆæƒç Code è·å–accessToken access Token è°ƒç”¨æ¥å£æƒé™è®¿é—®ä»¤ç‰Œ å›è°ƒåœ°å€ æˆæƒæˆåŠŸï¼Œé‡å®šå‘åœ°å€ openid å¼€æ”¾å¹³å°ç”Ÿäº§å”¯ä¸€çš„ç”¨æˆ·id è®¤è¯æˆæƒè¿‡ç¨‹ ç½‘ç«™ä¸»åŠ¨è·³è½¬åˆ°æœåŠ¡å•†å¹¶æºå¸¦idå’Œkeyï¼Œæ˜¾ç¤ºæˆæƒç•Œé¢ ç”¨æˆ·åŒæ„æˆæƒï¼ŒæœåŠ¡å•†é‡å®šå‘å‘ç½‘ç«™ä¼ é€’code ç½‘ç«™é€šè¿‡codeè·å–access_token åˆ·æ–°access_tokenï¼ˆå¦‚æœéœ€è¦ï¼‰ ç½‘ç«™ä½¿ç”¨access_token + open_id å‘æœåŠ¡å•†æ‹‰å–ç”¨æˆ·ä¿¡æ¯ è”åˆç™»å½• è·å– open id æ ¹æ®open idæŸ¥è¯¢ç”¨æˆ· å¦‚æœå­˜åœ¨ ç”Ÿæˆä»¤ç‰Œ å¦åˆ™å…³è”è´¦å· å‚æ•°ä¼ é€’å®‰å…¨ åç«¯æœåŠ¡å™¨ä¼ é€’å‚æ•°ï¼Œè¿”å›tokenç»™å‰ç«¯ï¼Œå‰ç«¯é€šè¿‡tokenè¯·æ±‚å¦å¤–ä¸€å°æœåŠ¡å™¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-18 07:59:49 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/SSO.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/SSO.html","title":"SSO","keywords":"","body":"SSO å•ç‚¹ç™»å½• å¤§å‹äº’è”ç½‘å…¬å¸ä¸­ï¼Œå…¬å¸æ——ä¸‹å¯èƒ½ä¼šæœ‰å¤šä¸ªå­ç³»ç»Ÿï¼Œæ¯ä¸ªç™»é™†å®ç°ç»Ÿä¸€ç®¡ç†å¤šä¸ªè´¦æˆ·ä¿¡æ¯ç»Ÿä¸€ç®¡ç† SSOå•ç‚¹ç™»é™†è®¤è¯æˆæƒç³»ç»Ÿ æ¶æ„ æµè§ˆå™¨è®¿é—®clientï¼Œclientå‘ç°æ²¡æœ‰ç™»å½•ï¼Œè·³è½¬åˆ°server æµè§ˆå™¨åœ¨serverä¸Šè¿›è¡Œç™»å½•è®¤è¯åè·³è½¬å›client serverå›è°ƒclientçš„æ—¶å€™ï¼Œæºå¸¦äº†ä¸€ä¸ªsession idï¼Œå®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨è¿™ä¸ªsession idå‘serveræŸ¥è¯¢æ¥éªŒè¯è¯·æ±‚æœ‰æ•ˆæ€§ï¼ŒéªŒè¯é€šè¿‡clientä¼šå‘æµè§ˆå™¨å†™å…¥cookieï¼Œç™»å½•æˆåŠŸ CAS CAS æ˜¯ Yale å¤§å­¦å‘èµ·çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ—¨åœ¨ä¸º Web åº”ç”¨ç³»ç»Ÿæä¾›ä¸€ç§å¯é çš„å•ç‚¹ç™»å½•æ–¹æ³• ä½“ç³»ç»“æ„ åŸç† è®¿é—®æœåŠ¡ï¼šSSOå®¢æˆ·ç«¯å‘é€è¯·æ±‚è®¿é—®åº”ç”¨ç³»ç»Ÿæä¾›çš„æœåŠ¡èµ„æºã€‚ å®šå‘è®¤è¯ï¼šSSOå®¢æˆ·ç«¯ä¼šé‡å®šå‘ç”¨æˆ·è¯·æ±‚åˆ°SSOæœåŠ¡å™¨ã€‚ ç”¨æˆ·è®¤è¯ï¼šç”¨æˆ·èº«ä»½è®¤è¯ã€‚ å‘æ”¾ç¥¨æ®ï¼šSSOæœåŠ¡å™¨ä¼šäº§ç”Ÿä¸€ä¸ªéšæœºçš„Service Ticketã€‚ éªŒè¯ç¥¨æ®ï¼šSSOæœåŠ¡å™¨éªŒè¯ç¥¨æ®Service Ticketçš„åˆæ³•æ€§ï¼ŒéªŒè¯é€šè¿‡åï¼Œå…è®¸å®¢æˆ·ç«¯è®¿é—®æœåŠ¡ã€‚ ä¼ è¾“ç”¨æˆ·ä¿¡æ¯ï¼šSSOæœåŠ¡å™¨éªŒè¯ç¥¨æ®é€šè¿‡åï¼Œä¼ è¾“ç”¨æˆ·è®¤è¯ç»“æœä¿¡æ¯ç»™å®¢æˆ·ç«¯ã€‚ æœ¯è¯­ Ticket Granting ticket (TGT) ï¼šå¯ä»¥è®¤ä¸ºæ˜¯CAS Serveræ ¹æ®ç”¨æˆ·åå¯†ç ç”Ÿæˆçš„ä¸€å¼ ç¥¨ï¼Œå­˜åœ¨Serverç«¯ Ticket-granting cookie (TGC) ï¼šå…¶å®å°±æ˜¯ä¸€ä¸ªCookieï¼Œå­˜æ”¾ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼Œç”±Serverå‘ç»™Clientç«¯ Service ticket (ST) ï¼šç”±TGTç”Ÿæˆçš„ä¸€æ¬¡æ€§ç¥¨æ®ï¼Œç”¨äºéªŒè¯ï¼Œåªèƒ½ç”¨ä¸€æ¬¡ã€‚ç›¸å½“äºServerå‘ç»™Clientä¸€å¼ ç¥¨ï¼Œç„¶åClientæ‹¿ç€è¿™ä¸ªç¥¨å†æ¥æ‰¾ServeréªŒè¯ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯Serverç­¾å‘çš„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-31 01:26:55 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æ”¯ä»˜ç³»ç»Ÿè®¾è®¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/æ”¯ä»˜ç³»ç»Ÿè®¾è®¡.html","title":"æ”¯ä»˜ç³»ç»Ÿè®¾è®¡","keywords":"","body":"æ”¯ä»˜ç³»ç»Ÿè®¾è®¡ è¡¨è®¾è®¡ æ•´ä½“æµç¨‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-06 05:09:54 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ä¸­å°.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ä¸­å°.html","title":"ä¸­å°","keywords":"","body":"ä¸­å° åšå¹³å° è–„åº”ç”¨ çƒŸå›±å¼ç³»ç»Ÿçš„å¼Šç«¯ï¼š é‡å¤å»ºè®¾å¸¦æ¥çš„æµªè´¹ æ‰“é€šâ€œçƒŸå›±å¼â€ç³»ç»Ÿé—´äº¤äº’çš„é›†æˆå’Œåä½œæˆæœ¬â¾¼æ˜‚ ä¸åˆ©äºä¸šåŠ¡çš„æ²‰æ·€å’ŒæŒç»­å‘å±• ä¸­å°çš„åŸºç¡€ å›å½’SOAçš„æœ¬è´¨ï¼šæœåŠ¡å¤ç”¨ æœåŠ¡éœ€è¦æ²‰æ·€ï¼Œéœ€è¦ä¸æ–­çš„ä¸šåŠ¡æ»‹å…» æŒç»­å‘å±• å…±äº«æœåŠ¡æ˜¯åˆ›æ–°çš„åœŸå£¤ å…±äº«æœåŠ¡ä½“ç³»æ­å»º ä¸€ä¸ªæœåŠ¡ä¸­å¿ƒå°†ç»™ä¼ä¸šçš„å¤šä¸ªåº”ç”¨æä¾›æœåŠ¡ ä¸­å¿ƒåŒ– ESBï¼ˆä¼ä¸šæœåŠ¡æ€»çº¿ï¼‰ä¸­å¿ƒåŒ–æœåŠ¡æ¶æ„çš„æ ¹æœ¬è¯‰æ±‚ï¼šå®ç°å¼‚æ„ç³»ç»Ÿä¹‹é—´çš„äº¤äº’ ç½‘ç»œè°ƒç”¨æˆæœ¬ ä¸­å¿ƒç‚¹é›ªå´©æ•ˆåº” å»ä¸­å¿ƒåŒ– æœåŠ¡è°ƒç”¨è€…åŠæä¾›è€…ç›´æ¥äº¤äº’è€Œæ— éœ€é€šè¿‡æœåŠ¡è·¯ç”±ä¸­ä»‹ æœåŠ¡ä¸­å¿ƒå»ºè®¾åŸåˆ™ æŠ€æœ¯èƒ½åŠ›ï¼šå¯é æ€§ å¯ç”¨æ€§ å®¹é”™ ç›‘æ§ ä¸šåŠ¡èƒ½åŠ› ä¸ºäº†é€‚åº”ä¸æ–­å‘å±•çš„ä¸šåŠ¡ æœåŠ¡ä¸­å¿ƒå¿…é¡»ä¸æ–­å‘å±•ã€‚ æœåŠ¡ä¸­å¿ƒçš„è¡¨ç°å½¢æ€ï¼š æ¥å£ ç›´æ¥æä¾›ç›¸å…³å·¥å…· æä¾›æ•°æ® æœåŠ¡ä¸­å¿ƒåˆ’åˆ†åŸåˆ™ï¼š æ›´é«˜çš„å†…èšï¼Œæ›´ä½çš„è€¦åˆï¼šæœåŠ¡ä¸­å¿ƒä¹‹é—´çš„ä¸šåŠ¡éš”ç¦»æ€§åº”è¯¥æ˜¯æ¯”è¾ƒå¤§çš„ æ•°æ®å®Œæ•´æ€§åŸåˆ™ ä¸šåŠ¡å¯è¿è¥ æ¸è¿›æ€§è®¾è®¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-09 08:23:27 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç»„ä»¶æ„å»ºåŸåˆ™.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç»„ä»¶æ„å»ºåŸåˆ™.html","title":"ç»„ä»¶æ„å»ºåŸåˆ™","keywords":"","body":"ç»„ä»¶æ„å»ºåŸåˆ™ ç»„ä»¶ ç»„ä»¶æ˜¯è½¯ä»¶çš„éƒ¨ç½²å•å…ƒï¼Œæ˜¯å¯ä»¥ç‹¬ç«‹å®Œæˆéƒ¨ç½²çš„æœ€å°å®ä½“ ç‹¬ç«‹éƒ¨ç½² ç‹¬ç«‹å¼€å‘ ç»„ä»¶èšåˆ REP:å¤ç”¨/å‘å¸ƒç­‰åŒåŸåˆ™ ç»„ä»¶ä¸­çš„æ¨¡å—å’Œç±»ä¹‹é—´åº”è¯¥æœ‰ä¸€ä¸ªå…±åŒçš„ä¸»é¢˜æˆ–è€…å¤§æ–¹å‘ CCP:å…±åŒé—­åŒ…åŸåˆ™ åº”å°†é‚£äº›ä¼šä¸ºäº†ä¸€ä¸ªç›®çš„è€ŒåŒæ—¶ä¿®æ”¹çš„æ¨¡å—ä¸ç±»æ”¾åˆ°ä¸€ä¸ªç»„ä»¶ä¸­ CRP:å…±åŒå¤ç”¨åŸåˆ™ å°†ç»å¸¸å…±åŒå¤ç”¨çš„æ¨¡å—ä¸ç±»æ”¾åœ¨åŒä¸€ç»„ä»¶ä¸­ ä¸ä¾èµ–ä¸éœ€è¦ç”¨åˆ°çš„ä¸œè¥¿ ç»„ä»¶è€¦åˆ ADP:æ— ä¾èµ–ç¯åŸåˆ™ ç»„ä»¶ä¸åº”è¯¥å‡ºç°å¾ªç¯ä¾èµ– æ¯å‘¨æ„å»º å°†ä¸€å‘¨çš„å‰å‡ å¤©ç”¨æ¥å¼€å‘æ–°ä»£ç ï¼Œæœ€åä¸€å¤©è¿›è¡Œå†²çªè§£å†³ æ¶ˆé™¤å¾ªç¯ä¾èµ– é€šè¿‡åˆ’åˆ†ç‹¬ç«‹ç»„ä»¶è¿›è¡Œç‹¬ç«‹å¼€å‘åŠå‘å¸ƒ è§£å†³å¾ªç¯ä¾èµ– ä¾èµ–åè½¬ å°†ç›¸äº’ä¾èµ–çš„æ¨¡å—æå–åˆ°ä¸€ä¸ªæ–°æ¨¡å— æŠ–åŠ¨ï¼šéšç€é¡¹ç›®çš„å¼€å‘ï¼Œç»„ä»¶ç»“æ„ä¼šä¸æ–­æ‰©å¼ å˜åŒ– è‡ªä¸Šè€Œä¸‹çš„è®¾è®¡ ç»„ä»¶ç»“æ„å›¾æ›´åƒæ˜¯æ„å»ºæ€§ä¸ç»´æŠ¤æ€§æ–¹é¢çš„åœ°å›¾ï¼Œç»„ä»¶ç»“æ„å›¾ä¸€ä¸ªé‡è¦çš„ç›®æ ‡æ˜¯å¦‚ä½•éš”ç¦»é¢‘ç¹çš„ç»„ä»¶å˜æ›´ ç»„ä»¶çš„ä¾èµ–å…³ç³»æ˜¯éšç€é¡¹ç›®çš„é€»è¾‘è®¾è®¡è€Œæ¼”è¿›çš„ï¼Œæ— æ³•ä¸€å¼€å§‹å°±è®¾è®¡å‡ºå®Œç¾çš„ç»„ä»¶ç»“æ„å›¾ SDP:ç¨³å®šä¾èµ–åŸåˆ™ ç¨³å®šæ€§ ä¸ä¾èµ–äºè¯¥æ¨¡å—çš„æ¨¡å—æ•°é‡æˆæ­£æ¯” è¶Šä¸Šå±‚çš„ç»„ä»¶è¶Šä¸ç¨³å®š æŠ½è±¡ç»„ä»¶ æ¯”å¦‚åªå­˜æ”¾æ¥å£çš„åŒ… æŠ½è±¡ç»„ä»¶é€šå¸¸éå¸¸ç¨³å®š SAP:ç¨³å®šæŠ½è±¡åŸåˆ™ ä¸€ä¸ªç»„ä»¶çš„æŠ½è±¡åŒ–ç¨‹åº¦åº”ä¸å…¶ç¨³å®šæ€§ç¨‹åº¦ä¿æŒä¸€è‡´ æŠ½è±¡åŒ–è¡¡é‡ç¨‹åº¦ æŠ½è±¡ç¨‹åº¦ = æŠ½è±¡ç±»å’Œæ¥å£çš„æ•°é‡ / ç»„ä»¶ä¸­ç±»çš„æ•°é‡ ç—›è‹¦åŒºï¼šéå¸¸ç¨³å®šä¸”éå¸¸å…·ä½“ å¦‚æ•°æ®åº“è¡¨ç»“æ„ä¸å·¥å…·ç±» æ— ç”¨åŒº æ— é™æŠ½è±¡ï¼Œæ— äººä½¿ç”¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-29 08:22:17 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/è½¯ä»¶æ¶æ„.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/è½¯ä»¶æ¶æ„.html","title":"è½¯ä»¶æ¶æ„","keywords":"","body":"è½¯ä»¶æ¶æ„ è½¯ä»¶æ¶æ„æ˜¯ä»€ä¹ˆ æœ€é€‚åˆå½“è½¯ä»¶æ¶æ„å¸ˆçš„ï¼Œæ˜¯ä¸€çº¿èƒ½åŠ›æœ€å¼ºçš„ç¨‹åºå‘˜ è½¯ä»¶æ¶æ„çš„æœ€é«˜ä¼˜å…ˆçº§æ˜¯ä¿æŒç³»ç»Ÿæ­£å¸¸å·¥ä½œï¼Œè½¯ä»¶æ¶æ„çš„ç­–ç•¥å°±æ˜¯äº¬å¯èƒ½é•¿æ—¶é—´ä¿ç•™å°½å¯èƒ½å¤šçš„å¯é€‰é¡¹ å¼€å‘ ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿçš„å¼€å‘ï¼Œåº”è¯¥å°±æ˜¯è¦æ–¹ä¾¿å…¶å¼€å‘å›¢é˜Ÿ æµè¡Œçš„ä¸ä¸€å®šå¥½ï¼Œé€‚åˆçš„æ‰æ˜¯æœ€å¥½çš„ ä¸€ä¸ªç³»ç»Ÿçš„æ¶æ„ï¼Œåæ˜ äº†å¼€å‘è¯¥ç³»ç»Ÿçš„å›¢é˜Ÿç»„ç»‡ç»“æ„ éƒ¨ç½² è‰¯å¥½çš„è½¯ä»¶ç»“æ„å¯ä»¥è®©ç³»ç»Ÿæ„å»ºå®Œæˆå°±èƒ½éƒ¨ç½²ï¼ŒåŒæ—¶å®ç°ä¸€é”®å¼çš„è½»æ¾éƒ¨ç½²æ˜¯è®¾è®¡è½¯ä»¶æ¶æ„çš„ä¸€ä¸ªç›®æ ‡ è¿è¡Œ è®¾è®¡è‰¯å¥½çš„æ¶æ„èƒ½æ˜ç¡®åœ°åæ˜ å‡ºç³»ç»Ÿè¿è¡Œæ—¶çš„éœ€æ±‚ æ¶æ„æ˜¯ç³»ç»Ÿè¿è¡Œæ—¶çš„ä¸€ä¸ªè¡¨ç¤º ç»´æŠ¤ ç»´æŠ¤çš„ä¸»è¦æˆæœ¬ æ¢ç§˜ï¼šè§£å†³é—®é¢˜çš„æœ€ä½³æ–¹å¼ é£é™©ï¼šè§£å†³é—®é¢˜è¡ç”Ÿå‡ºçš„æ–°é—®é¢˜ ä¿æŒå¯é€‰é¡¹ ç”¨ä¾‹ï¼šå¯¹ç³»ç»Ÿå¦‚ä½•å“åº”å¤–æ¥è¯·æ±‚çš„æè¿° è½¯ä»¶ç³»ç»Ÿå¯é™è§£ä¸º ç­–ç•¥ï¼šä¸šåŠ¡é€»è¾‘ ç»†èŠ‚ï¼šå…·ä½“å®ç°æŠ€æœ¯ï¼Œæ•°æ®åº“ã€webç­‰ åœ¨å¤§éƒ¨åˆ†æ—¶é—´ï¼Œæ— æ³•é¢„çŸ¥ç³»ç»Ÿçš„æ‰€æœ‰ç”¨ä¾‹ï¼Œè¶Šæ™šå†³å®šå®ç°ç»†èŠ‚ï¼Œå°±èƒ½æŒæ¡æ›´å¤šä¿¡æ¯ï¼Œæ›´æœ‰åˆ©äºå†³ç­– è®¾å¤‡æ— å…³æ€§ é«˜å±‚ç­–ç•¥ä¸ä½å±‚å®ç°ç»†èŠ‚åˆ†ç¦» è§£è€¦ ç³»ç»Ÿå¯ä»¥è¢«æŒ‰å±‚è§£è€¦ï¼Œå°†ä¸åŒå±‚éš”ç¦»å¼€æ¥ï¼Œé¿å…å˜åŒ–æ‰©æ•£åˆ°å…¶ä»–å±‚ å½“å¯¹ç”¨ä¾‹è¿›è¡Œåˆ†ç»„æ—¶ï¼Œå¢åŠ æ–°ç”¨ä¾‹å°±ä¼šå¯¹æ—§çš„ç”¨ä¾‹å½±å“é™ä½ è§£è€¦æ¨¡å¼ æºç è§£è€¦ï¼šæ§åˆ¶æºä»£ç æ¨¡å—çš„ä¾èµ–å…³ç³» éƒ¨ç½²å±‚æ¬¡è§£è€¦ï¼šæ§åˆ¶å¯éƒ¨ç½²æ¨¡å—çš„ä¾èµ–å…³ç³» æœåŠ¡è§£è€¦ï¼šä¾èµ–å…³ç³»é™ä½åˆ°æœåŠ¡å±‚æ¬¡ è½¯ä»¶æ¶æ„æ˜¯ç”Ÿé•¿çš„ï¼Œä»å•ä½“åˆ°ç›¸äº’ç‹¬ç«‹å¯éƒ¨ç½²å•å…ƒï¼Œå†åˆ°æœåŠ¡åŒ– è®¾è®¡è‰¯å¥½çš„æ¶æ„åº”è¯¥å…è®¸è½¯ä»¶ç³»ç»Ÿä»å•ä½“åˆ°æœåŠ¡ï¼Œä¹Ÿå¯ä»¥ä»æœåŠ¡é€€åŒ–åˆ°å•ä½“ é‡å¤ é‡å¤éœ€è¦åˆ†æ¸…è¡¨é¢é‡å¤è¿˜æ˜¯å®é™…é‡å¤ï¼Œéšç€è½¯ä»¶çš„æ¼”è¿›ï¼Œä¸¤æ®µé‡å¤çš„ä»£ç å¯èƒ½ä¼šå˜å¾—ä¸åŒ ç‹¬ç«‹æ€§ å¼€å‘ç‹¬ç«‹æ€§ï¼šå½“å¯¹ç³»ç»Ÿè¿›è¡Œè§£è€¦æ—¶ï¼Œä¸åŒçš„æ¨¡å—å°±å¯ä»¥ç”±å¤šä¸ªå›¢é˜Ÿæ¥åˆ†å·¥å¼€å‘ éƒ¨ç½²ç‹¬ç«‹æ€§ï¼šåŒæ ·ï¼Œè§£è€¦ä¹‹åéƒ¨ç½²å°±å¯ä»¥äº’ä¸å½±å“ è¾¹ç•Œåˆ’åˆ† è½¯ä»¶æ¶æ„è®¾è®¡å°±æ˜¯ä¸€é—¨åˆ’åˆ†è¾¹ç•Œçš„è‰ºæœ¯ ä¸ºäº†åˆ’åˆ†åˆ’åˆ†è¾¹ç•Œçº¿ï¼Œè½¯ä»¶ç³»ç»Ÿè¢«åˆ†å‰²æˆç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶çš„ä¸€éƒ¨åˆ†æ˜¯æ ¸å¿ƒçš„ä¸šåŠ¡ç›¸å…³ç»„ä»¶ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯éæ ¸å¿ƒçš„ä½†æ˜¯æ˜¯æä¾›å¿…è¦åŠŸèƒ½çš„ç»„ä»¶ï¼Œè®©è¿™äº›éæ ¸å¿ƒç»„ä»¶å»ä¾èµ–ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ é€šè¿‡åˆ’æ¸…è¾¹ç•Œï¼Œå¯ä»¥æ¨è¿Ÿä¸€äº›ç»†èŠ‚æ€§çš„å†³ç­– ä½•æ—¶ä½•åœ°åˆ’åˆ† ç”»åœ¨ä¸ç›¸å…³çš„äº‹æƒ…ä¸­é—´ IOæ˜¯æ— å…³ç´§è¦çš„ï¼Œè½¯ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œæ˜¯ä¸šåŠ¡é€»è¾‘ æ’ä»¶å¼æ¶æ„ è½¯ä»¶å¼€å‘æŠ€æœ¯å‘å±•çš„å†å²å°±æ˜¯å¦‚ä½•æƒ³æ–¹è®¾æ³•å¢åŠ æ’ä»¶ï¼Œè¿™äº›æ’ä»¶è¦ä¹ˆå¯ä»¥å»æ‰ï¼Œè¦ä¹ˆè¦å¤šç§å®ç° è¾¹ç•Œå‰–æ è·¨è¾¹ç•Œè°ƒç”¨ è¾¹ç•Œçº¿ä¸€ä¾§çš„å‡½æ•°è°ƒç”¨å¦å¤–ä¸€ä¾§çš„å‡½æ•° è‡ªå¾‹å¼çš„ç»„ä»¶åˆ’åˆ† è¾¹ç•Œå½¢å¼ éƒ¨ç½²å±‚æ¬¡çš„ç»„ä»¶ çº¿ç¨‹ è¿›ç¨‹ æœåŠ¡ ç­–ç•¥ä¸å±‚æ¬¡ æœ¬è´¨ä¸Šï¼Œè½¯ä»¶ç³»ç»Ÿæ˜¯ä¸€ç»„ç­–ç•¥è¯­å¥çš„é›†åˆ è½¯ä»¶æ¶æ„çš„é‡ç‚¹ä¹‹ä¸€ï¼Œæ˜¯å°†ç­–ç•¥å½¼æ­¤åˆ†ç¦» å±‚æ¬¡ ç›´æ¥ç®¡ç†IOçš„ç­–ç•¥ï¼Œå±‚æ¬¡æ˜¯æœ€ä½çš„ é«˜å±‚ç­–ç•¥ä¸€èˆ¬å˜æ›´æ²¡æœ‰ä½å±‚ç­–ç•¥é¢‘ç¹ å½“æºç ä¾èµ–æ–¹å‘ç»Ÿä¸€è°ƒæ•´åˆ°æŒ‡ä¸ºé«˜å±‚ç­–ç•¥ï¼Œå¯ä»¥å¤§å¹…åº¦é™ä½ç³»ç»Ÿå˜æ›´å¸¦æ¥çš„å½±å“ ä¸šåŠ¡é€»è¾‘ ä¸šåŠ¡é€»è¾‘å°±æ˜¯ç³»ç»Ÿä¸­çœŸæ­£ç”¨äºèµšé’±æˆ–è€…çœé’±çš„è¿‡ç¨‹ï¼Œè¿™äº›è¿‡ç¨‹è¢«ç§°ä¸ºå…³é”®ä¸šåŠ¡é€»è¾‘ï¼Œå…³é”®ä¸šåŠ¡é€»è¾‘é€šå¸¸ä¼šå¤„ç†ä¸€äº›æ•°æ®ï¼Œè¿™äº›æ•°æ®å«åšå…³é”®ä¸šåŠ¡æ•°æ®ï¼Œå…³é”®ä¸šåŠ¡é€»è¾‘ä¸å…³é”®ä¸šåŠ¡æ•°æ®é€šå¸¸æ˜¯ç´§å¯†ç›¸è¿çš„ï¼Œæ‰€ä»¥å°†ä»–ä»¬ä¸¤ä¸ªæ”¾åœ¨ä¸€èµ·ï¼Œè¿™ç§å¯¹è±¡ç§°ä¹‹ä¸ºä¸šåŠ¡å®ä½“ ç”¨ä¾‹ è¾“å…¥ æ­¥éª¤ è¾“å‡º è¯·æ±‚å’Œå“åº”æ¨¡å‹ å¯¹ç”¨ä¾‹çš„è¾“å…¥è¾“å‡ºå¯¹è±¡ï¼Œåº”è¯¥ä¿æŒç‹¬ç«‹ æ•´æ´æ¶æ„ è®¸å¤šæ¶æ„éƒ½æ˜¯æŒ‰ç…§ä¸åŒå…³æ³¨ç‚¹å¯¹è½¯ä»¶è¿›è¡Œåˆ‡å‰² ç‰¹ç‚¹ ç‹¬ç«‹äºæ¡†æ¶ ç‹¬ç«‹äºUI ç‹¬ç«‹äºæ•°æ®åº“ ç‹¬ç«‹äºå¤–éƒ¨æœºæ„ å¯æµ‹è¯• ä¾èµ–å…³ç³»è§„åˆ™ å†…å±‚åœ†ä¸åº”è¯¥ä¾èµ–å¤–å±‚åœ† å¤–å±‚åœ†çš„å˜æ›´ä¸åº”å½±å“åˆ°å†…å±‚åœ† è°¦å‘å¯¹è±¡ è°¦å‘å¯¹è±¡æ¨¡å¼æ˜¯è®©å•å…ƒæµ‹è¯•çš„ç¼–å†™è€…åŒºåˆ†å®¹æ˜“æµ‹è¯•çš„è¡Œä¸ºä¸éš¾ä»¥æµ‹è¯•çš„è¡Œä¸º ä¸€ä¸ªä¼˜ç§€çš„æ¶æ„ï¼Œåº”è¯¥æ‹¥æœ‰å¼ºå¤§çš„å¯æµ‹è¯•æ€§ å±•ç¤ºå™¨ä¸è§†å›¾ ä¸å®Œå…¨è¾¹ç•Œ å•å‘è¾¹ç•Œ è®¾è®¡æ¶æ„æ—¶ï¼Œå¾€å¾€éœ€è¦ä½¿ç”¨åå‘æ¥å£æ¥ç»´æŠ¤è¾¹ç•Œä¸¤ä¾§ç»„ä»¶çš„éš”ç¦»æ€§ è¾¹ç•Œä¸å±‚æ¬¡ ä½œä¸ºæ¶æ„å¸ˆï¼Œéœ€è¦è€ƒè™‘ï¼š ä»€ä¹ˆåœ°æ–¹éœ€è¦è®¾è®¡æ¶æ„è¾¹ç•Œè®¾è®¡ è®¾è®¡è¿™äº›è¾¹ç•Œä¼šå¸¦æ¥å¤šå¤§çš„æˆæœ¬ åŒæ—¶ï¼Œè®¾è®¡è¾¹ç•Œéœ€è¦æ·±æ€ç†Ÿè™‘ï¼Œè¿‡åº¦çš„å·¥ç¨‹è®¾è®¡å¾€å¾€æ¯”å·¥ç¨‹è®¾è®¡ä¸è¶³è¿˜è¦ç³Ÿç³• Mainç»„ä»¶ ç³»ç»Ÿä¸­ï¼Œè‡³å°‘éœ€è¦ä¸€ä¸ªç»„ä»¶æ¥è´Ÿè´£åˆ›å»ºã€åè°ƒã€ç›‘ç£å…¶ä»–ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ç§°ä¸ºMainç»„ä»¶ Mainç»„ä»¶æ˜¯ç³»ç»Ÿä¸­ç»†èŠ‚ä¿¡æ¯æœ€å¤šçš„ç»„ä»¶ï¼Œå³Mainç»„ä»¶æ˜¯ä¸€ä¸ªåº•å±‚æ¨¡å—ï¼Œå¤„äºæ¶æ„åœˆçš„å¤–å±‚ æœåŠ¡åŒ– æœåŠ¡è¿™ç§å½¢å¼è¯´åˆ°åº•åªæ˜¯ä¸€ç§è·¨è¿›ç¨‹æˆ–è·¨å¹³å°çš„è°ƒç”¨æ–¹å¼è€Œå·²ï¼Œå¹¶ä¸ç­‰äºä¸€ç§æ¶æ„ å¸¦æ¥çš„å¥½å¤„ å¼ºè§£è€¦ï¼Ÿ æœªå¿…ï¼Œä»»ä½•å…±äº«æ•°æ®çš„è¡Œä¸ºéƒ½ä¼šå¯¼è‡´å¼ºè€¦åˆã€‚å°±åƒåœ¨æ•°æ®ç»“æ„çš„ä¸€ä¸ªå­—æ®µå‘ç”Ÿå˜æ›´ï¼Œé‚£è®¸å¤šä¸œè¥¿éƒ½è¦å‘ç”Ÿæ”¹å˜ ç‹¬ç«‹å¼€å‘éƒ¨ç½²ï¼Ÿ å¤§å‹ç³»ç»Ÿä¸€æ ·å¯ä»¥é‡‡ç”¨å•ä½“æ¨¡å¼ æµ‹è¯• æµ‹è¯•ç»„ä»¶ï¼Œå¯ä»¥è§†ä¸ºæœ€å¤–åœˆçš„æœ€å¤–åœˆç¨‹åº å¯æµ‹è¯•è®¾è®¡ è„†å¼±çš„æµ‹è¯•é—®é¢˜ ä¸è‰¯çš„æµ‹è¯•è®¾è®¡ï¼Œä¼šå¯¼è‡´ä¸€ä¸ªå¯¹é€šç”¨ç»„ä»¶çš„ä¿®æ”¹äº§ç”Ÿè®¸å¤šæµ‹è¯•é”™è¯¯ è§£å†³æ–¹æ³•å°±æ˜¯æµ‹è¯•ä¸è¦ä¾èµ–äºå¤šå˜çš„ä¸œè¥¿ æ•´æ´çš„åµŒå…¥å¼æ¶æ„ å›ºä»¶ç¨‹åºä¹Ÿå¯ä»¥æŒ‡é’ˆå¯¹å…·ä½“å¹³å°çš„ç¼–ç  ç¨‹åºé€‚ç”¨æµ‹è¯• ä»…ä»…åœç•™åœ¨è®©ä»£ç èƒ½è·‘èµ·æ¥çš„é˜¶æ®µ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-04 07:28:26 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/å®ç°ç»†èŠ‚.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/å®ç°ç»†èŠ‚.html","title":"å®ç°ç»†èŠ‚","keywords":"","body":"å®ç°ç»†èŠ‚ æ•°æ®åº“ ä¸ºç³»ç»Ÿä¸­çš„æ•°æ®è®¾è®¡ç»“æ„ web webåªæ˜¯ä¸€ç§ioè®¾å¤‡ åº”ç”¨ç¨‹åºæ¡†æ¶ å¼•å…¥æ¡†æ¶å¸¦æ¥çš„é£é™© MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-05 07:00:23 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç½‘ç«™æ¶æ„æ¼”è¿›.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç½‘ç«™æ¶æ„æ¼”è¿›.html","title":"ç½‘ç«™æ¶æ„æ¼”è¿›","keywords":"","body":"ç½‘ç«™æ¶æ„æ¼”è¿› ä¼ ç»Ÿæ¶æ„ -> åˆ†å¸ƒå¼æ¶æ„ -> SOAï¼ˆService-Oriented Architectureï¼‰æ¶æ„ -> å¾®æœåŠ¡æ¶æ„ ä¼ ç»Ÿæ¶æ„ ä¼ ç»Ÿçš„æ¶æ„ï¼Œåˆ†ä¸ºä¸‰å±‚æ¶æ„ webæ§åˆ¶å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®åº“è®¿é—®å±‚ã€‚ ä¹Ÿå°±æ˜¯å•ç‚¹åº”ç”¨ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªæ¨¡å—å¯¼è‡´æœåŠ¡ä¸å¯ç”¨ï¼Œå¯èƒ½ä¼šå½±å“æ•´ä¸ªé¡¹ç›® åˆ†å¸ƒå¼æ¶æ„ åˆ†å¸ƒå¼æ¶æ„åŸºäºä¼ ç»Ÿæ¶æ„æ¼”å˜è¿‡æ¥ï¼Œå°†ä¼ ç»Ÿçš„å•ä½“é¡¹ç›®ä»¥é¡¹ç›®æ¨¡å—è¿›è¡Œæ‹†åˆ†ï¼Œé™ä½è€¦åˆåº¦ï¼Œé¡¹ç›®ç‹¬ç«‹å¼€å‘éƒ¨ç½²ï¼Œå¹¶èƒ½ç›´æ¥å¯¹å¤–æä¾›æœåŠ¡ï¼Œé¡¹ç›®é—´é€šä¿¡é€šè¿‡RPC SOAæ¶æ„ æŠŠç³»ç»ŸæŒ‰ç…§å®é™…ä¸šåŠ¡ï¼Œæ‹†åˆ†æˆåˆšåˆšå¥½å¤§å°çš„ã€åˆé€‚çš„ã€ç‹¬ç«‹éƒ¨ç½²çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—ä¹‹é—´ç›¸äº’ç‹¬ç«‹ æ¨¡å—é€šè¿‡RPCé€šä¿¡é…åˆæ¥å®Œæˆå·¥ä½œ ç‰¹ç‚¹ åº•å±‚åŸºäºSOAPæˆ–ESB soapå°±æ˜¯Httpæˆ–è€…æ˜¯Httpsé€šé“ä¼ è¾“XMLæ•°æ®å®ç°çš„åè®® ç¼ºç‚¹ ä¾èµ–äºä¸­å¿ƒåŒ–æœåŠ¡å‘ç°æœºåˆ¶ SOAPåè®®ä½¿ç”¨çš„xmlä¼ è¾“æœ‰ç¼ºé™· ç¼ºå°‘æœåŠ¡æ²»ç†ä¸ç®¡ç†è®¾æ–½ å¾®æœåŠ¡æ¶æ„ å¾®æœåŠ¡æ¶æ˜¯ä»SOAæ¶æ„æ¼”å˜è¿‡æ¥ï¼Œæ¯”SOAæ¶æ„ç²’åº¦ä¼šæ›´åŠ ç²¾ç»† æ¶æ„ç‰¹å¾ åè®®æŠ€æœ¯æ— å…³ æœåŠ¡ç‹¬ç«‹æ€§éå¸¸é«˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-04 08:39:33 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/æœåŠ¡æ¶æ„æ¼”è¿›.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/æœåŠ¡æ¶æ„æ¼”è¿›.html","title":"æœåŠ¡æ¶æ„æ¼”è¿›","keywords":"","body":"æœåŠ¡æ¶æ„æ¼”è¿› Unixçš„åˆ†å¸ƒå¼è®¾è®¡å“²å­¦ ä¿æŒæ¥å£ä¸å®ç°çš„ç®€å•æ€§ï¼Œæ¯”ç³»ç»Ÿçš„ä»»ä½•å…¶ä»–å±æ€§ï¼ŒåŒ…æ‹¬å‡†ç¡®æ€§ã€ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ï¼Œéƒ½æ¥å¾—æ›´åŠ é‡è¦ã€‚ åŸå§‹åˆ†å¸ƒå¼æ—¶ä»£ ä¸Šä¸–çºª7 80å¹´ä»£ å½“æ—¶è®¡ç®—æœºç¡¬ä»¶å±€ä¿ƒçš„è¿ç®—å¤„ç†èƒ½åŠ›ï¼Œå·²ç›´æ¥å¦¨ç¢åˆ°äº†åœ¨å•å°è®¡ç®—æœºä¸Šä¿¡æ¯ç³»ç»Ÿè½¯ä»¶èƒ½å¤Ÿè¾¾åˆ°çš„æœ€å¤§è§„æ¨¡ã€‚ä¸ºçªç ´ç¡¬ä»¶ç®—åŠ›çš„é™åˆ¶ï¼Œå„ä¸ªé«˜æ ¡ã€ç ”ç©¶æœºæ„ã€è½¯ç¡¬ä»¶å‚å•†å¼€å§‹åˆ†å¤´æ¢ç´¢ï¼Œå¯»æ‰¾ä½¿ç”¨å¤šå°è®¡ç®—æœºå…±åŒåä½œæ¥æ”¯æ’‘åŒä¸€å¥—è½¯ä»¶ç³»ç»Ÿè¿è¡Œçš„å¯è¡Œæ–¹æ¡ˆ è¿™ä¸ªæ—¶ä»£æå‡ºäº†RPCçš„é›å½¢ä»¥åŠæ—¥ååˆ†å¸ƒå¼æ–‡ç³»ç»Ÿçš„æœ€æ—©å®ç°AFS â€œè°ƒç”¨è¿œç¨‹æ–¹æ³•â€ä¸â€œè°ƒç”¨æœ¬åœ°æ–¹æ³•â€å°½ç®¡åªæ˜¯ä¸¤å­—ä¹‹å·®ï¼Œä½†è‹¥è¦åŒæ—¶å…¼é¡¾åˆ°ç®€å•ã€é€æ˜ã€æ€§èƒ½ã€æ­£ç¡®ã€é²æ£’ã€ä¸€è‡´çš„è¯ï¼Œä¸¤è€…çš„å¤æ‚åº¦å°±å®Œå…¨ä¸å¯åŒæ—¥è€Œè¯­ æŸä¸ªåŠŸèƒ½èƒ½å¤Ÿè¿›è¡Œåˆ†å¸ƒå¼ï¼Œå¹¶ä¸æ„å‘³ç€å®ƒå°±åº”è¯¥è¿›è¡Œåˆ†å¸ƒå¼ï¼Œå¼ºè¡Œè¿½æ±‚é€æ˜çš„åˆ†å¸ƒå¼æ“ä½œï¼Œåªä¼šè‡ªå¯»è‹¦æœ è¿™ä¸ªæ—¶é—´æ®µè¿‡åçš„ä¸€ç«¯æ—¶é—´ æ‘©å°”å®šå¾‹çš„é»„é‡‘æ—¶ä»£ è®¡ç®—æœºçš„ç®—åŠ›ä¸æ–­æå‡ åœ¨æ—¥åçš„ä¸€ç«¯æ—¶é—´ å•ä½“è½¯ä»¶æ¶æ„è¿˜æ˜¯ä¸»æµ å•ä½“ç³»ç»Ÿæ—¶ä»£ åœ¨å¾®æœåŠ¡ç››è¡Œçš„è¿™æ®µæ—¥å­ å•ä½“ç³»ç»Ÿå¥½åƒæ€»æ˜¯ä»¥åæ´¾èº«ä»½ç™»åœº ä½†å¯¹äºå°å‹ç³»ç»Ÿ ä¸è®ºæ˜¯å¼€å‘ æµ‹è¯• éƒ¨ç½²ï¼Œå•ä½“ç³»ç»Ÿéƒ½æœ‰ç€ä¸å¯æ¯”æ‹Ÿçš„ä¼˜è¶Šæ€§ ä¹ä¸€çœ‹å•ä½“æ¶æ„çš„ç¼ºç‚¹ä¼¼ä¹ä¼šæ˜¯ä¸å¯æ‹†åˆ† éš¾ä»¥æ‰©å±• æ— æ³•ç»§ç»­æ”¯æ’‘è¶Šæ¥è¶Šå¤§çš„è½¯ä»¶è§„æ¨¡ ä½†å‡ ä¹æ‰€æœ‰çš„å•ä½“ç³»ç»Ÿéƒ½ä¼šè¿›è¡Œåˆ†å±‚æ‹†åˆ†ï¼š å•ä½“ç³»ç»Ÿçš„ç¼ºé™·åœ¨äºæ‹†åˆ†ä¹‹åçš„éš”ç¦»ä¸è‡ªæ²»èƒ½åŠ›ä¸Šçš„æ¬ ç¼ºï¼Œæ‰€æœ‰çš„ä»£ç éƒ½ä¼šè¿è¡Œåœ¨åŒä¸€è¿›ç¨‹ç©ºé—´ä¹‹å†… ä¸€æ—¦å‘ç”Ÿé—®é¢˜ é—®é¢˜å°±ä¼šæ‰©æ•£åˆ°æ•´ä¸ªç³»ç»Ÿï¼Œå¹¶ä¸”å¦‚æœæƒ³è¦å‘å¸ƒæ–°ç‰ˆæœ¬ ç»´æŠ¤ä¹Ÿæ˜¯ä¸€ä¸ªéš¾é¢˜ ä¸ºäº†å…è®¸ç¨‹åºå‡ºé”™ï¼Œä¸ºäº†è·å¾—éš”ç¦»ã€è‡ªæ²»çš„èƒ½åŠ›ï¼Œä¸ºäº†å¯ä»¥æŠ€æœ¯å¼‚æ„ç­‰ç›®æ ‡ï¼Œæ˜¯ç»§ä¸ºäº†æ€§èƒ½ä¸ç®—åŠ›ä¹‹åï¼Œè®©ç¨‹åºå†æ¬¡é€‰æ‹©åˆ†å¸ƒå¼çš„ç†ç”± SOAæ—¶ä»£ çƒŸå›±å¼æ¶æ„ï¼šæŒ‡çš„æ˜¯ä¸€ç§å®Œå…¨ä¸ä¸å…¶ä»–ç›¸å…³ä¿¡æ¯ç³»ç»Ÿè¿›è¡Œäº’æ“ä½œæˆ–è€…è¯´åè°ƒå·¥ä½œçš„è®¾è®¡æ¨¡å¼ å¾®å†…æ ¸æ¶æ„ï¼šä¹Ÿè¢«ç§°ä¸ºæ’ä»¶å¼æ¶æ„ï¼Œå°†å…¬å…±æœåŠ¡ã€æ•°æ®ã€èµ„æºé›†ä¸­åˆ°ä¸€å—ï¼Œæˆä¸ºä¸€ä¸ªè¢«æ‰€æœ‰ä¸šåŠ¡ç³»ç»Ÿå…±åŒä¾èµ–çš„æ ¸å¿ƒï¼Œå…·ä½“çš„ä¸šåŠ¡ç³»ç»Ÿä»¥æ’ä»¶æ¨¡å—ï¼ˆPlug-in Modulesï¼‰çš„å½¢å¼å­˜åœ¨ äº‹ä»¶é©±åŠ¨æ¶æ„ï¼šé€šè¿‡ä¸€ä¸ªäº‹ä»¶ç®¡é“ï¼Œå„ä¸ªè‡ªç³»ç»Ÿé€šè¿‡å‘é€/æ¥æ”¶äº‹ä»¶çš„æ–¹å¼è¿›è¡Œäº¤äº’ SOAçš„ç»ˆæç›®æ ‡æ˜¯å¸Œæœ›æ€»ç»“å‡ºä¸€å¥—è‡ªä¸Šè€Œä¸‹çš„è½¯ä»¶ç ”å‘æ–¹æ³•è®ºï¼Œæ‰€ä»¥SOAæœ¬èº«æœ‰ç€è®¸å¤šè§„èŒƒï¼Œä½†æ­£æ˜¯ç”±äºè¿‡äºä¸¥æ ¼çš„è§„èŒƒå®šä¹‰å¸¦æ¥è¿‡åº¦çš„å¤æ‚æ€§ å¾®æœåŠ¡æ—¶ä»£ è½»é‡çº§ å›´ç»•ä¸šåŠ¡ å¼‚æ„ è‡ªåŠ¨åŒ– åœ¨å¾®æœåŠ¡çš„æ—©æœŸ å®ƒè¿˜æ˜¯è¢«ä½œä¸ºSOAçš„ä¸€ç§è¡¥å……æ‰‹æ®µ å¾®æœåŠ¡è¿½æ±‚çš„æ˜¯æ›´åŠ è‡ªç”±çš„æ¶æ„é£æ ¼ï¼Œæ‘’å¼ƒäº†å‡ ä¹æ‰€æœ‰SOAé‡Œå¯ä»¥æŠ›å¼ƒçš„çº¦æŸå’Œè§„å®š åå¾®æœåŠ¡æ—¶ä»£ ä»è½¯ä»¶å±‚é¢ç‹¬åŠ›åº”å¯¹å¾®æœåŠ¡æ¶æ„é—®é¢˜ï¼Œå‘å±•åˆ°è½¯ã€ç¡¬ä¸€ä½“ï¼ŒåˆåŠ›åº”å¯¹æ¶æ„é—®é¢˜çš„æ—¶ä»£ è¿™é‡Œçš„ç¡¬ä»¶æŒ‡çš„æ›´å¤šæ˜¯è¯¸å¦‚å®¹å™¨ è™šæ‹ŸåŒ–æŠ€æœ¯ç­‰ä¸ºä¸»çš„åŸºç¡€è®¾æ–½ ä¸ºäº†è§£å†³åœ¨ç¡¬ä»¶ä¸Šçš„æœåŠ¡æ²»ç†ç²’åº¦è¿‡ç²—çš„é—®é¢˜ï¼Œè¿™ä¸ªæ—¶ä»£å®Œæˆäº†ç¬¬äºŒæ¬¡è¿›åŒ–ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡ç½‘æ ¼çš„å¼•å…¥ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼ŒæœåŠ¡ç½‘æ ¼è¿˜ç®—æ˜¯ä¸ªæ–°æ¦‚å¿µï¼Œä»ç„¶è¿˜åœ¨å‘å±• å¦å¤–ä¸€æ¡è·¯-æ— æœåŠ¡æ—¶ä»£ å¦‚æœè¯´å¾®æœåŠ¡æ¶æ„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè¿™æ¡è·¯çš„æè‡´ï¼Œé‚£æ— æœåŠ¡æ¶æ„ï¼Œä¹Ÿè®¸å°±æ˜¯â€œä¸åˆ†å¸ƒå¼â€çš„äº‘ç«¯ç³»ç»Ÿè¿™æ¡è·¯çš„èµ·ç‚¹ åç«¯è®¾æ–½ï¼šæŒ‡æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€æ—¥å¿—ã€å­˜å‚¨ï¼Œç­‰ç­‰è¿™ä¸€ç±»ç”¨äºæ”¯æ’‘ä¸šåŠ¡é€»è¾‘è¿è¡Œï¼Œç§°å…¶ä¸ºåç«¯å³æœåŠ¡ å‡½æ•°ï¼šæŒ‡çš„ä¸šåŠ¡é€»è¾‘ä»£ç  æ— æœåŠ¡çš„æ— çŠ¶æ€ç‰¹å¾å¤©ç”Ÿå°±ä¸é€‚åˆåšæŸäº›äº‹ï¼Œæˆ–è®¸åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå®ƒä¼šåšçš„æ›´å¥½ï¼Œä½†é•¿æœŸæ¥çœ‹ï¼Œè¿˜æ˜¯ä¸ºä»¥æœåŠ¡æ¶æ„ä¸ºä¸» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-08 06:38:58 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/Webå‰ç«¯.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/Webå‰ç«¯.html","title":"Web å‰ç«¯","keywords":"","body":"Webå‰ç«¯ æµè§ˆå™¨ç»„æˆ æ¸²æŸ“å¼•æ“ è§£æHTMLæ„å»ºDOMæ ‘ -> æ„å»ºæ¸²æŸ“æ ‘ -> æ¸²æŸ“æ ‘å¸ƒå±€é˜¶æ®µ -> ç»˜åˆ¶æ¸²æŸ“æ ‘ é¡µé¢ç”Ÿæˆå å¦‚æœé¡µé¢å…ƒç´ ä½ç½®å‘ç”Ÿå˜åŒ– å°±è¦ä»å¸ƒå±€é˜¶æ®µå¼€å§‹é‡æ–°æ¸²æŸ“ HTMLè§£æ CSSè§£æ æŒä¹…åŒ–å­˜å‚¨æœºåˆ¶ HTTPç¼“å­˜ localSorageï¼šå•ä¸ªåŸŸä¸‹å­˜æ”¾å®¹é‡æœ‰é™ sessionStorageï¼šæµè§ˆå™¨å…³é—­è‡ªåŠ¨æ¸…ç©º Cookie sessionCookie HTTP only WebSQLï¼šç‰¹å®šæµè§ˆå™¨çš„ç‰¹æ€§ IndexDBï¼šNoSQLç±»å‹çš„æ•°æ®åº“ å¤§å°é™åˆ¶50M Application Cache æ¸æ¸åºŸå¼ƒ ä½¿ç”¨ServiceWorkersæ›¿ä»£ cacheStorage ServiceWorkerè§„èŒƒä¸­çš„Cacheå¯¹è±¡ Flashç¼“å­˜ æµè§ˆå™¨Webå®‰å…¨ X-XSS-Protection æ§åˆ¶æµè§ˆå™¨å¯¹åå°„å‹XSSçš„é˜²æŠ¤ Strict-Transport-Security å¼ºåˆ¶æ‰€æœ‰é€šä¿¡ä½¿ç”¨HTTPS Content-Security-Policy æ§åˆ¶æµè§ˆå™¨åªä¿¡ä»»æ¥è‡ªæŒ‡å®šæºçš„å†…å®¹ Access-Control-Allow-Origin å‰ç«¯ä¸åè®® HTTP å®æ—¶åè®® WebSocket Pollï¼ˆè½®è¯¢ï¼‰ï¼šå®æ—¶æ€§å·® å½±å“æ€§èƒ½ Long-pollï¼ˆé•¿è½®è¯¢ï¼‰ï¼šæ¯”ä¸Šé¢å¥½ä¸€ç‚¹ å‰ç«¯DDPï¼ˆåˆ†å¸ƒå¼æ•°æ®åè®®ï¼‰ meteorï¼šæœåŠ¡ç«¯-å®¢æˆ·ç«¯åŒå‘æ•°æ®æ›´æ–° Nativeäº¤äº’åè®® æ··è¡€åº”ç”¨ç‰¹æ€§ï¼š å¯ç”¨ç³»ç»Ÿèµ„æºå°‘ æµè§ˆå™¨å†…æ ¸æ”¯æŒè¾ƒæ–°çš„ç‰¹æ€§ å¯å®ç°ç¦»çº¿åº”ç”¨ æœºå‹å…¼å®¹ï¼ˆå±å¹•å…¼å®¹ï¼‰ æ”¯æŒä¸Nativeäº¤äº’ Webåˆ°Nativeåè®®è°ƒç”¨ï¼š é€šè¿‡URI Webåº”ç”¨é€šè¿‡å‘èµ·ä¸€ä¸ªURIè¯·æ±‚ Nativeä¼šè¿›è¡Œæ•è· addJavascriptInterface Nativeä¼šæ³¨å…¥ä¸€ä¸ªå…¨å±€å¯¹è±¡ç»™Webè°ƒç”¨ Nativeåˆ°Webï¼š Nativeé€šè¿‡loadURLè°ƒç”¨Webæš´éœ²çš„å…¨å±€å¯¹è±¡æˆ–è€…æ–¹æ³• JSBridgeåè®®è§„èŒƒ Nativeæ³¨å†Œä¸€ä¸ªè‡ªå®šä¹‰JSBridge Schemaå¤´ åè®®URLç”±å‡ éƒ¨åˆ†ç»„æˆï¼šæ¬²è¢«è°ƒç”¨çš„ç±»åã€å›è°ƒæ–¹æ³•ã€æ¬²è¢«è°ƒç”¨çš„æ–¹æ³•ã€jsonå¯¹è±¡ï¼ˆè°ƒç”¨æ–¹æ³•çš„å‚æ•°ï¼‰ ä¸‰å±‚ç»“æ„ ç»“æ„å±‚ XML -> HTML -> HTML5 DOCTYPEï¼šæŒ‡ç¤ºæµè§ˆå™¨ä½¿ç”¨å“ªä¸ªHTMLç‰ˆæœ¬ç¼–å†™çš„æŒ‡ä»¤è¿›è¡Œè§£æ è¯­ä¹‰åŒ–æ ‡ç­¾ï¼šè¯­ä¹‰åŒ–æ ‡ç­¾å¸®åŠ©äººæ›´å®¹æ˜“ç†è§£ AMP HTMLï¼šæå‡é¡µé¢èµ„æºè½½å…¥æ•ˆç‡çš„è§„èŒƒ Shadow DOMï¼šç”¨æ¥æ”¯æŒå®ç°Web Componentï¼Œå¦‚videoæ ‡ç­¾ç­‰ï¼Œå…¶ä¸ä¼šè¢«å¤–ç•Œçš„cssæˆ–è€…jsæ‰€å½±å“ æµè§ˆå™¨è„šæœ¬ ES5 -> CoffeScript -> ES6 -> TS è¡¨ç°å±‚ CSS CSSç»Ÿä¸€å¤„ç†ï¼š resetï¼šæ¸…é™¤æ‰€æœ‰å…ƒç´ é»˜è®¤æ ·å¼ normalizeï¼šä¸ºæ‰€æœ‰å…ƒç´ å¢åŠ é»˜è®¤æ ·å¼ neatï¼šä¸Šé¢ä¸¤ç§æ–¹å¼çš„ç»„åˆ CSSé¢„å¤„ç†ï¼šsass less ... ä¸€ä¸ªè‰¯å¥½çš„é¢„å¤„ç†å™¨çš„åŠŸèƒ½ï¼š å˜é‡å£°æ˜è®¡ç®— è¯­æ³•è¡¨è¾¾å¼ if-else for å‡½æ•°å¤„ç† å±æ€§ç»§æ‰¿ å…¼å®¹æ€§è¡¥å…¨ è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨ç§æœ‰å‰ç¼€ åŠ¨ç”»å®ç°ï¼š jså®ç°ï¼šç”±äºé¢‘ç¹é‡ç»˜ éå¸¸æ¶ˆè€—æ€§èƒ½ SVGåŠ¨ç”»ï¼šæ¯”jså®ç°åŠŸèƒ½ä¼šæ›´ä¸°å¯Œ ä½†ä¸€æ—¦å¤æ‚èµ·æ¥ ä»ä¼šå½±å“æ€§èƒ½ CSS3 transitionï¼šåªèƒ½å®ç°è¿‡æ¸¡å˜åŒ– CSS3 animationï¼šè„±ç¦»JS å¯ä»¥ç¡¬ä»¶åŠ é€Ÿ å¤æ‚åŠ¨ç”»ä¹Ÿèƒ½åº”ä»˜ Canvas åŠ¨ç”»ï¼šæœ¬è´¨æ˜¯é€šè¿‡jsæ§åˆ¶æ ‡ç­¾æ¥å®ç° å“åº”å¼é¡µé¢ åŸºäºUAè·³è½¬ åŸºäºåª’ä½“æŸ¥è¯¢å“åº”å¼ ç»“æ„å±‚å“åº”å¼ ç»“æ„å±‚æ•°æ®å“åº”å¼ åœ¨å‰ç«¯åˆ¤æ–­ä¸åŒç«¯åŠ è½½ä¸åŒçš„æ•°æ® åç«¯æ•°æ®å“åº”å¼ åç«¯æ¸²æŸ“æ—¶ç›´æ¥åˆ¤æ–­ å·®åˆ«æ¸²æŸ“ ç»“æ„å±‚åª’ä½“æŸ¥è¯¢ æ ¹æ®ä¸åŒçš„å±å¹•æ¸²æŸ“ä¸åŒçš„å›¾ç‰‡ èŠ‚çœæµé‡ Picture å¯ä»¥åŒ…å«å¤šä¸ªå›¾ç‰‡ è‡ªåŠ¨è¿›è¡Œé€‰æ‹©ï¼ˆPolyfillï¼‰ åç«¯æ¨¡æ¿åˆ¤æ–­æ¸²æŸ“ä¸åŒå›¾ç‰‡ CDN è¡¨ç°å±‚å“åº”å¼ å“åº”å¼å¸ƒå±€ï¼šæ …æ ¼å¸ƒå±€ å±å¹•é€‚é…å¸ƒå±€ï¼šviewport æ§åˆ¶zoom REMé€‚é… è¡Œä¸ºå±‚å“åº”å¼ é€šè¿‡jsè¿›è¡Œåˆ¤æ–­æ‰§è¡Œä¸åŒè„šæœ¬ åç«¯åˆ¤æ–­ç›´æ¥æ¸²æŸ“ä¸åŒè„šæœ¬ ç°ä»£å‰ç«¯äº¤äº’æ¡†æ¶ ç›´æ¥DOMæ“ä½œ éšç€AJAXæŠ€æœ¯çš„å‘å±• åœ¨DOMæ“ä½œä¸Šé¢ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ è¿™ä¸ªæ—¶æœŸçš„ä»£è¡¨æ€§æ¡†æ¶å°±æ˜¯jQueryï¼Œå…¶ä¸»è¦åŠŸèƒ½å°±æ˜¯å°è£…äº†æµè§ˆå™¨çš„DOM API MV*äº¤äº’ å‰ç«¯MVC é€šè¿‡å°†ç»„ä»¶çš„æ•°æ®åŠè¡Œä¸ºåˆ’åˆ†åˆ° M V C æ¥è¿›è¡Œç®¡ç†ï¼Œç”±ç³»ç»Ÿç»Ÿä¸€æ¥æ§åˆ¶ å‰ç«¯MVP ä½¿ç”¨Pæ¥å¤„ç†é€»è¾‘ M å’Œ V åªåæ˜ è§†å›¾å’Œæ•°æ® å„ä¸ªéƒ¨ä½èŒè´£æ›´æ¸…æ™° ä½†æ˜¯Pçš„å†…å®¹å˜å¾—å¾ˆé‡ å‰ç«¯MVVM è‡ªåŠ¨åŒ–çš„MVP ä½¿ç”¨ViewModel æ›¿ä»£ Pï¼Œè¿™æ ·æ•°æ®çš„å˜åŒ–å°±ä¼šè‡ªåŠ¨å½±å“åˆ°è¯†å›¾ åä¹‹äº¦ç„¶ æ•°æ®æ›´æ–°æ£€æµ‹ æ‰‹åŠ¨è§¦å‘æ›´æ–° è„æ£€æµ‹æœºåˆ¶ï¼šå½“ViewModelçš„æŸä¸ªå€¼å‘ç”Ÿå˜åŒ–æ—¶æ‰¾åˆ°å…¶ç›¸å…³è”çš„æ‰€æœ‰å…ƒç´  ç„¶åæ¯”è¾ƒæ›´æ–° å‰ç«¯æ•°æ®å¯¹è±¡åŠ«æŒï¼šé€šè¿‡Object.defineProperiesæ¥ç›‘å¬getå’Œsetï¼Œå½“å‘ç”Ÿå˜åŒ– åˆ™éœ€è¦è¿è¡Œç›¸å¯¹åº”èŠ‚ç‚¹çš„æŒ‡ä»¤ ES6 Proxyï¼šå®ç°æ•ˆæœè·Ÿä¸Šé¢ä¸€æ · Virtual DOMäº¤äº’ é€šè¿‡æ–°å»ºä¸€ä¸ªè™šæ‹Ÿçš„DOMæ•°æ®ç»“æ„ å¹¶å°†å…¶ä¸çœŸå®DOMå¯¹æ¯” æ‰¾å‡ºå·®å¼‚éƒ¨åˆ†è¿›è¡Œæ›´æ–° æ ¸å¿ƒå®ç° å°†çœŸå®DOMè½¬æ¢ä¸ºè™šæ‹ŸDOMï¼š è‡ªå·±è§£æHTMLè€Œéä½¿ç”¨DOM APIæ¥ç”Ÿæˆ å¯¹æ¯”è™šæ‹ŸDOM ä½¿ç”¨å¤šå‰æ ‘éå†ç®—æ³• DFSæˆ–è€…BFS éå†è¿‡ç¨‹ä¸­éœ€è¦è®°å½•èŠ‚ç‚¹æ”¹å˜çš„å†…å®¹ã€å·®å¼‚åŒ–æ”¹å˜çš„ç±»å‹åŠä½ç½®ï¼ˆåœ¨å“ªé‡Œå¢åŠ ã€åˆ é™¤ç­‰ï¼‰ å‰ç«¯MNV* Model Native View * JSè°ƒç”¨åŸç”Ÿæ§ä»¶æˆ–è€…äº‹ä»¶ç»‘å®š å‰ç«¯å¼€å‘è§„èŒƒ é€šç”¨è§„èŒƒ ä¸‰å±‚ç»“æ„åˆ†ç¦»ï¼šjs css html åˆ†ç¦» ç¼©è¿›ä¿æŒä¸€è‡´ å†…å®¹ç¼–ç ï¼šä¸ºhtmlæŒ‡å®šutf8ç¼–ç  æ³¨æ„å¤§å°å†™çš„ä½¿ç”¨åœºæ™¯ htmlå±æ€§åä¸€å¾‹ä½¿ç”¨å°å†™ä»¥-åˆ†å‰² å±æ€§å€¼å¯ä»¥ä½¿ç”¨é©¼å³°å‘½å ä»£ç å•è¡Œé•¿åº¦é™åˆ¶ æ³¨é‡Šå¯ä»¥å‚è€ƒjava ä»£ç è‡ªæè¿° åˆ é™¤è¡Œå°¾ç©ºæ ¼åŠç¬¦å· HTMLè§„èŒƒ æ–‡æ¡£ç±»å‹å®šä¹‰ç»Ÿä¸€ä½¿ç”¨HTML5çš„!DOCTYPE é¿å…ä½¿ç”¨HTML4çš„DTDå®šä¹‰ headå¿…é¡»å®šä¹‰title keyword descriptionç­‰åŸºæœ¬SEOå­—æ®µ ç§»åŠ¨ç«¯æ³¨æ„å®šä¹‰viewport å¼•å…¥styleæ ‡ç­¾æˆ–è€…scriptæ ‡ç­¾å¯ä»¥çœç•¥typeå±æ€§ æ ‡ç­¾å±æ€§å€¼ç»Ÿä¸€ä½¿ç”¨åŒå¼•å· è¯¸å¦‚readonly disabledç­‰å±æ€§çš„å±æ€§å€¼å¯ä»¥çœç•¥ å…ƒç´ æ ‡ç­¾å¿…é¡»æ­£ç¡®åµŒå¥— å°½é‡ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ éè‡ªé—­å’Œæ ‡ç­¾éœ€è¦æ·»åŠ å…³é—­æ ‡è¯† è‡ªé—­å’Œæ ‡ç­¾æ— éœ€æ·»åŠ ï¼ˆimg brï¼‰ é¿å…imgçš„altå±æ€§ä¸ºç©º labelæ ‡ç­¾ç»å†å¢åŠ forå±æ€§ä¸è¾“å…¥åŸŸè¿›è¡Œå…³è” æŒ‰æ¨¡å—æ·»åŠ æ³¨é‡Š start end æ ‡ç­¾å…ƒç´ æ ¼å¼ï¼šå—çº§å…ƒç´ å¦èµ·ä¸€è¡Œ è¡Œå†…å…ƒç´ æ ¹æ®æƒ…å†µå†…è”æˆ–è€…æ¢è¡Œ CSSè§„èŒƒ å°½é‡ä½¿ç”¨å¤–éƒ¨æ ·å¼æ–‡ä»¶ï¼Œé¿å…ä½¿ç”¨å†…è”æ ·å¼ å‘½åï¼šé¿å…è¿‡äºç¬¼ç»Ÿï¼Œæ ¹æ®åŠŸèƒ½å’Œå†…å®¹è¿›è¡Œå‘½åï¼Œå¯ä»¥æ ¹æ®éœ€è¦ç»Ÿä¸€æ·»åŠ æŸç§å‰ç¼€ ç®€å†™ å€¼ä¸º0å¯ä»¥çœç•¥å•ä½ 0.xçš„å•ä½å¯ä»¥çœç•¥0 é¢œè‰²å°½é‡ç¼©å†™åˆ°3ä½ å±æ€§ä¹¦å†™é¡ºåºï¼šä¼˜å…ˆå†™å¸ƒå±€å…ƒç´ ï¼Œç„¶åå†å†™å…ƒç´ çš„å†…å®¹å±æ€§ é¿å…CSSå¥‡æ·«æŠ€å·§ è‹¥è¦å…¼å®¹å¤šç§æµè§ˆå™¨ç§æœ‰æ ·å¼ åˆ™ç§æœ‰æ ·å¼å†™å‰ æ ‡å‡†æ ·å¼å†™å é¿å…ç±»åæˆ–IDä¸ç±»é€‰æ‹©å™¨ç»„åˆä½¿ç”¨ ä¼šé€ æˆå†—ä½™ ä½¿ç”¨ç®€çŸ­çš„CSSå®ç° åˆå¹¶å†™æ³• å…ƒç´ ä¹‹é—´å­˜åœ¨ç»§æ‰¿å…³ç³»æ—¶ æå–å…¬å…±éƒ¨åˆ† é¿å…é‡å¤å®šä¹‰ ä½¿ç”¨é¢„å¤„ç†æ¥æé«˜ç¼–ç æ•ˆç‡ ES5è§„èŒƒ è¯­å¥æ·»åŠ åˆ†å·ç»“æŸå¯ä»¥ä½¿è¯­å¥ä¹‹é—´å…³ç³»æ›´æ¸…æ™° åœ¨åˆé€‚çš„åœ°æ–¹æ·»åŠ ç©ºæ ¼ ä»£ç å—åç•™ç©ºä¸€è¡Œï¼Œä½¿å†…å®¹å—æ›´æœ‰å±‚æ¬¡ å­—ç¬¦ä¸²æœ€å¤–å±‚ç»Ÿä¸€ä½¿ç”¨å•å¼•å· å˜é‡å‘½åå‚è€ƒJAVA å¯¹è±¡å±æ€§åä¸éœ€è¦å¼•å· å¯¹è±¡å±æ€§è¿‡å¤šå¯ä»¥ä½¿ç”¨ç¼©è¿›çš„æ–¹å¼ä¹¦å†™ ä»£ç å—å¿…é¡»åŠ èŠ±æ‹¬å· ä¸é€‚ç”¨undefinedç›´æ¥è¿›è¡Œåˆ¤æ–­ å¯ä»¥ä½¿ç”¨typeof é¿å…ä½¿ç”¨ != == ç¦æ­¢åœ¨æ¡ä»¶è¯­å¥æˆ–è€…å¾ªç¯è¯­å¥é‡Œå£°æ˜å‡½æ•° for-inå¾ªç¯è®¿é—®å±æ€§å‰è¦åˆ¤æ–­ é¿å…è®¿é—®ä¸å­˜åœ¨çš„å±æ€§æŠ¥é”™ é¿å…åœ¨Array DateåŸºç¡€ç±»åº“å¯¹è±¡åŸå‹æ·»åŠ æ–¹æ³• å¦åˆ™ä¼šæ±¡æŸ“JSå†…ç½®å¯¹è±¡ ES6è§„èŒƒ æ­£ç¡®ä½¿ç”¨å˜é‡å£°æ˜let const å­—ç¬¦ä¸²æ‹¼æ¥å°½é‡ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸² è§£æ„èµ‹å€¼å°½é‡åªä½¿ç”¨ä¸€å±‚ æ•°æ®æ‹·è´ä½¿ç”¨...æ¥é«˜æ•ˆç®€æ´å®ç° æ•°ç»„å¾ªç¯éå†ä¼˜å…ˆä½¿ç”¨for...of å°½é‡ä½¿ç”¨ES6çš„classå®ç°oop æ¨¡å—åŒ–å¤šå˜é‡å¯¼å‡ºå°½é‡ä½¿ç”¨å¯¹è±¡ç»“æ„ ä¸è¦è®²importå’Œexportå†™åœ¨åŒä¸€è¡Œ å¯¼å‡ºç±»æ—¶ï¼Œä¿æŒæ¨¡å—åç§°å’Œæ–‡ä»¶åç›¸åŒ ç”Ÿæˆå™¨yieldä½¿ç”¨æ—¶éœ€è¦æ³¨æ„å¯¹å¼‚å¸¸çš„å¤„ç† ä½¿ç”¨Promiseä»£æ›¿å›è°ƒ å°½é‡é¿å…ä½¿ç”¨è¿­ä»£å™¨ æ€§èƒ½å¤ªå·® æ¨èä½¿ç”¨async await é˜²å¾¡æ€§ç¼–ç¨‹è§„èŒƒ å¯¹äºå¤–éƒ¨ä¼ å…¥çš„æ•°æ® éœ€è¦åšæ ¡éªŒ é¿å…ä¸ºç©ºå¯¼è‡´çš„æ¨¡æ¿æŠ¥é”™ æ³¨æ„é”™è¯¯å¤„ç† å‰ç«¯ç»„ä»¶è§„èŒƒ UIç»„ä»¶è§„èŒƒ ç»Ÿä¸€çš„é¡µé¢å¸ƒå±€æ–¹æ¡ˆ åŸºç¡€UIç»“æ„å’Œæ ·å¼å®ç° ç»„ä»¶åŒ–UIç»“æ„å’Œæ ·å¼å®ç° å“åº”å¼å¸ƒå±€ UIå¯æ‰©å±•æ€§ æ¨¡å—åŒ–è§„èŒƒ AMD æµè§ˆå™¨ç«¯çš„æ¨¡å—åŒ–å¼‚æ­¥åŠ è½½è§„èŒƒ CMD ç”¨åˆ°æ¨¡å—æ‰ä¼šæ‰§è¡Œ CommonJS Nodeç«¯ä½¿ç”¨çš„æ¨¡å—åŒ–è§„èŒƒ import/export ES6å®šä¹‰çš„è§„èŒƒ é¡¹ç›®ç»„ä»¶åŒ–è§„èŒƒ Web Component ç»„ä»¶åŒ– MVVMæ¡†æ¶ç»„ä»¶åŒ– æ¯ä¸ªç»„ä»¶ä»¥å•æ–‡ä»¶çš„å½¢å¼å¼•å…¥æ¨¡å— é€šè¿‡æ„å»ºæˆ–è€…åŠ¨æ€è§£æçš„æ–¹å¼æ³¨å…¥åˆ°é¡µé¢ è™šæ‹ŸDOMç»„ä»¶åŒ– reactjsä¸ºä»£è¡¨çš„jsx åŸºäºç›®å½•ç®¡ç†çš„é€šç”¨ç»„ä»¶åŒ– ç»„ä»¶åŒ–è§„èŒƒåº”è¯¥è§£å†³çš„é—®é¢˜ï¼š ç»„ä»¶ä¹‹é—´ç‹¬ç«‹ æ¾è€¦åˆ ç»„ä»¶å¯ä»¥åµŒå¥—ä½¿ç”¨ ç»„ä»¶é€šä¿¡é—®é¢˜ ç»„ä»¶å…¬ç”¨éƒ¨åˆ†è®¾è®¡ ç»„ä»¶æ„å»ºæ‰“åŒ… å¼‚æ­¥ç»„ä»¶åŠ è½½ ç»„ä»¶ç»§æ‰¿ä¸å¤ç”¨ ç§æœ‰ç»„ä»¶çš„ç®¡ç† è‡ªåŠ¨åŒ–æ„å»º ç›®çš„ï¼šå¯¹æºé¡¹ç›®æ–‡ä»¶æˆ–èµ„æºè¿›è¡Œæ–‡ä»¶çº§å¤„ç† å°†æ–‡ä»¶æˆ–èµ„æºå¤„ç†æˆæœ€ä½³è¾“å‡ºç»“æ„å’Œå½¢å¼ æ„å»ºå·¥å…·çš„è®¾è®¡ æ¨¡å—åˆ†æå¼•å…¥ï¼šé€šè¿‡åˆ†æä¾èµ–è°ƒç”¨ç”ŸæˆASTï¼Œç”Ÿæˆä¾èµ–å­—å…¸ æ¨¡å—åŒ–è§„èŒƒæ”¯æŒï¼šç›®å‰è¾ƒå¤šçš„æ„å»ºå·¥å…·éƒ½æ˜¯å°†ES6è½¬æ¢ä¸ºES5 æ„å»ºå·¥å…·åº”å°½å¯èƒ½æ”¯æŒè¾ƒå¤šæ ‡å‡† CSSç¼–è¯‘ å›¾ç‰‡åˆå¹¶ èµ„æºå‹ç¼©ä¼˜åŒ– è·¯å¾„åˆ†ææ›¿æ¢ ç¯å¢ƒåŒºåˆ† å¼‚æ­¥æ–‡ä»¶æ‰“åŒ… æ–‡ä»¶ç›®å½•ç™½åå• å‰ç«¯æ€§èƒ½ä¼˜åŒ– å®æ—¶æ€§æŒ‡æ ‡ å¯æ§æ—¶å»¶ ä¸å¯æ§æ—¶å»¶ æ€§èƒ½æµ‹è¯• Performance Timing API æµè§ˆå™¨å†…æ ¸è‡ªå¸¦çš„JS API Profile æµè§ˆå™¨è‡ªå¸¦ é¡µé¢åŸ‹ç‚¹è®¡æ—¶ èµ„æºåŠ è½½æ—¶åºå›¾ æ¡Œé¢ç«¯ä¼˜åŒ–ç­–ç•¥ ç½‘ç»œï¼š å‡å°‘HTTPè¯·æ±‚æ¬¡æ•°åŠè¯·æ±‚å¤§å° ä½¿ç”¨å¤–éƒ¨æ–‡ä»¶å¼•å…¥cssæˆ–è€…jså¯ä»¥åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ é¿å…ç©ºhrefå’Œsrc ä»–ä»¬ä¹Ÿä¼šå‘èµ·è¯·æ±‚ åˆç†åˆ©ç”¨HTTPç¼“å­˜ å‡å°‘é‡å®šå‘ å¢åŠ é™æ€åŸŸå¢åŠ ä¸‹è½½å¹¶è¡Œæ•° åˆç†åˆ©ç”¨CDN ä½¿ç”¨å¯ç¼“å­˜çš„AJAX å‡å°‘cookieå¤§å° ç¼“å­˜favicon.ico å¼‚æ­¥åŠ è½½jsèµ„æº é¿å…CSSæˆ–è€…jsèµ„æºé˜»å¡æ¸²æŸ“ é¡µé¢æ¸²æŸ“ï¼š CSSæ”¾å¤´éƒ¨ï¼šä¼˜å…ˆä¸‹è½½å®Œæˆæ¸²æŸ“ JSæ”¾åº•éƒ¨ï¼šé¿å…JSå¯¹é¡µé¢æ¸²æŸ“é€ æˆé˜»å¡ é¿å…åœ¨HTMLç›´æ¥ç¼©æ”¾å›¾ç‰‡ å‡å°‘DOMæ•°é‡åŠæ·±åº¦ é¿å…table iframeç­‰æ…¢å…ƒç´  é¿å…è¿è¡Œè€—æ—¶è¿‡é•¿çš„JS é¿å…CSSè¡¨è¾¾å¼æˆ–è€…æ»¤é•œ ç§»åŠ¨ç«¯ä¼˜åŒ–ç­–ç•¥ ç½‘ç»œï¼š æå‰é¦–å±æ•°æ®è¯·æ±‚ é¿å…JSæ–‡ä»¶åŠ è½½åæ‰åŠ è½½æ•°æ® é¦–å±æŒ‰éœ€åŠ è½½ å±•ç¤ºå»¶æ—¶ä¸è¶…è¿‡3ç§’ æ¨¡å—åŒ–èµ„æºå¹¶è¡Œä¸‹è½½ å†…è”é¦–å±å¿…é¡»çš„cssåŠjs dnsé¢„è§£æ èµ„æºé¢„åŠ è½½ åˆç†åˆ©ç”¨MTU 1500B ç¼“å­˜ï¼š åˆç†åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ é™æ€èµ„æºç¦»çº¿æ–¹æ¡ˆ AMP HTML å›¾ç‰‡ï¼š å¯¹æ‰€æœ‰ç§»åŠ¨ç«¯çš„å›¾ç‰‡éƒ½éœ€è¦å‹ç¼©å¤„ç† ä½¿ç”¨è¾ƒå°çš„å›¾ç‰‡ åˆç†åˆ©ç”¨BASE64å†…åµŒå›¾ç‰‡ ä½¿ç”¨æ›´é«˜å‹ç¼©æ¯”çš„æ ¼å¼ å¦‚webp å›¾ç‰‡æ‡’åŠ è½½ åˆ©ç”¨CDNåŠ è½½ä¸åŒå¤§å°çš„å›¾ç‰‡ å›¾æ ‡ç²¾è‰¯ä½¿ç”¨iconfont é™åˆ¶å›¾ç‰‡æœ€å¤§å¤§å° è„šæœ¬ï¼š ä½¿ç”¨IDé€‰æ‹©å™¨ å…¶æœ€å¿« ç¼“å­˜DOMå¯¹è±¡ ä½¿ç”¨äº‹ä»¶ä»£ç† é¿å…ç›´æ¥äº‹ä»¶ç»‘å®š ä½¿ç”¨touchstartä»£æ›¿click é¿å…touchmove scroll è¿ç»­äº‹ä»¶ä»£ç† éœ€è¦åˆç†è¿›è¡ŒèŠ‚æµ é¿å…eval with æ¨èES6æ¨¡æ¿å­—ç¬¦ä¸² æ¨èä½¿ç”¨ES6è§„èŒƒ æ¸²æŸ“ï¼š ä½¿ç”¨viewportå›ºå®šå±å¹•æ¸²æŸ“ é¿å…å„ç§é‡æ’é‡ç»˜ ä½¿ç”¨CSS3åŠ¨ç”» å¼€å¯GPUåŠ é€Ÿ ä½¿ç”¨canvaså®ç°åŠ¨ç”»æ›´é«˜æ•ˆ ä½¿ç”¨SVGä»£æ›¿å›¾ç‰‡ å°‘ç”¨float è€—æ€§èƒ½ é¿å…è¿‡å¤šçš„font-sizeå£°æ˜ æ¶æ„åè®®ï¼š ä½¿ç”¨SPDYä¸HTTP2ç­‰æ–°åè®® åç«¯æ•°æ®æ¸²æŸ“ ä½¿ç”¨NativeViewä»£æ›¿ä¼ ç»ŸDOM å‰ç«¯ç”¨æˆ·æ•°æ®åˆ†æ ç”¨æˆ·è®¿é—®ç»Ÿè®¡ PV UV IPé…åˆå…¶ä»–æ‰‹æ®µ VV:å¯¹ç”¨æˆ·è®¿é—®ç½‘ç«™å¤šæ¬¡è·³è½¬ç»Ÿè®¡ä¸ºä¸€æ¬¡VV IP ç”¨æˆ·è¡Œä¸ºåˆ†æ é¡µé¢ç‚¹å‡»é‡ é¡µé¢æŸä¸ªåŒºåŸŸç‚¹å‡»é‡ ç”¨æˆ·ç‚¹å‡»æµ åœ¨ç”¨æˆ·ä¸€æ¬¡VVè®°å½•ç”¨æˆ·çš„ç‚¹å‡»è¡Œä¸º ç”¨æˆ·è®¿é—®è·¯å¾„ ç”¨æˆ·ç‚¹å‡»çƒ­åŠ›å›¾ ç”¨æˆ·è½¬åŒ–ç‡ï¼šè®¿é—®ç”¨æˆ·ä¸æ³¨å†Œç”¨æˆ·ä¹‹æ¯” å¯¼æµè½¬åŒ–ç‡ï¼šåŸé¡µé¢ä¸å¯¼æµé¡µé¢ä¹‹æ¯” è®¿é—®æ—¶é•¿ å‰ç«¯æ—¥å¿—ä¸ŠæŠ¥ æ€§èƒ½æ—¥å¿—ä¸ŠæŠ¥ é”™è¯¯æ—¥å¿—ä¸ŠæŠ¥ è·å–é”™è¯¯æ—¥å¿—æ–¹å¼ï¼š try catchï¼šæ— æ³•æ•è·è¯­æ³•é”™è¯¯ æ— æ³•æ•æ‰ä¸åŒä½œç”¨åŸŸ window.onerrorï¼šåŠŸèƒ½æ¯”try catchå…¨ ï¼Œä½†æ— æ³•å¤„ç†è·¨åŸŸæƒ…å†µ é”™è¯¯ä¿¡æ¯ä¸Šä¼ ï¼š å¦‚æœè®¿é—®é‡å¤§ æ³¨æ„æŒ‰ä¸€å®šæ¡ä»¶ä¸Šä¼  é”™è¯¯æ’æŸ¥ï¼š å¯¹é”™è¯¯å½’ç±» æ³¨æ„ç‰ˆæœ¬é—®é¢˜ å‰ç«¯è·¨æ ˆæŠ€æœ¯ åç«¯ï¼šnode webæ¡†æ¶ï¼škoaï¼Œexpress åç«¯æ•°æ®æ¸²æŸ“ å‰åç«¯åŒæ„ åŸºäºæ¨¡æ¿ï¼šä¸åŒçš„è¯·æ±‚æ¸²æŸ“ä¸åŒçš„æ¨¡æ¿ åŸºäºMVVMï¼šåœ¨æœåŠ¡ç«¯å¯¹MVVMæ¨¡æ¿è¯­æ³•ç›´æ¥æ¸²æŸ“ åŸºäºè™šæ‹ŸDOM è·¨ç»ˆç«¯ å‰ç«¯ä¸ºä¸»:ç›´æ¥å°†å‰ç«¯é¡µé¢æ‰“åŒ…è¿›å®‰è£…åŒ… ä¸»è¦æ‰§è¡Œè¿™äº›é¡µé¢ Nativeå’ŒWebç»“åˆï¼šåˆ†åˆ«å®ç°è‡ªå·±æœ€æ“…é•¿çš„ è‡ªå·±è®¾è®¡äº¤äº’åè®® Webèµ„æºç¦»çº¿å’Œæ›´æ–° serviceWorker localStorage åŸºäºå¢é‡æ–‡ä»¶ åŸºäºæ–‡ä»¶ä»£ç å— Nativeä¸Webèµ„æºç¦»çº¿å’Œæ›´æ–° æ ¹æ®æ—¶æœºå‘æœåŠ¡ç«¯ä¸»åŠ¨æ‹‰å– å¦åˆ™ä½¿ç”¨æœ¬åœ°ç¼“å­˜ èµ„æºè¦†ç›–ç‡ç»Ÿè®¡ æ—¥å¿—ä¸ŠæŠ¥ å…¶ä»– å‰ç«¯ä»£ç ç¼–è¯‘ä¸ºNative æ¡Œé¢åº”ç”¨ è¶‹åŠ¿ æ ‡å‡†æŠ€æœ¯è¶‹å‘äºç¨³å®š å·¥å…·ä»ä¼šæŒç»­ä¸æ–­å‘å±• æµè§ˆå™¨å¹³å°æ–°ç‰¹æ€§æœªæ¥åº”ç”¨çš„å¯èƒ½ å‰ç«¯å¼€å‘ç”Ÿæ€ æ•ˆç‡ ç»´æŠ¤æˆæœ¬ æ€§èƒ½ æ‰©å±•æ€§ å‰ç«¯æ–°é¢†åŸŸ ç‰©è”ç½‘ AI VR MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-14 01:27:27 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/å‰åç«¯åˆ†ç¦».html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/å‰åç«¯åˆ†ç¦».html","title":"å‰åç«¯åˆ†ç¦»","keywords":"","body":"å‰åç«¯åˆ†ç¦» ä¼ ç»Ÿå¼€å‘ éœ€æ±‚-UI-å‰ç«¯-åç«¯-é›†æˆ-æµ‹è¯•-äº¤ä»˜ åˆ†ç¦» éœ€æ±‚-UI-å‰åç«¯çº¦å®šæ¥å£å¹¶è¡Œå¼€å‘-é›†æˆ-æµ‹è¯•-äº¤ä»˜ æ³¨æ„äº‹é¡¹ å‰åç«¯é¡¹ç›®å¿…é¡»ç‹¬ç«‹å¼€å‘ ç‹¬ç«‹éƒ¨ç½² ç‹¬ç«‹å­˜æ”¾ é€šè¿‡æ¥å£è¿›è¡Œåˆä½œ Mock.js mock js æ•°æ® å…¥é—¨æ¡ˆä¾‹ let Mock = require('mockjs') let data = Mock.mock( { 'list|5':[{id:1,name:'kd'}] } ); è¯­æ³•è§„åˆ™ æ–‡æ¡£ Easy-Mock ä¸€ä¸ªååŒåœ¨çº¿æ•°æ®æ¨¡æ‹ŸæœåŠ¡ Easy-Mock MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-01 07:35:27 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/å‰ç«¯å·¥ç¨‹åŒ–.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/å‰ç«¯å·¥ç¨‹åŒ–.html","title":"å‰ç«¯å·¥ç¨‹åŒ–","keywords":"","body":"å‰ç«¯å·¥ç¨‹åŒ– å‰ç«¯é›†æˆè§£å†³æ–¹æ¡ˆ build toolï¼šè‡ªåŠ¨åŒ– è§„èŒƒ ç¼–ç è§„èŒƒ æ–‡ä»¶å‘½å ç¼–ç è§„èŒƒ:eslint å¼€å‘æµç¨‹ æ•æ·å¼€å‘ ä»£ç å®¡æŸ¥ æ¥å£è§„èŒƒ å•å…ƒæµ‹è¯• ç‰ˆæœ¬æ§åˆ¶å·¥å…· åˆ†æ”¯ç®¡ç† commitè§„èŒƒ æ„å»ºå·¥å…· grunt webpack gulp æ¨¡å—åŒ–/ç»„ä»¶åŒ– JSæ¨¡å—åŒ–ï¼šAMD CMD CSSæ¨¡å—ï¼šless sass æ¶æ„ åˆ€è€•ç«ç§ -> SPA æ¶æ„ç»„ç»‡ ç›®å½•ç»„ç»‡ é¡µé¢ç»„ç»‡ æ¶ˆé™¤é‡å¤ä»£ç  å…¶ä»– è®¾è®¡æ¨¡å¼ æ€§èƒ½ å…¼å®¹ äº§å“è®¾è®¡ä¸è¿­ä»£ å·¥ç¨‹å¸ˆæ‹¥æœ‰ä¸€å®šçš„æŠ€æœ¯èƒŒæ™¯ å¯ä»¥æ‹¥æœ‰æ›´å…¨çš„è§†è§’å®¡è§†äº§å“ å‘å¸ƒ ä¸€ä¸ªå®Œæ•´çš„å‘å¸ƒæµç¨‹åº”è¯¥æ˜¯ä»€ä¹ˆï¼Ÿ è‡ªåŠ¨åŒ– æ‰‹å·¥ æ•°æ®ç»Ÿè®¡ä¸åˆ†æ ä½¿ç”¨ç¬¬ä¸‰æ–¹ è¾¹ç•Œåˆ’åˆ†/æ¨¡å—åˆ’åˆ† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-01 07:35:27 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/æ¶æ„æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/æ¶æ„æ¨¡å¼.html","title":"æ¶æ„æ¨¡å¼","keywords":"","body":"æ¶æ„æ¨¡å¼ ä¼ä¸šåº”ç”¨æ¶æ„æ¨¡å¼ æ¶æ„ æ¶æ„å¸ˆæœ€é«˜å±‚æ¬¡çš„ç³»ç»Ÿåˆ†è§£ï¼Œä¸”æ˜¯ç»„æˆç³»ç»Ÿçš„ä¸æ˜“æ”¹å˜çš„ç»„ä»¶ ä¼ä¸šåº”ç”¨ ä¸€èˆ¬æ¥è¯´ï¼Œä¼ä¸šåº”ç”¨æŒ‡çš„æ˜¯å¤§å‹ç³»ç»Ÿ ç‰¹ç‚¹ æŒä¹…åŒ–æ•°æ® å¤§é‡æ•°æ® é«˜å¹¶å‘ å¤§é‡æ•°æ®å±•ç¤ºæ“ä½œé¡µé¢ å¤šä¸ªç³»ç»Ÿé›†æˆ ä¸šåŠ¡é€»è¾‘å¤æ‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/æ¦‚è§ˆ.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/æ¦‚è§ˆ.html","title":"æ¦‚è§ˆ","keywords":"","body":"è¡¨è¿° åˆ†å±‚ ä¸Šå±‚ä½¿ç”¨ä¸‹å±‚å®šä¹‰çš„å„ç§æœåŠ¡ï¼Œä¸‹å±‚å¯¹ä¸Šå±‚éšè—ä¸‹ä¸‹å±‚çš„ç»†èŠ‚ å±‚æ¬¡å¹¶ä¸èƒ½å°è£…æ‰€æœ‰ä¸œè¥¿ï¼Œæœ‰æ—¶ä¼šå¸¦æ¥çº§è”ä¿®æ”¹ï¼Œè¿‡å¤šçš„å±‚æ¬¡ä¹Ÿä¼šå½±å“æ€§èƒ½ ä¸‰ä¸ªåŸºæœ¬å±‚æ¬¡ è¡¨ç°å±‚ é¢†åŸŸå±‚ æ•°æ®æºå±‚ ç»„ç»‡é¢†åŸŸé€»è¾‘ ç¼–å†™ä¸šåŠ¡é€»è¾‘ äº‹åŠ¡è„šæœ¬ ä¼˜ç‚¹ æ˜“äºç†è§£ èƒ½ä¸ç®€å•æ•°æ®æºå±‚å¾ˆå¥½åˆä½œ äº‹åŠ¡è¾¹ç•Œå®¹æ˜“åˆ’åˆ† ç¼ºç‚¹ ä¸šåŠ¡å¤æ‚å¯¼è‡´ä»£ç å†—ä½™å¤æ‚ é¢†åŸŸæ¨¡å‹ ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹æ³• å¼€é”€æ¥æºäºä½¿ç”¨å¤æ‚ä»¥åŠæ•°æ®æºçš„å¤æ‚ï¼Œè¿˜è¦é¢å¯¹å°†é¢†åŸŸæ¨¡å‹æ˜ å°„åˆ°æ•°æ®åº“çš„é—®é¢˜ è¡¨æ¨¡å— å›´ç»•è¡¨ç»„ç»‡é¢†åŸŸé€»è¾‘ æœåŠ¡å±‚ å°†é¢†åŸŸå±‚å†æ‹†ä¸ºä¸¤å±‚ï¼ŒæœåŠ¡å±‚æä¾›ç®€å•çš„APIæ¥å£ æ˜ å°„åˆ°å…³ç³»æ•°æ®åº“ æ¶æ„æ¨¡å¼ æ´»åŠ¨è®°å½• ç±»ä¼¼äºJAVA Bean æ•°æ®æ˜ å°„å™¨ ORM è¡Œä¸º å¦‚ä½•ä¿è¯å¯¹é¢†åŸŸå¯¹è±¡çš„ä¿®æ”¹èƒ½åŠæ—¶å­˜å‚¨åˆ°æ•°æ®åº“ æ ‡å¿—æ˜ å°„ ä¿è¯ç›¸åŒçš„å¯¹è±¡åªè¢«åŠ è½½ä¸€æ¬¡ å»¶è¿ŸåŠ è½½ è¯»å–æ•°æ® ç»“æ„æ˜ å°„æ¨¡å¼ å…³ç³»çš„æ˜ å°„ å¤–é”®æ˜ å°„ä¸€å¯¹å¤š å…³è”è¡¨æ˜ å°„å¤šå¯¹å¤š ç»§æ‰¿ å•è¡¨ç»§æ‰¿ å¤šä¸ªå±‚æ¬¡å…±äº«åŒä¸€å¼ è¡¨ å…·ä½“è¡¨ç»§æ‰¿ ä¸€ä¸ªå±‚æ¬¡ä¸€å¼ è¡¨ ç±»è¡¨ç»§æ‰¿ ä¸€ä¸ªç±»ä¸€å¼ è¡¨ å»ºç«‹æ˜ å°„ å°†æ•°æ®åº“è®¾è®¡çœ‹åšä¸€ç§æŒä¹…åŒ–å¯¹è±¡æ•°æ®çš„æ–¹æ³• åŒå‘æ˜ å°„ å°†å¯¹è±¡-æ•°æ®åº“ä»¥åŠæ•°æ®åº“-å¯¹è±¡ä¸¤ç§æ˜ å°„åˆ†å¼€è®¾è®¡ å…ƒæ•°æ® é€šè¿‡å…ƒæ•°æ®çš„æè¿°è‡ªåŠ¨ç”Ÿæˆä»£ç  æ•°æ®åº“è¿æ¥ ä½¿ç”¨è¿æ¥æ± ç®¡ç†è¿æ¥ å°†è¿æ¥ä¸äº‹åŠ¡ç»‘å®šåœ¨ä¸€èµ· webè¡¨ç°å±‚ æ¨¡æ¿è§†å›¾ jsp php è½¬æ¢è§†å›¾ json ä¸¤é˜¶è§†å›¾ ç”Ÿæˆä¸€ä¸ªé€»è¾‘è§†å›¾ï¼Œå†å°†é€»è¾‘è§†å›¾å¯¹åº”åˆ°html å¹¶å‘ æœ¬è´¨é—®é¢˜ æ›´æ–°ä¸¢å¤± ä¸ä¸€è‡´è¯» æ‰§è¡Œè¯­å¢ƒ ä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªä¼šè¯ï¼Œå¯ä»¥ä½¿è¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥æ˜¯çº¿ç¨‹ï¼Œä½†åˆ›å»ºè¿›ç¨‹è€—è´¹èµ„æºï¼Œä½¿ç”¨çº¿ç¨‹åˆä¼šå¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ æ•°æ®åº“ä¸­çš„è¯­å¢ƒæ˜¯äº‹åŠ¡ æ–¹æ¡ˆ éš”ç¦»ï¼šåˆ’åˆ†æ•°æ®ï¼Œä¸€ç‰‡æ•°æ®åªèƒ½è¢«ä¸€ä¸ªå·¥ä½œå•å…ƒè®¿é—® ä¸å˜ï¼šä¸å˜çš„æ•°æ®æ˜¯çº¿ç¨‹å®‰å…¨çš„ ä¹è§‚é”ä¸æ‚²è§‚é” ä½¿ç”¨è¯»å†™æ§åˆ¶ æ­»é” äº‹åŠ¡ äº‹åŠ¡æ˜¯ä¸€ä¸ªåˆè¾¹ç•Œçš„å·¥ä½œåºåˆ—ï¼Œå¼€å§‹å’Œç»“æŸéƒ½æœ‰æ˜ç¡®å®šä¹‰ äº‹åŠ¡çš„ç‰¹æ€§ äº‹åŠ¡èµ„æº æ¨ªè·¨å¤šä¸ªè¯·æ±‚çš„è¢«ç§°ä¸ºé•¿äº‹åŠ¡ é”å‡çº§ï¼šä¸€ä¸ªäº‹åŠ¡é”ä½äº†è®¸å¤šè¡Œï¼Œåˆ™ç›´æ¥å‡çº§åˆ°å¯¹æ•´ä¸ªè¡¨çš„é” å‡å°‘äº‹åŠ¡éš”ç¦»æé«˜çµæ´»æ€§ å¯ä¸²è¡ŒåŒ–ï¼šå½“å¹¶å‘æ‰§è¡Œçš„ç»“æœä¸ä»¥æŸç§é¡ºåºä¸€è‡´æ—¶ ç³»ç»Ÿäº‹åŠ¡ä¸ä¸šåŠ¡äº‹åŠ¡ ç¦»çº¿å¹¶å‘æ§åˆ¶ åªæœ‰åœ¨æ•°æ®æäº¤å¤±è´¥çš„æ—¶å€™æ‰èƒ½å‘ç° åº”ç”¨æœåŠ¡å™¨å¹¶å‘ ä½¿ç”¨æ¯ä¼šè¯ä¸€ä¸ªè¿›ç¨‹çš„æ–¹å¼æ¥é¿å…å¤„ç†çº¿ç¨‹çš„éº»çƒ¦ ä¼šè¯çŠ¶æ€ æ— çŠ¶æ€æœåŠ¡å™¨ å­˜å‚¨æ–¹æ³• å®¢æˆ·ç«¯å­˜å‚¨ cookie æ³¨æ„ä¼šè¯æ•°æ®å¤§å°ä»¥åŠæ•°æ®å®‰å…¨æ€§å®Œæ•´æ€§ æœåŠ¡å™¨å­˜å‚¨ session æ•°æ®åº“å­˜å‚¨ å°†ä¼šè¯ä¿¡æ¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ ä¼šè¯è¿ç§» ä¼šè¯å¯ä»¥åœ¨æœåŠ¡å™¨é›†ç¾¤ä¹‹é—´è½¬ç§» åˆ†å¸ƒ è¿œç¨‹æ¥å£ä¸æœ¬åœ°æ¥å£ è¿›ç¨‹å†…çš„è¿‡ç¨‹è°ƒç”¨éå¸¸å¿« ä½•æ—¶å¿…é¡»ä½¿ç”¨åˆ†å¸ƒå¯¹è±¡ å®¢æˆ·æœºä¸æœåŠ¡å™¨ä¹‹é—´ æœåŠ¡å™¨ä¸æ•°æ®åº“ä¹‹é—´ webç³»ç»Ÿä¹‹é—´ ä½¿ç”¨è½¯ä»¶åŒ… åˆ†å¸ƒè¾¹ç•Œ æ³¨æ„è¿œç¨‹è°ƒç”¨çš„è¾¹ç•Œ åˆ†å¸ƒæ¥å£ åŸºäºXMLä¸HTTP å¦‚æœç³»ç»ŸåŸºäºç›¸åŒçš„å¹³å°æ„å»ºï¼Œæœ€å¥½ä½¿ç”¨ç³»ç»Ÿè‡ªå·±çš„è¿œç¨‹è°ƒç”¨æœºåˆ¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-15 06:59:00 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/é¢†åŸŸé€»è¾‘æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/é¢†åŸŸé€»è¾‘æ¨¡å¼.html","title":"é¢†åŸŸé€»è¾‘æ¨¡å¼","keywords":"","body":"é¢†åŸŸé€»è¾‘æ¨¡å¼ äº‹åŠ¡è„šæœ¬ ä½¿ç”¨è¿‡ç¨‹æ¥é˜»æ­¢ä¸šåŠ¡é€»è¾‘ï¼Œæ¯ä¸ªè¿‡ç¨‹å¤„ç†æ¥è‡ªè¡¨ç°å±‚çš„å•ä¸ªè¯·æ±‚ äº‹åŠ¡è„šæœ¬çš„ç»„ç»‡ å°†åŒä¸€ä¸»é¢˜çš„äº‹åŠ¡è„šæœ¬æ”¾åˆ°åŒä¸€ä¸ªç±»å½“ä¸­ ä¸€ä¸ªè„šæœ¬å¯¹åº”ä¸€ä¸ªç±» è®¸å¤šé—®é¢˜æœ¬èº«æ˜¯ç®€å•çš„ï¼Œä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆå¯ä»¥åŠ å¿«å¼€å‘é€Ÿåº¦ é¢†åŸŸæ¨¡å‹ åˆå¹¶äº†è¡Œä¸ºå’Œæ•°æ® ç»„ç»‡ å®ä½“bean ORM å½“ä½¿ç”¨é¢†åŸŸæ¨¡å‹æ—¶ï¼Œä½¿ç”¨æ•°æ®æ˜ å°„å™¨æœ‰åŠ©äºä¿æŒé¢†åŸŸæ¨¡å‹ä¸æ•°æ®åº“çš„ç‹¬ç«‹æ€§ é¢†åŸŸæ¨¡å‹çš„è¦ç‚¹åœ¨äºéšè—æ•°æ®åº“çš„å­˜åœ¨ï¼Œä½¿å…¶å¯¹äºä¸Šå±‚ä¸å¯è§ è¡¨æ¨¡å— å¤„ç†æ•°æ®åº“ä¸­è¡¨æˆ–è§†å›¾ä¸­æ‰€æœ‰è¡Œçš„ä¸šåŠ¡é€»è¾‘çš„ä¸€ä¸ªå°è£… ç»„ç»‡ è¡¨æ¨¡å—ä»¥ä¸€ä¸ªç±»å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€ä¸ªè¡¨æ¥ç»„ç»‡é¢†åŸŸé€»è¾‘ï¼Œä»…ä½¿ç”¨ä¸€ä¸ªå•ä¸€å®ä¾‹ è¡¨æ¨¡å—å¾ˆå¤§ç¨‹åº¦ä¾èµ–äºä»¥è¡¨æ–¹å¼ç»„ç»‡çš„æ•°æ® æœåŠ¡å±‚ é€šè¿‡æœåŠ¡å±‚æä¾›ä¸€ç»„å¯ç”¨çš„æ“ä½œé›†åˆç»™å¤–éƒ¨ä½¿ç”¨ æœåŠ¡å±‚å®šä¹‰äº†åº”ç”¨ç¨‹åºçš„è¾¹ç•Œå’Œä»æ¥å£å®¢æˆ·å±‚è§’åº¦æ‰€çœ‹åˆ°çš„çš„ç³»ç»Ÿã€ ä¸šåŠ¡é€»è¾‘çš„ç§ç±» é¢†åŸŸé€»è¾‘ åº”ç”¨é€»è¾‘ å®ç° é¢†åŸŸå¤–è§‚ åšçš„äº‹ä¸å¤šï¼Œå±äºç˜¦å®¢æˆ·ç«¯ æ“ä½œè„šæœ¬ æ‹¥æœ‰è¾ƒå¤šçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯¹é¢†åŸŸå±‚è¿›è¡Œæ“ä½œ æœåŠ¡è¯†åˆ«ä¸æ“ä½œ æœåŠ¡å±‚æ“ä½œçš„èµ·ç‚¹æ˜¯ç”¨ä¾‹æ¨¡å‹ä»¥åŠç”¨æˆ·ç•Œé¢ å¦‚æœç³»ç»Ÿåªæœ‰ä¸€ç§ç”¨æˆ·ï¼Œé‚£å¯èƒ½ä¸éœ€è¦ä½¿ç”¨æœåŠ¡å±‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-15 06:59:00 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/æ•°æ®æºæ¶æ„æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/æ•°æ®æºæ¶æ„æ¨¡å¼.html","title":"æ•°æ®æºæ¶æ„æ¨¡å¼","keywords":"","body":"æ•°æ®æºæ¶æ„æ¨¡å¼ è¡¨æ•°æ®å…¥å£ ä¸€ä¸ªå®ä¾‹ä»£è¡¨å¤„ç†ä¸€å¼ è¡¨ä¸­æ‰€æœ‰çš„è¡Œ é€šå¸¸æ˜¯æ— çŠ¶æ€çš„ interface Person { RecordSet find(int id); RecordSet findWithXXX(...); void update(...); } è¡¨æ•°æ®å…¥å£å¯èƒ½æ˜¯æœ€ç®€å•çš„æ•°æ®åº“æ¥å£æ¨¡å¼ è¡Œæ•°æ®å…¥å£ ä¸€ä¸ªå®ä¾‹ä»£è¡¨ä¸€æ¡è®°å½• class Person { name,age; insert(); update(); } interface PersonFinder { Person find(...); } æ´»åŠ¨è®°å½• ä¸€ä¸ªåŒ…è£…è¡¨æˆ–è§†å›¾ä¸­æŸä¸€è¡Œçš„å¯¹è±¡ï¼Œå°è£…äº†å¯¹æ•°æ®åº“çš„æ“ä½œè®¿é—® class Person { name,age; insert(); delete(); bool isAudlt(); } æ´»åŠ¨è®°å½•çš„æœ¬è´¨æ˜¯ä¸€ä¸ªé¢†åŸŸæ¨¡å‹ æ´»åŠ¨è®°å½•çš„æ•°æ®ç»“æ„åº”è¯¥ä¸æ•°æ®åº“å®Œå…¨å»åˆ æ´»åŠ¨è®°å½•ä¸è¡Œæ•°æ®å…¥å£çš„åŒºåˆ«åœ¨äºè¡Œæ•°æ®å…¥å£åªæœ‰æ•°æ®è®¿é—®ï¼ŒäºŒæ´»åŠ¨è®°å½•å°è£…äº†ä¸€äº›é€»è¾‘ ä½¿ç”¨ æ´»åŠ¨è®°å½•é€‚ç”¨äºä¸å¤ªå¤æ‚çš„é€»è¾‘ æ´»åŠ¨è®°å½•ä½¿å¯¹è±¡ä¸æ•°æ®åº“çš„è€¦åˆè¿‡ç´§ æ•°æ®æ˜ å°„å™¨ åœ¨å¯¹è±¡å’Œæ•°æ®åº“ä¹‹é—´çš„ä¸€ä¸ªä¸­é—´å±‚ æ•°æ®æ˜ å°„å™¨è‡ªèº«ä¸è¢«é¢†åŸŸå±‚æ‰€å¯Ÿè§‰ interface PersonMapper { Person select(...); update(Person); } å½“éœ€è¦åˆ†ç¦»å¯¹è±¡ä¸æ•°æ®åº“æ—¶ï¼Œä½¿ç”¨æ•°æ®æ˜ å°„å™¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-16 08:39:22 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/å¯¹è±¡å…³ç³»è¡Œä¸ºæ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/å¯¹è±¡å…³ç³»è¡Œä¸ºæ¨¡å¼.html","title":"å¯¹è±¡å…³ç³»è¡Œä¸ºæ¨¡å¼","keywords":"","body":"å¯¹è±¡-å…³ç³»è¡Œä¸ºæ¨¡å¼ å·¥ä½œå•å…ƒ ç»´æŠ¤å—å½±å“çš„å¯¹è±¡åˆ—è¡¨ï¼Œå¹¶åè°ƒå¯¹è±¡çš„ä¿®æ”¹ä»¥åŠè§£å†³å¹¶å‘é—®é¢˜ interface WorkUnit { new(Object),Dirty(Object),Clean(Object) } å·¥ä½œå•å…ƒä¼šå°†è¢«ä¿®æ”¹çš„å¯¹è±¡å˜åŒ–è®°å½•ä¸‹æ¥ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“ å·¥ä½œå•å…ƒè§£å†³çš„åŸºæœ¬é—®é¢˜æ˜¯è®°å½•å„ç§æ“ä½œè¿‡çš„å¯¹è±¡ è°ƒç”¨è€…æ³¨å†Œï¼šä¿®æ”¹ä¹‹åè°ƒç”¨è€…æ‰‹åŠ¨æäº¤æ¥ä¿å­˜å¯¹è±¡ å¯¹è±¡æ³¨å†Œï¼šå°†æ³¨å†Œæ–¹æ³•ç½®äºå¯¹è±¡ä¸­ å·¥ä½œå•å…ƒæ§åˆ¶å™¨ï¼šæŸ¥è¯¢æ—¶è¿”å›ä¸€ä¸ªæ‹·è´å¯¹è±¡ï¼Œæäº¤æ—¶æ¯”è¾ƒæ‹·è´å¯¹è±¡ä¸åŸæœ‰çš„å¯¹è±¡ï¼Œè¿›è¡Œæœ‰é€‰æ‹©çš„æ›´æ–° å·¥ä½œå•å…ƒå¯ä»¥ä¿è¯æ›´æ–°é¡ºåºï¼Œå¹¶ä¸”æŒ‰ç…§ç›¸åŒçš„æ•°æ®æ›´æ–°è¡¨å¯ä»¥å¾ˆå°‘åœ°å‡å°‘æ­»é” æ ‡è¯†æ˜ å°„ é€šè¿‡ç»™æ¯ä¸ªå¯¹è±¡æŒ‡å®šä¸€ä¸ªæ ‡è¯†ï¼Œé¿å…é‡å¤åŠ è½½ï¼Œå½“éœ€è¦å¯¹è±¡æ—¶ï¼Œé€šè¿‡æ˜ å°„æ¥æ‰¾åˆ°å¯¹è±¡ æ— è®ºéœ€è¦ä¸€ä¸ªä»€ä¹ˆå¯¹è±¡ï¼Œå…ˆæ£€æŸ¥æ ‡è¯†æ˜ å°„ï¼Œçœ‹éœ€è¦çš„å¯¹è±¡æ˜¯å¦åœ¨å…¶ä¸­ é”®çš„é€‰æ‹©ï¼šæ•°æ®åº“ä¸»é”® æ˜¾å¼çš„æ ‡è¯†æ˜ å°„å¯ä»¥åˆ©ç”¨ç¼–è¯‘æ—¶æ£€æŸ¥çš„ä¼˜ç‚¹ æ ‡è¯†æ˜ å°„ä¸ä¼šè¯ç›¸ç»‘å®š ä½¿ç”¨ ç®¡ç†å¯¹è±¡ åšç¼“å­˜ å»¶è¿ŸåŠ è½½ ä¸€ä¸ªä¸åŒ…å«æ‰€éœ€è¦çš„æ‰€æœ‰æ•°æ®ä½†çŸ¥é“å¦‚ä½•è·å–è¿™äº›æ•°æ®çš„å¯¹è±¡ å»¶è¿Ÿåˆå§‹åŒ–ï¼šæ¯æ¬¡è·å–éƒ½åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœç©ºå°±å»è·å–æ•°æ® è™šä»£ç†ï¼šä¸€ä¸ªè·å–æ•°æ®çš„ä»£ç†å¯¹è±¡ï¼Œç±»å¯ä»¥æŠŠå®ƒå½“åšçœŸå®çš„å¯¹è±¡ å€¼ä¿æŒå™¨ï¼šåŒ…è£…æŸä¸ªå¯¹è±¡çš„å¯¹è±¡ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯ä¸å¦‚è™šä»£ç†ï¼Œç±»å¿…é¡»çŸ¥é“è¿™ä¸ªä¿æŒå™¨çš„å­˜åœ¨ é‡å½±ï¼šé¦–æ¬¡åŠ è½½åªåŠ è½½IDï¼Œå½“éœ€è¦æŸä¸ªåŸŸæ—¶ï¼Œåˆ™ä¼šåŠ è½½å…¥å…¨éƒ¨çš„åŸŸ ä½¿ç”¨çš„æœ€ä½³æ—¶æœºï¼šéœ€è¦é¢å¤–çš„è°ƒç”¨ï¼Œå¹¶ä¸”å½“ä¸»å¯¹è±¡è¢«ä½¿ç”¨æ—¶ï¼Œé¢å¤–åŠ è½½çš„æ•°æ®æ²¡è¢«ä½¿ç”¨çš„æ—¶å€™ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-17 08:14:05 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/å¯¹è±¡å…³ç³»ç»“æ„æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/å¯¹è±¡å…³ç³»ç»“æ„æ¨¡å¼.html","title":"å¯¹è±¡å…³ç³»ç»“æ„æ¨¡å¼","keywords":"","body":"å¯¹è±¡-å…³ç³»ç»“æ„æ¨¡å¼ æ ‡è¯†åŸŸ åœ¨å¯¹è±¡ä¸­ä¿å­˜çš„ä¸€ä¸ªæ•°æ®åº“æ ‡è¯†åŸŸ é”®çš„é€‰æ‹© æœ‰æ„ä¹‰é”®ä¸æ— æ„ä¹‰é”® å±é™©åœ¨äºæœ‰æ„ä¹‰é”®ç”±äººæŒ‡å®šï¼Œå¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ ç®€å•é”®ä¸ç»„åˆé”® ç»„åˆé”®çš„å¥½å¤„åœ¨äºå½“å¤„äºå¤šä¸ªè¡¨ç›¸å…³çš„ä¸Šä¸‹æ–‡æ—¶ï¼Œæ›´å®¹æ˜“ä½¿ç”¨ è¡¨å”¯ä¸€é”®ä¸æ•°æ®åº“å”¯ä¸€é”® é”®çš„è¡¨ç¤º å¯¹äºç»„åˆé”®ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯å»ºç«‹ä¸€ä¸ªé”®ç±»ï¼Œæ¥å­˜æ”¾åŸºæœ¬ç±»å‹é”®å€¼ é”®çš„ç”Ÿå­˜ è‡ªåŠ¨ç”ŸæˆåŸŸï¼šä¸æ–­é€’å¢ æ•°æ®åº“è®¡æ•°å™¨ï¼šæ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†ï¼Œå¹¶éæ‰€æœ‰æ•°æ®åº“éƒ½æ”¯æŒ GUIDï¼šä¿è¯äº†åŒä¸€æ—¶ç©ºçš„æ‰€æœ‰æœºå™¨ç”Ÿæˆçš„GUIDéƒ½æ˜¯ä¸å”¯ä¸€çš„ï¼Œä½†æ˜¯ç”Ÿæˆçš„ä¸²æ¯”è¾ƒå¤§ é”®è¡¨ï¼Œé€šè¿‡åœ¨æ•°æ®åº“ä¿å­˜ä¸‹ä¸€ä¸ªæœ‰æ•ˆå€¼æ¥ç”Ÿæˆé”® å¤–é”®æ˜ å°„ æŠŠå¯¹è±¡çš„ä¹‹é—´çš„å…³è”æ˜ å°„åˆ°è¡¨ä¹‹é—´çš„å¤–é”®å…³è” å…³è”è¡¨æ˜ å°„ å°†å¤šå¯¹å¤šçš„å¯¹è±¡å…³è”æ˜ å°„ä¸ºæ•°æ®åº“ä¸­çš„å…³è”è¡¨ ä¾èµ–æ˜ å°„ ä¸€ä¸ªç±»ä¸ºä¾èµ–å®ƒçš„ç±»æ‰§è¡Œæ•°æ®åº“æ˜ å°„ åµŒå…¥å€¼ æŠŠå¯¹è±¡æ˜ å°„æˆå¦ä¸€ä¸ªå¯¹è±¡è¡¨çš„ä¸€éƒ¨åˆ† åºåˆ—åŒ–LOB å°†å°å¯¹è±¡ä¹‹é—´çš„å…³ç³»ä¿å­˜åˆ°å¤§å¯¹è±¡ä¸­ï¼Œå¹¶å°†å¤§å¯¹è±¡ä¿å­˜åºåˆ—åŒ–åˆ°æ•°æ®åº“ å•è¡¨ç»§æ‰¿ å°†ç±»çš„æ•´ä¸ªç»§æ‰¿å±‚æ¬¡è¡¨ç¤ºä¸ºä¸€å¼ è¡¨ åŠ è½½æ•°æ®çš„æ—¶å€™éœ€è¦å†³å®šç”¨å“ªä¸ªç±»æ¥å®ä¾‹åŒ–è¿™äº›æ•°æ® ç±»å ä»£ç åŸŸ ç±»è¡¨ç»§æ‰¿ ä¸€ä¸ªç±»ä¸€å¼ è¡¨ å°†æ•°æ®æ˜ å°„æˆå¯¹è±¡éœ€è¦æ¯”è¾ƒå¤æ‚çš„æ–¹æ¡ˆ å…·ä½“è¡¨ç»§æ‰¿ ä¸€ä¸ªå±‚æ¬¡ä¸€å¼ è¡¨ ç»§æ‰¿æ˜ å°„å™¨ ä¸€ç§å¯ä»¥å¤„ç†ç»§æ‰¿å±‚æ¬¡çš„æ•°æ®åº“æ˜ å°„å™¨ å­ç±»è°ƒç”¨çˆ¶ç±»æ˜ å°„å™¨åŠ è½½æ•°æ®åï¼Œå†åŠ è½½å­ç±»çš„ç‰¹æœ‰æ•°æ® MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-18 07:08:49 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/å¯¹è±¡å…³ç³»å…ƒæ•°æ®æ˜ å°„æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/å¯¹è±¡å…³ç³»å…ƒæ•°æ®æ˜ å°„æ¨¡å¼.html","title":"å¯¹è±¡å…³ç³»å…ƒæ•°æ®æ˜ å°„æ¨¡å¼","keywords":"","body":"å¯¹è±¡-å…³ç³»å…ƒæ•°æ®æ˜ å°„æ¨¡å¼ å…ƒæ•°æ®æ˜ å°„ æŠŠå…³ç³»å¯¹è±¡æ˜ å°„çš„ä¿¡æ¯ä¿å­˜åˆ°å…ƒæ•°æ®ä¸­(meta data) ä»£ç ç”Ÿæˆï¼šè¾“å…¥å…ƒæ•°æ®ï¼Œè¾“å‡ºå®ç°ç±»çš„æºä»£ç  åå°„ç¨‹åºï¼šè¯»å…¥å…ƒæ•°æ®åŠ¨æ€ç”Ÿæˆ æŸ¥è¯¢å¯¹è±¡ ä¸€ä¸ªæè¿°ä¸€æ¬¡æ•°æ®åº“æŸ¥è¯¢çš„å¯¹è±¡ è§£é‡Šå™¨æ¨¡å¼ spring data jpaä¸­çš„å¯¹è±¡æŸ¥è¯¢ä»¥åŠJPQL èµ„æºåº“(Repository) åè°ƒé¢†åŸŸå±‚ä¸æ•°æ®æºå±‚ï¼Œä½¿ç”¨ç±»ä¼¼é›†åˆçš„æ¥å£è®¿é—®é¢†åŸŸå¯¹è±¡ èµ„æºåº“æä¾›äº†ä¸€ä¸ªæ›´ç¬¦åˆé¢å‘å¯¹è±¡è§‚ç‚¹çš„æŒä¹…å±‚å®ç° MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-19 06:05:16 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/webè¡¨ç°æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/webè¡¨ç°æ¨¡å¼.html","title":"webè¡¨ç°æ¨¡å¼","keywords":"","body":"webè¡¨ç°æ¨¡å¼ MVC æŠŠç”¨æˆ·ç•Œé¢çš„äº¤äº’æ‹†åˆ†åˆ°ä¸‰ä¸ªè§’è‰²é‡Œ æ¨¡å‹ï¼šè¡¨ç¤ºé¢†åŸŸä¿¡æ¯çš„å¯¹è±¡ è§†å›¾ï¼šæ¨¡å‹çš„æ˜¾å¼ æ§åˆ¶å™¨ï¼šåè°ƒæ¨¡å‹ä¸è§†å›¾ è¡¨ç°ä¸æ¨¡å‹å…³æ³¨ç‚¹ä¸åŒï¼Œè¡¨ç°ä¾§é‡äºå¯è§†åŒ–ç•Œé¢ï¼Œè€Œæ¨¡å‹ä¾§é‡äºä¸šåŠ¡é€»è¾‘ åŒæ ·çš„æ¨¡å‹å¯ä»¥æœ‰ä¸åŒçš„è¡¨ç° ä¸å¯è§å¯¹è±¡æ›´å®¹æ˜“æµ‹è¯• å½“ç³»ç»Ÿæœ‰äº†ä¸€äº›ä¸å¯è§çš„é€»è¾‘æ—¶ï¼Œå°±éœ€è¦æ³¨æ„å®ç°åˆ†ç¦» é¡µé¢æ§åˆ¶å™¨ ä¸ºç‰¹å®šé¡µé¢æˆ–åŠ¨ä½œå¤„ç†è¯·æ±‚çš„å¯¹è±¡ ä¸€ä¸ªæ§åˆ¶å™¨ç»‘å®šåœ¨ä¸€ä¸ªè¯·æ±‚ä¸Š åŸºæœ¬è´£ä»»ï¼š è§£ç æ•°æ® å¤„ç†æ•°æ® è°ƒç”¨è§†å›¾ servletä¸jsp å‰ç«¯æ§åˆ¶å™¨ å¤„ç†æ‰€æœ‰è¯·æ±‚çš„æ§åˆ¶å™¨ï¼Œæ‰§è¡Œä¸€äº›é€šç”¨çš„è¡Œä¸ºï¼Œå¹¶ä¸”è¡Œä¸ºå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹ æ¯æ¬¡è¯·æ±‚éƒ½ä¼šäº§ç”Ÿæ–°å¯¹è±¡ï¼Œå¯ä»¥é¿å…çº¿ç¨‹å®‰å…¨é—®é¢˜ æ¨¡æ¿è§†å›¾ é€šè¿‡åœ¨HTMLæ ‡è®°ä¸€äº›æ•°æ®ï¼Œæ¥è®©å¤„ç†å™¨æ¸²æŸ“ æ¨¡æ¿å¼•æ“ è¾…åŠ©å¯¹è±¡ æ¡ä»¶æ˜¾ç¤º è¿­ä»£æ˜¾ç¤º ç¼ºç‚¹ å¾ˆå®¹æ˜“è¢«æ’å…¥å¤æ‚çš„é€»è¾‘ éš¾ä»¥æµ‹è¯• è½¬æ¢è§†å›¾ è½¬æ¢è§†å›¾æŠŠé¢†åŸŸæ•°æ®ä½œä¸ºè¾“å…¥ï¼ŒHTMLä½œä¸ºè¾“å‡º ä¸æ¨¡æ¿è§†å›¾çš„åŒºåˆ«æ˜¯è½¬æ¢è§†å›¾ä¾§é‡äºæ•°æ®çš„è¾“å…¥ï¼Œè€Œæ¨¡æ¿è§†å›¾æ›´ä¾§é‡äºè¾“å‡º ä¸¤æ­¥è§†å›¾ ç±»ä¼¼äºç¼–è¯‘ï¼ŒæŠŠä¸šåŠ¡æ•°æ®è½¬æ¢ä¸ºä¸€ç§ä¸­é—´è¡¨ç¤ºï¼Œå†ä»ä¸­é—´è¡¨ç¤ºæ¸²æŸ“è§†å›¾ ä¸¤æ­¥è§†å›¾çš„ä»·å€¼æ¥æºäºåˆ†ç¦»äº†ç¬¬ä¸€é˜¶æ®µä¸ç¬¬äºŒé˜¶æ®µï¼Œä½¿æ”¹å˜æ›´åŠ å®¹æ˜“ åº”ç”¨æ§åˆ¶å™¨ ä¸€ä¸ªå¤„ç†ç¨‹åºæµçš„é›†ä¸­æ§åˆ¶ç‚¹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-20 07:38:34 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/åˆ†å¸ƒæ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/åˆ†å¸ƒæ¨¡å¼.html","title":"åˆ†å¸ƒæ¨¡å¼","keywords":"","body":"åˆ†å¸ƒæ¨¡å¼ è¿œç¨‹å¤–è§‚ å¯¹ç»†ç²’åº¦æ¥å£å¯¹è±¡è¿›è¡Œå°è£…ï¼Œæä¾›ç²—ç²’åº¦æ¥å£ï¼Œæé«˜ç½‘ç»œä¼ è¾“æ•ˆç‡ è¿›ç¨‹å†…è°ƒç”¨çš„å¼€é”€ç¬”è¿›ç¨‹å¤–çš„å° è¿œç¨‹å¤–è§‚çš„è®¾è®¡éƒ½æ˜¯åŸºäºç‰¹å®šå®¢æˆ·çš„éœ€è¦ æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆDTOï¼‰ ä¼ è¾“æ•°æ®çš„å¯¹è±¡ ä¸€èˆ¬éƒ½åªç”¨åœ¨è·¨è¿›ç¨‹çš„è°ƒç”¨å½“ä¸­ DTOä¸­çš„åŸŸåº”è¯¥éƒ½æ˜¯éå¸¸åŸå§‹å’Œç®€å•çš„ å¦‚ä½•åºåˆ—åŒ– è‡ªåŠ¨åŒ– ä¼ è¾“åŒæ–¹ä¿æŒä¸€è‡´ ç»„è£…å™¨ ç»„è£…å™¨å¯¹è±¡è´Ÿè´£å°†é¢†åŸŸå¯¹è±¡è½¬ä¸ºDTO MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-21 10:48:16 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/ç¦»çº¿å¹¶å‘æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/ç¦»çº¿å¹¶å‘æ¨¡å¼.html","title":"ç¦»çº¿å¹¶å‘æ¨¡å¼","keywords":"","body":"ç¦»çº¿å¹¶å‘æ¨¡å¼ ä¹è§‚ç¦»çº¿é” ä½¿ç”¨å†²çªæ£€æµ‹ä¸äº‹åŠ¡å›æ»šæ¥é˜²æ­¢äº‹åŠ¡å†²çª éªŒè¯ä¸€ä¸ªæäº¤çš„ä¿®æ”¹ä¸ä¼šä¸å…¶ä»–ä¿®æ”¹å‘ç”Ÿå†²çª é€šè¿‡ç‰ˆæœ¬å·æ¥å®ç° æ‚²è§‚ç¦»çº¿é” æ¯æ¬¡åªå…è®¸ä¸€ä¸ªä¼šè¯è®¿é—®æ•°æ® å°½å¯èƒ½æ—©æ£€æµ‹å‡ºå†²çª ç‹¬å å†™é” å½“ç¼–è¾‘æ•°æ®æ—¶ï¼Œéœ€è¦å¯¹æ•°æ®åŠ é” ç‹¬å è¯»é” å½“è¯»å–æ•°æ®æ—¶ï¼Œéœ€è¦åŠ é” è¯»å†™é” è¯»é”ä¸å†™é”æ˜¯äº’æ–¥çš„ å¯ä»¥è¿›è¡Œå¹¶å‘åœ°è¯» é”ç®¡ç†å¯¹è±¡ å®ç°å°½å¯èƒ½ç®€å•ï¼Œä½¿ç”¨æ•£åˆ—è¡¨æ˜ å°„é”åŠé”çš„æŒæœ‰è€… ç²—ç²’åº¦é” ç”¨é”é”ä½ä¸€ç»„ç›¸å…³çš„å¯¹è±¡ éšå«é” å°†åŠ é”çš„ä»»åŠ¡äº¤ç»™çˆ¶ç±»æˆ–è€…æ¡†æ¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-22 07:41:30 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/ä¼šè¯æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/ä¼šè¯æ¨¡å¼.html","title":"ä¼šè¯æ¨¡å¼","keywords":"","body":"ä¼šè¯æ¨¡å¼ å®¢æˆ·ä¼šè¯çŠ¶æ€ å°†ä¼šè¯çŠ¶æ€ä¿å­˜åœ¨å®¢æˆ·ç«¯ æ— çŠ¶æ€ é›†ç¾¤ å®¢æˆ·ä¼šè¯çŠ¶æ€ç»å¸¸åªæ˜¯ç”¨æ¥ä¿å­˜æ ‡è¯†å· æœåŠ¡å™¨ä¼šè¯çŠ¶æ€ å°†ä¼šè¯çŠ¶æ€ä¿å­˜åˆ°æœåŠ¡ç«¯ ä¼šè¯çŠ¶æ€çš„æŒä¹…åŒ– æ•°æ®åº“ä¼šè¯çŠ¶æ€ å°†ä¼šè¯çŠ¶æ€ä¿å­˜åˆ°æ•°æ®åº“ä¸­ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-22 07:48:07 "},"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/åŸºæœ¬æ¨¡å¼.html":{"url":"è½¯ä»¶å·¥ç¨‹/æ¶æ„æ¨¡å¼/åŸºæœ¬æ¨¡å¼.html","title":"åŸºæœ¬æ¨¡å¼","keywords":"","body":"åŸºæœ¬æ¨¡å¼ å…¥å£ å…¥å£å¯¹è±¡æ˜¯å¯¹å¤–éƒ¨ç³»ç»Ÿæˆ–èµ„æºè®¿é—®çš„å°è£… å°è£…å¤–éƒ¨èµ„æºï¼Œåˆ›å»ºä¸€ä¸ªç®€å•çš„API å…¥å£æ¨¡å¼å¯ä»¥ä½¿ç®€å•çš„æ¥å£è½¬å‘ï¼Œä¸å¤–è§‚æ¨¡å¼ä¸åŒçš„æ˜¯ï¼Œå¤–è§‚æ¥å£é€šå¸¸ç”±æœåŠ¡ç«¯æä¾›ï¼Œå…·æœ‰é€šç”¨æ€§ æ˜ å°„å™¨ åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„å¯¹è±¡ä¹‹é—´çš„ä¸­é—´å±‚ ä¸»è¦æ˜¯åœ¨ä¸¤ä¸ªå­ç³»ç»Ÿä¹‹é—´å»ºç«‹é€šä¿¡ï¼Œå¹¶ä¸”ä¸è¢«å­ç³»ç»Ÿæ‰€æ„ŸçŸ¥ è¦è¾¾åˆ°è¿™æ ·çš„ç›®çš„ï¼Œéœ€è¦ç›‘å¬å­ç³»ç»Ÿçš„é€šä¿¡è¯·æ±‚ å±‚è¶…ç±»å‹ æŸä¸€ç±»å‹å……å½“ä¸€å±‚ä¸­æ‰€æœ‰ç±»å‹çš„è¶…ç±»å‹ å½“ä¸€å±‚ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½å…·æœ‰å…±åŒçš„ä¸€äº›ç‰¹æ€§æ—¶ï¼Œè¿™äº›ç‰¹æ€§å°±å¯ä»¥è¢«æŠ½å–æˆè¶…ç±»ä»£ç  åˆ†ç¦»æ¥å£ åœ¨ä¸æ¥å£å®šä¹‰åˆ†ç¦»çš„åœ°æ–¹å®ç°è¯¥æ¥å£ æ³¨å†Œè¡¨ ä¸€ä¸ªå…¨å±€å¯è§çš„å¯¹è±¡ï¼Œå…¶ä»–å¯¹è±¡å¯ä»¥é€šè¿‡æ­¤å¯¹è±¡è·å¾— å¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ ä½†å½“å¢åŠ ä¸€ç§æ–°ç±»å‹æ—¶ï¼Œæ³¨å†Œè¡¨å¿…é¡»è¢«ä¿®æ”¹ ä½†ä¹Ÿå¯ä»¥ä½¿ç”¨éšå¼æ³¨å†Œè¡¨ï¼Œåªæ˜¯ä¼šå¤±å»ç¼–è¯‘æ—¶æ£€æŸ¥çš„ä¼˜ç‚¹ å€¼å¯¹è±¡ å°è€Œç®€å•çš„å¯¹è±¡ï¼Œåˆ¤ç­‰æ—¶ä¸ä¾æ®æ ‡è¯†ID è´§å¸ è¡¨ç¤ºä¸€ä¸ªè´§å¸å€¼çš„å¯¹è±¡ ç‰¹æ®Šæƒ…å†µ æä¾›ç‰¹æ®Šè¡Œä¸ºçš„å­ç±» ä¸»è¦æ˜¯ä¸ºäº†é¿å…é’ˆå¯¹ç‰¹æ®Šæƒ…å†µè¿›è¡Œç¼–ç¨‹è€Œå¼•å…¥çš„ æ’ä»¶ é€šè¿‡é…ç½®æ¥è¿æ¥ç±» æœåŠ¡æ¡© åœ¨æµ‹è¯•æ—¶mockå¤–éƒ¨æœåŠ¡ è®°å½•é›† è¡¨æ ¼æ•°æ®åœ¨å†…å­˜çš„è¡¨ç°å½¢å¼ ç¦»çº¿è®°å½•é›† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-23 08:29:37 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/å¾®æœåŠ¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/å¾®æœåŠ¡.html","title":"å¾®æœåŠ¡","keywords":"","body":"å¾®æœåŠ¡ é›†ä¸­å¼æ¶æ„ -> å‚ç›´æ‹†åˆ† -> åˆ†å¸ƒå¼æœåŠ¡ -> æœåŠ¡æ²»ç†ï¼ˆSOAï¼‰ -> å¾®æœåŠ¡ é€‰æ‹©å¾®æœåŠ¡çš„åŠ¨åŠ› å¤–éƒ¨å› ç´ ï¼š æ²¡æœ‰æŠ€æœ¯é“¶å¼¹å¯ä»¥è§£å†³ä¸€åˆ‡éœ€æ±‚ å›¢é˜Ÿä¸ªäººæŠ€æœ¯å› ç´ åˆ¶çº¦ç€ç³»ç»Ÿå‘å±• å¤–éƒ¨å•†ä¸šç¯å¢ƒæå‡ºçš„éœ€æ±‚ å†…éƒ¨å› ç´ ï¼š å˜åŒ–ååˆ†å¿«çš„ä¸šåŠ¡ å¤§è§„æ¨¡ ä¸šåŠ¡å¤æ‚çš„ç³»ç»Ÿ å¾®æœåŠ¡çš„å¼Šç«¯ æœåŠ¡çš„æ‹†åˆ†ä¸å®šä¹‰å¹¶ä¸ç®€å•ï¼Œæ²¡æ‹†åˆ†å¥½çš„è¯å¾ˆæœ‰å¯èƒ½æ„å»ºå‡ºä¸€ä¸ªåˆ†å¸ƒå¼å•ä½“åº”ç”¨ åˆ†å¸ƒå¼ç³»ç»Ÿå¸¦æ¥çš„å¤æ‚æ€§ åˆ†å¸ƒå¼äº‹åŠ¡ è¿ç»´æµ‹è¯• ... å¾®æœåŠ¡éœ€è¦çš„æ¡ä»¶ å†³ç­–è€…ä¸æ‰§è¡Œè€…éƒ½èƒ½æ„è¯†åˆ°åº·å¨å®šå¾‹åœ¨è½¯ä»¶è®¾è®¡ä¸­çš„å…³é”®ä½œç”¨ ç»„ç»‡ä¸­å…·å¤‡ä¸€äº›çš„å¯¹å¾®æœåŠ¡æœ‰å……åˆ†ç†è§£ã€æœ‰ä¸€å®šå®è·µç»éªŒçš„æŠ€æœ¯ä¸“å®¶ ç³»ç»Ÿåº”å…·æœ‰ä»¥è‡ªæ²»ä¸ºç›®æ ‡çš„è‡ªåŠ¨åŒ–ä¸ç›‘æ§åº¦é‡èƒ½åŠ› æ¦‚å¿µ è¶³å¤Ÿå°ï¼Œå†…èšæ€§é«˜ è‡ªæ²»ï¼Œä¸€ä¸ªæœåŠ¡å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å®ä½“ å¾®æœåŠ¡çš„ç²’åº¦ å¾®æœåŠ¡ç²’åº¦çš„ä¸‹ç•Œæ˜¯å®ƒè‡³å°‘åº”æ»¡è¶³ç‹¬ç«‹â€”â€”èƒ½å¤Ÿç‹¬ç«‹å‘å¸ƒã€ç‹¬ç«‹éƒ¨ç½²ã€ç‹¬ç«‹è¿è¡Œä¸ç‹¬ç«‹æµ‹è¯•ï¼Œå†…èšâ€”â€”å¼ºç›¸å…³çš„åŠŸèƒ½ä¸æ•°æ®åœ¨åŒä¸€ä¸ªæœåŠ¡ä¸­å¤„ç†ï¼Œå®Œå¤‡â€”â€”ä¸€ä¸ªæœåŠ¡åŒ…å«è‡³å°‘ä¸€é¡¹ä¸šåŠ¡å®ä½“ä¸å¯¹åº”çš„å®Œæ•´æ“ä½œ å¾®æœåŠ¡ç²’åº¦çš„ä¸Šç•Œæ˜¯ä¸€ä¸ª2 Pizza Teamèƒ½å¤Ÿåœ¨ä¸€ä¸ªç ”å‘å‘¨æœŸå†…å®Œæˆçš„å…¨éƒ¨éœ€æ±‚èŒƒå›´ åŸåˆ™ å›´ç»•ä¸šåŠ¡å»ºæ¨¡è€ŒéæŠ€æœ¯å»ºæ¨¡ è‡ªåŠ¨åŒ–æ–‡åŒ– éšè—å®ç°ç»†èŠ‚ å»ä¸­å¿ƒåŒ– ç‹¬ç«‹éƒ¨ç½² éš”ç¦»å¤±è´¥ å½“è¿›è¡Œè¿œç¨‹è°ƒç”¨æ—¶ï¼Œè¦æœ‰æœºåˆ¶å½“è°ƒç”¨å¤±è´¥æ—¶èƒ½å°†é”™è¯¯éš”ç¦»åœ¨ä¸€å®šçš„èŒƒå›´å†… å¯è§‚å¯Ÿ ä¸€ä¸ªæœåŠ¡åº”æä¾›ä¸€å®šçš„æ¥å£æ¥åæ˜ å…¶è¿è¡Œæƒ…å†µ ä»€ä¹ˆæ—¶å€™ä¸é€‚åˆå¾®æœåŠ¡ å¯¹è¦æ„å»ºçš„ç³»ç»Ÿè¶Šä¸ç†Ÿæ‚‰ï¼Œå¯¹ç³»ç»Ÿçš„å„ä¸ªç»„ä»¶åˆ’åˆ†ä¹Ÿå°±è¶Šå›°éš¾ æ‰€ä»¥è¿˜æ˜¯å…ˆæ„å»ºå•ä½“ç³»ç»Ÿï¼Œå†é€æ­¥å¯¹å…¶æ‹†åˆ† å¥½å¤„ æŠ€æœ¯å¼‚æ„æ€§ å¼¹æ€§ï¼Œä¸€ä¸ªæœåŠ¡ä¸å¯ç”¨ä¸ä¼šå¯¼è‡´çº§è”æ•…éšœ å¯æ‰©å±•ï¼Œä¸€ä¸ªæœåŠ¡å¯ä»¥è¿è¡Œå¤šä¸ªå®ä¾‹ ç®€åŒ–éƒ¨ç½² ç¬¦åˆç»„ç»‡ç»“æ„ å¯ç»„åˆæ€§ å®¹æ˜“æ›¿æ¢ é¢å‘æœåŠ¡çš„æ¶æ„(SOA) SOAæ˜¯ä¸€ç§è®¾è®¡æ–¹æ³•ï¼Œå…¶ä¸­åŒ…å«å¤šä¸ªæœåŠ¡ï¼Œè€ŒæœåŠ¡ä¹‹é—´é€šè¿‡é…åˆæœ€ç»ˆä¼šæä¾›ä¸€ç³»åˆ—åŠŸèƒ½ã€‚ä¸€ä¸ªæœåŠ¡é€šå¸¸ä»¥ç‹¬ç«‹çš„å½¢å¼å­˜åœ¨äºæ“ä½œç³»ç»Ÿè¿›ç¨‹ä¸­ã€‚æœåŠ¡ä¹‹é—´é€šè¿‡ç½‘ç»œè°ƒç”¨ï¼Œè€Œéé‡‡ç”¨è¿›ç¨‹å†…è°ƒç”¨çš„æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚ å¾®æœåŠ¡æ¶æ„å¯ä»¥çœ‹åšæ˜¯å®ç°SOAçš„ä¸€ç§ç‰¹å®šæ–¹æ³• å…¶ä»–çš„åˆ†è§£æŠ€æœ¯ å…±äº«åº“ æ¨¡å— æ¶æ„å¸ˆçš„è§†è§’ è½¯ä»¶ä¸åŒäºå»ºç­‘ï¼Œç›¸å¯¹æ¥è¯´ï¼Œè½¯ä»¶çš„ä¸å¯é¢„æµ‹å› ç´ æ›´å¤šï¼Œæˆ‘ä»¬åº”è¯¥è®¾è®¡å‡ºä¸€ä¸ªåˆç†çš„æ¡†æ¶ï¼Œåœ¨è¿™ä¸ªæ¡†æ¶å¯ä»¥æ…¢æ…¢æ¼”åŒ–å‡ºæ­£ç¡®çš„ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯ç”Ÿé•¿çš„æ¶æ„ã€‚ é¿å…å¯¹æ‰€æœ‰äº‹æƒ…åšå‡ºè¿‡äºè¯¦å°½çš„è®¾è®¡ï¼Œå°†æ³¨æ„åŠ›ä¸“æ³¨åœ¨å¤§æ–¹å‘ä¸Š åŒæ—¶ï¼Œæ¶æ„è®¾è®¡å°±æ˜¯åœ¨åšå–èˆï¼Œè¦æœ‰åŸåˆ™åŠå®è·µæ¥æŒ‡å¯¼è®¾è®¡ åˆ†åŒº ç›¸å¯¹æ¥è¯´ï¼Œåº”è¯¥å¤šæ‹…å¿ƒåŒºåŸŸä¹‹é—´å‘ç”Ÿçš„äº¤äº’ï¼Œè€ŒéåŒºåŸŸå†…çš„äº‹æƒ… è‰¯å¥½çš„æœåŠ¡åº”è¯¥å…·æœ‰çš„å±æ€§ ç›‘æ§ æ¯ä¸ªæœåŠ¡éƒ½åº”è¯¥æœ‰æ ‡å‡†çš„æ–¹å¼æŠ¥å‘Šå…¶å¥åº·çŠ¶æ€ æ¥å£ æ¶æ„çš„å®‰å…¨æ€§ åº”è¯¥æœ‰è‰¯å¥½çš„éš”ç¦»æ€§ ä»£ç æ²»ç† æä¾›èŒƒä¾‹æ¥æŒ‡å¯¼å¼€å‘äººå‘˜å¦‚ä½•ç¼–å†™ä»£ç  æä¾›æœåŠ¡ä»£ç æ¨¡æ¿æ¥ç®€åŒ–å¼€å‘äººå‘˜çš„å·¥ä½œ æŠ€æœ¯å€ºåŠ¡ çŸ­æœŸçš„åˆ©ç›Šï¼Œé•¿æœŸæ¥çœ‹æ˜¯è¦ä»˜å‡ºä»£ä»·çš„ï¼Œåº”è¯¥è¦ç»´æŠ¤å¥½è¿™ä¸ªå€ºåŠ¡åˆ—è¡¨ ä¾‹å¤–ç®¡ç† ä¸€æ¬¡ä¾‹å¤–æ˜¯ä¾‹å¤–ï¼Œå¤šæ¬¡ä¾‹å¤–å°±æ˜¯è§„åˆ™äº† ç³»ç»Ÿè®¾è®¡ å¾®æœåŠ¡çš„æ¶æ„å†³å®šäº†å¯¹æ¶æ„è€…çš„èƒ½åŠ›è¦æ±‚éå¸¸é«˜ è€Œå…è®¸å¹³åº¸å¼€å‘è€…çš„å­˜åœ¨ è¿™ç‚¹ä¸è½¯ä»¶å·¥è‰ºç†è®ºä¸è°‹è€Œåˆ åº·å¨å®šå¾‹ å³ç³»ç»Ÿè®¾è®¡æœ¬è´¨ä¸Šåæ˜ äº†ä¼ä¸šçš„ç»„ç»‡æœºæ„ã€‚ç³»ç»Ÿå„ä¸ªæ¨¡å—é—´çš„æ¥å£ä¹Ÿåæ˜ äº†ä¼ä¸šå„ä¸ªéƒ¨é—¨ä¹‹é—´çš„ä¿¡æ¯æµåŠ¨å’Œåˆä½œæ–¹å¼ æœåŠ¡æ‰€æœ‰æƒ æ‹¥æœ‰æœåŠ¡çš„å›¢é˜Ÿå¯ä»¥å¯¹æœåŠ¡åšå‡ºä¿®æ”¹ï¼Œåªè¦ä¸å½±å“æœåŠ¡çš„æ¶ˆè´¹è€… ä¸ºä»€ä¹ˆè¦å…±äº«æœåŠ¡ å¤šä¸ªå›¢é˜Ÿå…±åŒç»´æŠ¤ä¸€ä¸ªæœåŠ¡ éš¾ä»¥æ‹†åˆ† å›¢é˜Ÿçš„ç»„å»ºæ˜¯åŸºäºæŠ€æœ¯çš„ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡ äººå‘˜æµåŠ¨æ›´è‡ªç”± å†…éƒ¨å¼€æº ä¸å†é‡‡å–å›¢é˜Ÿç»“æ„ï¼Œè€Œæ˜¯è®©ä¸€å°éƒ¨åˆ†äººç§°ä¸ºæ ¸å¿ƒæäº¤è€…ï¼Œå…¶ä»–äººå¯ä»¥æäº¤PR å­¤å„¿æœåŠ¡ å­¤å„¿æœåŠ¡æŒ‡çš„æ˜¯ä¸€æ®µæ—¶é—´æ²¡æœ‰æ›´æ”¹çš„æœåŠ¡ å¦‚æœå›¢é˜Ÿçš„ç»„ç»‡æ˜¯æŒ‰ç…§é™ç•Œä¸Šä¸‹æ–‡çš„è¯ï¼Œé‚£ä¸€ä¸ªå›¢é˜Ÿå¯èƒ½æ‹¥æœ‰å¤šä¸ªæœåŠ¡ï¼Œè¿™ä¸ªå­¤å„¿æœåŠ¡åœ¨è¿™ä¸ªå›¢é˜Ÿæ‰‹ä¸Šï¼Œå½“å‘ç”Ÿéœ€æ±‚å˜æ›´æ—¶ï¼Œä¿®æ”¹æ˜¯å¾ˆå®¹æ˜“çš„ã€‚åŒæ—¶ï¼Œé‡‡å–äº†å¾®æœåŠ¡çš„æ¶æ„ï¼Œå¾ˆå¤šæœåŠ¡éƒ½å¯ä»¥è¿›è¡Œå¿«é€Ÿé‡å†™ åå‘çš„åº·å¨å®šå¾‹ ç³»ç»Ÿè®¾è®¡ä¼šå½±å“ç»„ç»‡ç»“æ„å—ï¼Ÿ æŒ‘æˆ˜ å¦‚ä½•åˆ’åˆ†æœåŠ¡ åˆ†å¸ƒå¼æ¶æ„å¸¦æ¥æ–°çš„é—®é¢˜ è¿ç»´æŒ‘æˆ˜ ç”Ÿå‘½å‘¨æœŸ è®¾è®¡ å•ä½“åº”ç”¨æ˜¯å¦å…ˆè¡Œ åˆ’åˆ†æœåŠ¡èŒƒå›´ æœåŠ¡é€šä¿¡æ–¹å¼ å¯æ¢å¤æ€§ éƒ¨ç½² éƒ¨ç½²æ“ä½œæ ‡å‡†åŒ– æŒç»­äº¤ä»˜æµæ°´çº¿ ç›‘æ§ å››å±‚æ¶æ„ å¹³å°å±‚ æœåŠ¡å±‚ å®ç°ä¸šåŠ¡åŠŸèƒ½æˆ–è€…æŠ€æœ¯åŠŸèƒ½çš„å¾®æœåŠ¡ èšåˆæœåŠ¡ä¸å¤šå…ƒæœåŠ¡ å…³é”®è·¯å¾„ï¼šä¸šåŠ¡çº¿ä¸Šé‡è¦çš„æœåŠ¡ç‚¹ é€šä¿¡ åŒæ­¥ å¼‚æ­¥ æœåŠ¡è¾¹ç•Œ ç”¨æ¥å±è”½å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œæä¾›ä¸€ä¸ªå¤–éƒ¨ç»Ÿä¸€è®¿é—®ç‚¹ APIç½‘å…³ Backend for frontend ä¸ºç‰¹å®šç¾¤ä½“æœåŠ¡çš„ç½‘å…³ å®¢æˆ·ç«¯ ä¼ ç»Ÿå•ä½“å®¢æˆ·ç«¯ å¾®å‰ç«¯ æŸ¥è¯¢ è¿œç¨‹è°ƒç”¨æ¥å£çš„ä»£ä»·å¾ˆå¤§ï¼Œéœ€è¦å¯¹ä¸€äº›æŸ¥è¯¢æ¥å£æä¾›æ‰¹é‡æŸ¥è¯¢æ¥å£ é«˜å¯é å¾®æœåŠ¡ è´Ÿè½½å‡è¡¡ä¸æœåŠ¡ç›‘æ§ é™æµ æœåŠ¡ç½‘æ ¼ å¼•å…¥ä¸€ä¸ªä»£ç†æ¥ä»£æ›¿æœåŠ¡é—´çš„ç›´æ¥é€šä¿¡ æ•…éšœç±»å‹ ç¡¬ä»¶ ç½‘ç»œé€šä¿¡ å¤–éƒ¨ä¾èµ–æœåŠ¡ å†…éƒ¨ä»£ç  åå¤‡æ–¹æ¡ˆ é™çº§ ç¼“å­˜ è°ƒç”¨å…¶ä»–æœåŠ¡å®Œæˆ è¶…æ—¶ æ–­è·¯å™¨ ä¸ºäº†ä¿æŠ¤æœåŠ¡ å¼‚æ­¥é€šä¿¡ å¯å¤ç”¨çš„å¾®æœåŠ¡æ¡†æ¶ æœåŠ¡å‘ç° ä¿¡æ¯æ”¶é›†ï¼ˆå¯è§‚æµ‹æ€§ï¼‰ è´Ÿè½½å‡è¡¡ä¸é™æµ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-15 07:40:53 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/æœåŠ¡å»ºæ¨¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/æœåŠ¡å»ºæ¨¡.html","title":"æœåŠ¡å»ºæ¨¡","keywords":"","body":"æœåŠ¡å»ºæ¨¡ è®¾è®¡æ–¹æ³• æ ¹æ®ä¸šåŠ¡èƒ½åŠ›åˆ’åˆ† æ ¹æ®ç”¨ä¾‹åˆ’åˆ† æ ¹æ®æŠ€æœ¯èƒ½åŠ›åˆ’åˆ† å¥½æœåŠ¡çš„æ ‡å‡† æ¾è€¦åˆ å°½å¯èƒ½å°‘åœ°çŸ¥é“å¤–éƒ¨æœåŠ¡çš„ä¿¡æ¯ é«˜å†…èš ç›¸å…³çš„è¡Œä¸ºèšé›†å’‹ä¸€èµ· bounded context è¿™é‡Œçš„productå°±æ˜¯å…±äº«æ¨¡å‹ æ¨¡å—ä¸è¾¹ç•Œ æ¨¡å—çš„è¾¹ç•Œæ˜¯ç»ä½³çš„å¾®æœåŠ¡å€™é€‰è€…ï¼Œä½†æ˜¯æ–°ç³»ç»Ÿæœ€å¥½æ˜¯å…ˆä½¿ç”¨å•ä½“ç³»ç»Ÿï¼Œè¿‡äºæ—©çš„è¾¹ç•Œåˆ’åˆ†ï¼Œå¦‚æœé”™äº†ï¼Œä»£ä»·ä¼šå¾ˆå¤§ ä¸šåŠ¡åŠŸèƒ½ è¿›è¡Œå»ºæ¨¡æ—¶ï¼Œå¦‚æœåªè€ƒè™‘æ¨¡å‹è€Œä¸è€ƒè™‘å…·ä½“ä¸šåŠ¡åŠŸèƒ½ï¼Œåˆ™å°±å¯¼è‡´å¤§é‡è´«è¡€çš„åŸºäºCRUDæ“ä½œçš„æœåŠ¡ ä½†æ˜¯éœ€è¦å¤§é‡çš„ä¸šåŠ¡çŸ¥è¯† æ ¹æ®ä¸šåŠ¡èƒ½åŠ›è¿›è¡Œæ‹†åˆ†çš„è¯ï¼Œé€‚åˆåœ¨åˆæœŸï¼Œåˆ°äº†åæœŸï¼Œéšç€ç³»ç»Ÿä½“é‡å¢é•¿ï¼Œéœ€è¦è¿›ä¸€æ­¥æ‹†åˆ† é€æ­¥åˆ’åˆ† ä¸€å¼€å§‹åˆ’åˆ†çš„æ˜¯ä¸€äº›ç²—ç²’åº¦çš„è¾¹ç•Œï¼Œæ¥ä¸‹æ¥å†å¯¹è¿™äº›ç²—ç²’åº¦è¾¹ç•Œç»§ç»­åˆ’åˆ†æˆè¾ƒç»†ç²’åº¦çš„è¾¹ç•Œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-18 08:38:09 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/é›†æˆ.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/é›†æˆ.html","title":"é›†æˆ","keywords":"","body":"é›†æˆ ç†æƒ³çš„é›†æˆæŠ€æœ¯ é¿å…ç ´åæ€§ä¿®æ”¹ ä¸€ä¸ªæœåŠ¡çš„ä¿®æ”¹ä¼šå¯¼è‡´æœåŠ¡çš„æ¶ˆè´¹æ–¹ä¹Ÿå‘ç”Ÿå˜åŒ– ä¿è¯APIçš„æŠ€æœ¯æ— å…³æ€§ ä¹Ÿå°±è¯´ï¼ŒAPIä¸ç®¡ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯ï¼Œåº”è¯¥éƒ½èƒ½å®ç°ï¼Œä¿è¯é€šä¿¡æ–¹å¼çš„æŠ€æœ¯æ— å…³æ€§æ˜¯éå¸¸é‡è¦çš„ï¼Œè¿™æ ·å„ä¸ªæœåŠ¡æ‰æœ‰å¯èƒ½ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯å®ç° ä½¿æœåŠ¡æ˜“äºæ¶ˆè´¹æ–¹ä½¿ç”¨ éšè—å†…éƒ¨å®ç°ç»†èŠ‚ å¦‚æœæ¶ˆè´¹æ–¹ä¸æœåŠ¡çš„å®ç°ç»†èŠ‚ç»‘å®šåœ¨ä¸€èµ·ï¼Œä¼šå¢åŠ ä¸¤è€…é—´çš„è€¦åˆ é€šä¿¡ äº¤äº’æ–¹å¼ ä¸€å¯¹ä¸€ä¸ä¸€å¯¹å¤š åŒæ­¥ä¸å¼‚æ­¥ æ¨¡å¼ ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š åŒæ­¥æ¨¡å¼ è¯·æ±‚/å“åº” æ—  å¼‚æ­¥æ¨¡å¼ å¼‚æ­¥è¯·æ±‚/å“åº” å•å‘é€šçŸ¥ å‘å¸ƒ/è®¢é˜… å‘å¸ƒ/å¼‚æ­¥å“åº” åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ åŒæ­¥é€šä¿¡ï¼Œå‘èµ·ä¸€ä¸ªè¿œç¨‹è°ƒç”¨åï¼Œä¼šé˜»å¡è‡ªå·±å¹¶ç­‰å¾…æ•´ä¸ªæ“ä½œçš„å®Œæˆ å¼‚æ­¥é€šä¿¡ï¼Œåˆ™ä¸éœ€è¦ç­‰å¾…æ“ä½œç»“æŸå°±å¯ä»¥è®¿é—® ä½¿ç”¨å“ªç§æ–¹å¼ï¼Œè¦å–å†³äºå“ªç§é£æ ¼çš„é€šä¿¡è§£å†³çš„é—®é¢˜ APIå®šä¹‰ å¦‚ä½•å®šä¹‰APIå–å†³äºè¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚ éšç€åº”ç”¨æ¼”è¿›ï¼ŒAPIä¹Ÿä¼šéšç€æ¼”è¿›ã€‚ æ¬¡è¦ä¸”å‘åå…¼å®¹çš„æ¼”è¿›ï¼šå¢åŠ å¯é€‰å±æ€§ã€æ·»åŠ æ–°æ“ä½œç­‰ ä¸»è¦ä¸”ä¸å‘åå…¼å®¹çš„æ¼”è¿›ï¼šæ­¤æ—¶å¯ä»¥å¼•å…¥ç‰ˆæœ¬å· æ¶ˆæ¯æ ¼å¼ åŸºäºæ–‡æœ¬æ¶ˆæ¯æ ¼å¼ï¼šxmlã€jsonã€‚å¥½å¤„åœ¨äºå¯è¯»æ€§é«˜ã€è‡ªæè¿°ã€‚ç¼ºç‚¹åœ¨äºæ¶ˆæ¯è¿‡åº¦å†—é•¿ã€‚ äºŒè¿›åˆ¶æ¶ˆæ¯æ ¼å¼ï¼šprotocol buffersã€avroã€‚ç¼–è¯‘å™¨æ ¹æ®å®šä¹‰çš„IDLç”Ÿæˆåºåˆ—åŒ–ä¸ååºåˆ—ä»£ç ã€‚å¥½å¤„æ€§èƒ½é«˜ã€‚ è·¨æœåŠ¡ä¸šåŠ¡æµç¨‹ æœ‰ä¸¤ç§æ–¹å¼ï¼šç¼–æ’ä¸ååŒ ç¼–æ’æ˜¯æœ‰ä¸€ä¸ªæ§åˆ¶ä¸­å¿ƒï¼ŒæŒ‡å¯¼å…¶ä»–æœåŠ¡åº”è¯¥åšäº›ä»€ä¹ˆï¼Œå…·ä½“æ€ä¹ˆåšï¼Œåˆ™äº¤ç»™å…·ä½“æœåŠ¡ äº‹ä»¶å‘ç”Ÿï¼š æ§åˆ¶ä¸­å¿ƒè°ƒç”¨æœåŠ¡A æ§åˆ¶ä¸­å¿ƒè°ƒç”¨æœåŠ¡B ä½¿ç”¨è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ä¼šè®©æ§åˆ¶ä¸­å¿ƒæ‰¿æ‹…å¤ªå¤šçš„èŒè´£ï¼Œå¹¶ä¼šå¯¼è‡´å°‘é‡çš„â€œä¸Šå¸æœåŠ¡ï¼ˆä¸Šå¸è§†è§’ï¼‰â€ è‹¥ä½¿ç”¨ååŒï¼Œåˆ™æ˜¯å¯ä»¥å®¢æˆ·è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶çš„å…·ä½“æœåŠ¡å»åšä¸€äº›äº‹æƒ… äº‹ä»¶å‘ç”Ÿï¼š æœåŠ¡Aæ¥æ”¶åˆ°äº‹ä»¶ï¼Œåšä¸€äº›äº‹ æœåŠ¡Bæ¥æ”¶åˆ°äº‹ä»¶ï¼Œåšä¸€äº›äº‹ è¿™ä¸ªæ–¹å¼çš„ä¼˜ç‚¹æ˜¯èƒ½æ˜¾è‘—åœ°æ¶ˆé™¤è€¦åˆï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯æ— æ³•çœ‹åˆ°æ¸…æ™°çš„ä¸šåŠ¡æµç¨‹ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼éœ€è¦ä¸€å®šçš„ç›‘æ§æ‰‹æ®µæ¥ä¿è¯ä¸šåŠ¡çš„æ­£ç¡®æ€§ æ–­è·¯å™¨æ¨¡å¼å¤„ç†å±€éƒ¨æ•…éšœ æœåŠ¡ä¿æŠ¤è‡ªå·±çš„æ–¹å¼ï¼š ç½‘ç»œè¶…æ—¶ï¼šå¯¹æŸä¸ªæœåŠ¡çš„è¶…æ—¶ä¸èƒ½æ— é™ é™åˆ¶å®¢æˆ·ç«¯çš„è¯·æ±‚æ•°é‡ æ–­è·¯å™¨æ¨¡å¼ æœåŠ¡å‘ç° åº”ç”¨å±‚ï¼šæœåŠ¡ç›´æ¥ä¸æœåŠ¡æ³¨å†Œè¡¨äº¤äº’ å¥½å¤„åœ¨äºå¯ä»¥å¤„ç†å¤šå¹³å°éƒ¨ç½²é—®é¢˜ï¼Œå¼Šç«¯åˆ™æ˜¯éœ€è¦ä¸ºæ¯ç§ç¼–ç¨‹è¯­è¨€æä¾›ä¸€ä¸ªSDKã€‚ å¹³å°å±‚ï¼šä½¿ç”¨åŸºç¡€è®¾æ–½æ¥å®ç°æœåŠ¡å‘ç° åŒæ­¥çš„ç¼–æ’æ–¹å¼ è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰ åœ¨åˆ†å¸ƒå¼è®¡ç®—ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆè‹±è¯­ï¼šRemote Procedure Callï¼Œç¼©å†™ä¸º RPCï¼‰æ˜¯ä¸€ä¸ªè®¡ç®—æœºé€šä¿¡åè®®ã€‚è¯¥åè®®å…è®¸è¿è¡Œäºä¸€å°è®¡ç®—æœºçš„ç¨‹åºè°ƒç”¨å¦ä¸€ä¸ªåœ°å€ç©ºé—´ï¼ˆé€šå¸¸ä¸ºä¸€ä¸ªå¼€æ”¾ç½‘ç»œçš„ä¸€å°è®¡ç®—æœºï¼‰çš„å­ç¨‹åºï¼Œè€Œç¨‹åºå‘˜å°±åƒè°ƒç”¨æœ¬åœ°ç¨‹åºä¸€æ ·ï¼Œæ— éœ€é¢å¤–åœ°ä¸ºè¿™ä¸ªäº¤äº’ä½œç”¨ç¼–ç¨‹ï¼ˆæ— éœ€å…³æ³¨ç»†èŠ‚ï¼‰ ä¸€äº›é—®é¢˜ æŠ€æœ¯è€¦åˆ å¦‚æœä½¿ç”¨JAVA RMIï¼Œå°±ä¼šå°†æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯éƒ½ç»‘å®šåœ¨JVMä¸Š è¿œç¨‹è°ƒç”¨çš„å¼€é”€ ç½‘ç»œæ˜¯ä¸å¯é çš„ è„†å¼± ä¸€ç«¯çš„ä¿®æ”¹å¾ˆå®¹æ˜“å½±å“åˆ°å¦å¤–ä¸€ç«¯ REST RESTæ˜¯RPCçš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆ RESTæˆç†Ÿåº¦æ¨¡å‹ 0ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æŒ‡æ˜äº†éœ€è¦æ‰§è¡Œçš„æ“ä½œå’Œå¿…è¦çš„å‚æ•° 1ï¼šå¼•å…¥äº†èµ„æºçš„æ¦‚å¿µï¼Œå¯¹èµ„æºè¿›è¡Œæ“ä½œ 2ï¼šä½¿ç”¨HTTPåŠ¨è¯æ¥æ‰§è¡Œæ“ä½œ 3ï¼šåŸºäºHAEOASï¼Œè¶…æ–‡æœ¬é©±åŠ¨ï¼Œå®¢æˆ·ç«¯æ— éœ€ç¡¬ç¼–ç RESTé“¾æ¥ã€‚è®©å®¢æˆ·ç«¯è‡ªè¡Œéå†ä¸å‘ç°APIï¼Œå¯ä»¥å¾ˆå¥½åœ°éšè—ä½å±‚ç»†èŠ‚ï¼Œä½¿å¾—å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´å®ç°äº†æ¾è€¦åˆ RESTä¸HTTP RESTæœ¬èº«æ²¡æœ‰å®šä¹‰åº”è¯¥ä½¿ç”¨å“ªç§åè®®å®ç°ï¼Œä½†æ˜¯ä½¿ç”¨HTTPåè®®ï¼Œä¼šç®€å•çš„å¾ˆå¤š è½½ä½“å½¢å¼ JSON XML è¿‡å¤šçš„çº¦å®š æ•°æ®æŒä¹…åŒ–ç»§æ‰¿å¹¶éæ˜¯ä¸€ä»¶éœ€è¦è¿‡æ—©æ“å¿ƒçš„äº‹ï¼Œæœ€å¥½æ˜¯å…ˆè®¾è®¡å¤–éƒ¨æ¥å£ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿æœåŠ¡çš„æ¥å£æ˜¯ç”±æ¶ˆè´¹è€…çš„éœ€æ±‚é©±åŠ¨å‡ºæ¥çš„ ç¼ºç‚¹ åŸºäºHTTPçš„RESTæœ‰ä¸€äº›ç¼ºç‚¹ï¼š æ—¶å»¶ä¸ä½ æ•°æ®åŒ…ä¸å¤Ÿç²¾ç®€ éœ€è¦æ‰‹åŠ¨ç¼–å†™å®¢æˆ·ç«¯ä»£ç  æœ‰äº›æ¡†æ¶HTTPåŠ¨è¯æ”¯æŒä¸å¥½ gRPC service UserService { rpc createUser(CreateUserRequest) returns(CreateUserReply) {} } ... é«˜æ•ˆç´§å‡‘ æ”¯æŒåŒå‘æµå¼ å¼‚æ­¥çš„åä½œæ–¹å¼ åŒæ­¥æ¶ˆæ¯ä¼šé™ä½å¯ç”¨æ€§ï¼Œä¸ºæ¶ˆé™¤åŒæ­¥äº¤äº’ï¼Œå¯ï¼š ä½¿ç”¨æ¶ˆæ¯ä»£ç†æ¥è¿›è¡Œå¼‚æ­¥äº¤äº’ å¤åˆ¶æ•°æ®æ¥é¿å…ä¸å…¶ä»–æœåŠ¡åŒæ­¥äº¤äº’ å¼‚æ­¥åä½œçš„ä¸¤ç§æ¶æ„ï¼š æ¶ˆæ¯ä»£ç†ï¼šéœ€è¦ä¸€äº›ä¸­é—´ä»¶æ¥å®ç°å¼‚æ­¥åä½œï¼Œå°½é‡è®©ä¸­é—´ä»¶ä¿æŒç®€å• è€¦åˆä½ æ›´ä¸ºçµæ´» é¢å¤–çš„å¤æ‚æ€§ æ— ä»£ç†æ¶æ„ï¼šç›´æ¥å‘æœåŠ¡å‘é€æ¶ˆæ¯ æ€§èƒ½è¾ƒé«˜ å¤æ‚æ€§è¾ƒä½ è€¦åˆè¿‡ç´§ å¯å®ç°çš„äº¤äº’æ–¹å¼ï¼š è¯·æ±‚/å“åº”æ¨¡å‹ å•å‘é€šçŸ¥ å‘å¸ƒè®¢é˜… å‘å¸ƒ/å“åº” APIè§„èŒƒ å¼‚æ­¥æ“ä½œï¼š è¯·æ±‚/å¼‚æ­¥å“åº”API å•å‘é€šçŸ¥API è®°å½•äº‹ä»¶å‘å¸ƒAPI æŠ€æœ¯é€‰æ‹© MQ åŸºäºHTTPçš„å‘å¸ƒè®¢é˜…æ¨¡å¼ å¼‚æ­¥æ¶æ„å¤æ‚æ€§ é‡‡ç”¨å¼‚æ­¥æ¶æ„ï¼Œè¦è€ƒè™‘çš„äº‹æƒ…å°±æ›´å¤šäº† å¹¶å‘ä¸æ¶ˆæ¯é¡ºåº åœ¨kafkaä¸­ï¼Œä½¿ç”¨äº†åˆ†ç‰‡æ¥è§£å†³é¡ºåº é‡å¤æ¶ˆæ¯ åº”ç”¨ç¨‹åºéœ€è¦è‡ªå·±è¿›è¡Œå¹‚ç­‰å¤„ç† äº‹åŠ¡æ€§æ¶ˆæ¯ æ¶ˆæ¯é˜Ÿåˆ—è¡¨ä¸åˆ†å¸ƒå¼äº‹åŠ¡ æœåŠ¡å³çŠ¶æ€æœº æœåŠ¡æ‹¥æœ‰åœ¨é™ç•Œä¸Šä¸‹æ–‡ä¸­çš„æ‰€æœ‰é€»è¾‘ï¼Œè¿™æ ·å¯ä»¥åœ¨å”¯ä¸€ä¸€ä¸ªåœ°æ–¹å¤„ç†é€»è¾‘ å“åº”å¼æ‰©å±• æŠŠå¤šä¸ªè°ƒç”¨çš„ç»“æœç»„è£…èµ·æ¥ï¼Œå¹¶åœ¨æ­¤ä¸Šåšæ“ä½œï¼ˆç±»ä¼¼äºstreamï¼‰ å¾®æœåŠ¡ä¸­ä»£ç å¤ç”¨çš„å±é™© ä¸åŒçš„æœåŠ¡å¤ç”¨åŒä¸€å—ä»£ç ï¼Œä¸€ä¸ªæœåŠ¡ä¿®æ”¹çš„ä»£ç å¾ˆå¯èƒ½å½±å“å¦ä¸€ä¸ªæœåŠ¡ æŒ‰å¼•ç”¨è®¿é—® åœ¨è¿›è¡Œäº‹ä»¶é€šçŸ¥æ—¶ï¼Œä¼ é€’çš„æ•°æ®åº”è¯¥æ˜¯æŒ‡å‘èµ„æºçš„ä¸€ä¸ªå¼•ç”¨ï¼Œè¿™æ ·å½“å…¶ä»–æœåŠ¡å¤„ç†è¿™ä¸ªäº‹ä»¶æ—¶ï¼Œå°±å¯ä»¥æ ¹æ®è¿™ä¸ªå¼•ç”¨å¾—åˆ°æœ€æ–°çš„æ•°æ®ï¼Œè€Œé¿å…æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µ ç‰ˆæœ¬ç®¡ç† å°½å¯èƒ½æ¨è¿Ÿä¿®æ”¹ å®½è¿›ä¸¥å‡ºåŸåˆ™ï¼šå¯¹è‡ªå·±å‘é€çš„ä¸œè¥¿è¦ä¸¥æ ¼ï¼Œå¯¹æ¥æ”¶çš„ä¸œè¥¿å¯ä»¥å®½å®¹ä¸€ç‚¹ åŠæ—©å‘ç°ç ´åæ€§ä¿®æ”¹ ä½¿ç”¨è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬ç®¡ç† é€šè¿‡ç‰ˆæœ¬å·æ¥å‘ŠçŸ¥æ¶ˆè´¹æ–¹åŠŸèƒ½å¢åŠ æˆ–æ˜¯å¦å‘åå…¼å®¹ å¤šç‰ˆæœ¬æ¥å£å…±å­˜ å¤šç‰ˆæœ¬æœåŠ¡å…±å­˜ ç”¨æˆ·ç•Œé¢ æ•°å­—åŒ– æœªæ¥çš„éœ€æ±‚å¾ˆéš¾é¢„æµ‹ï¼Œæä¾›ç»†ç²’åº¦çš„API ä¸åŒåœºæ™¯çš„çº¦æŸ APIçš„ç»„åˆ ä½¿ç”¨ç½‘å…³æ¥ç¼“è§£å®¢æˆ·ç«¯ä¸æœåŠ¡ä¹‹é—´çš„è¿‡å¤šäº¤äº’ æœåŠ¡ç›´æ¥æä¾›UIç‰‡æ®µ ä¸ºå‰ç«¯æœåŠ¡çš„åç«¯ å†åœ¨æœåŠ¡ä¹‹ä¸Šå°è£…ä¸€ä¸ªAPIæä¾›ç²—ç²’åº¦çš„æ¥å£ï¼Œè¿™äº›æ¥å£é€šè¿‡è°ƒç”¨ä¸‹å±‚çš„æœåŠ¡æ¥æä¾›æœåŠ¡ ä½†æ˜¯è¿™å±‚APIå¾ˆå®¹æ˜“å‘å±•ä¸ºä¸€ä¸ªæ€ªå…½ï¼Œå¹¶ä¸”å¯èƒ½ä¼šæœ‰ä¸šåŠ¡é€»è¾‘æ··å…¥å…¶ä¸­ é›†æˆç¬¬ä¸‰æ–¹è½¯ä»¶ ä¸€äº›é£é™©ï¼š ç¼ºä¹æ§åˆ¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-19 06:48:42 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/äº‹åŠ¡.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/äº‹åŠ¡.html","title":"äº‹åŠ¡","keywords":"","body":"å¾®æœåŠ¡äº‹åŠ¡SAGA Sagaï¼ˆæ¶ˆæ¯é©±åŠ¨çš„æœ¬åœ°äº‹åŠ¡åºåˆ—ï¼‰ åˆ†å¸ƒå¼äº‹åŠ¡çš„é—®é¢˜ è®¸å¤šNoSQLä¸æ”¯æŒXAæ ‡å‡† ä¼šé™ä½å¯ç”¨æ€§ ä½¿ç”¨SAGAç»´æŠ¤ä¸€è‡´æ€§ ä½¿ç”¨SAGAå®Œæˆä¸€ä¸ªè·¨æœåŠ¡çš„è®¢å•åˆ›å»ºï¼š è¿™æ„å‘³ç€æ¯ä¸€æ­¥æ‰€äº§ç”Ÿçš„å­äº‹åŠ¡éƒ½ä¼šè¢«å†™å…¥æ•°æ®åº“ï¼Œå¿…é¡»é€šè¿‡è¡¥å¿äº‹åŠ¡çš„æ–¹å¼æ¥è¿›è¡Œå›æ»šã€‚åŒæ—¶ä¹Ÿæ„å‘³ç€è¿™æ ·çš„äº‹åŠ¡ç¼ºå°‘éš”ç¦»æ€§ã€‚ åä½œæ¨¡å¼ sagaå‚ä¸æ–¹å¦‚ä½•è¿›è¡Œåè°ƒï¼š ååŒå¼ äº‹åŠ¡çš„å†³ç­–å’Œæ‰§è¡Œé€»è¾‘åˆ†å¸ƒåœ¨æ¯ä¸ªå‚ä¸æ–¹ä¸­ ç¼–æ’å¼ å†³ç­–å’Œæ‰§è¡Œé€»è¾‘é›†ä¸­åœ¨ç¼–æ’å™¨ç±»ï¼Œç”±è¯¥ä¸­å¿ƒæŒ‡æŒ¥å„ä¸ªå‚ä¸æ–¹ ä¸ºé¿å…ç¼–æ’å™¨ç±»å«æœ‰è¿‡å¤šçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯é€šè¿‡è®¾è®¡åªè´Ÿè´£æ’åºçš„ç¼–æ’å™¨è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å®ç°éš”ç¦» sagaåŒ…å«ä¸‰ç§äº‹åŠ¡ç±»å‹ï¼š å¯è¡¥å¿äº‹åŠ¡ å…³é”®æ€§äº‹åŠ¡ï¼šæ‰§è¡ŒæˆåŠŸï¼Œåˆ™sagaå°†ä¸€ç›´è¿è¡Œåˆ°å®Œæˆ å¯é‡å¤äº‹åŠ¡ å¯¹ç­– è¯­ä¹‰é”ï¼šé€šè¿‡å¯¹æ•°æ®è®¾ç½®ä¸€ä¸ªPENDINGçŠ¶æ€é¿å…å…¶ä»–äº‹åŠ¡ä¿®æ”¹ äº¤æ¢å¼æ›´æ–°ï¼šç±»ä¼¼äºgitç‰ˆæœ¬ç®¡ç†ï¼Œä½¿ç”¨æ–°å¢æ•°æ®çš„æ–¹å¼æ’¤é”€æ›´æ–° æ‚²è§‚è§†å›¾ï¼šå¯¹äº‹åŠ¡æ“ä½œé‡æ’åºï¼Œä»¥é™ä½è„è¯»å¯¼è‡´çš„é£é™© é‡è¯»å€¼ï¼šé€šè¿‡é‡è¯»éªŒè¯æ•°æ®æœªè¢«ä¿®æ”¹ ç‰ˆæœ¬æ–‡ä»¶ï¼šé€šè¿‡è®°å½•å¯¹æ•°æ®æ‰§è¡Œçš„æ“ä½œï¼Œä»¥å°†ä¸å¯äº¤æ¢çš„æ“ä½œè½¬æ¢ä¸ºå¯äº¤æ¢æ“ä½œ ä¸šåŠ¡é£é™©è¯„çº§ï¼šåªåœ¨ä½é£é™©ä¸šåŠ¡åº”ç”¨saga MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-21 09:47:44 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/æ‹†åˆ†.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/æ‹†åˆ†.html","title":"æ‹†åˆ†","keywords":"","body":"åˆ†è§£å•å—ç³»ç»Ÿ å•ä½“åœ°ç‹± æ—©æœŸå•ä½“æ¶æ„çš„å¥½å¤„ï¼š åº”ç”¨å¼€å‘ç®€å• æ˜“äºå¤§è§„æ¨¡æ›´æ”¹ æµ‹è¯•éƒ¨ç½²æ‰©å±•ç®€å• éšç€åº”ç”¨çš„ä¸æ–­ä¸°å¯Œï¼Œå•ä½“æš´éœ²å‡ºäº†ä¸‹åˆ—é—®é¢˜ï¼š å¤æ‚æ€§ å½±å“å¼€å‘æ•ˆç‡ æ‰©å±•éš¾ é”™è¯¯æ— æ³•éš”ç¦»ï¼Œè½¯ä»¶å˜å¾—ä¸é‚£ä¹ˆå¯é  å®šä¹‰å¾®æœåŠ¡æ¶æ„ å®šä¹‰ç³»ç»Ÿæ“ä½œï¼šæ ¹æ®ç”¨æˆ·éœ€æ±‚ å‘½ä»¤æ“ä½œ æŸ¥è¯¢æ“ä½œ å®šä¹‰æœåŠ¡ å®šä¹‰æœåŠ¡APIä¸åä½œæ–¹å¼ æ‹†åˆ†å•ä½“ æ ¹æ®æ”¹å˜é€Ÿåº¦ï¼Œå›¢é˜Ÿç»“æ„ï¼Œå®‰å…¨éœ€æ±‚ä»¥åŠå®ç°æŠ€æœ¯ç­‰å¯¹å…¶è¿›è¡Œåˆ†ç¦» ç»æ€å•ä½“åº”ç”¨ï¼š åœæ­¢æŒ–æ˜ å½“å¼€å‘æ–°åŠŸèƒ½æ—¶ä¸åº”è¯¥ä¸ºæ—§å•ä½“åº”ç”¨æ·»åŠ æ–°ä»£ç ï¼Œæœ€ä½³æ–¹æ³•åº”è¯¥æ˜¯å°†æ–°åŠŸèƒ½å¼€å‘æˆç‹¬ç«‹å¾®æœåŠ¡ å‰åç«¯åˆ†ç¦» å°†å•ä½“åº”ç”¨è¿›è¡Œå‰åç«¯åˆ†ç¦»ï¼Œæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š ä½¿å¾—å¯ä»¥æ¥å…¥å¾®æœåŠ¡ ç•Œé¢ä¸ä¸šåŠ¡é€»è¾‘å¯ä»¥ç‹¬ç«‹éƒ¨ç½² æŠ½å‡ºæœåŠ¡ å¯¹æŠ½å–æˆæœåŠ¡çš„æ¨¡å—è¿›è¡Œä¼˜å…ˆçº§æ’åº ç»å¸¸å˜åŒ–çš„ä¸šåŠ¡é€»è¾‘ èµ„æºæ¶ˆè€—å¤§æˆ· ç²—ç²’åº¦è¾¹ç•Œ æŠ½å–æ¨¡å— å®šä¹‰ç²—ç²’åº¦æ¥å£ å°†è°ƒç”¨å˜ä¸ºè¿œç¨‹è°ƒç”¨ ä¸å•ä½“åä½œ å•ä½“é‡æ„çš„è¿‡ç¨‹ä¸­ï¼Œå¾®æœåŠ¡è‚¯å®šéœ€è¦ä¸å•ä½“è¿›è¡Œåä½œï¼Œéœ€è¦å®šä¹‰å¥½ä¸€ä¸ªå®ƒä»¬ä¹‹é—´çš„åä½œæ–¹å¼ã€‚ é›†æˆèƒ¶æ°´API è¿›ç¨‹é—´é€šä¿¡æ¥å£ åè…å±‚ï¼šå»ºç«‹ä¸€ä¸ªä¸­é—´å±‚ï¼Œé¿å…ä¸åŒé¢†åŸŸçš„æ¦‚å¿µç›¸äº’æ±¡æŸ“ ç»´æŠ¤å¥½æ•°æ®ä¸€è‡´æ€§ èº«ä»½éªŒè¯ä¸æˆæƒæœºåˆ¶ æ‹†åˆ†æœåŠ¡ æ‰©å±• è¿ç§» æ”¶ç¼© åˆ é™¤åŸå…ˆæœåŠ¡çš„æ— ç”¨ä»£ç  é‚£ä¹ˆå¦‚ä½•å°†å¯¹åº”çš„ç³»ç»Ÿæ“ä½œæ‹†åˆ†ä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Ÿ æ ¹æ®ä¸šåŠ¡èƒ½åŠ› ç»„ç»‡çš„ä¸šåŠ¡æ˜¯åšä»€ä¹ˆã€‚ ä»ä¸šåŠ¡èƒ½åŠ›åˆ°æœåŠ¡çš„æ˜ å°„æ˜¯ä¸€ä¸ªéå¸¸ä¸»è§‚çš„åˆ¤æ–­ã€‚å›´ç»•ä¸šåŠ¡èƒ½åŠ›å»ºæ¨¡çš„å¥½å¤„åœ¨äºæœ€ç»ˆçš„æ¶æ„ä¼šè¶‹äºç¨³å®šã€‚ æ ¹æ®å­åŸŸ åˆ©ç”¨DDDå­åŸŸçš„æ¦‚å¿µæ¥é¿å…ä¸åŒå­é¢†åŸŸå¤ç”¨ç›¸åŒæœ¯è¯­æ‰€å¸¦æ¥çš„æ··ä¹±ã€‚ æœåŠ¡APIå®šä¹‰ å°†ç³»ç»Ÿæ“ä½œåˆ†é…ç»™æœåŠ¡ ç¡®å®šæœåŠ¡æ‰€æš´éœ²çš„API ä¾èµ–å¤„ç† æ•°æ®åº“ åˆ†ææ•°æ®åº“è¡¨çš„ä¾èµ–å…³ç³»ï¼ŒæŠŠä¸åŒçš„è¡¨æˆ–è€…ä¸åŒçš„æ•°æ®åˆ†åˆ°ä¸åŒçš„é™ç•Œä¸Šä¸‹æ–‡é‡Œ å¤–é”® æ”¾å¼ƒï¼Œæ”¹ç”¨apiè°ƒç”¨æ¥å®ç°æ•°æ®æŸ¥è¯¢ å…±äº«æ•°æ® é™æ€æ•°æ® å¦‚æœè¦æ±‚ä¸è‹›åˆ»ï¼Œå¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™ä½¿ç”¨ä¸€ä¸ªä¸“é—¨çš„æœåŠ¡å™¨æ¥ç®¡ç†é™æ€æ•°æ® åŠ¨æ€æ•°æ® ç‹¬ç«‹å‡ºä¸€ä¸ªæœåŠ¡ï¼Œä¸“é—¨æ¥å¤„ç† å…±äº«è¡¨ éœ€è¦é‡æ–°å®¡è§†è®¾è®¡ï¼Œè¿›è¡Œåˆ†è¡¨æ“ä½œ æ•°æ®åº“é‡æ„ å…ˆåˆ†ç¦»æ•°æ®åº“å†åˆ†ç¦»æœåŠ¡ï¼Œè™½ç„¶è¿™æ ·ä¼šç ´åäº‹åŠ¡å®Œæ•´æ€§ï¼Œä½†æ˜¯å¯ä»¥ä¿è¯éšæ—¶å¯ä»¥å›é€€ äº‹åŠ¡ åˆ†ç¦»æ•°æ®åº“ä¹‹åï¼Œå¦‚ä½•ä¿è¯äº‹åŠ¡çš„å®‰å…¨æ€§ï¼Ÿ å¦‚æœä¸€ä¸ªäº‹åŠ¡ä¸­çš„éƒ¨åˆ†æ“ä½œæˆåŠŸï¼Œéƒ¨åˆ†æ“ä½œå¤±è´¥ï¼Œè¯¥å¦‚ä½•ï¼Ÿ å†è¯•ä¸€æ¬¡ ä¹Ÿå°±æ˜¯æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¦‚æœå¤±è´¥äº†ï¼Œå°†å…¶æ”¾å…¥é˜Ÿåˆ—ï¼Œç¨åé‡è¯• ç»ˆæ­¢æ“ä½œ å‘èµ·ä¸€ä¸ªè¡¥å¿äº‹åŠ¡ï¼Œæ¥æ’¤é”€æˆåŠŸçš„æ“ä½œ ä½†æ˜¯å¦‚æœè¡¥å¿äº‹åŠ¡å†å¤±è´¥çš„è¯ï¼Œå¯ä»¥å¼•å…¥é‡è¯•æˆ–è€…äººå·¥æ“ä½œ åˆ†å¸ƒå¼äº‹åŠ¡ ä¹Ÿå°±æ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Œæ¯ä¸ªäº‹åŠ¡å‚ä¸è€…éœ€è¦å‘äº‹åŠ¡ç®¡ç†å™¨æŠ•ç¥¨ï¼Œå¦‚æœæ‰€æœ‰å‚ä¸è€…éƒ½åŒæ„ï¼Œåˆ™äº‹åŠ¡ç®¡ç†å™¨å‘Šè¯‰æ‰€æœ‰å‚ä¸è€…æäº¤ï¼Œå¦åˆ™åªè¦æœ‰ä¸€ä¸ªä¸åŒæ„ï¼Œåˆ™æ‰€æœ‰äº‹åŠ¡å‚ä¸è€…éƒ½æœ‰æ”¾å¼ƒæ­¤æ¬¡äº‹åŠ¡ å¼•å…¥è¿™äº›éƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯é¿å…è¿™ç§è·¨æœåŠ¡çš„äº‹åŠ¡ æŠ¥è¡¨é—®é¢˜ å¦‚æœåˆ†ç¦»äº†æ•°æ®åº“ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³éœ€è¦æ‰€æœ‰æ•°æ®çš„åå°æŠ¥è¡¨åº”ç”¨ï¼Ÿ æœåŠ¡è°ƒç”¨ SQLæ¥å£ æä¾›ä¸€ä¸ªæ‰¹é‡API æŒ‡å¯¼ç³»ç»Ÿå°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªå…±äº«ä½ç½®æ¥è§£å†³ä¼ è¾“é—®é¢˜ æ•°æ®å¯¼å‡º ç”±æœåŠ¡ä¸»åŠ¨æ¨é€æ•°æ®åˆ°æŠ¥è¡¨æœåŠ¡å™¨ äº‹ä»¶æ•°æ®å¯¼å‡º å½“æœåŠ¡å‘ç”Ÿäº‹ä»¶æ—¶ï¼ŒæœåŠ¡ä¸»åŠ¨æ¨é€è¿™äº›äº‹ä»¶åˆ°ä¸€ä¸ªä¸­é—´ä»¶ä¸Š æ‹†åˆ†å•ä½“åˆ°æœåŠ¡çš„éš¾ç‚¹ ç½‘ç»œå»¶è¿Ÿ åŒæ­¥é€šä¿¡å¯¼è‡´çš„å¯ç”¨æ€§é™ä½ æ•°æ®ä¸€è‡´æ€§é—®é¢˜ ä¸åŒå­åŸŸå¯¹åŒä¸€ä¸šåŠ¡å®ä½“å¤ç”¨é€ æˆçš„ä¸Šå¸ç±» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-01 02:47:17 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/ä¸šåŠ¡é€»è¾‘.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/ä¸šåŠ¡é€»è¾‘.html","title":"ä¸šåŠ¡é€»è¾‘","keywords":"","body":"ä¸šåŠ¡é€»è¾‘è®¾è®¡ä¸ç»„ç»‡ ç»„ç»‡æ¨¡å¼ï¼š å…¥ç«™é€‚é…å™¨å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶è°ƒç”¨ä¸šåŠ¡é€»è¾‘ å‡ºç«™é€‚é…å™¨è¢«ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿›è€Œè°ƒç”¨å…¶ä»–æœåŠ¡ å¯¹äºç®€å•çš„ä¸šåŠ¡é€»è¾‘ï¼Œä½¿ç”¨ç®€å•çš„è§£å†³æ–¹å¼ï¼šäº‹åŠ¡è„šæœ¬æ¨¡å¼ äº‹åŠ¡è„šæœ¬æ¨¡å¼åªé€‚ç”¨äºç®€å•çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ˜¯ä¸€ç§è¿‡ç¨‹å¼çš„ä»£ç ã€‚å½“ä¸šåŠ¡é€»è¾‘é€æ¸å¤æ‚ï¼Œåˆ™å°±å‡†å¤‡ä½¿ç”¨é¢†åŸŸæ¨¡å‹ï¼Œè¿™ç§æ¨¡å¼æ˜¯å°†ä¸šåŠ¡é€»è¾‘ç»„ç»‡ä¸ºå…·æœ‰çŠ¶æ€å’Œè¡Œä¸ºçš„å¯¹è±¡æ¨¡å‹ã€‚ é¢†åŸŸé©±åŠ¨è®¾è®¡æ˜¯æ„å»ºå¤æ‚ä¸šåŠ¡é€»è¾‘æœ€ååˆ©å™¨ï¼Œå®ƒæä¾›äº†è¯¸å¦‚entity valueobject factory repository serviceç­‰æ¦‚å¿µéƒ½å·²ç»è¢«ç°åœ¨çš„å¼€å‘äººå‘˜å¹¿æ³›é‡‡ç”¨ï¼Œä½†å¯¹å¾®æœåŠ¡æœ€é‡è¦çš„æ¦‚å¿µï¼Œè¿˜æ˜¯DDDä¸­çš„èšåˆã€‚ èšåˆæ¨¡å¼ ä¸šåŠ¡é€»è¾‘å¿…é¡»ä»”ç»†è®¾è®¡ï¼Œä»¥ä¿éšœå…¨å±€çš„ä¸€è‡´æ€§ï¼Œä¸ºäº†ç»´æŠ¤è¿™ç§ä¸€è‡´æ€§ï¼Œå°†å„ä¸ªé¢†åŸŸæ¨¡å‹ç»„ç»‡æˆèšåˆï¼Œæ¯ç»„èšåˆå°±æ˜¯ä¸€ä¸ªè¾¹ç•Œï¼Œèšåˆå¤–çš„æ¨¡å‹åªèƒ½é€šè¿‡èšåˆæ ¹æ¥è¿›è¡Œäº¤æµã€‚ ä¸€äº›è§„åˆ™ï¼š åªå¼•ç”¨èšåˆæ ¹ï¼šå°±æ˜¯åªè·Ÿæ ¹æ‰“äº¤é“ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡ä»”ç»†è®¾è®¡æ ¹çš„æ–¹å¼ä¿è¯å•ä¸€å‡ºå…¥å£ èšåˆé—´çš„å¼•ç”¨é€šè¿‡ä¸»é”®ï¼šé€šè¿‡ä¸»é”®è®©æŒä¹…åŒ–ä¸æ‰©å±•å˜å¾—ç®€å• ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œåªèƒ½æ›´æ–°æˆ–åˆ›å»ºä¸€ä¸ªèšåˆï¼šè¿™æ˜¯ä¸ºäº†æ»¡è¶³å¾®æœåŠ¡åœºæ™¯ä¸‹åˆ†å¸ƒå¼äº‹åŠ¡çš„é—®é¢˜ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨Saga èšåˆçš„ç²’åº¦è¶Šç»†ä¼šè¶Šæœ‰æ‰©å±•æ€§ï¼Œä½†ç²—ä¸€ç‚¹çš„èšåˆä¹Ÿæœ‰é™ä½ç¼–ç¨‹å·¥ä½œé‡çš„å¥½å¤„ï¼Œæ›´ç²—çš„èšåˆï¼Œä¸€æ¬¡å¯ä»¥æ“ä½œæ›´å¤šçš„æ¨¡å‹ã€‚ é¢†åŸŸäº‹ä»¶ é¢†åŸŸäº‹ä»¶æŒ‡çš„æ˜¯ä¸€èˆ¬æ˜¯è¿‡å»çš„æ—¶å€™æ¨¡å‹å‘ç”Ÿäº†æŸäº›çŠ¶æ€å˜åŒ–æˆ–è€…æ‰§è¡Œäº†æŸäº›æ“ä½œç­‰ã€‚ é¢†åŸŸäº‹ä»¶ç”±èšåˆè´Ÿè´£å‘å¸ƒã€‚ä½œä¸ºäº‹ä»¶ï¼ŒåŒæ ·ä¹Ÿå¾—æ»¡è¶³äº‹åŠ¡çš„ç‰¹å¾åŒæ—¶è¢«å¯é åœ°å‘å¸ƒã€‚ äº‹ä»¶å‘å¸ƒä¹‹åï¼Œåˆ™å¯ä»¥é€šè¿‡æ¶ˆæ¯ä»£ç†è¢«å„æ–¹æ¶ˆè´¹ã€‚ äº‹ä»¶æº¯æº å¯¹å¯¹è±¡è®°å½•äº‹ä»¶çŠ¶æ€äº§ç”Ÿçš„å˜åŒ–ï¼Œéœ€è¦å¯¹è±¡æ—¶å¯¹è¿™äº›äº‹ä»¶è¿›è¡Œé‡æ”¾ ä¸ºäº†é¿å…é‡æ”¾äº‹ä»¶å¸¦æ¥çš„æ•ˆç‡é—®é¢˜ï¼Œå¸¸è§çš„è§£å†³æ–¹æ¡ˆæ˜¯å®šæ—¶ä¿å­˜å¯¹è±¡å¿«ç…§ å¥½å¤„ï¼š å¯é å‘å¸ƒé¢†åŸŸäº‹ä»¶ ä¿ç•™äº†å˜æ›´å†å² æœ€å¤§ç¨‹åº¦é¿å…é˜»æŠ—å¤±è¡¡ å¼Šç«¯ï¼š æœ‰ä¸€å®šå­¦ä¹ æ›²çº¿ åŸºäºæ¶ˆæ¯ä¼ é€’åº”ç”¨çš„å¤æ‚æ€§ éšç€ä»£ç æ¼”è¿›çŠ¶æ€å‘ç”Ÿå˜æ›´å°±å¿…é¡»å…¼å®¹ä»¥å‰ç‰ˆæœ¬ åˆ é™¤ä¸æŸ¥è¯¢å˜å¾—ä¸å†å®¹æ˜“ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-25 06:23:33 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/æŸ¥è¯¢.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/æŸ¥è¯¢.html","title":"æŸ¥è¯¢","keywords":"","body":"æŸ¥è¯¢ APIç»„åˆæ¨¡å¼ è®©æ‹¥æœ‰æ•°æ®çš„æœåŠ¡çš„å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡ï¼Œå¹¶ç»„ä»¶æœåŠ¡è¿”å›çš„æŸ¥è¯¢ç»“æœ é—®é¢˜ï¼š é€‰æ‹©è°ä¸ºç»„åˆå™¨ å®¢æˆ·ç«¯ ç½‘å…³ å®ç°ä¸ºç‹¬ç«‹çš„æœåŠ¡ å¦‚ä½•åœ¨ç»„åˆå™¨ç¼–å†™èšåˆé€»è¾‘ è¿™ç§æ–¹å¼å¥½å¤„æ˜¯ç®€å•ç›´è§‚ã€‚å¼Šç«¯ï¼š å¸¦æ¥äº†é¢å¤–çš„å¼€é”€ å¯ç”¨æ€§æœ‰é™ä½çš„é£é™© æŸ¥è¯¢ç¼ºä¹æ•°æ®ä¸€è‡´æ€§ CQRSæ¨¡å¼ ç»´æŠ¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªè¯†å›¾æ•°æ®åº“ï¼Œè¿›è€Œå®ç°æŸ¥è¯¢ã€‚ å¥½å¤„ä¸å¼Šç«¯ï¼š é«˜æ•ˆå®ç°å¤šä¸ªæœåŠ¡çš„å¤šç§ç±»å‹æŸ¥è¯¢ æ”¯æŒäº‹ä»¶æº¯æºæŠ€æœ¯ éš”ç¦»äº†é—®é¢˜ï¼šé¢†åŸŸæ¨¡å‹ä¸å¿…åŒæ—¶å¤„ç†å‘½ä»¤å’ŒæŸ¥è¯¢ æ¶æ„æ›´åŠ å¤æ‚ æ•°æ®æœ‰ä¸€å®šçš„å»¶è¿Ÿ CQRSè§†å›¾è®¾è®¡ é€‰æ‹©åˆé€‚çš„æ•°æ®åº“ SQL or NoSQL æ•°æ®è®¿é—®æ¨¡å— å¹¶å‘å¤„ç† å¹‚ç­‰å¤„ç† æ›´æ–°è§†å›¾ å½’æ¡£ å¿«ç…§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-26 07:57:31 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/éƒ¨ç½².html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/éƒ¨ç½².html","title":"éƒ¨ç½²","keywords":"","body":"éƒ¨ç½² å¾®æœåŠ¡ç”Ÿäº§ç¯å¢ƒ æŒç»­é›†æˆ æŒç»­é›†æˆçš„ä¸€ä¸ªä¸»è¦ä½œç”¨æ˜¯ä¿è¯æ–°æäº¤çš„ä»£ç ä¸å·²æœ‰ä»£ç è¿›è¡Œé›†æˆ çœŸæ­£çš„æŒç»­é›†æˆ ä»£ç åº”è¯¥é¢‘ç¹åœ°è¢«é›†æˆ åº”è¯¥æœ‰æµ‹è¯•æ¥éªŒè¯æ­£ç¡®æ€§ æ„å»ºå¤±è´¥åçš„ç¬¬ä¸€ä»»åŠ¡æ—¶ä¿®å¤å¤±è´¥ å¾®æœåŠ¡ä¸æŒç»­é›†æˆ æœ‰ä¸‰ç§æ–¹å¼æ¥åˆ†åˆ«ç®¡ç†å¾®æœåŠ¡ä»£ç åº“ä¸CIæœåŠ¡å™¨ æ‰€æœ‰å¾®æœåŠ¡å­˜äºä¸€ä¸ªä»£ç åº“ï¼Œä¸€ä¸ªCIæœåŠ¡å™¨ è¿™ç§æ–¹å¼åœ¨é¡¹ç›®åˆæœŸå¯ä»¥è¡Œå¾—é€šï¼Œä½†æ˜¯ä¼šé€ æˆæ¯æ¬¡æäº¤ä»£ç éƒ½ä¼šå¯¹æ‰€æœ‰æœåŠ¡è¿›è¡Œé›†æˆï¼Œè€Œä¸”å¯èƒ½ä¸€ä¸ªæœåŠ¡é›†æˆå¤±è´¥ä¹Ÿä¼šå½±å“åˆ°åŸæ¥æ­£å¸¸çš„æœåŠ¡ æ‰€æœ‰å¾®æœåŠ¡å…±äº«ä¸€ä¸ªä»£ç åº“ï¼Œä½†æ˜¯æ¯ä¸ªæœåŠ¡æ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„CIæ„å»ºè¿‡ç¨‹ è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œè·¨æœåŠ¡ä¿®æ”¹ä¼šå˜å¾—å›°éš¾ æ‰€æœ‰å¾®æœåŠ¡æ‹¥æœ‰è‡ªå·±çš„ä»£ç åº“ï¼Œä»¥åŠè‡ªå·±çš„CIæ„å»ºè¿‡ç¨‹ æ„å»ºæµæ°´çº¿ä¸æŒç»­é›†æˆ æŠŠä¸€ä¸ªå¤æ‚çš„æ„å»ºæµç¨‹åˆ†æˆè®¸å¤šä¸ªé˜¶æ®µï¼Œç§°ä¹‹ä¸ºæ„å»ºæµæ°´çº¿ï¼Œä¸ä»…èƒ½æ›´æ—©åœ°å‘ç°é”™è¯¯ï¼Œè€Œä¸”å¯ä»¥å¾ˆå¥½åœ°åæ˜ è½¯ä»¶çš„è´¨é‡ æŒç»­äº¤ä»˜(CD)åŸºäºä»¥ä¸Šæ¦‚å¿µ å¹³å°ç‰¹å®šæ„å»ºç‰© ä¸åŒçš„æŠ€æœ¯æ ˆæœ€åçš„æ„å»ºç‰©ä½¿ç”¨ã€å®‰è£…ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥å¾ˆéœ€è¦ä¸€ç§é€šç”¨çš„æŠ€æœ¯æ¥å¯¹è¿™äº›æ„å»ºç‰©è¿›è¡Œå¤„ç† æ“ä½œç³»ç»Ÿæ„å»ºç‰© ä¸€ç§å±è”½è¿™ç§æŠ€æœ¯æ ˆå·®å¼‚çš„æ–¹å¼æ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿæ„å»ºç‰©ï¼Œä¹Ÿå°±è¯´æ“ä½œç³»ç»Ÿèƒ½ç›´æ¥æ‰§è¡Œçš„æ–‡ä»¶ é•œåƒ é€šè¿‡è™šæ‹ŸåŒ–å¹³å°ï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«è½¯ä»¶æ‰€éœ€ç¯å¢ƒçš„é•œåƒï¼Œè¿™æ ·å°±å¯ä»¥å¿«é€Ÿè¿›è¡Œéƒ¨ç½²ï¼Œå¹¶ä¸”å±è”½åº•å±‚ç»†èŠ‚ ç”šè‡³å¯ä»¥ç›´æ¥å°†é•œåƒä½œä¸ºæ„å»ºç‰©ï¼Œæœ€ååªéœ€å¯åŠ¨é•œåƒå³å¯ æœ‰æ—¶å€™ï¼Œå¦‚æœæœºå™¨ä¿®æ”¹äº†ä¸€äº›é…ç½®ï¼Œå°±ä¼šé€ æˆå®é™…é…ç½®ä¸æºä»£ç ç®¡ç†ä¸­çš„é…ç½®ä¸ä¸€è‡´ï¼Œè¿™ç§°ä¸ºé…ç½®é£˜é€¸ï¼Œæ‰€ä»¥éœ€è¦æœ‰ä¸€ç§æŠ€æœ¯ï¼Œèƒ½å¤Ÿç¦æ­¢å¯¹éƒ¨ç½²é•œåƒæœåŠ¡å™¨çš„æ‰€æœ‰ä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯ä¸å¯å˜æœåŠ¡å™¨ æœåŠ¡é…ç½® å¯¹æœåŠ¡çš„é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸“ç”¨ç³»ç»Ÿæ¥å¤„ç†ï¼Œç§°ä¹‹ä¸ºé…ç½®ä¸­å¿ƒ æœåŠ¡ä¸ä¸»æœº å•ä¸»æœºå¤šæœåŠ¡ ç”±äºè™šæ‹ŸåŒ–åŸºç¡€è®¾æ–½æœ¬èº«ä¹Ÿä¼šå ç”¨ä¸€å®šçš„èµ„æºï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æœ¬èº«è™½ç„¶èƒ½æé«˜èµ„æºçš„åˆ©ç”¨ç‡ï¼Œä½†ä¼šé€ æˆä¸€äº›é—®é¢˜ï¼š ç›‘æ§å˜å¾—æ›´åŠ å›°éš¾ æ”¾å¼ƒäº†å¾®æœåŠ¡èƒ½ç‹¬ç«‹éƒ¨ç½²ä¸åŒæœåŠ¡çš„å¥½å¤„ ä¸åˆ©äºå›¢é˜Ÿçš„è‡ªæ²»æ€§ å¢åŠ äº†æ‰©å±•çš„å¤æ‚æ€§ åº”ç”¨ç¨‹åºå®¹å™¨ è¯¸å¦‚tomcatç­‰çš„å®¹å™¨å¯ä»¥è®©å¤šä¸ªæœåŠ¡è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œï¼Œä½†è¿™ç§æ–¹å¼ä¸ä»…ä¼šé™åˆ¶æŠ€æœ¯æ ˆçš„é€‰æ‹©ï¼Œè€Œä¸”è¿˜ä¼šä½¿ç›‘æ§ã€åˆ†æç­‰å˜å¾—æ›´åŠ å›°éš¾ ä¸€å°ä¸»æœºä¸€ä¸ªæœåŠ¡ ä»£è¡¨æŠ€æœ¯æ˜¯è™šæ‹Ÿæœºä¸å®¹å™¨ è¿™ç§æ–¹å¼è™½ç„¶æµªè´¹äº†ä¸€äº›èµ„æºï¼Œä½†æ˜¯å¯ä»¥å‡å°‘æ½œåœ¨çš„å•ç‚¹æ•…éšœä»¥åŠæ‹¥æœ‰æ›´å¤šçš„æŠ€æœ¯æ ˆé€‰æ‹© è°ƒåº¦æ¨¡å‹ å¹³å°å³æœåŠ¡(paas) å±äºserverlessï¼Œè¿‘äº›å¹´è¶Šæ¥è¶Šå—é’ç å°†åº•å±‚æœºå™¨çš„ç®¡ç†å…¨éƒ¨äº¤ç»™äº‘ï¼Œåªéœ€è¦æä¾›ä¸€ä¸ªè½¯ä»¶ï¼Œå°±èƒ½å¸®ä½ è¿è¡Œ éƒ¨ç½²æ–¹å¼ è“ç»¿éƒ¨ç½² æœ‰æ—¶å€™ï¼ŒæŸäº›é—®é¢˜åªæœ‰åœ¨ç‰¹å®šç¯å¢ƒä¸‹æ‰èƒ½å‡ºç°ï¼Œè“ç»¿éƒ¨ç½²å°±æ˜¯éƒ¨ç½²æ–°ç‰ˆæœ¬æœåŠ¡åï¼Œä¸åœæ­¢è€ç‰ˆæœ¬æœåŠ¡ï¼Œå…ˆå¯¹æ–°æœåŠ¡è¿è¡Œä¸€äº›æµ‹è¯•ï¼Œå¦‚æœæ²¡é—®é¢˜å°±æŠŠæµé‡ä»è€æœåŠ¡è½¬å‘åˆ°æ–°æœåŠ¡ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œå¿«é€Ÿåˆ‡æ¢å›è€æœåŠ¡ã€‚ ä½†éœ€è¦ä½ èƒ½åˆ‡æ¢ç”Ÿäº§æµé‡åˆ°ä¸åŒçš„ä¸»æœºä»¥åŠæ‹¥æœ‰è¶³å¤Ÿçš„ä¸»æœºæ¥éƒ¨ç½²ä¸¤ä¸ªæœåŠ¡ é‡‘ä¸é›€å‘å¸ƒ é‡‘ä¸é›€å‘å¸ƒåˆ™æ˜¯å°†éƒ¨åˆ†ç”Ÿäº§æµé‡ä»è€æœåŠ¡åˆ‡æ¢åˆ°æ–°æœåŠ¡ï¼Œæ¥éªŒè¯ç³»ç»Ÿæ˜¯å¦æŒ‰é¢„æœŸæ‰§è¡Œï¼Œé‡‘ä¸é›€å‘å¸ƒä¸è“ç»¿éƒ¨ç½²çš„åŒºåˆ«åœ¨äºï¼Œé‡‘ä¸é›€å‘å¸ƒè€æ—§ç‰ˆæœ¬å…±å­˜æ—¶é—´è¾ƒé•¿ï¼Œè€Œè“ç»¿éƒ¨ç½²ä¸€æ—¦ç¡®å®šæ–°ç³»ç»Ÿæ²¡é—®é¢˜ï¼Œå°±ä¼šå…³åœè€ç³»ç»Ÿ è‡ªåŠ¨åŒ– å¾®æœåŠ¡çš„å¼•å…¥ï¼Œä¸»æœºæ•°é‡è‚¯å®šä¼šä¸Šå‡ï¼Œå¦‚æœæ‰‹åŠ¨ç®¡ç†è¿™äº›æœºå™¨ï¼Œææ€•æ²¡é‚£ä¹ˆå®¹æ˜“ï¼Œå¼•å…¥è‡ªåŠ¨åŒ–èƒ½å¾ˆå¥½åœ°æå‡å·¥ä½œæ•ˆç‡ è™šæ‹ŸåŒ– ä¼ ç»Ÿçš„è™šæ‹ŸåŒ– ä¼ ç»Ÿçš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œè¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ä¸€ä¸ªè™šæ‹Ÿæœºè½¯ä»¶ï¼Œè¿™ä¸ªè™šæ‹Ÿæœºè½¯ä»¶å†è™šæ‹Ÿå‡ºç¡¬ä»¶ç»™æ“ä½œç³»ç»Ÿè¿è¡Œ è½»é‡çº§è™šæ‹ŸåŒ– Hypervisor vagrant linuxå®¹å™¨ docker å®¹å™¨åŒ–éƒ¨ç½² å®¹å™¨åŒ–é›†ç¾¤éƒ¨ç½² é€šè¿‡è½¯ä»¶å·¥å…·ç®¡ç†å…±äº«ä¸»æœºèµ„æºæ± ï¼Œå±è”½ä¸»æœºå±‚ éƒ¨ç½²æ¥å£ ä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„éƒ¨ç½²æ¥å£æ¥éƒ¨ç½²æœåŠ¡ æ„å»ºè¿™æ ·çš„ä¸€ä¸ªç³»ç»Ÿå·¥ä½œé‡å¾ˆå¤§ï¼Œä½†æ˜¯åˆ°åæœŸï¼Œè¿™äº›éƒ½æ˜¯å€¼å¾—çš„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-20 01:19:51 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/æµ‹è¯•.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/æµ‹è¯•.html","title":"æµ‹è¯•","keywords":"","body":"æµ‹è¯• å¯¹äºå¾®æœåŠ¡æ¥è¯´ï¼ŒæœåŠ¡çš„æ‹¥æœ‰è€…åº”è¯¥è´Ÿè´£æµ‹è¯•ä»£ç çš„ç¼–å†™ã€‚ æµ‹è¯•è¿è¡Œçš„ç¼“æ…¢ä¼šå½±å“ä¿®å¤é”™è¯¯çš„æ•ˆç‡ï¼Œä»è€Œå½±å“å¼€å‘ ç±»å‹ é¢å‘æŠ€æœ¯çš„æµ‹è¯•ï¼šå¦‚å•å…ƒæµ‹è¯•ï¼ŒéåŠŸèƒ½æ€§æµ‹è¯•ï¼ˆå®‰å…¨ã€æ€§èƒ½ï¼‰ é¢å‘ä¸šåŠ¡çš„æµ‹è¯•ï¼šéªŒæ”¶æµ‹è¯•ï¼Œæ¢ç´¢æ€§æµ‹è¯• èŒƒå›´ æµ‹è¯•é‡‘å­—å¡” æµ‹è¯•è±¡é™ å•å…ƒæµ‹è¯• ä½†æµ‹è¯•é€šå¸¸æ˜¯åªæµ‹è¯•ä¸€ä¸ªå‡½æ•°å’Œæ–¹æ³•è°ƒç”¨ï¼Œå¹¶ä¸”åº”è¯¥è·Ÿå¤–éƒ¨ç¯å¢ƒæ— å…³ åŒæ—¶ï¼Œå•å…ƒæµ‹è¯•å¯¹ä»£ç é‡æ„éå¸¸é‡è¦ æœåŠ¡æµ‹è¯• åªå¯¹å•ä¸ªæœåŠ¡è¿›è¡Œæµ‹è¯•å¯ä»¥æé«˜æµ‹è¯•çš„éš”ç¦»æ€§ï¼Œé’ˆå¯¹æœåŠ¡æ‰€éœ€è¦çš„å¤–éƒ¨åˆä½œè€…ï¼Œä¸€èˆ¬éƒ½æ˜¯mockæˆ–è€…æ‰“æ¡© å¥‘çº¦æµ‹è¯• ä¾§é‡äºéªŒè¯æœåŠ¡æä¾›è€…çš„å‚æ•°å®šä¹‰æ˜¯å¦ç¬¦åˆæ¶ˆè´¹è€…çš„æœŸæœ› org.springframework.cloud.contract.spec.Contract.make { request { // (1) method 'PUT' // (2) url '/fraudcheck' // (3) body([ // (4) \"client.id\": $(regex('[0-9]{10}')), loanAmount : 99999 ]) headers { // (5) contentType('application/json') } } response { // (6) status OK() // (7) body([ // (8) fraudCheckStatus : \"FRAUD\", \"rejection.reason\": \"Amount too high\" ]) headers { // (9) contentType('application/json') } } } ç”¨æˆ·ç•Œé¢æµ‹è¯• è¿™ç§æµ‹è¯•è¦†ç›–äº†æ•´ä¸ªç³»ç»Ÿ å„ç§æµ‹è¯•çš„æ¯”ä¾‹ æ ¹æ®ç»éªŒï¼Œä¸‹é¢ä¸€å±‚çš„æµ‹è¯•é€šå¸¸è¦æ¯”ä¸Šé¢ä¸€å±‚çš„æµ‹è¯•å¤šä¸€ä¸ªæ•°é‡çº§ï¼Œå› ä¸ºè¶Šå¾€ä¸Šçš„æµ‹è¯•ï¼Œåé¦ˆå‘¨æœŸè¶Šé•¿ï¼Œå‡ºäº†é”™è¯¯å°±æ²¡æœ‰é‚£ä¹ˆå¿«å¯ä»¥è§£å†³ å®ç°æœåŠ¡æµ‹è¯• æ‰“æ¡©ï¼šä¸ºè¢«æµ‹æœåŠ¡çš„ä¸€äº›è¯·æ±‚åˆ›å»ºä¸€äº›é¢„è®¾çš„å“åº” mockï¼šmockä¼šéªŒè¯è¯·æ±‚æ˜¯å¦è¢«æ­£ç¡®è°ƒç”¨ å¼•å…¥mockå¯èƒ½ä¼šæ›´åŠ å¤æ‚ï¼Œæ‰€ä»¥å¯ä»¥åˆ›å»ºä¸€ä¸ªæ™ºèƒ½çš„æ‰“æ¡©æœåŠ¡ ç”¨æˆ·ç•Œé¢æµ‹è¯• é›†æˆçš„æœåŠ¡æ•°é‡è¶Šå¤šï¼Œæµ‹è¯•å°±ä¼šè¶Šè„†å¼±ï¼Œä¸ç¡®å®šæ€§ä¹Ÿå°±è¶Šå¼º æ¶ˆè´¹è€…é©±åŠ¨æµ‹è¯•ï¼šé’ˆå¯¹æ¶ˆè´¹è€…çš„éœ€æ±‚äº§ç”Ÿæµ‹è¯• éƒ¨ç½²åå†æµ‹è¯• å¹³å‡ä¿®å¤æ—¶é—´èƒœäºå¹³å‡æ•…éšœæ—¶é—´ è·¨åŠŸèƒ½æµ‹è¯• æ€§èƒ½æµ‹è¯• æ€§èƒ½æµ‹è¯•éœ€è¦æœ‰ç›®æ ‡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-28 07:57:46 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/ç›‘æ§.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/ç›‘æ§.html","title":"ç›‘æ§","keywords":"","body":"ç›‘æ§ ç›®çš„ é•¿æœŸè¶‹åŠ¿åˆ†æ å¯¹ç…§åˆ†æ å‘Šè­¦ æ•…éšœåˆ†æä¸å®šä½ åº¦é‡æŒ‡æ ‡ æ—¶å»¶ é”™è¯¯é‡ é€šä¿¡é‡ èµ„æºä½¿ç”¨ç‡ é“¾è·¯è¿½è¸ª ç›‘æ§æœåŠ¡é—´çš„è¡Œä¸º é“¾è·¯è¿½è¸ªçš„ç»„æˆï¼š æ—¥å¿—ä¸­æœ‰ç”¨çš„ä¿¡æ¯ æ—¶é—´ æ ‡è¯† ç³»ç»Ÿæ ‡è¯† ç”¨æˆ·æ ‡è¯† äº‹ä»¶æ ‡è¯†... æ¥æº æ—¥å¿—çº§åˆ« åˆ†ç±» Prometheus æ¶æ„ å•æœåŠ¡å•ä¸»æœº ä¸»è¦ç›‘æ§ä¸»æœºçš„CPUã€å†…å­˜ç­‰æ•°æ®ä»¥åŠæœåŠ¡æ‰€äº§ç”Ÿçš„æ—¥å¿— å•æœåŠ¡å¤šä¸»æœº å¦‚æœæ‰€æœ‰ä¸»æœºéƒ½å‘ç”Ÿé—®é¢˜ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯æœåŠ¡çš„é—®é¢˜ å¦åˆ™å¦‚æœåªæ˜¯æŸä¸€ä¸»æœºå‡ºç°å¼‚å¸¸ï¼Œé—®é¢˜å®šä½å°±æ¯”è¾ƒç®€å• åŒæ—¶ï¼Œå•ä¸€æœåŠ¡éƒ¨ç½²åˆ°å¤šå°ä¸»æœºï¼Œä¸€èˆ¬éœ€è¦è´Ÿè½½å‡è¡¡å™¨æ¥åˆ†å‘è¯·æ±‚ï¼Œæ‰€ä»¥ä¹Ÿè¦å¯¹è´Ÿè½½å‡è¡¡å™¨è¿›è¡Œç›‘æ§ å¤šæœåŠ¡å¤šä¸»æœº æ­¤æ—¶é—®é¢˜å®šä½å°±æ²¡é‚£ä¹ˆå®¹æ˜“äº†ï¼Œå¿…é¡»æ”¶é›†åˆ°è¶³å¤Ÿå¤šçš„æ•°æ® æ—¥å¿— åº”è¯¥æœ‰ä¸€ä¸ªä¸“é—¨çš„æ—¥å¿—ç³»ç»Ÿæ¥èšåˆæœåŠ¡çš„æ—¥å¿— æœåŠ¡æŒ‡æ ‡ éœ€è¦æœ‰ä¸€ä¸ªä¸“é—¨çš„ç³»ç»Ÿæ¥å¯¹æ”¶é›†æ¥çš„ä¿¡æ¯è¿›è¡Œèšåˆï¼Œåˆ†ç±»å±•ç¤º ç»¼åˆç›‘æ§ é€šå¸¸å¯ä»¥å¯¹ç³»ç»Ÿä¸€äº›èµ„æºæŒ‡æ ‡è¿›è¡Œç›‘æ§ï¼Œåˆ¤æ–­å®é™…å€¼æ˜¯å¦è¶…å‡ºè®¾å®šçš„é˜ˆå€¼ï¼Œä½†è¿™äº›æ•°æ®å¹¶ä¸èƒ½ç›´æ¥è¯´æ˜æœåŠ¡æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œ è¯­ä¹‰ç›‘æ§ é€šè¿‡ç«¯åˆ°ç«¯çš„æµ‹è¯•æ¥ç›‘æ§æœåŠ¡çš„å·¥ä½œæ­£å¸¸ä¸å¦ å…³è”æ ‡è¯† å¾®æœåŠ¡æ¶æ„ç³»ç»Ÿæä¾›çš„åŠŸèƒ½é€šå¸¸æ˜¯ç”±ä¸€ç³»åˆ—çš„æœåŠ¡è°ƒç”¨é…åˆæ¥å®Œæˆï¼Œä½†æ˜¯å¦‚æœä¸Šæ¸¸æœåŠ¡å‡ºç°äº†ä¸€ä¸ªé”™è¯¯ï¼Œå°†é”™è¯¯æ‰©å±•åˆ°ä¸‹æ¸¸ï¼Œå¦‚ä½•å®šä½è¿™ä¸ªé”™è¯¯ï¼Ÿ è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼Œæ˜¯ç»™ä¸€ä¸ªä¸ªè°ƒç”¨é“¾åˆ†é…ä¸€ä¸ªæ ‡è¯†ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®è¿™ä¸ªæ ‡è¯†æ‰¾åˆ°è¿™ä¸ªè°ƒç”¨é“¾ä¸Šçš„æ‰€æœ‰è°ƒç”¨ æ ‡å‡†åŒ– æ— è®ºæ˜¯æ—¥å¿—çš„æ ¼å¼ï¼Œè¿˜æ˜¯å·¥å…·ï¼Œéƒ½éœ€è¦æ ‡å‡†åŒ– è€ƒè™‘å—ä¼— éœ€è¦å¯¹æ—¥å¿—çš„ä½¿ç”¨è€…ï¼Œä»–ä»¬éœ€è¦çŸ¥é“ä»€ä¹ˆï¼Œæƒ³è¦ä»€ä¹ˆä»¥åŠå¦‚ä½•æ¶ˆè´¹æ•°æ®ç­‰è€ƒè™‘æ¸…æ¥š MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-21 01:13:25 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/å®‰å…¨.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/å®‰å…¨.html","title":"å®‰å…¨","keywords":"","body":"å®‰å…¨ éªŒè¯ä¸æˆæƒ éªŒè¯ï¼šç”¨æ¥ç¡®å®šä½ æ˜¯è° æˆæƒï¼šç¡®å®šä½ èƒ½åšä»€ä¹ˆ å•ç‚¹ç™»å½•SSO å•ç‚¹ç™»å½•æ˜¯æŒ‡å½“ä¸»é¢˜è§†å›¾è®¿é—®æŸä¸€èµ„æºæ—¶ï¼Œä¼šè¢«é‡å®šå‘åˆ°ä¸€ä¸ªèº«ä»½æä¾›è€…ï¼Œè¿™ä¸ªæä¾›è€…è´Ÿè´£é‰´åˆ«ä¸»ä½“ï¼Œé‰´åˆ«å®Œæˆä¹‹åå°†é€šçŸ¥æœåŠ¡æä¾›è€…é‡‡å–ç›¸åº”æ“ä½œ å•ç‚¹ç™»å½•ç½‘å…³ ä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„ç½‘å…³æ¥é‰´åˆ«ä¸»ä½“ï¼Œæœ‰æ•ˆåœ°å‡å°‘é‡å¤ç¼–ç ã€‚ ä½†æ˜¯éœ€è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œéšç€æœåŠ¡é—´çš„è°ƒç”¨ï¼Œå¦‚ä½•åœ¨æœåŠ¡é—´ä¼ é€’è¿™ä¸ªèº«ä»½ä¿¡æ¯ï¼Ÿ ä½¿ç”¨HTTPå¤´æºå¸¦æ˜¯ä¸ªä¸é”™çš„åŠæ³• æ·±åº¦é˜²å¾¡ æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œæ˜¯ä¸å®‰å…¨çš„ï¼Œæ·±åº¦é˜²å¾¡çš„ç†å¿µæ˜¯å¯¹ç³»ç»Ÿä¸­çš„æ¯ä¸€å±‚åšé˜²å¾¡ï¼Œä»¥é¿å…å•ç‚¹æ•…éšœå¸¦æ¥çš„ä¸¥é‡åæœ ç»†ç²’åº¦çš„æˆæƒ å½“æˆæƒè§’è‰²ç»†åˆ†è¾¾åˆ°ä¸€å®šçš„ç²’åº¦æ—¶ï¼Œå¯¹ç³»ç»Ÿçš„ç®¡ç†ç»´æŠ¤æ¥è¯´æ˜¯å¾ˆå¤æ‚çš„ã€‚ æ•´ä½“æ¥è¯´ï¼Œæƒé™çš„ç²’åº¦åˆ’åˆ†åº”è¯¥è¦ä»¥ç»„ç»‡çš„ç»“æ„ä¸ºä¾æ® æœåŠ¡é—´çš„éªŒè¯ä¸æˆæƒ è¾¹ç•Œå†…ä¿¡ä»» å°±å¦‚å±€åŸŸç½‘å†…çš„é€šä¿¡ï¼Œåœ¨è¾¹ç•Œå†…çš„æœåŠ¡é€šä¿¡ï¼Œé€šå¸¸éƒ½è¢«é»˜è®¤ä¸ºå®‰å…¨çš„ HTTP(S)èº«ä»½è®¤è¯ ä½¿ç”¨HTTPæ˜¯ä¸å®‰å…¨çš„ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨HTTPSåˆ™éœ€è¦è€ƒè™‘è¯ä¹¦çš„ç®¡ç†é—®é¢˜ä»¥åŠHTTPSæ— æ³•è¢«ç¼“å­˜ç­‰ è¯ä¹¦ å“ˆå¸Œ APIå¯†é’¥ é€šè¿‡æœåŠ¡ç«¯ç®¡ç†å¯†é’¥æ¥è¯†åˆ«æœåŠ¡è°ƒç”¨è€…ä»¥åŠå¯¹è°ƒç”¨è€…è¿›è¡Œç®¡ç† é™æ€æ•°æ®çš„å®‰å…¨ é€‰æ‹©ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„åŠ å¯†ç®—æ³•ï¼Œè€Œéè‡ªå·±å®ç° åŠ å¯†ç®—æ³•åº”å–å†³äºå¯†é’¥çš„å¤æ‚æ€§ï¼Œè€Œéç®—æ³•çš„ä¿å¯†æ€§ é€‰æ‹©åº”è¯¥åŠ å¯†çš„æ•°æ® æŒ‰éœ€è§£å¯† å¯†é’¥ç®¡ç† æ·±åº¦é˜²å¾¡ é˜²ç«å¢™ ä¸åŒçš„èŒƒå›´ä½¿ç”¨ä¸åŒçš„é˜²ç«å¢™ æ—¥å¿— æ—¥å¿—è™½ç„¶æ— æ³•é¢„é˜²ï¼Œä½†æ˜¯å¯ä»¥äº‹åæ£€æµ‹å‘ç”Ÿäº†ä»€ä¹ˆ IDS IDSé€šå¸¸æ˜¯åœ¨å¯ä¿¡èŒƒå›´å†…å°½åŠ›æŸ¥æ‰¾å¯ç–‘ç›®æ ‡ ç½‘ç»œéš”ç¦» å¾®æœåŠ¡å¯ä»¥åˆ©ç”¨åˆ†å¸ƒéƒ¨ç½²çš„ä¼˜ç‚¹æ¥è¿›è¡Œç½‘ç»œéš”ç¦» æ“ä½œç³»ç»Ÿ æ“ä½œç³»ç»Ÿçš„æ¼æ´ä»ç„¶ä¸å¯å°è§† ä¿æŒèŠ‚ä¿­ çœŸçš„éœ€è¦å­˜å‚¨é‚£ä¹ˆå¤šæ•°æ®å—ï¼Ÿ ä¸ºäº†å®‰å…¨ï¼Œæˆ–è€…ä¸ºäº†ç”¨æˆ·çš„éšç§ï¼Œåªéœ€è¦å­˜å–å¿…é¡»çš„æ•°æ®å³å¯ å†…å»ºå®‰å…¨ å¯ä»¥å°†ä¸€äº›è‡ªåŠ¨åŒ–çš„å®‰å…¨å·¥å…·é›†æˆçš„CIä¸­ å¤–éƒ¨éªŒè¯ å¤–åŒ…å‡ºå»ç»™ç¬¬ä¸‰æ–¹è¿›è¡Œæ¸—é€æµ‹è¯• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-15 07:07:27 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/è§„æ¨¡åŒ–.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/è§„æ¨¡åŒ–.html","title":"è§„æ¨¡åŒ–","keywords":"","body":"è§„æ¨¡åŒ–å¾®æœåŠ¡ æ•…éšœ ä¸å…¶ä¸ºé˜²æ­¢æ•…éšœåšä¸Šä¸€ç™¾ä¸ªå‡†å¤‡ï¼Œä¸å¦‚å®šåˆ¶ä¸€ä¸ªå¿«é€Ÿä»æ•…éšœä¸­æ¢å¤è¿‡æ¥çš„æµç¨‹ æµ‹é‡ å“åº”æ—¶é—´ å¯¹äºå“åº”æ—¶é—´çš„æµ‹é‡ï¼Œæœ‰æ—¶å€™ç½‘ç»œæ˜¯æœ‰å¼‚å¸¸æƒ…å†µçš„ï¼Œæ‰€ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”æ¥æµ‹é‡è¿æ¥çš„å“åº”æ—¶é—´ å¯ç”¨æ€§ å¯¹äº24/7å°æ—¶æœåŠ¡ï¼Œå¯æ¥å—åœæœºæŠ¥å‘Šåªæœ‰åœ¨å†å²æŠ¥å‘Šçš„è§’åº¦æ‰æœ‰ç”¨ æ•°æ®æŒä¹…æ€§ æ•°æ®åº”è¯¥ä¿æŒå¤šä¹…ï¼Œèƒ½å®¹å¿å¤šå°‘ä¸¢å¤±ï¼Ÿ åŠŸèƒ½é™çº§ å¾®æœåŠ¡ç³»ç»Ÿæ˜¯çš„åŠŸèƒ½æ˜¯ç”±å¤šä¸ªæœåŠ¡åˆä½œæä¾›çš„ï¼Œæ‰€ä»¥æŸäº›ä¸é‡è¦çš„æœåŠ¡å³ä½¿ä¸å¯ç”¨ï¼Œä¹Ÿä¸è¯¥è®©æ•´ä¸ªç³»ç»Ÿä¸å¯ç”¨ æ¶æ„æ€§å®‰å…¨ ä¹Ÿå°±è¯´å¿…é¡»å®ç°æ¥å£éš”ç¦»ï¼Œå¦‚æœä¸€ä¸ªæœåŠ¡çš„è¯·æ±‚éƒ½æ˜¯å…±äº«åŒä¸€ä¸ªè¿æ¥æ± ï¼Œé‚£å¾ˆæœ‰å¯èƒ½æŸä¸€æ¥å£ä¼šå¯¼è‡´é˜»å¡çš„è¯·æ±‚è¶Šæ¥è¶Šå¤šï¼Œä»è€Œå¯¼è‡´ä¸å¯ç”¨ ä¸€äº›æƒ…å†µ è¶…æ—¶ è¶…æ—¶è®¾ç½®çš„å¤ªçŸ­æˆ–è€…å¤ªé•¿éƒ½ä¸å¥½ï¼Œå°è¯•ç€è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„è¶…æ—¶æ—¶é—´ï¼Œè®°å½•æ—¥å¿—ï¼Œçœ‹è¶…æ—¶çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆ ç†”æ–­å™¨ å¦‚æœå‘ç”Ÿä¸€å®šé‡çš„å¤±è´¥è¯·æ±‚åï¼Œæ–­è·¯å™¨ä¼šæ‰“å¼€ï¼Œåœ¨æ–­è·¯å™¨æ‰“å¼€åä»»ä½•è°ƒç”¨éƒ½ä¼šå¿«é€Ÿå¤±è´¥ï¼Œæ­¤åï¼Œå®¢æˆ·ç«¯ä¼šå‘ä¸€äº›è¯·æ±‚ç»™ç”Ÿäº§è€…çœ‹æœåŠ¡æ˜¯å¦æ¢å¤ï¼Œå¦‚æœæ¢å¤ï¼Œå°±å…³é—­æ–­è·¯å™¨ æ¥å£éš”ç¦» å¯ä»¥æŠŠç†”æ–­å™¨å½“åšæ¥å£éš”ç¦»æœåŠ¡ä¸å¯ç”¨æ—¶çš„ä¸€ç§éš”ç¦»æ‰‹æ®µ æœåŠ¡éš”ç¦» å¹‚ç­‰æ€§ æ‰€ä»¥å¹‚ç­‰å°±æ˜¯è°ƒç”¨ä¸€æ¬¡ä¸è°ƒç”¨å¤šæ¬¡çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™ç§æƒ…å†µï¼Œåœ¨åŸºäºäº‹ä»¶çš„åä½œä¸‹å¯èƒ½å¾ˆå¥½ç”¨ æ‰©å±• ç”¨æ›´å¼ºçš„ä¸»æœº å‚ç›´æ‰©å±• è´Ÿè½½æ‹†åˆ† å¯¹å•ä¸»æœºå¤šæœåŠ¡è¿›è¡ŒæœåŠ¡æ‹†åˆ† å°†æœåŠ¡æ‹†åˆ†ä¸ºæ›´å°çš„æœåŠ¡ åˆ†æ•£é£é™© å°½é‡å°†æœåŠ¡åˆ†æ•£åœ¨ä¸åŒçš„ä¸»æœºã€ä¸åŒçš„æ•°æ®ä¸­å¿ƒ è´Ÿè½½å‡è¡¡ åŸºäºworkerçš„ç³»ç»Ÿ åŸºäºæ¶ˆæ¯é˜Ÿåˆ—æ¥å®ç° é‡æ–°è®¾è®¡ è®¾è®¡ä¸€ä¸ªç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å¾€å¾€ä¸çŸ¥é“çœŸæ­£æƒ³è¦æ„å»ºçš„æ˜¯ä»€ä¹ˆï¼Œå¦‚æœåœ¨åˆšå¼€å§‹æ„å»ºæ—¶å¼•å…¥äº†å¤ªå¤šå¯¹æœªæ¥çš„é¢„æµ‹ï¼Œè¿™ä¼šè€—è´¹æœ¬å¯ä»¥èŠ±åœ¨æ›´é‡è¦çš„äº‹ä¸Šçš„ç²¾åŠ› æ•°æ®åº“ è¯»å–æ‰©å±• å¯¹äºæ•°æ®æ¥è¯´ï¼Œå¤§éƒ¨åˆ†æ•°æ®è¯»å–çš„æ¬¡æ•°è¿œè¿œæ¯”å†™çš„æ¬¡æ•°è¦å¤šå¾—å¤š å¯¹äºè®¸å¤šå…³ç³»å‹æ•°æ®åº“ï¼Œå¯ä»¥è®¾ç½®åœ¨å•ä¸ªèŠ‚ç‚¹è¿›è¡Œå†™æ“ä½œï¼Œå†™å…¥çš„è¿™äº›æ•°æ®å°†åœ¨æŸä¸€æ—¶åˆ»è¢«åŒæ­¥åˆ°æ‰€æœ‰æ•°æ®åº“èŠ‚ç‚¹ï¼Œè€Œè¯»å–æ“ä½œå¯ä»¥è¢«åˆ†å‘åˆ°å„ä¸ªèŠ‚ç‚¹ä¸Šï¼Œä½†è¿™å¯èƒ½ä¼šè¯»å–åˆ°ä¸ä¸€è‡´æ•°æ®ï¼Œè™½ç„¶æœ€ç»ˆç»“æœæ˜¯ä¸€è‡´çš„ï¼Œè¿™æ¯ç§°ä¸ºæœ€ç»ˆä¸€è‡´æ€§ å†™æ‰©å±• å¯ä»¥å¯¹è¦è¢«å†™çš„æ•°æ®è¿›è¡Œåˆ†ç‰‡ï¼Œå­˜åˆ°ä¸åŒçš„æ•°æ®åº“ä¸Šï¼Œä½†ä¼šå¼•å…¥å¯¹æ•°æ®åº“æŸ¥è¯¢çš„å¤æ‚æ€§ ä½¿ç”¨å…±äº«çš„æ•°æ®åº“åŸºç¡€è®¾æ–½ è¿™ä¼šå¾ˆèŠ‚çœä¸»æœºèµ„æºï¼Œä½†æ˜¯ä¹Ÿä¼šå½±å“ä¸€ä¸ªé‡è¦çš„å•ç‚¹æ•…éšœ CQRS ç±»ä¼¼äºæ—¥å¿—æ•°æ®åº“ï¼Œé€šè¿‡å­˜å–ä¸€ç³»åˆ—çš„æ“ä½œæ—¥å¿—ï¼Œæ¥è®¡ç®—å‡ºæŸä¸€å…·ä½“æ—¶åˆ»çš„æ•°æ® ç¼“å­˜ å®¢æˆ·ç«¯ç¼“å­˜ ç¼“å­˜æ§åˆ¶åœ¨å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥å¦‚æœæƒ³æ§åˆ¶ç¼“å­˜æ˜¯å¾ˆå›°éš¾ HTTPç¼“å­˜ ä»£ç†æœåŠ¡å™¨ç¼“å­˜ å¥½å¤„æ˜¯å¯¹å®¢æˆ·ç«¯é€æ˜çš„ï¼Œä½†ä¼šå¼•å…¥é¢å¤–çš„ç½‘ç»œè·³æ•° æœåŠ¡å™¨ç¼“å­˜ å¯¹å®¢æˆ·ç«¯å®Œå…¨é€æ˜ï¼Œè€Œä¸”æƒ³è¦æ§åˆ¶ç¼“å­˜ä¹Ÿå¿…å°†å®¹æ˜“ åå†™å¼ç¼“å­˜ï¼Œæœ‰äº›æƒ…å†µä¼šå¯¹åŒä¸€æ•°æ®æ‰§è¡Œè®¸å¤šæ¬¡å†™æ“ä½œï¼Œæ­¤æ—¶å°±å¯ä»¥å…ˆå°†æ•°æ®ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå¾…åˆ°ç‰¹å®šæ—¶åˆ»å†å†™åˆ°æ•°æ®æºä¸­ ç¼“å­˜è¿‡æœŸçš„æ•°æ®ï¼Œå½“æœåŠ¡ä¸å¯ç”¨æ—¶ï¼Œå¯ä»¥è¿”å›è¿™äº›è¿‡æœŸçš„ç‰ˆæœ¬ å½“ç¼“å­˜å¤§é‡å‡»ç©¿æ—¶ï¼Œä¸åº”è¯¥é‡‡å–åŒæ­¥çš„æ–¹æ³•ï¼Œè€Œåº”è¯¥å¯¹å®¢æˆ·å¿«é€Ÿå¤±è´¥ï¼Œåå°å¼‚æ­¥è°ƒç”¨æœåŠ¡å¢åŠ ç¼“å­˜ ç¼“å­˜åº”è¯¥ä¿æŒç®€å• è‡ªåŠ¨ä¼¸ç¼© å¯ä»¥ä¸€äº›è§„åˆ™ï¼Œè®©è¿ç»´ç³»ç»Ÿè‡ªåŠ¨å¢å‡æœåŠ¡å®ä¾‹ CAPå®šç† ä¸€è‡´æ€§ï¼šè®¿é—®å¤šä¸ªèŠ‚ç‚¹éƒ½å¾—åˆ°åŒæ„çš„æ•°æ® å¯ç”¨æ€§ï¼šæ¯ä¸ªè¯·æ±‚éƒ½èƒ½è·å¾—å“åº” åˆ†åŒºå®¹å¿æ€§ï¼šæŸäº›èŠ‚ç‚¹æ— æ³•è”ç³»ä¹‹åï¼Œæ•´ä¸ªé›†ç¾¤è¿˜èƒ½ç»§ç»­æä¾›æœåŠ¡ è¿™ä¸‰ä¸ªæ¡ä»¶æ— æ³•åŒæ—¶æ»¡è¶³ï¼Œå½“ä¸€ä¸ªä¸Šå»äº†ï¼Œå¦å¤–ä¸¤ä¸ªå°±è¦ä¸‹æ¥äº† æœåŠ¡å‘ç° DNS åŠ¨æ€çš„æœåŠ¡æ³¨å†Œ zookeeper consul eureka æ–‡æ¡£ swagger hal MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-16 07:30:33 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/åˆ†å¸ƒå¼æ—¥å¿—.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/åˆ†å¸ƒå¼æ—¥å¿—.html","title":"åˆ†å¸ƒå¼æ—¥å¿—","keywords":"","body":"åˆ†å¸ƒå¼æ—¥å¿— ä¼ ç»Ÿæ—¥å¿—æ”¶é›† ä¼ ç»Ÿé¡¹ç›®ä¸­ï¼Œå¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæœ‰å¤šå°ä¸åŒçš„æœåŠ¡å™¨é›†ç¾¤ï¼Œå¦‚æœç”Ÿäº§ç¯å¢ƒéœ€è¦é€šè¿‡æ—¥å¿—å®šä½é¡¹ç›®çš„Bugçš„è¯ï¼Œéœ€è¦åœ¨æ¯å°èŠ‚ç‚¹ä¸Šä½¿ç”¨ä¼ ç»Ÿçš„å‘½ä»¤æ–¹å¼æŸ¥è¯¢ï¼Œè¿™æ ·æ•ˆç‡éå¸¸åº•ä¸‹ ELK elasticsearch logstash kibana 1ã€æ¯å°æœåŠ¡å™¨é›†ç¾¤èŠ‚ç‚¹å®‰è£…Logstashæ—¥å¿—æ”¶é›†ç³»ç»Ÿæ’ä»¶ 2ã€æ¯å°æœåŠ¡å™¨èŠ‚ç‚¹å°†æ—¥å¿—è¾“å…¥åˆ°Logstashä¸­ 3ã€Logstashå°†è¯¥æ—¥å¿—æ ¼å¼åŒ–ä¸ºjsonæ ¼å¼ï¼Œæ ¹æ®æ¯å¤©åˆ›å»ºä¸åŒçš„ç´¢å¼•ï¼Œè¾“å‡ºåˆ°ElasticSearchä¸­ 4ã€æµè§ˆå™¨ä½¿ç”¨å®‰è£…KibanaæŸ¥è¯¢æ—¥å¿—ä¿¡æ¯ logstashé…ç½® logstashé…ç½® input { # ä»æ–‡ä»¶è¯»å–æ—¥å¿—ä¿¡æ¯ è¾“é€åˆ°æ§åˆ¶å° file { path => \"/home/my/elasticsearch-6.4.3/logs/elasticsearch.log\" codec => \"json\" ## ä»¥JSONæ ¼å¼è¯»å–æ—¥å¿— type => \"elasticsearch\" start_position => \"beginning\" } } # filter { # # } output { # æ ‡å‡†è¾“å‡º # stdout {} # è¾“å‡ºè¿›è¡Œæ ¼å¼åŒ–ï¼Œé‡‡ç”¨Rubyåº“æ¥è§£ææ—¥å¿— stdout { codec => rubydebug } elasticsearch { hosts => [\"127.0.0.1:9200\"] index => \"es-%{+YYYY.MM.dd}\" } } å¯åŠ¨es å¯åŠ¨logstash./logstash -f log.conf å¯åŠ¨kibana é—®é¢˜ æ¯å°æœºå™¨å°±éœ€è¦æœ‰ä¸€å°logstash éå®æ—¶ ä½¿ç”¨ELK+Kafka 1.é‚£äº›æ—¥å¿—ä¿¡æ¯éœ€è¦è¾“å…¥logstash ï¼ˆerrorçº§åˆ«ï¼‰ 2.AOP å¼‚å¸¸é€šçŸ¥ æœåŠ¡ä¸æœåŠ¡ä¹‹é—´å¦‚ä½•åŒºåˆ†æ—¥å¿—ç´¢å¼•æ–‡ä»¶ï¼ˆæœåŠ¡åç§°ï¼‰ 3.åœ¨åˆ†å¸ƒå¼æ—¥å¿—æ”¶é›†ä¸­ï¼Œç›¸åŒçš„æœåŠ¡é›†ç¾¤çš„è¯æ˜¯ä¸éœ€è¦åŒºåˆ†æ—¥å¿—ç´¢å¼•æ–‡ä»¶ã€‚ 4.ç›®çš„ä¸ºäº† ç»Ÿä¸€ç®¡ç†ç›¸åŒèŠ‚ç‚¹æ—¥å¿—æˆ‘ä¿¡æ¯ã€‚ 5.ç›¸åŒçš„æœåŠ¡é›†ç¾¤çš„è¯ï¼Œæ˜¯æ˜¯ä¸éœ€è¦åŒºåˆ†æ—¥å¿—ç´¢å¼•æ–‡ä»¶ æœç´¢æ—¥å¿—çš„æ—¶å€™ï¼Œå¦‚ä½•å®šä½æœåŠ¡å™¨èŠ‚ç‚¹ä¿¡æ¯å‘¢ï¼Ÿ åŒæ­¥æ•°æ®åº“ input { jdbc { jdbc_driver_library => \"/home/my/mysql-connector-java-5.1.46.jar\" jdbc_driver_class => \"com.mysql.jdbc.Driver\" jdbc_connection_string => \"jdbc:mysql://192.168.123.1:3306/shopa_member\" jdbc_user => \"root\" jdbc_password => \"123\" schedule => \"* * * * *\" statement => \"SELECT * FROM tb_user WHERE update_time >= :sql_last_value\" use_column_value => true tracking_column_type => \"timestamp\" tracking_column => \"update_time\" last_run_metadata_path => \"syncpoint_table\" } } output { elasticsearch { # ESçš„IPåœ°å€åŠç«¯å£ hosts => [\"127.0.0.1:9200\"] # ç´¢å¼•åç§° å¯è‡ªå®šä¹‰ index => \"user\" # éœ€è¦å…³è”çš„æ•°æ®åº“ä¸­æœ‰æœ‰ä¸€ä¸ªidå­—æ®µï¼Œå¯¹åº”ç±»å‹ä¸­çš„id document_id => \"%{USER_ID}\" document_type => \"user\" } stdout { # JSONæ ¼å¼è¾“å‡º codec => json_lines } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-05 06:38:22 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/ServiceMesh/ServiceMesh.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/ServiceMesh/ServiceMesh.html","title":"ServiceMesh","keywords":"","body":"Service Mesh SpringCloud Dubbo ç­‰å¾®æœåŠ¡æ¡†æ¶çš„ç—›ç‚¹ï¼š ä¾µå…¥æ€§å¼º ä¸šåŠ¡ä»£ç ä¸æ¡†æ¶ä»£ç æ··åˆåœ¨ä¸€èµ· å‡çº§æˆæœ¬é«˜ ä¸€æ—¦æ¡†æ¶å‡çº§ï¼Œå°±éœ€è¦é‡æ–°è¿›è¡Œæµ‹è¯• é‡æ–°éƒ¨ç½²ä¸Šçº¿è€Œè·Ÿä¸šåŠ¡æ²¡æœ‰å¤ªå¤§çš„å…³ç³» ç‰ˆæœ¬ç¢ç‰‡åŒ–ä¸¥é‡ æœåŠ¡è‡ªå·±ç‹¬ç«‹æ¼”åŒ– çº¿ä¸Šä¸­é—´ä»¶æˆ–è€…æ¡†æ¶ç‰ˆæœ¬ä¸ä¸€ï¼Œéš¾ä»¥ç»Ÿä¸€æ²»ç† ä¸­é—´ä»¶æ¼”å˜å›°éš¾ ç”±äºéœ€è¦å…¼å®¹è€ç‰ˆæœ¬ å†å²åŒ…è¢±æ²‰é‡ å­¦ä¹ æ›²çº¿ä¸å¤Ÿå¹³æ»‘ å•å•ä¸€ä¸ªSpringCloudå°±æœ‰å¤§å¤§å°å°å‡ åä¸ªç»„ä»¶ åŠŸèƒ½ä¸å…¨ ä¸€äº›åŠŸèƒ½ç°æœ‰çš„å¾®æœåŠ¡æ¡†æ¶å¹¶æ²¡æœ‰ ç—›ç‚¹å¾€å¾€æ˜¯æŠ€æœ¯å‘å±•åˆ°ä¸€å®šçš„ç¨‹åº¦å¿…ç„¶è¦ç»å†çš„é˜¶æ®µï¼Œè¿™äº›ç—›ç‚¹ä¿ƒä½¿æŠ€æœ¯ä¸æ–­å‘å±•ã€ä¸æ–­å‰è¿› åŸºæœ¬æ¦‚å¿µ Service Mesh æ˜¯ä¸€ä¸ªä¸“é—¨å¤„ç†æœåŠ¡é€šè®¯çš„åŸºç¡€è®¾æ–½å±‚ã€‚å®ƒçš„èŒè´£æ˜¯åœ¨ç”±äº‘åŸç”Ÿåº”ç”¨ç»„æˆæœåŠ¡çš„å¤æ‚æ‹“æ‰‘ç»“æ„ä¸‹è¿›è¡Œå¯é çš„è¯·æ±‚ä¼ é€ã€‚åœ¨å®è·µä¸­ï¼Œå®ƒæ˜¯ä¸€ç»„å’Œåº”ç”¨æœåŠ¡éƒ¨ç½²åœ¨ä¸€èµ·çš„è½»é‡çº§çš„ç½‘ç»œä»£ç†ï¼Œå¹¶ä¸”å¯¹åº”ç”¨æœåŠ¡é€æ˜ æœåŠ¡ç½‘æ ¼å¸¦æ¥çš„å˜é©ï¼š SDKè½»é‡åŒ– ç”±äºåªéœ€è¦å°‘é‡çš„SDK å¾®æœåŠ¡æ²»ç†ä¸ä¸šåŠ¡é€»è¾‘çš„è§£è€¦ åŒæ ·ç”±äºSDKè½»é‡ å¼‚æ„ç³»ç»Ÿçš„ç»Ÿä¸€æ²»ç†ï¼Œç¼–å†™ä¸åŒè¯­è¨€çš„SDKæ›´åŠ è½»æ¾ æœåŠ¡ç½‘æ ¼ç›¸æ¯”ä¼ ç»Ÿå¾®æœåŠ¡æ¡†æ¶çš„ä¼˜åŠ¿ï¼š ç”±äºæœåŠ¡ç½‘æ ¼æ˜¯ä¸€ä¸ªåŸºç¡€è®¾æ–½å±‚ æ‰€æœ‰çš„æœåŠ¡é—´é€šä¿¡éƒ½è¦é€šè¿‡å®ƒ æ‰€ä»¥å¸¦æ¥äº†è‰¯å¥½çš„å¯è§‚å¯Ÿæ€§ é€šè¿‡æœåŠ¡ç½‘æ ¼ å¯ä»¥å¾ˆå¥½åœ°é€šè¿‡è¿™ä¸ªåŸºç¡€è®¾æ–½æ¥å¯¹æœåŠ¡é—´çš„æµé‡è¿›è¡Œæ§åˆ¶æˆ–è€…è¿›è¡Œæ•…éšœæ¨¡æ‹Ÿ æœåŠ¡ç½‘æ ¼æä¾›äº†ä¿æŠ¤ç½‘ç»œè°ƒç”¨çš„èƒ½åŠ›å’ŒåŸºç¡€è®¾æ–½ æœåŠ¡ç½‘æ ¼å¸¦æ¥çš„é—®é¢˜ï¼š å¤æ‚åº¦æ›´é«˜ å¯¹è¿ç»´è¦æ±‚æ›´é«˜ å¢åŠ äº†ä¸€ä¸ªä¸­é—´å±‚ è‚¯å®šä¼šæœ‰å»¶è¿Ÿé—®é¢˜ å¹³å°é€‚é…çš„ä¾µå…¥æ€§ é€æ˜é€šè®¯ åˆ†å¸ƒå¼é€šè®¯çš„æ¼”åŒ– ç¬¬ä¸€é˜¶æ®µï¼šæ§åˆ¶é€»è¾‘å’Œä¸šåŠ¡é€»è¾‘è€¦åˆ ç¬¬äºŒé˜¶æ®µï¼šå°†æ§åˆ¶é€»è¾‘æŠ½å–åˆ°ç‹¬ç«‹çš„åº“ä¸­ ç¬¬ä¸‰é˜¶æ®µï¼šæŠ½ç¦»å‡ºè¿›ç¨‹å¤–çš„ç½‘ç»œä»£ç† ç¬¬å››é˜¶æ®µï¼šå°†ç½‘ç»œä»£ç†ä»¥è¾¹è½¦çš„å½¢å¼æ³¨å…¥åˆ°åº”ç”¨å®¹å™¨ ç¬¬äº”é˜¶æ®µï¼šæœåŠ¡ç½‘æ ¼ æ•°æ®å¹³é¢ ç›´æ¥å¤„ç†å…¥ç«™ï¼ˆä¸šåŠ¡åº”ç”¨ï¼‰å’Œå‡ºç«™æ•°æ®åŒ…ï¼Œè½¬å‘ã€è·¯ç”±ã€å¥åº·æ£€æŸ¥ã€è´Ÿè½½å‡è¡¡ã€è®¤è¯ã€é‰´æƒã€äº§ç”Ÿç›‘æ§æ•°æ®ç­‰ å¯¹åº”ç”¨é€æ˜ ä»£ç†æ³¨å…¥ åŸºåº§æ¨¡å¼ï¼šå¯¹åº”ç”¨ç¨‹åºä¸é€æ˜ è‡³å°‘éœ€è¦ä¸€ä¸ªSDK æ³¨å…¥æ¨¡å¼ï¼šé€šè¿‡åœ¨podæ³¨å…¥ä¸€ä¸ªè¾…åŠ©å®¹å™¨å®ç° æµé‡åŠ«æŒ iptablesæ‹¦æˆªæµé‡äº¤ç»™sidecarå¤„ç† eBPFï¼šåœ¨Socketå±‚é¢ç›´æ¥å®Œæˆæ•°æ®è½¬å‘ CNIæ’ä»¶ å¯é é€šè®¯ Envoyåœ¨è¿™æ–¹é¢è¿›è¡Œäº†åˆ›æ–°ï¼Œå®ƒå°†ä»£ç†çš„è½¬å‘çš„è¡Œä¸ºè§„åˆ™æŠ½è±¡æˆListenerã€Routerã€Clusterä¸‰ç§èµ„æº æ§åˆ¶å¹³é¢ ä¸ç›´æ¥è§£ææ•°æ®åŒ… ä¸æ§åˆ¶å¹³é¢ä¸­çš„ä»£ç†é€šä¿¡ï¼Œä¸‹å‘ç­–ç•¥å’Œé…ç½® è´Ÿè´£ç½‘ç»œè¡Œä¸ºçš„å¯è§†åŒ– å¸¸æä¾› API æˆ–è€…å‘½ä»¤è¡Œå·¥å…·å¯ç”¨äºé…ç½®ç‰ˆæœ¬åŒ–ç®¡ç†ï¼Œä¾¿äºæŒç»­é›†æˆå’Œéƒ¨ç½² ServiceMesh K8S Istio Kubernetes vs Service Mesh K8Sé€šè¿‡kube-proxyç»„ä»¶è¿›è¡Œæµé‡è½¬å‘ Istio Service Mesh å¯ä»¥æ²¿ç”¨ Kubernetes ä¸­çš„ service åšæœåŠ¡æ³¨å†Œï¼Œè¿˜å¯ä»¥é€šè¿‡æ§åˆ¶å¹³é¢çš„å¹³å°é€‚é…å™¨å¯¹æ¥å…¶ä»–æœåŠ¡å‘ç°ç³»ç»Ÿ Service Meshçš„åŠ£åŠ¿ï¼šä¸ºäº†ç»†ç²’åº¦åœ°è¿›è¡Œæµé‡ç®¡ç†ï¼Œå¿…å°†æ·»åŠ ä¸€ç³»åˆ—æ–°çš„æŠ½è±¡ï¼Œä»è€Œä¼šè¿›ä¸€æ­¥å¢åŠ ç”¨æˆ·çš„å­¦ä¹ æˆæœ¬ Service Meshçš„ä¼˜åŠ¿ï¼škube-proxy çš„è®¾ç½®éƒ½æ˜¯å…¨å±€ç”Ÿæ•ˆçš„ï¼Œæ— æ³•å¯¹æ¯ä¸ªæœåŠ¡åšç»†ç²’åº¦çš„æ§åˆ¶ï¼Œ Service Mesh é€šè¿‡ sidecar proxy çš„æ–¹å¼å°† Kubernetes ä¸­å¯¹æµé‡çš„æ§åˆ¶ä» service ä¸€å±‚æŠ½ç¦»å‡ºæ¥ï¼Œå¯ä»¥åšæ›´å¤šçš„æ‰©å±• xDS åè®® Envoy Envoy æ˜¯ Istio Service Mesh ä¸­é»˜è®¤çš„ Sidecar Istio Service Mesh Istio å®ƒæ˜¯ä¸€ä¸ªå®Œå…¨å¼€æºçš„æœåŠ¡ç½‘æ ¼ï¼Œä»¥é€æ˜çš„æ–¹å¼æ„å»ºåœ¨ç°æœ‰çš„åˆ†å¸ƒå¼åº”ç”¨ä¸­ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªå¹³å°ï¼Œæ‹¥æœ‰å¯ä»¥é›†æˆä»»ä½•æ—¥å¿—ã€é¥æµ‹å’Œç­–ç•¥ç³»ç»Ÿçš„ API æ¥å£ã€‚Istio å¤šæ ·åŒ–çš„ç‰¹æ€§ä½¿ä½ èƒ½å¤ŸæˆåŠŸä¸”é«˜æ•ˆåœ°è¿è¡Œåˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„ï¼Œå¹¶æä¾›ä¿æŠ¤ã€è¿æ¥å’Œç›‘æ§å¾®æœåŠ¡çš„ç»Ÿä¸€æ–¹æ³•ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-02 07:04:50 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/SpringCloud.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/SpringCloud.html","title":"SpringCloud","keywords":"","body":"SpringCloud ä¸ºä»€ä¹ˆé€‰æ‹©SpringCloud SpringCloud æä¾›äº†ä¸€å¥—å®Œæ•´çš„å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆï¼Œä¸åƒå…¶ä»–æ¡†æ¶åªæ˜¯è§£å†³äº†å¾®æœåŠ¡ä¸­æŸä¸ªé—®é¢˜ demo demo MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-04 08:49:41 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æ³¨å†Œä¸­å¿ƒ.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æ³¨å†Œä¸­å¿ƒ.html","title":"æ³¨å†Œä¸­å¿ƒ","keywords":"","body":"æ³¨å†Œä¸­å¿ƒ æœåŠ¡æ²»ç† å¦‚æœæœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»éå¸¸å¤šçš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡URLç®¡ç†èµ·èµ·æ¥éå¸¸å¤æ‚ã€‚åœ¨è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨æœåŠ¡æ²»ç†æŠ€æœ¯ï¼Œç®¡ç†æ¯ä¸ªæœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³».å¯ä»¥æœ¬åœ°è´Ÿè½½å‡è¡¡ã€å®ç°æœåŠ¡å‘ç°ä¸æ³¨å†Œã€å®¹é”™ç­‰ã€‚ æœåŠ¡æ³¨å†ŒåŸç† Eureka Eurekaæ˜¯Netflixå¼€å‘çš„æœåŠ¡å‘ç°æ¡†æ¶,EurekaåŒ…å«ä¸¤ä¸ªç»„ä»¶ï¼š Eureka Serverå’ŒEureka Client. å„ä¸ªèŠ‚ç‚¹å¯åŠ¨åï¼Œä¼šåœ¨Eureka Serverä¸­è¿›è¡Œæ³¨å†Œï¼Œè¿™æ ·Eureka Serverä¸­çš„æœåŠ¡æ³¨å†Œè¡¨ä¸­å°†ä¼šå­˜å‚¨æ‰€æœ‰å¯ç”¨æœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯ åœ¨åº”ç”¨å¯åŠ¨åï¼Œå°†ä¼š å‘Eureka Serverå‘é€å¿ƒè·³,é»˜è®¤å‘¨æœŸä¸º30ç§’ ä¿è¯APï¼Œeurekaåœ¨è®¾è®¡æ—¶ä¼˜å…ˆä¿è¯å¯ç”¨æ€§ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å¹³ç­‰çš„ï¼Œä¸€éƒ¨åˆ†èŠ‚ç‚¹æŒ‚æ‰ä¸ä¼šå½±å“åˆ°æ­£å¸¸èŠ‚ç‚¹çš„å·¥ä½œï¼Œä¸ä¼šå‡ºç°ç±»ä¼¼zkçš„é€‰ä¸¾leaderçš„è¿‡ç¨‹ æµç¨‹ ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-eureka-server é…ç½® spring.application.name=eureka-server server.port=8001 #æ˜¯å¦å°†è‡ªå·±æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒ eureka.client.register-with-eureka=false #æ˜¯å¦ä»æ³¨å†Œä¸­å¿ƒè·å–æ³¨å†Œä¿¡æ¯ eureka.client.fetch-registry=false eureka.client.serviceUrl.defaultZone=http://localhost:${server.port}/eureka/ @SpringBootApplication @EnableEurekaServer public class EurekaServerApplication { public static void main(String[] args) { SpringApplication.run(EurekaServerApplication.class, args); } } æœåŠ¡æ³¨å†Œ è·å–è¯»é” åœ¨æ³¨å†Œè¡¨æŸ¥æ‰¾instance info ç§Ÿçº¦æ˜¯å¦å­˜åœ¨ ä¸å­˜åœ¨ï¼šåˆ›å»ºæ–°ç§Ÿçº¦ å­˜åœ¨ï¼šåˆ¤æ–­æœ€åæ›´æ–°æ—¶é—´ å¦‚æœæ›´æ–°æ—¶é—´æ¯”è¾ƒå¤§ï¼Œåˆ™æ›´æ–°æ—¶é—´æˆ³ è®¾ç½®ä¸Šçº¿æ—¶é—´ æœåŠ¡ç»­çº¦ eureka: instance: lease-expiration-duration-in-seconds: 10 # 10ç§’å³è¿‡æœŸ lease-renewal-interval-in-seconds: 5 # 5ç§’ä¸€æ¬¡å¿ƒè·³ æ¥æ”¶æœåŠ¡å¿ƒè·³ å¤±æ•ˆå‰”é™¤ä¸è‡ªæˆ‘ä¿æŠ¤ å¤±æ•ˆå‰”é™¤ æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬çš„æœåŠ¡å®ä¾‹å¹¶ä¸ä¸€å®šä¼šæ­£å¸¸ä¸‹çº¿ï¼Œå¯èƒ½ç”±äºå†…å­˜æº¢å‡ºã€ç½‘ç»œæ•…éšœç­‰åŸå› ä½¿å¾—æœåŠ¡ä¸èƒ½æ­£å¸¸å·¥ä½œï¼Œè€ŒæœåŠ¡æ³¨å†Œä¸­å¿ƒå¹¶æœªæ”¶åˆ°â€œæœåŠ¡ä¸‹çº¿â€çš„è¯·æ±‚ã€‚ä¸ºäº†ä»æœåŠ¡è¡¨ä¸­å°†è¿™äº›æ— æ³•æä¾›æœåŠ¡çš„å®ä¾‹å‰”é™¤ï¼ŒEureka Server åœ¨å¯åŠ¨çš„æ—¶å€™ä¼šåˆ›å»ºä¸€ä¸ªå®šæ—¶ä»»å¤šé»˜è®¤æ¯éš”ä¸€ä¸€æ®µæ—¶é—´(é»˜è®¤ä¸º60ç§’)å°†å½“å‰æ¸…å•ä¸­è¶…æ—¶(é»˜è®¤ä¸º90ç§’)æ²¡æœ‰ç»­çº¦çš„æœåŠ¡é™¤å‡ºå» è‡ªæˆ‘ä¿æŠ¤ é»˜è®¤æƒ…å†µä¸‹,EurekaClientä¼šå®šæ—¶å‘EurekaServerç«¯å‘é€å¿ƒè·³ï¼Œå¦‚æœEurekaServeråœ¨ä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°EurekaClientå‘é€çš„å¿ƒè·³ï¼Œä¾¿ä¼šæŠŠè¯¥å®ä¾‹ä»æ³¨å†ŒæœåŠ¡åˆ—è¡¨ä¸­å‰”é™¤ï¼ˆé»˜è®¤æ˜¯90ç§’ï¼‰,ä¸ºäº†é˜²æ­¢åªæ˜¯EurekaClientä¸EurekaServerä¹‹é—´çš„ç½‘ç»œæ•…éšœï¼Œåœ¨çŸ­æ—¶é—´å†…ä¸¢å¤±å¤§é‡çš„å®ä¾‹å¿ƒè·³ï¼Œè¿™æ—¶å€™EurekaServerä¼šå¼€å¯è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼ŒEurekaServerä¸ä¼šè¸¢å‡ºè¿™äº›æœåŠ¡ åœ¨å¼€å‘ä¸­ï¼Œç”±äºä¼šé‡å¤é‡å¯æœåŠ¡å®ä¾‹ï¼Œæ‰€ä»¥ç»å¸¸ä¼šå‡ºç°ä»¥ä¸‹è­¦å‘Šï¼š EMERGENCY!EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY'RE NOT.RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEGING EXPIRED JUST TO BE SAFE. æ‰€ä»¥å¼€å‘æ—¶éœ€è¦å…³é—­è‡ªæˆ‘ä¿æŠ¤ eureka: server: enable-self-preservation: false # å…³é—­è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ï¼ˆç¼ºçœä¸ºæ‰“å¼€ï¼‰ eviction-interval-timer-in-ms: 1000 # æ‰«æå¤±æ•ˆæœåŠ¡çš„é—´éš”æ—¶é—´ï¼ˆç¼ºçœä¸º60*1000msï¼‰ æœåŠ¡ä¸‹çº¿ æ˜¯å¦æœ‰ç§Ÿçº¦ æ²¡æœ‰ç§Ÿçº¦ä¸‹çº¿å¤±è´¥ å¦åˆ™ä»æ³¨å†Œè¡¨ä¸­ç§»é™¤ è®¾ç½®ä¸‹çº¿æ—¶é—´ æ·»åŠ ä¸‹çº¿è®°å½• Eurekaé›†ç¾¤ Eureka æ»¡è¶³AP ç‰ºç‰²äº† C é…ç½® # eureka1 spring.application.name=spring-cloud-eureka server.port=8001 eureka.client.serviceUrl.defaultZone=http://localhost:8002/eureka/ # eureka2 spring.application.name=spring-cloud-eureka server.port=8002 eureka.client.serviceUrl.defaultZone=http://localhost:8001/eureka/ æ ¹æ®ä¸¤ä¸ªé…ç½®æ–‡ä»¶å¯åŠ¨ä¸¤ä¸ªå®ä¾‹ å®¢æˆ·ç«¯é…ç½® eureka.client.service-url.defaultZone=http://localhost:8001/eureka,http://localhost:8002/eureka é›†ç¾¤åŒæ­¥ æ³¨å†Œä¸­å¿ƒConsul å·¥ä½œåŸç† å®‰è£… https://www.consul.io/downloads.html å¯åŠ¨ consul agent -dev ç”Ÿäº§è€…é…ç½® ä¾èµ– org.springframework.boot spring-boot-starter-actuator org.springframework.boot spring-boot-starter-web org.springframework.cloud spring-cloud-starter-consul-discovery é…ç½® spring.application.name=consul-producer server.port=8503 spring.cloud.consul.host=localhost spring.cloud.consul.port=8500 #æ³¨å†Œåˆ°consulçš„æœåŠ¡åç§° spring.cloud.consul.discovery.serviceName=producer æ¶ˆè´¹è€… ä¾èµ–åŒç”Ÿäº§è€… é…ç½® spring.application.name=consul-consumer server.port=8504 spring.cloud.consul.host=127.0.0.1 spring.cloud.consul.port=8500 #è®¾ç½®ä¸éœ€è¦æ³¨å†Œåˆ° consul ä¸­ spring.cloud.consul.discovery.register=false ä½¿ç”¨ @RestController public class ServiceController { @Autowired LoadBalancerClient loadBalancerClient; @Autowired DiscoveryClient discoveryClient; // è·å–ç›¸å…³æœåŠ¡å®ä¾‹ @RequestMapping(\"/services\") public Object services(){ return discoveryClient.getInstances(\"producer\"); } // è‡ªåŠ¨é€‰æ‹©æœåŠ¡å®ä¾‹ @RequestMapping(\"/discover\") public Object discover(){ return loadBalancerClient.choose(\"producer\").getUri().toString(); } @RequestMapping(\"/hi\") public String hi(){ ServiceInstance instance = loadBalancerClient.choose(\"producer\"); return new RestTemplate().getForObject(instance.getUri().toString()+\"/hi\",String.class); } } æ³¨å†Œä¸­å¿ƒZookeeper SpringCloudæŠŠZookeeperä½œä¸ºæ³¨å†Œä¸­å¿ƒ ä¿è¯CPï¼Œå³ä»»ä½•æ—¶åˆ»å¯¹zookeeperçš„è®¿é—®è¯·æ±‚èƒ½å¾—åˆ°ä¸€è‡´æ€§çš„æ•°æ®ç»“æœï¼ŒåŒæ—¶ç³»ç»Ÿå¯¹ç½‘ç»œåˆ†å‰²å…·å¤‡å®¹é”™æ€§ï¼Œä½†æ˜¯å®ƒä¸èƒ½ä¿è¯æ¯æ¬¡æœåŠ¡çš„å¯ç”¨æ€§ å¯åŠ¨zk æœåŠ¡ä¾èµ– org.springframework.cloud spring-cloud-starter-zookeeper-discovery æœåŠ¡é…ç½® server.port=8101 spring.application.name=zk-producer spring.cloud.zookeeper.connect-string=127.0.0.1:2181 @EnableDiscoveryClient MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-06 06:55:45 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æœåŠ¡æä¾›ä¸è°ƒç”¨.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æœåŠ¡æä¾›ä¸è°ƒç”¨.html","title":"æœåŠ¡æä¾›ä¸è°ƒç”¨","keywords":"","body":"æœåŠ¡æä¾›ä¸è°ƒç”¨ ç”Ÿäº§è€… å¼•å…¥ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-eureka-client é…ç½® spring.application.name=producer server.port=9000 eureka.client.serviceUrl.defaultZone=http://localhost:8001/eureka/ @SpringBootApplication @EnableDiscoveryClient public class ProducerApplication { public static void main(String[] args) { SpringApplication.run(ProducerApplication.class, args); } } æ¶ˆè´¹è€… org.springframework.boot spring-boot-starter-web org.springframework.cloud spring-cloud-starter-netflix-eureka-client org.springframework.cloud spring-cloud-starter-openfeign @EnableDiscoveryClient @EnableFeignClients public class ConsumerApplication { public static void main(String[] args) { SpringApplication.run(ConsumerApplication.class, args); } } @FeignClient(\"producer\") public interface HelloRemote { @RequestMapping(\"/hello\") String hello(@RequestParam String name); } ä½¿ç”¨ @RestController public class ConsumerController { @Autowired HelloRemote helloRemote; @RequestMapping(\"/hi\") public String hi(){ return helloRemote.hello(\"my\"); } } è¯·æ±‚å‹ç¼© feign: compression: request: enabled: true # å¼€å¯è¯·æ±‚å‹ç¼© response: enabled: true # å¼€å¯å“åº”å‹ç¼© è´Ÿè½½å‡è¡¡ åˆ†åˆ«å¯åŠ¨ä¸¤ä¸ªç”Ÿäº§è€…ï¼Œåˆ™ä¸¤ä¸ªç”Ÿäº§è€…åŒæ—¶æä¾›æœåŠ¡ å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ ä»æ³¨å†Œä¸­å¿ƒæœåŠ¡å™¨ç«¯ä¸Šè·å–æœåŠ¡æ³¨å†Œä¿¡æ¯åˆ—è¡¨ï¼Œç¼“å­˜åˆ°æœ¬åœ°ã€‚ååœ¨æœ¬åœ°å®ç°è½®è®­è´Ÿè½½å‡è¡¡ç­–ç•¥ æœåŠ¡ç«¯è´Ÿè½½å‡è¡¡ å®¢æˆ·ç«¯æ‰€æœ‰è¯·æ±‚ç»Ÿä¸€äº¤ç»™ä¸€å°æœåŠ¡å™¨ï¼Œç”±è¿™å°æœåŠ¡å™¨è¿›è¡Œå®ç°è´Ÿè½½å‡è¡¡è¯·æ±‚è½¬å‘ æœ¬åœ°è´Ÿè½½å‡è¡¡çš„å®ç° // éšæœºè´Ÿè½½å‡è¡¡ List list = discoveryClient.getInstances(\"producer\"); Random random = new Random(); ServiceInstance serviceInstance = list.get(random.nextInt(list.size())); // ä½¿ç”¨Ribbon @RestController public class Controller { @Autowired LoadBalancerClient client; @RequestMapping(\"/user\") public String user(){ return new RestTemplate().getForObject( client.choose(\"user-service\").getUri().toString()+\"/user\",String.class); } } // å¦å¤–ä¸€ç§æ–¹æ³• @Autowired RestTemplate restTemplate; @RequestMapping(\"/user\") public String user(){ return restTemplate.getForObject(\"http://user-service/user\",String.class); } @Bean @LoadBalanced public RestTemplate restTemplate(){ return new RestTemplate(); } è´Ÿè½½å‡è¡¡ç­–ç•¥ # ä¿®æ”¹è´Ÿè½½å‡è¡¡ç­–ç•¥ user-service.ribbon.NFLoadBalancerRuleClassName=com.netflix.loadbalancer.RandomRule MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-06 01:49:52 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/ç†”æ–­å™¨ä¸ç†”æ–­ç›‘æ§.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/ç†”æ–­å™¨ä¸ç†”æ–­ç›‘æ§.html","title":"ç†”æ–­å™¨ä¸ç†”æ–­ç›‘æ§","keywords":"","body":"ç†”æ–­å™¨ é›ªå´©æ•ˆåº” åŸºç¡€æœåŠ¡çš„æ•…éšœå¯èƒ½ä¼šå¯¼è‡´çº§è”æ•…éšœï¼Œ è¿›è€Œé€ æˆæ•´ä¸ªç³»ç»Ÿä¸å¯ç”¨çš„æƒ…å†µï¼Œè¿™ç§ç°è±¡è¢«ç§°ä¸ºæœåŠ¡é›ªå´©æ•ˆåº”ã€‚æœåŠ¡é›ªå´©æ•ˆåº”æ˜¯ä¸€ç§å› â€œæœåŠ¡æä¾›è€…â€çš„ä¸å¯ç”¨å¯¼è‡´â€œæœåŠ¡æ¶ˆè´¹è€…â€çš„ä¸å¯ç”¨,å¹¶å°†ä¸å¯ç”¨é€æ¸æ”¾å¤§çš„è¿‡ç¨‹ è¯·æ±‚å †ç§¯ åœ¨å¤§é‡è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå¤„ç†å™¨æœ‰ä¸€ä¸ªçº¿ç¨‹æ± æ¥å¤„ç†è¯·æ±‚ï¼Œå½“è¯·æ±‚åˆ°è¾¾é‡è¿œè¿œå¤§äºå¤„ç†é‡ï¼Œè¯·æ±‚å°±ä¼šåœ¨çº¿ç¨‹æ± ä¸­å †ç§¯ï¼Œä»è€Œå¯¼è‡´å¤§é‡è¯·æ±‚è¢«é˜»å¡ æœåŠ¡éš”ç¦» å½“æœ‰æ•…éšœå‘ç”Ÿæ—¶ï¼Œèƒ½å°†é—®é¢˜å’Œå½±å“éš”ç¦»åœ¨æŸä¸ªæ¨¡å—å†…éƒ¨ï¼Œè€Œä¸æ‰©æ•£é£é™©ï¼Œä¸æ³¢åŠå…¶å®ƒæ¨¡å—ï¼Œä¸å½±å“æ•´ä½“çš„ç³»ç»ŸæœåŠ¡ æœåŠ¡é™çº§ å½“è°ƒç”¨çš„æœåŠ¡ä¸å¯ç”¨æ—¶ï¼ŒæœåŠ¡è°ƒç”¨æ–¹ä¸ä¼šç»§ç»­ç­‰å¾…ï¼Œè€Œæ˜¯(æœåŠ¡è°ƒç”¨æ–¹)ä½¿ç”¨ä¸€ä¸ªé¢„è®¾å¥½çš„ç»“æœè¿”å› æœåŠ¡ç†”æ–­ ä¸€èˆ¬æ˜¯æŸä¸ªæœåŠ¡æ•…éšœæˆ–è€…æ˜¯å¼‚å¸¸å¼•èµ·çš„ï¼Œç±»ä¼¼ç°å®ä¸–ç•Œä¸­çš„â€˜ä¿é™©ä¸â€™ï¼Œå½“æŸä¸ªå¼‚å¸¸æ¡ä»¶ï¼ˆé€šå¸¸æ˜¯è¯·æ±‚é‡è¿‡é«˜ï¼‰è¢«è§¦å‘ï¼Œç›´æ¥ç†”æ–­æ•´ä¸ªæœåŠ¡ï¼Œè€Œä¸æ˜¯ä¸€ç›´ç­‰åˆ°æ­¤æœåŠ¡è¶…æ—¶ Hystrix æ–­è·¯å™¨æœºåˆ¶ å½“Hystrix Commandè¯·æ±‚åç«¯æœåŠ¡å¤±è´¥æ•°é‡è¶…è¿‡ä¸€å®šæ¯”ä¾‹(é»˜è®¤50%), æ–­è·¯å™¨ä¼šåˆ‡æ¢åˆ°å¼€è·¯çŠ¶æ€(Open). è¿™æ—¶æ‰€æœ‰è¯·æ±‚ä¼šç›´æ¥å¤±è´¥è€Œä¸ä¼šå‘é€åˆ°åç«¯æœåŠ¡. æ–­è·¯å™¨ä¿æŒåœ¨å¼€è·¯çŠ¶æ€ä¸€æ®µæ—¶é—´å(é»˜è®¤5ç§’), è‡ªåŠ¨åˆ‡æ¢åˆ°åŠå¼€è·¯çŠ¶æ€(HALF-OPEN). è¿™æ—¶ä¼šåˆ¤æ–­ä¸‹ä¸€æ¬¡è¯·æ±‚çš„è¿”å›æƒ…å†µ, å¦‚æœè¯·æ±‚æˆåŠŸ, æ–­è·¯å™¨åˆ‡å›é—­è·¯çŠ¶æ€(CLOSED), å¦åˆ™é‡æ–°åˆ‡æ¢åˆ°å¼€è·¯çŠ¶æ€(OPEN) ç»Ÿè®¡å™¨ï¼ˆMetricsï¼‰ï¼šæ»‘åŠ¨çª—å£ï¼ˆmetrics.rollingStats.timeInMillisecondsï¼‰ä»¥åŠæ¡¶ï¼ˆmetrics.rollingStats.numBucketsï¼‰ Hystrix å¹¶ä¸æ˜¯åªè¦æœ‰ä¸€æ¡è¯·æ±‚ç»è¿‡å°±å»ç»Ÿè®¡ï¼Œè€Œæ˜¯å°†æ•´ä¸ªæ»‘åŠ¨çª—å£å‡åˆ†ä¸º numBuckets ä»½ï¼Œæ—¶é—´æ¯ç»è¿‡ä¸€ä»½å°±å»ç»Ÿè®¡ä¸€æ¬¡ã€‚åœ¨ç»è¿‡ä¸€ä¸ªæ—¶é—´çª—å£åï¼Œæ‰ä¼šåˆ¤æ–­æ–­è·¯å™¨çŠ¶æ€è¦ä¸è¦å¼€å¯ Fallback ç›¸å½“äºæ˜¯é™çº§æ“ä½œ. å¯¹äºæŸ¥è¯¢æ“ä½œ, æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªfallbackæ–¹æ³•, å½“è¯·æ±‚åç«¯æœåŠ¡å‡ºç°å¼‚å¸¸çš„æ—¶å€™, å¯ä»¥ä½¿ç”¨fallbackæ–¹æ³•è¿”å›çš„å€¼. fallbackæ–¹æ³•çš„è¿”å›å€¼ä¸€èˆ¬æ˜¯è®¾ç½®çš„é»˜è®¤å€¼æˆ–è€…æ¥è‡ªç¼“å­˜ èµ„æºéš”ç¦» åœ¨Hystrixä¸­, ä¸»è¦é€šè¿‡çº¿ç¨‹æ± æ¥å®ç°èµ„æºéš”ç¦». é€šå¸¸åœ¨ä½¿ç”¨çš„æ—¶å€™æˆ‘ä»¬ä¼šæ ¹æ®è°ƒç”¨çš„è¿œç¨‹æœåŠ¡åˆ’åˆ†å‡ºå¤šä¸ªçº¿ç¨‹æ±  æ¯ä¸ªå¤–éƒ¨ä¾èµ–ç”¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹æ± ï¼Œè¿™æ ·çš„è¯ï¼Œå¦‚æœå¯¹é‚£ä¸ªå¤–éƒ¨ä¾èµ–è°ƒç”¨å»¶è¿Ÿå¾ˆä¸¥é‡ï¼Œæœ€å¤šå°±æ˜¯è€—å°½é‚£ä¸ªä¾èµ–è‡ªå·±çš„çº¿ç¨‹æ± è€Œå·²ï¼Œä¸ä¼šå½±å“å…¶ä»–çš„ä¾èµ–è°ƒç”¨ çº¿ç¨‹æ± æœºåˆ¶çš„ç¼ºç‚¹ å¤šäº†ä¸€äº›ç®¡ç†çº¿ç¨‹ï¼Œå¢åŠ äº†CPUçš„å¼€é”€ æ•´ä½“æµç¨‹ æ·»åŠ ç†”æ–­æœºåˆ¶ ç†”æ–­åªæ˜¯ä½œç”¨åœ¨æœåŠ¡è°ƒç”¨è¿™ä¸€ç«¯ å¼€å¯é…ç½® feign.hystrix.enabled=true ç¼–å†™fallback @Component public class HelloRemoteHystrix implements HelloRemote { @Override public String hello(String name) { return \"sorry,service call failed\"; } } åœ¨è¿œç¨‹è°ƒç”¨æ¥å£ä¸Šæ·»åŠ fallback @FeignClient(value = \"producer\",fallback = HelloRemoteHystrix.class) public interface HelloRemote { @RequestMapping(\"/hello\") String hello(@RequestParam String name); } è¿™æ ·ä¸€æ—¦produceræŒ‚æ‰äº†ï¼Œå°†ä¼šè¿”å›é»˜è®¤ç»“æœ æ·»åŠ æœåŠ¡éš”ç¦»æœºåˆ¶ å¼•å…¥ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-hystrix @RequestMapping(\"/user\") // æ·»åŠ è¿™ä¸ªæ³¨è§£ä¹‹åï¼Œhystrixä¼šå¼€å¯æœåŠ¡éš”ç¦»ï¼Œè®¿é—®è¿™ä¸ªæ¥å£çš„çº¿ç¨‹ç‹¬å±äºæŸä¸€ä¸ªçº¿ç¨‹æ±  @HystrixCommand public String user(){ return restTemplate.getForObject(\"http://user-service/user\",String.class); } æ¥å£æ·»åŠ @HystrixCommandè¿™ä¸ªæ³¨è§£ä¹‹åï¼Œè¯¥æ¥å£é»˜è®¤çš„è¶…æ—¶æ—¶é—´æ˜¯1ç§’ï¼Œéœ€è¦è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¦åˆ™è¶…æ—¶åhystrixä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œä¸ä¼šç­‰åˆ°feginè¿”å› è¶…æ—¶æ—¶é—´ @RequestMapping(\"/user\") @HystrixCommand(commandProperties = {@HystrixProperty(name = \"execution.isolation.thread.timeoutInMilliseconds\",value = \"5000\")}) public String user(){ return restTemplate.getForObject(\"http://user-service/user\",String.class); } ä¿¡å·é‡éš”ç¦» hystrixæœ‰ä¸¤ç§éš”ç¦»æ–¹å¼ï¼Œçº¿ç¨‹æ± å’Œä¿¡å·é‡ çº¿ç¨‹æ± é€šè¿‡çº¿ç¨‹æ± æ¥å®ç°é™æµçš„ï¼Œä¿¡å·é‡åˆ™æ˜¯é€šè¿‡ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨æ¥é™åˆ¶ ä¸€äº›æ¦‚å¿µ command key ä»£è¡¨äº†ä¸€ç±» commandï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä»£è¡¨äº†ä¸‹æ¸¸ä¾èµ–æœåŠ¡çš„æŸä¸ªæ¥å£ command group é»˜è®¤æƒ…å†µä¸‹ï¼Œå°±æ˜¯é€šè¿‡ command group æ¥å®šä¹‰ä¸€ä¸ªçº¿ç¨‹æ± çš„ï¼Œè€Œä¸”è¿˜ä¼šé€šè¿‡ command group æ¥èšåˆä¸€äº›ç›‘æ§å’ŒæŠ¥è­¦ä¿¡æ¯ï¼ŒåŒä¸€ä¸ª command group ä¸­çš„è¯·æ±‚ï¼Œéƒ½ä¼šè¿›å…¥åŒä¸€ä¸ªçº¿ç¨‹æ± ä¸­ ç†”æ–­ç›‘æ§ Hystrix-dashboard é€šè¿‡Hystrix Dashboardæˆ‘ä»¬å¯ä»¥åœ¨ç›´è§‚åœ°çœ‹åˆ°å„Hystrix Commandçš„è¯·æ±‚å“åº”æ—¶é—´, è¯·æ±‚æˆåŠŸç‡ç­‰æ•°æ® å•ä¸ªåº”ç”¨çš„ç†”æ–­ç›‘æ§ æ·»åŠ ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-hystrix org.springframework.cloud spring-cloud-starter-netflix-hystrix-dashboard org.springframework.boot spring-boot-starter-actuator æ‰“å¼€è‡ªåŠ¨é…ç½® @EnableCircuitBreaker @EnableHystrixDashboard å¦‚æœå‘ç”Ÿ404åˆ™æ·»åŠ å¦‚ä¸‹é…ç½® @Bean public ServletRegistrationBean getServlet() { HystrixMetricsStreamServlet streamServlet = new HystrixMetricsStreamServlet(); ServletRegistrationBean registrationBean = new ServletRegistrationBean(streamServlet); registrationBean.setLoadOnStartup(1); registrationBean.addUrlMappings(\"/hystrix.stream\"); registrationBean.setName(\"HystrixMetricsStreamServlet\"); return registrationBean; } è®¿é—® http://127.0.0.1:10000/hystrix/ Turbine æ·»åŠ ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-eureka-client org.springframework.cloud spring-cloud-starter-netflix-hystrix org.springframework.cloud spring-cloud-starter-netflix-hystrix-dashboard org.springframework.cloud spring-cloud-starter-netflix-turbine é…ç½® spring.application.name=hystrix-dashboard-turbine server.port=11000 turbine.appConfig=node1,node2 turbine.aggregator.clusterConfig= default turbine.clusterNameExpression= new String(\"default\") eureka.client.serviceUrl.defaultZone=http://localhost:8001/eureka/ @EnableTurbine @EnableHystrixDashboard MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-03 02:08:41 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/é…ç½®ä¸­å¿ƒ.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/é…ç½®ä¸­å¿ƒ.html","title":"é…ç½®ä¸­å¿ƒ","keywords":"","body":"é…ç½®ä¸­å¿ƒ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç”±äºæœåŠ¡æ•°é‡å·¨å¤šï¼Œä¸ºäº†æ–¹ä¾¿æœåŠ¡é…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†ï¼Œå®æ—¶æ›´æ–°ï¼Œæ‰€ä»¥éœ€è¦åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒç»„ä»¶ã€‚åœ¨Spring Cloudä¸­ï¼Œæœ‰åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒç»„ä»¶spring cloud config ï¼Œå®ƒæ”¯æŒé…ç½®æœåŠ¡æ”¾åœ¨é…ç½®æœåŠ¡çš„å†…å­˜ä¸­ï¼ˆå³æœ¬åœ°ï¼‰ï¼Œä¹Ÿæ”¯æŒæ”¾åœ¨è¿œç¨‹Gitä»“åº“ ä¸­ã€‚åœ¨spring cloud config ç»„ä»¶ä¸­ï¼Œåˆ†ä¸¤ä¸ªè§’è‰²ï¼Œä¸€æ˜¯config serverï¼ŒäºŒæ˜¯config client é…ç½®ä¸­å¿ƒåº”è¯¥æä¾›çš„åŠŸèƒ½ æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯æ”¯æŒ é›†ä¸­ç®¡ç†å„ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ ä¿®æ”¹ä¹‹åå¯ä»¥å¿«é€Ÿç”Ÿæ•ˆ ç‰ˆæœ¬ç®¡ç† å¹¶å‘æŸ¥è¯¢ å¤šè¯­è¨€æ”¯æŒ æœåŠ¡ç«¯ ä¾èµ– org.springframework.cloud spring-cloud-config-server é…ç½® server: port: 8003 spring: application: name: spring-cloud-config-server cloud: config: server: git: uri: https://github.com/0xcaffebabe/config/ # é…ç½®gitä»“åº“çš„åœ°å€ search-paths: config1 # gitä»“åº“åœ°å€ä¸‹çš„ç›¸å¯¹åœ°å€ï¼Œå¯ä»¥é…ç½®å¤šä¸ªï¼Œç”¨,åˆ†å‰²ã€‚ @EnableConfigServer ä»“åº“ä¸­çš„æ–‡ä»¶ è¿™æ—¶å€™è®¿é—® server/config/devå³å¯è·å–é…ç½®ä¿¡æ¯ å®¢æˆ·ç«¯ ä¾èµ– org.springframework.cloud spring-cloud-starter-config é…ç½® application.properties server.port=8004 spring.application.name=config-client bootstrap.properties spring.cloud.config.name=config spring.cloud.config.profile=dev spring.cloud.config.uri=http://localhost:8003/ spring.cloud.config.label=master è·å– @Value(\"${config.hello}\") private String port; é…ç½®åˆ·æ–° æ·»åŠ ä¾èµ– org.springframework.boot spring-boot-starter-actuator å¼€å¯æ›´æ–°æœºåˆ¶ @RestController // ä¸€å®šè¦åŠ è¿™ä¸ª @RefreshScope public class MyController { @Value(\"${config.hello}\") private String port; @RequestMapping(\"/hello\") public String hello(){ return port; } } é…ç½® management.endpoints.web.exposure.include=refresh,health,info å½“é…ç½®æ–‡ä»¶å‘ç”Ÿæ›´æ–°æ—¶ï¼Œè°ƒç”¨å®¢æˆ·ç«¯æ¥å£åˆ·æ–°é…ç½® curl -X POST http://localhost:8004/actuator/refresh å‘èµ·å¯¹è¯¥åœ°å€çš„è¯·æ±‚å¯è®©å®¢æˆ·ç«¯å»å‘é…ç½®ä¸­å¿ƒè·å–æœ€æ–°é…ç½®å¹¶åº”ç”¨åˆ°ç›¸å…³æˆå‘˜å˜é‡ä¸Š é…ç½®ä¸­å¿ƒæœåŠ¡åŒ– æ·»åŠ ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-eureka-client é…ç½® eureka: client: serviceUrl: defaultZone: http://localhost:8001/eureka/ # æ³¨å†Œä¸­å¿ƒeurekaåœ°å€ @EnableDiscoveryClient å®¢æˆ·ç«¯æ”¹é€  æ·»åŠ ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-eureka-client åˆ é™¤ spring.cloud.config.uri æ·»åŠ  spring.cloud.config.discovery.enabled spring.cloud.config.discovery.serviceId eureka.client.serviceUrl.defaultZone @EnableDiscoveryClient é«˜å¯ç”¨ å¯åŠ¨å¤šä¸ªé…ç½®ä¸­å¿ƒå®ä¾‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-07 01:23:39 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æ¶ˆæ¯æ€»çº¿.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æ¶ˆæ¯æ€»çº¿.html","title":"æ¶ˆæ¯æ€»çº¿","keywords":"","body":"æ¶ˆæ¯æ€»çº¿ å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨è½»é‡çº§çš„æ¶ˆæ¯ä»£ç†æ¥æ„å»ºä¸€ä¸ªå…±ç”¨çš„æ¶ˆæ¯ä¸»é¢˜æ¥è¿æ¥å„ä¸ªå¾®æœåŠ¡å®ä¾‹ï¼Œå®ƒå¹¿æ’­çš„æ¶ˆæ¯ä¼šè¢«æ‰€æœ‰åœ¨æ³¨å†Œä¸­å¿ƒçš„å¾®æœåŠ¡å®ä¾‹ç›‘å¬å’Œæ¶ˆè´¹ï¼Œä¹Ÿç§°æ¶ˆæ¯æ€»çº¿ ä½¿ç”¨ æ·»åŠ ä¾èµ–ï¼ˆæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ org.springframework.cloud spring-cloud-starter-bus-amqp é…ç½®æœåŠ¡ç«¯ rabbitmq: host: 127.0.0.1 port: 5672 username: guest password: guest management: endpoints: web: exposure: include: bus-refresh endpoint: bus-refresh: enabled: true é…ç½®å®¢æˆ·ç«¯ # è®°å¾—rabbitmqæœåŠ¡å™¨ä¿¡æ¯ # åˆ·æ–°æ—¶ï¼Œå…³é—­å®‰å…¨éªŒè¯ management.endpoints.web.exposure.include=bus-refresh # å¼€å¯æ¶ˆæ¯è·Ÿè¸ª spring.cloud.bus.trace.enabled=true å½“é…ç½®å‘ç”Ÿæ›´æ–°æ—¶ï¼Œpostè°ƒç”¨é…ç½®ä¸­å¿ƒ http://config_server:8003/actuator/bus-refresh æ–°é…ç½®å°±ä¼šä¼ æ’­åˆ°æ‰€æœ‰å®¢æˆ·ç«¯ å±€éƒ¨åˆ·æ–° åœ¨è°ƒç”¨webhookçš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šå‚æ•°æ¥æŒ‡å®šæ›´æ–°è¦ä¼ æ’­åˆ°å“ªäº›å¾®æœåŠ¡ æ€»çº¿äº‹ä»¶ è®¿é—®http://127.0.0.1:8003/actuator/traceå¯ä»¥è¿½è¸ª MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-17 05:24:05 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æ¶ˆæ¯é©±åŠ¨.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æ¶ˆæ¯é©±åŠ¨.html","title":"æ¶ˆæ¯é©±åŠ¨","keywords":"","body":"æ¶ˆæ¯é©±åŠ¨ SpringCloud Streamæ¶ˆæ¯é©±åŠ¨å¯ä»¥ç®€åŒ–å¼€å‘äººå‘˜å¯¹æ¶ˆæ¯ä¸­é—´ä»¶çš„ä½¿ç”¨å¤æ‚åº¦ï¼Œè®©ç³»ç»Ÿå¼€å‘äººå‘˜æ›´å¤šå°½åŠ›ä¸“æ³¨ä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„å¼€å‘ ä½¿ç”¨ ä¾èµ– org.springframework.cloud spring-cloud-stream org.springframework.cloud spring-cloud-starter-stream-rabbit é…ç½® spring.rabbitmq.host=192.168.182.130 spring.rabbitmq.username=my spring.rabbitmq.password=123 @EnableBinding(MessageService.class) ç”Ÿäº§è€… public interface MessageService { @Output(\"msg1\") SubscribableChannel send(); } å‘é€æ¶ˆæ¯ messageService.send().send(MessageBuilder.withPayload(\"cxk\"+ UUID.randomUUID()).build()); æ¶ˆè´¹è€… public interface MessageService { @Input(\"msg1\") SubscribableChannel receive(); } æ¥æ”¶æ¶ˆæ¯ @StreamListener(\"msg1\") public void listen(String msg){ System.out.println(\"æ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯:\"+msg); } æ¶ˆè´¹è€…ç»„ # é…ç½®ç›¸åŒç»„çš„æ¶ˆè´¹è€…ä¼šå¯¹æ¶ˆæ¯è¿›è¡Œè½®è¯¢æ¶ˆè´¹ spring.cloud.stream.bindings.msg1.group=group1 MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-17 06:44:12 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æœåŠ¡ç½‘å…³.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/æœåŠ¡ç½‘å…³.html","title":"æœåŠ¡ç½‘å…³","keywords":"","body":"æœåŠ¡ç½‘å…³ APIç½‘å…³ç»Ÿä¸€æœåŠ¡å…¥å£ï¼Œå¯æ–¹ä¾¿å®ç°å¯¹å¹³å°ä¼—å¤šæœåŠ¡æ¥å£è¿›è¡Œç®¡æ§ï¼Œå¯¹è®¿é—®æœåŠ¡çš„èº«ä»½è®¤è¯ã€é˜²æŠ¥æ–‡é‡æ”¾ä¸é˜²æ•°æ®ç¯¡æ”¹ã€åŠŸèƒ½è°ƒç”¨çš„ä¸šåŠ¡é‰´æƒã€å“åº”æ•°æ®çš„è„±æ•ã€æµé‡ä¸å¹¶å‘æ§åˆ¶ï¼Œç”šè‡³åŸºäºAPIè°ƒç”¨çš„è®¡é‡æˆ–è€…è®¡è´¹ç­‰ç­‰ ç½‘å…³åˆ†ç±» å¼€æ”¾api æœåŠ¡ç½‘å…³ æ¥å£è®¾è®¡ æ¥å£æƒé™(å¼€æ”¾æ¥å£|å†…éƒ¨æ¥å£)ã€è€ƒè™‘å¹‚ç­‰æ€§ã€å®‰å…¨æ€§(Https )é˜²æ­¢ç¯¡æ”¹æ•°æ®(éªŒè¯ç­¾å)ã€ä½¿ç”¨ç½‘å…³æ‹¦æˆª æ¥å£å®ç°é»‘åå•å’Œç™½åå•ã€æ¥å£ä½¿ç”¨httpåè®®+jsonæ ¼å¼restful ç›®çš„ä¸ºäº†è·¨å¹³å°ã€‚ è€ƒè™‘é«˜å¹¶å‘å¯¹æ¥å£æœåŠ¡å®ç°ä¿æŠ¤æœåŠ¡é™çº§ã€ç†”æ–­ã€éš”ç¦»ä¹‹ç±»ï¼Œæœ€åä½¿ç”¨ç»Ÿä¸€APIç®¡ç†å¹³å°api swagger åº”ç”¨åœºæ™¯ é»‘ç™½åå• æ—¥å¿— åè®®é€‚é… èº«ä»½è®¤è¯ è®¡æµé™æµ è·¯ç”± ç½‘å…³éƒ¨ç½²æ¶æ„ nginxé¢å‘æœåŠ¡å™¨ ç½‘å…³é¢å‘æœåŠ¡ Spring Cloud Zuul zuulä¸nginx Nginxæ˜¯é‡‡ç”¨æœåŠ¡å™¨è´Ÿè½½å‡è¡¡è¿›è¡Œè½¬å‘ Zuulä¾èµ–Ribbonå’Œeurekaå®ç°æœ¬åœ°è´Ÿè½½å‡è¡¡è½¬å‘ NginxåŠŸèƒ½æ¯”ZuulåŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œèƒ½å¤Ÿæ•´åˆå…¶ä»–è¯­è¨€æ¯”å¦‚luaè„šæœ¬å®ç°å¼ºå¤§çš„åŠŸèƒ½ï¼ŒåŒæ—¶Nginxå¯ä»¥æ›´å¥½çš„æŠ—é«˜å¹¶å‘ï¼ŒZuulç½‘å…³é€‚ç”¨äºè¯·æ±‚è¿‡æ»¤å’Œæ‹¦æˆª ä½¿ç”¨ æ·»åŠ ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-eureka-client org.springframework.cloud spring-cloud-starter-netflix-zuul é…ç½® server.port=8010 spring.application.name=gateway # è¿™é‡Œçš„é…ç½®è¡¨ç¤ºï¼Œè®¿é—®/bd/** ç›´æ¥é‡å®šå‘åˆ°http://baidu.com/** zuul.routes.baidu.path=/bd/** zuul.routes.baidu.url=http://baidu.com/ eureka.client.serviceUrl.defaultZone=http://localhost:8001/eureka/ @EnableZuulProxy é»˜è®¤è·¯ç”±è§„åˆ™ http://ZUUL_HOST:ZUUL_PORT/å¾®æœåŠ¡åœ¨Eurekaä¸Šçš„serviceId/** æ¯”å¦‚è®¿é—®http://localhost:8010/producer/ åˆ™gatewayå°±ä¼šæŠŠè¯·æ±‚è½¬å‘åˆ°produceræœåŠ¡ä¸Šé¢å» ç®€åŒ–è·¯ç”±é…ç½® zuul: routes: user-service: /user-service/** # è¿™é‡Œæ˜¯æ˜ å°„è·¯å¾„ Zuulçš„æ ¸å¿ƒ Fliter åœºæ™¯ è¯·æ±‚é‰´æƒï¼šä¸€èˆ¬æ”¾åœ¨preç±»å‹ï¼Œå¦‚æœå‘ç°æ²¡æœ‰è®¿é—®æƒé™ï¼Œç›´æ¥å°±æ‹¦æˆªäº† å¼‚å¸¸å¤„ç†ï¼šä¸€èˆ¬ä¼šåœ¨errorç±»å‹å’Œpostç±»å‹è¿‡æ»¤å™¨ä¸­ç»“åˆæ¥å¤„ç†ã€‚ æœåŠ¡è°ƒç”¨æ—¶é•¿ç»Ÿè®¡ è‡ªå®šä¹‰Filter å®ç°ZuulFilter @Component public class MyFilter extends ZuulFilter { @Override public String filterType() {return FilterConstants.PRE_TYPE;} @Override public int filterOrder() {return FilterConstants.PRE_DECORATION_FILTER_ORDER;} @Override public boolean shouldFilter() {return true;} @Override public Object run() throws ZuulException { RequestContext ctx = RequestContext.getCurrentContext(); HttpServletRequest request = ctx.getRequest(); String token = request.getParameter(\"token\"); if (\"my\".equals(token)){ ctx.setSendZuulResponse(true); ctx.setResponseStatusCode(200); ctx.set(\"isSuccess\",true); }else{ ctx.setSendZuulResponse(false); ctx.setResponseStatusCode(400); ctx.setResponseBody(\"error token\"); ctx.set(\"isSuccess\",false); } return null; } } è¿™æ ·å½“é€šè¿‡ç½‘å…³è®¿é—®æœåŠ¡æ—¶ï¼Œä¸ç¬¦åˆæ¡ä»¶çš„è¯·æ±‚å°†ä¼šè¢«è¿‡æ»¤æ‰ æ•´åˆé…ç½®ä¸­å¿ƒ ä¾èµ– org.springframework.cloud spring-cloud-starter-config org.springframework.boot spring-boot-starter-actuator æ‰‹åŠ¨é…ç½®zuulé…ç½®å¯¹è±¡ @RefreshScope @ConfigurationProperties(\"zuul\") public ZuulProperties zuulProperties() { return new ZuulProperties(); } è¿›è¡Œè·¨åŸŸé…ç½® @Configuration public class CorsConfig { @Bean public CorsFilter corsFilter() { final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(); final CorsConfiguration config = new CorsConfiguration(); config.setAllowCredentials(true); // å…è®¸cookiesè·¨åŸŸ config.addAllowedOrigin(\"*\");// #å…è®¸å‘è¯¥æœåŠ¡å™¨æäº¤è¯·æ±‚çš„URIï¼Œ*è¡¨ç¤ºå…¨éƒ¨å…è®¸ï¼Œåœ¨SpringMVCä¸­ï¼Œå¦‚æœè®¾æˆ*ï¼Œä¼šè‡ªåŠ¨è½¬æˆå½“å‰è¯·æ±‚å¤´ä¸­çš„Origin config.addAllowedHeader(\"*\");// #å…è®¸è®¿é—®çš„å¤´ä¿¡æ¯,*è¡¨ç¤ºå…¨éƒ¨ config.setMaxAge(18000L);// é¢„æ£€è¯·æ±‚çš„ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œå³åœ¨è¿™ä¸ªæ—¶é—´æ®µé‡Œï¼Œå¯¹äºç›¸åŒçš„è·¨åŸŸè¯·æ±‚ä¸ä¼šå†é¢„æ£€äº† config.addAllowedMethod(\"*\");// å…è®¸æäº¤è¯·æ±‚çš„æ–¹æ³•ï¼Œ*è¡¨ç¤ºå…¨éƒ¨å…è®¸ source.registerCorsConfiguration(\"/**\", config); return new CorsFilter(source); } } å¿½ç•¥ # å¿½ç•¥è¯¥æœåŠ¡ zuul.ignored-services: upload-servie è·¯ç”±ç†”æ–­ è‡ªå®šä¹‰fallback @Component public class MyFallback implements FallbackProvider { @Override public String getRoute() { return \"producer\"; } @Override public ClientHttpResponse fallbackResponse(String route, Throwable cause) { cause.printStackTrace(); return new ClientHttpResponse() { @Override public HttpStatus getStatusCode() throws IOException { return HttpStatus.valueOf(500); } @Override public int getRawStatusCode() throws IOException { return 500; } @Override public String getStatusText() throws IOException { return \"SERVER ERROR\"; } @Override public void close() { } @Override public InputStream getBody() throws IOException { return new ByteArrayInputStream(\"service is unavailable\".getBytes()); } @Override public HttpHeaders getHeaders() { HttpHeaders headers = new HttpHeaders(); headers.setContentType(MediaType.TEXT_PLAIN); return headers; } }; } } å½“produceræŒ‚æ‰æ—¶ï¼Œå°†ä¼šè¿”å›ç›¸å…³ä¿¡æ¯ è·¯ç”±é‡è¯• æ·»åŠ ä¾èµ– org.springframework.retry spring-retry é…ç½® #æ˜¯å¦å¼€å¯é‡è¯•åŠŸèƒ½ zuul.retryable=true #å¯¹å½“å‰æœåŠ¡çš„é‡è¯•æ¬¡æ•° ribbon.MaxAutoRetries=2 #åˆ‡æ¢ç›¸åŒServerçš„æ¬¡æ•° ribbon.MaxAutoRetriesNextServer=0 å½“ç›¸åŒçš„æœåŠ¡æŒ‚æ‰ä¸€éƒ¨åˆ†åï¼Œå¦‚æœå¤šæ¬¡è¯·æ±‚ä¸æˆåŠŸï¼Œåˆ™æ¥ä¸‹æ¥çš„è¯·æ±‚åˆ™ä¼šè½¬å‘åˆ°å…¶ä»–æœåŠ¡ä¸Š ä¹Ÿå°±æ˜¯è¯´,è‡ªåŠ¨çš„å¯»æ‰¾åˆ°æ­£ç¡®å“åº”çš„æœåŠ¡ä¸Šå».é”™è¯¯çš„å®ä¾‹è¢«æŠ›å¼ƒ zuulé«˜å¯ç”¨ å¯åŠ¨ä¸¤ä¸ªç½‘å…³å®ä¾‹8000å’Œ7000 é…ç½®nginxè´Ÿè½½å‡è¡¡ upstream gateway { server 127.0.0.1:8000; server 127.0.0.1:7000; } server { listen 6060; location / { proxy_pass http://gateway; proxy_connect_timeout 1s; proxy_send_timeout 1s; proxy_read_timeout 1s; } } Spring Cloud Gateway è·¯ç”± æ–­è¨€ è¿‡æ»¤å™¨ vs zuul ZuuLç½‘å…³å±äºNetflixå…¬å¸å¼€æºæ¡†æ¶ï¼Œå±äºç¬¬ä¸€ä»£å¾®æœåŠ¡ç½‘å…³. GateWayå±äºSpringCloudè‡ªå·±ç ”å‘çš„ç½‘å…³æ¡†æ¶ï¼Œå±äºç¬¬äºŒä»£å¾®æœåŠ¡ç½‘å…³. gatewayä¸ä¾èµ–servlet apiï¼Œæ‰€ä»¥æ€§èƒ½æ›´å¼º gatewayçš„è½¬å‘æ˜¯åœ¨tcpå±‚ é…ç½® org.springframework.cloud spring-cloud-starter-gateway å®šä¹‰è·¯ç”±è§„åˆ™ @Bean public RouteLocator customRouteLocator(RouteLocatorBuilder builder) { return builder.routes() .route(\"path_route\", r -> r.path(\"/hi\") .uri(\"http://localhost:8503\")) .build(); } é€šè¿‡æ—¶é—´åŒ¹é… builder.routes() .route(\"path_route\", r -> r.before(ZonedDateTime.now()) .uri(\"http://localhost:8503\")) .build(); é€šè¿‡CookieåŒ¹é… builder.routes() .route(\"path_route\", r -> r.cookie(\"key\",\"value\") .uri(\"http://localhost:8503\")) .build(); é€šè¿‡headerå±æ€§åŒ¹é… é€šè¿‡HoståŒ¹é… é€šè¿‡è¯·æ±‚æ–¹å¼åŒ¹é… é€šè¿‡è¯·æ±‚è·¯å¾„åŒ¹é… é€šè¿‡è¯·æ±‚å‚æ•°åŒ¹é… é€šè¿‡è¯·æ±‚IPåŒ¹é… æœåŠ¡åŒ– ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-eureka-client é…ç½® server: port: 8888 spring: application: name: gateway cloud: gateway: discovery: locator: enabled: true eureka: client: service-url: defaultZone: http://localhost:8001/eureka/ logging: level: org.springframework.cloud.gateway: debug é»˜è®¤è½¬å‘è§„åˆ™ http://ç½‘å…³/æœåŠ¡serviceId/å…·ä½“çš„url Filter PRE è¿™ç§è¿‡æ»¤å™¨åœ¨è¯·æ±‚è¢«è·¯ç”±ä¹‹å‰è°ƒç”¨ã€‚æˆ‘ä»¬å¯åˆ©ç”¨è¿™ç§è¿‡æ»¤å™¨å®ç°èº«ä»½éªŒè¯ã€åœ¨é›†ç¾¤ä¸­é€‰æ‹©è¯·æ±‚çš„å¾®æœåŠ¡ã€è®°å½•è°ƒè¯•ä¿¡æ¯ç­‰ POST è¿™ç§è¿‡æ»¤å™¨åœ¨è·¯ç”±åˆ°å¾®æœåŠ¡ä»¥åæ‰§è¡Œã€‚è¿™ç§è¿‡æ»¤å™¨å¯ç”¨æ¥ä¸ºå“åº”æ·»åŠ æ ‡å‡†çš„ HTTP Headerã€æ”¶é›†ç»Ÿè®¡ä¿¡æ¯å’ŒæŒ‡æ ‡ã€å°†å“åº”ä»å¾®æœåŠ¡å‘é€ç»™å®¢æˆ·ç«¯ç­‰ ç®€å•è¿‡æ»¤å™¨å®ä¾‹ é…ç½® server: port: 8888 spring: application: name: gateway cloud: gateway: routes: - id: add_request_parameter_route uri: http://localhost:9003 filters: - AddRequestParameter=name, my predicates: - Method=GET discovery: locator: enabled: true eureka: client: service-url: defaultZone: http://localhost:8001/eureka/ logging: level: org.springframework.cloud.gateway: debug åœ¨ä¸Šé¢çš„é…ç½®ä¸­ï¼Œæ·»åŠ äº†ä¸€ä¸ªè·¯ç”±è¿‡æ»¤è§„åˆ™ï¼šå¯¹9003ç«¯å£çš„getè¯·æ±‚æ·»åŠ ä¸€ä¸ªè¯·æ±‚å‚æ•°name:my æœåŠ¡åŒ–é…ç½® æ”¹æˆuri: lb://producer åˆ™è·¯ç”±é…ç½®åªä¼šå¯¹produceræœåŠ¡ç”Ÿæ•ˆ ä¿®æ”¹è·¯å¾„çš„è¿‡æ»¤å™¨ StripPrefix Filter - id: nameRoot uri: lb://producer predicates: - Path=/name/** filters: - StripPrefix=2 å¦‚æœè®¿é—®/name/my/helloï¼Œç½‘å…³å°±ä¼šå°†è·¯å¾„ä¿®æ”¹ä¸º/hello PrefixPath Filter - id: prefixpath_route uri: lb://producer predicates: - Path=* filters: - PrefixPath=/mypath è‡ªåŠ¨ç»™URLåŠ ä¸Šmypathå‰ç¼€ è‡ªå®šä¹‰Filter @Component public class TokenFilter implements GlobalFilter { @Override public Mono filter(ServerWebExchange exchange, GatewayFilterChain chain) { var token = exchange.getRequest().getQueryParams().get(\"token\"); if (!CollectionUtils.isEmpty(token)){ return chain.filter(exchange); } ServerHttpResponse response = exchange.getResponse(); response.setStatusCode(HttpStatus.FORBIDDEN); return response.writeWith( Mono.just( response.bufferFactory().wrap(\"token is null\".getBytes()) ) ); } } é™é€Ÿè·¯ç”±å™¨ ç†”æ–­è·¯ç”±å™¨ ä¾èµ– org.springframework.cloud spring-cloud-starter-netflix-hystrix - id: hystrix_route uri: http://localhost:9001 predicates: - Path=/* filters: - Hystrix=myCommandName é‡è¯•è·¯ç”±å™¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-09 00:50:08 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/é“¾è·¯è¿½è¸ª.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/é“¾è·¯è¿½è¸ª.html","title":"é“¾è·¯è¿½è¸ª","keywords":"","body":"é“¾è·¯è¿½è¸ª Spring Cloud Sleuthä¸ºæœåŠ¡ä¹‹é—´è°ƒç”¨æä¾›é“¾è·¯è¿½è¸ªã€‚é€šè¿‡Sleuthå¯ä»¥å¾ˆæ¸…æ¥šçš„äº†è§£åˆ°ä¸€ä¸ªæœåŠ¡è¯·æ±‚ç»è¿‡äº†å“ªäº›æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡å¤„ç†èŠ±è´¹äº†å¤šé•¿ Sleuth ZipKin Zipkin æ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç åˆ†å¸ƒå¼çš„è·Ÿè¸ªç³»ç»Ÿï¼Œç”±Twitterå…¬å¸å¼€æºï¼Œå®ƒè‡´åŠ›äºæ”¶é›†æœåŠ¡çš„å®šæ—¶æ•°æ®ï¼Œä»¥è§£å†³å¾®æœåŠ¡æ¶æ„ä¸­çš„å»¶è¿Ÿé—®é¢˜ï¼ŒåŒ…æ‹¬æ•°æ®çš„æ”¶é›†ã€å­˜å‚¨ã€æŸ¥æ‰¾å’Œå±•ç° æ­å»ºæœåŠ¡ç«¯ spring boot2.xä¹‹åä¸æ¨èæ‰§è¡Œæ­å»ºæœåŠ¡ç«¯ï¼Œè€Œæ˜¯ä½¿ç”¨ç¼–è¯‘å¥½çš„ç‰ˆæœ¬ curl -sSL https://zipkin.io/quickstart.sh | bash -s å®Œæˆä¹‹åä¼šå¾—åˆ°ä¸€ä¸ªjaråŒ… java -jar zipkin.jar è®¿é—®http://127.0.0.1:9411 å®¢æˆ·ç«¯æ·»åŠ zipkinæ”¯æŒ org.springframework.cloud spring-cloud-starter-zipkin spring.zipkin.base-url=http://localhost:9411 spring.sleuth.sampler.rate=1 åŸç† å½“è¯·æ±‚å‘é€åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿçš„å…¥å£ç«¯ç‚¹æ—¶ï¼Œåªéœ€è¦æœåŠ¡è·Ÿè¸ªæ¡†æ¶ä¸ºè¯¥è¯·æ±‚åˆ›å»ºä¸€ä¸ªå”¯çš„è·Ÿè¸ªæ ‡è¯†ï¼Œè¿™ä¸ªæ ‡è¯†å°†éšç€æœåŠ¡è°ƒç”¨åœ¨å„ä¸ªæœåŠ¡é—´ä¼ é€’ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®è¿™ä¸ªæ ‡è¯†å¾—åˆ°å„ä¸ªæœåŠ¡é—´çš„è°ƒç”¨ï¼Œä»è€Œç»„åˆæˆä¸€æ¡å®Œæ•´çš„è°ƒç”¨é“¾ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-25 00:39:27 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/å¼€æ”¾å¹³å°.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloud/å¼€æ”¾å¹³å°.html","title":"å¼€æ”¾å¹³å°","keywords":"","body":"å¼€æ”¾å¹³å° SpringCloudOAuth2 ä½¿ç”¨ æˆæƒæœåŠ¡ç«¯ ä¾èµ– org.springframework.boot spring-boot-starter-web org.springframework.boot spring-boot-starter-security org.springframework.cloud spring-cloud-starter-oauth2 é…ç½® @Configuration @EnableAuthorizationServer public class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter { // accessTokenæœ‰æ•ˆæœŸ private int accessTokenValiditySeconds = 7200; // ä¸¤å°æ—¶ // æ·»åŠ å•†æˆ·ä¿¡æ¯ @Override public void configure(ClientDetailsServiceConfigurer clients) throws Exception { // withClient appid clients.inMemory().withClient(\"client_1\") .redirectUris(\"http://www.baidu.com\") .secret(passwordEncoder().encode(\"123456\")) .authorizedGrantTypes(\"password\",\"client_credentials\",\"refresh_token\",\"authorization_code\").scopes(\"all\").accessTokenValiditySeconds(accessTokenValiditySeconds); } // è®¾ç½®tokenç±»å‹ @Override public void configure(AuthorizationServerEndpointsConfigurer endpoints) { endpoints.authenticationManager(authenticationManager()).allowedTokenEndpointRequestMethods(HttpMethod.GET, HttpMethod.POST); } @Override public void configure(AuthorizationServerSecurityConfigurer oauthServer) { // å…è®¸è¡¨å•è®¤è¯ oauthServer.allowFormAuthenticationForClients(); // å…è®¸check_tokenè®¿é—® oauthServer.checkTokenAccess(\"permitAll()\"); } @Bean AuthenticationManager authenticationManager() { return authentication -> daoAuhthenticationProvider().authenticate(authentication); } @Bean public AuthenticationProvider daoAuhthenticationProvider() { DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider(); daoAuthenticationProvider.setUserDetailsService(userDetailsService()); daoAuthenticationProvider.setHideUserNotFoundExceptions(false); daoAuthenticationProvider.setPasswordEncoder(passwordEncoder()); return daoAuthenticationProvider; } // è®¾ç½®æ·»åŠ ç”¨æˆ·ä¿¡æ¯,æ­£å¸¸åº”è¯¥ä»æ•°æ®åº“ä¸­è¯»å– @Bean UserDetailsService userDetailsService() { InMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager(); userDetailsService.createUser(User.withUsername(\"user_1\").password(passwordEncoder().encode(\"123456\")) .authorities(\"ROLE_USER\").build()); userDetailsService.createUser(User.withUsername(\"user_2\").password(passwordEncoder().encode(\"123456\")) .authorities(\"ROLE_USER\").build()); return userDetailsService; } @Bean PasswordEncoder passwordEncoder() { // åŠ å¯†æ–¹å¼ return new BCryptPasswordEncoder(); } } @Component public class SecurityConfig extends WebSecurityConfigurerAdapter { // æˆæƒä¸­å¿ƒç®¡ç†å™¨ @Bean @Override public AuthenticationManager authenticationManagerBean() throws Exception { return super.authenticationManagerBean(); } // æ‹¦æˆªæ‰€æœ‰è¯·æ±‚,ä½¿ç”¨httpBasicæ–¹å¼ç™»é™† @Override protected void configure(HttpSecurity http) throws Exception { http.authorizeRequests().antMatchers(\"/**\").fullyAuthenticated().and().httpBasic(); } } é€šè¿‡ http://localhost:9000/oauth/authorize?response_type=code&client_id=client_1&redirect_uri=http://www.baidu.com&scope=allè·å–code æ ¹æ®codeè·å–è·å–access_token http://localhost:9000/oauth/token?grant_type=authorization_code&code=zCn8Gl&redirect_uri=http://www.baidu.com&scope=all&password=123456 èµ„æºç«¯ ä¾èµ–åŒæˆæƒæœåŠ¡ç«¯ é…ç½® security: oauth2: resource: ####ä»è®¤è¯æˆæƒä¸­å¿ƒä¸ŠéªŒè¯token tokenInfoUri: http://localhost:9000/oauth/check_token preferTokenInfo: true client: accessTokenUri: http://localhost:9000/oauth/token userAuthorizationUri: http://localhost:9000/oauth/authorize ###appid clientId: client_1 ###appSecret clientSecret: 123456 @Configuration @EnableResourceServer public class ResourceServerConfiguration extends ResourceServerConfigurerAdapter { @Override public void configure(HttpSecurity http) throws Exception { // å¯¹ api è¯·æ±‚è¿›è¡Œæ‹¦æˆª http.authorizeRequests().antMatchers(\"/api\").authenticated(); } } @EnableOAuth2Sso MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-18 11:28:05 "},"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloudAlibaba/SpringCloudAlibaba.html":{"url":"è½¯ä»¶å·¥ç¨‹/å¾®æœåŠ¡/SpringCloudAlibaba/SpringCloudAlibaba.html","title":"SpringCloudAlibaba","keywords":"","body":"SpringCloudAlibaba Spring Cloud Alibaba è‡´åŠ›äºæä¾›å¾®æœåŠ¡å¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚æ­¤é¡¹ç›®åŒ…å«å¼€å‘åˆ†å¸ƒå¼åº”ç”¨å¾®æœåŠ¡çš„å¿…éœ€ç»„ä»¶ï¼Œæ–¹ä¾¿å¼€å‘è€…é€šè¿‡ Spring Cloud ç¼–ç¨‹æ¨¡å‹è½»æ¾ä½¿ç”¨è¿™äº›ç»„ä»¶æ¥å¼€å‘åˆ†å¸ƒå¼åº”ç”¨æœåŠ¡ SpringCloud ç¬¬äºŒä»£ é¡¹ Spring Cloudç¬¬ä¸€ä»£ Spring Cloudç¬¬äºŒä»£ ç½‘å…³ Spring Cloud Zuul Spring Cloud Gateway æ³¨å†Œä¸­å¿ƒ eureka(ä¸å†æ›´æ–°)ï¼ŒConsul,ZK é˜¿é‡ŒNacosï¼Œæ‹æ‹è´·radarç­‰å¯é€‰ é…ç½®ä¸­å¿ƒ spring cloud config é˜¿é‡ŒNacosï¼Œæºç¨‹Apolloï¼Œéšè¡Œä»˜Config Keeper å®¢æˆ·ç«¯è½¯è´Ÿè½½å‡è¡¡ Ribbon spring-cloud-loadbalancer ç†”æ–­å™¨ Hystrix spring-cloud-r4j(Resilience4J)ï¼Œé˜¿é‡ŒSentinel Nacos æœåŠ¡å‘ç°å’ŒæœåŠ¡å¥åº·ç›‘æµ‹ åŠ¨æ€é…ç½®æœåŠ¡ åŠ¨æ€DNSæœåŠ¡ æœåŠ¡å³å…¶å…ƒæ•°æ®ç®¡ç† æ¦‚å¿µ åœ°åŸŸ ç‰©ç†çš„æ•°æ®ä¸­å¿ƒï¼Œèµ„æºåˆ›å»ºæˆåŠŸåä¸èƒ½æ›´æ¢ å¯ç”¨åŒº åŒä¸€åœ°åŸŸå†…ï¼Œç”µåŠ›å’Œç½‘ç»œäº’ç›¸ç‹¬ç«‹çš„ç‰©ç†åŒºåŸŸ æ¥å…¥ç‚¹ åœ°åŸŸçš„æŸä¸ªæœåŠ¡çš„å…¥å£åŸŸå å‘½åç©ºé—´ ä¸åŒçš„å‘½åç©ºé—´ä¸‹ï¼Œå¯ä»¥å­˜åœ¨ç›¸åŒçš„ Group æˆ– Data ID çš„é…ç½®ã€‚Namespace çš„å¸¸ç”¨åœºæ™¯ä¹‹ä¸€æ˜¯ä¸åŒç¯å¢ƒçš„é…ç½®çš„åŒºåˆ†éš”ç¦» é…ç½® é…ç½®ç®¡ç† ç³»ç»Ÿé…ç½®çš„ç¼–è¾‘ã€å­˜å‚¨ã€åˆ†å‘ã€å˜æ›´ç®¡ç†ã€å†å²ç‰ˆæœ¬ç®¡ç†ã€å˜æ›´å®¡è®¡ç­‰ é…ç½®é¡¹ ä¸€ä¸ªå…·ä½“çš„å¯é…ç½®çš„å‚æ•°ä¸å…¶å€¼åŸŸï¼Œé€šå¸¸ä»¥ param-key=param-value çš„å½¢å¼å­˜åœ¨ é…ç½®é›† ä¸€ç»„ç›¸å…³æˆ–è€…ä¸ç›¸å…³çš„é…ç½®é¡¹çš„é›†åˆ é…ç½®é›†ID é…ç½®åˆ†ç»„ é…ç½®å¿«ç…§ Nacos çš„å®¢æˆ·ç«¯ SDK ä¼šåœ¨æœ¬åœ°ç”Ÿæˆé…ç½®çš„å¿«ç…§ ç±»ä¼¼äºç¼“å­˜ æœåŠ¡ æœåŠ¡å æœåŠ¡æ³¨å†Œä¸­å¿ƒ æœåŠ¡å‘ç° å¯¹æœåŠ¡ä¸‹çš„å®ä¾‹çš„åœ°å€å’Œå…ƒæ•°æ®è¿›è¡Œæ¢æµ‹ å…ƒä¿¡æ¯ æœåŠ¡æˆ–è€…é…ç½®çš„æè¿°ä¿¡æ¯ åº”ç”¨ æœåŠ¡åˆ†ç»„ è™šæ‹Ÿé›†ç¾¤ åŒä¸€ä¸ªæœåŠ¡ä¸‹çš„æ‰€æœ‰æœåŠ¡å®ä¾‹ç»„æˆä¸€ä¸ªé»˜è®¤é›†ç¾¤ å®ä¾‹ æƒé‡ å¥åº·æ£€æŸ¥ å¥åº·ä¿æŠ¤é˜ˆå€¼ æ­¢å› è¿‡å¤šå®ä¾‹ä¸å¥åº·å¯¼è‡´æµé‡å…¨éƒ¨æµå‘å¥åº·å®ä¾‹ æ¶æ„ æ³¨å†Œä¸­å¿ƒ ä½¿ç”¨ ç”Ÿäº§è€… com.alibaba.cloud spring-cloud-starter-alibaba-nacos-discovery spring.application.name=provider spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848 æ¶ˆè´¹è€… @FeignClient(\"provider\") public interface ProviderClient { @GetMapping(\"/name\") String name(); } @RestController public static class Api { @Autowired private ProviderClient client; @GetMapping(\"/\") public String home() { return client.name(); } } vs Zookeeper & Eureka ä¸åŒç‚¹: Zookeeperé‡‡ç”¨CPä¿è¯æ•°æ®çš„ä¸€è‡´æ€§çš„é—®é¢˜ Eurekaé‡‡ç”¨apçš„è®¾è®¡ç†å¿µæ¶æ„æ³¨å†Œä¸­å¿ƒï¼Œå®Œå…¨å»ä¸­å¿ƒåŒ–æ€æƒ³ Nacos.ä»1.0ç‰ˆæœ¬æ”¯æŒCPå’ŒAPæ··åˆæ¨¡å¼é›†ç¾¤ï¼Œé»˜è®¤æ˜¯é‡‡ç”¨Apä¿è¯æœåŠ¡å¯ç”¨æ€§ï¼ŒCPçš„å½¢å¼åº•å±‚é›†ç¾¤raftåè®®ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§çš„é—®é¢˜ã€‚ æœ€ä¸»è¦çš„æ˜¯Eurekaé›†ç¾¤ä¸­çš„å„ä¸ªèŠ‚ç‚¹æ˜¯å¯¹ç­‰çš„ï¼Œè€ŒNacosåˆ™æœ‰ä¸»ä»ä¹‹åˆ† é…ç½®ä¸­å¿ƒ com.alibaba.cloud spring-cloud-starter-alibaba-nacos-config # bootstrap.properties spring.cloud.nacos.config.server-addr=127.0.0.1:8848 spring.cloud.nacos.config.name=provider-config # æŒ‡å®šé…ç½®æ–‡ä»¶åç¼€å spring.cloud.nacos.config.file-extension=properties é»˜è®¤æ ¼å¼ï¼š${config-name}-${profile}.#{file-extension} ä½¿ç”¨ applicationContext.getEnvironment().getProperty(\"app.name\") è‡ªå®šä¹‰namespace ä¸åŒçš„å‘½åç©ºé—´ä¸‹ï¼Œå¯ä»¥å­˜åœ¨ç›¸åŒçš„ Group æˆ– Data ID çš„é…ç½®ã€‚Namespace çš„å¸¸ç”¨åœºæ™¯ä¹‹ä¸€æ˜¯ä¸åŒç¯å¢ƒçš„é…ç½®çš„åŒºåˆ†éš”ç¦» é€šè¿‡æŒ‡å®š ${spring.cloud.nacos.config.namespace} é…ç½®æ¥å®ç° è‡ªå®šä¹‰Group ${spring.cloud.nacos.config.group} è‡ªå®šä¹‰data-id spring.cloud.nacos.config.extension-configs[0].data-id=xxx # é…ç½®æ”¯æŒåˆ·æ–° spring.cloud.nacos.config.extension-configs[0].refresh=true é…ç½®çš„ä¼˜å…ˆçº§ é«˜ï¼šé€šè¿‡å†…éƒ¨ç›¸å…³è§„åˆ™(åº”ç”¨åã€åº”ç”¨å+ Profile )è‡ªåŠ¨ç”Ÿæˆç›¸å…³çš„ Data Id é…ç½® ä¸­ï¼šé€šè¿‡ spring.cloud.nacos.config.extension-configs[n].data-id çš„æ–¹å¼æ”¯æŒå¤šä¸ªæ‰©å±• Data Id çš„é…ç½® ä½ï¼šé€šè¿‡ spring.cloud.nacos.config.shared-dataids æ”¯æŒå¤šä¸ªå…±äº« Data Id çš„é…ç½® é…ç½®ä¸­å¿ƒé›†ç¾¤ Sentinel åŸºæœ¬æ¦‚å¿µ èµ„æºï¼šå¯ä»¥æ˜¯ Java åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•å†…å®¹ è§„åˆ™ï¼šåŒ…æ‹¬æµé‡æ§åˆ¶è§„åˆ™ã€ç†”æ–­é™çº§è§„åˆ™ä»¥åŠç³»ç»Ÿä¿æŠ¤è§„åˆ™ æµé‡æ§åˆ¶ï¼šSentinel ä½œä¸ºä¸€ä¸ªè°ƒé…å™¨ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æŠŠéšæœºçš„è¯·æ±‚è°ƒæ•´æˆåˆé€‚çš„å½¢çŠ¶ æµé‡æ§åˆ¶å¯ä»¥ä»ä»¥ä¸‹è§’åº¦åˆ‡å…¥ï¼š èµ„æºçš„è°ƒç”¨å…³ç³»ï¼Œä¾‹å¦‚èµ„æºçš„è°ƒç”¨é“¾è·¯ï¼Œèµ„æºå’Œèµ„æºä¹‹é—´çš„å…³ç³» è¿è¡ŒæŒ‡æ ‡ï¼Œä¾‹å¦‚ QPSã€çº¿ç¨‹æ± ã€ç³»ç»Ÿè´Ÿè½½ç­‰ æ§åˆ¶çš„æ•ˆæœï¼Œä¾‹å¦‚ç›´æ¥é™æµã€å†·å¯åŠ¨ã€æ’é˜Ÿç­‰ ç†”æ–­é™çº§ï¼š Hystrix é€šè¿‡çº¿ç¨‹æ± çš„æ–¹å¼ï¼Œæ¥å¯¹ä¾èµ–(åœ¨æˆ‘ä»¬çš„æ¦‚å¿µä¸­å¯¹åº”èµ„æº)è¿›è¡Œäº†éš”ç¦»ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯èµ„æºå’Œèµ„æºä¹‹é—´åšåˆ°äº†æœ€å½»åº•çš„éš”ç¦»ã€‚ç¼ºç‚¹æ˜¯é™¤äº†å¢åŠ äº†çº¿ç¨‹åˆ‡æ¢çš„æˆæœ¬ sentinel é€šè¿‡ä½¿ç”¨ä»¥ä¸‹æ–¹å¼é™åˆ¶ï¼š å¹¶å‘çº¿ç¨‹æ•° åŒè®¡æ•°å™¨ å½“çº¿ç¨‹æ•°è¾¾åˆ°ä¸€å®šæ•°é‡ æ–°çš„è¯·æ±‚å°±ä¼šè¢«æ‹’ç» å“åº”æ—¶é—´ å½“èµ„æºå“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼ å¯¹è¯¥èµ„æºçš„è®¿é—®ä¼šç›´æ¥æ‹’ç» åŸºæœ¬åŸç† æ‰€æœ‰çš„èµ„æºéƒ½å¯¹åº”ä¸€ä¸ªèµ„æºåç§°ä»¥åŠä¸€ä¸ª Entryã€‚Entry å¯ä»¥é€šè¿‡å¯¹ä¸»æµæ¡†æ¶çš„é€‚é…è‡ªåŠ¨åˆ›å»ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ³¨è§£çš„æ–¹å¼æˆ–è°ƒç”¨ API æ˜¾å¼åˆ›å»º é€šè¿‡ä¸€ç³»åˆ—çš„Slotæ¥å®ç°ç›¸å¯¹åº”çš„åŠŸèƒ½ vs hystrix item Sentinel Hystrix éš”ç¦»ç­–ç•¥ ä¿¡å·é‡éš”ç¦» çº¿ç¨‹æ± éš”ç¦»/ä¿¡å·é‡éš”ç¦» ç†”æ–­é™çº§ç­–ç•¥ åŸºäºå“åº”æ—¶é—´æˆ–å¤±è´¥æ¯”ç‡ åŸºäºå¤±è´¥æ¯”ç‡ å®æ—¶æŒ‡æ ‡å®ç° æ»‘åŠ¨çª—å£ æ»‘åŠ¨çª—å£ï¼ˆåŸºäº RxJavaï¼‰ è§„åˆ™é…ç½® æ”¯æŒå¤šç§æ•°æ®æº æ”¯æŒå¤šç§æ•°æ®æº æ‰©å±•æ€§ å¤šä¸ªæ‰©å±•ç‚¹ æ’ä»¶çš„å½¢å¼ åŸºäºæ³¨è§£çš„æ”¯æŒ æ”¯æŒ æ”¯æŒ é™æµ åŸºäº QPSï¼Œæ”¯æŒåŸºäºè°ƒç”¨å…³ç³»çš„é™æµ æœ‰é™çš„æ”¯æŒ æµé‡æ•´å½¢ æ”¯æŒæ…¢å¯åŠ¨ã€åŒ€é€Ÿå™¨æ¨¡å¼ ä¸æ”¯æŒ ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ æ”¯æŒ ä¸æ”¯æŒ æ§åˆ¶å° å¼€ç®±å³ç”¨ï¼Œå¯é…ç½®è§„åˆ™ã€æŸ¥çœ‹ç§’çº§ç›‘æ§ã€æœºå™¨å‘ç°ç­‰ ä¸å®Œå–„ å¸¸è§æ¡†æ¶çš„é€‚é… Servletã€Spring Cloudã€Dubboã€gRPC ç­‰ Servletã€Spring Cloud Netflix åŸºæœ¬ä½¿ç”¨ com.alibaba.cloud spring-cloud-starter-alibaba-sentinel @GetMapping(\"/name\") @SentinelResource(value = \"resource1\",blockHandlerClass = {ServiceFallback.class}) public String name() { return \"provider\"+port; } sentinel-dashboard æ·»åŠ æµæ§è§„åˆ™ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-28 08:42:01 "},"è®¡ç®—æœºç³»ç»Ÿ/nav.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/nav.html","title":"ğŸ’»è®¡ç®—æœºç³»ç»Ÿ","keywords":"","body":"è®¡ç®—æœºç³»ç»Ÿ å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„å·¥ä½œåŸç† å­˜å‚¨ç¨‹åº å°†ç¨‹åºå­˜æ”¾åœ¨è®¡ç®—æœºçš„å­˜å‚¨å™¨ä¸­ ç¨‹åºæ§åˆ¶ æŒ‰æŒ‡ä»¤åœ°å€è®¿é—®å­˜å‚¨å™¨å¹¶å–å‡ºæŒ‡ä»¤ï¼Œç»è¯‘ç ä¾æ¬¡äº§ç”ŸæŒ‡ä»¤æ‰§è¡Œæ‰€éœ€çš„æ§åˆ¶ä¿¡å·ï¼Œå®ç°å¯¹è®¡ç®—çš„æ§åˆ¶ï¼Œå®ŒæˆæŒ‡ä»¤çš„åŠŸèƒ½ ç¡¬ä»¶ç³»ç»Ÿ è½¯ä»¶ç³»ç»Ÿ å¯è¿è¡Œçš„æ€æƒ³å’Œå†…å®¹çš„æ•°å­—åŒ– è½¯ä»¶çš„è¡¨ç°å½¢å¼: ç¨‹åºå’Œæ•°æ®ï¼ˆä»¥äºŒè¿›åˆ¶è¡¨ç¤ºçš„ä¿¡æ¯ï¼‰ è½¯ä»¶çš„æ ¸å¿ƒ: ç®—æ³• æ€§èƒ½è¯„ä»· éæ—¶é—´æŒ‡æ ‡ æœºå™¨å­—é•¿: æŒ‡æœºå™¨ä¸€æ¬¡èƒ½å¤„ç†çš„äºŒè¿›åˆ¶ä½æ•° æ€»çº¿å®½åº¦ï¼šæ•°æ®æ€»çº¿ä¸€æ¬¡èƒ½å¹¶è¡Œä¼ é€çš„æœ€å¤§ä¿¡æ¯çš„ä½æ•° ä¸»å­˜å®¹é‡ä¸å­˜å‚¨å¸¦å®½ æ—¶é—´æŒ‡æ ‡ ä¸»é¢‘f/æ—¶é’Ÿå‘¨æœŸT , å¤–é¢‘ã€å€é¢‘ CPI (Clock cycles Per Instruction) MIPS (Million Instructions Per Second) CPUæ—¶é—´ åæ˜ CPUå…¨é€Ÿå·¥ä½œæ—¶å®Œæˆè¯¥è¿›ç¨‹æ‰€èŠ±è´¹çš„æ—¶é—´ æ€§èƒ½æµ‹è¯• è®¡ç®—æœºç³»ç»Ÿä¸­é…ç½®äº†å¤§é‡çš„ä¼ æ„Ÿå™¨å’Œå¯„å­˜å™¨ï¼Œç³»ç»Ÿè¿è¡Œçš„ç›¸å…³å‚æ•°ä¿å­˜åœ¨å¯¹åº”çš„å¯„å­˜å™¨ä¸­ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-12 13:57:08 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/æ•°æ®çš„è¡¨ç¤º.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/æ•°æ®çš„è¡¨ç¤º.html","title":"æ•°æ®çš„è¡¨ç¤º","keywords":"","body":"æ•°æ®çš„è¡¨ç¤º ç»„ç»‡æ•°æ®,æ–¹ä¾¿è®¡ç®—æœºç¡¬ä»¶ç›´æ¥ä½¿ç”¨ æœºå™¨å†…çš„æ•°æ®è¡¨ç¤º åŸç  åŸç (true form)æ˜¯ä¸€ç§è®¡ç®—æœºä¸­å¯¹æ•°å­—çš„äºŒè¿›åˆ¶å®šç‚¹è¡¨ç¤ºæ–¹æ³•ã€‚åŸç è¡¨ç¤ºæ³•åœ¨æ•°å€¼å‰é¢å¢åŠ äº†ä¸€ä½ç¬¦å·ä½ï¼ˆå³æœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼‰ï¼šæ­£æ•°è¯¥ä½ä¸º0ï¼Œè´Ÿæ•°è¯¥ä½ä¸º1ï¼ˆ0æœ‰ä¸¤ç§è¡¨ç¤ºï¼š+0å’Œ-0ï¼‰ï¼Œå…¶ä½™ä½è¡¨ç¤ºæ•°å€¼çš„å¤§å° åç  åç è·ŸåŸç æ˜¯æ­£æ•°æ—¶ï¼Œä¸€æ ·ï¼›è´Ÿæ•°æ—¶ï¼Œåç å°±æ˜¯åŸç ç¬¦å·ä½é™¤å¤–ï¼Œå…¶ä»–ä½æŒ‰ä½å–å è¡¥ç  åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ•°å€¼ä¸€å¾‹ç”¨è¡¥ç æ¥è¡¨ç¤ºå’Œå­˜å‚¨ã€‚åŸå› åœ¨äºï¼Œä½¿ç”¨è¡¥ç ï¼Œå¯ä»¥å°†ç¬¦å·ä½å’Œæ•°å€¼åŸŸç»Ÿä¸€å¤„ç†ï¼›åŒæ—¶ï¼ŒåŠ æ³•å’Œå‡æ³•ä¹Ÿå¯ä»¥ç»Ÿä¸€å¤„ç† ç§»ç  å¯¹è¡¥ç çš„ç¬¦å·ä½å–å å®šç‚¹ä¸æµ®ç‚¹æ•°æ®è¡¨ç¤º å®šç‚¹æ•°æ® å¯è¡¨ç¤ºå®šç‚¹å°æ•°å’Œæ•´æ•° æµ®ç‚¹æ•°æ® ä¸åŒç³»ç»Ÿå¯èƒ½æ ¹æ®è‡ªå·±çš„æµ®ç‚¹æ•°æ ¼å¼ä»ä¸­æå–ä¸åŒä½æ•°çš„é˜¶ç  IEEE 754æ ¼å¼ S 8ä½åæŒ‡æ•°E 23ä½æœ‰æ•ˆå°¾æ•°M å•ç²¾åº¦ S 11ä½åæŒ‡æ•°E 52ä½æœ‰æ•ˆå°¾æ•°M åŒç²¾åº¦ æ•°æ®æ ¡éªŒ å—å…ƒå™¨ä»¶çš„è´¨é‡ã€ç”µè·¯æ•…éšœæˆ–å™ªéŸ³å¹²æ‰°ç­‰å› ç´ çš„å½±å“ï¼Œæ•°æ® åœ¨è¢«å¤„ç†ã€ä¼ è¾“ã€å­˜å‚¨çš„è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°é”™è¯¯ï¼Œè‹¥èƒ½è®¾è®¡ç¡¬ä»¶å±‚é¢çš„é”™è¯¯æ£€æµ‹æœºåˆ¶ï¼Œå¯ä»¥å‡å°‘åŸºäºè½¯ä»¶æ£€é”™çš„ä»£ä»· åŸºæœ¬åŸç† å¢åŠ å†—ä½™ç  ç è· åŒä¸€ç¼–ç ä¸­ï¼Œä»»æ„ä¸¤ä¸ªåˆæ³•ç¼–ç ä¹‹é—´ä¸åŒäºŒè¿›æ•°ä½æ•°çš„æœ€å°å€¼ æ ¡éªŒç ä¸­å¢åŠ å†—ä½™é¡¹çš„ç›®çš„å°±æ˜¯ä¸ºäº†å¢å¤§ç è· 1) ç è·â‰¥e+1:å¯æ£€æµ‹eä¸ªé”™è¯¯ 2) ç è·â‰¥2t+1:å¯çº æ­£tä¸ªé”™è¯¯ 3) ç è·â‰¥e+t+1:å¯çº æ­£tä¸ªé”™è¯¯ï¼ŒåŒæ—¶æ£€æµ‹eä¸ªé”™è¯¯(e >= t) å¥‡å¶æ ¡éªŒ ç¼–ç ä¸æ£€é”™ç®€å• ç¼–ç æ•ˆç‡é«˜ ä¸èƒ½æ£€æµ‹å¶æ•°ä½é”™è¯¯, æ— é”™ç»“è®ºä¸å¯é ï¼Œæ˜¯ä¸€ç§é”™è¯¯æ£€æµ‹ç  ä¸èƒ½å®šä½é”™è¯¯ï¼Œå› æ­¤ä¸å…·å¤‡çº é”™èƒ½åŠ› CRCæ ¡éªŒ æµ·æ˜æ ¡éªŒ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-11 07:38:34 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/è¿ç®—æ–¹æ³•ä¸è¿ç®—å™¨.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/è¿ç®—æ–¹æ³•ä¸è¿ç®—å™¨.html","title":"è¿ç®—æ–¹æ³•ä¸è¿ç®—å™¨","keywords":"","body":"è¿ç®—æ–¹æ³•ä¸è¿ç®—å™¨ å®šç‚¹æ•°è¿ç®—åŠæº¢å‡ºæ£€æµ‹ å®šç‚¹æ•°åŠ æ³•è¿ç®— å®šç‚¹æ•°å‡æ³•è¿ç®— æº¢å‡º æº¢å‡º:è¿ç®—ç»“æœè¶…å‡ºäº†æŸç§æ•°æ®ç±»å‹çš„è¡¨ç¤ºèŒƒå›´ æº¢å‡ºåªå¯èƒ½å‘ç”Ÿåœ¨åŒç¬¦å·æ•°ç›¸åŠ æ—¶ æ–¹æ³•1ï¼šå¯¹æ“ä½œæ•°å’Œè¿ç®—ç»“æœçš„ç¬¦å·ä½è¿›è¡Œæ£€æµ‹,å½“ç»“æœçš„ç¬¦å·ä½ä¸æ“ä½œæ•°çš„ç¬¦å·ä¸ç›¸åŒæ—¶å°±è¡¨æ˜å‘ç”Ÿäº†æº¢å‡º æ–¹æ³•2ï¼šå¯¹æœ€é«˜æ•°æ®ä½è¿›ä½å’Œç¬¦å·è¿›ä½è¿›è¡Œæ£€æµ‹ æ–¹æ³•3ï¼šç”¨å˜å‹è¡¥ç  int tadd_ok(int x,int y) { int sum=x+y; int neg_over=x=0; int pos_over=x>=0&&y>=0&&sum æ— ç¬¦å·æ•°åŠ æ³•çš„æº¢å‡ºå¯ç”¨ALUçš„è¿›ä½è¡¨ç¤º æ— ç¬¦å·æ•°å‡æ³•çš„æº¢å‡ºä¹Ÿå¯ç”¨å¸¦åŠ /å‡åŠŸèƒ½çš„ALUçš„è¿›ä½å–ååè¡¨ç¤º åŸç ä¸€ä½ä¹˜æ³• ç§»ä½æ“ä½œ é€»è¾‘å·¦ç§» æ•°æ®æ•´ä½“å·¦ç§»ä¸€ä½ï¼Œæœ€ä½ä½è¡¥0 ç®—æœ¯å·¦ç§» æ“ä½œä¸é€»è¾‘å·¦ç§»ä¸€æ ·ï¼Œä½†æ˜¯æ„ä¹‰æ˜¯ç­‰äºæ•°æ®ä¹˜2 é€»è¾‘å³ç§» æ•°æ®æ•´ä½“å³ç§»ä¸€ä½ï¼Œæœ€é«˜ä½è¡¥0ï¼Œæœ€ä½ä½è¢«ç§»å‡º ç®—æœ¯å³ç§» æ•°æ®æ•´ä½“å³ç§»ä¸€ä½ï¼Œæœ€é«˜ä½è¢«å¤åˆ¶å¡«è¡¥ ï¼Œæœ€ä½ä½è¢«ç§»å‡º ç›¸å½“äºé™¤2 ä¹˜æ³• è¡¥ç ä¸€ä½ä¹˜æ³• ä¹˜æ³•å™¨ å®šç‚¹æ•°é™¤æ³• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-14 07:48:33 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/æ±‡ç¼–.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/æ±‡ç¼–.html","title":"æ±‡ç¼–","keywords":"","body":"ç¨‹åºç¼–ç  åœ¨ç¼–è¯‘æ—¶æŒ‡å®š'-Og'é€‰é¡¹è®©GCCäº§ç”Ÿç¬¦åˆåŸå§‹ç¨‹åºç»“æ„çš„æœºå™¨ä»£ç  æœºå™¨çº§ä»£ç  å¯¹Cè¯­è¨€éšè—ï¼Œ ä½†å¯¹æ±‡ç¼–ä»£ç å¯è§çš„ï¼š ç¨‹åºè®¡æ•°å™¨ æ•´æ•°å¯„å­˜å™¨æ–‡ä»¶ æ¡ä»¶ç å¯„å­˜å™¨ å‘é‡å¯„å­˜å™¨ è¾“å‡ºcæºç çš„æœºå™¨è¡¨ç¤º gcc -Og -S mstore.c æœºå™¨ä»£ç ä¸åæ±‡ç¼–çš„ç‰¹æ€§ï¼š x86-64çš„æŒ‡ä»¤é•¿åº¦ä»1-15å­—èŠ‚ä¸ç­‰ æŒ‡ä»¤è®¾è®¡çš„æ ¼å¼ï¼Œ ä»æŸä¸ªç»™å®šä½ç½®ï¼Œ èƒ½å°†å­—èŠ‚å”¯ä¸€è§£ç æˆæœºå™¨æŒ‡ä»¤ å“ˆå¤«æ›¼ç¼–ç  åæ±‡ç¼–æ— éœ€è®¿é—®æºä»£ç  åæ±‡ç¼–ä¸gccçš„å‘½åè§„åˆ™æœ‰äº›è®¸å·®åˆ« æ¯”å¦‚movqçš„qåœ¨åæ±‡ç¼–ä¸­ä¼šè¢«çœç•¥ å…³äºæ ¼å¼çš„æ³¨è§£ .file \"mstore.c\" .text .globl mulstore .type mulstore, @function mulstore: .LFB0: .cfi_startproc pushq %rbx .cfi_def_cfa_offset 16 .cfi_offset 3, -16 movq %rdx, %rbx call mult2 movq %rax, (%rbx) popq %rbx .cfi_def_cfa_offset 8 ret .cfi_endproc .LFE0: .size mulstore, .-mulstore .ident \"GCC: (GNU) 4.8.5 20150623 (Red Hat 4.8.5-36)\" .section .note.GNU-stack,\"\",@progbits ä»¥ä¸Šæ˜¯gccå®Œæ•´ç”Ÿæˆçš„.sæ–‡ä»¶ æ‰€æœ‰. å¼€å¤´çš„æ˜¯ä¼ªæŒ‡ä»¤ï¼Œ å¯ä»¥å¿½ç•¥ ATTæ±‡ç¼–ä»£ç æ ¼å¼ .file \"mstore.c\" .text .globl mulstore .type mulstore, @function mulstore: .LFB0: .cfi_startproc pushq %rbx .cfi_def_cfa_offset 16 .cfi_offset 3, -16 movq %rdx, %rbx call mult2 movq %rax, (%rbx) popq %rbx .cfi_def_cfa_offset 8 ret .cfi_endproc .LFE0: .size mulstore, .-mulstore .ident \"GCC: (GNU) 4.8.5 20150623 (Red Hat 4.8.5-36)\" .section .note.GNU-stack,\"\",@progbits æ•°æ®æ ¼å¼ 16ä½ï¼š å­—(w) 32ä½ï¼š åŒå­—(l) 64ä½ï¼š å››å­—(q) movebï¼š ä¼ é€å­—èŠ‚ movewï¼š ä¼ é€å­— movelï¼š ä¼ é€åŒå­— moveqï¼š ä¼ é€å››å­— è®¿é—®ä¿¡æ¯ x86-64çš„CPUåŒ…å«ä¸€ç»„16ä¸ªå­˜å‚¨64ä½çš„é€šç”¨ç›®çš„å¯„å­˜å™¨ 16ä½æ“ä½œå¯ä»¥è®¿é—®2ä½å­—èŠ‚ 32ä½æ“ä½œå¯ä»¥è®¿é—®4ä½å­—èŠ‚ ... æ ˆæŒ‡é’ˆï¼ˆ%rspï¼‰ æ“ä½œæ•°æŒ‡ç¤ºç¬¦ ç«‹å³æ•°ï¼š ä»£è¡¨å¸¸æ•° $åé¢æ¥cè¯­è¨€è¡¨ç¤ºæ³•çš„æ•´æ•° å¯„å­˜å™¨ï¼š è¡¨ç¤ºå¯„å­˜å™¨é‡Œçš„å†…å®¹ r a ç”¨æ¥è¡¨ç¤ºå¯„å­˜å™¨a ç”¨R[r a ]è¡¨ç¤ºé‡Œé¢çš„å†…å®¹ å†…å­˜å¼•ç”¨ï¼š æŒ‡å®šå†…å­˜åœ°å€é‡Œçš„å†…å®¹ M[åœ°å€] æ•°æ®ä¼ é€æŒ‡ä»¤ å‹å…¥æ ˆå’Œå¼¹å‡ºæ ˆæ•°æ® . å°†å››å­—å‹å…¥æ ˆ pushq S . å°†å››å­—å¼¹å‡ºæ ˆ popq D %rsp æ˜¯æ ˆæŒ‡é’ˆ %raxæ˜¯è¿”å›å€¼ ç®—æœ¯å’Œé€»è¾‘æ“ä½œ åŠ è½½æœ‰æ•ˆåœ°å€ . x= y+x*4 leaq (%rdi,%rsi,4), %rax ä¸€å…ƒå’ŒäºŒå…ƒæ“ä½œ . ä»%ediä¸­å‡å»%esi subl %esi, %edi ç§»ä½æ“ä½œ . å°†xå·¦ç§»å››ä½ salq $4, %rax ç‰¹æ®Šçš„ç®—æœ¯æ“ä½œ æ§åˆ¶ æ¡ä»¶ç  CF:è¿›ä½æ ‡å¿— ZF:é›¶æ ‡å¿— SF:ç¬¦å·æ ‡å¿— OF:æº¢å‡ºæ ‡å¿— è¯»å–æ¡ä»¶ç  è·³è½¬æŒ‡ä»¤ ç”¨æ¡ä»¶æ§åˆ¶å®ç°åˆ†æ”¯æ§åˆ¶ cmpq %rsi, %rdi jg .L4 movq %rdi, %rax subq %rsi, %rax ret .L4: leaq (%rdi,%rsi), %rax ret å¯¹åº”çš„cä»£ç ï¼š if (x > y){ return x+y; }else{ return x-y; } ç”¨æ¡ä»¶ä¼ é€å®ç°æ¡ä»¶åˆ†æ”¯ åˆ†æ”¯é¢„æµ‹ å¾ªç¯ do-while while guarded-do for switchè¯­å¥ è·³è½¬è¡¨ è¿‡ç¨‹ ä¼ é€’æ§åˆ¶ ä¼ é€’æ•°æ® åˆ†é…å’Œé‡Šæ”¾å†…å­˜ è¿è¡Œæ—¶æ ˆ è½¬ç§»æ§åˆ¶ ä¿å­˜å½“å‰ç¨‹åºåœ°å€ï¼Œå°†ç¨‹åºè®¡æ•°å™¨è®¾ç½®ä¸ºæ–°è¿‡ç¨‹åœ°å€ è¿”å›æ—¶è¯»å–ä¿å­˜çš„åœ°å€ï¼Œç»§ç»­æ‰§è¡Œ æ•°æ®ä¼ é€ ä¼ é€’å‡½æ•°å‚æ•°çš„å¯„å­˜å™¨ æ ˆä¸Šçš„å±€éƒ¨å­˜å‚¨ å¯„å­˜å™¨ä¸­çš„å±€éƒ¨å­˜å‚¨ç©ºé—´ è¢«è°ƒç”¨è€…ä¿å­˜å¯„å­˜å™¨ è°ƒç”¨è€…ä¿å­˜å¯„å­˜å™¨ é€’å½’è¿‡ç¨‹ æ•°ç»„çš„åˆ†é…å’Œè®¿é—® åŸºæœ¬åŸåˆ™ T A[N] æŒ‡é’ˆè¿ç®— &D [ i ] [ j ] = X D L(Ci+j) å®šé•¿æ•°ç»„ å˜é•¿æ•°ç»„ å¼‚è´¨çš„æ•°æ®ç»“æ„ éƒ½æ˜¯å¯¹åœ°å€è¿›è¡Œåç§»å¾—åˆ°çš„ ç»“æ„ è”åˆ æ•°æ®å¯¹é½ åœ¨æœºå™¨çº§ç¨‹åºä¸­å°†æ§åˆ¶ä¸æ•°æ®ç»“åˆèµ·æ¥ ç†è§£æŒ‡é’ˆ åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŒ‡é’ˆï¼ˆPointerï¼‰æ˜¯ç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ©ç”¨åœ°å€ï¼Œå®ƒçš„å€¼ç›´æ¥æŒ‡å‘ï¼ˆpoints toï¼‰å­˜åœ¨ç”µè„‘å­˜å‚¨å™¨ä¸­å¦ä¸€ä¸ªåœ°æ–¹çš„å€¼ GDBè°ƒè¯•å™¨ UNIXåŠUNIX-likeä¸‹çš„è°ƒè¯•å·¥å…· å†…å­˜è¶Šç•Œå¼•ç”¨å’Œç¼“å†²åŒºæº¢å‡º å¯¹æŠ—ç¼“å†²åŒºæº¢å‡ºæ”»å‡» æ ˆéšæœºåŒ– æ ˆç ´åæ£€æµ‹ é™åˆ¶å¯æ‰§è¡Œä»£ç åŒºåŸŸ å˜é•¿å¸§ æµ®ç‚¹ä»£ç  %ymm0 ~ %ymm15 æµ®ç‚¹ä¼ é€å’Œè½¬æ¢æ“ä½œ è¿‡ç¨‹ä¸­çš„æµ®ç‚¹ä»£ç  ä½¿ç”¨XMMå¯„å­˜å™¨æ¥ä¼ é€’æµ®ç‚¹å‚æ•° æµ®ç‚¹è¿ç®—æ“ä½œ å®šä¹‰å’Œä½¿ç”¨æµ®ç‚¹å¸¸æ•° æµ®ç‚¹æ“ä½œä¸èƒ½æŠŠç«‹å³æ•°ä½œä¸ºæ“ä½œæ•° ç¼–è¯‘å™¨å¿…é¡»ä¸ºæ‰€æœ‰æµ®ç‚¹å¸¸é‡åˆå§‹åŒ–å­˜å‚¨ç©ºé—´ åœ¨æµ®ç‚¹ä»£ç ä¸­ä½¿ç”¨ä½çº§æ“ä½œ æµ®ç‚¹æ¯”è¾ƒæ“ä½œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-15 02:59:02 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/å¤„ç†å™¨ä½“ç³»æ¶æ„.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/å¤„ç†å™¨ä½“ç³»æ¶æ„.html","title":"å¤„ç†å™¨ä½“ç³»æ¶æ„","keywords":"","body":"å¤„ç†å™¨ä½“ç³»æ¶æ„ ä¸­å¤®å¤„ç†å™¨ ç»„æˆ è¿ç®—å™¨ æ•°æ®åŠ å·¥ æ§åˆ¶å™¨ ç¨‹åºæ‰§è¡Œ/æŒ‡ä»¤æ‰§è¡Œ ä¸»è¦åŠŸèƒ½ ä¸»è¦å¯„å­˜å™¨ æ“ä½œæ§åˆ¶å™¨ å–æŒ‡ä»¤ï¼Œå°†æœºå™¨æŒ‡ä»¤è¯‘ç å¹¶ç”Ÿæˆæ‰§è¡Œéƒ¨ä»¶æ§åˆ¶ä¿¡å·åºåˆ— ï¼Œå»ºç«‹æ­£ç¡®çš„æ•°æ®é€šè·¯ï¼Œä»è€Œå®ŒæˆæŒ‡ä»¤çš„æ­£ç¡®æ‰§è¡Œ æ•°æ®é€šè·¯ æ‰§è¡Œéƒ¨ä»¶é—´ä¼ é€ä¿¡æ¯çš„è·¯å¾„ ä¸åŒæŒ‡ä»¤ã€åŒä¸€æŒ‡ä»¤åœ¨æ‰§è¡Œçš„ä¸åŒé˜¶æ®µçš„æ•°æ®é€šè·¯ä¸åŒ åˆ†ç±» å…±äº«é€šè·¯ï¼ˆæ€»çº¿ï¼‰ ä¸»è¦éƒ¨ä»¶éƒ½è¿æ¥åœ¨å…¬å…±æ€»çº¿ä¸Šï¼Œå„éƒ¨ä»¶é—´é€šè¿‡æ€»çº¿è¿›è¡Œæ•°æ®ä¼ è¾“ ç»“æ„ç®€å•ï¼Œå®ç°å®¹æ˜“ï¼Œä½†å¹¶å‘æ€§è¾ƒå·®ï¼Œéœ€åˆ†æ—¶ä½¿ç”¨æ€»çº¿ï¼Œæ•ˆç‡ä½ ä¸“ç”¨é€šè·¯ å¹¶å‘åº¦é«˜ï¼Œæ€§èƒ½ä½³ï¼Œè®¾è®¡å¤æ‚ï¼Œæˆæœ¬é«˜ å¯ä»¥çœ‹åšå¤šæ€»çº¿ç»“æ„ æ•°æ®é€šè·¯æŠ½è±¡æ¨¡å‹ï¼ˆå¯„å­˜å™¨ä¼ è¾“ï¼‰ å•æ€»çº¿ç»“æ„ï¼š2ä¸ªé”å­˜å™¨ï¼Œ3ä¸ªæ—¶é’Ÿå‘¨æœŸ åŒæ€»çº¿ç»“æ„ï¼š1ä¸ªé”å­˜å™¨ï¼Œ2ä¸ªæ—¶é’Ÿå‘¨æœŸ ä¸‰æ€»çº¿ç»“æ„ï¼š0ä¸ªé”å­˜å™¨ï¼Œ1ä¸ªæ—¶é’Ÿå‘¨æœŸ æ€»çº¿è¶Šå¤šï¼Œæ€§èƒ½è¶Šå¥½ æŒ‡ä»¤å‘¨æœŸ ä¸åŒæŒ‡ä»¤åŠŸèƒ½ä¸åŒï¼Œæ•°æ®é€šè·¯ä¸åŒï¼Œæ‰§è¡Œæ—¶é—´ä¸åŒï¼Œå¦‚ä½•å®‰æ’æ—¶åº åŸºæœ¬æ¦‚å¿µ æ—¶é’Ÿå‘¨æœŸ = èŠ‚æ‹è„‰å†² = éœ‡è¡å‘¨æœŸ èƒ½å®Œæˆä¸€æ¬¡å¾®æ“ä½œ æœºå™¨å‘¨æœŸ = CPUå‘¨æœŸ ä»ä¸»å­˜è¯»å‡ºä¸€æ¡æŒ‡ä»¤çš„æœ€çŸ­æ—¶é—´ å¯å®Œæˆ å¤æ‚æ“ä½œ æŒ‡ä»¤å‘¨æœŸï¼šä»ä¸»å­˜å–ä¸€æ¡æŒ‡ä»¤å¹¶æ‰§è¡ŒæŒ‡ä»¤çš„æ—¶é—´ æŒ‡ä»¤æ§åˆ¶åŒæ­¥ å®šé•¿æŒ‡ä»¤å‘¨æœŸï¼šæ—©æœŸä¸‰çº§æ—¶åºç³»ç»Ÿ å˜é•¿æŒ‡ä»¤å‘¨æœŸï¼šç°ä»£æ—¶åºç³»ç»Ÿ ç°ä»£æ—¶è®¸ç³»ç»Ÿ æ€»çº¿ç»“æ„ä¸CPUæŒ‡ä»¤å‘¨æœŸ å–æŒ‡ä»¤ LOADæŒ‡ä»¤ MOVEæŒ‡ä»¤ ADDæŒ‡ä»¤ STOREæŒ‡ä»¤ JMPæŒ‡ä»¤ ç¡¬å¸ƒçº¿æ§åˆ¶å™¨è®¾è®¡ å°†æ§åˆ¶å™¨çœ‹æˆäº§ç”Ÿå›ºå®šæ—¶åºæ§åˆ¶ä¿¡å·çš„é€»è¾‘ç”µè·¯ è¾“å…¥ä¿¡å·ï¼šæŒ‡ä»¤è¯‘ç ï¼Œæ—¶é’Ÿä¿¡å·ï¼Œåé¦ˆä¿¡å· è¾“å‡ºä¿¡å·ï¼šåŠŸèƒ½éƒ¨ä»¶æ§åˆ¶ä¿¡å·åºåˆ— è®¾è®¡ç›®æ ‡ï¼šæœ€å°‘å…ƒä»¶ï¼Œæœ€å¿«é€Ÿåº¦ ç†è®ºåŸºç¡€ï¼šå¸ƒå°”ä»£æ•° ç»„æˆå™¨ä»¶ï¼šé—¨ç”µè·¯ï¼Œè§¦å‘å™¨ å®šé•¿æŒ‡ä»¤å‘¨æœŸæ—¶åºäº§ç”Ÿå™¨ æ—¶åºäº§ç”Ÿå™¨çŠ¶æ€æœº ç¡¬å¸ƒçº¿æ§åˆ¶å™¨åŸºæœ¬æ¶æ„ ç°ä»£æ—¶åºç³»ç»ŸæŒ‡ä»¤æ‰§è¡ŒçŠ¶æ€è½¬æ¢å›¾ å¾®ç¨‹åºæ§åˆ¶å™¨ ç¡¬å¸ƒçº¿ï¼šåŒæ­¥é€»è¾‘ã€ç¹ï¼Œå¿«ï¼Œè´µï¼Œéš¾æ”¹ é€‚åˆRISCè®¡ç®—æœºï¼Œå¦‚MIPSï¼ŒARM å¾®ç¨‹åºï¼šå­˜å‚¨é€»è¾‘ã€ç®€ã€æ…¢ã€å»‰ï¼Œæ˜“æ”¹ é€‚åˆCISCç­‰åŠŸèƒ½è¾ƒå¤æ‚çš„ç³»åˆ—æœº X86ã€IBM S/360ã€ DEC VAX å¯å†™æ§å­˜æ–¹ä¾¿ä¿®å¤å‡ºå‚æ•…éšœ Intel Core 2 ã€Intel Xeon å·¥ä½œåŸç† å¾®ç¨‹åºæ˜¯åˆ©ç”¨è½¯ä»¶æ–¹æ³•æ¥è®¾è®¡ç¡¬ä»¶çš„æŠ€æœ¯ å­˜å‚¨æŠ€æœ¯å’Œç¨‹åºè®¾è®¡ç›¸ç»“åˆï¼Œå›é¿å¤æ‚çš„åŒæ­¥æ—¶åºé€»è¾‘è®¾è®¡ å¾®ç¨‹åºè®¾è®¡ ç”¨è§„æ•´çš„å­˜å‚¨é€»è¾‘ä»£æ›¿ä¸è§„åˆ™çš„ç¡¬æ¥çº¿é€»è¾‘æ¥å®ç°è®¡ç®—æœºæ§åˆ¶å™¨åŠŸèƒ½çš„æŠ€æœ¯ å¾®æŒ‡ä»¤æ ¼å¼ è®¾è®¡åŸåˆ™ æœ‰åˆ©äºç¼©çŸ­å¾®æŒ‡ä»¤å­—é•¿åº¦ æœ‰åˆ©äºå‡å°‘æ§åˆ¶å­˜å‚¨å™¨å®¹é‡ æœ‰åˆ©äºæé«˜å¾®ç¨‹åºæ‰§è¡Œé€Ÿåº¦ æœ‰åˆ©äºå¯¹å¾®æŒ‡ä»¤è¿›è¡Œä¿®æ”¹ æœ‰åˆ©äºæé«˜å¾®ç¨‹åºè®¾è®¡çš„çµæ´»æ€§ æ°´å¹³å‹å¾®æŒ‡ä»¤ å¹¶è¡Œæ“ä½œèƒ½åŠ›å¼ºï¼Œæ•ˆç‡é«˜ï¼Œçµæ´»æ€§å¼ºï¼Œ å¾®æŒ‡ä»¤å­—è¾ƒé•¿ï¼Œå¾®ç¨‹åºçŸ­ï¼Œæ§å­˜å®¹é‡å¤§ï¼Œæ€§èƒ½ä½³ å‚ç›´å‹å¾®æŒ‡ä»¤ å­—é•¿çŸ­ï¼Œå¾®ç¨‹åºé•¿ï¼Œæ§å­˜å®¹é‡å°ï¼Œæ€§èƒ½å·® å‚ç›´å‹ä¸æŒ‡ä»¤ç›¸ä¼¼ï¼Œæ˜“äºæŒæ¡ åŸºæœ¬è¢«æ·˜æ±° å•å‘¨æœŸMIPS CPU æŒ‡ä»¤æ ¼å¼ å¤šå‘¨æœŸMIPS CPU æ•°æ®é€šè·¯ ä¸å†åŒºåˆ†æŒ‡ä»¤å­˜å‚¨å™¨å’Œæ•°æ®å­˜å‚¨å™¨ï¼Œåˆ†æ—¶ä½¿ç”¨éƒ¨åˆ†åŠŸèƒ½éƒ¨ä»¶ ä¸»è¦åŠŸèƒ½å•å…ƒè¾“å‡ºç«¯å¢åŠ å¯„å­˜å™¨é”å­˜æ•°æ® ä¼ è¾“é€šè·¯å»¶è¿Ÿå˜å°ï¼Œæ—¶é’Ÿå‘¨æœŸå˜çŸ­ Y86-64 æŒ‡ä»¤é›†ä½“ç³»ç»“æ„ ç¨‹åºå‘˜å¯è§çš„çŠ¶æ€ Y86 æŒ‡ä»¤ Y86-64 å¼‚å¸¸ 1 AOK 2 HLT 3 ADR 4 INS é€»è¾‘è®¾è®¡å’Œç¡¬ä»¶æ§åˆ¶è¯­è¨€HCL é€»è¾‘é—¨ ç»„åˆç”µè·¯å’ŒHCLå¸ƒå°”è¡¨è¾¾å¼ é™åˆ¶ï¼š è¾“å…¥å¿…é¡»è¿æ¥åˆ°ä¸‹åˆ—ä¹‹ä¸€ï¼š ç³»ç»Ÿè¾“å…¥ æŸä¸ªå­˜å‚¨å•å…ƒçš„è¾“å‡º æŸä¸ªé€»è¾‘é—¨çš„è¾“å‡º é€»è¾‘é—¨çš„è¾“å‡ºä¸èƒ½è¿æ¥åˆ°ä¸€èµ· ç½‘å¿…é¡»æ— ç¯ å¤šè·¯å¤ç”¨å™¨ï¼š å­—çº§çš„ç»„åˆç”µè·¯å’ŒHCLæ•´æ•°è¡¨è¾¾å¼ [ select1:expr1; select2:expr2: ... ] é›†åˆå…³ç³» å­˜å‚¨å™¨å’Œæ—¶é’Ÿ Y86-64çš„é¡ºåºå®ç° å°†å¤„ç†ç»„ç»‡æˆé˜¶æ®µ å–æŒ‡ è¯‘ç  æ‰§è¡Œ è®¿å­˜ å†™å› æ›´æ–°PC SEQç¡¬ä»¶ç»“æ„ SEQæ—¶åº æµæ°´çº¿çš„é€šç”¨åŸç† æœªæµæ°´çº¿åŒ– æµæ°´çº¿åŒ– MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-17 08:12:17 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/ä¼˜åŒ–ç¨‹åºæ€§èƒ½.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/ä¼˜åŒ–ç¨‹åºæ€§èƒ½.html","title":"ä¼˜åŒ–ç¨‹åºæ€§èƒ½","keywords":"","body":"ç¼–å†™é«˜æ•ˆç¨‹åºéœ€è¦æ³¨æ„çš„ï¼š åˆé€‚çš„ç®—æ³•ä¸æ•°æ®ç»“æ„ ç¼–å†™å‡ºèƒ½è®©ç¼–è¯‘å™¨è½¬æ¢ä¸ºé«˜æ•ˆæœºå™¨ä»£ç çš„æºä»£ç  ä¼˜åŒ–ç¼–è¯‘å™¨çš„èƒ½åŠ›å’Œå±€é™æ€§ ç¼–è¯‘å™¨ä¼˜åŒ–çº§åˆ«ä¸å®‰å…¨çš„ä¼˜åŒ– å‡½æ•°å†…è” å†…å­˜è¯»å†™å¸¦æ¥çš„å¼€é”€ å‡½æ•°è°ƒç”¨å¸¦æ¥çš„å¼€é”€ è¡¨ç¤ºç¨‹åºæ€§èƒ½ æ¯å…ƒç´ å‘¨æœŸæ•°(CPE) å¾ªç¯å±•å¼€ ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨è¿›è¡Œ æ¶ˆé™¤å¾ªç¯çš„ä½æ•ˆç‡ ä»£ç ç§»åŠ¨ void f1(int a[]){ int i = length(a); int j; for(j=0;j å‡å°‘è¿‡ç¨‹è°ƒç”¨ æ¶ˆé™¤ä¸å¿…è¦çš„å†…å­˜å¼•ç”¨ void sum1(int a[],int n,int *ret){ int i=0; for(;i ç†è§£ç°ä»£å¤„ç†å™¨ æ•´ä½“æ“ä½œ åˆ†æ”¯é¢„æµ‹ å¯„å­˜å™¨é‡å‘½å åŠŸèƒ½å•å…ƒçš„æ€§èƒ½ å¤„ç†å™¨æ“ä½œçš„æŠ½è±¡æ¨¡å‹ æé«˜å¹¶è¡Œæ€§ å¤šä¸ªç´¯ç§¯å˜é‡ void sum1(int a[],int n,int *ret){ int i=0; int limit = n/2; int tmp1=0; int tmp2=0; for(;i é‡æ–°ç»“åˆå˜æ¢ tmp = (tmp + a[i]) +a[i+1] // 1 tmp = tmp + (a[i] +a[i+1]) // 2 é™åˆ¶å› ç´  å¯„å­˜å™¨æº¢å‡º å¦‚æœå¯„å­˜å™¨ä¸å¤Ÿç”¨ï¼Œå°†ä¼šä½¿ç”¨å†…å­˜å­˜æ”¾ä¸´æ—¶å˜é‡ï¼Œé€ æˆæ€§èƒ½ä¸‹é™ åˆ†æ”¯é¢„æµ‹å’Œé¢„æµ‹é”™è¯¯å¤„ç½š ä¸å¿…è¿‡åˆ†å…³å¿ƒ ç¼–å†™é€‚åˆç”¨æ¡ä»¶ä¼ é€ç å®ç°çš„ä»£ç  ç†è§£å†…å­˜æ€§èƒ½ åŠ è½½æ€§èƒ½ å­˜å‚¨æ€§èƒ½ åº”ç”¨ï¼šæ€§èƒ½æé«˜æŠ€æœ¯ é«˜çº§è®¾è®¡ï¼šç®—æ³•ä¸æ•°æ®ç»“æ„ åŸºæœ¬ç¼–ç åŸåˆ™ æ¶ˆé™¤è¿ç»­çš„å‡½æ•°è°ƒç”¨ æ¶ˆé™¤ä¸å¿…è¦çš„å†…å­˜å¼•ç”¨ ä½çº§ä¼˜åŒ– å±•å¼€å¾ªç¯ å¤šä¸ªç´¯ç§¯å˜é‡ä¸é‡æ–°ç»“åˆ ä½¿å¾—ç¼–è¯‘é‡‡ç”¨æ¡ä»¶æ•°æ®ä¼ é€ ç¡®è®¤å’Œæ¶ˆé™¤æ€§èƒ½ç“¶é¢ˆ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-15 02:59:02 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„.html","title":"å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„","keywords":"","body":"å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ åŸºæœ¬å­˜å‚¨ä½“ç³» 1)è¾“å…¥è®¾å¤‡å°†ç¨‹åºä¸æ•°æ®å†™å…¥ä¸»å­˜ï¼› 2) CPUå–æŒ‡ä»¤ï¼› 3) CPUæ‰§è¡ŒæŒ‡ä»¤æœŸé—´è¯»æ•°æ®ï¼› 4) CPUå†™å›è¿ç®—ç»“æœï¼› 5) è¾“å‡ºè®¾å¤‡è¾“å‡ºç»“æœï¼› ä¸»å­˜é€Ÿåº¦æ…¢çš„åŸå›  ä¸»å­˜å¢é€Ÿä¸CPUå¢é€Ÿä¸åŒæ­¥ï¼› æŒ‡ä»¤æ‰§è¡ŒæœŸé—´å¤šæ¬¡è®¿é—®å­˜å‚¨å™¨ï¼› ä¸»å­˜å®¹é‡ä¸è¶³çš„åŸå›  å­˜åœ¨åˆ¶çº¦ä¸»å­˜å®¹é‡çš„æŠ€æœ¯å› ç´  CPUã€ä¸»æ¿ç­‰ç›¸å…³æŠ€æœ¯æŒ‡æ ‡ç¡®å®š åº”ç”¨å¯¹ä¸»å­˜çš„éœ€æ±‚ä¸æ–­æ‰©å¤§ ä»·æ ¼åŸå›  å­˜å‚¨ä½“ç³»çš„å±‚æ¬¡ç»“æ„ L1 Cacheé›†æˆåœ¨CPUä¸­ï¼Œåˆ†æ•°æ®Cache(D-Cache)å’ŒæŒ‡ä»¤Cache(I-Cacheï¼‰ æ—©æœŸL2 Cacheåœ¨ä¸»æ¿ä¸Šæˆ–ä¸CPUé›†æˆåœ¨åŒä¸€ç”µè·¯æ¿ä¸Šã€‚éšç€å·¥è‰ºçš„æé«˜ï¼ŒL2Cacheè¢«é›†æˆåœ¨CPUå†…æ ¸ä¸­ï¼Œä¸åˆ†D-Cacheå’ŒI-Cache å±€éƒ¨æ€§ æ—¶é—´å±€éƒ¨æ€§ ç°åœ¨è¢«è®¿é—®çš„ä¿¡æ¯2åœ¨ä¸ä¹…çš„å°†æ¥è¿˜å°†å†æ¬¡è¢«è®¿é—® æ—¶é—´å±€éƒ¨æ€§çš„ç¨‹åºç»“æ„ä½“ç°ï¼š å¾ªç¯ç»“æ„ ç©ºé—´å±€éƒ¨æ€§ ç°è®¿é—®ä¿¡æ¯2 ï¼Œä¸‹ä¸€æ¬¡è®¿é—®2é™„è¿‘çš„ä¿¡æ¯ã€‚ ç©ºé—´å±€éƒ¨æ€§çš„ç¨‹åºç»“æ„ä½“ç°ï¼šé¡ºåºç»“æ„ ä¸»å­˜ä¸­çš„æ•°æ®ç»„ç»‡ ä¸»å­˜çš„ä¸€ä¸ªå­˜å‚¨å•å…ƒæ‰€åŒ…å«çš„äºŒè¿›åˆ¶ä½æ•° ç›®å‰å¤§å¤šæ•°è®¡ç®—æœºçš„ä¸»å­˜æŒ‰å­—èŠ‚ç¼–å€ï¼Œå­˜å‚¨å­—é•¿ä¹Ÿä¸æ–­åŠ å¤§,å¦‚16ä½å­—é•¿ã€32ä½å­—é•¿å’Œ64ä½å­—é•¿ ISAè®¾è®¡æ—¶è¦è€ƒè™‘çš„ä¸¤ä¸ªé—®é¢˜ï¼š å­—çš„å­˜æ”¾é—®é¢˜ å­—çš„è¾¹ç•Œå¯¹é½é—®é¢˜ æ•°æ®å­˜å‚¨ä¸è¾¹ç•Œ æŒ‰è¾¹ç•Œå¯¹é½çš„æ•°æ®å­˜å‚¨ï¼šæµªè´¹ä¸€äº›ç©ºé—´ æœªæŒ‰è¾¹ç•Œå¯¹é½å­˜æ”¾ï¼šè™½èŠ‚çœäº†ç©ºé—´ï¼Œä½†å¢åŠ äº†è®¿å­˜æ¬¡æ•° éœ€è¦åœ¨æ€§èƒ½ä¸å®¹é‡é—´æƒè¡¡ åŒå­—é•¿æ•°æ®è¾¹ç•Œå¯¹é½çš„èµ·å§‹åœ°å€çš„æœ€æœ«ä¸‰ä½ä¸º000(8å­—èŠ‚æ•´æ•°å€ï¼› å•å­—é•¿è¾¹ç•Œå¯¹é½çš„èµ·å§‹åœ°å€çš„æœ«äºŒä½ä¸º00(4å­—èŠ‚æ•´æ•°å€)ï¼› åŠå­—é•¿è¾¹ç•Œå¯¹é½çš„èµ·å§‹åœ°å€çš„æœ€æœ«ä¸€ä½ä¸º0(ï¼’å­—èŠ‚æ•´æ•°å€)ã€‚ å¤§ç«¯ä¸å°ç«¯å­˜å‚¨ å°ç«¯å­˜å‚¨ å°±æ˜¯ä½ä½å­—èŠ‚æ’æ”¾åœ¨å†…å­˜çš„ä½åœ°å€ç«¯ï¼Œé«˜ä½å­—èŠ‚æ’æ”¾åœ¨å†…å­˜çš„é«˜åœ°å€ç«¯ å¤§ç«¯å­˜å‚¨ å°±æ˜¯é«˜ä½å­—èŠ‚æ’æ”¾åœ¨å†…å­˜çš„ä½åœ°å€ç«¯ï¼Œä½ä½å­—èŠ‚æ’æ”¾åœ¨å†…å­˜çš„é«˜åœ°å€ç«¯ æ— è®ºæ˜¯å¤§ç«¯è¿˜æ˜¯å°ç«¯ï¼Œæ¯ä¸ªç³»ç»Ÿå†…éƒ¨æ˜¯ä¸€è‡´çš„ï¼Œä½†åœ¨ç³»ç»Ÿé—´é€šä¿¡æ—¶å¯èƒ½ä¼šå‘ç”Ÿé—®é¢˜ï¼å› ä¸ºé¡ºåºä¸åŒï¼Œéœ€è¦è¿›è¡Œé¡ºåºè½¬æ¢ å­˜å‚¨æŠ€æœ¯ éšæœºè®¿é—®å­˜å‚¨å™¨ é™æ€RAM(SRAM) å·¥ä½œåŸç† è¯» å†™ ä¿æŒ ç»“æ„ é™æ€å­˜å‚¨å™¨çš„ä¸è¶³ æ™¶ä½“ç®¡è¿‡å¤š å­˜å‚¨å¯†åº¦ä½ åŠŸè€—å¤§ åŠ¨æ€RAM(DRAM) DRAMä¸SRAMä¸åŒçš„æ˜¯ï¼Œéœ€è¦é—´éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œåˆ·æ–°æ“ä½œ è¯»å†™ ä¿æŒ åˆ·æ–° é›†ä¸­åˆ·æ–° åˆ†æ•£åˆ·æ–° å¼‚æ­¥åˆ·æ–° å…¶å®ƒç»“æ„çš„DRAMå­˜å‚¨å•å…ƒ å•ç®¡ ä¼ ç»ŸDRAM å†…å­˜æ¨¡å— å¢å¼ºDRAM éæ˜“å¤±æ€§å­˜å‚¨å™¨ è®¿é—®ä¸»å­˜ å­˜å‚¨æ‰©å±• ä½æ‰©å±• ç”¨16K X 8 çš„å­˜å‚¨èŠ¯ç‰‡æ„å»º16K X 32çš„å­˜å‚¨å™¨ å­—æ‰©å±• ç”¨16K X 8 çš„å­˜å‚¨èŠ¯ç‰‡æ„å»º128k X 8çš„å­˜å‚¨å™¨ å­—ä½æ‰©å±• ç”¨16K X 8 çš„å­˜å‚¨èŠ¯ç‰‡æ„å»º128K X 32çš„å­˜å‚¨å™¨ æ— è®ºå“ªç§ç±»å‹çš„å­˜å‚¨æ‰©å±•éƒ½è¦å®ŒæˆCPUä¸ä¸»å­˜é—´åœ°å€çº¿ã€æ•°æ®çº¿ã€æ§åˆ¶çº¿çš„è¿æ¥ ç£ç›˜å­˜å‚¨ ç£ç›˜æ„é€  ç£ç›˜å®¹é‡ è®°å½•å¯†åº¦ ç£é“å¯†åº¦ é¢å¯†åº¦ ç£ç›˜æ“ä½œ å¯»é“æ—¶é—´ æ—‹è½¬æ—¶é—´ ä¼ é€æ—¶é—´ é€»è¾‘ç£ç›˜å— ï¼ˆç›˜é¢ï¼Œç£é“ï¼Œæ‰‡åŒºï¼‰ è¿æ¥IOè®¾å¤‡ é€šç”¨ä¸²è¡Œæ€»çº¿ï¼ˆUSBï¼‰ å›¾å½¢å¡ ä¸»æœºæ€»çº¿é€‚é…å™¨ è®¿é—®ç£ç›˜ å†…å­˜æ˜ å°„ å›ºæ€ç¡¬ç›˜ raid å°†æ•°æ®æ¡å¸¦åŒ–åçš„å­˜æ”¾åœ¨ä¸åŒç£ç›˜ä¸Šï¼Œé€šè¿‡å¤šç£ç›˜çš„å¹¶è¡Œæ“ä½œæé«˜ç£ç›˜ç³»ç»Ÿçš„è¯»å†™é€Ÿç‡ ä½¿ç”¨åŸºäºå¼‚æˆ–è¿ç®—ä¸ºåŸºç¡€çš„æ ¡éªŒæŠ€æœ¯æ¢å¤æŸåçš„æ•°æ® raid0 æ•°æ®ä»¥æ¡å¸¦æ–¹å¼å‡åŒ€åˆ†æ•£åœ¨å„ç£ç›˜ raid1 æ•°æ®é‡‡ç”¨é•œåƒçš„å†—ä½™æ–¹å¼ï¼ŒåŒä¸€æ•°æ®æœ‰å¤šä»½æ‹·è´ RAID 3/4 æ•°æ®æŒ‰ ä½/æ¡å¸¦ å¹¶è¡Œä¼ è¾“åˆ°å¤šä¸ªç£ç›˜ä¸Šï¼ŒåŒæ—¶æ ¡éªŒæ•°æ®å­˜æ”¾åˆ°ä¸“ç”¨æ ¡éªŒç›˜ä¸Š RAID5 æ•°æ®æŒ‰æ¡å¸¦åˆ†å¸ƒåœ¨ä¸åŒç£ç›˜ä¸Šï¼Œæ ¡éªŒä¿¡æ¯è¢«å‡åŒ€åˆ†æ•£åˆ°å„ç£ç›˜ä¸Š RAID10 ç»“åˆRAID1å’ŒRAID0ï¼Œå…ˆé•œåƒï¼Œå†æ¡å¸¦åŒ– RAID01 ç»“åˆRAID0å’ŒRAID1ï¼Œå…ˆæ¡å¸¦åŒ–, å†é•œåƒ åªèƒ½å®¹å¿ä¸€ä¸ªç£ç›˜æ•…éšœï¼Œå¦‚0å·ç›˜æŸåï¼Œå·¦è¾¹RAID0å¤±æ•ˆï¼Œåªèƒ½ä½¿ç”¨å³è¾¹çš„RAID0ï¼Œä¸èƒ½å†æœ‰ç›˜æŸåï¼Œæ•…å†—ä½™åº¦ä¸º1 å®ç°æ–¹å¼ è½¯ä»¶RAID åŠŸèƒ½éƒ½ä¾èµ–äºä¸»æœºCPUå®Œæˆ,æ²¡æœ‰ç¬¬ä¸‰æ–¹çš„æ§åˆ¶å¤„ç†å™¨å’ŒI/OèŠ¯ç‰‡ ç¡¬ä»¶RAID ä¸“é—¨RAIDæ§åˆ¶å¤„ç†å™¨å’ŒI/Oå¤„ç†èŠ¯ç‰‡å¤„ç†RAIDä»»åŠ¡ï¼Œä¸å ç”¨ä¸»æœºCPUèµ„æº æ¯”è¾ƒ å­˜å‚¨æŠ€æœ¯çš„è¶‹åŠ¿ ä»·æ ¼å’Œæ€§èƒ½æŠ˜ä¸­ ä¸åŒå­˜å‚¨æŠ€æœ¯çš„ä»·æ ¼ä¸å±æ€§ä»¥ä¸åŒçš„é€Ÿç‡å˜åŒ– å¯¹ç¨‹åºæ•°æ®å¼•ç”¨çš„å±€éƒ¨æ€§ å–æŒ‡ä»¤çš„å±€éƒ¨æ€§ å¤šä½“äº¤å‰å­˜å‚¨å™¨ å…¶åŸºæœ¬æ€æƒ³æ˜¯åœ¨ä¸æé«˜å­˜å‚¨å™¨é€Ÿç‡ã€ä¸æ‰©å±•æ•°æ®é€šè·¯ä½æ•°çš„å‰æä¸‹ï¼Œé€šè¿‡å­˜å‚¨èŠ¯ç‰‡çš„äº¤å‰ç»„ç»‡ï¼Œæé«˜CPUå•ä½æ—¶é—´å†…è®¿é—®çš„æ•°æ®é‡ï¼Œä»è€Œç¼“è§£å¿«é€Ÿçš„CPUä¸æ…¢é€Ÿçš„ä¸»å­˜ä¹‹é—´çš„é€Ÿåº¦å·®å¼‚ã€‚ é«˜ä½å¤šä½“äº¤å‰å­˜å‚¨å™¨ ä½ä½å¤šä½“äº¤å‰å­˜å‚¨å™¨ é«˜é€Ÿç¼“å­˜å­˜å‚¨å™¨ cacheçš„å·¥ä½œè¿‡ç¨‹ å¦‚ä½•åˆ¤æ–­æ•°æ®åœ¨Cacheä¸­? Cacheä¸­çš„æ•°æ®æ˜¯æœ‰æ•ˆå—ï¼Ÿï¼ˆDMAã€ç›´æ¥å­˜å‚¨è®¿é—®ã€‘ä¿®æ”¹ä¸»å­˜ï¼‰ cacheåœ°å€æ˜ å°„æœºåˆ¶ cacheçš„ç»“æ„ Cacheè¢«åˆ†æˆè‹¥å¹²è¡Œï¼Œæ¯è¡Œçš„å¤§å°ä¸ä¸»å­˜å—ç›¸åŒ Cacheæ¯è¡ŒåŒ…å«å››éƒ¨åˆ†ï¼Œæ˜¯Cacheè¦ä¿å­˜çš„ä¿¡æ¯ã€‚Tagä»CPUè®¿é—®ä¸»å­˜çš„åœ°å€ä¸­å‰¥ç¦»å¾—åˆ°ã€Dataæ˜¯ä¸ä¸»å­˜äº¤æ¢çš„æ•°æ®å—ã€Validè¡¨ç¤ºCacheä¸­çš„æ•°æ®æ˜¯å¦æœ‰æ•ˆã€ Dirtyè¡¨ç¤ºä¸»å­˜ä¸­çš„æ•°æ®æ˜¯æœ€æ–° ç›¸è”å­˜å‚¨å™¨ å¦‚ä½•å¿«é€Ÿåœ°æŸ¥æ‰¾ å¦‚ä½•å¿«é€Ÿåœ°åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ Cacheåœ°å€æ˜ å°„ä¸å˜æ¢æ–¹æ³• ä¸»å­˜æ•°æ®å¦‚ä½•è¿è‡³Cacheæ‰èƒ½å®ç°å¿«é€ŸæŸ¥æ‰¾ å…¨ç›¸è”æ˜ å°„ ä¸»å­˜åˆ†å—ï¼ŒCacheè¡Œ ï¼ˆLineï¼‰ï¼Œä¸¤è€…å¤§å°ç›¸åŒ è®¾æ¯å—4ä¸ªå­—ï¼Œä¸»å­˜å¤§å°ä¸º1024ä¸ªå­—ï¼Œåˆ™ç¬¬61ä¸ªå­—çš„ä¸»å­˜åœ°å€ä¸ºï¼š 00001111 01 ï¼ˆå—å· å—å†…åœ°å€ï¼‰ ä¸»å­˜åˆ†å—ååœ°å€å°±ä»ä¸€ç»´å˜æˆäºŒç»´ æ˜ å°„ç®—æ³•ï¼šä¸»å­˜çš„æ•°æ®å—å¯æ˜ å°„åˆ°Cacheä»»æ„è¡Œï¼ŒåŒæ—¶å°†è¯¥æ•°æ®å—åœ°å€å¯¹åº”è¡Œçš„æ ‡è®°å­˜å‚¨ä½“ä¸­ä¿å­˜ ç‰¹ç‚¹ Cacheåˆ©ç”¨ç‡é«˜ å—å†²çªç‡ä½ æ·˜æ±°ç®—æ³•å¤æ‚ æ‰€ä»¥åº”ç”¨åœ¨å°å®¹é‡cache ç›´æ¥æ˜ å°„ ä¸»å­˜åˆ†å—ï¼ŒCacheè¡Œ ï¼ˆLineï¼‰ï¼Œä¸¤è€…å¤§å°ç›¸åŒ ä¸»å­˜åˆ†å—åè¿˜å°†ä»¥Cacheè¡Œæ•°ä¸ºæ ‡å‡†è¿›è¡Œåˆ†åŒº è®¾æ¯å—4ä¸ªå­—ï¼Œä¸»å­˜å¤§å°ä¸º1024ä¸ªå­—ï¼ŒCacheåˆ†ä¸º4è¡Œï¼Œç¬¬61ä¸ªå­—çš„ä¸»å­˜åœ°å€ä¸º 000011 11 01 ï¼ˆåŒºå·ï¼ŒåŒºå†…å—å·ï¼Œå—å†…åœ°å€ï¼‰ ä¸»å­˜åœ°å€ä»ä¸€ç»´å˜æˆä¸‰ç»´ æ˜ å°„ç®—æ³•ï¼šCacheå…±nè¡Œï¼Œä¸»å­˜ç¬¬jå—å·æ˜ å°„åˆ°Cache çš„è¡Œå·ä¸º i=j mod n å³ä¸»å­˜çš„æ•°æ®å—æ˜ å°„åˆ°Cacheç‰¹å®šè¡Œ ç‰¹ç‚¹ Cacheåˆ©ç”¨ç‡ä½ å—å†²çªç‡é«˜ æ·˜æ±°ç®—æ³•ç®€å• åº”ç”¨åœ¨å¤§å®¹é‡cache ç»„ç›¸è”æ˜ å°„ ä¸»å­˜åˆ†å—ï¼ŒCacheè¡Œ ï¼ˆLineï¼‰ï¼Œä¸¤è€…å¤§å°ç›¸åŒï¼› Cacheåˆ†ç»„ï¼ˆæ¯ç»„ä¸­åŒ…kè¡Œï¼‰ï¼Œæœ¬ä¾‹å‡å®šK=4 ä¸»å­˜åˆ†å—åè¿˜å°†ä»¥Cacheç»„æ•°ä¸ºæ ‡å‡†è¿›è¡Œåˆ†ç»„ï¼› è®¾æ¯å—4ä¸ªå­—ï¼Œä¸»å­˜å¤§å°ä¸º1024ä¸ªå­—ï¼ŒCacheåˆ†ä¸º4è¡Œï¼Œç¬¬61ä¸ªå­—çš„ä¸»å­˜åœ°å€ä¸ºï¼š 0000111 1 01 ï¼ˆç»„å·ï¼Œç»„å†…å—å·ï¼Œå—å†…åœ°å€ï¼‰ ä¸»å­˜åœ°å€ä»ä¸€ç»´å˜æˆä¸‰ç»´ï¼› æ˜ å°„ç®—æ³•ï¼š Cacheå…±nç»„ï¼Œä¸»å­˜ç¬¬jå—å·æ˜ å°„åˆ°Cache çš„ç»„å·ä¸ºï¼ši=j mod n å³ä¸»å­˜çš„æ•°æ®å—æ˜ å°„åˆ°Cacheç‰¹å®šç»„çš„ä»»æ„è¡Œ æ›¿æ¢ç®—æ³• ç¨‹åºè¿è¡Œä¸€æ®µæ—¶é—´åï¼ŒCacheå­˜å‚¨ç©ºé—´è¢«å æ»¡ï¼Œå½“å†æœ‰æ–°æ•°æ®è¦è°ƒå…¥æ—¶ï¼Œå°±éœ€è¦é€šè¿‡æŸç§æœºåˆ¶å†³å®šæ›¿æ¢çš„å¯¹è±¡ å…ˆè¿›å…ˆå‡ºæ³•-FIFO æœ€ä¸ç»å¸¸ä½¿ç”¨æ³•---LFU è¿‘æœŸæœ€å°‘ä½¿ç”¨æ³•--- LRU æ›¿æ¢ç®—æ³•çš„æŠ–åŠ¨ åˆšåˆšæ·˜æ±°çš„å—åœ¨ä¸‹ä¸€æ—¶åˆ»åˆè¢«è®¿é—®... è™šæ‹Ÿå­˜å‚¨å™¨ è®¡ç®—æœºèƒ½æ‰§è¡Œæ¯”ä¸»å­˜ç©ºé—´å¤§çš„ç¨‹åºå—ï¼Ÿ æ¦‚è¿° å¤„äºä¸»å­˜ â€“è¾…å­˜å­˜å‚¨å±‚æ¬¡ è§£å†³ä¸»å­˜å®¹é‡ä¸è¶³çš„é—®é¢˜ï¼Œä¸ºç¨‹åºè®¾è®¡è€…æä¾›æ¯”ä¸»å­˜ç©ºé—´å¤§çš„ç¼–ç¨‹ç©ºé—´ åˆ†ç±»ï¼šé¡µå¼è™šæ‹Ÿå­˜å‚¨å™¨ã€æ®µå¼è™šæ‹Ÿå­˜å‚¨å™¨ ã€æ®µé¡µå¼è™šæ‹Ÿå­˜å‚¨å™¨ å¿…é¡»è§£å†³çš„é—®é¢˜ CPUè®¿é—®å­˜å‚¨ç³»ç»Ÿçš„åœ°å€å±æ€§ï¼ˆé‡‡ç”¨MMU(Memory Management Unit):ç®¡ç†è™šæ‹Ÿå­˜å‚¨å™¨ä¸ç‰©ç†å­˜å‚¨å™¨ï¼‰ å¦‚ä½•åˆ¤æ–­CPUè¦è®¿é—®çš„ä¿¡æ¯æ˜¯å¦åœ¨ä¸»å­˜ä¸­ï¼ˆé‡‡ç”¨é¡µè¡¨æ¥åˆ¤æ–­ï¼‰ åœ°å€åˆ’åˆ† è™šæ‹Ÿåœ°å€ = è™šé¡µå·+é¡µåç§»é‡ é€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€çš„è½¬æ¢ TLB (Translation Lookaside Buffer) è™šå®åœ°å€è½¬æ¢è¿‡ç¨‹ä¸­å­˜åœ¨çš„é—®é¢˜ ç¼ºé¡µå¼‚å¸¸ å·¥ä½œåŸç† TLBç±»ä¼¼é¡µè¡¨ï¼Œä¹Ÿæ˜¯PTEçš„é›†åˆã€‚ä¸ºå®ç°å¯¹TLBçš„å¿«é€Ÿè®¿é—®ï¼Œç±»ä¼¼äºCacheä¸­çš„æ˜ å°„æ–¹æ³•ï¼Œå¯¹æ¥è‡ªäºCPUçš„è™šé¡µå·è¿›è¡Œé€»è¾‘åˆ’åˆ†ï¼Œå¾—åˆ°ç›¸åº”çš„æ ‡è®°å’Œç´¢å¼•å­—æ®µ ç¼“å­˜å†™ é«˜é€Ÿç¼“å­˜å‚æ•°çš„æ€§èƒ½å½±å“ ä¸å‘½ä¸­ç‡ å‘½ä¸­ç‡ å‘½ä¸­æ—¶é—´ ä¸å‘½ä¸­å¤„ç½š å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ä¸­çš„ç¼“å­˜ ç¼“è§£å¿«é€ŸCPUä¸æ…¢é€Ÿçš„ä¸»å­˜ä¹‹é—´çš„é€Ÿåº¦å·®å¼‚ å·¥ä½œå·¥ç¨‹ ç¼“å­˜å‘½ä¸­ ç¼“å­˜ä¸å‘½ä¸­ å†·ä¸å‘½ä¸­ å†²çªä¸å‘½ä¸­ ç¼“å­˜ç®¡ç† ç¼–å†™é«˜é€Ÿç¼“å­˜å‹å¥½çš„ä»£ç  é«˜é€Ÿç¼“å­˜å¯¹ç¨‹åºæ€§èƒ½çš„å½±å“ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-08 13:01:32 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/æŒ‡ä»¤ç³»ç»Ÿ.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/æŒ‡ä»¤ç³»ç»Ÿ.html","title":"æŒ‡ä»¤ç³»ç»Ÿ","keywords":"","body":"æŒ‡ä»¤ç³»ç»Ÿ æŒ‡ä»¤ è®¡ç®—æœºèƒ½ç›´æ¥è¯†åˆ«ã€æ‰§è¡Œçš„æ“ä½œå‘½ä»¤ï¼ˆæœºå™¨æŒ‡ä»¤ï¼‰ï¼› å†¯è¯ºä¾æ›¼ç»“æ„è®¡ç®—æœº \"ç¨‹åºæ§åˆ¶\"åŸç†å®ç°çš„è½½ä½“ æŒ‡ä»¤å­—é•¿ æŒ‡ä»¤ä¸­åŒ…å«çš„äºŒè¿›åˆ¶ä½æ•° ä¸æœºå™¨å­—é•¿ç›¸æ¯”: å•å­—é•¿ã€åŒå­—é•¿ã€åŠå­—é•¿ç­‰é•¿åº¦æŒ‡ä»¤ å¤šå­—é•¿æŒ‡ä»¤ è§£å†³å¯»å€è¾ƒå¤§å­˜å‚¨ç©ºé—´çš„é—®é¢˜ å–æŒ‡å¤šæ¬¡è®¿é—®å†…å­˜ï¼Œå½±å“é€Ÿåº¦ï¼Œå ç”¨ç©ºé—´å¤§ ç­‰é•¿æŒ‡ä»¤: æŒ‡ä»¤å­—é•¿åº¦å›ºå®šã€‚ å˜é•¿æŒ‡ä»¤: æŒ‡ä»¤å­—é•¿åº¦æ ¹æ®éœ€è¦å¯å˜ æŒ‡ä»¤çš„åˆ†ç±» æ ¹æ®è®¡ç®—æœºå±‚æ¬¡ç»“æ„åˆ†ç±» æ ¹æ®æŒ‡ä»¤ä¸­åœ°å€ç å­—æ®µçš„ä¸ªæ•°åˆ†ç±» æ ¹æ®æŒ‡ä»¤ä¸­æ“ä½œæ•°çš„ç‰©ç†ä½ç½®åˆ†ç±» å­˜å‚¨å™¨ï¼å­˜å‚¨å™¨ï¼ˆSSï¼‰å‹ å¯„å­˜å™¨ï¼å¯„å­˜å™¨ï¼ˆRRï¼‰å‹ å¯„å­˜å™¨ï¼å­˜å‚¨å™¨ï¼ˆRSï¼‰å‹ æ ¹æ®æŒ‡ä»¤çš„åŠŸèƒ½åˆ†ç±» ä¼ é€æŒ‡ä»¤ MOV ã€PUSH/POPã€ IN/OUTç­‰ å®šç‚¹ç®—æœ¯è¿ç®—æŒ‡ä»¤ ADDã€SUBã€INCã€CMPã€MULç­‰ ä½è¿ç®—æŒ‡ä»¤ NOTã€ANDã€ORã€SHLã€SALç­‰ æ§åˆ¶è½¬ç§»æŒ‡ä»¤ JMP ã€JNEã€CALLã€RETç­‰ æŒ‡ä»¤çš„æ ¼å¼ æŒ‡ä»¤è¦æ±‚è®¡ç®—æœºå®Œæˆä»€ä¹ˆåŠŸèƒ½ï¼Ÿ => è®¾ç½®æ“ä½œç  æŒ‡ä»¤è¦æ±‚è®¡ç®—æœºå¤„ç†ä»€ä¹ˆæ•°æ®ï¼Ÿ => è®¾ç½®æ•°æ®æº/ç›® è®¡ç®—æœºæ€æ ·å¾—åˆ°è¦å¤„ç†çš„æ•°æ®ï¼Ÿ => è®¾ç½®å¯»å€æ–¹å¼ æ“ä½œç å­—æ®µçš„ä½æ•°ä¸æ”¯æŒçš„æœ€å¤§æŒ‡ä»¤æ•°é‡æœ‰å…³ æ”¯æŒå˜é•¿æ“ä½œç æ—¶ï¼Œæ“ä½œç å‘ä¸ç”¨çš„åœ°å€ç å­—æ®µæ‰©å±• å¯»å€æ–¹å¼å­—æ®µçš„ä½æ•°ä¸æ”¯æŒçš„å¯»å€æ–¹å¼ç§ç±»æœ‰å…³ åœ°å€ç å­—æ®µçš„ä½œç”¨åŠå½±å“ä¸å…¶ä½æ•°å’Œå¯»å€æ–¹å¼æœ‰å…³ æŒ‡ä»¤ç³»ç»Ÿ ä¸€å°è®¡ç®—æœºä¸­æ‰€æœ‰æœºå™¨æŒ‡ä»¤çš„é›†åˆ ç³»åˆ—æœºï¼šåŒä¸€å…¬å¸ä¸åŒæ—¶æœŸç”Ÿäº§ï¼ŒåŸºæœ¬ç³»ç»Ÿç»“æ„å’ŒæŒ‡ä»¤ç³»ç»Ÿç›¸åŒçš„è®¡ç®—æœº å…¼å®¹æœºï¼šä¸åŒå…¬å¸ç”Ÿäº§ï¼ŒåŸºæœ¬ç³»ç»Ÿç»“æ„å’ŒæŒ‡ä»¤ç³»ç»Ÿç›¸åŒçš„è®¡ç®—æœº å¯»å€æ–¹å¼ æ ¹æ®å†¯è¯ºä¾æ›¼è®¡ç®—æœºçš„å·¥ä½œåŸç†ï¼Œéœ€è¦æ ¹æ®ç‰©ç†åœ°å€ä»å†…å­˜ä¸­å»å–æŒ‡ä»¤å’Œæ•°æ®ã€‚å¦‚ä½•è·å¾—æŒ‡ä»¤å’Œæ•°æ®çš„ç‰©ç†åœ°å€ï¼Ÿ æŒ‡ä»¤çš„å¯»å€æ–¹å¼ é¡ºåºå¯»å€ ç¨‹åºçš„æŒ‡ä»¤åºåˆ—åœ¨ä¸»å­˜é¡ºåºå­˜æ”¾ã€‚æ‰§è¡Œæ—¶ä»ç¬¬ä¸€æ¡æŒ‡ä»¤å¼€å§‹ï¼Œé€æ¡å–å‡ºå¹¶æ‰§è¡Œ CPUä¸­è®¾ç½®ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰å¯¹æŒ‡ä»¤çš„é¡ºåºå·è¿›è¡Œè®¡æ•°ã€‚PCå¼€å§‹æ—¶å­˜æ”¾ç¨‹åºçš„é¦–åœ°å€ï¼Œæ¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼ŒPC åŠ \"1\"ï¼ŒæŒ‡å‡ºä¸‹æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œç›´åˆ°ç¨‹åºç»“æŸ éœ€è¦æ·±åˆ»ç†è§£ \"+1\" => å­˜å‚¨1æ¡æŒ‡ä»¤å ç”¨çš„å­—èŠ‚å•å…ƒæ•°ä¸å­˜å‚¨å­—é•¿æœ‰å…³ï¼ è·³è·ƒå¯»å€ æ“ä½œæ•°çš„å¯»å€æ–¹å¼ å½“æ•°æ®åœ¨ä¸»å­˜ä¸­æ—¶ï¼Œ éœ€è¦è®¡ç®—å…¶æœ‰æ•ˆåœ°å€E ç«‹å³æ•°å¯»å€ åœ°å€ç å­—æ®µæ˜¯æ“ä½œæ•°æœ¬èº« ç‰¹ç‚¹ï¼š å–æŒ‡æ“ä½œå°†æ•°æ®ä¸æŒ‡ä»¤ä¸€å¹¶è¯»å…¥CPUå†…éƒ¨çš„å¯„å­˜å™¨ï¼ŒæŒ‡ä»¤æ‰§è¡Œé€Ÿåº¦å¿« ä¾¿äºç¨‹åºè®¾è®¡ï¼ˆå˜é‡èµ‹åˆå€¼ï¼‰ æ•°æ®å¤§å°å—å­—æ®µä½æ•°é™åˆ¶ å¯„å­˜å™¨å¯»å€ æ“ä½œæ•°åœ¨CPUçš„å†…éƒ¨å¯„å­˜å™¨ä¸­ ç‰¹ç‚¹ï¼š æ“ä½œæ•°åœ¨å¯„å­˜å™¨ä¸­ï¼ŒæŒ‡ä»¤æ‰§è¡Œé€Ÿåº¦å¿« èƒ½è®¿é—®çš„æ•°æ®å¤§å°ä¸€èˆ¬ä¸è®¡ç®—æœºå­—é•¿æœ‰å…³ åœ°å€å­—æ®µçš„ä½æ•°ä¸è®¡ç®—æœºé€šç”¨å¯„å­˜å™¨æ•°é‡ç›¸å…³ ç›´æ¥å¯»å€ åœ°å€ç å­—æ®µç›´æ¥ç»™å‡ºæ“ä½œæ•°åœ¨å†…å­˜çš„åœ°å€ æä¾›è®¿é—®ä¸»å­˜çš„æ“ä½œ è·å¾—æ•°æ®è¦è®¿é—®ä¸»å­˜ï¼ŒæŒ‡ä»¤æ‰§è¡Œé€Ÿåº¦æ…¢ åœ°å€å­—æ®µçš„ä½æ•°å†³å®šäº†è®¿å­˜ç©ºé—´å¤§å° é—´æ¥å¯»å€ åœ°å€ç å­—æ®µç»™å‡ºçš„æ˜¯æ“ä½œæ•°ä¸»å­˜åœ°å€çš„åœ°å€ è§£å†³äº†ç›´æ¥å¯»å€æ–¹å¼ä¸‹åœ°å€å­—æ®µçš„ä½æ•°é™åˆ¶è®¿å­˜èŒƒå›´å¤§å°çš„é—®é¢˜ è·å¾—æ•°æ®è¦è®¿é—®ä¸»å­˜2æ¬¡ï¼ŒæŒ‡ä»¤æ‰§è¡Œé€Ÿåº¦å¤ªæ…¢ å¯„å­˜å™¨é—´æ¥å¯»å€ åœ°å€ç å­—æ®µç»™å‡ºçš„æ˜¯å¯„å­˜å™¨ç¼–å·R è§£å†³äº†ç›´æ¥å¯»å€æ–¹å¼ä¸‹åœ°å€å­—æ®µçš„ä½æ•°é™åˆ¶è®¿å­˜èŒƒå›´å¤§å°çš„é—®é¢˜ è·å¾—æ•°æ®åªéœ€è®¿é—®ä¸»å­˜1æ¬¡ ç›¸å¯¹å¯»å€ E=D + (PC), Dä¸ºæŒ‡ä»¤ä¸­åœ°å€å­—æ®µçš„å€¼ å¯èŠ‚çœæŒ‡ä»¤ä¸­çš„åœ°å€ä½æ•°ï¼Œä¾¿äºç¨‹åºåœ¨å†…å­˜ä¸­æˆå—ç§»åŠ¨ æ³¨æ„PCçš„æ”¹å˜å¯¹è®¡ç®—Eçš„å½±å“ åŸºå€å¯»å€ æŒ‡å®šä¸€ä¸ªåŸºå€å¯„å­˜å™¨Bï¼Œä¸æœ¬æŒ‡ä»¤åœ°å€æ— å…³ E= D + (B), Dä¸ºæŒ‡ä»¤ä¸­åœ°å€å­—æ®µçš„å€¼ å˜å€å¯»å€ æŒ‡å®šä¸€ä¸ªå˜å€å¯„å­˜å™¨Xï¼Œä¸æœ¬æŒ‡ä»¤åœ°å€æ— å…³, å†…å®¹å¯éšè¦æ±‚æ”¹å˜ï¼ŒE= D + (X), Dä¸ºæŒ‡ä»¤ä¸­åœ°å€å­—æ®µçš„å€¼ ä¸æ”¹å˜æŒ‡ä»¤å³å¯æ”¹å˜æ•°æ®çš„æœ‰æ•ˆåœ°å€ï¼Œå¯åœ¨å¾ªç¯ä¸­ä½¿ç”¨ åœ¨å­—ç¬¦ä¸²å¤„ç†ï¼Œå‘é‡è¿ç®—ç­‰ç­‰æˆæ‰¹æ•°æ®å¤„ç†ä¸­éå¸¸æœ‰ç”¨ ä½¿ç”¨å¯»å€æ–¹å¼çš„å¥½å¤„ ï¼š æœ‰åˆ©äºç¼©çŸ­æŒ‡ä»¤å­—é•¿ã€æ–¹ä¾¿ç¨‹åºè®¾è®¡ã€æ‰©å±•è®¿å­˜ç©ºé—´ æŒ‡ä»¤æ ¼å¼è®¾è®¡ æ ¹æ®æŒ‡ä»¤æ•°é‡çš„è¦æ±‚åŠæ˜¯å¦æ”¯æŒæ“ä½œç æ‰©å±•ï¼Œç¡®å®šæ“ä½œç å­—æ®µçš„ä½æ•° æ ¹æ®å¯¹æ“ä½œæ•°çš„è¦æ±‚ç¡®å®šåœ°å€ç å­—æ®µçš„ä¸ªæ•° æ ¹æ®å¯»å€æ–¹å¼çš„è¦æ±‚ï¼Œä¸ºæ¯ä¸ªåœ°å€ç å­—æ®µç¡®å®šå¯»å€æ–¹å¼å­—æ®µä½æ•° ç¡®å®šé‡‡ç”¨å®šé•¿æŒ‡ä»¤è¿˜æ˜¯å˜é•¿æŒ‡ä»¤ MIPSæŒ‡ä»¤ æ—©æœŸä¸»è¦ç”¨äºåµŒå…¥å¼ç³»ç»Ÿï¼Œå¦‚Windows CEçš„è®¾å¤‡ï¼Œè·¯ç”±å™¨ï¼Œå®¶ç”¨ç½‘å…³å’Œè§†é¢‘æ¸¸æˆæœºï¼Œç°åœ¨å·²ç»åœ¨PCæœºã€æœåŠ¡å™¨ä¸­å¾—åˆ°å¹¿æ³›åº”ç”¨ ç‰¹ç‚¹ ç®€å•çš„Load/Storeç»“æ„ æ˜“äºæµæ°´çº¿CPUè®¾è®¡ æ˜“äºç¼–è¯‘å™¨å¼€å‘ MIPSæŒ‡ä»¤çš„å¯»å€æ–¹å¼éå¸¸ç®€å•ï¼Œæ¯æ¡æŒ‡ä»¤çš„æ“ä½œä¹Ÿéå¸¸ç®€å• æŒ‡ä»¤æ ¼å¼ Rå‹æŒ‡ä»¤ æ“ä½œæ•°å’Œä¿å­˜ç»“æœå‡é€šè¿‡å¯„å­˜å™¨è¿›è¡Œ opï¼šæ“ä½œç ï¼Œæ‰€æœ‰Rå‹æŒ‡ä»¤ä¸­éƒ½å…¨ä¸º0ï¼› rsï¼šå¯„å­˜å™¨ç¼–å·ï¼Œå¯¹åº”ç¬¬1ä¸ªæºæ“ä½œæ•°ï¼› rtï¼šå¯„å­˜å™¨ç¼–å·ï¼Œå¯¹åº”ç¬¬2ä¸ªæºæ“ä½œæ•°ï¼› rdï¼šå¯„å­˜å™¨ç¼–å·ï¼Œæ®æ­¤ä¿å­˜ç»“æœï¼› shamtï¼šå¸¸æ•°ï¼Œåœ¨ç§»ä½æŒ‡ä»¤ä¸­ä½¿ç”¨ï¼› functï¼šåŠŸèƒ½ç ï¼ŒæŒ‡å®šæŒ‡ä»¤çš„å…·ä½“åŠŸèƒ½ I å‹æŒ‡ä»¤ æ“ä½œæ•°ä¸­æ¶‰åŠç«‹å³æ•°ï¼Œç»“æœä¿å­˜åˆ°å¯„å­˜å™¨ opï¼šæ ‡è¯†æŒ‡ä»¤çš„æ“ä½œåŠŸèƒ½ï¼› rsï¼šç¬¬1ä¸ªæºæ“ä½œæ•°ï¼Œæ˜¯å¯„å­˜å™¨æ“ä½œæ•°ï¼› rtï¼šç›®çš„å¯„å­˜å™¨ç¼–å·ï¼Œç”¨æ¥ä¿å­˜è¿ç®—ç»“æœï¼› immï¼šç¬¬2ä¸ªæºæ“ä½œæ•°ï¼Œç«‹å³æ•° J å‹æŒ‡ä»¤ å¯»å€æ–¹å¼ Rå‹æŒ‡ä»¤ï¼šç”±opå’Œfunctå­—æ®µå…±åŒéšå«è¯´æ˜å½“å‰çš„å¯»å€æ–¹å¼ Iå‹å’ŒJå‹æŒ‡ä»¤ï¼šç”±opå­—æ®µéšå«è¯´æ˜å½“å‰æŒ‡ä»¤ä½¿ç”¨çš„å¯»å€æ–¹å¼ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-10 11:46:29 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/æ€»çº¿.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/æ€»çº¿.html","title":"æ€»çº¿","keywords":"","body":"æ€»çº¿ æ˜¯è®¡ç®—æœºä½“ç³»ç»“æ„çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œé€šè¿‡å®ƒå¯ä»¥å°†è®¡ç®—æœºç³»ç»Ÿä¸­å„ä¸ªåŠŸèƒ½éƒ¨ä»¶è¿æ¥èµ·æ¥ï¼Œæ„æˆä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿ ä½œç”¨ æ˜¯å„åŠŸèƒ½éƒ¨ä»¶é—´ä¼ é€’å„ç±»ä¿¡æ¯çš„é€šé“ï¼› æ˜¯ç³»ç»Ÿä¸­å„éƒ¨ä»¶é—´çš„ç‰©ç†æ¥å£ï¼Œèƒ½å¤Ÿå‡å°‘å„éƒ¨ä»¶é€šä¿¡çš„å¤æ‚ç¨‹åº¦ï¼› æä¾›ä¿¡æ¯äº¤æ¢æ—¶æ‰€éœ€çš„æ•°æ®ã€åœ°å€ã€æ—¶åºå’Œæ§åˆ¶ä¿¡æ¯ï¼› æä¾›ä¸€ä¸ªå…±åŒéµå¾ªçš„åè®®æˆ–æ ‡å‡†ï¼› ä¸åº”æˆä¸ºæ•´ä¸ªè®¡ç®—æœºæ€§èƒ½çš„ç“¶é¢ˆï¼› æ–¹ä¾¿è®¡ç®—æœºç³»ç»Ÿçš„é›†æˆã€æ‰©å±•å’Œè¿›åŒ– åˆ†ç±» æŒ‰ç”¨é€”åˆ†ç±» å­˜å‚¨æ€»çº¿ï¼šçŸ­è·ç¦»ã€é«˜é€Ÿæ€»çº¿ï¼Œä¸å­˜å‚¨å™¨çš„ç‰¹æ€§ç›¸åŒ¹é…ï¼Œå°½æœ€å¤§å¯èƒ½æé«˜å¤„ç†å™¨ä¸å­˜å‚¨å™¨ä¹‹é—´çš„æ•°æ®å¸¦å®½ï¼Œé’ˆå¯¹Cacheå—æ•°æ®ä¼ è¾“è¿›è¡Œæ€§èƒ½ä¼˜åŒ– ç³»ç»Ÿæ€»çº¿ï¼šåˆç§°å†…éƒ¨æ€»çº¿æˆ–æ¿çº§æ€»çº¿ï¼Œæ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­æœ€é‡è¦çš„æ€»çº¿ï¼Œä¹Ÿæ˜¯è¿æ¥å­˜å‚¨æ€»çº¿å’ŒI/Oæ€»çº¿çš„ä¸­é—´æ€»çº¿ I/Oæ€»çº¿ï¼šé€šå¸¸è¿æ¥è·ç¦»è¾ƒè¿œã€é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼Œç”¨äºè¿æ¥å¤šç§å¤–éƒ¨è®¾å¤‡ï¼ŒåŒæ—¶ä¸ç³»ç»Ÿæ€»çº¿æˆ–å­˜å‚¨æ€»çº¿è¿æ¥ æŒ‰ä½ç½®åˆ†ç±» å¤–éƒ¨æ€»çº¿ï¼šUSBã€ç«çº¿ï¼ˆIEEE-1394ï¼‰ç­‰ å†…éƒ¨æ€»çº¿ï¼šPCIã€AGPç­‰ ç‰‡å†…æ€»çº¿ï¼šAMBA ç»„æˆ æ•°æ®æ€»çº¿ï¼šç”¨äºä¼ é€æ•°æ®ä¿¡æ¯ï¼Œé€šå¸¸æ˜¯åŒå‘ä¸‰æ€å½¢å¼çš„æ€»çº¿ åœ°å€æ€»çº¿ï¼šä¸“é—¨ç”¨æ¥ä¼ é€åœ°å€ï¼Œåœ°å€æ€»çº¿æ€»æ˜¯å•å‘ä¸‰æ€çš„ æ§åˆ¶æ€»çº¿ï¼šç”¨æ¥ä¼ é€æ§åˆ¶ä¿¡å·å’Œæ—¶åºä¿¡å· ç”µæºçº¿å’Œåœ°çº¿ æ€§èƒ½å‚æ•° æ€»çº¿é¢‘ç‡ï¼šåæ˜ æ€»çº¿å·¥ä½œçš„é€Ÿç‡ï¼ˆfï¼‰ï¼Œé€šå¸¸å•ä½æ˜¯MHz æ€»çº¿å®½åº¦ï¼šæ•°æ®æ€»çº¿çš„ä½æ•°ï¼ˆwï¼‰ï¼Œå•ä½æ˜¯bï¼ˆä½ï¼‰ï¼Œé€šå¸¸ä¸å¤„ç†å™¨çš„å­—é•¿ç›¸ä¸€è‡´ æ€»çº¿ä¼ è¾“é€Ÿç‡ï¼šæ€»çº¿ä¸Šå¯ä¼ è¾“çš„æ•°æ®æ€»é‡ï¼ˆBWï¼‰ï¼Œå•ä½æ˜¯MB/sï¼Œæ€»çº¿ä¼ è¾“é€Ÿç‡ï¼ï¼ˆæ€»çº¿å®½åº¦Ã·8ä½ï¼‰Ã—æ€»çº¿é¢‘ç‡ å…¶ä»–æ€§èƒ½å‚æ•° åŒæ­¥æ–¹å¼ å¤šè·¯å¤ç”¨ ä¿¡å·çº¿æ•°é‡ æ§åˆ¶æ–¹å¼ æ€»çº¿äº‹åŠ¡ ä»è¯·æ±‚æ€»çº¿åˆ°å®Œæˆæ€»çº¿ä½¿ç”¨çš„æ“ä½œåºåˆ—ç§°ä¸ºæ€»çº¿äº‹åŠ¡ï¼ˆBus Transactionï¼‰ï¼Œå®ƒæ˜¯åœ¨ä¸€ä¸ªæ€»çº¿å‘¨æœŸä¸­å‘ç”Ÿçš„ä¸€ç³»åˆ—æ´»åŠ¨ ä¸»è®¾å¤‡å’Œä»è®¾å¤‡ ä¸»è®¾å¤‡ï¼ˆmasterï¼‰ï¼šèƒ½å¤Ÿæå‡ºç”³è¯·å¹¶è·å¾—æ€»çº¿æ§åˆ¶æƒçš„è®¾å¤‡ï¼› ä»è®¾å¤‡ï¼ˆslaveï¼‰ ï¼šåªèƒ½è¢«åŠ¨æ¥å—æ€»çº¿æ§åˆ¶ä¼ é€æ•°æ®çš„è®¾å¤‡ã€‚ ä¼ è¾“æ“ä½œè¿‡ç¨‹ å®Œæˆä¸€æ¬¡æ•°æ®ä¼ è¾“æ“ä½œï¼Œä¸€èˆ¬ç»è¿‡å¦‚ä¸‹å››ä¸ªé˜¶æ®µï¼š ç”³è¯·ä¸ä»²è£é˜¶æ®µ å¯»å€é˜¶æ®µ ä¼ è¾“é˜¶æ®µ ç»“æŸé˜¶æ®µ å¸¸è§çš„æ€»çº¿æ“ä½œ è¯» å†™ è¯»ä¿®æ”¹å†™ å†™åè¯» å—æ“ä½œ æ€»çº¿è¿æ¥æ–¹å¼ å•çº§æ€»çº¿ç»“æ„ è®¿é—®å­˜å‚¨å™¨å’Œè®¿é—®å¤–è®¾æŒ‡ä»¤ç›¸åŒï¼Œç”±åœ°å€æ¥åŒºåˆ†ï¼› æ€»çº¿ç®€å•ï¼Œä½¿ç”¨çµæ´»ï¼Œæ˜“äºæ‰©å±•ï¼› ä»»æ„ä¸¤è®¾å¤‡ä¹‹é—´ç†è®ºä¸Šéƒ½å¯ä»¥ç›´æ¥äº¤æ¢ä¿¡æ¯ï¼› æ‰€æœ‰è®¾å¤‡åˆ†æ—¶å·¥ä½œï¼Œä»…é€‚ç”¨äºæ…¢é€Ÿçš„è®¡ç®—æœºç³»ç»Ÿä¸­ åŒçº§æ€»çº¿ç»“æ„ ç”±äºå¤–è®¾å’Œå†…å­˜åˆ†å¤„äºä¸åŒçš„æ€»çº¿ï¼Œéœ€è¦å¢åŠ I/OæŒ‡ä»¤ï¼› å­˜å‚¨æ€»çº¿çš„å¢åŠ å‡è½»äº†ç³»ç»Ÿæ€»çº¿çš„è´Ÿæ‹…ï¼Œæé«˜äº†å¹¶è¡Œæ€§ï¼› ä»ç„¶ä¿æŒäº†å•æ€»çº¿ç»“æ„çš„ç³»ç»Ÿç®€å•ã€æ˜“äºæ‰©å……çš„ä¼˜ç‚¹ å¤šçº§æ€»çº¿ç»“æ„ åœ¨åŒçº§æ€»çº¿ç»“æ„çš„åŸºç¡€ä¸Šå¢åŠ I/Oæ€»çº¿æ„æˆï¼› å¹¶è¡Œæ€§è¿›ä¸€æ­¥æé«˜ï¼Œå¹¶å¯ä»¥é€šè¿‡å¢åŠ é€šé“æˆ–IOå¤„ç†æœºæ¥åˆ†æ‹…éƒ¨åˆ†CPUçš„I/OåŠŸèƒ½ï¼Œä½†æ˜¯æ€»çº¿ç»“æ„å¾—è¶Šæ¥è¶Šå¤æ‚ æ¡¥ æ˜¯ä¸åŒé€Ÿç‡æ€»çº¿ä¹‹é—´çš„è¿æ¥å™¨ä»¶ï¼Œèµ·ä¿¡å·é€Ÿåº¦ç¼“å†²ã€ç”µå¹³è½¬æ¢ã€æ§åˆ¶åè®®è½¬æ¢ç­‰ä½œç”¨ æ€»çº¿ç»“æ„å¯¹è®¡ç®—æœºæ€§èƒ½çš„å½±å“ å¯¹æœ€å¤§å­˜å‚¨å®¹é‡çš„å½±å“ï¼šå•æ€»çº¿ç»“æ„æœ‰å½±å“ï¼ŒåŒæ€»çº¿å’Œå¤šæ€»çº¿ç»“æ„æ²¡æœ‰ å¯¹æŒ‡ä»¤ç³»ç»Ÿçš„å½±å“ï¼šåŒæ€»çº¿å’Œå¤šæ€»çº¿ç»“æ„éœ€è¦å¢åŠ IOæŒ‡ä»¤ ååé‡ï¼šå•æ€»çº¿ç»“æ„çš„ååé‡å°ï¼Œå¤šæ€»çº¿ç»“æ„çš„ååé‡å¤§ï¼ŒåŒæ€»çº¿ç»“æ„çš„ååé‡å±…ä¸­ æ€»çº¿ä»²è£ èŠèŠ±é“¾å¼ä¸²è¡Œæ€»çº¿ä»²è£ é›†ä¸­å¼å¹¶è¡Œæ€»çº¿ä»²è£ å¸¸ç”¨çš„æ€»çº¿ä»²è£ç­–ç•¥ å›ºå®šä¼˜å…ˆçº§æ€»çº¿ä»²è£ è½®è¯¢å¼æ€»çº¿ä»²è£ï¼ˆRound Robinï¼‰ LRGæ€»çº¿ä»²è£ï¼ˆLeast Recently Grantedï¼‰ æ··åˆå¼æ€»çº¿ä»²è£ æ€»çº¿æ—¶åº åŒæ­¥å®šæ—¶ï¼šä¿¡æ¯ä¼ é€ç”±å…¬å…±æ—¶é’Ÿæ§åˆ¶ï¼Œæ€»çº¿ä¸­åŒ…å«æ—¶é’Ÿçº¿ æ—¶åºå…³ç³»ç®€å•ï¼Œå®ç°ç®€å• åœ¨è®¾å¤‡é€Ÿåº¦ä¸ä¸€è‡´æ—¶æŒ‰æœ€åæƒ…å†µç¡®å®šï¼Œä¼ è¾“çº¿ä¸èƒ½å¤ªé•¿ å¼‚æ­¥å®šæ—¶ï¼šä¿¡æ¯ä¼ é€çš„æ¯ä¸€ä¸ªæ“ä½œéƒ½æ˜¯ç”±ä¸»è®¾å¤‡æˆ–ä»è®¾å¤‡ç‰¹å®šä¿¡å·çš„è·³å˜æ‰€ç¡®å®šï¼Œæ€»çº¿ä¸Šæ¯ä¸€ä¸ªäº‹ä»¶çš„å‘ç”Ÿå–å†³äºå‰ä¸€ä¸ªäº‹ä»¶çš„å‘ç”Ÿ æ•°æ®ä¼ è¾“å¯é ï¼Œé€‚ç”¨äºä¼ è¾“å‘¨æœŸä¸åŒçš„è®¾å¤‡ï¼Œå¯¹é€šè®¯çº¿çš„é•¿åº¦æ²¡æœ‰ä¸¥æ ¼çš„è¦æ±‚ é€Ÿåº¦è¾ƒæ…¢ åŠåŒæ­¥å®šæ—¶ï¼šæ€»çº¿ä¸Šå„æ“ä½œä¹‹é—´çš„æ—¶é—´é—´éš”å¯ä»¥å˜åŒ–ï¼Œä½†ä»…å…è®¸ä¸ºå…¬å…±æ—¶é’Ÿå‘¨æœŸçš„æ•´æ•°å€ã€‚ä¿¡å·çš„å‡ºç°ã€é‡‡æ ·å’Œç»“æŸä»ä»¥å…¬å…±æ—¶é’Ÿä¸ºåŸºå‡† æ•°æ®ä¼ è¾“æ–¹å¼ å¹¶è¡Œä¼ é€ åŒæ—¶å¹¶è¡Œä¼ é€çš„äºŒè¿›ä½æ•°å°±æ˜¯æ•°æ®å®½åº¦ é€šå¸¸é‡‡ç”¨åº”ç­”å¼çš„è”ç»œä¿¡å·æ¥åè°ƒåŒæ–¹çš„æ•°æ®ä¼ é€æ“ä½œ ä¸²è¡Œä¼ é€ åªä½¿ç”¨ä¸€æ ¹ä¼ è¾“çº¿ï¼Œé‡‡ç”¨è„‰å†²æ–¹å¼ä¼ é€ä¿¡æ¯ æ¯æ¬¡ä¼ é€1ä½ä¿¡æ¯ ä¸€æ¬¡æ–°çš„ä¼ é€ï¼Œä¸€å®šæ˜¯ä»¥ä¸€ä¸ªç”µå¹³çš„è·³å˜å¼€å§‹ ä¸²å¹¶ä¼ é€ ä¸€æ¬¡ä¼ é€å¤šä¸ªäºŒè¿›åˆ¶ä½ï¼Œä½†æ˜¯åŒæ—¶ä¼ é€çš„äºŒè¿›åˆ¶ä½æ•°å°äºæ•°æ®å®½åº¦ æŒ‰ç…§ä¸²è¡Œçš„æ–¹å¼å°†æ•´ä¸ªæ•°æ®å®½åº¦ä¼ é€å®Œ æ€»çº¿æ ‡å‡† è®¡ç®—æœºç³»ç»Ÿçš„å„éƒ¨ä»¶ä¹‹é—´åˆ©ç”¨æ€»çº¿è¿›è¡Œä¿¡æ¯ä¼ è¾“æ—¶åº”éµå®ˆçš„åè®®å’Œè§„èŒƒï¼ŒåŒ…æ‹¬ç¡¬ä»¶å’Œè½¯ä»¶ä¸¤ä¸ªæ–¹é¢ å¸¸è§çš„æ€»çº¿æ ‡å‡† ISAï¼ˆIndustrial Standard Architectureï¼‰ï¼šæœ€æ—©åˆ¶å®šçš„æ€»çº¿æŠ€æœ¯æ ‡å‡†ï¼Œæ€»çº¿å®½åº¦8/16ä½ï¼Œæ€»çº¿é¢‘ç‡5~8MHzï¼Œæ€»çº¿å¸¦å®½5~8MB/sã€‚ EISAï¼ˆExtended Industry Standard Architectureï¼‰æ€»çº¿ï¼šåœ¨ISAæ€»çº¿çš„åŸºç¡€ä¸Šä¸º32ä½å¾®æœºå¼€å‘ã€‚ VESAï¼ˆVideo Electronics Standard Association)æ€»çº¿ï¼š1992å¹´æ¨ï¼Œå®ƒçš„æ¨å‡ºä¸ºå¾®æœºç³»ç»Ÿæ€»çº¿ä½“ç³»ç»“æ„çš„é©æ–°å¥ å®šäº†åŸºç¡€ï¼Œè¯¥æ€»çº¿ç³»ç»Ÿè€ƒè™‘åˆ°CPUä¸ä¸»å­˜å’ŒCacheçš„ç›´æ¥ç›¸è¿ã€‚æ ‡å‡†å®šä¹‰äº†32ä½æ•°æ®çº¿ï¼Œä¸”å¯é€šè¿‡æ‰©å±•æ§½æ‰©å±•åˆ°64ä½ï¼Œä½¿ç”¨33MHzæ—¶é’Ÿé¢‘ç‡ï¼Œæœ€å¤§ä¼ è¾“ç‡ä¸º128MB/s~132MB/sã€‚ PCIï¼ˆPeripheral Component Interconnectï¼‰æ€»çº¿ï¼šPCIæ˜¯ç”±Intelå…¬å¸1991å¹´æ¨å‡ºçš„æ€»çº¿è§„èŒƒï¼Œç”¨äºå–ä»£ISAï¼›ä¸åŒäºISAæ€»çº¿ï¼ŒPCIæ€»çº¿çš„åœ°å€æ€»çº¿ä¸æ•°æ®æ€»çº¿æ˜¯åˆ†æ—¶å¤ç”¨çš„ï¼Œæ”¯æŒæ’å³ç”¨ã€‚ æ”¯æŒ10å°å¤–è®¾ï¼Œæ€»çº¿å®½åº¦32/64ä½ï¼Œæ€»çº¿æ—¶é’Ÿé¢‘ç‡33.3MHz/66MHzï¼Œæœ€å¤§æ•°æ®ä¼ è¾“é€Ÿç‡ 133/264MB/sï¼Œæ—¶é’ŸåŒæ­¥æ–¹å¼ï¼Œä¸”ä¸CPUçš„æ—¶é’Ÿé¢‘ç‡æ— å…³ AGPï¼ˆAcceleratedGraphics Portï¼‰æ€»çº¿ï¼šæ˜¯Intelå…¬å¸1997å¹´æ¨å‡ºçš„ä¸€ç§3Dæ ‡å‡†å›¾åƒæ¥å£ï¼ŒåŸºäºPCI2.1ç‰ˆè§„èŒƒå¹¶è¿›è¡Œæ‰©å……ä¿®æ”¹è€Œæˆï¼Œå®ƒé‡‡ç”¨ç‚¹å¯¹ç‚¹é€šé“æ–¹å¼ï¼Œèƒ½å¤Ÿæä¾›å››å€äºPCIçš„ä¼ è¾“é€Ÿåº¦ã€‚ PCIeï¼ˆPeripheral Component Interconnect Expressï¼‰æ€»çº¿ï¼šæ˜¯Intelå…¬å¸2001å¹´æ¨å‡ºçš„ä¸€ç§é«˜é€Ÿä¸²è¡Œè®¡ç®—æœºæ‰©å±•æ€»çº¿æ ‡å‡†ï¼Œç”¨äºæ›¿ä»£PCIã€PCI-Xå’ŒAGPæ€»çº¿ USBï¼ˆUniversal Serial Busï¼‰æ€»çº¿ï¼šæ˜¯ç”±Intelã€Compaqã€IBMã€Microsoftç­‰å¤šå®¶å…¬å¸1994å¹´è”åˆæå‡ºçš„ä¸€ç§é€šç”¨ä¸²è¡Œæ€»çº¿ é‡‡ç”¨å››çº¿ç”µç¼†ï¼Œå…¶ä¸­ä¸¤æ ¹æ˜¯ç”¨æ¥ä¼ é€æ•°æ®çš„ä¸²è¡Œé€šé“ï¼Œå¦ä¸¤æ ¹ä¸ºä¸‹æ¸¸è®¾å¤‡æä¾›ç”µæº é‡‡ç”¨çº§è”æ˜Ÿå‹æ‹“æ‰‘ï¼Œç”±ä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ç»„æˆï¼šä¸»æœºï¼ˆHostï¼‰ï¼Œé›†çº¿å™¨ï¼ˆHubï¼‰å’ŒåŠŸèƒ½è®¾å¤‡ AMBAï¼ˆAdvanced Microcontroller Bus Architectureï¼‰æ€»çº¿ï¼šæ˜¯ARMå…¬å¸æ¨å‡ºçš„ç‰‡ä¸Šæ€»çº¿ï¼›AMBAæä¾›äº†ä¸€ç§ç‰¹æ®Šçš„æœºåˆ¶ï¼Œå¯å°†RISCå¤„ç†å™¨é›†æˆåœ¨å…¶å®ƒIPæ ¸å’Œå¤–è®¾ä¸­ã€‚ InfiniBandæ€»çº¿ï¼šè§£å†³äº†PCIæ€»çº¿ä¸­è®¾å¤‡çš„è·ç¦»é—®é¢˜ï¼Œå¤–éƒ¨è®¾å¤‡å¯ä»¥æ”¾åˆ°è·ç¦»æœåŠ¡å™¨å¾ˆè¿œçš„åœ°æ–¹å·¥ä½œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-18 03:26:03 "},"è®¡ç®—æœºç³»ç»Ÿ/åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº/é“¾æ¥.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº/é“¾æ¥.html","title":"é“¾æ¥","keywords":"","body":"é“¾æ¥ é“¾æ¥æ˜¯å°†å„ç§ä»£ç å’Œæ•°æ®ç‰‡æ®µæ”¶é›†å¹¶ç»„åˆæˆä¸ºä¸€ä¸ªå•ä¸€æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªæ–‡ä»¶å¯è¢«åŠ è½½åˆ°å†…å­˜å¹¶æ‰§è¡Œ å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ é¢„å¤„ç†é˜¶æ®µï¼šå¤„ç†ä»¥ # å¼€å¤´çš„é¢„å¤„ç†å‘½ä»¤ ç¼–è¯‘é˜¶æ®µï¼šç¿»è¯‘æˆæ±‡ç¼–æ–‡ä»¶ æ±‡ç¼–é˜¶æ®µï¼šå°†æ±‡ç¼–æ–‡ä»¶ç¿»è¯‘æˆå¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ é“¾æ¥é˜¶æ®µï¼šå°†å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶å’Œ printf.o ç­‰å•ç‹¬é¢„ç¼–è¯‘å¥½çš„ç›®æ ‡æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ ç¼–è¯‘å™¨é©±åŠ¨ç¨‹åº é“¾æ¥çš„åŸå›  æ¨¡å—åŒ– æ•ˆç‡ é™æ€é“¾æ¥ ç¬¦å·è§£æï¼šæ¯ä¸ªç¬¦å·å¯¹åº”äºä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªå…¨å±€å˜é‡æˆ–ä¸€ä¸ªé™æ€å˜é‡ï¼Œç¬¦å·è§£æçš„ç›®çš„æ˜¯å°†æ¯ä¸ªç¬¦å·å¼•ç”¨ä¸ä¸€ä¸ªç¬¦å·å®šä¹‰å…³è”èµ·æ¥ é‡å®šä½ï¼šé“¾æ¥å™¨é€šè¿‡æŠŠæ¯ä¸ªç¬¦å·å®šä¹‰ä¸ä¸€ä¸ªå†…å­˜ä½ç½®å…³è”èµ·æ¥ï¼Œç„¶åä¿®æ”¹æ‰€æœ‰å¯¹è¿™äº›ç¬¦å·çš„å¼•ç”¨ï¼Œä½¿å¾—å®ƒä»¬æŒ‡å‘è¿™ä¸ªå†…å­˜ä½ç½® ç›®æ ‡æ–‡ä»¶ å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ï¼ˆ.oæ–‡ä»¶ï¼‰ï¼šå¯ä¸å…¶å®ƒå¯é‡å®šä½ç›®æ ‡æ–‡ä»¶åœ¨é“¾æ¥é˜¶æ®µåˆå¹¶ï¼Œåˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ï¼ˆ.outæ–‡ä»¶ï¼‰ï¼šå¯ä»¥ç›´æ¥åœ¨å†…å­˜ä¸­æ‰§è¡Œ å…±äº«ç›®æ ‡æ–‡ä»¶ï¼ˆ.soæ–‡ä»¶ï¼‰ï¼šä¸€ç§ç‰¹æ®Šçš„å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶è¢«åŠ¨æ€åŠ è½½è¿›å†…å­˜å¹¶é“¾æ¥ å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ ç¬¦å·å’Œç¬¦å·è¡¨ å…¨å±€ç¬¦å· å¤–éƒ¨ç¬¦å· å±€éƒ¨ç¬¦å· ç¬¦å·è§£æ å¤„ç†å¤šé‡å®šä¹‰çš„å…¨å±€ç¬¦å· ä¸å…è®¸æœ‰å¤šä¸ªåŒåçš„å¼ºç¬¦å· å¦‚æœå¼ºç¬¦å·å’Œå¼±ç¬¦å·åŒåï¼Œåˆ™é€‰æ‹©å¼ºç¬¦å· å¦‚æœå¤šä¸ªå¼±ç¬¦å·åŒåï¼Œåˆ™éšæ„é€‰æ‹©ä¸€ä¸ª ä¸é™æ€åº“é“¾æ¥ é“¾æ¥å™¨ä½¿ç”¨é™æ€åº“è§£æå¼•ç”¨ é‡å®šä½ é‡å®šä½èŠ‚å’Œç¬¦å·å®šä¹‰ é‡å®šä½èŠ‚ä¸­çš„ç¬¦å·å¼•ç”¨ é‡å®šä½æ¡ç›® R_X86_64_PC32 R_X86_64_32 é‡å®šä½ç¬¦å·å¼•ç”¨ å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ åŠ è½½å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ åŠ¨æ€é“¾æ¥å…±äº«åº“ soæ–‡ä»¶ ddlæ–‡ä»¶ åœ¨ç»™å®šçš„æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªåº“åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€æœ‰å¼•ç”¨è¯¥åº“çš„å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶éƒ½å…±äº«è¿™ä¸ªæ–‡ä»¶ï¼Œå®ƒä¸ä¼šè¢«å¤åˆ¶åˆ°å¼•ç”¨å®ƒçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ åœ¨å†…å­˜ä¸­ï¼Œä¸€ä¸ªå…±äº«åº“çš„ .text èŠ‚ï¼ˆå·²ç¼–è¯‘ç¨‹åºçš„æœºå™¨ä»£ç ï¼‰çš„ä¸€ä¸ªå‰¯æœ¬å¯ä»¥è¢«ä¸åŒçš„æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å…±äº« ä»åº”ç”¨ç¨‹åºä¸­åŠ è½½å’Œé“¾æ¥å…±äº«åº“ JNI ä½ç½®æ— å…³ä»£ç  å¯ä»¥åŠ è½½è€Œæ— éœ€é‡å®šä½çš„ä»£ç ç§°ä¸ºä½ç½®æ— å…³ä»£ç  PICæ•°æ®å¼•ç”¨ PICå‡½æ•°è°ƒç”¨ \"å»¶è¿Ÿç»‘å®š\" åº“æ‰“æ¡©æœºåˆ¶ ç¼–è¯‘æ—¶æ‰“æ¡© é“¾æ¥æ—¶æ‰“æ¡© è¿è¡Œæ—¶æ‰“æ¡© MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-02 11:22:07 "},"è®¡ç®—æœºç³»ç»Ÿ/åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº/å¼‚å¸¸æ§åˆ¶æµ.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº/å¼‚å¸¸æ§åˆ¶æµ.html","title":"å¼‚å¸¸æ§åˆ¶æµ","keywords":"","body":"å¼‚å¸¸ å¼‚å¸¸å¤„ç† å¼‚å¸¸è¡¨ å¼‚å¸¸å¤„ç†ç¨‹åºè¿è¡Œåœ¨å†…æ ¸æ¨¡å¼ä¸‹ å¼‚å¸¸çš„ç±»åˆ« Linux/X86-64ç³»ç»Ÿä¸­çš„å¼‚å¸¸ é™¤æ³•é”™è¯¯ ä¸€èˆ¬ä¿æŠ¤æ•…éšœ ç¼ºé¡µ æœºå™¨æ£€æŸ¥ Linux ä¸­çš„ç³»ç»Ÿè°ƒç”¨ è¿›ç¨‹ ä¸€ä¸ªæ‰§è¡Œä¸­ç¨‹åºçš„å®ä¾‹ é€»è¾‘æ§åˆ¶æµ å¹¶å‘æµ ä¸€ä¸ªé€»è¾‘æµçš„æ‰§è¡Œåœ¨æ—¶é—´ä¸Šä¸å¦ä¸€ä¸ªæµé‡å  ç§æœ‰åœ°å€ç©ºé—´ è¿›ç¨‹ä¸ºæ¯ä¸ªç¨‹åºæä¾›ä¸€ä¸ªå‡è±¡ï¼Œå¥½åƒå®ƒç‹¬å ä½¿ç”¨äº†ç³»ç»Ÿçš„å…¨éƒ¨å†…å­˜ ç”¨æˆ·æ¨¡å¼ä¸å†…æ ¸æ¨¡å¼ å¯„å­˜å™¨ä¸­çš„ä¸€ä¸ªæ¨¡å¼ä½ï¼Œè®¾ç½®è¯¥æ¨¡å¼ä½å¯ä»¥ç”¨æ¥åˆ‡æ¢ç”¨æˆ·æ¨¡å¼æˆ–æ˜¯å†…æ ¸æ¨¡å¼ ä¸Šä¸‹æ–‡åˆ‡æ¢ å†…æ ¸ä½¿ç”¨ä¸Šä¸‹æ–‡åˆ‡æ¢æ¥å®ç°å¤šä»»åŠ¡ ç³»ç»Ÿè°ƒç”¨é”™è¯¯å¤„ç† åŒ…è£…ç³»ç»Ÿè°ƒç”¨è¿›è¡Œé”™è¯¯å¤„ç† è¿›ç¨‹æ§åˆ¶ è·å–è¿›ç¨‹ID åˆ›å»ºå’Œç»ˆæ­¢è¿›ç¨‹ void exit(int status); // ç»ˆæ­¢ pid_t fork(void); // åˆ›å»ºæ–°å­è¿›ç¨‹ å›æ”¶å­è¿›ç¨‹ pid_t waitpid(pid_t pid,int *statusp,int options); è®©è¿›ç¨‹ä¼‘çœ  unsigned int sleep(unsigned int secs); int pause(void); åŠ è½½å¹¶è¿è¡Œç¨‹åº execve(cont char *filename,const char *argv[],const char *envp[]); // ä½¿ç”¨å½“å‰çš„è¿›ç¨‹è¿è¡Œæ–°çš„ç¨‹åº ä¿¡å·æœ¯è¯­ å‘é€ä¿¡å· è¿›ç¨‹ç»„ pid_t getpgrp(void); ç”¨killå‘é€ä¿¡å· /bin/kill -9 1235 ç”¨killå‡½æ•°å‘é€ä¿¡å· int kill(pid_t pid,int sig); ç”¨alarmå‡½æ•° unigned int alarm(unsigned int secs); æ¥æ”¶ä¿¡å· sighandler_t signal(int signum,sighandler_t handler); é˜»å¡ä¿¡å·å’Œè§£é™¤é˜»å¡ä¿¡å· éšå¼é˜»å¡ æ˜¾å¼é˜»å¡ ç¼–å†™ä¿¡å·å¤„ç†ç¨‹åº å®‰å…¨ æ­£ç¡® å¯ç§»æ¤ åŒæ­¥æµ æ˜¾å¼ç­‰å¾…ä¿¡å· éæœ¬åœ°è·³è½¬ ç”¨æˆ·çº§å¼‚å¸¸æ§åˆ¶æµå½¢å¼ // ä¿å­˜å½“å‰è°ƒç”¨ç¯å¢ƒï¼Œä¾›åé¢çš„longjmpè°ƒç”¨ int setjmp(jmp_buf env); int sigsetjmp(sigjmp_buf env,int savesigs); void longjmp(jmp_buf env,int retval); void siglongjmp(sigjmp_buf env,int retval); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-20 09:40:25 "},"è®¡ç®—æœºç³»ç»Ÿ/åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº/è™šæ‹Ÿå†…å­˜.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº/è™šæ‹Ÿå†…å­˜.html","title":"è™šæ‹Ÿå†…å­˜","keywords":"","body":"ç‰©ç†å’Œè™šæ‹Ÿå¯»å€ å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰ åœ°å€ç©ºé—´ éè´Ÿæ•´æ•°åœ°å€çš„æœ‰åºé›†åˆ è™šæ‹Ÿåœ°å€ç©ºé—´ ç‰©ç†åœ°å€ç©ºé—´ è™šæ‹Ÿå†…å­˜ä½œä¸ºç¼“å­˜çš„å·¥å…· æœªåˆ†é… ç¼“å­˜çš„ æœªç¼“å­˜çš„ DRAMç¼“å­˜çš„ç»„ç»‡ç»“æ„ ä¸å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„ é¡µè¡¨ é¡µå‘½ä¸­ ç³»ç»Ÿé€šè¿‡é¡µè¡¨è·å–åˆ°ç‰©ç†å†…å­˜å½“ä¸­çš„é¡µ ç¼ºé¡µ ç‰©ç†å†…å­˜ç¼“å­˜ä¸å‘½ä¸­æˆä¸ºç¼ºé¡µ åˆ†é…é¡µé¢ å±€éƒ¨æ€§åŸç† å±€éƒ¨æ€§åŸç†æ˜¯æŒ‡CPUè®¿é—®å­˜å‚¨å™¨æ—¶ï¼Œæ— è®ºæ˜¯å­˜å–æŒ‡ä»¤è¿˜æ˜¯å­˜å–æ•°æ®ï¼Œæ‰€è®¿é—®çš„å­˜å‚¨å•å…ƒéƒ½è¶‹äºèšé›†åœ¨ä¸€ä¸ªè¾ƒå°çš„è¿ç»­åŒºåŸŸä¸­ã€‚ è™šæ‹Ÿå†…å­˜ä½œä¸ºå†…å­˜ç®¡ç†å·¥å…· ç®€åŒ–é“¾æ¥ ç®€åŒ–åŠ è½½ ç®€åŒ–å…±äº« ç®€åŒ–å†…å­˜åˆ†é… è™šæ‹Ÿå†…å­˜ä½œä¸ºå†…å­˜ä¿æŠ¤çš„å·¥å…· åœ°å€ç¿»è¯‘ é€šè¿‡è™šæ‹Ÿåœ°å€æ‰¾åˆ°é¡µè¡¨(page table)ä¸­å¯¹åº”çš„æ¡ç›® æ£€æŸ¥æœ‰æ•ˆä½(valid bit)ï¼Œæ˜¯å¦éœ€è¦è§¦å‘é¡µé”™è¯¯(page fault) ç„¶åæ ¹æ®é¡µè¡¨ä¸­çš„ç‰©ç†é¡µç¼–å·æ‰¾åˆ°å†…å­˜ä¸­çš„å¯¹åº”åœ°å€ æœ€åæŠŠè™šæ‹Ÿé¡µåç§»å’Œå‰é¢çš„å®é™…åœ°å€æ‹¼èµ·æ¥ï¼Œå°±æ˜¯æœ€ç»ˆçš„ç‰©ç†åœ°å€ å½“é¡µé¢å‘½ä¸­æ—¶ï¼š å½“ç¼ºé¡µæ—¶ï¼š ç»“åˆé«˜é€Ÿç¼“å­˜å’Œè™šæ‹Ÿå†…å­˜ åˆ©ç”¨TLBåŠ é€Ÿåœ°å€ç¿»è¯‘ å¤šçº§é¡µè¡¨ å†…å­˜æ˜ å°„ å°†è™šæ‹Ÿå†…å­˜åŒºåŸŸä¸ä¸€ä¸ªç£ç›˜å¯¹è±¡å…³è”èµ·æ¥ï¼Œä»¥åˆå§‹åŒ–è¿™ä¸ªè™šæ‹Ÿå†…å­˜åŒºåŸŸçš„å†…å®¹ æ™®é€šæ–‡ä»¶ åŒ¿åæ–‡ä»¶ å…±äº«å¯¹è±¡ å†™æ—¶å¤åˆ¶ ç”¨æˆ·çº§å†…å­˜æ˜ å°„ void *mmap(void *start,size_t length,int prot, int flags,int fd,off_t offset) åŠ¨æ€å†…å­˜åˆ†é… æ˜¾å¼åˆ†é… ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ éšå¼åˆ†é… åƒåœ¾æ”¶é›†å™¨å›æ”¶ mallocä¸freeå‡½æ•° void *malloc(size_t size); void free(void *p); ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…çš„åŸå›  ç¨‹åºè¿è¡Œçš„æœªçŸ¥æ€§ åˆ†é…å™¨çš„è¦æ±‚å’Œç›®æ ‡ å¤„ç†ä»»æ„è¯·æ±‚åºåˆ— ç«‹å³å“åº”è¯·æ±‚ åªä½¿ç”¨å † å¯¹é½å— ä¸ä¿®æ”¹å·²åˆ†é…çš„å— ç›®æ ‡ æœ€å¤§åŒ–ååç‡ æœ€å¤§åŒ–å†…å­˜åˆ©ç”¨ç‡ ç¢ç‰‡ å†…éƒ¨ç¢ç‰‡ å¤–éƒ¨ç¢ç‰‡ å®ç°é—®é¢˜ å¦‚ä½•è®°å½•ç©ºé—²å— å¦‚ä½•é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç©ºé—²å—æ”¾ç½®ä¸€ä¸ªæ–°åˆ†é…çš„å— å¦‚ä½•å¤„ç†ç©ºé—²å—è¢«åˆ†é…åå‰©ä½™çš„éƒ¨åˆ† å¦‚ä½•å¤„ç†ä¸€ä¸ªè¢«é‡Šæ”¾çš„å— éšå¼ç©ºé—²é“¾è¡¨ æ”¾ç½®å·²åˆ†é…çš„å— é¦–æ¬¡é€‚é… ä¸‹æ¬¡é€‚é… æœ€ä½³é€‚é… åˆ†å‰²ç©ºé—²å— å°†ç©ºé—²å—åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†å˜æˆåˆ†é…å—ï¼Œå¦ä¸€éƒ¨åˆ†å˜æˆç©ºé—²å— è·å–é¢å¤–çš„å †å†…å­˜ åˆå¹¶ç©ºé—²å— å‡ç¢ç‰‡ å—åˆå¹¶ å¸¦è¾¹ç•Œæ ‡è®°çš„åˆå¹¶ æ˜¾å¼ç©ºé—²é“¾è¡¨ åˆ†ç¦»çš„ç©ºé—²é“¾è¡¨ ç®€å•åˆ†ç¦»å­˜å‚¨ åˆ†ç¦»é€‚é… ä¼™ä¼´ç³»ç»Ÿ åƒåœ¾æ”¶é›† åŸºæœ¬çŸ¥è¯† æ ‡è®°-æ¸…æ‰«åƒåœ¾æ”¶é›†å™¨ Cç¨‹åºå¸¸è§çš„ä¸å†…å­˜æœ‰å…³çš„é”™è¯¯ é—´æ¥å¼•ç”¨åæŒ‡é’ˆ è¯»æœªåˆå§‹åŒ–çš„å†…å­˜ æ ˆç¼“å†²åŒºæº¢å‡º å‡è®¾æŒ‡é’ˆä¸æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡å¤§å°ç›¸åŒ é”™ä½é”™è¯¯ å¼•ç”¨äº†æŒ‡é’ˆï¼Œè€Œä¸æ˜¯æŒ‡é’ˆæ‰€æŒ‡çš„å¯¹è±¡ è¯¯è§£æŒ‡é’ˆè¿ç®— å¼•ç”¨ä¸å­˜åœ¨çš„å˜é‡ å¼•ç”¨ç©ºé—²å †å—ä¸­çš„æ•°æ® å†…å­˜æ³„æ¼ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-17 05:33:25 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºé—´çš„äº¤äº’å’Œé€šä¿¡/è¾“å…¥è¾“å‡ºç³»ç»Ÿ.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºé—´çš„äº¤äº’å’Œé€šä¿¡/è¾“å…¥è¾“å‡ºç³»ç»Ÿ.html","title":"è¾“å…¥è¾“å‡ºç³»ç»Ÿ","keywords":"","body":"è¾“å…¥è¾“å‡ºç³»ç»Ÿ æ¦‚è¿° å¤–éƒ¨è®¾å¤‡ã€æ¥å£éƒ¨ä»¶ã€æ€»çº¿ä»¥åŠç›¸åº”çš„ç®¡ç†è½¯ä»¶ç»Ÿç§°ä¸ºè®¡ç®—æœºçš„è¾“å…¥/è¾“å‡ºç³»ç»Ÿï¼Œç®€ç§°I/Oç³»ç»Ÿ åŸºæœ¬åŠŸèƒ½ å®Œæˆè®¡ç®—æœºå†…éƒ¨äºŒè¿›åˆ¶ä¿¡æ¯ä¸å¤–éƒ¨å¤šç§ä¿¡æ¯å½¢å¼é—´çš„äº¤æµ ä¿è¯CPUèƒ½å¤Ÿæ­£ç¡®é€‰æ‹©è¾“å…¥è¾“å‡ºè®¾å¤‡å¹¶å®ç°å¯¹å…¶æ§åˆ¶ï¼Œä¼ è¾“å¤§é‡æ•°æ®ã€ é¿å…æ•°æ®å‡ºé”™ åˆ©ç”¨æ•°æ®ç¼“å†²ã€é€‰æ‹©åˆé€‚çš„æ•°æ®ä¼ é€æ–¹å¼ç­‰ï¼Œå®ç°ä¸»æœºä¸å¤–è®¾é—´é€Ÿåº¦çš„åŒ¹é… ç‰¹ç‚¹ å¼‚æ­¥æ€§ï¼šå¤–å›´è®¾å¤‡ç›¸å¯¹äºå¤„ç†æœºé€šå¸¸æ˜¯å¼‚æ­¥å·¥ä½œçš„ å®æ—¶æ€§ï¼šå½“å¤–å›´è®¾å¤‡ä¸å¤„ç†æœºäº¤äº’æ—¶ï¼Œç”±äºè®¾å¤‡çš„ç±»å‹ä¸åŒï¼Œå®ƒä»¬çš„å·¥ä½œæ­¥è°ƒæ˜¯ä¸åŒçš„ï¼Œå¤„ç†æœºå¿…é¡»æŒ‰ç…§ä¸åŒè®¾å¤‡æ‰€è¦æ±‚ä¼ é€æ–¹å¼å’Œä¼ è¾“é€Ÿç‡ä¸å¤±æ—¶æœºåœ°ä¸ºè®¾å¤‡æä¾›æœåŠ¡ï¼Œè¿™å°±è¦æ±‚å®æ—¶æ€§æ§åˆ¶ ä¸è®¾å¤‡æ— å…³æ€§ï¼šå„ç§å¤–éƒ¨è®¾å¤‡å¿…é¡»æ ¹æ®å…¶ç‰¹ç‚¹å’Œè¦æ±‚é€‰æ‹©ä¸€ç§æ ‡å‡†æ¥å£å’Œå¤„ç†æœºè¿›è¡Œè¿æ¥ï¼Œå®ƒä»¬ä¹‹é—´çš„å·®åˆ«å¿…é¡»ç”±è®¾å¤‡æœ¬èº«çš„æ§åˆ¶å™¨é€šè¿‡ç¡¬ä»¶å’Œè½¯ä»¶æ¥å¡«è¡¥ï¼›è¿™æ ·ï¼Œå¤„ç†æœºæœ¬èº«æ— é¡»äº†è§£å¤–è®¾çš„å…·ä½“ç»†èŠ‚ï¼Œå¯ä»¥é‡‡ç”¨ç»Ÿä¸€çš„ç¡¬ä»¶å’Œè½¯ä»¶å¯¹å…¶ç®¡ç† äº¤æ¢æ•°æ®çš„è¿‡ç¨‹ è¾“å…¥è¿‡ç¨‹ï¼š CPUæŠŠä¸€ä¸ªåœ°å€å€¼æ”¾åœ¨åœ°å€æ€»çº¿ä¸Šï¼Œè¿™ä¸€æ­¥å°†é€‰æ‹©æŸä¸€è¾“å…¥è®¾å¤‡ CPUç­‰å€™è¾“å…¥è®¾å¤‡çš„æ•°æ®æˆä¸ºæœ‰æ•ˆ CPUä»æ•°æ®æ€»çº¿è¯»å…¥æ•°æ®ï¼Œå¹¶æ”¾åœ¨ä¸€ä¸ªç›¸åº”çš„å¯„å­˜å™¨ä¸­ è¾“å‡ºè¿‡ç¨‹ï¼š CPUæŠŠä¸€ä¸ªåœ°å€å€¼æ”¾åœ¨åœ°å€æ€»çº¿ä¸Šï¼Œé€‰æ‹©è¾“å‡ºè®¾å¤‡ CPUæŠŠæ•°æ®æ”¾åœ¨æ•°æ®æ€»çº¿ä¸Š è¾“å‡ºè®¾å¤‡è®¤ä¸ºæ•°æ®æœ‰æ•ˆï¼Œä»è€ŒæŠŠæ•°æ®å–èµ° æ€§èƒ½ æŒ‰ç…§ä¸»è¦å®Œæˆçš„å·¥ä½œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹äºŒç±»ï¼š å­˜å‚¨I/O é€šä¿¡I/O I/Oç³»ç»Ÿçš„æ€§èƒ½å¯¹CPUçš„æ€§èƒ½æœ‰å¾ˆå¤§çš„å½±å“ï¼Œè‹¥ä¸¤è€…çš„æ€§èƒ½ä¸åŒ¹é…ï¼ŒI/Oç³»ç»Ÿå°±æœ‰å¯èƒ½æˆä¸ºæ•´ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆ è¯„ä»·å‚æ•° è¿æ¥ç‰¹æ€§ï¼šå“ªäº›I/Oè®¾å¤‡å¯ä»¥å’Œè®¡ç®—æœºç³»ç»Ÿç›¸è¿æ¥ I/Oç³»ç»Ÿçš„å®¹é‡ï¼šI/Oç³»ç»Ÿå¯ä»¥å®¹çº³çš„I/Oè®¾å¤‡æ•° å“åº”æ—¶é—´ï¼šä»ç”¨æˆ·è¾“å…¥å‘½ä»¤å¼€å§‹ï¼Œåˆ°å¾—åˆ°ç»“æœæ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œå•ä½s ååç‡ï¼šå•ä½æ—¶é—´å®Œæˆçš„I/Oæ“ä½œæ¬¡æ•°ï¼Œå•ä½IOP è¾“å…¥è¾“å‡ºæ–¹å¼ è¾“å…¥è¾“å‡ºç³»ç»Ÿç”¨ä»€ä¹ˆä¸è®¡ç®—æœºè¿›è¡Œäº¤äº’ æ— æ¡ä»¶IO åœ¨ç¨‹åºçš„é€‚å½“ä½ç½®ç›´æ¥å®‰æ’I/OæŒ‡ä»¤ï¼Œå½“ç¨‹åºæ‰§è¡Œåˆ°è¿™äº›I/OæŒ‡ä»¤æ—¶ï¼ŒCPUé»˜è®¤å¤–è®¾å§‹ç»ˆæ˜¯å‡†å¤‡å°±ç»ªçš„ï¼ˆI/Oæ€»æ˜¯å‡†å¤‡å¥½æ¥æ”¶CPUçš„è¾“å‡ºæ•°æ®ï¼Œæˆ–æ€»æ˜¯å‡†å¤‡å¥½å‘CPUè¾“å…¥æ•°æ®ï¼‰ï¼Œæ— éœ€æ£€æŸ¥I/Oçš„çŠ¶æ€ï¼Œå°±è¿›è¡Œæ•°æ®çš„ä¼ è¾“ï¼› ç¡¬ä»¶æ¥å£ç”µè·¯å’Œè½¯ä»¶æ§åˆ¶ç¨‹åºéƒ½æ¯”è¾ƒç®€å•ã€‚è¾“å…¥æ—¶ï¼Œå¿…é¡»ç¡®ä¿CPUæ‰§è¡ŒI/OæŒ‡ä»¤è¯»å–æ•°æ®æ—¶ï¼Œå¤–è®¾å·²å°†æ•°æ®å‡†å¤‡å¥½ï¼›è¾“å‡ºæ—¶ï¼Œå¿…é¡»ç¡®ä¿å¤–éƒ¨è®¾å¤‡çš„æ•°æ®é”å­˜å™¨ä¸ºç©ºï¼Œå³å¤–è®¾å·²å°†ä¸Šæ¬¡çš„æ•°æ®å–èµ°ï¼Œç­‰å¾…æ¥æ”¶æ–°çš„æ•°æ®ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ•°æ®ä¼ é€å‡ºé”™ï¼Œä½†ä¸€èˆ¬çš„å¤–è®¾éš¾ä»¥æ»¡è¶³è¿™ç§è¦æ±‚ ç¨‹åºæ§åˆ¶I/O ä¸€ç§æ—©æœŸè®¡ç®—æœºé‡‡ç”¨çš„è¾“å…¥/è¾“å‡ºæ–¹å¼ï¼Œæ•°æ®åœ¨è®¡ç®—æœºå’Œå¤–è®¾ä¹‹é—´çš„ä¼ é€å…¨éƒ¨é è®¡ç®—æœºç¨‹åºæ§åˆ¶ï¼›è®¡ç®—æœºæ‰§è¡ŒI/OæŒ‡ä»¤æ—¶ï¼Œå…ˆè·å–å¤–è®¾çŠ¶æ€ï¼Œå¹¶æ ¹æ®å¤–è®¾çš„çŠ¶æ€å†³å®šä¸‹ä¸€æ­¥æ“ä½œ ä½•æ—¶å¯¹ä½•è®¾å¤‡è¿›è¡Œè¾“å…¥è¾“å‡ºæ“ä½œå®Œå…¨å—CPUæ§åˆ¶ï¼Œå¤–å›´è®¾å¤‡ä¸CPUå¤„äºå¼‚æ­¥å·¥ä½œå…³ç³»ï¼Œæ•°æ®çš„è¾“å…¥/è¾“å‡ºéƒ½è¦ç»è¿‡CPU ä¼˜ç‚¹ï¼š è®¡ç®—æœºå’Œå¤–è®¾ä¹‹é—´èƒ½å¤ŸåŒæ­¥ï¼Œæ§åˆ¶ç®€å•ï¼Œç¡¬ä»¶ç®€å•ã€‚ ç¼ºç‚¹ï¼š CPUçš„å¤§é‡æ—¶é—´ç”¨æ¥æŸ¥è¯¢å¤–è®¾çš„çŠ¶æ€ã€‚ è®¾å¤‡çŠ¶æ€å­—å¯„å­˜å™¨ ç”¨æ¥æ ‡å¿—è®¾å¤‡çš„å·¥ä½œçŠ¶æ€ï¼Œä»¥ä¾¿æ¥å£å¯¹å¤–éƒ¨è®¾å¤‡è¿›è¡Œç›‘è§† ä¸­æ–­I/O å½“å¤–è®¾å‡†å¤‡å¥½åï¼Œä¸»åŠ¨é€šçŸ¥CPUå¹¶è¿›è¡Œæ¥æ”¶æˆ–è¾“å‡ºæ•°æ®çš„æ–¹æ³• CPUæ¥åˆ°å¤–è®¾çš„é€šçŸ¥åæš‚åœç°è¡Œçš„å·¥ä½œï¼Œè½¬å…¥ä¸­æ–­æœåŠ¡ç¨‹åºï¼Œå’Œå¤–è®¾äº¤æ¢æ•°æ®ï¼Œç­‰ä¸­æ–­ç¨‹åºå¤„ç†å®Œæ¯•åï¼Œå†è¿”å›åˆ°è¢«ä¸­æ–­çš„åŸç¨‹åºä¸­ç»§ç»­ä»¥å‰è¢«æš‚åœçš„å·¥ä½œ ä¼˜ç‚¹ï¼š èŠ‚çº¦CPUæ—¶é—´ï¼Œå®æ—¶æ€§å¥½ã€‚ ç¼ºç‚¹ï¼š æ§åˆ¶ç”µè·¯ç›¸å¯¹å¤æ‚ï¼ŒæœåŠ¡å¼€é”€è¾ƒå¤§ï¼ˆç°åœºå’Œæ–­ç‚¹çš„ä¿æŠ¤ï¼‰ã€‚ åº”ç”¨åœºåˆï¼š å®æ—¶æ€§è¦æ±‚é«˜ï¼Œä¸”æ•°æ®ä¼ è¾“é‡åˆä¸å¤§çš„åœºåˆã€‚ DMA å®Œå…¨ç”±ç¡¬ä»¶æ‰§è¡Œçš„I/Oäº¤æ¢æ–¹å¼ å½“å¤–è®¾å‡†å¤‡å¥½åï¼Œé€šçŸ¥DMAæ§åˆ¶å™¨ï¼ŒDMAæ§åˆ¶å™¨ä»CPUæ¥ç®¡æ€»çº¿ï¼Œå¹¶å®Œæˆå¤–è®¾å’Œå†…å­˜ä¹‹é—´çš„å¤§é‡æ•°æ®ä¼ è¾“ï¼›ä¼ è¾“å®ŒæˆåDMAæ§åˆ¶å™¨å°†æ€»çº¿æ§åˆ¶æƒäº¤è¿˜ç»™CPUï¼Œæ•´ä¸ªæ•°æ®äº¤æ¢çš„è¿‡ç¨‹ä¸éœ€è¦CPUå‚ä¸ ä¼˜ç‚¹ï¼š æ—¢æœ‰ä¸­æ–­çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶åˆé™ä½äº†æœåŠ¡å¼€é”€ã€‚ ç¼ºç‚¹ï¼š æ§åˆ¶ç”µè·¯æ›´åŠ å¤æ‚ã€‚ åº”ç”¨åœºåˆï¼š é«˜é€Ÿã€å¤§æ‰¹é‡æ•°æ®ä¼ è¾“ã€‚ DMAæ§åˆ¶å™¨çš„ä¸¤ç§å·¥ä½œçŠ¶æ€ è¢«åŠ¨æ€ï¼ˆå—æ§å™¨ï¼‰ï¼šæœªå–å¾—æ€»çº¿æ§åˆ¶æƒï¼Œå—CPUçš„æ§åˆ¶ ä¸»åŠ¨æ€ï¼ˆä¸»æ§å™¨ï¼‰ï¼šæ¥ç®¡å¹¶å–å¾—æ€»çº¿æ§åˆ¶æƒï¼Œå–ä»£CPUè€Œæˆä¸ºç³»ç»Ÿçš„ä¸»æ§è€…ã€‚ ä¼ è¾“æ­¥éª¤ ç”³è¯·é˜¶æ®µï¼šä¸€ä¸ªè®¾å¤‡æ¥å£è¯•å›¾é€šè¿‡æ€»çº¿ç›´æ¥å‘å¦ä¸€ä¸ªè®¾å¤‡å‘é€æ•°æ®(ä¸€èˆ¬æ˜¯å¤§æ‰¹é‡çš„æ•°æ®)ï¼Œå®ƒä¼šå…ˆå‘CPUå‘é€DMAè¯·æ±‚ä¿¡å· å“åº”é˜¶æ®µï¼šCPUæ”¶åˆ°DMAè¯·æ±‚ä¿¡å·åï¼Œåœ¨å½“å‰çš„æ€»çº¿å‘¨æœŸç»“æŸåï¼Œä¼šæŒ‰DMAä¿¡å·çš„ä¼˜å…ˆçº§å’Œæå‡ºDMAè¯·æ±‚çš„å…ˆåé¡ºåºå“åº”DMAä¿¡å· æ•°æ®ä¼ é€é˜¶æ®µï¼šCPUå¯¹æŸä¸ªè®¾å¤‡æ¥å£å“åº”DMAè¯·æ±‚æ—¶ï¼Œä¼šè®©å‡ºæ€»çº¿æ§åˆ¶æƒï¼›äºæ˜¯åœ¨DMAæ§åˆ¶å™¨çš„ç®¡ç†ä¸‹ï¼Œå¤–è®¾å’Œå­˜å‚¨å™¨ç›´æ¥è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œè€Œä¸éœ€CPUå¹²é¢„ ä¼ é€ç»“æŸé˜¶æ®µï¼šæ•°æ®ä¼ é€å®Œæ¯•åï¼Œè®¾å¤‡æ¥å£ä¼šå‘CPUå‘é€DMAç»“æŸä¿¡å·ï¼Œäº¤è¿˜æ€»çº¿æ§åˆ¶æƒ æ“ä½œç±»å‹ æ•°æ®ä¼ é€ï¼šæŠŠæºåœ°å€çš„æ•°æ®ä¼ è¾“åˆ°ç›®çš„åœ°å€å»ï¼ˆå­˜å‚¨å™¨æˆ–I/Oï¼‰ æ•°æ®æ ¡éªŒï¼šä¸è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œåªå¯¹æ•°æ®å—å†…éƒ¨çš„æ¯ä¸ªå­—èŠ‚è¿›è¡ŒæŸç§æ ¡éªŒï¼›è¿™ç§æ•°æ®æ ¡éªŒä¸€èˆ¬å®‰æ’åœ¨è¯»æ•°æ®å—ä¹‹åï¼Œä»¥ä¾¿æ ¡éªŒæ‰€è¯»çš„æ•°æ®æ˜¯å¦æœ‰æ•ˆ æ•°æ®æ£€ç´¢ï¼šä¸è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œåªæ˜¯åœ¨æŒ‡å®šçš„å†…å­˜åŒºåŸŸå†…æŸ¥æ‰¾æŸä¸ªå…³é”®å­—èŠ‚æˆ–æŸå‡ ä¸ªæ•°æ®ä½æ˜¯å¦å­˜åœ¨ æ“ä½œæ–¹å¼ å•å­—èŠ‚ä¼ è¾“æ¨¡å¼ å—ä¼ è¾“æ¨¡å¼ è¯·æ±‚å‚æ•°æ¨¡å¼ çº§è”ä¼ è¾“æ¨¡å¼ é€šé“å’ŒI/Oå¤„ç†æœº åœ¨å¤æ‚çš„è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œå¤–å›´è®¾å¤‡çš„å°æ•°ä¸€èˆ¬æ¯”è¾ƒå¤šï¼Œè®¾å¤‡çš„ç§ç±»ã€å·¥ä½œæ–¹å¼å’Œå·¥ä½œé€Ÿåº¦çš„å·®åˆ«å¾ˆå¤§ï¼Œä¸ºäº†æŠŠå¯¹å¤–å›´è®¾å¤‡çš„ç®¡ç†å·¥ä½œä»CPUä¸­åˆ†ç¦»å‡ºæ¥ï¼Œé‡‡ç”¨é€šé“æˆ–I/Oå¤„ç†æœºæ–¹å¼ é€šé“æ˜¯èƒ½å¤Ÿä¸“é—¨æ‰§è¡ŒI/OæŒ‡ä»¤çš„å¤„ç†æœºï¼Œå®ƒå¯ä»¥å®ç°å¯¹å¤–å›´è®¾å¤‡çš„ç»Ÿä¸€ç®¡ç†ï¼Œä»¥åŠå¤–è®¾ä¸ä¸»å­˜ä¹‹é—´çš„æ•°æ®ä¼ è¾“ I/Oå¤„ç†æœºæ˜¯é€šé“æ–¹å¼çš„è¿›ä¸€æ­¥å‘å±•ï¼Œå®ƒçš„ç»“æ„æ›´æ¥è¿‘äºä¸€èˆ¬å¤„ç†æœºã€‚ ä¸­æ–­è¯·æ±‚ä¸å“åº” ä¸­æ–­ï¼š æ˜¯æŒ‡CPUåœ¨æ­£å¸¸è¿è¡Œç¨‹åºæ—¶ï¼Œç”±äºå†…éƒ¨/å¤–éƒ¨äº‹ä»¶ï¼ˆæˆ–ç”±ç¨‹åºï¼‰å¼•èµ·CPUä¸­æ–­æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œè€Œè½¬åˆ°ä¸ºä¸­æ–­äº‹ä»¶æœåŠ¡çš„ç¨‹åºä¸­å»ï¼ŒæœåŠ¡å®Œæ¯•ï¼Œå†è¿”å›æ‰§è¡ŒåŸç¨‹åºçš„è¿™ä¸€è¿‡ç¨‹ã€‚ä¸­æ–­å…·æœ‰ éšæœºæ€§ ä¸­æ–­çš„ä½œç”¨ å®ç°ä¸»æœºä¸å¤–è®¾ä¹‹é—´çš„å¹¶è¡Œå·¥ä½œ æ•…éšœå¤„ç† å®æ—¶å¤„ç† ä¸­æ–­çš„ç±»å‹ å†…éƒ¨ä¸­æ–­ è½¯ä»¶ä¸­æ–­ å¼‚å¸¸ æ•…éšœ(Fault) é™·é˜±(Trap) ç»ˆæ­¢(Abort) å¤–éƒ¨ä¸­æ–­ å¯å±è”½ä¸­æ–­INTRï¼šç”±å¤–è®¾é€šè¿‡ä¸­æ–­è¯·æ±‚çº¿å‘å¤„ç†å™¨ç”³è¯·è€Œäº§ç”Ÿçš„ä¸­æ–­ï¼Œå¤„ç†å™¨å¯ä»¥ç”¨æŒ‡ä»¤æ¥å±è”½ï¼ˆç¦æ­¢ï¼‰ï¼Œå³ä¸å“åº”å®ƒçš„ä¸­æ–­è¯·æ±‚ ä¸å¯å±è”½ä¸­æ–­NMIï¼šç”±ç³»ç»Ÿå†…éƒ¨ç¡¬ä»¶å¼•å‘çš„ä¸­æ–­ï¼Œä¼˜å…ˆçº§é«˜äºå¤–éƒ¨ç¡¬ä»¶ä¸­æ–­ï¼Œä¸”ä¸å—ä¸­æ–­å…è®¸æ ‡å¿—ä½çš„å½±å“ï¼Œæ‰€ä»¥æ˜¯ä¸å¯å±è”½ä¸­æ–­ ä¸­æ–­çš„åŸºæœ¬åŠŸèƒ½ ä¸­æ–­è¯·æ±‚ä¿¡å·ä¿æŒä¸æ¸…é™¤ ä¸­æ–­æºè¯†åˆ« ä¸­æ–­å·ï¼š æ˜¯ç³»ç»Ÿåˆ†é…ç»™æ¯ä¸ªä¸­æ–­æºçš„ä»£å·ï¼Œä»¥ä¾¿è¯†åˆ«å’Œå¤„ç†ã€‚ä¸­æ–­å·åœ¨ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­èµ·åˆ°å¾ˆé‡è¦çš„ä½œç”¨ã€‚ ä¸­æ–­æ§åˆ¶ ä¸­æ–­è§¦å‘æ–¹å¼ï¼š æ˜¯æŒ‡å¤–è®¾ä»¥ä»€ä¹ˆé€»è¾‘ä¿¡å·å»ç”³è¯·ä¸­æ–­ï¼Œå³è¾¹æ²¿è§¦å‘å’Œç”µå¹³è§¦å‘ä¸¤ç§æ–¹å¼ ä¸­æ–­æ’é˜Ÿæ–¹å¼ï¼š å½“ç³»ç»Ÿæœ‰å¤šä¸ªä¸­æ–­æºæ—¶ï¼Œå°±å¯èƒ½å‡ºç°åŒæ—¶æœ‰å‡ ä¸ªä¸­æ–­æºéƒ½ç”³è¯·ä¸­æ–­ï¼Œè€Œå¤„ç†å™¨åœ¨ä¸€ä¸ªæ—¶åˆ»åªèƒ½å“åº”å¹¶å¤„ç†ä¸€ä¸ªä¸­æ–­è¯·æ±‚ï¼›ä¸ºæ­¤ï¼Œè¦è¿›è¡Œä¸­æ–­æ’é˜Ÿã€‚å¤„ç†å™¨æŒ‰â€œä¼˜å…ˆçº§é«˜çš„å…ˆæœåŠ¡â€çš„åŸåˆ™æä¾›æœåŠ¡ å½“CPUæ­£åœ¨å¤„ç†æŸä¸ªä¸­æ–­æ—¶ï¼Œä¼šå‡ºç°ä¼˜å…ˆçº§æ›´é«˜çš„ä¸­æ–­æºç”³è¯·ä¸­æ–­ï¼›ä¸ºäº†ä½¿æ›´ç´§æ€¥çš„ã€çº§åˆ«æ›´é«˜çš„ä¸­æ–­æºåŠæ—¶å¾—åˆ°æœåŠ¡ï¼Œéœ€è¦æš‚æ—¶æ‰“æ–­ï¼ˆæŒ‚èµ·ï¼‰å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä¸­æ–­æœåŠ¡ç¨‹åºï¼Œå»å¤„ç†çº§åˆ«æ›´é«˜çš„ä¸­æ–­è¯·æ±‚ï¼Œå¤„ç†å®Œæˆåå†è¿”å›è¢«æ‰“æ–­äº†çš„ä¸­æ–­æœåŠ¡ç¨‹åºç»§ç»­æ‰§è¡Œ ä½†çº§åˆ«ç›¸åŒæˆ–çº§åˆ«ä½çš„ä¸­æ–­æºä¸èƒ½æ‰“æ–­çº§åˆ«é«˜çš„ä¸­æ–­æœåŠ¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ä¸­æ–­åµŒå¥— å¯å±è”½ä¸­æ–­å¯ä»¥è¿›è¡Œä¸­æ–­åµŒå¥—ã€‚NMIä¸å¯ä»¥è¿›è¡Œä¸­æ–­åµŒå¥— ä¸­æ–­å±è”½ å¤„ç†å™¨ç”¨æŒ‡ä»¤æ¥æ§åˆ¶ä¸­æ–­å±è”½è§¦å‘å™¨çš„çŠ¶æ€ï¼Œä»è€Œæ§åˆ¶æ˜¯å¦æ¥å—æŸä¸ªç‰¹æ®Šå¤–è®¾çš„ä¸­æ–­è¯·æ±‚ å¤„ç†å™¨å†…éƒ¨ä¹Ÿæœ‰ä¸€ä¸ªä¸­æ–­å…è®¸è§¦å‘å™¨ï¼Œåªæœ‰å½“å…¶ä¸ºâ€œ1â€ï¼ˆå³å¼€ä¸­æ–­ï¼‰ï¼ŒCPUæ‰èƒ½å“åº”å¤–éƒ¨ä¸­æ–­ ä¸­æ–­ä¼˜å…ˆçº§ æŒ‡CPUå“åº”å’Œå¤„ç†ä¸­æ–­è¯·æ±‚çš„å…ˆåæ¬¡åº ç¡¬ä»¶å“åº”ä¼˜å…ˆåºï¼šæœªè¢«å±è”½çš„å‡ ä¸ªä¸­æ–­æºåŒæ—¶æå‡ºç”³è¯·æ—¶ï¼ŒCPUé€‰æ‹©æœåŠ¡å¯¹è±¡çš„é¡ºåºç”±ç¡¬ä»¶ç”µè·¯å®ç°ï¼Œç”¨æˆ·ä¸èƒ½ä¿®æ”¹ è½¯ä»¶æœåŠ¡ä¼˜å…ˆåºï¼šåœ¨å„ä¸­æ–­æœåŠ¡ç¨‹åºå¼€å¤´ï¼Œç”¨è½¯ä»¶è®¾ç½®è‡ªå·±çš„ä¸­æ–­å±è”½å­—ï¼Œä»¥æ­¤æ”¹å˜å®é™…æœåŠ¡é¡ºåº ä¸­æ–­çš„å¤„ç† å½“CPUæ”¶åˆ°å¤–è®¾çš„ä¸­æ–­è¯·æ±‚åï¼Œå¦‚æœå½“å‰ä¸€æ¡æŒ‡ä»¤å·²æ‰§è¡Œå®Œï¼Œä¸”å…è®¸ä¸­æ–­ï¼ŒCPUè¿›å…¥ä¸­æ–­å“åº”å‘¨æœŸï¼Œå‘å‡ºä¸­æ–­åº”ç­”ä¿¡å·å®Œæˆä¸€ä¸ªä¸­æ–­å“åº”å‘¨æœŸ è¯»å–ä¸­æ–­æºçš„ä¸­æ–­å·ï¼Œå®Œæˆä¸­æ–­ç”³è¯·ä¸ä¸­æ–­å“åº”çš„æ¡æ‰‹è¿‡ç¨‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-20 11:50:30 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºé—´çš„äº¤äº’å’Œé€šä¿¡/ç³»ç»Ÿçº§IO.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºé—´çš„äº¤äº’å’Œé€šä¿¡/ç³»ç»Ÿçº§IO.html","title":"ç³»ç»Ÿçº§IO","keywords":"","body":"ç³»ç»Ÿçº§ IO ç£ç›˜IOå·¥ä½œæœºåˆ¶ æ ‡å‡†IO æ•°æ®å†™å…¥é«˜é€Ÿé¡µç¼“å­˜ åº”ç”¨å°±è®¤ä¸ºå†™å…¥å·²ç»å®Œæˆ æ­¤æ—¶æ“ä½œç³»ç»Ÿå†å¼‚æ­¥å†™å…¥ç£ç›˜æˆ–è€…è°ƒç”¨syncå¼ºåˆ¶å†™å…¥ ç›´æ¥IO DBMSå°±é‡‡ç”¨çš„æ­¤ç§æ–¹å¼è¯»å†™æ•°æ® è¿™ç§æ–¹å¼å¦‚æœè®¿é—®çš„æ•°æ®ä¸åœ¨åº”ç”¨ç¼“å­˜ä¸­ åˆ™æ¯æ¬¡éƒ½éœ€è¦è®¿é—®ç£ç›˜ åŒæ­¥IO åªæœ‰å½“æ•°æ®è¢«æˆåŠŸå†™å…¥ç£ç›˜æ–¹æ³•æ‰ä¼šè¿”å› ä¸€èˆ¬ç”¨åœ¨å¯¹æ•°æ®å®‰å…¨æ€§è¾ƒé«˜çš„åœºæ™¯ å¼‚æ­¥IO è¯»æ•°æ®å†™æ•°æ®ä¸ä¼šé˜»å¡ è¯»æ•°æ®è°ƒç”¨ä¹‹åä¼šé©¬ä¸Šè¿”å› åº”ç”¨éœ€è¦é€šè¿‡è½®è¯¢ç­‰æ–¹å¼æ¥è¯¢é—®æ•°æ®æ˜¯å¦å°±ç»ªä»¥è·å– å†…å­˜æ˜ å°„IO å°†å†…å­˜ä¸­çš„ä¸€å—åŒºåŸŸä¸ç£ç›˜ä¸­çš„æ–‡ä»¶å…³è”èµ·æ¥ å°†åº”ç”¨å¯¹å†…å­˜çš„è®¿é—®æ˜ å°„ä¸ºå¯¹ç£ç›˜çš„è®¿é—® åŒæ­¥å¼‚æ­¥ é˜»å¡éé˜»å¡ å¼‚æ­¥ä¸éé˜»å¡è™½ç„¶èƒ½èƒ½æé«˜IOæ€§èƒ½ ä½†æ˜¯çº¿ç¨‹æ•°é‡çš„å¢åŠ ä¼šå¢åŠ CPUçš„æ¶ˆè€— å¹¶ä¸”ä¼šå¯¼è‡´è®¾è®¡å¤æ‚åº¦çš„ä¸Šå‡ UNIX IO é€šè¿‡å°†è®¾å¤‡æ˜ å°„ä¸ºä¸€ä¸ªæ–‡ä»¶æ¥æ“ä½œè®¾å¤‡ æ‰“å¼€æ–‡ä»¶ å†…æ ¸è¿”å›ä¸€ä¸ªéè´Ÿæ•´æ•° å«åšæè¿°ç¬¦ shellåˆ›å»ºçš„è¿›ç¨‹éƒ½æœ‰ä¸‰ä¸ªæ–‡ä»¶ 0 1 2 åˆ†åˆ«æ˜¯æ ‡å‡†è¾“å…¥ æ ‡æ³¨è¾“å‡º é”™è¯¯è¾“å‡º æ”¹å˜å½“å‰æ–‡ä»¶ä½ç½® åº”ç”¨ç¨‹åºå¯ä»¥æ˜¾å¼é€šè¿‡seekè®¾ç½®å½“å‰æ–‡ä»¶åç§»é‡ è¯»å†™æ–‡ä»¶ è¯»æ–‡ä»¶æ—¶ ç¨‹åºè¯»åˆ°ä¸€ä¸ªEOF ä»£è¡¨æ–‡ä»¶å·²ç»è¯»å®Œ å…³é—­æ–‡ä»¶ åº”ç”¨å®Œæˆå¯¹æ–‡ä»¶çš„è®¿é—® é€šçŸ¥å†…æ ¸å…³é—­è¿™ä¸ªæ–‡ä»¶ æè¿°ç¬¦ä¼šè¢«å›æ”¶ æ–‡ä»¶ç±»å‹ï¼š æ™®é€šæ–‡ä»¶ ç›®å½• å¥—æ¥å­— æ‰“å¼€å’Œå…³é—­ int open(char *filename,int flags,mode_t mode); int close(int fd); int fd; fd = open(\"foo.txt\", O_RDONLY, 0); close(fd); /* O_RDONLY åªè¯» O_WRONLY åªå†™ O_RDWR å¯è¯»å¯å†™ ç¬¬äºŒä¸ªå‚æ•°è¿˜å¯ä»¥é…åˆï¼š | O_CREAT å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ é‚£å°±åˆ›å»ºç©ºæ–‡ä»¶ | O_TRUNC å¦‚æœæ–‡ä»¶å­˜åœ¨ é‚£å°±æ¸…ç©ºè¿™ä¸ªæ–‡ä»¶ | APPEND å†™æ“ä½œä»¥è¿½åŠ çš„æ–¹å¼ ç¬¬ä¸‰ä¸ªå‚æ•°ä»£è¡¨äº†æ–°æ–‡ä»¶çš„è®¿é—®æƒé™ */ è¯»å†™æ–‡ä»¶ ssize_t read(int fd,void *buf,size_t n); // æœ€å¤šå¤åˆ¶bufçš„nä¸ªå­—èŠ‚åˆ°fd è¿”å›-1ä»£è¡¨å‡ºé”™ è¿”å›0ä»£è¡¨eof ssize_t write(int fd,const void *buf,size_t n); // æœ€å¤šå¤åˆ¶bufçš„nä¸ªå­—èŠ‚åˆ°fd // åœ¨ x86-64 size_t ä¸ºunsigned long // ssize_t ä¸º long RIOåŒ… è‡ªåŠ¨å¤„ç† EOF ç»ˆç«¯è¯»å–æ–‡æœ¬è¡Œ socketè¯»å–ç­‰ æ— ç¼“å†²çš„è¾“å…¥è¾“å‡ºå‡½æ•° ç›´æ¥å°†å†…å­˜ä¸æ–‡ä»¶ä¹‹é—´ä¼ é€æ•°æ® æ²¡æœ‰åº”ç”¨ç¼“å­˜ ssize_t rio_readn(int fd, void *usrbuf, size_t n); ssize_t rio_writen(int fd, void *usrbuf, size_t n); å¸¦ç¼“å†²çš„è¾“å…¥å‡½æ•° æ‹¥æœ‰åº”ç”¨çº§ç¼“å­˜ void rio_readinitb(rio_t *rp, int fd); ssize_t rio_readnb(rio_t *rp, void *usrbuf, size_t n); ssize_t rio_readlineb(rio_t *rp, void *usrbuf, size_t maxlen); #include \"csapp.h\" #include \"csapp.c\" // è¯»å–æ ‡å‡†è¾“å…¥å†™åˆ°æ ‡å‡†è¾“å‡º void main(){ int n; rio_t rio; char buf[100]; Rio_readinitb(&rio, STDIN_FILENO); while((n = Rio_readlineb(&rio, buf, 100)) != 0){ Rio_writen(STDOUT_FILENO, buf, n); } } rio_read æ˜¯æ ¸å¿ƒå‡½æ•° è¯­ä¹‰åŒLinux readå‡½æ•° è¯»å–æ–‡ä»¶å…ƒæ•°æ® int Stat(const char *filename,struct stat *buf); int fstat(int fd,struct stat *buf); struct stat stat; char *fileName = \"foo.txt\"; Stat(fileName, &stat); if (S_ISREG(stat.st_mode)) printf(\"æ™®é€šæ–‡ä»¶\"); if (S_ISDIR(stat.st_mode)) printf(\"ç›®å½•\"); if (stat.st_mode & S_IRUSR) printf(\"å¯ä»¥è®¿é—®\"); else printf(\"æ— æ³•è®¿é—®\"); è¯»å–ç›®å½•å†…å®¹ DIR *opendir(const char *name); struct dirent*readdir(DIR *dirp); #include #include #include #include #include #include #include int main(){ DIR *streamp; struct dirent *dep; //è°ƒç”¨å‡½æ•°è¿”å›DIR* æŒ‡é’ˆ streamp = opendir(\"./\"); //è®¾ç½®é”™è¯¯å·ä¸º0 errno = 0; //ä¸æ–­è°ƒç”¨readdirå‡½æ•°, ç„¶åæ‰“å°ç»“æ„ä¸­çš„æ–‡ä»¶åå’Œinode, inodeæ˜¯longç±»å‹ while ((dep = readdir(streamp)) != NULL) { printf(\"Found file: %s, INODE is %ld\\n\", dep->d_name, dep->d_ino); } //å¾ªç¯ç»“æŸåæ£€æŸ¥é”™è¯¯å· if (errno != 0) { printf(\"readdir error\"); } closedir(streamp); exit(0); } å…±äº«æ–‡ä»¶ IOé‡å®šå‘ int dup2(int ofd,int nfd); Cè¯­è¨€æ ‡å‡†IO æ ‡å‡†IOåº“å°†ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶çœ‹åšä¸€ä¸ªæµ æŸç§æ„ä¹‰ä¸Šè¿™ä¸ªæµå¼å…¨åŒå·¥çš„ ä½ å¯ä»¥åœ¨è¿™ä¸ªæµä¸Šè¯»å†™ æ‰€ä»¥åœ¨è¿›è¡Œè¯»æˆ–å†™å å¿…é¡»æ‰§è¡Œä¸€äº›æ“ä½œ åˆ‡æ¢æµçš„æ¨¡å¼ æ‰èƒ½è¿›è¡Œå¦å¤–ä¸€ç§æ“ä½œ æ‰€ä»¥socketç¼–ç¨‹ä¸é€‚åˆç”¨æ ‡å‡†IOåº“ è€Œæ˜¯ä½¿ç”¨RIO å¦‚æœæœ‰å¯èƒ½ å°±ä½¿ç”¨æ ‡å‡†IO ä¸è¦ä½¿ç”¨scanf readlineç­‰è¯»äºŒè¿›åˆ¶æ–‡ä»¶ IOè°ƒä¼˜ ç£ç›˜IO ç¼“å­˜ ä¼˜åŒ–ç£ç›˜ç®¡ç†ç³»ç»Ÿ RAID TCPç½‘ç»œ ç½‘ç»œIO å‡å°‘ç½‘ç»œäº¤äº’çš„æ¬¡æ•° å‡å°‘ç½‘ç»œä¼ è¾“æ•°æ®é‡çš„å¤§å° å‡å°‘ç¼–ç è½¬æ¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-07 12:52:41 "},"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºé—´çš„äº¤äº’å’Œé€šä¿¡/ç½‘ç»œç¼–ç¨‹.html":{"url":"è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºé—´çš„äº¤äº’å’Œé€šä¿¡/ç½‘ç»œç¼–ç¨‹.html","title":"ç½‘ç»œç¼–ç¨‹","keywords":"","body":"ç½‘ç»œç¼–ç¨‹ CSç¼–ç¨‹æ¨¡å‹ ç½‘ç»œ å…¨çƒIPå› ç‰¹ç½‘ IPåœ°å€ IPåœ°å€ï¼ˆInternet Protocol Addressï¼‰æ˜¯æŒ‡äº’è”ç½‘åè®®åœ°å€ï¼Œåˆè¯‘ä¸ºç½‘é™…åè®®åœ°å€ã€‚IPåœ°å€æ˜¯IPåè®®æä¾›çš„ä¸€ç§ç»Ÿä¸€çš„åœ°å€æ ¼å¼ï¼Œå®ƒä¸ºäº’è”ç½‘ä¸Šçš„æ¯ä¸€ä¸ªç½‘ç»œå’Œæ¯ä¸€å°ä¸»æœºåˆ†é…ä¸€ä¸ªé€»è¾‘åœ°å€ï¼Œä»¥æ­¤æ¥å±è”½ç‰©ç†åœ°å€çš„å·®å¼‚ã€‚ å› ç‰¹ç½‘åŸŸå å› ç‰¹ç½‘è¿æ¥ å¥—æ¥å­—æ¥å£ /*é€šç”¨çš„socketåœ°å€ç»“æ„ (ç”¨äºconnect, bind, å’Œaccept) */ struct sockaddr { unsigned short sa_family; /* åè®®å®¶æ— */ char sa_data[14]; /* åœ°å€æ•°æ® */ }; /* å› ç‰¹ç½‘å½¢å¼çš„socketåœ°å€ç»“æ„ */ struct sockaddr_in { unsigned short sin_family; /* åœ°å€å®¶æ—ï¼Œä¸€èˆ¬éƒ½æ˜¯AF_INET */ unsigned short sin_port; /* ç½‘ç»œå­—èŠ‚é¡ºåºï¼ˆå¤§ç«¯è¡¨ç¤ºæ³•ï¼‰çš„ç«¯å£å· */ struct in_addr sin_addr; /* ç½‘ç»œå­—èŠ‚é¡ºåºï¼ˆå¤§ç«¯è¡¨ç¤ºæ³•ï¼‰çš„IPåœ°å€ */ unsigned char sin_zero[8]; /* å¯¹sizeof(struct sockaddr)çš„å¡«è¡¥ */ }; socket å‡½æ•° #include #include int socket(int domain,int type,int protocol); // ä½¿ç”¨æ­¤å‡½æ•°åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—æè¿°ç¬¦ int connect(int clientfd,const struct socketaddr *addr,socklen_t addrlen);ã€€// å»ºç«‹ä¸æœåŠ¡ç«¯çš„è¿æ¥ int bind(int sockfd,const struct sockaddr *addr,socklen_t addrlen);ã€€// æœåŠ¡å™¨ç”¨æ¥ç»‘å®šfdä¸ç½‘ç»œåœ°å€ int listen(int sockfd,int backlog); // æœåŠ¡å™¨å°†socketfdè½¬æ¢ä¸ºä¸€ä¸ªç›‘å¬socketfd ä»è€Œæ¥å—å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ int accept(int listenfd,struct sockaddr *addr,int *addrlen); // è¿”å›å·²è¿æ¥æè¿°ç¬¦ ä¸ºä»€ä¹ˆéœ€è¦åŒºåˆ†ç›‘å¬æè¿°ç¬¦ä¸å·²è¿æ¥æè¿°ç¬¦ã€€ç­”æ¡ˆæ˜¯ä¸ºäº†å¹¶å‘ã€€æœåŠ¡å™¨ç«¯å¯ä»¥é€šè¿‡å¤šè¿›ç¨‹æˆ–è€…å¤šçº¿ç¨‹çš„æ–¹å¼å¤„ç†å¤šä¸ªå·²è¿æ¥æè¿°ç¬¦ã€€ä»è€Œå¯¹å¤šä¸ªç”¨æˆ·æä¾›æœåŠ¡ ä¸»æœºå’ŒæœåŠ¡çš„è½¬æ¢ #include #include #include int getaddrinfo(const char *host,const char *service, const struct addrinfo *hints, struct addrinfo **result); // å°†ä¸»æœºåç«¯å£å·ç­‰ä¿¡æ¯è½¬æ¢ä¸ºå¥—æ¥å­—åœ°å€ç»“æ„ void freeaddrinfo(struct addrinfo *result); const char *gai_strerror(int errorcode); int getnameinfo(const struct sockaddr *sa,socklen_t salen, char *host,size_ hostlen, char *service,size_t servlen,int flags); WEBæœåŠ¡å™¨ WEBå†…å®¹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-09 00:37:03 "},"æ•°å­—é€»è¾‘ç”µè·¯/nav.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/nav.html","title":"æ•°å­—é€»è¾‘ç”µè·¯","keywords":"","body":"æ•°å­—é€»è¾‘ç”µè·¯ æ•°å­—ç³»ç»Ÿ å¤„ç†äºŒè¿›åˆ¶ç¦»æ•£ä¿¡æ¯çš„ç³»ç»Ÿ æ¨¡æ‹Ÿä¿¡å·ã€ç¦»æ•£ä¿¡å·å’Œæ•°å­—ä¿¡å· æ•°å­—ç”µå­å­¦ å¸ƒå°”ä»£æ•° + ç”µå­ç®¡ => æ•°å­—ç”µå­å­¦ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"æ•°å­—é€»è¾‘ç”µè·¯/æ•°å­—é€»è¾‘ç”µè·¯åŸºç¡€.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/æ•°å­—é€»è¾‘ç”µè·¯åŸºç¡€.html","title":"æ•°å­—é€»è¾‘ç”µè·¯åŸºç¡€","keywords":"","body":"æ•°å­—é€»è¾‘ç”µè·¯åŸºç¡€ æ•°åˆ¶ åè¿›åˆ¶ (1) è®¡æ•°ç¬¦å·: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9. (2) è¿›ä½è§„åˆ™: é€¢åè¿›ä¸€. äºŒè¿›åˆ¶ (1) è®¡æ•°ç¬¦å·: 0, 1 ã€‚ (2) è¿›ä½è§„åˆ™: é€¢äºŒè¿›ä¸€ åå…­è¿›åˆ¶ ï¼ˆ1ï¼‰è®¡æ•°ç¬¦å·: 0,1,......,9,A,B,C,D,E,F ï¼ˆ2ï¼‰è¿›ä½è§„åˆ™: é€¢åå…­è¿›ä¸€ã€‚ å…«è¿›åˆ¶ ï¼ˆ1ï¼‰è®¡æ•°ç¬¦å·: 0,1,......,6,7ã€‚ ï¼ˆ2ï¼‰è¿›ä½è§„åˆ™: é€¢å…«è¿›ä¸€ã€‚ äºŒè¿›åˆ¶è½¬åè¿›åˆ¶ åè¿›åˆ¶è½¬äºŒè¿›åˆ¶ äºŒè¿›åˆ¶ç®—æœ¯å…ƒç®— äºŒè¿›åˆ¶åŠ æ³•è§„åˆ™ 0 + 0 = 0 0 + 1 = 1 1 + 0 = 1 1 + 1 = 10 äº§ç”Ÿè¿›ä½1 äºŒè¿›åˆ¶å‡æ³•è§„åˆ™ 0 - 0 = 0 1 - 1 = 0 1 - 0 = 1 10 - 1 = 1 äº§ç”Ÿå€Ÿä½1 äºŒè¿›åˆ¶ä¹˜æ³•è§„åˆ™ 0 Ã— 0 = 0 0 Ã— 1 = 0 1 Ã— 0 = 0 1 Ã— 1 = 1 äºŒè¿›åˆ¶é™¤æ³• è¡¥ç  åŠ æ³• å½“ä¸¤ä¸ªæ­£æ•°æˆ–è€…ä¸¤ä¸ªè´Ÿæ•°ç›¸åŠ æ—¶ï¼Œå¦‚æœç›¸åŠ ç»“æœçš„ç¬¦å·ä½ä¸ä¸¤ä¸ªç›¸åŠ æ•°çš„ç¬¦å·ä½ä¸åŒï¼Œåˆ™äº§ç”Ÿäº†æº¢å‡º äºŒ-åè¿›åˆ¶ç ï¼ˆBCDç ï¼‰ ç”¨å››ä½äºŒè¿›åˆ¶ç æ¥è¡¨ç¤ºä¸€ä½åè¿›åˆ¶æ•°å­— æ ¼é›·ç ï¼ˆGrayç ï¼‰ ç›¸é‚»ä¸¤ä¸ªä»£ç ä¹‹é—´ä»…æœ‰ä¸€ä½ä¸åŒ,å…¶ä½™å„ä½å‡ç›¸åŒ åº”ç”¨ï¼šè½´è§’ç¼–ç å™¨ ASCIIç  ç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç ï¼šASCII æ‰©å±•ASCIIç (0-255) å¥‡å¶æ ¡éªŒç  åœ¨åŸç ç»„çš„åŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ªç ä½ä½¿ç ç»„ä¸­å«1çš„ä¸ªæ•°ä¸ºå¥‡æ•°ï¼ˆç§°ä¸ºå¥‡æ ¡éªŒï¼‰æˆ–å¶æ•°ï¼ˆç§°ä¸ºå¶æ ¡éªŒï¼‰ã€‚ é€»è¾‘ä»£æ•° åœ¨é€»è¾‘ä»£æ•°ä¸­,å˜é‡å¸¸ç”¨å­—æ¯Aï¼ŒBï¼ŒC, ......ï¼ŒXï¼ŒYï¼ŒZï¼Œa, b, c ,......xï¼Œyï¼Œz ç­‰è¡¨ç¤ºï¼Œå˜é‡çš„å–å€¼åªèƒ½æ˜¯\"0\"æˆ–\"1\"ï¼Œè¿™ç§å˜é‡ç§°ä¸ºé€»è¾‘å˜é‡ é€»è¾‘ä»£æ•°ä¸­åªæœ‰ä¸‰ç§åŸºæœ¬é€»è¾‘è¿ç®—,å³\"ä¸\"ã€\"æˆ–\"ã€\"é\" ä¸é€»è¾‘è¿ç®— å®šä¹‰ï¼šåªæœ‰å†³å®šä¸€äº‹ä»¶çš„å…¨éƒ¨æ¡ä»¶éƒ½å…·å¤‡æ—¶ï¼Œè¿™ä»¶äº‹æ‰æˆç«‹ï¼›å¦‚æœæœ‰ä¸€ä¸ªæˆ–ä¸€ä¸ªä»¥ä¸Šæ¡ä»¶ä¸å…·å¤‡ï¼Œåˆ™è¿™ä»¶äº‹å°±ä¸æˆç«‹ã€‚è¿™æ ·çš„å› æœå…³ç³»ç§°ä¸º\"ä¸\"é€»è¾‘å…³ç³» æˆ–é€»è¾‘è¿ç®— å®šä¹‰ï¼šåœ¨å†³å®šä¸€äº‹ä»¶çš„å„ç§æ¡ä»¶ä¸­,åªè¦æœ‰ä¸€ä¸ªæˆ–ä¸€ä¸ªä»¥ä¸Šæ¡ä»¶å…·å¤‡æ—¶ï¼Œè¿™ä»¶äº‹å°±æˆç«‹ï¼›åªæœ‰æ‰€æœ‰çš„æ¡ä»¶éƒ½ä¸å…·å¤‡æ—¶,è¿™ä»¶äº‹æ‰ä¸æˆç«‹ã€‚è¿™æ ·çš„å› æœå…³ç³»ç§°ä¸º\"æˆ–\"é€»è¾‘å…³ç³» éé€»è¾‘è¿ç®— å®šä¹‰:å‡å®šäº‹ä»¶Fæˆç«‹ä¸å¦åŒæ¡ä»¶Açš„å…·å¤‡ä¸å¦æœ‰å…³,è‹¥Aå…·å¤‡,åˆ™Fä¸æˆç«‹ï¼›è‹¥Aä¸å…·å¤‡,åˆ™Fæˆç«‹ã€‚Få’ŒAä¹‹é—´çš„è¿™ç§å› æœå…³ç³»ç§°ä¸º\"é\"é€»è¾‘å…³ç³» å¤åˆé€»è¾‘è¿ç®— ä¸éé€»è¾‘ !(a&&b) æˆ–éé€»è¾‘ !(a||b) ä¸æˆ–éé€»è¾‘ !((a&&b)||(c&&d)) å¼‚æˆ–é€»è¾‘ (!a&&b) || (a&&!b) åŒæˆ–é€»è¾‘ !a&&!b || a&&b é€»è¾‘ç”µå¹³ æ­£é€»è¾‘ é«˜ç”µå¹³VHè¡¨ç¤ºé€»è¾‘\"1\",ä½ç”µå¹³VLè¡¨ç¤ºé€»è¾‘\"0\" è´Ÿé€»è¾‘ é«˜ç”µå¹³VHè¡¨ç¤ºé€»è¾‘\"0\",ä½ç”µå¹³VLè¡¨ç¤ºé€»è¾‘\"1\" VHå’ŒVLçš„å…·ä½“å€¼,ç”±æ‰€ä½¿ç”¨çš„é›†æˆç”µè·¯å“ç§ä»¥åŠæ‰€åŠ ç”µæºç”µå‹è€Œå®š åŸºæœ¬å®šå¾‹ ä¸¤ä¸ªå‡½æ•°çš„çœŸå€¼è¡¨ç›¸ç­‰,åˆ™è¿™ä¸¤ä¸ªå‡½æ•°ä¸€å®šç›¸ç­‰ ä¸‰æ¡è§„åˆ™ ä»£å…¥è§„åˆ™ ä»»ä½•ä¸€ä¸ªå«æœ‰å˜é‡xçš„ç­‰å¼,å¦‚æœå°†æ‰€æœ‰å‡ºç°xçš„ä½ç½®,éƒ½ç”¨ä¸€ä¸ªé€»è¾‘å‡½æ•°å¼Fä»£æ›¿,åˆ™ç­‰å¼ä»ç„¶æˆç«‹ åæ¼”è§„åˆ™ å¯¹äºä»»æ„ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼Yï¼Œå¦‚æœæŠŠYä¸­æ‰€æœ‰çš„â€œä¸â€æ¢æˆâ€œæˆ–â€ï¼Œâ€œæˆ–â€æ¢æˆâ€œä¸â€ï¼›â€œ0â€æ¢æˆâ€œ1â€ï¼Œâ€œ1â€æ¢æˆâ€œ0â€ï¼›åŸå˜é‡æ¢æˆåå˜é‡ï¼Œåå˜é‡æ¢æˆåŸå˜é‡ï¼Œå³å¾—åˆ°ä¸€ä¸ªæ–°çš„å‡½æ•°è¡¨è¾¾å¼Yéï¼Œç§°Yéä¸ºåŸå‡½æ•°Yçš„åå‡½æ•° å¯¹å¶è§„åˆ™ å¯¹äºä»»ä½•ä¸€ä¸ªé€»è¾‘è¡¨è¾¾å¼F,å¦‚æœå°†å¼ä¸­æ‰€æœ‰çš„â€œÂ·â€æ¢æˆâ€œ+â€,â€œ+â€æ¢æˆâ€œÂ·â€,â€œ0â€æ¢æˆâ€œ1â€,â€œ1â€æ¢æˆâ€œ0â€,è€Œå˜é‡ä¿æŒä¸å˜å°±å¾—åˆ°è¡¨è¾¾å¼F'ï¼Œè¿™ä¸ªè¡¨è¾¾å¼F'ç§°ä¸ºFçš„å¯¹å¶å¼ï¼Œè¿™ä¸€å˜æ¢æ–¹å¼ç§°ä¸ºå¯¹å¶è§„åˆ™ å¸¸ç”¨å…¬å¼ æ¶ˆå»å¾‹ å¸æ”¶å¾‹1 å¸æ”¶å¾‹2 åŒ…å«å¾‹ é€»è¾‘è¡¨è¾¾å¼ â€œä¸æˆ–â€å¼ æŒ‡ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ä¸­åŒ…å«è‹¥å¹²ä¸ªâ€œä¸â€é¡¹ï¼Œè¿™äº›â€œä¸â€é¡¹çš„â€œæˆ–â€è¡¨ç¤ºè¿™ä¸ªå‡½æ•° F(A,B,C,D)=A+BC+ABCD â€œæˆ–ä¸â€å¼ æŒ‡ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ä¸­åŒ…å«è‹¥å¹²ä¸ªâ€œæˆ–â€é¡¹ï¼Œè¿™äº›â€œæˆ–â€é¡¹çš„â€œä¸â€è¡¨ç¤ºè¿™ä¸ªå‡½æ•° F(A,B,C,D)=(A+C+D)(B+D)(A+B+D) æœ€å°é¡¹ä¸æœ€å¤§é¡¹ å¦‚æœä¸€ä¸ªå…·æœ‰nä¸ªå˜é‡çš„å‡½æ•°çš„â€œä¸é¡¹â€åŒ…å«å…¨éƒ¨nä¸ªå˜é‡ï¼Œæ¯ä¸ªå˜é‡ä»¥åŸå˜é‡æˆ–åå˜é‡å½¢å¼ä½œä¸ºå› å­å‡ºç°ä¸€æ¬¡ï¼Œè€Œä¸”ä»…å‡ºç°ä¸€æ¬¡ï¼Œåˆ™è¿™ç§â€œä¸é¡¹â€è¢«ç§°ä¸ºæœ€å°é¡¹ å¦‚æœä¸€ä¸ªå…·æœ‰nä¸ªå˜é‡çš„å‡½æ•°çš„â€œæˆ–é¡¹â€åŒ…å«å…¨éƒ¨ nä¸ªå˜é‡ï¼Œæ¯ä¸ªå˜é‡ä»¥åŸå˜é‡æˆ–åå˜é‡å½¢å¼ä½œä¸ºå› å­å‡ºç°ä¸€æ¬¡ï¼Œè€Œä¸”ä»…å‡ºç°ä¸€æ¬¡ï¼Œåˆ™è¿™ç§â€œæˆ–é¡¹â€è¢«ç§°ä¸ºæœ€å¤§é¡¹ã€‚ æ ‡å‡†ä¸æˆ–å¼ å¦‚æœä¸€ä¸ªé€»è¾‘è¡¨è¾¾å¼ä¸ºä¸æˆ–å¼ï¼Œè€Œä¸”å…¶ä¸­æ¯ä¸ªä¸é¡¹éƒ½æ˜¯æœ€å°é¡¹ï¼Œåˆ™ç§°è¯¥é€»è¾‘è¡¨è¾¾å¼ä¸ºæ ‡å‡†ä¸æˆ–å¼ æ ‡å‡†æˆ–ä¸å¼ å¦‚æœä¸€ä¸ªé€»è¾‘è¡¨è¾¾å¼ä¸ºæˆ–ä¸å¼ï¼Œè€Œä¸”å…¶ä¸­æ¯ä¸ªæˆ–é¡¹éƒ½æ˜¯æœ€å¤§é¡¹ï¼Œåˆ™ç§°è¯¥é€»è¾‘è¡¨è¾¾å¼ä¸ºæ ‡å‡†æˆ–ä¸å¼ çœŸå€¼è¡¨ é€ä¸ªä»£å…¥ æ±‚æœ€å°é¡¹å–å€¼ä¸º1çš„ç»„åˆ æ ¹æ®å‡½æ•°è¡¨è¾¾å¼Fçš„å«ä¹‰ï¼Œç›´æ¥å¡«è¡¨ åŒ–ç®€ èŠ‚çœå…ƒå™¨ä»¶,é™ä½ç”µè·¯å®ç°æˆæœ¬ æé«˜ç”µè·¯å·¥ä½œå¯é æ€§ åŒ–ç®€çš„æ–¹å¼ å…¬å¼æ³• å¡è¯ºå›¾æ³• æœ€ç®€ä¸æˆ–å¼çš„æ ‡å‡† æ‰€å¾—ä¸æˆ–è¡¨è¾¾å¼ä¸­ï¼Œä¹˜ç§¯é¡¹ï¼ˆä¸é¡¹ï¼‰æ•°ç›®æœ€å°‘ æ¯ä¸ªä¹˜ç§¯é¡¹ä¸­æ‰€å«çš„å˜é‡æ•°æœ€å°‘ å¡è¯ºå›¾ å¡è¯ºå›¾æ˜¯ä¸€ç§åŒ…å«ä¸€äº›å°æ–¹å—çš„å‡ ä½•å›¾å½¢,å›¾ä¸­æ¯ä¸ªå°æ–¹å—ç§°ä¸ºä¸€ä¸ªå•å…ƒ,æ¯ä¸ªå•å…ƒå¯¹åº”ä¸€ä¸ªæœ€å°é¡¹ã€‚ä¸¤ä¸ªç›¸é‚»çš„æœ€å°é¡¹åœ¨å¡è¯ºå›¾ä¸­ä¹Ÿå¿…é¡»æ˜¯ç›¸é‚»çš„ ä¸å®Œå…¨ç¡®å®šçš„é€»è¾‘å‡½æ•° åœ¨æŸäº›å®é™…æ•°å­—ç”µè·¯ä¸­,é€»è¾‘å‡½æ•°çš„è¾“å‡ºåªå’Œä¸€éƒ¨åˆ†æœ€å°é¡¹æœ‰ç¡®å®šå¯¹åº”å…³ç³»,è€Œå’Œä½™ä¸‹çš„æœ€å°é¡¹æ— å…³ã€‚æŠŠè¿™äº›æœ€å°é¡¹ç§°ä¸ºæ— å…³é¡¹ åŒ…å«æ— å…³é¡¹çš„é€»è¾‘å‡½æ•°ç§°ä¸ºä¸å®Œå…¨ç¡®å®šçš„é€»è¾‘å‡½æ•° MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-12 01:11:21 "},"æ•°å­—é€»è¾‘ç”µè·¯/é€»è¾‘é—¨ç”µè·¯.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/é€»è¾‘é—¨ç”µè·¯.html","title":"é€»è¾‘é—¨ç”µè·¯","keywords":"","body":"é€»è¾‘é—¨ç”µè·¯ å™ªå£°å®¹é™ å™ªå£°å¦¨ç¢äº†å¯¹å¾®å°æ•°å€¼çš„åŒºåˆ†èƒ½åŠ› ç®€å•çš„ç¦»æ•£æ–¹æ³• é«˜ == 5V == true ä½ == 0V == false ä½†æ˜¯ä¼šå‡ºç°2.5Væ— æ³•åŒºåˆ†çš„æƒ…å†µ æ‰€ä»¥å¼•å…¥ä¸€ä¸ªç¦åŒº å¯¹è¾“å‡ºæ›´åŠ ä¸¥æ ¼ æ•°å­—é—¨å†…éƒ¨ mosç®¡ é€»è¾‘é—¨æ¶ˆè€—çš„åŠŸç‡ åœ¨å¤§éƒ¨åˆ†å•†ç”¨é‡Œï¼Œä½¿ç”¨çš„æ˜¯CMOS CMOS TTLé—¨ç”µè·¯ CMOSæŠ€æœ¯è¿›æ­¥é£é€Ÿï¼Œååº”é€Ÿåº¦å·²ç»è¶…è¶ŠTTLï¼›è€Œä¸”CMOSå†…éƒ¨ä¸å…·æœ‰åˆ¶ä½œéº»çƒ¦çš„ç”µé˜»ï¼Œæ‰€ä»¥TTLå¯è¯´å‡ ä¹æ²¡æœ‰å‘å±•å’Œæ˜æ˜¾çš„ä¼˜åŠ¿ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-12 12:09:27 "},"æ•°å­—é€»è¾‘ç”µè·¯/ç»„åˆé€»è¾‘ç”µè·¯.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/ç»„åˆé€»è¾‘ç”µè·¯.html","title":"ç»„åˆé€»è¾‘ç”µè·¯","keywords":"","body":"ç»„åˆé€»è¾‘ç”µè·¯ ç”µè·¯åœ¨ä»»ä¸€æ—¶åˆ»çš„è¾“å‡ºä»…ç”±è¯¥æ—¶åˆ»çš„è¾“å…¥ä¿¡å·å†³å®š,è€Œä¸è¯¥æ—¶åˆ»ä»¥å‰çš„è¾“å…¥ä¿¡å·æ— å…³ ç»„åˆç”µè·¯é€šå¸¸ç”±ä¸€äº›é€»è¾‘é—¨æ„æˆ,è®¸å¤šå…·æœ‰å…¸å‹åŠŸèƒ½çš„ç»„åˆç”µè·¯å·²é›†æˆä¸ºå•†å“ç”µè·¯ï¼ˆåŠ æ³•å™¨ï¼Œè¯‘ç å™¨ï¼‰ ç«äº‰å†’é™© å®é™…ä¸Šï¼Œç”±äºé—¨ç”µè·¯å»¶è¿Ÿæ—¶é—´çš„å…³ç³»ï¼Œå¯èƒ½ä¼šä½¿é€»è¾‘ç”µè·¯äº§ç”Ÿé”™è¯¯è¾“å‡ºã€‚é€šå¸¸æŠŠè¿™ç§ç°è±¡ç§°ä¸ºç«äº‰å†’é™©ã€‚ é™æ€åŠŸèƒ½å†’é™© å½“æœ‰å¤šä¸ªå˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç¨³æ€è¾“å‡ºä¸åº”è¯¥å‘ç”Ÿå˜åŒ–ï¼Œä½†å®é™…è¾“å‡ºäº§ç”Ÿäº†æ¯›åˆº é™æ€é€»è¾‘å†’é™© å•ä¸ªå˜é‡å˜åŒ–æ—¶ï¼Œç¨³æ€è¾“å‡ºä¸åº”è¯¥å‘ç”Ÿå˜åŒ–ï¼Œä½†å®é™…è¾“å‡ºäº§ç”Ÿäº†æ¯›åˆº æ¶ˆé™¤æ–¹æ³• ä¿®æ”¹é€»è¾‘è®¾è®¡ åªé€‚ç”¨äºé€»è¾‘å†’é™© æ¥å…¥æ»¤æ³¢ç”µå®¹ å¦‚æœé€»è¾‘ç”µè·¯åœ¨è¾ƒæ…¢é€Ÿåº¦ä¸‹å·¥ä½œï¼Œä¸ºäº†æ¶ˆå»ç«äº‰å†’é™©ï¼Œå¯ä»¥åœ¨è¾“å‡ºç«¯å¹¶è”ä¸€ç”µå®¹ï¼Œå…¶å®¹é‡åœ¨å‡ å~å‡ ç™¾çš®æ³•ä¹‹é—´ï¼Œè¯¥ç”µå®¹å’Œé—¨çš„è¾“å‡ºç”µé˜»æ„æˆRCä½é€šç½‘ç»œï¼Œå¯¹çª„è„‰å†²èµ·å¹³æ»‘ä½œç”¨ åŠ é€‰é€šè„‰å†² åœ¨åŒ…å«æ—¶åºç”µè·¯çš„å¤æ‚æ•°å­—ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ç”¨æ—¶é’Ÿä¿¡å·çš„é€‚å½“å½¢å¼ä½œä¸ºé€‰é€šè„‰å†²ï¼Œæ¶ˆé™¤æ•°å­—ç³»ç»Ÿä¸­çš„ç«äº‰å†’é™© å¸¸ç”¨ç»„åˆé€»è¾‘åŠŸèƒ½å™¨ä»¶ ç¼–ç å™¨ å°†ä¿¡æ¯(å¦‚æ•°å’Œå­—ç¬¦ç­‰)è½¬æ¢æˆç¬¦åˆä¸€å®šè§„åˆ™çš„äºŒè¿›åˆ¶ä»£ç  äºŒè¿›åˆ¶ç¼–ç å™¨ è¾“å…¥äº’ç›¸æ’æ–¥çš„ç¼–ç å™¨ ä¼˜å…ˆç¼–ç å™¨ å¯¹è¾“å…¥ä¿¡å·æŒ‰è½»é‡ç¼“æ€¥æ’åº, å½“æœ‰å¤šä¸ªä¿¡å·åŒæ—¶è¾“å…¥æ—¶, åªå¯¹ä¼˜å…ˆæƒé«˜çš„ä¸€ä¸ªä¿¡å·è¿›è¡Œç¼–ç  äºŒï¼åè¿›åˆ¶ç¼–ç å™¨ è¾“å…¥: I0 ï¼ŒI1ï¼ŒI2 ï¼Œâ€¦ï¼ŒI9, è¡¨ç¤º10ä¸ªè¦æ±‚ç¼–ç çš„ä¿¡å· è¾“å‡º: BCDç ã€‚ è¯‘ç å™¨ è¯‘ç æ˜¯ç¼–ç çš„é€†è¿‡ç¨‹ï¼Œå°†ä¸€ç»„ç è½¬æ¢ä¸ºç¡®å®šä¿¡æ¯ äºŒè¿›åˆ¶è¯‘ç å™¨ äºŒï¼åè¿›åˆ¶è¯‘ç å™¨ æ•°æ®åˆ†é…å™¨ æ•°æ®åˆ†é…æ˜¯å°†ä¸€ä¸ªæ•°æ®æºè¾“å…¥çš„æ•°æ®æ ¹æ®éœ€è¦é€åˆ°ä¸åŒçš„è¾“å‡ºç«¯ä¸Šå»ï¼Œå®ç°æ•°æ®åˆ†é…åŠŸèƒ½çš„é€»è¾‘ç”µè·¯ç§°ä¸ºæ•°æ®åˆ†é…å™¨ã€‚åˆ†é…å™¨åˆå«å¤šè·¯å¤ç”¨å™¨ æ˜¾ç¤ºè¯‘ç å™¨ ä¸ƒæ®µæ•°ç æ˜¾ç¤ºå™¨ åŠå¯¼ä½“æ•°ç ç®¡ æ¶²æ™¶æ˜¾ç¤ºå™¨ åå°„å¼æ¶²æ™¶æ˜¾ç¤ºå™¨ï¼šä½¿ç”¨çš„å¯è§å…‰æ˜¯ç¯å¢ƒå…‰çº¿ èƒŒå…‰å¼æ¶²æ™¶æ˜¾ç¤ºå™¨ï¼šå¯è§å…‰ç”±åœ¨æ˜¾ç¤ºå™¨å†…ç‰¹åˆ¶çš„å°å…‰æºæä¾› è¯‘ç å™¨åº”ç”¨ å™¨å®ç°ç»„åˆé€»è¾‘å‡½æ•° è®¡ç®—æœºè¾“å…¥/è¾“å‡ºæ¥å£ æ•°æ®é€‰æ‹©å™¨ ä»å¤šè·¯è¾“å…¥æ•°æ®ä¸­é€‰æ‹©å…¶ä¸­çš„ä¸€è·¯é€è‡³è¾“å‡ºç«¯ åŠ¨æ€æ˜¾ç¤ºç”µè·¯ ä¸ƒæ®µæ•°ç ç®¡é©±åŠ¨ç”µè·¯å¯åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§ç§°ä¸ºé™æ€æ˜¾ç¤ºï¼ˆæ¯ä¸€ä¸ªæ•°ç ç®¡ç”±å•ç‹¬çš„ä¸ƒæ®µæ˜¾ç¤ºè¯‘ç å™¨é©±åŠ¨ï¼‰ï¼Œå¦ä¸€ç§ç§°ä¸ºåŠ¨æ€æ˜¾ç¤ºï¼ˆä½¿ç”¨æ•°æ®é€‰æ‹©å™¨çš„åˆ†æ—¶å¤ç”¨åŠŸèƒ½ï¼Œå°†ä»»æ„å¤šä¸ªæ•°ç ç®¡çš„æ˜¾ç¤ºé©±åŠ¨ï¼Œç”±ä¸€ä¸ªä¸ƒæ®µæ˜¾ç¤ºè¯‘ç å™¨æ¥å®Œæˆï¼‰ åŠ æ³•å™¨ ç®—æœ¯è¿ç®—ç”µè·¯çš„æ ¸å¿ƒä¸ºåŠ æ³•å™¨ åŠåŠ å™¨ ä»…è€ƒè™‘ä¸¤ä¸ªä¸€ä½äºŒè¿›åˆ¶æ•°ç›¸åŠ ï¼Œè€Œä¸è€ƒè™‘ä½ä½çš„è¿›ä½ï¼Œç§°ä¸ºåŠåŠ  å…¨åŠ å™¨ åœ¨å¤šä½æ•°ç›¸åŠ æ—¶ï¼Œé™¤è€ƒè™‘æœ¬ä½çš„ä¸¤ä¸ªåŠ æ•°å¤–ï¼Œè¿˜é¡»è€ƒè™‘ä½ä½å‘æœ¬ä½çš„è¿›ä½ ä¸²è¡Œè¿›ä½åŠ æ³•å™¨ å½“æœ‰å¤šä½äºŒè¿›åˆ¶æ•°ç›¸åŠ æ—¶ï¼Œå¯æ¨¡ä»¿ç¬”ç®—ï¼Œç”¨å…¨åŠ å™¨æ„æˆä¸²è¡Œè¿›ä½åŠ æ³•å™¨ï¼Œç»“æ„ç®€å•ï¼Œè¿ç®—é€Ÿåº¦æ…¢ å…¨å¹¶è¡ŒåŠ æ³•å™¨ é€Ÿåº¦æœ€å¿«ï¼Œç”µè·¯å¤æ‚ è¶…å‰è¿›ä½åŠ æ³•å™¨ ç”±ä¸¤ä¸ªåŠ æ•°ï¼Œé¦–å…ˆæ±‚å¾—å„ä½çš„è¿›ä½ï¼Œç„¶åå†ç»å…¨åŠ å™¨ç®—å‡ºç»“æœ æ•°å€¼æ¯”è¾ƒå™¨ ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°çš„å¤§å°æˆ–ç›¸ç­‰ æ¯”è¾ƒä¸¤ä¸ªå¤šä½æ•°ï¼Œåº”é¦–å…ˆä»é«˜ä½å¼€å§‹ï¼Œé€ä½æ¯”è¾ƒ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-16 02:51:59 "},"æ•°å­—é€»è¾‘ç”µè·¯/æ—¶åºé€»è¾‘ç”µè·¯.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/æ—¶åºé€»è¾‘ç”µè·¯.html","title":"æ—¶åºé€»è¾‘ç”µè·¯","keywords":"","body":"æ—¶åºé€»è¾‘ç”µè·¯ ç”µè·¯åœ¨ä»»ä½•æ—¶å€™çš„è¾“å‡ºç¨³å®šå€¼ï¼Œä¸ä»…ä¸è¯¥æ—¶åˆ»çš„è¾“å…¥ä¿¡å·æœ‰å…³ï¼Œè€Œä¸”ä¸è¯¥æ—¶åˆ»ä»¥å‰çš„ç”µè·¯çŠ¶æ€æœ‰å…³ï¼›ç”µè·¯ç»“æ„å…·æœ‰åé¦ˆå›è·¯ å­˜å‚¨ç”µè·¯ å­˜å‚¨ç”µè·¯ç”±å­˜å‚¨å™¨ä»¶ç»„æˆï¼Œèƒ½å­˜å‚¨ä¸€ä½äºŒå€¼ä¿¡å·çš„å­˜å‚¨å™¨ä»¶ç§°ä¸ºå­˜å‚¨å•å…ƒç”µè·¯ã€‚å­˜å‚¨å•å…ƒç”µè·¯å¤§å¤šæ˜¯åŒç¨³æ€ç”µè·¯ é”å­˜å™¨ è§¦å‘å™¨ åˆ†ç±» æŒ‰å­˜å‚¨ç”µè·¯ä¸­å­˜å‚¨å•å…ƒçŠ¶æ€æ”¹å˜çš„ç‰¹ç‚¹åˆ†ç±» åŒæ­¥æ—¶åºç”µè·¯ å¼‚æ­¥æ—¶åºç”µè·¯ æŒ‰è¾“å‡ºä¿¡å·çš„ç‰¹ç‚¹åˆ†ç±» ç±³é‡Œ(Mealy)å‹: è¾“å‡ºä¿¡å·ä¸ä»…ä»…å–å†³äºå­˜å‚¨ç”µè·¯çš„çŠ¶æ€ï¼Œè€Œä¸”è¿˜å–å†³äºå¤–éƒ¨è¾“å…¥ä¿¡å· æ‘©å°”(Moore)å‹: è¾“å‡ºä¿¡å·ä»…ä»…å–å†³äºå­˜å‚¨ç”µè·¯çš„çŠ¶æ€ï¼Œè€Œå’Œè¯¥æ—¶åˆ»çš„å¤–éƒ¨è¾“å…¥ä¿¡å·æ— å…³ æŒ‰é€»è¾‘åŠŸèƒ½åˆ†ç±» è®¡æ•°å™¨ å¯„å­˜å™¨ ç§»ä½å¯„å­˜å™¨ RSé”å­˜å™¨ æˆ–éé—¨æ„é€ çš„é”å­˜å™¨ ä¸éé—¨ SD â€”ç½®ä½ç«¯(ç½®1ç«¯) RD â€”å¤ä½ç«¯(ç½®0ç«¯) é—¨æ§é”å­˜å™¨ å½“C=1æ—¶: é—¨æ§RSé”å­˜å™¨åŠŸèƒ½å’ŒRSé”å­˜å™¨å®Œå…¨ç›¸åŒ å½“C=0æ—¶: RD=SD=0ï¼Œé”å­˜å™¨çŠ¶æ€ä¿æŒä¸å˜ é—¨æ§ D é”å­˜å™¨ å½“C=0æ—¶ï¼ŒRD=SD=1ï¼Œç”µè·¯å¤„äºä¿æŒçŠ¶æ€; å½“C=1æ—¶ï¼ŒRD=D, SD=Dï¼Œç”µè·¯çš„æ–°çŠ¶æ€ä¸ºD è§¦å‘å™¨ åˆ©ç”¨ä¸€ä¸ªç§°ä¸ºâ€œæ—¶é’Ÿâ€çš„ç‰¹æ®Šå®šæ—¶æ§åˆ¶ä¿¡å·å»é™åˆ¶å­˜å‚¨å•å…ƒçŠ¶æ€çš„æ”¹å˜æ—¶é—´,å…·æœ‰è¿™ç§ç‰¹ç‚¹çš„å­˜å‚¨å•å…ƒç”µè·¯ç§°ä¸ºè§¦å‘å™¨ï¼ˆFFï¼šFlip-Flopï¼‰ è¾¹æ²¿Dè§¦å‘å™¨ è´Ÿè¾¹æ²¿JKè§¦å‘å™¨ è§¦å‘å™¨è„‰å†²å·¥ä½œç‰¹æ€§ å»ºç«‹æ—¶é—´ ä¸ºä½¿è§¦å‘å™¨åšå¥½è§¦å‘å‡†å¤‡ï¼Œè¦æ±‚è¾“å…¥ä¿¡å·åœ¨æ—¶é’Ÿè„‰å†²çš„è¾¹æ²¿åˆ°æ¥ä¹‹å‰ï¼Œæå‰ä¸€æ®µæ—¶é—´åˆ°æ¥ï¼Œæå‰çš„è¿™æ®µæ—¶é—´å«å»ºç«‹æ—¶é—´ï¼Œç”¨tsetè¡¨ç¤ºã€‚ ä¿æŒæ—¶é—´ ä¸ºäº†ä¿è¯è§¦å‘å™¨å¯é ç¿»è½¬ï¼Œåœ¨æ—¶é’Ÿè„‰å†²åˆ°è¾¾åï¼Œè¾“å…¥ä¿¡å·å¿…é¡»ç»´æŒä¸€æ®µæ—¶é—´ä¸å˜ã€‚è¿™æ®µæ—¶é—´ç§°ä¸ºä¿æŒæ—¶é—´ï¼Œç”¨thè¡¨ç¤º ä¼ è¾“å»¶è¿Ÿæ—¶é—´ ä»æ—¶é’Ÿè„‰å†²è¾¹æ²¿åˆ°è§¦å‘å™¨çš„æ–°çŠ¶æ€ç¨³å®šå»ºç«‹èµ·æ¥ï¼Œæ‰€éœ€è¦çš„æ—¶é—´å«åšä¼ è¾“å»¶è¿Ÿæ—¶é—´ æœ€é«˜æ—¶é’Ÿé¢‘ç‡ åœ¨ä¿è¯è§¦å‘å™¨å¯é ç¿»è½¬çš„æ¡ä»¶ä¸‹ï¼Œ æ‰€å…è®¸çš„æ—¶é’Ÿé¢‘ç‡æœ‰ä¸€ä¸ªä¸Šé™å€¼ ï¼ˆæœ€é«˜é¢‘ç‡ï¼‰ ï¼Œè¯¥ä¸Šé™å€¼å³ä¸ºè§¦å‘å™¨çš„æœ€é«˜æ—¶é’Ÿé¢‘ç‡ï¼Œç”¨fmaxè¡¨ç¤º é”å­˜å™¨åº”ç”¨ æ¶ˆé¢¤å¼€å…³ è§¦å‘å™¨åº”ç”¨ å•è„‰å†²å‘ç”Ÿå™¨ åŒæ­¥æ—¶åºç”µè·¯ åˆ†æ åªè¦çŸ¥é“äº†åœ¨å½“å‰çŠ¶æ€ä¸‹å„è§¦å‘å™¨çš„è¾“å…¥ï¼ˆå³é©±åŠ¨ä¿¡å·ï¼‰ï¼Œå°±èƒ½æ ¹æ®è§¦å‘å™¨çš„ç‰¹æ€§æ–¹ç¨‹ï¼Œæ±‚å¾—ç”µè·¯çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œæœ€ç»ˆæ‰¾åˆ°ç”µè·¯çš„çŠ¶æ€è½¬æ¢è§„å¾‹ è®¾è®¡ æ ¹æ®é€»è¾‘åŠŸèƒ½è¦æ±‚ï¼Œå»ºç«‹åŸå§‹çŠ¶æ€è¡¨æˆ–åŸå§‹çŠ¶æ€å›¾; åˆ©ç”¨çŠ¶æ€åŒ–ç®€æŠ€æœ¯ï¼Œç®€åŒ–åŸå§‹çŠ¶æ€è¡¨ï¼Œæ¶ˆå»å¤šä½™çŠ¶æ€; çŠ¶æ€åˆ†é…æˆ–çŠ¶æ€ç¼–ç ï¼Œå³å°†ç®€åŒ–åçš„çŠ¶æ€ç”¨äºŒè¿›åˆ¶ ä»£ç è¡¨ç¤º; é€‰æ‹©è§¦å‘å™¨ç±»å‹ï¼Œå¹¶æ ¹æ®ç¼–ç åçš„çŠ¶æ€è¡¨æ±‚å‡ºé©±åŠ¨æ–¹ç¨‹å’Œè¾“å‡ºæ–¹ç¨‹; æ£€æŸ¥è‡ªå¯åŠ¨æ€§, è‹¥æ‰€è®¾è®¡ç”µè·¯ä¸­å­˜åœ¨æ— æ•ˆçŠ¶æ€, åˆ™å¿…é¡»æ£€æŸ¥ç”µè·¯èƒ½å¦è‡ªå¯åŠ¨, å¦‚æœä¸èƒ½è‡ªå¯åŠ¨, åˆ™éœ€ä¿®æ”¹è®¾è®¡; ç”»å‡ºé€»è¾‘å›¾ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-17 11:54:25 "},"æ•°å­—é€»è¾‘ç”µè·¯/æ—¶åºé€»è¾‘åŠŸèƒ½æ¨¡å—.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/æ—¶åºé€»è¾‘åŠŸèƒ½æ¨¡å—.html","title":"æ—¶åºé€»è¾‘åŠŸèƒ½æ¨¡å—","keywords":"","body":"æ—¶åºé€»è¾‘åŠŸèƒ½æ¨¡å— è®¡æ•°å™¨ è®¡æ•°å™¨é™¤äº†ç›´æ¥ç”¨äºè®¡æ•°å¤–, è¿˜å¯ä»¥ç”¨äºå®ç°å®šæ—¶å™¨ã€åˆ†é¢‘å™¨ã€ç¨‹åºæ§åˆ¶å™¨ã€ä¿¡å·å‘ç”Ÿå™¨ç­‰æ—¶åºç”µè·¯ å¼‚æ­¥äºŒè¿›åˆ¶è®¡æ•°å™¨ äºŒè¿›åˆ¶åŠ æ³•è®¡æ•°è§„åˆ™:å¦‚æœä½ä½å·²ç»ä¸º1,åˆ™å†è®°å…¥1æ—¶å°±åº”å›åˆ°0,åŒæ—¶å‘é«˜ä½é€å‡ºè¿›ä½ä¿¡å· å¼‚æ­¥åè¿›åˆ¶è®¡æ•°å™¨ åŒæ­¥äºŒè¿›åˆ¶è®¡æ•°å™¨ nä½äºŒè¿›åˆ¶è®¡æ•°å™¨ç”¨nä¸ªå­˜å‚¨å•å…ƒç”µè·¯ç»„æˆï¼Œå­˜å‚¨å•å…ƒçš„çŠ¶æ€è¡¨ç¤ºäºŒè¿›åˆ¶æ•°ï¼Œå­˜å‚¨å•å…ƒç”±è§¦å‘å™¨å®ç° åŒæ­¥åè¿›åˆ¶è®¡æ•°å™¨ å¯é€†è®¡æ•°å™¨ æœ‰åŠ å‡æ§åˆ¶çš„å¯é€†è®¡æ•°å™¨: è¿™ç§ç”µè·¯æœ‰ä¸€ä¸ªCLKè„‰å†²è¾“å…¥ç«¯, æœ‰ä¸€ä¸ªåŠ å‡æ§åˆ¶ç«¯, ç”µè·¯ä½œä½•ç§è®¡æ•°, ç”±åŠ å‡æ§åˆ¶ç«¯çš„æ§åˆ¶ä¿¡å·æ¥å†³å®š åŒæ—¶é’Ÿå¯é€†è®¡æ•°å™¨: è¿™ç§ç”µè·¯æœ‰ä¸¤ä¸ªCLKè„‰å†²è¾“å…¥ç«¯,ç”µè·¯ä½œä¸åŒè®¡æ•°æ—¶, åˆ†åˆ«ä»ä¸åŒçš„CLKç«¯è¾“å…¥ åº”ç”¨ åœ¨æ•°å­—ä¿¡å·çš„ä¼ è¾“å’Œæ•°å­—ç³»ç»Ÿçš„æµ‹è¯•ä¸­ï¼Œæœ‰æ—¶éœ€è¦ç”¨åˆ°ä¸€ç»„ç‰¹å®šçš„ä¸²è¡Œæ•°å­—ä¿¡å·ã€‚é€šå¸¸æŠŠè¿™ç§ä¸²è¡Œæ•°å­—ä¿¡å·ç§°ä¸ºåºåˆ—ä¿¡å·ã€‚äº§ç”Ÿåºåˆ—ä¿¡å·çš„ç”µè·¯ç§°ä¸ºåºåˆ—ä¿¡å·å‘ç”Ÿå™¨ å¯„å­˜å™¨ æš‚æ—¶å­˜æ”¾ä¸€ç»„äºŒè¿›åˆ¶æ•°ç çš„æ•°å­—ç”µè·¯æˆ–å™¨ä»¶ ç§»ä½å¯„å­˜å™¨ é™¤äº†å¯„å­˜å™¨çš„åŠŸèƒ½å¤–ï¼Œå­˜æ”¾çš„äºŒè¿›åˆ¶æ•°ç å¯ä»¥è¿›è¡Œç§»ä½ ç§»ä½å¯„å­˜å™¨å‹è®¡æ•°å™¨ æ˜¯æŒ‡åœ¨ç§»ä½å¯„å­˜å™¨çš„åŸºç¡€ä¸ŠåŠ åé¦ˆç”µè·¯è€Œæ„æˆçš„å…·æœ‰ç‰¹æ®Šç¼–ç çš„åŒæ­¥è®¡æ•°å™¨ ç§»ä½å¯„å­˜å™¨å‹åºåˆ—ä¿¡å·å‘ç”Ÿå™¨ å°†ç§»ä½å¯„å­˜å™¨å’Œå¤–å›´ç»„åˆç”µè·¯æ„æˆä¸€ä¸ªç§»ä½å¯„å­˜å™¨å‹è®¡æ•°å™¨ï¼Œä½¿è¯¥è®¡æ•°å™¨çš„æ¨¡å’Œè¦äº§ç”Ÿçš„åºåˆ—ä¿¡å·çš„é•¿åº¦ç›¸ç­‰ï¼Œå¹¶ä½¿ç§»ä½å¯„å­˜å™¨çš„ä¸²è¡Œè¾“å…¥ä¿¡å·Fï¼ˆå³ç»„åˆç”µè·¯çš„è¾“å‡ºä¿¡å·ï¼‰å’Œæ‰€è¦äº§ç”Ÿçš„åºåˆ—ä¿¡å·ç›¸ä¸€è‡´ åº”ç”¨ å¯ç¼–ç¨‹åˆ†é¢‘å™¨ ä¸²è¡ŒåŠ æ³•å™¨ ä¸²è¡Œç´¯åŠ å™¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-19 12:04:28 "},"æ•°å­—é€»è¾‘ç”µè·¯/åŠå¯¼ä½“å­˜å‚¨å™¨.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/åŠå¯¼ä½“å­˜å‚¨å™¨.html","title":"åŠå¯¼ä½“å­˜å‚¨å™¨","keywords":"","body":"åŠå¯¼ä½“å­˜å‚¨å™¨ åŸºç¡€ å†…å­˜ä»¥å•ä½å­˜å‚¨æ•°æ®ï¼ŒäºŒè¿›åˆ¶æ•°æ®æœ€å°çš„å•ä½æ˜¯ä½ï¼› è®¸å¤šåº”ç”¨ä¸­ï¼Œä»¥8ä½ï¼ˆæˆ–è€…å¤šä¸ª8ä½ï¼‰çš„å•å…ƒå¤„ç†æ•°æ®ï¼Œ8ä½å•å…ƒç§°ä¸ºå­—èŠ‚ ï¼› å†…å­˜é˜µåˆ—ä¸­æ•°æ®å•å…ƒçš„ä½ç½®ç§°ä¸ºåœ°å€ï¼› å†…å­˜å¯ä»¥å­˜å‚¨çš„æ•°æ®å•ä½æ€»æ•°ç§°ä¸ºå®¹é‡ï¼› åŸºæœ¬çš„å†…å­˜æ“ä½œåˆ†ä¸ºå†™å’Œè¯» æ“ä½œ å†™æ“ä½œ è¯»æ“ä½œ éšæœºå­˜å–å­˜å‚¨å™¨ éšæœºå­˜å– (random access)ï¼šæŒ‡çš„æ˜¯å½“å­˜å‚¨å™¨ä¸­çš„æ¶ˆæ¯è¢«è¯»å–æˆ–å†™å…¥æ—¶ï¼Œæ‰€éœ€è¦çš„æ—¶é—´ä¸è¿™æ®µä¿¡æ¯æ‰€åœ¨çš„ä½ç½®æ— å…³ æ˜“å¤±æ€§ (volatile memory) ï¼šå½“ç”µæºå…³é—­æ—¶RAMä¸èƒ½ä¿ç•™æ•°æ® RAMçš„ç»“æ„ SRAM Static Random Access Memory, SRAM æ‰€è°“çš„â€œé™æ€â€ï¼Œæ˜¯æŒ‡è¿™ç§å­˜å‚¨å™¨åªè¦ä¿æŒé€šç”µï¼Œé‡Œé¢å‚¨å­˜çš„æ•°æ®å°±å¯ä»¥ä¸€ç›´ä¿æŒ SRAMåŸºæœ¬å­˜å‚¨å•å…ƒç”±ä¸¤ä¸ªCMOSåç›¸å™¨ç»„æˆã€‚ä¸¤ä¸ªåç›¸å™¨çš„è¾“å…¥ã€è¾“å‡ºäº¤å‰è¿æ¥ã€‚è¿™å°±èƒ½å®ç°ä¸¤ä¸ªåç›¸å™¨çš„è¾“å‡ºçŠ¶æ€çš„é”å®šã€ä¿å­˜ï¼Œå³å‚¨å­˜äº†1ä¸ªä½å…ƒçš„çŠ¶æ€ åŸºæœ¬çš„SRAMé˜µåˆ— DRAM Dynamic Random Access Memory, DRAM DRAMåˆ©ç”¨ç”µå®¹å­˜å‚¨ç”µè·çš„å¤šå¯¡æ¥ä»£è¡¨äºŒè¿›åˆ¶æ¯”ç‰¹1æˆ–0ã€‚ ç”±äºç”µå®¹ä¼šæœ‰æ¼ç”µçš„ç°è±¡ï¼Œå¯¼è‡´ç”µä½å·®ä¸è¶³è€Œä½¿è®°å¿†æ¶ˆå¤±ï¼Œå› æ­¤é™¤éç”µå®¹ç»å¸¸å‘¨æœŸæ€§åœ°å……ç”µï¼Œå¦åˆ™æ— æ³•ç¡®ä¿è®°å¿†é•¿å­˜ æ‰€è°“çš„â€œåŠ¨æ€â€ï¼Œæ˜¯æŒ‡è¿™ç§è¿™ç§éœ€è¦å®šæ—¶åˆ·æ–°çš„ç‰¹æ€§ SRAM vs. DRAM DRAMç»“æ„ç®€å•ï¼Œä¸€èˆ¬éƒ½æ‹¥æœ‰éå¸¸é«˜çš„å¯†åº¦ï¼Œæˆæœ¬è¾ƒä½ã€‚ä½†DRAMä¹Ÿæœ‰è®¿é—®é€Ÿåº¦è¾ƒæ…¢ï¼Œè€—ç”µé‡è¾ƒå¤§çš„ç¼ºç‚¹ã€‚é€‚åˆç”¨äºé«˜å‚¨å­˜å¯†åº¦ä½æˆæœ¬çš„åœºåˆï¼Œä¾‹å¦‚æœ€å¸¸è§çš„PCå†…å­˜ SRAMæ¯”DRAMå ç”¨é¢ç§¯æ›´å¤§ï¼Œå› æ­¤æ›´ä¸ºæ˜‚è´µï¼›ä½†æ›´ä¸ºå¿«é€Ÿï¼Œä¸”åŠŸè€—éå¸¸ä½ï¼ˆç‰¹åˆ«æ˜¯åœ¨ç©ºé—²çŠ¶æ€ï¼‰ã€‚ä¸€èˆ¬ç”¨äºCPUæˆ–è€…GPUçš„é«˜é€Ÿç¼“å­˜ åªè¯»å­˜å‚¨å™¨ ROMå­˜å‚¨çš„å†…å®¹ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸ä¼šæ”¹å˜ (Nonvolatile) ç”µè„‘ä¸ç”¨æˆ·åªèƒ½è¯»å–ä¿å­˜åœ¨ROMçš„æŒ‡ä»¤ï¼Œä½¿ç”¨å­˜å‚¨åœ¨ROMçš„æ•°æ®ï¼Œä½†ä¸èƒ½å˜æ›´æˆ–å­˜å…¥æ•°æ® ROMè¢«å­˜å‚¨åœ¨ä¸€ä¸ªéæ˜“å¤±æ€§èŠ¯ç‰‡ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿åœ¨å…³æœºä¹‹åè®°å¿†çš„å†…å®¹ä»å¯ä»¥è¢«ä¿å­˜ ROMå¯ä»¥ç”¨æ¥å®ç°é€»è¾‘å‡½æ•° ROMå®¶æ— ROMå­˜å‚¨å•å…ƒ ROMé˜µåˆ— å¯ç¼–ç¨‹åªè¯»å­˜å‚¨å™¨ PROM éœ€è¦å­˜0æ—¶ï¼Œé€šè¿‡ç¼–ç¨‹ï¼Œçƒ§æ–­ç†”ä¸ï¼›å½“éœ€å­˜1æ—¶ï¼Œä¿ç•™ç†”ä¸ ç¼–ç¨‹ä¸ºä¸€æ¬¡æ€§çš„ï¼Œçƒ§æ–­çš„ç†”ä¸ä¸èƒ½å†æ¥ä¸Š å¯æ“¦é™¤å¯ç¼–ç¨‹åªè¯»å­˜å‚¨ Erasable Programmable Read Only Memory, EPROM ä¸€ç»„æµ®æ …æ™¶ä½“ç®¡ï¼Œè¢«ä¸€ä¸ªç”µå­ç”µè·¯ä¸­å¸¸ç”¨ç”µå‹æ›´é«˜ç”µå‹çš„ç”µå­å™¨ä»¶åˆ†åˆ«ç¼–ç¨‹ ä¸€æ—¦ç¼–ç¨‹å®Œæˆåï¼ŒEPROMåªèƒ½ç”¨å¼ºç´«å¤–çº¿ç…§å°„æ¥æ“¦é™¤ ç”µå­æŠ¹é™¤å¼å¯ç¼–ç¨‹åªè¯»å­˜å‚¨å™¨ Electrically-Erasable Programmable Read-Only Memoryï¼ŒEEPROM é€šè¿‡ç”µå­æ–¹å¼å¤šæ¬¡å¤å†™çš„åŠå¯¼ä½“å­˜å‚¨è®¾å¤‡ ç›¸æ¯”EPROMï¼ŒEEPROMä¸éœ€è¦ç”¨ç´«å¤–çº¿ç…§å°„ï¼Œä¹Ÿä¸éœ€å–ä¸‹ï¼Œå°±å¯ä»¥ç”¨ç‰¹å®šçš„ç”µå‹ï¼Œæ¥æŠ¹é™¤èŠ¯ç‰‡ä¸Šçš„ä¿¡æ¯ï¼Œä»¥ä¾¿å†™å…¥æ–°çš„æ•°æ® å¹¿æ³›ç”¨äºéœ€è¦ç»å¸¸æ“¦é™¤çš„BIOSèŠ¯ç‰‡ä»¥åŠé—ªå­˜èŠ¯ç‰‡ï¼Œå®ƒä¸é«˜é€ŸRAMæˆä¸ºå½“å‰ï¼ˆ21ä¸–çºª00å¹´ä»£åï¼‰æœ€å¸¸ç”¨ä¸”å‘å±•æœ€å¿«çš„ä¸¤ç§å­˜å‚¨æŠ€æœ¯ å¿«é—ªå­˜å‚¨å™¨ Flash Memory åœ¨æŠ€æœ¯ä¸Šå±äºEEPROM ä¸€ç§ç‰¹æ®Šçš„ã€ä»¥å®å—æŠ¹å†™çš„EEPROM æˆæœ¬è¾ƒå¯ä»¥å­—èŠ‚ä¸ºå•ä½å†™å…¥çš„EEPROMä½å¾ˆå¤š å­˜å‚¨å™¨åœ°å€è¯‘ç  RAMçš„äºŒç»´è¯‘ç ç»“æ„ ä¸€ä¸ª64kDRAMçš„åœ°å€å¤ç”¨ç¤ºæ„ å­˜å‚¨å™¨æ‰©å±• ä½æ‰©å±• å­—æ‰©å±• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-20 01:21:50 "},"æ•°å­—é€»è¾‘ç”µè·¯/å¯ç¼–ç¨‹é€»è¾‘å™¨ä»¶.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/å¯ç¼–ç¨‹é€»è¾‘å™¨ä»¶.html","title":"å¯ç¼–ç¨‹é€»è¾‘å™¨ä»¶","keywords":"","body":"å¯ç¼–ç¨‹é€»è¾‘å™¨ä»¶ é€šç”¨æ€§å¼ºï¼Œä½†é€»è¾‘åŠŸèƒ½è¾ƒç®€å•ã€ä¸”å›ºå®šä¸å˜ ;æ„æˆçš„ç³»ç»ŸåŠŸè€—ä½“ç§¯å¤§ã€å¯é æ€§å·®;ä¸­ã€å°è§„æ¨¡æ•°å­—é›†æˆç”µè·¯éƒ½å±äºé€šç”¨å‹ ä¸ºæŸç§ä¸“é—¨ç”¨é€”è€Œè®¾è®¡çš„é›†æˆç”µè·¯ï¼›æˆæœ¬è¾ƒé«˜ã€å‘¨æœŸè¾ƒé•¿ PLDå™¨ä»¶çš„è¿æ¥ å¯ç¼–ç¨‹é€»è¾‘é˜µåˆ—(PLA) å¯ç¼–ç¨‹é˜µåˆ—é€»è¾‘(PAL) PLAåˆæ…¢åˆè´µåˆå¤§ï¼› æˆ–é˜µåˆ—å›ºå®šï¼Œä¸é˜µåˆ—å¯ç¼–ç¨‹ï¼› Programmable logic planeä¸Output logicä¸¤éƒ¨åˆ† é€Ÿåº¦å¿«ï¼Œè´¹ç”¨ä½ï¼Œæ˜“äºç¼–ç¨‹ï¼› ä½¿ç”¨ç¡¬ä½“æè¿°è¯­è¨€ï¼Œä¾‹å¦‚Data I/Oçš„ABELï¼Œæˆ–MMIçš„ PALASMç¼–ç¨‹ ç°åœºå¯ç¼–è¾‘é—¨é˜µåˆ— Field Programmable Gate Arrayï¼Œç¼©å†™ä¸ºFPGA åŠå®šåˆ¶ï¼Œæ—¢è§£å†³äº†å…¨å®šåˆ¶ç”µè·¯çš„ä¸è¶³ï¼Œåˆå…‹æœäº†åŸæœ‰å¯ç¼–ç¨‹é€»è¾‘å™¨ä»¶é—¨ç”µè·¯æ•°æœ‰é™çš„ç¼ºç‚¹ ç¡¬ä»¶æè¿°è¯­è¨€ï¼ˆVerilogæˆ–VHDLï¼‰æè¿°é€»è¾‘ç”µè·¯ï¼Œå¯ä»¥åˆ©ç”¨ç»¼åˆå’Œå¸ƒå±€ã€å¸ƒçº¿å·¥å…·è½¯ä»¶ï¼Œå¿«é€Ÿåœ°çƒ§å½•è‡³FPGAä¸Šï¼› è®¾è®¡å¸ˆå¯ä»¥æ ¹æ®éœ€è¦ï¼Œé€šè¿‡å¯ç¼–è¾‘çš„è¿æ¥ï¼ŒæŠŠFPGAå†…éƒ¨çš„é€»è¾‘å—è¿æ¥èµ·æ¥ å¥½åƒä¸€ä¸ªç”µè·¯è¯•éªŒæ¿è¢«æ”¾åœ¨äº†ä¸€ä¸ªèŠ¯ç‰‡é‡Œ FPGAè®¾è®¡æµç¨‹ è®¾è®¡è¾“å…¥ åŸç†å›¾ ç¡¬ä»¶æè¿°è¯­è¨€ åŠŸèƒ½ä»¿çœŸå’Œç»¼åˆ éªŒè¯è®¾è®¡æ˜¯å¦æ»¡è¶³è®¾è®¡åŠŸèƒ½è¦æ±‚ ä¼˜åŒ– å¸ƒå±€å¸ƒçº¿å’Œæ—¶åºä»¿çœŸ æ˜ å°„åˆ°å…·ä½“çš„ç›®æ ‡ç¡¬ä»¶ä¸Šï¼Œä¹Ÿç§°å¸ƒå±€ã€å¸ƒçº¿ å®ç°ä¹‹åï¼Œä¸‹è½½ä¹‹å‰ï¼Œè€ƒè™‘å®é™…é—¨çš„å»¶è¿Ÿï¼Œæ¥é˜²æ­¢æ—¶åºé”™è¯¯ã€‚åŠŸèƒ½ä»¿çœŸå¯ä»¥ä¸æŒ‡å®šç¡¬ä»¶ï¼Œæ—¶åºä»¿çœŸå¿…é¡»æŒ‡å®š ä¸‹è½½ å†™å…¥åˆ°è®¾å¤‡ ç¡¬ä»¶æè¿°è¯­è¨€HDL æè¿°ç”µå­ç”µè·¯ï¼ˆç‰¹åˆ«æ˜¯æ•°å­—ç”µè·¯ï¼‰åŠŸèƒ½ã€è¡Œä¸ºçš„è¯­è¨€ å¯„å­˜å™¨ä¼ è¾“çº§ã€è¡Œä¸ºçº§ã€é€»è¾‘é—¨çº§ç­‰å¯¹æ•°å­—ç”µè·¯ç³»ç»Ÿè¿›è¡Œæè¿° ç¡¬ä»¶æè¿°è¯­è¨€å’Œä¼ ç»Ÿçš„è½¯ä»¶ç¼–ç¨‹è¯­è¨€æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼Œå‰è€…èƒ½å¤Ÿå¯¹äºç¡¬ä»¶ç”µè·¯çš„æ—¶åºç‰¹æ€§è¿›è¡Œæè¿° ç¡¬ä»¶æè¿°è¯­è¨€æ˜¯æ„æˆç”µå­è®¾è®¡è‡ªåŠ¨åŒ–(EDA)ä½“ç³»çš„é‡è¦éƒ¨åˆ† å¯ä»¥æè¿°å°åˆ°ç®€å•çš„è§¦å‘å™¨ï¼Œå¤§åˆ°å¤æ‚çš„è¶…å¤§è§„æ¨¡é›†æˆç”µè·¯ å¸¸è§çš„ç¡¬ä»¶æè¿°è¯­è¨€ï¼šVerilogã€VHDL Verilog æ¨¡å‹ æ¨¡å—æ˜¯Verilogè¯­è¨€çš„åŸºæœ¬ç»„æˆå•å…ƒï¼Œæ¨¡å—å¯ä»¥ç”¨ä¸‹é¢ä»»ä½•ä¸€ç§å»ºæ¨¡æ–¹æ³•ï¼ˆæˆ–ä¸€ä¸ªç»„åˆï¼‰æ¥æè¿° ç”¨å®ä¾‹åŒ–(instantiation)é¢„å®šä¹‰åŸºæœ¬é€»è¾‘é—¨(primitive gates)æˆ–ç”¨æˆ·è‡ªå®šä¹‰çš„é—¨ç”µè·¯è¿›è¡Œé—¨çº§å»ºæ¨¡(Gate level modeling) ç”¨å…³é”®å­—ä¸ºassignçš„è¿ç»­èµ‹å€¼(continuous assignment)è¯­å¥è¿›è¡Œæ•°æ®æµå»ºæ¨¡(Dataflow modeling)ï¼›æè¿°å¸ƒå°”æ–¹ç¨‹ ç”¨å…³é”®å­—ä¸ºalwaysçš„è¿‡ç¨‹èµ‹å€¼(procedural assignment)è¯­å¥è¿›è¡Œè¡Œä¸ºå»ºæ¨¡(Behavioral modeling)ï¼› é—¨çº§å»ºæ¨¡ ä¸¤ä¸ªæˆ–å¤šä¸ªæ¨¡å—å¯ä»¥ç»„åˆèµ·æ¥å¯¹ä¸€ä¸ªè®¾è®¡åˆ†å±‚æè¿°ï¼šè‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šçš„è®¾è®¡æ–¹æ³• æ¨¡å—å¯ä»¥è¢«åµŒå¥—ï¼ˆå¼•å…¥ï¼‰ï¼Œä½†æ˜¯æ¨¡å—çš„è¯´æ˜ä¸å¯ä»¥åµŒå¥—ï¼ˆä¸€ä¸ªæ¨¡å—ä¸èƒ½æ’å…¥å¦ä¸€ä¸ªæ¨¡å—çš„moduleå’Œendmoduleä¹‹é—´ï¼‰ å®ç°åœ¨ä¸€ä¸ªæ¨¡å—ä¸­æ’å…¥å¦ä¸€ä¸ªæ¨¡å—çš„å”¯ä¸€æ–¹æ³•æ˜¯ä¾‹åŒ– æ•°æ®æµå»ºæ¨¡ é—¨çº§å»ºæ¨¡ï¼šé€šè¿‡ç¡®å®šä¸ªé€»è¾‘é—¨ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸äº’è¿æ¥æ¥æè¿°ç”µè·¯ æ•°æ®æµå»ºæ¨¡ï¼šä½¿ç”¨å¤§é‡è¿ç®—ç¬¦ç”¨äºäºŒè¿›åˆ¶æ“ä½œæ•°æ¥äº§ç”Ÿæ‰€éœ€çš„ç»“æœ é‡‡ç”¨è¿ç»­èµ‹å€¼çš„æ–¹æ³•ï¼Œå…³é”®å­—æ˜¯assign è¿ç»­èµ‹å€¼è¯­å¥æ˜¯å¯¹wireå‹æ•°æ®èµ‹å€¼çš„è¯´æ˜ wireå‹ç”¨æ¥åæ˜ å…ƒä»¶ä¹‹é—´çš„ç‰©ç†è¿æ¥ è¡Œä¸ºå»ºæ¨¡ è¡Œä¸ºå»ºæ¨¡ï¼šåœ¨åŠŸèƒ½å’Œç®—æ³•å±‚æ¬¡ä¸Šæè¿°æ•°å­—ç”µè·¯ ä½¿ç”¨å…³é”®å­—alwaysï¼Œä¸»è¦ç”¨äºæè¿°æ—¶åºç”µè·¯ï¼Œä½†ä¹Ÿå¯ä»¥æè¿°ç»„åˆç”µè·¯ é‡‡ç”¨è¿‡ç¨‹èµ‹å€¼çš„æ–¹æ³•ï¼Œç›®æ ‡è¾“å‡ºçš„æ•°æ®ç±»å‹å¿…é¡»å£°æ˜ä¸ºregå‹ æ—¶åºç”µè·¯çš„Verilogæ¨¡å‹ initial å’Œ always ä¸¤ç§æŠ½è±¡è¡Œä¸ºè¯­å¥ initialåªç”¨äºtestbenchä¸­çš„æ¿€åŠ±ä¿¡å· lwaysæ¨¡å—ä½¿ç”¨è¿‡ç¨‹èµ‹å€¼ï¼Œèµ‹å€¼è¯­å¥å·¦è¾¹çš„å˜é‡ä¸€å®šè¦å£°æ˜ä¸ºregå‹ é˜»å¡èµ‹å€¼å’Œéé˜»å¡èµ‹å€¼ ä¸¤ç§è¿‡ç¨‹èµ‹å€¼è¯­å¥ï¼š é˜»å¡èµ‹å€¼ B = A å’Œ éé˜»å¡èµ‹å€¼ B MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-20 03:01:28 "},"æ•°å­—é€»è¾‘ç”µè·¯/æ•°æ¨¡ä¸æ¨¡æ•°è½¬æ¢.html":{"url":"æ•°å­—é€»è¾‘ç”µè·¯/æ•°æ¨¡ä¸æ¨¡æ•°è½¬æ¢.html","title":"æ•°æ¨¡ä¸æ¨¡æ•°è½¬æ¢","keywords":"","body":"æ•°æ¨¡ä¸æ¨¡æ•°è½¬æ¢ å®ç°æ¨¡æ•°è½¬æ¢çš„ç”µè·¯ç§°æ¨¡æ•°è½¬æ¢å™¨ï¼ŒAnalog to Digital Converter A/Dè½¬æ¢ é‡‡æ ·ï¼š å°†æ—¶é—´ä¸Šè¿ç»­å˜åŒ–çš„æ¨¡æ‹Ÿé‡è½¬æ¢æˆæ—¶é—´ä¸Šç¦»æ•£çš„æ¨¡æ‹Ÿé‡è¿‡ç¨‹ ä¿æŒï¼š ä¿æŒå–æ ·ä¿¡å·ï¼Œä½¿å…¶æœ‰å……åˆ†æ—¶é—´è½¬æ¢ä¸ºæ•°å­—ä¿¡å· é‡åŒ–ï¼š æŠŠå–æ ·ä¿æŒç”µè·¯çš„è¾“å‡ºä¿¡å·ç”¨å•ä½é‡åŒ–ç”µå‹çš„æ•´æ•°å€è¡¨ç¤ºã€‚ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼šåªèˆä¸å…¥ã€æœ‰èˆæœ‰å…¥ ç¼–ç ï¼š æŠŠé‡åŒ–çš„ç»“æœç”¨äºŒè¿›åˆ¶ä»£ç è¡¨ç¤º D/Aè½¬æ¢ å®ç°æ•°æ¨¡è½¬æ¢çš„ç”µè·¯ç§°æ•°æ¨¡è½¬æ¢å™¨ï¼Œç®€ç§° D/A è½¬æ¢å™¨æˆ– DACï¼ˆDigital to Analog Converterï¼‰ æƒç”µé˜»ç½‘ç»œDAC ä¸åŒç”µé˜»å€¼çš„æ•°ç›®ï¼› å¿…é¡»ç¡®ä¿å„ä¸ªç”µé˜»çš„é˜»å€¼ç²¾ç¡®ï¼› åœ¨è¾“å…¥ä¿¡å·çš„ä¸ªæ•°è¾ƒå¤šæ—¶ï¼Œéš¾ä»¥ç”Ÿäº§ A/Dè½¬æ¢ ç›´æ¥A/Dè½¬æ¢ å¿«é€Ÿï¼ˆå¹¶è¡Œ/åŒæ­¥ï¼‰A/Dè½¬æ¢å™¨ å¿«é€Ÿï¼Œè½¬æ¢æ—¶é—´å°äº50çº³ç§’ï¼› è½¬æ¢ä¸€æ¬¡ä»…éœ€ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼› å°†ä¸€ä¸ªæ¨¡æ‹Ÿé‡è½¬æ¢ä¸ºä¸€ä¸ªn-bitçš„æ•°å­—é‡ï¼Œéœ€è¦ 2^n-1ä¸ªæ¯”è¾ƒå™¨ï¼› åº”ç”¨äºé›·è¾¾ä¿¡å·å¤„ç†ï¼Œè½¯ä»¶æ— çº¿ç”µæŠ€æœ¯ç­‰é«˜é€Ÿåœºåˆï¼› é€æ¬¡é€¼è¿‘å‹ADC é—´æ¥A/Dè½¬æ¢ å…ˆæŠŠè¾“å…¥ç”µå‹è½¬åŒ–ä¸ºæ—¶é—´T2 ï¼Œä½¿å¾—T2ä¸è¾“å…¥ç”µå‹æˆæ­£æ¯”ï¼› å†æŠŠæ—¶é—´T2è½¬åŒ–ä¸ºæ•°å­—é‡Dï¼Œä½¿å¾—æ•°å­—é‡Dä¸T2æˆæ­£æ¯”ï¼› åŒç§¯åˆ†å‹A/Dè½¬æ¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 01:27:24 "},"ç½‘ç»œå®‰å…¨/ç½‘ç»œå®‰å…¨.html":{"url":"ç½‘ç»œå®‰å…¨/ç½‘ç»œå®‰å…¨.html","title":"ğŸ”ç½‘ç»œå®‰å…¨","keywords":"","body":"ç½‘ç»œå®‰å…¨ ä¿¡æ¯ ä¿¡æ¯æ˜¯ä»¥ä¿¡æ¯å½¢æ€ä¸ºè¡¨ç°å½¢å¼ï¼Œä»¥ç‰©ç†ä»‹è´¨ä¸ºè½½ä½“ï¼Œä»¥é€‚åˆäºè®¡ç®—æœºè¿›è¡Œè¡¨è¾¾ã€ä¼ è¾“ã€å­˜å‚¨æˆ–å¤„ç†çš„è¡¨è¾¾å½¢å¼æ¥è¡¨ç¤ºçš„çŸ¥è¯† ä¿¡æ¯æŠ€æœ¯ åœ¨è®¡ç®—æœºå’Œé€šä¿¡æŠ€æœ¯çš„æ”¯æŒä¸‹ï¼Œå¯¹ä¿¡æ¯è¿›è¡Œè·å–ã€ä¼ é€’ã€å­˜å‚¨ã€å¤„ç†ã€ä½¿ç”¨ã€åˆ†é…å’Œæ§åˆ¶çš„æ–¹æ³•å’ŒæŠ€æœ¯çš„æ€»ç§° ä¿¡æ¯å®‰å…¨ é€šä¿¡å®‰å…¨ï¼šç ”ç©¶å¦‚ä½•å¯¹ä¿¡æ¯è¿›è¡Œç¼–ç ååœ¨é€šä¿¡ä¿¡é“ä¸Šä¼ è¾“ï¼Œä»è€Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡çªƒå¬é€šä¿¡ä¿¡é“è€Œè·å–ä¿¡æ¯ ä¿¡æ¯å®‰å…¨ï¼šä¿è¯ä¿¡æ¯çš„å®‰å…¨å±æ€§ï¼ˆæœºå¯†æ€§ã€å®Œæ•´æ€§å’Œå¯ç”¨æ€§ç­‰ï¼‰ ä¿¡æ¯ä¿éšœï¼šä¿¡æ¯å®‰å…¨çš„ä¸»åŠ¨é˜²å¾¡ï¼ˆå¦‚ä¿æŠ¤ã€æ£€æµ‹ã€ååº”ã€æ¢å¤ç­‰ï¼‰ ç½‘ç»œç©ºé—´å®‰å…¨ï¼šå›½å®¶å®‰å…¨ï¼ˆåŒ…æ‹¬ä¿¡æ¯åŸºç¡€è®¾æ–½çš„å®‰å…¨ã€ä¿¡æ¯ç³»ç»Ÿå’Œæ•°æ®çš„å®‰å…¨ç­‰ï¼‰ ä½“ç³» å®‰å…¨æœåŠ¡æ˜¯ç”±å®‰å…¨æœºåˆ¶æ¥å®ç°çš„ å®‰å…¨æœåŠ¡ï¼šæä¾›æ•°æ®å¤„ç†å’Œæ•°æ®ä¼ è¾“å®‰å…¨æ€§çš„æ–¹æ³• è®¤è¯ è®¿é—®æ§åˆ¶ æ•°æ®ä¿å¯† æ•°æ®å®Œæ•´æ€§ ä¸å¯æŠµèµ– å®‰å…¨æœºåˆ¶ï¼šä¿æŠ¤ä¿¡æ¯ä¸ä¿¡æ¯ç³»ç»Ÿå®‰å…¨æªæ–½çš„æ€»ç§° åŠ å¯† æ•°å­—ç­¾å è®¿é—®æ§åˆ¶ æ•°æ®å®Œæ•´æ€§ è®¤è¯äº¤æ¢ ä¸šåŠ¡å¡«å…… è·¯ç”±æ§åˆ¶ å…¬æ­£ å®‰å…¨æœåŠ¡çš„åˆ†å±‚éƒ¨ç½² åº”ç”¨å±‚ä¸ä¼ è¾“å±‚æä¾›çš„å®‰å…¨æœåŠ¡åªèƒ½åœ¨é€šä¿¡ä¸¤ç«¯çš„ä¸»æœºç³»ç»Ÿä¸Šå®æ–½ ç½‘ç»œå±‚æä¾›çš„å®‰å…¨æœåŠ¡åœ¨ç«¯ç³»ç»Ÿå’Œè·¯ç”±å™¨ä¸Šéƒ½å¯ä»¥å®ç° ä½†æ˜¯å±‚æ¬¡è¶Šä½ï¼Œèƒ½è·å–åˆ°çš„æ•°æ®è¯­ä¹‰è¶Šå°‘ å®‰å…¨å¨èƒ æ³„æ¼ æ¬ºéª— ç ´å å…¥ä¾µ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-02 05:21:20 "},"ç½‘ç»œå®‰å…¨/ç½‘ç»œåè®®å®‰å…¨.html":{"url":"ç½‘ç»œå®‰å…¨/ç½‘ç»œåè®®å®‰å…¨.html","title":"ç½‘ç»œåè®®å®‰å…¨","keywords":"","body":"ç½‘ç»œåè®®å®‰å…¨ ARP ARPçªƒå¬ ä»ARPçš„åè®®è¿‡ç¨‹æ¥çœ‹ï¼ŒARPè¯·æ±‚æ¶ˆæ¯å°†é€šè¿‡äº¤æ¢æœºæˆ–é›†çº¿å™¨ä»¥å¹¿æ’­å½¢å¼è¿›è¡Œå‘é€ï¼Œå› æ­¤ç½‘ç»œä¸Šæ‰€æœ‰ä¸»æœºå‡å¯ä»¥æ”¶åˆ°ARPè¯·æ±‚æ¶ˆæ¯ ARPæ¬ºéª— å¦‚æœæŸä¸ªARPæ¶ˆæ¯ä¸­çš„IP-MACå¯¹æ˜¯ä¸çœŸå®çš„ï¼Œåˆ™é€ æˆARPæ¬ºéª—æ”»å‡»ï¼ˆARP Spoofingï¼‰ï¼Œæˆ–ç§°ä¸ºARPæ±¡æŸ“æ”»å‡»ï¼ˆARP Poisoningï¼‰ GARPæ»¥ç”¨æ”»å‡» è€…åˆ©ç”¨GARPæŠ€æœ¯ï¼Œä¸»åŠ¨å‘é€è™šå‡çš„GARPè¯·æ±‚æ¶ˆæ¯ï¼ˆå³ä¼ªé€ çš„IPåœ°å€å’ŒMACåœ°å€çš„æ˜ å°„ï¼‰ é˜²å¾¡ é‡‡ç”¨é™æ€ç»‘å®šçš„æ–¹å¼é˜²æ­¢ARPæ¬ºéª— æ‰‹å·¥ç»‘å®šIP-MACæ˜ å°„ é‡‡ç”¨ARPä»£ç†æœåŠ¡å™¨ ä»¥å¼•å…¥å¯ä¿¡çš„ARPä»£ç†æœåŠ¡å™¨ï¼ˆProxy ARPï¼‰ï¼Œå¯¹æœ¬ç½‘ç»œä¸­æˆ–è·¨ç½‘æ®µçš„ARPè¯·æ±‚æä¾›æœåŠ¡ åœ¨ç½‘ç»œè®¾å¤‡ä¸Šå¯¹ARPæ¶ˆæ¯è¿›è¡Œæ£€æµ‹å’Œæ§åˆ¶ ç¦ç”¨GARPåŠŸèƒ½ IP IPçªƒå¬ IPåè®®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰åŠ å¯† IPåœ°å€å‡å†’æ”»å‡» ä»»æ„èŠ‚ç‚¹å‡å¯ä»¥æ„é€ IPåˆ†ç»„ IPç¢ç‰‡æ”»å‡» æ”»å‡»è€…å¯ä»¥åˆ©ç”¨IPåè®®çš„æ‹†åŒ…åˆåŒ…ï¼Œå°†IPåŒ…åˆ‡åˆ†ä¸ºéå¸¸å°çš„ç¢ç‰‡ï¼Œç„¶åå‘é€ç»™è¢«æ”»å‡»ç›®æ ‡ é˜²å¾¡ å…¥å£è¿‡æ»¤ è¿‡æ»¤æ‰è¿›æ¥çš„éæ³•IPåœ°å€çš„åˆ†ç»„ å‡ºå£è¿‡æ»¤ è¿‡æ»¤æ‰å‘å‡ºå»çš„éæ³•IPåœ°å€çš„åˆ†ç»„ IPå›æº¯ è¿½è¸ªIPåˆ†ç»„çš„è·¯å¾„ TCP SYNæ³›æ´ªæ”»å‡»ï¼ˆSYN Floodingï¼‰ ACKæ³›æ´ªæ”»å‡»ï¼ˆACK Floodingï¼‰-éšæœºIP ACKæ³›æ´ªæ”»å‡»ï¼ˆACK Floodingï¼‰-ä¼ªé€ IP åºåˆ—å·é¢„æµ‹æ”»å‡» LANDæ”»å‡» UDP å‡å†’ åŠ«æŒ æ³›æ´ª MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-04 02:24:31 "},"ç½‘ç»œå®‰å…¨/ç½‘ç»œå®‰å…¨éš”ç¦»æŠ€æœ¯.html":{"url":"ç½‘ç»œå®‰å…¨/ç½‘ç»œå®‰å…¨éš”ç¦»æŠ€æœ¯.html","title":"ç½‘ç»œå®‰å…¨éš”ç¦»æŠ€æœ¯","keywords":"","body":"ç½‘ç»œå®‰å…¨éš”ç¦»æŠ€æœ¯ é€šè¿‡å¯¹å…·æœ‰ä¸åŒå®‰å…¨éœ€æ±‚çš„åº”ç”¨ç³»ç»Ÿè¿›è¡Œåˆ†ç±»ä¿æŠ¤ï¼Œä»è€Œæœ‰åŠ©äºå°†é£é™©è¾ƒå¤§çš„åº”ç”¨ç³»ç»Ÿä¸å…¶å®ƒåº”ç”¨ç³»ç»Ÿéš”ç¦»ï¼Œè¾¾åˆ°å®‰å…¨ä¿æŠ¤çš„ç›®çš„ã€‚ é›†çº¿å™¨éš”ç¦» å·¥ä½œåœ¨ç‰©ç†å±‚ï¼Œéš”ç¦»ä½œç”¨ä¸å¤§ äº¤æ¢æœºéš”ç¦» vlanåˆ’åˆ† è·¯ç”±å™¨éš”ç¦» é˜²ç«å¢™ è®¿é—®æ§åˆ¶ å®¡è®¡ ä¸è¶³ æ— æ³•é˜²å¾¡å†…éƒ¨æ”»å‡» åŒ…è¿‡æ»¤æŠ€æœ¯ æ˜¯ä¸€ç§è®¿é—®æ§åˆ¶æœºåˆ¶ï¼Œå®ƒæ§åˆ¶å“ªäº›æ•°æ®åŒ…å¯ä»¥è¿›å‡ºç½‘ç»œè€Œå“ªäº›æ•°æ®åŒ…åº”è¢«ç½‘ç»œæ‹’ç» çŠ¶æ€ç›‘æµ‹æŠ€æœ¯ æ˜¯æŒ‡æ ¹æ®åè®®æ•°æ®çš„çŠ¶æ€æ¥å®ç°åŒ…è¿‡æ»¤åŠŸèƒ½çš„è®¿é—®æ§åˆ¶æŠ€æœ¯ åº”ç”¨ä»£ç†æŠ€æœ¯ åœ¨åº”ç”¨å±‚æä¾›ä»£ç†æœåŠ¡çš„ä»£ç† é˜²ç«å¢™éš”ç¦» å ¡å’ä¸»æœºç»“æ„ é˜²ç«å¢™æ˜¯å”¯ä¸€ä¸€ä¸ªé˜²æŠ¤ç‚¹ å±è”½ä¸»æœºç»“æ„ ä½¿ç”¨è·¯ç”±å™¨ä¸é˜²ç«å¢™é…åˆå®Œæˆå·¥ä½œ å±è”½å­ç½‘ç»“æ„ ä½¿ç”¨äº†ä¸¤ä¸ªè·¯ç”±å™¨ ç‰©ç†éš”ç¦» å¦‚æœç”¨æˆ·åœ¨åŒä¸€æ—¶é—´è®¿é—®å…¬ç½‘ä¸“ç½‘ï¼Œä¼šå¸¦æ¥å¾ˆå¤šå®‰å…¨éšæ‚£ ç‰©ç†éš”ç¦»ï¼ˆphysical isolationï¼‰æ˜¯æŒ‡å¤„äºä¸åŒå®‰å…¨åŸŸçš„ç½‘ç»œä¹‹é—´ä¸èƒ½ä»¥ç›´æ¥æˆ–é—´æ¥çš„æ–¹å¼ç›¸è¿æ¥ ç‰©ç†æ–­å¼€ï¼šç‰©ç†æ–­å¼€å¡ å•å‘éš”ç¦»ï¼šå•å‘éš”ç¦»å¡ ç½‘é—¸éš”ç¦»ï¼šåªæœ‰è¢«ç³»ç»Ÿæ˜ç¡®è¦æ±‚ä¼ è¾“çš„ä¿¡æ¯å¯ä»¥é€šè¿‡ ç½‘ç»œåœ°å€è½¬æ¢ NATæŠ€æœ¯å¯ä»¥å¯¹å†…éƒ¨ç½‘ç»œèµ·åˆ°éš”ç¦»ä¸éšè—ä½œç”¨ NATæŠ€æœ¯å¯ä»¥æä¾›è¯¦ç»†çš„å®‰å…¨å®¡è®¡åŠŸèƒ½ NATæŠ€æœ¯ç ´åäº†ç«¯åˆ°ç«¯çš„ç½‘ç»œé€šä¿¡ NATå½±å“é˜²ç«å¢™ç³»ç»Ÿçš„è®¾è®¡å’Œéƒ¨ç½² ç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼šNetwork Address Translationï¼‰æ˜¯ä¸€ç§å°†ä¸€ä¸ªæˆ–å¤šä¸ªIPåœ°å€è½¬æ¢ä¸ºå¦å¤–ä¸€ä¸ªIPæˆ–å¤šä¸ªåœ°å€çš„æŠ€æœ¯ é™æ€NAT å†…éƒ¨æ¯ä¸ªéæ³•IPåœ°å€è¢«å›ºå®šåœ°æ˜ å°„ä¸ºå¤–éƒ¨çš„æŸä¸ªåˆæ³•IPåœ°å€ åŠ¨æ€NAT å†…éƒ¨æ¯ä¸ªéæ³•IPåœ°å€è¢«ä¸´æ—¶åœ°æ˜ å°„ä¸ºå¤–éƒ¨çš„æŸä¸ªåˆæ³•IPåœ°å€ ç«¯å£è½¬æ¢ ç«¯å£è½¬æ¢NATæ˜¯å°†å†…éƒ¨ä¸»æœºçš„IPåœ°å€æ˜ å°„ä¸ºå¤–éƒ¨IPåœ°å€å’Œä¸€ä¸ªç‰¹å®šç«¯å£å·çš„æŠ€æœ¯ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-06 02:00:28 "},"ç½‘ç»œå®‰å…¨/ç½‘ç»œå®‰å…¨æŠ€æœ¯.html":{"url":"ç½‘ç»œå®‰å…¨/ç½‘ç»œå®‰å…¨æŠ€æœ¯.html","title":"ç½‘ç»œå®‰å…¨æŠ€æœ¯","keywords":"","body":"ç½‘ç»œå®‰å…¨æŠ€æœ¯ ç½‘ç»œå®‰å…¨æ¨¡å‹ PDRæ¨¡å‹ P2DRæ¨¡å‹ PDRRå®‰å…¨æ¨¡å‹ APPDRRæ¨¡å‹ PADIMEEæ¨¡å‹ ç½‘ç»œå®‰å…¨é¢„è­¦ å®æ—¶ç½‘ç»œæ•°æ®æµè·Ÿè¸ª ç½‘ç»œæ”»å‡»æ¨¡å¼è¯†åˆ« ç½‘ç»œå®‰å…¨è¿è§„æ´»åŠ¨æ•è· å¯¹å°†è¦å‘ç”Ÿçš„æˆ–å·²å‘ç”Ÿçš„ç½‘ç»œæ”»å‡»è¿›è¡Œé¢„è­¦ å¯¹æ”»å‡»çš„ä¸‹ä¸€æ­¥åŠ¨ä½œè¿›è¡Œåˆç†çš„æ¨æµ‹ è¿‡ç¨‹ æ•°æ®é‡‡é›† æ£€æµ‹ä¿¡æ¯ã€è®¾å¤‡æ“ä½œä¿¡æ¯ã€æµé‡å˜åŒ–æƒ…å†µ æ•°æ®æå– æ ¼å¼è½¬æ¢ äº‹ä»¶åˆ†æ åˆ†ç±»ã€æŒ–æ˜ å®‰å…¨é¢„è­¦ ç”Ÿæˆæœªæ¥å¯èƒ½å‘ç”Ÿçš„äº‹ä»¶ ç»“æœ å“åº”æ–¹æ¡ˆ å¸¸è§é¢„è­¦æ¨¡å‹ åŸºäºå…¥ä¾µäº‹ä»¶ åŸºäºæ”»å‡»è¿‡ç¨‹ åŸºäºæµé‡ç›‘æ§ å®è§‚ç½‘ç»œ å¨èƒæƒ…æŠ¥æŠ€æœ¯ æˆ˜ç•¥æ€§å¨èƒæƒ…æŠ¥æ˜¯ä»å¨èƒçš„å…¨è²ŒåŠæœªæ¥å‘å±•åŠ¨æ€çš„çŸ¥è¯†ä¿¡æ¯ï¼Œä¸»è¦æä¾›ç»™é«˜å±‚æˆ˜ç•¥å†³ç­–è€…ä½¿ç”¨ã€‚ æ“ä½œæ€§å¨èƒæƒ…æŠ¥æ˜¯é’ˆå¯¹ç‰¹å®šæ”»å‡»çš„å¯ä»˜è¯¸è¡ŒåŠ¨çš„çŸ¥è¯†ä¿¡æ¯ã€‚ æˆ˜æœ¯æ€§å¨èƒæƒ…æŠ¥æ˜¯å…³äºç½‘ç»œæ”»å‡»æˆ˜æœ¯æ€§çš„çŸ¥è¯†ä¿¡æ¯ï¼ˆå¦‚æ”»å‡»æŠ€å·§ã€æ–¹æ³•ç­‰ï¼‰ã€‚ æŠ€æœ¯æ€§å¨èƒæƒ…æŠ¥æ˜¯å…³äºæ”»å‡»çš„æŠ€æœ¯ç»†èŠ‚çš„çŸ¥è¯†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ”»å‡»çš„å·¥å…·ã€å‘½ä»¤ã€æ§åˆ¶æ¸ é“ã€åŸºç¡€æ¶æ„ç­‰æŠ€æœ¯ä¿¡æ¯ã€‚ åŸºäºå¨èƒæƒ…æŠ¥çš„ç½‘ç»œå®‰å…¨é¢„è­¦ åŠ å¯†ä¿æŠ¤æŠ€æœ¯ æ•°æ®ä¼ è¾“åŠ å¯† æ•°æ®å­˜å‚¨åŠ å¯† æ•°æ®å®Œæ•´æ€§é‰´åˆ« ä¼ è¾“åŠ å¯†æ¨¡å¼ é“¾è·¯åŠ å¯† ä¿æŠ¤é€šä¿¡é“¾è·¯ä¸­æ‰€æœ‰èŠ‚ç‚¹ä¹‹é—´çš„é“¾è·¯ä¿¡æ¯å®‰å…¨ èŠ‚ç‚¹åŠ å¯† ä¿æŠ¤æ˜æ–‡ä¸åœ¨èŠ‚ç‚¹ä¸­å‡ºç°çš„åŠ å¯†æŠ€æœ¯ ç«¯åˆ°ç«¯åŠ å¯† ç”¨äºå‘æºèŠ‚ç‚¹åˆ°ç›®çš„èŠ‚ç‚¹çš„æ•°æ®æä¾›ç«¯åˆ°ç«¯åŠ å¯†ä¿æŠ¤ VPNæŠ€æœ¯ éš§é“æŠ€æœ¯ éš§é“å°†å°†å…¶å®ƒåè®®çš„æ•°æ®é‡æ–°å°è£…ç„¶åé€šè¿‡éš§é“å‘é€ å†…ç½‘ç›‘ç®¡æŠ€æœ¯ é’ˆå¯¹å±€åŸŸç½‘å†…çš„ç”¨æˆ·ç»ˆç«¯å’Œç½‘ç»œè®¾å¤‡è¿›è¡Œç›‘è§†å’Œæ§åˆ¶ï¼Œè§„èŒƒå†…éƒ¨ç½‘ç»œç”¨æˆ·çš„è¡Œä¸ºã€é˜²æ­¢æ•æ„Ÿä¿¡æ¯çš„æ³„æ¼ åˆç†åˆ’åˆ†å’Œç®¡ç†å†…ç½‘ä¸å¤–ç½‘çš„è¾¹ç•Œ é™åˆ¶VPNçš„è®¿é—® å®æ—¶ã€è‡ªåŠ¨è·Ÿè¸ªå®‰å…¨ç­–ç•¥çš„å˜åŒ– ä¸¥æ ¼é™åˆ¶ç½‘ç»œæœåŠ¡å’Œå¤–è®¾æœåŠ¡ï¼Œé˜²æ­¢æ”»å‡»è€…ä»å¤–éƒ¨æ¸—é€å…¥å†…éƒ¨ç½‘ç»œ ä¸¥æ ¼é™åˆ¶æ— çº¿ç½‘ç»œè¿æ¥è®¿é—® å»ºç«‹å®Œå–„çš„ç”¨æˆ·è´¦å·ç®¡ç†æœºåˆ¶ å…¥ä¾µæ£€æµ‹æŠ€æœ¯ ä¸»æœºå…¥ä¾µæ£€æµ‹ ç½‘ç»œå…¥ä¾µæ£€æµ‹ å…¥ä¾µæ£€æµ‹æ–¹æ³• è¯¯ç”¨æ£€æµ‹ æ ¹æ®å·±çŸ¥çš„æ”»å‡»æ–¹æ³•ï¼Œé¢„å…ˆå®šä¹‰å…¥ä¾µç‰¹å¾ï¼Œé€šè¿‡åˆ¤æ–­è¿™æ­¤ç‰¹å¾æ˜¯å¦å‡ºç°æ¥å®Œæˆæ£€æµ‹ä»»åŠ¡ å¼‚å¸¸æ£€æµ‹ æ ¹æ®ç”¨æˆ·çš„è¡Œä¸ºæˆ–èµ„æºçš„ä½¿ç”¨çŠ¶å†µçš„æ­£å¸¸ç¨‹åº¦æ¥åˆ¤æ–­ å…¥ä¾µé˜²å¾¡ç³»ç»Ÿ æ¼æ´æ£€æµ‹æŠ€æœ¯ è„†å¼±æ€§æ‰«æ æ˜¯é‡‡ç”¨æ¨¡æ‹Ÿæ”»å‡»è€…æ”»å‡»çš„æ–¹å¼å¯¹ç›®æ ‡å¯èƒ½å­˜åœ¨çš„å·²çŸ¥å®‰å…¨æ¼æ´è¿›è¡Œé€é¡¹æ£€æµ‹ æºä»£ç æ‰«æ åæ±‡ç¼–æ‰«æ ç¯å¢ƒé”™è¯¯æ³¨å…¥æŠ€æœ¯ å®‰å…¨å“åº”æŠ€æœ¯ å‰æœŸ å¯¹äº‹ä»¶è¿›è¡Œç¡®è®¤ã€åˆæ­¥åˆ†æè¯„ä¼°åŠç›¸åº”çš„å‡†å¤‡å·¥ä½œ ä¸­æœŸ å¯¹äº‹ä»¶è¿›è¡Œå¤„ç†ï¼ŒåŒ…æ‹¬æŠ‘åˆ¶è¿›ä¸€æ­¥æ‰©æ•£ã€æ ¹é™¤äº‹ä»¶çš„å½±å“åŠæ¢å¤ç›¸å…³ç³»ç»Ÿ åæœŸ è¦åŒ…æ‹¬è¿›ä¸€æ­¥æä¾›ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå¯¹äº‹ä»¶åŠå…¶å¤„ç†è¿‡ç¨‹çš„åˆ†ææ€»ç»“ç­‰ èœœç½‘æŠ€æœ¯ å¸å¼•æ”»å‡»è€…å¯¹å…¶å‘èµ·æ”»å‡»ï¼ŒåŒæ—¶å®Œæ•´åœ°ä¸”ä¸è¢«å¯Ÿè§‰åœ°å°†ä»–ä»¬çš„æ´»åŠ¨è®°å½•ä¸‹æ¥ æ•è·åƒµå°¸ç½‘ç»œ æ•è·åƒåœ¾é‚®ä»¶ æ•è·è •è™«ç—…æ¯’ æ•è·é’“é±¼ç½‘ç»œ ç¾éš¾æ¢å¤æŠ€æœ¯ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-09 00:39:42 "},"ç½‘ç»œå®‰å…¨/å®‰å…¨åè®®æŠ€æœ¯.html":{"url":"ç½‘ç»œå®‰å…¨/å®‰å…¨åè®®æŠ€æœ¯.html","title":"å®‰å…¨åè®®æŠ€æœ¯","keywords":"","body":"å®‰å…¨åè®®æŠ€æœ¯ å®‰å…¨åè®®æ˜¯åœ¨æ¶ˆæ¯äº¤æ¢å’Œå¤„ç†è¿‡ç¨‹ä¸­ä½¿ç”¨äº†è‹¥å¹²å¯†ç ç®—æ³•çš„åè®® åˆ†ç±» æŒ‰ç›®çš„ å¯†é’¥äº¤æ¢åè®® è®¤è¯åè®® ç”µå­å•†åŠ¡åè®® æŒ‰å‚ä¸è€… ä»²è£åè®® å€ŸåŠ©äºä¸€ä¸ªç§°ä¹‹ä¸ºä»²è£è€…çš„å¯ä¿¡ç¬¬ä¸‰æ–¹ï¼ˆTrusted Third Partyï¼‰æ¥å®Œæˆæ¶ˆæ¯äº¤æ¢ è£å†³åè®® è£å†³äººå¿…é¡»æ˜¯åè®®ä¸»ä½“å‡ä¿¡èµ–çš„å¯ä¿¡ç¬¬ä¸‰æ–¹ï¼Œä½†æ˜¯å®ƒä¸éœ€è¦å‚ä¸åè®®çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œåªæœ‰å½“åè®®ä¸­å‡ºç°äº‰è®®ä¹‹åï¼Œè£å†³äººæ‰å‚ä¸åˆ°åè®®ä¸­æ¥ è‡ªåŠ¨æ‰§è¡Œåè®® è®®ä¸éœ€è¦ä»»ä½•ç¬¬ä¸‰æ–¹ï¼ˆå¦‚ä»²è£è€…å’Œè£å†³è€…ï¼‰çš„å‚ä¸ï¼Œåœ¨åè®®ä¸»ä½“ä¹‹é—´å®Œæˆåè®®è¿‡ç¨‹ å®‰å…¨åè®®ç¼ºé™· æ”»å‡»è€…æ¨¡å‹ ç”±äºå­˜åœ¨æ”»å‡»è€…ï¼Œå› æ­¤è®¾è®¡ä¸€ä¸ªå®‰å…¨çš„åè®®æ˜¯éå¸¸å›°éš¾çš„ å¸¸è§ç¼ºé™· åŸºæœ¬åè®®ç¼ºé™·ï¼šåè®®ä¸­æ²¡æœ‰æˆ–è€…å¾ˆå°‘è€ƒè™‘å¯¹æ”»å‡»è€…çš„é˜²èŒƒè€Œå¼•å‘çš„åè®®ç¼ºé™·ï¼ˆå¦‚TCP/IPåè®®çš„å®‰å…¨ç¼ºé™·é—®é¢˜ç­‰ï¼‰ é™ˆæ—§æ¶ˆæ¯ç¼ºé™·ï¼šåœ¨åè®®è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œæœªè€ƒè™‘æ¶ˆæ¯çš„æ—¶æ•ˆæ€§ï¼ˆå³æ–°é²œæ€§ï¼‰ï¼Œä»è€Œä½¿å¾—æ”»å‡»è€…å¯ä»¥åˆ©ç”¨åè®®è¿‡ç¨‹ä¸­äº§ç”Ÿçš„è¿‡æ—¶æ¶ˆæ¯æ¥å¯¹åè®®è¿›è¡Œé‡æ”¾æ”»å‡» å¹¶è¡Œä¼šè¯ç¼ºé™·ï¼šåè®®è®¾è®¡å¯¹ä»…è€ƒè™‘å•ä¸ªåè®®æ‰§è¡Œçš„æƒ…å†µï¼Œå¯¹å¤šä¸ªåè®®ï¼ˆæˆ–åŒä¸€ä¸ªåè®®çš„å¤šä¸ªè¿è¡Œå®ä¾‹ï¼‰å¹¶è¡Œä¼šè¯ç¼ºä¹è€ƒè™‘ï¼Œä½¿å¾—æ”»å‡»è€…å¯ä»¥ç›¸äº’äº¤æ¢é€‚å½“çš„åè®®æ¶ˆæ¯æ¥è·å¾—æ›´ä¸ºé‡è¦çš„æ¶ˆæ¯ å†…éƒ¨åè®®ç¼ºé™·ï¼šåè®®ä¸­ç¼ºå°‘è¶³å¤Ÿçš„ä¿¡æ¯è®©åè®®å‚ä¸è€…èƒ½å¤ŸåŒºåˆ†æ¶ˆæ¯çš„çœŸå®æ€§è€Œå¯¼è‡´ç¼ºé™· å¯†ç ç³»ç»Ÿç¼ºé™·ï¼šåè®®ä¸­ä½¿ç”¨çš„å¯†ç ç®—æ³•çš„å®‰å…¨å¼ºåº¦é—®é¢˜å¯¼è‡´åè®®ç¼ºé™· ä¸­é—´äººæ”»å‡» æ”»å‡»è€…ä½äºåè®®é€šä¿¡åŒæ–¹ä¸­é—´è€Œå‘åŠ¨çš„æ”»å‡» é‡æ”¾æ”»å‡» æŒ‡æ”»å‡»è€…åˆ©ç”¨å…¶æ¶ˆæ¯å†ç”Ÿèƒ½åŠ›ç”Ÿæˆè¯šå®ç”¨æˆ·æ‰€æœŸæœ›çš„æ¶ˆæ¯æ ¼å¼ï¼Œå¹¶é‡æ–°å‘é€ï¼Œä»è€Œè¾¾åˆ°ç ´ååè®®å®‰å…¨æ€§çš„ç›®çš„ åè®®è½®å†…æ”»å‡» åè®®è½®å¤–æ”»å‡» å¯¹ç­– æŒ‘æˆ˜åº”ç­”æœºåˆ¶ æŒ‘æˆ˜è€…èƒ½å¤Ÿé€šè¿‡ä»–è‡ªå·±è¾“å…¥æ¶ˆæ¯çš„æ–°é²œæ€§æ¥éªŒè¯åº”ç­”è€…é€šä¿¡çš„çœŸå®æ€§ æ—¶é—´æˆ³æœºåˆ¶ æŒ‡å‘é€è€…åœ¨æ¶ˆæ¯ä¸­åµŒå…¥å‘é€æ¶ˆæ¯çš„æœ¬åœ°æ—¶åˆ»ï¼Œè€Œæ¥æ”¶è€…åœ¨æ¶ˆæ¯è¾¾åˆ°åï¼Œé€šè¿‡å¯¹æ¯”æ¶ˆæ¯ä¸­æ‰€åŒ…å«çš„æ—¶é—´ä¿¡æ¯å’Œæœ¬åœ°æ—¶é—´ä¿¡æ¯çš„å·®å€¼ï¼Œæ¥å†³å®šè¯¥æ¶ˆæ¯æ˜¯å¦ä¸ºæ–°é²œæ¶ˆæ¯ åºåˆ—å·æœºåˆ¶ åè®®ä¸»ä½“ä¹‹é—´é¦–å…ˆåå•†ä¸€ä¸ªä¸€è‡´çš„åˆå§‹åºåˆ—å·åè®®è¿‡ç¨‹ä¸­æ¯æ¡åè®®æ¶ˆæ¯å‡å¸¦ä¸Šåºåˆ—å·ï¼Œæ¯æ¡æ¶ˆæ¯çš„åºåˆ—å·å¿…é¡»è¿›è¡Œä¿æŠ¤ äº¤é”™æ”»å‡» å¹³è¡Œä¼šè¯æ”»å‡» åå°„æ”»å‡» å½“ä¸€ä¸ªè¯šå®çš„ä¸»ä½“ç»™æŸä¸ªæ„å®šçš„é€šä¿¡æ–¹å‘é€æ¶ˆæ¯æ—¶ï¼Œæ”»å‡»è€…æˆªè·è¯¥æ¶ˆæ¯ï¼Œå¹¶å°†è¯¥æ¶ˆæ¯è¿”å›ç»™æ¶ˆæ¯çš„å‘é€è€… ç±»å‹é”™è¯¯æ”»å‡» æ”»å‡»è€…æ¬ºéª—æŸä¸ªä¸»ä½“ï¼Œä½¿å¾—ä»–æŠŠä¸€æ¬¡æ€§éšæœºæ•°ã€æ—¶æˆ³æˆ–è€…èº«ä»½ç­‰ä¿¡æ¯åµŒå…¥åˆ°æŸä¸ªå¯†é’¥ä¸­å»ï¼Œä»è€Œå¯¼è‡´åè®®å®‰å…¨æ€§è¢«ç ´å å§“åé—æ¼æ”»å‡» å¦‚æœä¸æ¶ˆæ¯ç›¸å…³çš„ä¸»ä½“çš„åå­—ä¸èƒ½ä»æ¶ˆæ¯ä¸­æ¨æ–­å‡ºæ¥ï¼Œåˆ™æ”»å‡»è€…åˆ©ç”¨æ­¤ç¼ºé™·æ‰€å‘åŠ¨çš„æ”»å‡»ç§°ä¹‹ä¸ºâ€œå½’å› ä¸å§“åé—æ¼æ”»å‡»â€ å®‰å…¨åè®®è®¾è®¡åŸåˆ™ æ¶ˆæ¯ç‹¬ç«‹æ€§åŸåˆ™ å³æ¶ˆæ¯çš„å«ä¹‰åº”è¯¥æ˜¯ä¸€ç›®äº†ç„¶ï¼Œä¸”æ¶ˆæ¯å«ä¹‰çš„ç¿»è¯‘ç›´æ¥é€šè¿‡è¯¥æ¶ˆæ¯å°±å¯ä»¥å®Œæˆ æ¶ˆæ¯å‰æå‡†ç¡®åŸåˆ™ æ¶ˆæ¯æ‰€ä¾èµ–çš„æ¡ä»¶å¿…é¡»æ˜ç¡®åœ°å®šä¹‰å‡ºæ¥ï¼Œä»è€Œä½¿å¾—åè®®çš„è¯„ä»·è€…çŸ¥é“è¿™äº›æ¡ä»¶æ˜¯å¦å¯ä»¥æ¥å—ã€‚ åè®®ä¸»ä½“èº«ä»½æ ‡è¯†åŸåˆ™ å¦‚æœåè®®ä¸»ä½“çš„èº«ä»½å¯¹äºç†è§£æ¶ˆæ¯çš„å«ä¹‰æ˜¯å¿…é¡»çš„ï¼Œé‚£ä¹ˆåè®®ä¸»ä½“èº«ä»½å°±åº”è¯¥åœ¨æ¶ˆæ¯ä¸­æ˜ç¡®åœ°æ ‡è¯†å‡ºæ¥ åŠ å¯†ç›®çš„æ˜ç¡®åŸåˆ™ å¿…é¡»ä½¿ç”¨åŠ å¯†ï¼Œåˆ™å¿…é¡»æ˜ç¡®åŠ å¯†åœ¨åè®®å®‰å…¨ä¸­çš„ä½œç”¨å’Œç›®çš„ ç­¾ååŸåˆ™ å¦‚æœåœ¨ä¸€ä¸ªå®‰å…¨åè®®ä¸­éœ€è¦åŒæ—¶è¿›è¡ŒåŠ å¯†å’Œç­¾åï¼Œä¸€èˆ¬çš„åŸåˆ™æ˜¯å…ˆåŠ å¯†åç­¾å éšæœºæ•°ä½¿ç”¨åŸåˆ™ å¯¹æŠ—é‡æ”¾æ”»å‡»ï¼Œè¿˜æ˜¯ç”¨æ¥ç»‘å®šæ—¶é—´ä¸Šé‚»æ¥çš„ä¸¤æ¡æ¶ˆæ¯ IPSec ä¸€ç§ç”±IETFè®¾è®¡çš„ç«¯åˆ°ç«¯çš„ç¡®ä¿IPå±‚é€šä¿¡å®‰å…¨çš„æœºåˆ¶ SSL å®‰å…¨å¥—æ¥å±‚ï¼ˆSSLï¼šSecure Sockets Layer Protocolï¼‰ï¼Œæ˜¯ä¸ºç½‘ç»œé€šä¿¡æä¾›å®‰å…¨åŠæ•°æ®å®Œæ•´æ€§çš„ä¸€ç§å®‰å…¨åè®® https MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-17 00:54:41 "},"ç½‘ç»œå®‰å…¨/è¸©ç‚¹.html":{"url":"ç½‘ç»œå®‰å…¨/è¸©ç‚¹.html","title":"è¸©ç‚¹","keywords":"","body":"è¸©ç‚¹ æ”»å‡»è€…å¯¹æŸä¸ªç»„ç»‡è¿›è¡Œæœ‰è®¡åˆ’ï¼Œæœ‰æ­¥éª¤çš„è¸©ç‚¹ï¼Œæ”¶é›†æ•´ç†å‡ºä¸€ä»½å…³äºè¯¥ç»„ç»‡çš„å®‰å…¨å‰–æå›¾ å› ç‰¹ç½‘è¸©ç‚¹ webç½‘é¡µ ç›¸å…³ç»„ç»‡ åœ°ç†ä¿¡æ¯ å‘˜å·¥ä¿¡æ¯ è¿‘æœŸé‡å¤§äº‹ä»¶ å®‰å…¨ç­–ç•¥ æœç´¢å¼•æ“ whois é€šè¿‡whoisï¼Œå¯ä»¥æŸ¥è¯¢åˆ°åŸŸåæ‹¥æœ‰è€…ä¿¡æ¯ DNS é€šè¿‡nslookupæŸ¥è¯¢è¯¥ç»„ç»‡çš„ç›¸å…³dnsæœåŠ¡å™¨ä¿¡æ¯ ç½‘ç»œä¾¦æŸ¥ tracerouteå¯ä»¥ä¾¦æŸ¥åˆ°ç›®çš„ä¸»æœºä¼ è¾“è·¯å¾„ç»è¿‡çš„ç½‘é™…è·³è¿œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-09 02:49:09 "},"ç½‘ç»œå®‰å…¨/æ‰«æ.html":{"url":"ç½‘ç»œå®‰å…¨/æ‰«æ.html","title":"æ‰«æ","keywords":"","body":"æ‰«æ ä½¿ç”¨æ‰«ææ¥å‘ç°ç›®æ ‡ç³»ç»Ÿæœ‰å“ªäº›æœåŠ¡å¯¹å¤–ç›‘å¬ä»¥åŠèƒ½ç›´æ¥ä»å› ç‰¹ç½‘è®¿é—® ARPä¸»æœºå‘ç° ä½¿ç”¨arp-scan arp-scanæ—¶åœ¨å±€åŸŸç½‘å†…æœ€åˆç†æœ€å¿«çš„æ‰«æå·¥å…· my@my-PC:~$ sudo arp-scan 192.168.43.0/24 Interface: wlp3s0, datalink type: EN10MB (Ethernet) Starting arp-scan 1.9 with 256 hosts (http://www.nta-monitor.com/tools/arp-scan/) 192.168.43.1 82:92:e3:d0:7f:d4 (Unknown) 1 packets received by filter, 0 packets dropped by kernel Ending arp-scan 1.9: 256 hosts scanned in 2.531 seconds (101.15 hosts/sec). 1 responded ä½¿ç”¨nmapä¹Ÿèƒ½åŒæ ·è¿›è¡Œæ‰«æ sudo nmap -sn -PR 192.168.43.0/24 Starting Nmap 7.40 ( https://nmap.org ) at 2019-12-09 09:00 CST Nmap scan report for 192.168.43.1 Host is up (0.0047s latency). MAC Address: 82:92:E3:D0:7F:D4 (Unknown) Nmap scan report for 192.168.43.242 Host is up. Nmap done: 256 IP addresses (2 hosts up) scanned in 3.82 seconds ICMPä¸»æœºå‘ç° ICMPåè®®æ˜¯ä¸€ç§é¢å‘æ— è¿æ¥çš„åè®®ï¼Œç”¨äºä¼ è¾“å‡ºé”™æŠ¥å‘Šæ§åˆ¶ä¿¡æ¯ã€‚å®ƒæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„åè®®ï¼Œå®ƒå¯¹äºç½‘ç»œå®‰å…¨å…·æœ‰æå…¶é‡è¦çš„æ„ä¹‰ å“åº”æŠ¥æ–‡ ä½¿ç”¨ping ä½¿ç”¨nmapæ‰«æ my@my-PC:~$ sudo nmap -sn -PE zbq.ismy.wang Starting Nmap 7.40 ( https://nmap.org ) at 2019-12-09 10:04 CST Nmap scan report for zbq.ismy.wang (120.79.6.172) Host is up (0.067s latency). Nmap done: 1 IP address (1 host up) scanned in 0.43 seconds ä½¿ç”¨hping my@my-PC:~$ sudo nping -c 2 --icmp --icmp-type time zbq.ismy.wang Starting Nping 0.7.40 ( https://nmap.org/nping ) at 2019-12-09 10:07 CST SENT (0.0627s) ICMP [192.168.43.242 > 120.79.6.172 Timestamp request (type=13/code=0) id=52393 seq=1 orig=0 recv=0 trans=0] IP [ttl=64 id=34535 iplen=40 ] SENT (1.0630s) ICMP [192.168.43.242 > 120.79.6.172 Timestamp request (type=13/code=0) id=52393 seq=2 orig=0 recv=0 trans=0] IP [ttl=64 id=34535 iplen=40 ] Max rtt: N/A | Min rtt: N/A | Avg rtt: N/A Raw packets sent: 2 (80B) | Rcvd: 0 (0B) | Lost: 2 (100.00%) Nping done: 1 IP address pinged in 2.09 seconds windows ä¸‹å¯ä»¥ä½¿ç”¨superScan TCP/UDPä¸»æœºå‘ç° ä½¿ç”¨nmap my@my-PC:~$ nmap -Pn 192.168.43.1 Starting Nmap 7.40 ( https://nmap.org ) at 2019-12-09 10:11 CST Nmap scan report for 192.168.43.1 Host is up (0.026s latency). Not shown: 999 closed ports PORT STATE SERVICE 53/tcp open domain Nmap done: 1 IP address (1 host up) scanned in 0.46 seconds åªæ‰«æå¼€å¯ç‰¹å®šç«¯å£çš„ä¸»æœº my@my-PC:~$ sudo nmap -Pn -sS -p 53 192.168.43.0/24 Starting Nmap 7.40 ( https://nmap.org ) at 2019-12-09 10:13 CST Nmap scan report for 192.168.43.1 Host is up (0.0079s latency). PORT STATE SERVICE 53/tcp open domain MAC Address: 82:92:E3:D0:7F:D4 (Unknown) Nmap scan report for 192.168.43.242 Host is up (0.000052s latency). PORT STATE SERVICE 53/tcp closed domain Nmap done: 256 IP addresses (2 hosts up) scanned in 4.36 seconds ä½¿ç”¨nping my@my-PC:~$ sudo nping -c 2 --tcp -p 53 --flags syn 192.168.43.1 Starting Nping 0.7.40 ( https://nmap.org/nping ) at 2019-12-09 10:14 CST SENT (0.0368s) TCP 192.168.43.242:30555 > 192.168.43.1:53 S ttl=64 id=55281 iplen=40 seq=2174361648 win=1480 RCVD (0.2232s) TCP 192.168.43.1:53 > 192.168.43.242:30555 SA ttl=64 id=0 iplen=44 seq=2937135821 win=65535 SENT (1.0373s) TCP 192.168.43.242:30555 > 192.168.43.1:53 S ttl=64 id=55281 iplen=40 seq=2174361648 win=1480 RCVD (1.2432s) TCP 192.168.43.1:53 > 192.168.43.242:30555 SA ttl=64 id=0 iplen=44 seq=2952774060 win=65535 Max rtt: 205.814ms | Min rtt: 186.441ms | Avg rtt: 196.127ms Raw packets sent: 2 (80B) | Rcvd: 2 (88B) | Lost: 0 (0.00%) Nping done: 1 IP address pinged in 1.28 seconds é¢„é˜² å¯†åˆ‡ç•™æ„pingæ´»åŠ¨ æ ¹æ®éœ€æ±‚å†³å®šæ”¾è¡Œå“ªäº›ICMPè¯·æ±‚ ç«¯å£æ‰«æ ç«¯å£æ‰«ææ˜¯æŒ‡æŸäº›åˆ«æœ‰ç”¨å¿ƒçš„äººå‘é€ä¸€ç»„ç«¯å£æ‰«ææ¶ˆæ¯ï¼Œè¯•å›¾ä»¥æ­¤ä¾µå…¥æŸå°è®¡ç®—æœºï¼Œå¹¶äº†è§£å…¶æä¾›çš„è®¡ç®—æœºç½‘ç»œæœåŠ¡ç±»å‹ï¼ˆè¿™äº›ç½‘ç»œæœåŠ¡å‡ä¸ç«¯å£å·ç›¸å…³ï¼‰ sS (TCP SYNæ‰«æ) è¿™ç§æ‰«æä¹Ÿå«åšåŠå¼€æ‰«æï¼Œä¸ä¼šå»ºç«‹ä¸€æ¡tcpè¿æ¥ï¼Œæ‰€ä»¥å¾ˆéšè”½ my@my-PC:~$ sudo nmap -sS 192.168.43.1 Starting Nmap 7.40 ( https://nmap.org ) at 2019-12-09 10:26 CST Nmap scan report for 192.168.43.1 Host is up (0.050s latency). Not shown: 999 closed ports PORT STATE SERVICE 53/tcp open domain MAC Address: 82:92:E3:D0:7F:D4 (Unknown) Nmap done: 1 IP address (1 host up) scanned in 1.95 seconds æ·»åŠ ï¼¤é€‰é¡¹ï¼Œå¯ä»¥å‡å†’å…¶ä»–æºIPå‘é€è¯·æ±‚ï¼Œæ··æ‚åœ¨æ‰«æè¯·æ±‚å½“ä¸­ my@my-PC:~$ sudo nmap -sS 192.168.43.1 -D 10.1.1.1 Starting Nmap 7.40 ( https://nmap.org ) at 2019-12-09 10:33 CST Nmap scan report for 192.168.43.1 Host is up (0.062s latency). Not shown: 999 closed ports PORT STATE SERVICE 53/tcp open domain MAC Address: 82:92:E3:D0:7F:D4 (Unknown) Nmap done: 1 IP address (1 host up) scanned in 5.55 seconds FTPåå¼¹æ‰«æ å®ƒå…è®¸ç”¨æˆ·è¿æ¥åˆ°ä¸€å°FTPæœåŠ¡å™¨ï¼Œç„¶åè¦æ±‚æ–‡ä»¶é€åˆ°ä¸€å°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ã€‚ è¿™ä¸ªç‰¹æ€§åœ¨å¾ˆå¤šå±‚æ¬¡ä¸Šè¢«æ»¥ç”¨ï¼Œæ‰€ä»¥è®¸å¤šæœåŠ¡å™¨å·²ç»åœæ­¢æ”¯æŒå®ƒäº†ã€‚å…¶ä¸­ä¸€ç§å°±æ˜¯å¯¼è‡´FTPæœåŠ¡å™¨å¯¹å…¶å®ƒä¸»æœºç«¯å£æ‰«æã€‚ åªè¦è¯·æ±‚FTPæœåŠ¡å™¨è½®æµå‘é€ä¸€ä¸ªæ–‡ä»¶åˆ°ç›®æ ‡ä¸»æœºä¸Šçš„æ‰€æ„Ÿå…´è¶£çš„ç«¯å£ã€‚ é”™è¯¯æ¶ˆæ¯ä¼šæè¿°ç«¯å£æ˜¯å¼€æ”¾è¿˜æ˜¯å…³é—­çš„ã€‚ è¿™æ˜¯ç»•è¿‡é˜²ç«å¢™çš„å¥½æ–¹æ³• ä½¿ç”¨netcatæ‰«æ my@my-PC:~$ nc -v -z -w2 192.168.43.1 1-140 192.168.43.1: inverse host lookup failed: Unknown host (UNKNOWN) [192.168.43.1] 53 (domain) open é¢„é˜² ä½¿ç”¨å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ(IDS) å…³é—­ä¸å¿…è¦æœåŠ¡ æ“ä½œç³»ç»Ÿæ£€æµ‹ ä½¿ç”¨nmap -O é€‰é¡¹ï¼Œæ¢æµ‹æ“ä½œç³»ç»Ÿç±»å‹(ä¸»åŠ¨å¼æ¢æµ‹) my@my-PC:~$ sudo nmap -O ip Starting Nmap 7.40 ( https://nmap.org ) at 2019-12-09 16:25 CST Nmap scan report for zbq.ismy.wang (120.79.6.172) Host is up (0.070s latency). Not shown: 990 filtered ports ... Aggressive OS guesses: Linux 3.10 - 4.2 (91%), Linux 3.2 - 4.6 (90%), Linux 2.6.32 (89%), Linux 3.16 (89%), Linux 4.4 (88%), OpenWrt Kamikaze 7.09 (Linux 2.6.22) (88%), Linux 3.11 - 3.12 (87%), Linux 3.18 (87%), Crestron XPanel control system (87%), HP P2000 G3 NAS device (87%) No exact OS matches for host (test conditions non-ideal). OS detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 81.44 seconds MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-09 09:27:14 "},"ç½‘ç»œå®‰å…¨/æŸ¥ç‚¹.html":{"url":"ç½‘ç»œå®‰å…¨/æŸ¥ç‚¹.html","title":"æŸ¥ç‚¹","keywords":"","body":"æŸ¥ç‚¹ æœåŠ¡æŒ‡çº¹åˆ†æ ä½¿ç”¨nmap ä½¿ç”¨amapåˆ†ææœåŠ¡ç‰ˆæœ¬ æ¼æ´æ‰«æ nessus æ ‡è¯­æŠ“å– netcatæˆ–telnet my@my-PC:~$ netcat zbq.ismy.wang 80 ss HTTP/1.1 400 Bad Request Server: nginx/1.12.2 Date: Mon, 09 Dec 2019 08:41:25 GMT Content-Type: text/html Content-Length: 173 Connection: close 400 Bad Request 400 Bad Request nginx/1.12.2 å¸¸ç”¨æœåŠ¡æŸ¥ç‚¹ FTP åº”è¯¥ä¸å†ä½¿ç”¨FTPæœåŠ¡ telnetæŸ¥ç‚¹ åº”ä½¿ç”¨æ›´å®‰å…¨çš„sshæ›¿ä»£ smtp åº”è¯¥ä¸å†ä½¿ç”¨ dns ä½¿ç”¨digæŸ¥è¯¢æœ‰å…³dnsæœåŠ¡å™¨çš„ä¿¡æ¯ tftp tftpä¸å¤Ÿå®‰å…¨ï¼Œæ²¡æœ‰æä¾›ä»»ä½•è®¤è¯æ‰‹æ®µï¼Œæ”»å‡»è€…èƒ½è·å–åˆ°è®¸å¤šæ•æ„Ÿæ–‡ä»¶ finger HTTPæŸ¥ç‚¹ SNMPæŸ¥ç‚¹ BGPæŸ¥ç‚¹ RPCæŸ¥ç‚¹ï¼ŒæŸ¥çœ‹ä¸»æœºæœ‰å“ªäº›ç«¯å£æ­£åœ¨ç›‘å¬rpcrpcinfo -p 127.0.0.1 MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-09 09:27:14 "},"ç½‘ç»œå®‰å…¨/æ”»å‡»Windows.html":{"url":"ç½‘ç»œå®‰å…¨/æ”»å‡»Windows.html","title":"æ”»å‡»Windows","keywords":"","body":"æ”»å‡»Windows å–å¾—èº«ä»½å‰çš„æ”»å‡»æ‰‹æ®µ è®¤è¯æ¬ºéª— å¼±å£ä»¤ æš´åŠ›ç ´è§£ å£ä»¤çŒœæµ‹ ä¸­é—´äººæ¬ºéª— è¿œç¨‹éæˆæƒæ¼æ´å‘æ˜ metasploitæ¼æ´å‘æ˜ ç½‘ç»œæœåŠ¡æ¼æ´ åº”ç”¨ç¨‹åºæ¼æ´ é©±åŠ¨ç¨‹åºæ¼æ´ å–å¾—åˆæ³•èº«ä»½åçš„æ”»å‡»æ‰‹æ®µ æƒé™æå‡ å¯†ç å“ˆå¸Œè·å– å¯†ç æ–‡ä»¶å­˜æ”¾åœ¨/system32/configçš„ä¸€ä¸ªsamæ–‡ä»¶ä¸‹ è¿˜æ˜¯é€šè¿‡æš´åŠ›ç ´è§£ è¿œç¨‹æ§åˆ¶åé—¨ è¿œç¨‹ä¿ç•™ä¸€ä¸ªshellï¼Œæ¥ä¾›æ”»å‡»è€…è¿œç¨‹è®¿é—® ç«¯å£é‡å®šå‘ æ©ç›–å…¥ä¾µç—•è¿¹ å…³é—­å®¡æ ¸ æ¸…ç†æ—¥å¿— éšè—æ–‡ä»¶ Windowså®‰å…¨åŠŸèƒ½ é˜²ç«å¢™ è‡ªåŠ¨æ›´æ–° å®‰å…¨ä¸­å¿ƒ å®‰å…¨ç­–ç•¥ä¸ç¾¤ç»„ç­–ç•¥ å¾®è½¯å®‰å…¨è½¯ä»¶ Windowsèµ„æºä¿æŠ¤ UAC DEP(æ•°æ®æ‰§è¡Œä¿æŠ¤ï¼Œå¯¹ä»˜ç¼“å†²åŒºæº¢å‡º) MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-10 12:08:10 "},"ç½‘ç»œå®‰å…¨/æ”»å‡»Unix.html":{"url":"ç½‘ç»œå®‰å…¨/æ”»å‡»Unix.html","title":"æ”»å‡»Unix","keywords":"","body":"æ”»å‡»unix root æƒé™è·å– å¼±ç‚¹æ˜ å°„ é€šè¿‡åœ¨å…¬å…±ä¿¡æ¯è·å¾—æ¼æ´èµ„æº è¿œç¨‹è®¿é—® æš´åŠ›ç ´è§£æ”»å‡» ç¼“å†²åŒºæº¢å‡ºæ”»å‡» return to libc å­—ç¬¦ä¸²æ ¼å¼åŒ–æ”»å‡» ç”¨æˆ·çš„è¾“å…¥è¢«å½“åšæŒ‡ä»¤æ‰§è¡Œ è¾“å…¥éªŒè¯æ”»å‡» æ•´æ•°æº¢å‡ºæ”»å‡» ç”±äºæ— ç¬¦å·è·Ÿæœ‰ç¬¦å·çš„åŒºåˆ«ï¼Œå¯èƒ½è¢«åˆ©ç”¨ä¸ºæ¼æ´ æ‚¬æ‘†æŒ‡é’ˆæ”»å‡» åºŸå¼ƒçš„æŒ‡é’ˆåˆè¢«é‡æ–°åˆ©ç”¨ è·å–ä¸€ä¸ªshell åå‘é€šé“ æ”»å‡»è€…çš„ä¸»æœºå¼€å¯ç›‘å¬æœåŠ¡ï¼Œåˆ©ç”¨è¿œç¨‹ä¸»æœºçš„æ¼æ´ï¼Œè¿æ¥åˆ°æ”»å‡»è€…ä¸»æœº é¢„é˜²çš„æªæ–½åŒ…æ‹¬å…³é—­ä¸å¿…è¦çš„æœåŠ¡&ä½¿ç”¨é˜²ç«å¢™ å¸¸è§çš„è¿œç¨‹æ”»å‡» FTP æƒé™è¿‡å¤§å¯¼è‡´ç³»ç»Ÿæ•æ„Ÿæ–‡ä»¶è¢«è¯»å– æº¢å‡ºæ”»å‡» emailè½¯ä»¶ rpc æº¢å‡ºæ”»å‡» NFS æƒé™é…ç½®é—®é¢˜ DNS æ¯’åŒ– ssh openssl é€šè¿‡éå¯¹ç§°åŠ å¯†è®¡ç®—è®©æœåŠ¡ç«¯è¿‡è½½ apache dos æœ¬åœ°è®¿é—® ç¦»çº¿å£ä»¤ç ´è§£ æœ¬åœ°ç¼“å†²æº¢å‡ºæ”»å‡» å†…æ ¸ç¼ºé™· è·å–rootæƒé™ä¹‹å Rootkit ç‰¹æ´›ä¼Šæœ¨é©¬ ç­¾åæ ¡éªŒ å—…æ¢ç¨‹åº æ—¥å¿—æ¸…ç† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-19 12:09:46 "},"ç½‘ç»œå®‰å…¨/APT.html":{"url":"ç½‘ç»œå®‰å…¨/APT.html","title":"APT","keywords":"","body":" é«˜çº§é•¿æœŸå¨èƒï¼ˆè‹±è¯­ï¼šAdvanced Persistent Threatï¼Œç¼©å†™ï¼šAPTï¼‰ï¼Œåˆç§°é«˜çº§æŒç»­æ€§å¨èƒã€å…ˆè¿›æŒç»­æ€§å¨èƒç­‰ï¼Œæ˜¯æŒ‡éšåŒ¿è€ŒæŒä¹…çš„ç”µè„‘å…¥ä¾µè¿‡ç¨‹ï¼Œé€šå¸¸ç”±æŸäº›äººå‘˜ç²¾å¿ƒç­–åˆ’ï¼Œé’ˆå¯¹ç‰¹å®šçš„ç›®æ ‡ gh0st è¯æ®æ”¶é›† å†…å­˜åˆ†æ ä¸»æ–‡ä»¶è¡¨ ç½‘ç»œè¿›ç¨‹ å®¿ä¸»æ–‡ä»¶ è¿›ç¨‹ç›‘æ§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-22 12:39:02 "},"ç½‘ç»œå®‰å…¨/æ‹¨å·æ”»å‡».html":{"url":"ç½‘ç»œå®‰å…¨/æ‹¨å·æ”»å‡».html","title":"æ‹¨å·æ”»å‡»","keywords":"","body":" æˆ˜äº‰æ‹¨å·å™¨ è¸©ç‚¹ è½¯ä»¶ WarVOX TeleSweep PhoneSweep VPNæ”»å‡» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-23 01:09:27 "},"ç½‘ç»œå®‰å…¨/æ— çº¿æ”»å‡».html":{"url":"ç½‘ç»œå®‰å…¨/æ— çº¿æ”»å‡».html","title":"æ— çº¿æ”»å‡»","keywords":"","body":"å‘ç° ä¸»åŠ¨å‘ç° è¢«åŠ¨å‘ç° aircrack-ng sudo airmon-ng start wlan0 # æŸ¥çœ‹ç½‘å¡æ¥å£ sudo airodump-ng wlp3s0 # æ‰«æAP ç›‘å¬æ•°æ®ä¼ è¾“ wireshark æ‹’ç»æœåŠ¡æ”»å‡» æ¶ˆé™¤è®¤è¯æ”»å‡» å‡å†’æœåŠ¡ç«¯æˆ–å®¢æˆ·ç«¯å‘èµ·è¿æ¥æ–­å¼€è¯·æ±‚ åŠ å¯†æ”»å‡» wep é‡æ”¾æ”»å‡» ç¦»çº¿ç ´è§£ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-23 08:50:40 "},"ç½‘ç»œå®‰å…¨/ç¡¬ä»¶æ”»å‡».html":{"url":"ç½‘ç»œå®‰å…¨/ç¡¬ä»¶æ”»å‡».html","title":"ç¡¬ä»¶æ”»å‡»","keywords":"","body":" ATAè®¾å¤‡è®¿é—® ç§»åŠ¨è®¾å¤‡autorun é»˜è®¤é…ç½®å¸¦æ¥çš„å±é™© ç¡¬ä»¶ç”µè·¯å›¾æ¢æµ‹ï¼Œå—…æ¢æ•°æ® åé—¨ä»£ç  MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-23 08:50:40 "},"ç½‘ç»œå®‰å…¨/webä¸æ•°æ®åº“æ”»å‡».html":{"url":"ç½‘ç»œå®‰å…¨/webä¸æ•°æ®åº“æ”»å‡».html","title":"webä¸æ•°æ®åº“æ”»å‡»","keywords":"","body":" demoæ–‡ä»¶æ”»å‡» æºä»£ç æš´éœ² è§„èŒƒåŒ–æ¼æ´ æ–‡ä»¶è·¯å¾„ æ‰©å±•ç¨‹åºæ¼æ´ ç¼“å†²åŒºæº¢å‡º æ‹’ç»æœåŠ¡ æ¼æ´æ‰«æå™¨ nikto nessus æ”»å‡» æŸ¥ç‚¹ google çˆ¬è™« æ¼æ´æŒ–æ˜ fiddler webscarab burp suite å¸¸è§æ¼æ´ XSS SQLæ³¨å…¥ CSRF HTTPåº”ç­”æ³¨å…¥ éšè—æ ‡ç­¾ ssiå¯¼è‡´çš„å‘½ä»¤æ‰§è¡Œ æ•°æ®åº“æ”»å‡» æŸ¥ç‚¹ æ¼æ´ ç›‘å¬ç¨‹åº æ•°æ®åº“å¼•æ“ å£ä»¤ é—´æ¥æ”»å‡» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-23 11:42:20 "},"ç½‘ç»œå®‰å…¨/ç§»åŠ¨è®¾å¤‡æ”»å‡».html":{"url":"ç½‘ç»œå®‰å…¨/ç§»åŠ¨è®¾å¤‡æ”»å‡».html","title":"ç§»åŠ¨è®¾å¤‡æ”»å‡»","keywords":"","body":"android rooting æœ¬åœ°(native)æ–‡ä»¶ è¿œç¨‹shellæ¼æ´ æ•°æ®çªƒå– èƒ½åŠ›æ³„éœ² æ¶æ„è½¯ä»¶ åº”ç”¨ç¨‹åºæ¼æ´ ä¾¿æºå¼ç½‘ç»œæ”»å‡»å™¨ ios MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-24 01:21:56 "},"ç½‘ç»œå®‰å…¨/KALI/æ¸—é€æµ‹è¯•æ–¹æ³•è®º.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/æ¸—é€æµ‹è¯•æ–¹æ³•è®º.html","title":"KALIæ¸—é€æµ‹è¯•","keywords":"","body":"æ¸—é€æµ‹è¯• ç§ç±» ç™½ç›’æµ‹è¯• é»‘ç›’æµ‹è¯• æ–¹æ³•è®º æ¸—é€æµ‹è¯•æ–¹æ³•è®ºæœ‰è®¸å¤šï¼Œè‘—åçš„æœ‰OWASP(å¼€æ”¾å¼webåº”ç”¨å®‰å…¨é¡¹ç›®) ISSAF(ä¿¡æ¯ç³»ç»Ÿå®‰å…¨è¯„ä¼°æ¡†æ¶) OSSTMM(å¼€æºå®‰å…¨æµ‹è¯•æ–¹æ³•è®º) ç›²æµ‹ åŒç›²æµ‹ ç°ç›’æµ‹è¯• åŒç°ç›’æµ‹è¯• ä¸²è”æµ‹è¯• é€†å‘æµ‹è¯• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-24 11:53:08 "},"ç½‘ç»œå®‰å…¨/KALI/ä¿¡æ¯æ”¶é›†.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/ä¿¡æ¯æ”¶é›†.html","title":"ä¿¡æ¯æ”¶é›†","keywords":"","body":" åŸŸåæ³¨å†Œä¿¡æ¯ # å¹¶ä¸æ­¢å±€é™äºä½¿ç”¨å‘½ä»¤è¡Œwhoisç¨‹åº whois -h whois.crsnic.net \"domain google.com\" DNSè®°å½•åˆ†æ æŸ¥è¯¢dnsåœ°å€ host -a ismy.wang ä½¿ç”¨digè¾¾åˆ°åŒæ ·çš„æ•ˆæœ dig ismy.wang any è·¯ç”±ä¿¡æ¯ traceroute ismy.wang tcptraceroute ismy.wang æœç´¢å¼•æ“ å–„ç”¨æœç´¢å¼•æ“æœç´¢ç›¸å…³ä¸»æœºçš„é‚®ç®±æˆ–è€…ç”¨æˆ·å MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-24 11:53:08 "},"ç½‘ç»œå®‰å…¨/KALI/ç›®æ ‡è¯†åˆ«.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/ç›®æ ‡è¯†åˆ«.html","title":"ç›®æ ‡è¯†åˆ«","keywords":"","body":"ä¸»æœºè¯†åˆ« ping arping arping 192.168.43.1 # å±€åŸŸç½‘ä¸»æœºè¯†åˆ« fping fping -g 192.168.43.0/24 # æ‰«æå±€åŸŸç½‘ä¸»æœº hping3 nping nbtscan æ“ä½œç³»ç»Ÿè¯†åˆ« è¢«åŠ¨å¼è¯†åˆ« p0f ä¸»åŠ¨å¼ nmap MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-24 11:53:08 "},"ç½‘ç»œå®‰å…¨/KALI/æœåŠ¡æšä¸¾.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/æœåŠ¡æšä¸¾.html","title":"æœåŠ¡æšä¸¾","keywords":"","body":"nmap æ‰«æç›®æ ‡æŒ‡å®š æ™®é€šç‚¹åˆ†åè¿›åˆ¶(192.168.1.1) CIDRæ ‡è®°æ³•(192.168.1.0/24) åè¿›åˆ¶ipåŒºé—´(192.168.1.1-255) å¤šä¸ªip(ip1,ip2) æ‰«ææ–¹å¼ sTï¼šä¼šè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ sS:åªä¼šè¿›è¡Œä¸€æ¬¡æ¡æ‰‹ sN,sF,sX:é€šè¿‡åˆ¤æ–­ç›®æ ‡æœ‰æ— å›åº”ç¡®å®šç«¯å£çŠ¶æ€ sM:åŒä¸Š sA:åˆ¤æ–­æ˜¯å¦æœ‰é˜²ç«å¢™è¿‡æ»¤ sW:çª—å£æ‰«æ sI:é€šè¿‡åƒµå°¸ç½‘ç»œ ç«¯å£é€‰é¡¹ p:ç«¯å£èŒƒå›´ F:å¿«é€Ÿæ‰«æ r:é¡ºåºæ‰«æ æ—¶é—´é€‰é¡¹ T:æŒ‡å®šæ‰«ææ¨¡å¼ æœåŠ¡ç‰ˆæœ¬è¯†åˆ« nmap -sV 192.168.43.0/24 å¼ºåŠ›é€‰é¡¹A ä¼šå¼€å¯æœåŠ¡ç‰ˆæœ¬è¯†åˆ«ï¼Œæ“ä½œç³»ç»Ÿè¯†åˆ«ï¼Œè„šæœ¬æ‰«æï¼Œè·¯ç”±è¿½è¸ª nbtscan å¯ä»¥æ‰«æä¸»æœºnetbiosä¿¡æ¯ NetBIOSï¼Œä¸ºç½‘ä¸ŠåŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼ˆè‹±è¯­ï¼šNetwork Basic Input/Output Systemï¼‰çš„ç¼©å†™ï¼Œå®ƒæä¾›äº†OSIæ¨¡å‹ä¸­çš„ä¼šè¯å±‚æœåŠ¡ï¼Œè®©åœ¨ä¸åŒè®¡ç®—æœºä¸Šè¿è¡Œçš„ä¸åŒç¨‹åºï¼Œå¯ä»¥åœ¨å±€åŸŸç½‘ä¸­ï¼Œäº’ç›¸è¿çº¿ï¼Œä»¥åŠåˆ†äº«æ•°æ®ã€‚ä¸¥æ ¼æ¥è¯´ï¼ŒNetBIOSä¸æ˜¯ä¸€ç§ç½‘ä¸Šåè®®ï¼Œè€Œæ˜¯åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPI nbtscan 192.168.43.1-254 snmapæšä¸¾ onesixtyone snmpcheck VPNæšä¸¾ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-27 12:12:53 "},"ç½‘ç»œå®‰å…¨/KALI/æ¼æ´æ˜ å°„.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/æ¼æ´æ˜ å°„.html","title":"æ¼æ´æ˜ å°„","keywords":"","body":" æœ¬åœ°æ¼æ´ è¿œç¨‹æ¼æ´ æ¼æ´åˆ†ç±» è®¾è®¡ç±» å®æ–½ç±» è¿è¥ç±» å·¥å…· OpenVAS OpenVASæ˜¯åŠŸèƒ½é½å…¨çš„æ¼æ´æ‰«æç¨‹åº Ciscoåˆ†æå·¥å…· æ¨¡ç³Šåˆ†æå·¥å…· é€šè¿‡å‘é€æœ‰é—®é¢˜çš„æ•°æ®æ¥æ£€æµ‹é—®é¢˜ SNMPåˆ†æ SMBåˆ†æ webç¨‹åºåˆ†æ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-27 12:12:53 "},"ç½‘ç»œå®‰å…¨/KALI/ç¤¾ä¼šå·¥ç¨‹.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/ç¤¾ä¼šå·¥ç¨‹.html","title":"ç¤¾ä¼šå·¥ç¨‹","keywords":"","body":" å†’åé¡¶æ›¿ åˆ©ç›Šäº¤æ¢ å·¥å…· SET MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-27 12:12:53 "},"ç½‘ç»œå®‰å…¨/KALI/æ¼æ´åˆ©ç”¨.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/æ¼æ´åˆ©ç”¨.html","title":"æ¼æ´åˆ©ç”¨","keywords":"","body":"exploitèµ„æ–™åº“ å‘å¸ƒäº†éƒ¨åˆ†å·²çŸ¥æ¼æ´çš„åˆ©ç”¨æ–¹æ³• å·¥å…· metasploit exploit æ¼æ´åˆ©ç”¨æ¨¡æ¿ payload åŒ…å«æ¶æ„ç¨‹åºçš„æœ‰æ•ˆè½½è· shell bind shell reverse shell meterpreter MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-27 12:12:53 "},"ç½‘ç»œå®‰å…¨/KALI/æƒé™æå‡.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/æƒé™æå‡.html","title":"æƒé™æå‡","keywords":"","body":" æ¨ªå‘ææƒ çºµå‘ææƒ æœ¬åœ°æ¼æ´åˆ©ç”¨ å¯†ç æ”»å‡» ç¦»çº¿æ”»å‡»å·¥å…· hash-identifier Hashcat RainbowCrack samdump2 john Ophcrack Crunch åœ¨çº¿ç ´è§£å·¥å…· CeWL Hydra Medusa ç½‘ç»œæ¬ºéª—å·¥å…· DNSChef å¯ä»¥ä¼ªé€ å‡DNSåº”ç­”åœ°å€ arpspoof Ettercap æˆªå–ä¼šè¯ä¸å¯†ç  ç½‘ç»œå—…æ¢å™¨ Dsniff å¯†ç æ•è· tcpdump Wireshark MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-28 08:11:03 "},"ç½‘ç»œå®‰å…¨/KALI/è®¿é—®ç»´æŠ¤.html":{"url":"ç½‘ç»œå®‰å…¨/KALI/è®¿é—®ç»´æŠ¤.html","title":"è®¿é—®ç»´æŠ¤","keywords":"","body":"æ“ä½œç³»ç»Ÿåé—¨ Cymothoa Intersect Meterpreteråé—¨ éš§é“å·¥å…· dns2tcp iodine ncat proxychains ptunnel socat sslh stunnel4 webåé—¨ WeBaCoo é€šä¿¡é‡‡ç”¨äº†cookie weevely php meterpreter MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-28 08:11:03 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/nav.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/nav.html","title":"Webå®‰å…¨","keywords":"","body":"åŸåˆ™ é»‘åå•ä¸ç™½åå•æ€æƒ³ æœ€å°æƒé™åŸåˆ™ çºµæ·±é˜²å¾¡ æ•°æ®ä¸ä»£ç åˆ†ç¦» ä¸å¯é¢„æµ‹åŸåˆ™ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/æµè§ˆå™¨å®‰å…¨.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/æµè§ˆå™¨å®‰å…¨.html","title":"æµè§ˆå™¨å®‰å…¨","keywords":"","body":"æµè§ˆå™¨å®‰å…¨ åŒæºç­–ç•¥ åŒæºç­–ç•¥é™åˆ¶äº†ä»åŒä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ URL ç»“æœ åŸå›  http://store.company.com/dir2/other.html æˆåŠŸ åªæœ‰è·¯å¾„ä¸åŒ http://store.company.com/dir/inner/another.html æˆåŠŸ åªæœ‰è·¯å¾„ä¸åŒ https://store.company.com/secure.html å¤±è´¥ ä¸åŒåè®® ( httpså’Œhttp ) http://store.company.com:81/dir/etc.html å¤±è´¥ ä¸åŒç«¯å£ ( http:// 80æ˜¯é»˜è®¤çš„) http://news.company.com/dir/other.html å¤±è´¥ ä¸åŒåŸŸå ( newså’Œstore ) åŒæºç­–ç•¥ä¸€æ—¦å‡ºç°æ¼æ´è¢«ç»•è¿‡ï¼Œå°†ä¼šå‡ºç°ä¸¥é‡çš„åæœ æµè§ˆå™¨æ²™ç®± æ²™ç®±è®¾è®¡çš„ç›®çš„æ˜¯ä¸ºäº†è®©ä¸å¯ä¿¡çš„ä»£ç è¿è¡Œåœ¨ä¸€å®šçš„ç¯å¢ƒä¸­ï¼Œä»è€Œé™åˆ¶è¿™äº›ä»£ç è®¿é—®éš”ç¦»åŒºä¹‹å¤–çš„èµ„æºã€‚å¦‚æœå› ä¸ºæŸç§åŸå› ï¼Œç¡®å®éœ€è¦è®¿é—®éš”ç¦»åŒºå¤–çš„èµ„æºï¼Œé‚£ä¹ˆå°±å¿…é¡»é€šè¿‡çš„æŒ‡å®šçš„é€šé“ï¼Œè¿™äº›é€šé“ä¼šè¿›è¡Œä¸¥æ ¼çš„å®‰å…¨æ£€æŸ¥ï¼Œæ¥åˆ¤æ–­è¯·æ±‚çš„åˆæ³•æ€§ã€‚é€šé“ä¼šé‡‡å–é»˜è®¤æ‹’ç»çš„ç­–ç•¥ï¼Œä¸€èˆ¬é‡‡ç”¨å°è£… API çš„æ–¹å¼æ¥å®ç° æ¶æ„ç½‘å€æ‹¦æˆª å¤§éƒ¨åˆ†éƒ½æ˜¯é€šè¿‡è¯†åˆ«ä¸Šä¼ åˆ°äº‘ï¼Œæµè§ˆå™¨å‚å•†å…±äº«æ•°æ®åº“ï¼Œä»è€Œè¯†åˆ«æ¶æ„ç½‘ç«™ é˜²ç›—é“¾ ç›—é“¾æ˜¯æŒ‡æœåŠ¡æä¾›å•†è‡ªå·±ä¸æä¾›æœåŠ¡çš„å†…å®¹ï¼Œé€šè¿‡æŠ€æœ¯æ‰‹æ®µç»•è¿‡å…¶å®ƒæœ‰åˆ©ç›Šçš„æœ€ç»ˆç”¨æˆ·ç•Œé¢ï¼ˆå¦‚å¹¿å‘Šï¼‰ï¼Œç›´æ¥åœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šå‘æœ€ç»ˆç”¨æˆ·æä¾›å…¶å®ƒæœåŠ¡æä¾›å•†çš„æœåŠ¡å†…å®¹ï¼Œéª—å–æœ€ç»ˆç”¨æˆ·çš„æµè§ˆå’Œç‚¹å‡»ç‡ã€‚å—ç›Šè€…ä¸æä¾›èµ„æºæˆ–æä¾›å¾ˆå°‘çš„èµ„æºï¼Œè€ŒçœŸæ­£çš„æœåŠ¡æä¾›å•†å´å¾—ä¸åˆ°ä»»ä½•çš„æ”¶ç›Š å®ç°åŸç† é€šè¿‡åˆ¤æ–­HTTPè¯·æ±‚å¤´refererï¼ˆè®¿é—®çš„æ¥æºï¼‰å­—æ®µï¼ŒæœåŠ¡ç«¯å†æ ¹æ®è¯¥å­—æ®µæ˜¯å¦è¿”å›èµ„æº public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { HttpServletRequest req = (HttpServletRequest) request; String referer = req.getHeader(\"Referer\"); if (StringUtils.isEmpty(referer)) { request.getRequestDispatcher(\"/imgs/error.png\").forward(request, response); return; } String domain = getDomain(referer); if (!domain.equals(domainName)) { request.getRequestDispatcher(\"/imgs/error.png\").forward(request, response); return; } chain.doFilter(request, response); } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-28 05:34:20 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/XSSæ”»å‡».html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/XSSæ”»å‡».html","title":"XSSæ”»å‡»","keywords":"","body":"è·¨ç«™è„šæœ¬æ”»å‡»(XSS) XSSæ”»å‡»é€šå¸¸æŒ‡çš„æ˜¯é€šè¿‡åˆ©ç”¨ç½‘é¡µå¼€å‘æ—¶ç•™ä¸‹çš„æ¼æ´ï¼Œé€šè¿‡å·§å¦™çš„æ–¹æ³•æ³¨å…¥æ¶æ„æŒ‡ä»¤ä»£ç åˆ°ç½‘é¡µï¼Œä½¿ç”¨æˆ·åŠ è½½å¹¶æ‰§è¡Œæ”»å‡»è€…æ¶æ„åˆ¶é€ çš„ç½‘é¡µç¨‹åº XSSç±»å‹ åå°„å‹XSS éœ€è¦æ„é€ ä¸€ä¸ªæ¶æ„URLï¼Œè¯±å¯¼ç”¨æˆ·è®¿é—® å­˜å‚¨å‹XSS æ•°æ®å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå½“æ•°æ®è¢«æ¸²æŸ“åˆ°å®¢æˆ·ç«¯çš„æ—¶å€™ï¼Œæ¶æ„ä»£ç ä¼šè¢«æ‰§è¡Œ DOM based XSS æ¶æ„æ•°æ®æ³¨å…¥å¯¼è‡´domèŠ‚ç‚¹è¢«æ”¹å˜ XSS payload è·å–cookie é€šè¿‡ç”ŸæˆimgèŠ‚ç‚¹å‘èµ·getè¯·æ±‚ æ„é€ fromè¡¨å•å‘èµ·postè¯·æ±‚ ä¼ªé€ é¡µé¢è¿›è¡Œé’“é±¼ æµè§ˆå™¨åŠæ’ä»¶è¯†åˆ« é˜²å¾¡ ä½¿ç”¨http-only ç¦æ­¢jsè¯»å–cookie è¾“å…¥æ£€æŸ¥ è¾“å‡ºæ£€æŸ¥ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-29 11:47:53 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/CSRF.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/CSRF.html","title":"CSRF","keywords":"","body":"è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰ è·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ é˜²å¾¡ éªŒè¯ç  å‘ç”Ÿcsrfæ—¶ï¼Œç”¨æˆ·ä¸€èˆ¬éƒ½ä¸çŸ¥é“ï¼Œå½“å¼•å…¥éªŒè¯ç çš„æ—¶å€™ï¼Œåˆ™å°±æ˜¯å¼ºåˆ¶ç”¨æˆ·ä¸åº”ç”¨äº¤äº’ æ£€æŸ¥referer é¡µé¢ä¸€èˆ¬å…·æœ‰é€»è¾‘å…³ç³»ï¼Œå¦‚ä¸‹å•ä¹‹å‰çš„é¡µé¢ä¸€èˆ¬æ˜¯è´­ç‰©è½¦ï¼Œå¦‚æœä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™æ˜¯å¾ˆå¯ç–‘çš„ token è¦å®æ–½ä¸€æ¬¡csrfï¼Œæ”»å‡»è€…éœ€è¦æ„é€ å‡ºæ“ä½œçš„è¯·æ±‚æ•°æ®ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¼•å…¥ä¸€ä¸ªéšæœºå˜é‡ï¼ŒURLå°±æ— æ³•æ„é€ ï¼Œæ›´è°ˆä¸ä¸Šæ”»å‡»äº† æ¥å£å¹‚ç­‰æ€§è®¾è®¡ MVVC å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ é€šè¿‡ä¸€ä¸ªç‰ˆæœ¬å·æ¥è¾¾åˆ°é¿å…å†²çªï¼Œä½†æ˜¯ä¼šæœ‰ä¸€å®šçš„é‡è¯• å»é‡è¡¨ åˆ©ç”¨æ•°æ®åº“çš„å”¯ä¸€ç´¢å¼•ç‰¹æ€§ï¼Œä¿è¯å”¯ä¸€çš„é€»è¾‘ æ‚²è§‚é” æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­é”å®šè¯¥è®¢å•å¯¹åº”çš„è®°å½• token æ•°æ®æäº¤å‰è¦å‘æœåŠ¡çš„ç”³è¯· tokenï¼Œtoken æ”¾åˆ° redis æˆ–å†…å­˜ï¼Œtoken æœ‰æ•ˆæ—¶é—´æäº¤ååå°æ ¡éªŒ tokenï¼ŒåŒæ—¶åˆ é™¤ tokenï¼Œtokenåªæœ‰ä¸€æ¬¡æœ‰æ•ˆæ€§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-28 06:24:04 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/ç‚¹å‡»åŠ«æŒ.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/ç‚¹å‡»åŠ«æŒ.html","title":"ç‚¹å‡»åŠ«æŒ","keywords":"","body":"ç‚¹å‡»åŠ«æŒ flashåŠ«æŒ å›¾ç‰‡è¦†ç›–æ”»å‡» é€šè¿‡ä¿®æ”¹å›¾ç‰‡çš„styleå±æ€§èƒ½è®©å›¾ç‰‡å‡ºç°åœ¨é¡µé¢ä»»ä½•ä½ç½® æ‹–æ‹½åŠ«æŒ é€šè¿‡éšè—æ§ä»¶ï¼Œè®©ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ‹–æ‹½ç½‘é¡µæ•°æ®åˆ°å¦å¤–ä¸€ä¸ªé¡µé¢ è§¦å±åŠ«æŒ é˜²å¾¡ ç¦æ­¢æœ¬ç½‘ç«™è¢«ä½äºæœ¬ç½‘ç«™ä¹‹å¤–çš„iframeæ‰€åµŒå¥— HTTP X-Frame-Options MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-30 12:53:45 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/HTML5å®‰å…¨.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/HTML5å®‰å…¨.html","title":"HTML5å®‰å…¨","keywords":"","body":"HTML5å®‰å…¨ æ–°æ ‡ç­¾ æ–°çš„æ ‡ç­¾å‡ºç°å¯¼è‡´ä¹‹å‰çš„XSSé˜²å¾¡å¤±æ•ˆ iframeå¢åŠ sandboxå±æ€§å°†å¤§å¤§æé«˜å®‰å…¨æ€§ aæ ‡ç­¾çš„relå¯ä»¥æŒ‡å®šä¸å‘é€referer canvasçš„åº”ç”¨ å…¶ä»–å®‰å…¨é—®é¢˜ è·¨åŸŸè¯·æ±‚å¤´ windowå¯¹è±¡ä¸å—åŒæºç­–ç•¥é™åˆ¶ web storage MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-30 12:53:45 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/æ³¨å…¥æ”»å‡».html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/æ³¨å…¥æ”»å‡».html","title":"æ³¨å…¥æ”»å‡»","keywords":"","body":"æ³¨å…¥æ”»å‡» æ³¨å…¥æ”»å‡»çš„æœ¬è´¨ï¼Œè¿˜æ˜¯å› ä¸ºæ•°æ®è·Ÿä»£ç æ²¡æœ‰ç›¸åˆ†ç¦»ï¼ŒæŠŠç”¨æˆ·è¾“å…¥çš„æ•°æ®ä½œä¸ºä»£ç çš„ä¸€éƒ¨åˆ†æ‰§è¡Œ SQLæ³¨å…¥ ç›²æ³¨ é€šè¿‡åœ¨æ¡ä»¶æ‹¼æ¥æ¡ä»¶æ¥æŸ¥çœ‹é¡µé¢è¿”å›ç»“æœ timeing attack é€šè¿‡åœ¨æ¡ä»¶åŠ ä¸Šè€—æ—¶å‡½æ•°ï¼ŒæŸ¥çœ‹æœ€ç»ˆé¡µé¢è¿”å›æ—¶é—´ï¼Œæ¥ç¡®å®šæ˜¯å¦å­˜åœ¨æ³¨å…¥æ¼æ´ å±äºè¾¹ä¿¡é“æ”»å‡»çš„ä¸€ç§ æ•°æ®åº“æ”»å‡»æŠ€å·§ è¯»å†™æ–‡ä»¶ å‘½ä»¤æ‰§è¡Œ å­—ç¬¦é›†é—®é¢˜ é˜²å¾¡ é¢„ç¼–è¯‘ æ£€æŸ¥æ•°æ®ç±»å‹ å®‰å…¨ç¼–ç å‡½æ•° OWASP ESAPI å…¶ä»–æ³¨å…¥æ”»å‡» XMLæ³¨å…¥ ç”¨æˆ·è¾“å…¥çš„æ•°æ®æ”¹å˜äº†XMLçš„ç»“æ„ ä»£ç å‡½æ•° ä½¿ç”¨äº†ä»£ç æ‰§è¡Œå‡½æ•°æ‰§è¡Œäº†åŒ…å«ç”¨æˆ·è¾“å…¥çš„ä»£ç  CRLFæ³¨å…¥ æœ‰äº›ä½¿ç”¨CRLFæ¢è¡Œç¬¦åˆ†å‰²çš„åœ°æ–¹ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„æ•°æ®åŒ…å«CRLFï¼Œåˆ™ä¼šé€ æˆé—®é¢˜ log HTTP header MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-12-31 02:42:10 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/æ–‡ä»¶ä¸Šä¼ æ¼æ´.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/æ–‡ä»¶ä¸Šä¼ æ¼æ´.html","title":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","keywords":"","body":"æ–‡ä»¶ä¸Šä¼ æ¼æ´ ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶è¢«webå®¹å™¨è§£é‡Šæ‰§è¡Œ ä¸Šä¼ çš„æ˜¯è·¨åŸŸé…ç½®æ–‡ä»¶ï¼Œå¯¼è‡´åŒæºç­–ç•¥å¤±æ•ˆ ä¸Šä¼ çš„æ–‡ä»¶æ˜¯æœ¨é©¬ç—…æ¯’è¢«ç®¡ç†å‘˜ä¸‹è½½æ‰§è¡Œ ä¸Šä¼ çš„å›¾ç‰‡å«æœ‰æœ¨é©¬ä¸è„šæœ¬ï¼Œè¢«æŸäº›æµè§ˆå™¨æ‰§è¡Œ æ–‡ä»¶ä¸Šä¼ æ£€æŸ¥ç»•è¿‡ é€šè¿‡\\0å­—ç¬¦æˆªæ–­ apacheæ–‡ä»¶è§£æ apacheå¯¹ä¸è®¤è¯†çš„æ–‡ä»¶ç±»å‹çš„å¤„ç† IISæ–‡ä»¶è§£æ nginxå¯¹php cgiçš„æ‰§è¡Œé—®é¢˜ å®‰å…¨çš„æ–‡ä»¶ä¸Šä¼  ä¸Šä¼ ç›®å½•è®¾ç½®ä¸ºä¸å¯æ‰§è¡Œ ç™½åå•æ–‡ä»¶ç±»å‹æ£€æŸ¥ åç¼€å+æ–‡ä»¶å¤´ æ–‡ä»¶å­˜æ”¾åŠ ä¸Šéšæœºæ•° å•ç‹¬çš„æ–‡ä»¶æœåŠ¡å™¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-29 01:58:55 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/è®¤è¯ä¸ä¼šè¯ç®¡ç†.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/è®¤è¯ä¸ä¼šè¯ç®¡ç†.html","title":"è®¤è¯ä¸ä¼šè¯ç®¡ç†","keywords":"","body":"è®¤è¯ä¸ä¼šè¯ç®¡ç† å¯†ç  å¯†ç çš„å¼ºåº¦å¯¼è‡´çš„é—®é¢˜ å¤šå› ç´ è®¤è¯ Session Sessionï¼šåœ¨è®¡ç®—æœºä¸­ï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œåº”ç”¨ä¸­ï¼Œç§°ä¸ºâ€œä¼šè¯æ§åˆ¶â€ã€‚Sessionå¯¹è±¡å­˜å‚¨ç‰¹å®šç”¨æˆ·ä¼šè¯æ‰€éœ€çš„å±æ€§åŠé…ç½®ä¿¡æ¯ã€‚è¿™æ ·ï¼Œå½“ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºçš„Webé¡µä¹‹é—´è·³è½¬æ—¶ï¼Œå­˜å‚¨åœ¨Sessionå¯¹è±¡ä¸­çš„å˜é‡å°†ä¸ä¼šä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æ•´ä¸ªç”¨æˆ·ä¼šè¯ä¸­ä¸€ç›´å­˜åœ¨ä¸‹å» session id æ³„æ¼ session fixation å¦‚æœç™»å½•åsession idä¸æ”¹å˜ï¼Œåˆ™æ”»å‡»è€…å¯ä»¥è¯±å¯¼ç”¨æˆ·ç™»å½•æŸä¸ªæ”»å‡»è€…çš„session id session ä¿æŒæ”»å‡» ä¸æ–­åˆ·æ–°ï¼Œä½¿sessionä¸€ç›´ä¿æŒæœ‰æ•ˆ è®¿é—®æ§åˆ¶ åŸºäºURL åŸºäºæ–¹æ³• åŸºäºæ•°æ® å‚ç›´æƒé™ç®¡ç† æ°´å¹³æƒé™ç®¡ç† æ°´å¹³è¶Šæƒè®¿é—® ç”¨æˆ·è®¿é—®åˆ°ä¸å±äºå®ƒçš„å…¶ä»–ç”¨æˆ·ä¿¡æ¯ Oauth MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-01 08:05:08 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/åŠ å¯†ç®—æ³•ä¸éšæœºæ•°.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/åŠ å¯†ç®—æ³•ä¸éšæœºæ•°.html","title":"åŠ å¯†ç®—æ³•ä¸éšæœºæ•°","keywords":"","body":"åŠ å¯†ç®—æ³•ä¸éšæœºæ•° æµåŠ å¯†æ”»å‡» æœ‰äº›åŠ å¯†ç®—æ³•æ˜¯å°†æµä¸­çš„æ¯ä¸ªå­—èŠ‚é€ä¸ªè¿›è¡Œå¼‚æˆ– è¿™å¯¼è‡´åªéœ€è¦çŸ¥é“ä¸¤ä¸ªåŠ å¯†åçš„å¯†æ–‡ï¼Œä¾¿è§£å¯†å¯†æ–‡ ECBæ¨¡å¼çš„æ›²çº¿ åˆ†ç»„åŠ å¯†ç®—æ³•æ”¹å˜åˆ†ç»„å¯†æ–‡çš„é¡ºåºï¼Œä¹Ÿå°†æ”¹å˜è§£å¯†åçš„æ˜æ–‡é¡ºåºï¼Œè¿™å¾ˆæœ‰å¯èƒ½å°†å¯¼è‡´æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­å…³é”®æ•°æ®è¢«ä¼ªé€  å¯†é’¥ç®¡ç† å¯†ç å­¦é‡Œçš„åŸåˆ™ï¼šå¯†ç ç³»ç»Ÿçš„å®‰å…¨æ€§åº”è¯¥ä¾èµ–äºå¯†é’¥çš„å¤æ‚æ€§ï¼Œè€Œéç®—æ³•çš„ä¿å¯†æ€§ webåº”ç”¨çš„å¯†é’¥å¯ä»¥å­˜æ”¾åœ¨é…ç½®æ–‡ä»¶æˆ–æ•°æ®åº“ä¸­ï¼Œä½†å¯¹å¯†é’¥çš„è·å–è¦æœ‰ä¸¥æ ¼çš„æƒé™ç®¡ç† ä¼ªéšæœºæ•°é—®é¢˜ å¼±éšæœºæ•° æ—¶é—´æˆ³å½“éšæœºæ•° éšæœºæ•°ç§å­çŒœæµ‹ åŠ å¯†ç®—æ³• å¯¹ç§°åŠ å¯† å‘ä»¶äººå’Œæ”¶ä»¶äººä½¿ç”¨å…¶å…±åŒæ‹¥æœ‰çš„å•ä¸ªå¯†é’¥ ,è¿™ç§å¯†é’¥æ—¢ç”¨äºåŠ å¯†ï¼Œä¹Ÿç”¨äºè§£å¯† å¸¸è§çš„å¯¹ç§°åŠ å¯†ç®—æ³•ï¼šDESã€3DESã€DESXã€Blowfishã€IDEAã€RC4ã€RC5ã€RC6å’ŒAES ä¼˜ç‚¹ åªéœ€è®°å¿†ä¸€ä¸ªå¯†é’¥ï¼Œå°±å¯ç”¨äºåŠ å¯†ã€è§£å¯†ï¼› ä¸éå¯¹ç§°åŠ å¯†æ–¹æ³•ç›¸æ¯”ï¼ŒåŠ å¯†è§£å¯†çš„è®¡ç®—é‡å°ï¼Œé€Ÿåº¦å¿«ï¼Œç®€å•æ˜“ç”¨ï¼Œé€‚åˆäºå¯¹æµ·é‡æ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç† ç¼ºç‚¹ å¦‚æœå¯†é’¥äº¤æ¢ä¸å®‰å…¨ï¼Œå¯†é’¥çš„å®‰å…¨æ€§å°±ä¼šä¸§å¤± éå¯¹ç§°åŠ å¯† å¯†é’¥ä¾æ®æ€§è´¨åˆ’åˆ†ï¼Œå°†å…¶ä¸­çš„ä¸€ä¸ªå‘å¤–ç•Œå…¬å¼€ï¼Œç§°ä¸ºå…¬é’¥ï¼›å¦ä¸€ä¸ªåˆ™è‡ªå·±ä¿ç•™ï¼Œç§°ä¸ºç§é’¥ã€‚å…¬é’¥(Public key)å¸¸ç”¨äºæ•°æ®åŠ å¯†ï¼ˆç”¨å¯¹æ–¹å…¬é’¥åŠ å¯†ï¼‰æˆ–ç­¾åéªŒè¯ï¼ˆç”¨å¯¹æ–¹å…¬é’¥è§£å¯†ï¼‰ï¼Œç§é’¥(Private key)å¸¸ç”¨äºæ•°æ®è§£å¯†ï¼ˆå‘é€æ–¹ç”¨æ¥æ”¶æ–¹å…¬é’¥åŠ å¯†ï¼‰æˆ–æ•°å­—ç­¾åï¼ˆç”¨è‡ªå·±ç§é’¥åŠ å¯†ï¼‰ å¸¸è§çš„å¯¹ç§°åŠ å¯†ç®—æ³•ï¼šRSAã€Elgamalã€èƒŒåŒ…ç®—æ³•ã€Rabinã€D-Hã€ECC ä¼˜ç‚¹ éš¾ç ´è§£ ç¼ºç‚¹ åŠ å¯†é€Ÿåº¦æ…¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-02 01:08:49 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/Webæ¡†æ¶å®‰å…¨.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/Webæ¡†æ¶å®‰å…¨.html","title":"Webæ¡†æ¶å®‰å…¨","keywords":"","body":"Webæ¡†æ¶å®‰å…¨ æ¨¡æ¿å¼•æ“ä¸XSS ä½¿ç”¨é»˜è®¤çš„è®¾ç½® CSRF é€šè¿‡æ¡†æ¶è‡ªåŠ¨åŒ–æ·»åŠ tokenä¸tokenæ ¡éªŒ HTTP Headers è°¨æ…ç”¨æˆ·æ•°æ®æ“ä½œHTTP å¤´ é€šè¿‡webæ¡†æ¶æä¾›çš„ç»Ÿä¸€æ¥å£æ¥è·³è½¬é¡µé¢ æŒä¹…å±‚ å˜é‡ç»‘å®šä¸SQLæ³¨å…¥ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-03 12:38:02 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/åº”ç”¨å±‚æ‹’ç»æœåŠ¡æ”»å‡».html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/åº”ç”¨å±‚æ‹’ç»æœåŠ¡æ”»å‡».html","title":"åº”ç”¨å±‚æ‹’ç»æœåŠ¡æ”»å‡»","keywords":"","body":"åº”ç”¨å±‚æ‹’ç»æœåŠ¡æ”»å‡» DDOS æ˜¯æŒ‡å¤„äºä¸åŒä½ç½®çš„å¤šä¸ªæ”»å‡»è€…åŒæ—¶å‘ä¸€ä¸ªæˆ–æ•°ä¸ªç›®æ ‡å‘åŠ¨æ”»å‡»ï¼Œæˆ–è€…ä¸€ä¸ªæ”»å‡»è€…æ§åˆ¶äº†ä½äºä¸åŒä½ç½®çš„å¤šå°æœºå™¨å¹¶åˆ©ç”¨è¿™äº›æœºå™¨å¯¹å—å®³è€…åŒæ—¶å®æ–½æ”»å‡» SYN flood è¿™æ˜¯ä¸€ç§åˆ©ç”¨TCPåè®®ç¼ºé™·ï¼Œå‘é€å¤§é‡ä¼ªé€ çš„TCPè¿æ¥è¯·æ±‚ï¼Œä½¿è¢«æ”»å‡»æ–¹èµ„æºè€—å°½(CPUæ»¡è´Ÿè·æˆ–å†…å­˜ä¸è¶³)çš„æ”»å‡»æ–¹å¼ åº”ç”¨å±‚DDOS CCæ”»å‡» ä¸»è¦é’ˆå¯¹æ¶ˆè€—èµ„æºå¤§çš„webé¡µé¢å‘èµ·å¤§é‡è¯·æ±‚ ä½¿ç”¨é™åˆ¶è¯·æ±‚é¢‘ç‡æ¥é˜²å¾¡ï¼Œä½†æœ¬è´¨è¿˜æ˜¯éœ€è¦é€šè¿‡åšå¥½æ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„ä¼˜åŒ–æ¥å¯¹æŠ— ä¹Ÿå¯ä»¥é€šè¿‡éªŒè¯ç æ¥é˜»æ­¢å¤§é‡çš„æœºå™¨è¯·æ±‚ é˜²å¾¡åº”ç”¨å±‚DDOS åŒºåˆ†è¯·æ±‚çš„æ˜¯äººè¿˜æ˜¯æœºå™¨ IPè¯·æ±‚é¢‘ç‡é™åˆ¶ èµ„æºè€—å°½æ”»å‡» slowlorisæ”»å‡» ä»¥æä½çš„é€Ÿç‡å‘é€æ•°æ®ï¼Œå ç”¨æœåŠ¡å™¨èµ„æº server limit dos å¾€æ­£å¸¸çš„å®¢æˆ·ç«¯å†™å…¥è¶…é•¿æ•°æ®ï¼Œå¯¼è‡´å®¢æˆ·ç«¯è¯·æ±‚è¢«æœåŠ¡å™¨æ‹’ç» æ­£åˆ™ ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼çš„å¤„ç†æ˜¯éå¸¸è€—è´¹èµ„æºçš„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-04 08:11:51 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/webæœåŠ¡å™¨é…ç½®å®‰å…¨.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/webæœåŠ¡å™¨é…ç½®å®‰å…¨.html","title":"webæœåŠ¡å™¨é…ç½®å®‰å…¨","keywords":"","body":"webæœåŠ¡å™¨é…ç½®å®‰å…¨ æ¨¡å—å®‰å…¨é—®é¢˜ è¿è¡Œèº«ä»½é—®é¢˜ jbossä¸tomcat æ³¨æ„è¿™äº›webå®¹å™¨çš„ç®¡ç†å…¥å£ webæœåŠ¡å™¨å¯¹åŒåå‚æ•°çš„è§£æé—®é¢˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-04 08:17:26 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/ä¸šåŠ¡å®‰å…¨.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/ä¸šåŠ¡å®‰å…¨.html","title":"ä¸šåŠ¡å®‰å…¨","keywords":"","body":"ä¸šåŠ¡å®‰å…¨ ä¸šåŠ¡é€»è¾‘å­˜åœ¨æ¼æ´ è´¦æˆ·æ˜¯å¦‚ä½•è¢«ç›—çš„ æ•°æ®ä¼ è¾“è¢«å—…æ¢ æœ¨é©¬ é’“é±¼ç½‘ç«™ æš´åŠ›ç ´è§£ ä¸šåŠ¡é€»è¾‘ XSS SQLæ³¨å…¥ å¯†ç æ‰¾å›æ¼æ´ éªŒè¯æ¥å£æ²¡æœ‰åšé™åˆ¶ é˜²å¾¡ å¿˜è®°å¯†ç éªŒè¯ç æœ€å¥½åœ¨6-8ä½ï¼ˆå­—æ¯åŠ æ•°å­—ï¼‰ ä¸€æ—¦é¢‘ç¹è°ƒç”¨æ¥å£éªŒè¯æ—¶ï¼Œåº”è¯¥ä½¿ç”¨å›¾å½¢éªŒè¯ç æ‹¦æˆªï¼Œé˜²æ­¢æœºå™¨æ¨¡æ‹Ÿ ä½¿ç”¨é»‘åå•å’Œç™½åå•æœºåˆ¶ï¼Œé˜²å¾¡æ”»å‡» äº’è”ç½‘åƒåœ¾ å¤„ç† è¯†åˆ«ä¸æ‹¦æˆª é’“é±¼ é«˜ä»¿ç½‘ç«™ é‚®ä»¶é’“é±¼ ç”¨æˆ·éšç§ä¿æŠ¤ åšå¥½æ•°æ®æƒé™ç®¡ç† ç”¨æˆ·å…·æœ‰çŸ¥æƒ…æƒä¸é€‰æ‹©æƒ do not track MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-29 01:04:20 "},"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/å®‰å…¨å¼€å‘ä¸å®‰å…¨è¿è¥.html":{"url":"ç½‘ç»œå®‰å…¨/Webå®‰å…¨/å®‰å…¨å¼€å‘ä¸å®‰å…¨è¿è¥.html","title":"å®‰å…¨å¼€å‘ä¸å®‰å…¨è¿è¥","keywords":"","body":"å®‰å…¨å¼€å‘ä¸è¿è¥ å®‰å…¨å¼€å‘æµç¨‹ï¼ˆSDLï¼‰ é»‘åå•ä¸ç™½åå• å»é™¤ä»£ç å¼€å‘è¾…åŠ©ä¿¡æ¯ å…³é—­é”™è¯¯å›æ˜¾ å®‰å…¨è¿è¥ æ¼æ´ä¿®å¤ å»ºç«‹å®Œå–„çš„æ¼æ´è·Ÿè¸ªæœºåˆ¶ å®‰å…¨ç›‘æ§ æ¢æµ‹åº”ç”¨æ˜¯å¦è¢«æ”»å‡» å…¥ä¾µæ£€æµ‹ ç´§æ€¥å“åº”æµç¨‹ é‚®ä»¶æŠ¥è­¦ IMæŠ¥è­¦ çŸ­ä¿¡æŠ¥è­¦ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-01-29 02:07:59 "},"ç½‘ç»œå®‰å…¨/å¯†ç å­¦/å¯†ç å­¦.html":{"url":"ç½‘ç»œå®‰å…¨/å¯†ç å­¦/å¯†ç å­¦.html","title":"å¯†ç å­¦","keywords":"","body":"å¯†ç å­¦ å¯†ç å­¦èƒ½åšä»€ä¹ˆï¼Ÿ æœºå¯†æ€§ï¼šå¦‚ä½•ä½¿å¾—æŸä¸ªæ•°æ®è‡ªå·±èƒ½çœ‹æ‡‚ï¼Œåˆ«äººçœ‹ä¸æ‡‚ è®¤è¯ï¼šå¦‚ä½•ç¡®ä¿æ•°æ®çš„æ­£ç¡®æ¥æºï¼Œå¦‚ä½•ä¿è¯é€šä¿¡å®ä½“çš„çœŸå®æ€§ å®Œæ•´æ€§ï¼šå¦‚ä½•ç¡®ä¿æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«åˆ æ”¹ ä¸å¯å¦è®¤æ€§ï¼šå¦‚ä½•ç¡®ä¿ç”¨æˆ·è¡Œä¸ºçš„ä¸å¯å¦è®¤æ€§ åŸºæœ¬æ¦‚å¿µ æ˜æ–‡ â€”â€”è¦å¤„ç†çš„æ•°æ® å¯†æ–‡ â€”â€”å¤„ç†åçš„æ•°æ® å¯†é’¥ â€”â€”ç§˜å¯†å‚æ•° åŠ å¯†å‡½æ•° è§£å¯†å‡½æ•° å¯†ç ç®—æ³•åˆ†ç±» æ ¹æ®ç”¨é€” åŠ å¯†ç®—æ³• æ‚å‡‘å‡½æ•° æ•°å­—ç­¾å æ ¹æ®å¯†é’¥ å¯¹ç§° éå¯¹ç§° å¯†ç åˆ†æå­¦ å¯†ç ä½“åˆ¶çš„æ”»å‡» å”¯å¯†æ–‡æ”»å‡» å·²çŸ¥å¯†æ–‡æ”»å‡» æ— æ¡ä»¶å®‰å…¨ä¸è®¡ç®—å®‰å…¨ æµå¯†ç  æ˜æ–‡æ¶ˆæ¯æŒ‰å­—ç¬¦æˆ–æ¯”ç‰¹é€ä½åŠ å¯† ä¸»è¦æ˜¯åŸºäºç¡¬ä»¶å®ç° å¯†é’¥æµäº§ç”Ÿå™¨ å‚æ•°ä¸ºkçš„æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº äºŒå…ƒåºåˆ—çš„ä¼ªéšæœºæ€§ åé¦ˆç§»ä½å¯„å­˜å™¨ éçº¿æ€§åºåˆ— A5æµå¯†ç ç®—æ³• ç”¨äºèœ‚çªå¼ç§»åŠ¨ç”µè¯ç³»ç»Ÿè¯­éŸ³å’Œæ•°å­—åŠ å¯† åˆ†ç»„å¯†ç  æ··æ·†åŸåˆ™ æ•Œæ‰‹å³ä½¿è·å¾—äº†å¯†æ–‡å’Œæ˜æ–‡ï¼Œä¹Ÿæ— æ³•æ±‚å‡ºå¯†é’¥çš„ä»»ä½•ä¿¡æ¯ï¼›å³ä½¿è·å¾—äº†å¯†æ–‡å’Œæ˜æ–‡çš„ç»Ÿè®¡è§„å¾‹ï¼Œä¹Ÿæ— æ³•æ±‚å‡ºæ˜æ–‡çš„æ–°çš„ä¿¡æ¯ æ‰©æ•£åŸåˆ™ æ˜æ–‡ä¸­çš„æ¯ä¸€ä½å½±å“å¯†æ–‡ä¸­çš„å°½å¯èƒ½å¤šçš„ä½ SPç½‘ç»œ ä»£æ¢ Feistelå¯†ç  ä¹˜ç§¯å¯†ç æŒ‡é¡ºåºåœ°æ‰§è¡Œä¸¤ä¸ªæˆ–å¤šä¸ªåŸºæœ¬å¯†ç ç³»ç»Ÿï¼Œä½¿å¾—æœ€åç»“æœçš„å¯†ç å¼ºåº¦é«˜äºæ¯ä¸ªåŸºæœ¬å¯†ç ç³»ç»Ÿäº§ç”Ÿçš„ç»“æœ DES åˆ†ç»„é•¿åº¦ä¸º64 bits (8 bytes) å¯†æ–‡åˆ†ç»„é•¿åº¦ä¹Ÿæ˜¯64 bitsã€‚ å¯†é’¥é•¿åº¦ä¸º64 bitsï¼Œæœ‰8 bitså¥‡å¶æ ¡éªŒï¼Œæœ‰æ•ˆå¯†é’¥é•¿åº¦ä¸º56 bitsã€‚ å®‰å…¨æ€§ DESçš„å¯†é’¥é•¿åº¦å¯èƒ½ä¼šå¯¹å®‰å…¨æ€§äº§ç”Ÿå¨èƒ 3DES å¤šé‡DESå°±æ˜¯ä½¿ç”¨å¤šä¸ªå¯†é’¥åˆ©ç”¨DESå¯¹æ˜æ–‡è¿›è¡Œå¤šæ¬¡åŠ å¯†ã€‚ä½¿ç”¨å¤šé‡DESå¯ä»¥å¢åŠ å¯†é’¥é‡ï¼Œä»è€Œå¤§å¤§æé«˜æŠµæŠ—ç©·ä¸¾å¯†é’¥æœç´¢æ”»å‡»çš„èƒ½åŠ› å·¥ä½œæ¨¡å¼ æ ¹æ®ä¸åŒçš„æ•°æ®æ ¼å¼å’Œå®‰å…¨æ€§è¦æ±‚, ä»¥ä¸€ä¸ªå…·ä½“çš„åˆ†ç»„å¯†ç ç®—æ³•ä¸ºåŸºç¡€æ„é€ ä¸€ä¸ªåˆ†ç»„å¯†ç ç³»ç»Ÿçš„æ–¹æ³• AES æ˜æ–‡åˆ†ç»„å¯å˜ï¼Œ128ã€192ã€256æ¯”ç‰¹ å¯†é’¥é•¿åº¦å¯å˜ï¼Œå„è‡ªå¯ç‹¬ç«‹æŒ‡å®šä¸º128ã€192ã€256æ¯”ç‰¹ã€‚ SM4 æ˜¯ä¸€ä¸ªåˆ†ç»„å¯†ç ç®—æ³•ï¼Œåˆ†ç»„é•¿åº¦å’Œå¯†é’¥é•¿åº¦å‡ä¸º128æ¯”ç‰¹ã€‚åŠ å¯†ç®—æ³•ä¸å¯†é’¥æ‰©å±•ç®—æ³•éƒ½é‡‡ç”¨32è½®éçº¿æ€§è¿­ä»£ç»“æ„ å…¬é’¥å¯†ç  æ¯ä¸ªç”¨æˆ·ç”Ÿæˆä¸€ä¸ªå¯†é’¥å¯¹ï¼šä¸€ä¸ªå…¬é’¥pkå’Œä¸€ä¸ªå¯¹åº”çš„ç§é’¥ sk ç§é’¥ç”±ç”¨æˆ·æœ¬äººä½¿ç”¨ï¼Œè€Œå…¬é’¥åˆ™ç”±ç³»ç»Ÿä¸­å…¶ä»–ç”¨æˆ·ä½¿ç”¨ RSA å¯†é’¥ç”Ÿæˆ é€‰æ‹©ä¸¤ä¸ªå¤§ç´ æ•°Pï¼Œqã€‚(ä¾‹å¦‚:æ¯ä¸ª1024ä½) è®¡ç®—n= Pq:ï¼Œz=(p-1)(q- 1)ã€‚ éšæœºé€‰å–e (å…¶ä¸­e é€‰å–d.ä½¿å¾—ed- 1èƒ½å¤Ÿè¢«zå®Œå…¨æ•´é™¤ã€‚(æ¢è¨€ä¹‹:ed mod z= 1) åŠ è§£å¯† ElGamal æ¤­åœ†æ›²çº¿å¯†ç  å“ˆå¸Œå‡½æ•° å°†ä»»æ„é•¿çš„æ¶ˆæ¯Mæ˜ å°„ä¸ºè¾ƒçŸ­çš„ã€å›ºå®šé•¿åº¦çš„ä¸€ä¸ªå€¼H(M) å®‰å…¨æ¡ä»¶ å•å‘æ€§ æŠ—å¼±ç¢°æ’æ€§ æŠ—å¼ºç¢°æ’æ€§ ç”Ÿæ—¥æ”»å‡» éšæœºå–ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼çš„hashå€¼ä¸æŸä¸ªç‰¹å®šxçš„hashå€¼ç›¸åŒçš„æ¦‚ç‡ä¸º50æ—¶ï¼Œåº”è¯¥è¦å–å¤šå°‘ä¸ªå€¼ SHA-1 ç®—æ³•çš„è¾“å…¥ï¼šå°äº264æ¯”ç‰¹é•¿çš„ä»»æ„æ¶ˆæ¯ï¼Œåˆ†ä¸º512æ¯”ç‰¹é•¿çš„åˆ†ç»„ã€‚ ç®—æ³•çš„è¾“å‡ºï¼š160æ¯”ç‰¹é•¿çš„æ¶ˆæ¯æ‘˜è¦ã€‚ æ•°å­—ç­¾å æ¥æ”¶è€…èƒ½å¤Ÿæ ¸å®å‘é€è€…å¯¹æ–‡æ¡£çš„ç­¾åï¼› å‘é€è€…äº‹åä¸èƒ½å¦è®¤å¯¹æ–‡æ¡£çš„ç­¾åï¼› ä¸èƒ½ä¼ªé€ å¯¹æ–‡æ¡£çš„ç­¾å RSAç­¾å ä½¿ç”¨ç§é’¥ç­¾åï¼Œå…¬é’¥è¿›è¡ŒéªŒè¯ ElGamalç­¾å DSSç­¾å å¯†é’¥åè®® Diffie-Hellmanå¯†é’¥äº¤æ¢åè®® Shamirç§˜å¯†å…±äº« MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-17 01:12:02 "},"è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œä¸å› ç‰¹ç½‘.html":{"url":"è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œä¸å› ç‰¹ç½‘.html","title":"â˜ï¸è®¡ç®—æœºç½‘ç»œ","keywords":"","body":"è®¡ç®—æœºç½‘ç»œä¸å› ç‰¹ç½‘ å› ç‰¹ç½‘ ç«¯ç³»ç»Ÿï¼šè¿æ¥å…¥ç½‘ç»œçš„å„ç§ç»ˆç«¯è®¾å¤‡ é€šä¿¡é“¾è·¯ï¼šå¦‚ç”µç¼†ã€æˆ–è€…æ— çº¿ç”µæ³¢ åˆ†ç»„äº¤æ¢æœºï¼šä¼ é€åˆ†ç»„çš„æœºå™¨ï¼Œæœ‰è·¯ç”±å™¨ã€é“¾è·¯å±‚äº¤æ¢æœº å› ç‰¹ç½‘æœåŠ¡æä¾›å•† åè®® å®šä¹‰ä¸¤ä¸ªå®ä½“é€šä¿¡æ—¶æ‰€äº¤æ¢çš„æŠ¥æ–‡çš„æ ¼å¼ä¸é¡ºåºï¼Œä»¥åŠæ¥å—æŠ¥æ–‡äº§ç”Ÿçš„äº‹ä»¶åŠ¨ä½œ ç½‘ç»œè¾¹ç¼˜ æ¥å…¥ç½‘ å®¶åº­æ¥å…¥ DSLï¼ˆæ•°å­—ç”¨æˆ·çº¿ï¼‰:æœ¬åœ°ç”µè¯å…¬å¸æ¥å…¥ ç”µç¼†ï¼šDSLåˆ©ç”¨ç”µè¯çº¿ï¼Œè€Œç”µç¼†åˆ©ç”¨çš„æ˜¯æœ‰çº¿ç”µè§†åŸºç¡€è®¾æ–½ FTTHï¼šå…‰çº¤åˆ°æˆ· ä¼ä¸šæ¥å…¥ ä»¥å¤ªç½‘ WIFI å¹¿åŸŸæ— çº¿æ¥å…¥ ç‰©ç†åª’ä½“ å¯¼å¼•å‹ åŒç»é“œçº¿ åŒè½´ç”µç¼† å…‰çº¤ éå¯¼å¼•å‹ é™†åœ°æ— çº¿ä¿¡é“ å«æ˜Ÿæ— çº¿ä¿¡é“ ç½‘ç»œæ ¸å¿ƒ åˆ†ç»„äº¤æ¢ æ¯ä¸ªåˆ†ç»„éƒ½æœ‰é¦–éƒ¨å’Œå°¾éƒ¨ï¼ŒåŒ…å«äº†æºåœ°å€å’Œç›®çš„åœ°å€ç­‰æ§åˆ¶ä¿¡æ¯ï¼Œåœ¨åŒä¸€ä¸ªä¼ è¾“çº¿è·¯ä¸ŠåŒæ—¶ä¼ è¾“å¤šä¸ªåˆ†ç»„äº’ç›¸ä¸ä¼šå½±å“ æ—¶å»¶ æ’é˜Ÿæ—¶å»¶ï¼šåˆ†ç»„åœ¨è·¯ç”±å™¨çš„è¾“å…¥é˜Ÿåˆ—å’Œè¾“å‡ºé˜Ÿåˆ—ä¸­æ’é˜Ÿç­‰å¾…çš„æ—¶é—´ å¤„ç†æ—¶å»¶ï¼šä¸»æœºæˆ–è·¯ç”±å™¨æ”¶åˆ°åˆ†ç»„æ—¶è¿›è¡Œå¤„ç†æ‰€éœ€è¦çš„æ—¶é—´ï¼Œä¾‹å¦‚åˆ†æé¦–éƒ¨ã€ä»åˆ†ç»„ä¸­æå–æ•°æ®ã€è¿›è¡Œå·®é”™æ£€éªŒæˆ–æŸ¥æ‰¾é€‚å½“çš„è·¯ç”±ç­‰ ä¼ è¾“æ—¶å»¶ä¸ä¼ æ’­æ—¶å»¶ ä¼ è¾“æ—¶å»¶æ˜¯è·¯ç”±å™¨æ¨å‡ºåˆ†ç»„æ‰€éœ€è¦çš„æ—¶é—´ï¼Œä¼ æ’­æ—¶å»¶åˆ™æ˜¯ä¸¤ä¸ªè·¯ç”±å™¨ä¹‹é—´çš„ä¼ æ’­æ—¶é—´ ä¸¢åŒ… å¦‚æœè·¯ç”±å™¨æ’é˜Ÿæ—¶å»¶è¿‡å¤§ï¼Œé‚£ä¹ˆæ–°åˆ°æ¥çš„åˆ†ç»„å°±æ— åœ°æ–¹å­˜æ”¾ï¼Œåˆ™è·¯ç”±ä¼šä¸¢æ‰è¿™ä¸ªåˆ†ç»„ï¼Œç§°ä¸ºä¸¢åŒ… ç”µè·¯äº¤æ¢ ç”µè·¯äº¤æ¢ç”¨äºç”µè¯é€šä¿¡ç³»ç»Ÿï¼Œä¸¤ä¸ªç”¨æˆ·è¦é€šä¿¡ä¹‹å‰éœ€è¦å»ºç«‹ä¸€æ¡ä¸“ç”¨çš„ç‰©ç†é“¾è·¯ï¼Œå¹¶ä¸”åœ¨æ•´ä¸ªé€šä¿¡è¿‡ç¨‹ä¸­å§‹ç»ˆå ç”¨è¯¥é“¾è·¯ã€‚ç”±äºé€šä¿¡çš„è¿‡ç¨‹ä¸­ä¸å¯èƒ½ä¸€ç›´åœ¨ä½¿ç”¨ä¼ è¾“çº¿è·¯ï¼Œå› æ­¤ç”µè·¯äº¤æ¢å¯¹çº¿è·¯çš„åˆ©ç”¨ç‡å¾ˆä½ é“¾è·¯ä¸­çš„ç”µè·¯æ˜¯é€šè¿‡é¢‘åˆ†å¤ç”¨ï¼ˆFDMï¼‰æˆ–æ—¶åˆ†å¤ç”¨(TDM)å®ç°çš„ ç½‘ç»œçš„ç½‘ç»œ ISP äº’è”ç½‘æœåŠ¡æä¾›å•† ISP å¯ä»¥ä»äº’è”ç½‘ç®¡ç†æœºæ„è·å¾—è®¸å¤š IP åœ°å€ï¼ŒåŒæ—¶æ‹¥æœ‰é€šä¿¡çº¿è·¯ä»¥åŠè·¯ç”±å™¨ç­‰è”ç½‘è®¾å¤‡ï¼Œä¸ªäººæˆ–æœºæ„å‘ ISP ç¼´çº³ä¸€å®šçš„è´¹ç”¨å°±å¯ä»¥æ¥å…¥äº’è”ç½‘ åè®®å±‚æ¬¡åŠæœåŠ¡æ¨¡å‹ äº”å±‚åè®® åº”ç”¨å±‚ï¼šä¸ºç‰¹å®šåº”ç”¨ç¨‹åºæä¾›æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œä¾‹å¦‚ HTTPã€DNS ç­‰åè®®ã€‚æ•°æ®å•ä½ä¸ºæŠ¥æ–‡ ä¼ è¾“å±‚ï¼šä¸ºè¿›ç¨‹æä¾›é€šç”¨æ•°æ®ä¼ è¾“æœåŠ¡,udpä¸tcpï¼Œæ•°æ®å•ä½ä¸ºæŠ¥æ–‡æ®µ ç½‘ç»œå±‚ï¼šä¸ºä¸»æœºæä¾›æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œç½‘ç»œå±‚æŠŠä¼ è¾“å±‚ä¼ é€’ä¸‹æ¥çš„æŠ¥æ–‡æ®µæˆ–è€…ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆåˆ†ç»„ æ•°æ®é“¾è·¯å±‚ï¼šå°±æ˜¯ä¸ºåŒä¸€é“¾è·¯çš„ä¸»æœºæä¾›æ•°æ®ä¼ è¾“æœåŠ¡ã€‚æ•°æ®é“¾è·¯å±‚æŠŠç½‘ç»œå±‚ä¼ ä¸‹æ¥çš„åˆ†ç»„å°è£…æˆå¸§ ç‰©ç†å±‚ ï¼šè€ƒè™‘çš„æ˜¯æ€æ ·åœ¨ä¼ è¾“åª’ä½“ä¸Šä¼ è¾“æ•°æ®æ¯”ç‰¹æµ OSI è¡¨ç¤ºå±‚ ï¼šæ•°æ®å‹ç¼©ã€åŠ å¯†ä»¥åŠæ•°æ®æè¿° ä¼šè¯å±‚ ï¼šå»ºç«‹åŠç®¡ç†ä¼šè¯ TCP/IP å®ƒåªæœ‰å››å±‚ï¼Œç›¸å½“äºäº”å±‚åè®®ä¸­æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚åˆå¹¶ä¸ºç½‘ç»œæ¥å£å±‚ ç½‘ç»œæ”»å‡»ä¸ç½‘ç»œå®‰å…¨ DDOS ç½‘ç»œè •è™« ç½‘ç»œå—…æ¢ IPæ¬ºéª— MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-06 03:26:06 "},"è®¡ç®—æœºç½‘ç»œ/åº”ç”¨å±‚.html":{"url":"è®¡ç®—æœºç½‘ç»œ/åº”ç”¨å±‚.html","title":"åº”ç”¨å±‚","keywords":"","body":"åº”ç”¨å±‚åè®® ä½“ç³»ç»“æ„ CSæ¶æ„ P2Pæ¶æ„ è¿›ç¨‹é€šä¿¡ ä¸¤ä¸ªç«¯ç³»ç»Ÿä¹‹é—´çš„é€šä¿¡ï¼Œæœ¬è´¨æ˜¯ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œè¿›ç¨‹é€šè¿‡ä½¿ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„æ¥å£ä¸å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„è¿›ç¨‹è¿›è¡Œé€šä¿¡ï¼Œè¿™ä¸ªæ¥å£æ˜¯å¥—æ¥å­— å¥—æ¥å­—=ï¼ˆIPï¼Œç«¯å£å·ï¼‰ è¿è¾“æœåŠ¡ TCP UDP åº”ç”¨å±‚åè®® HTTP SMTP POP3 IMAP DNS æä¾›äº†ä¸»æœºåå’Œ IP åœ°å€ä¹‹é—´ç›¸äº’è½¬æ¢çš„æœåŠ¡ æœ¬åœ°DNSæ”¶åˆ°æŸ¥è¯¢è¯·æ±‚åï¼Œä¼šæŒ‰ç…§â€œæ˜¯å¦æœ‰www.xxx.com.cnçš„æƒå¨æœåŠ¡å™¨â€â†’â€œæ˜¯å¦æœ‰xxx.com.cnçš„æƒå¨æœåŠ¡å™¨â€â†’â€œæ˜¯å¦æœ‰com.cnçš„æƒå¨æœåŠ¡å™¨â€â†’â€œæ˜¯å¦æœ‰cnçš„æƒå¨æœåŠ¡å™¨â€çš„é¡ºåºï¼Œä¾æ¬¡æŸ¥è¯¢è‡ªå·±çš„åœ°å€è®°å½•ï¼Œå¦‚æœä¸€ç›´æ²¡æœ‰æ‰¾åˆ° å°±ä¼šæ‰¾åˆ°æ ¹åŸŸåæœåŠ¡å™¨ä¸ºæ­¢ æœ€åå®ƒå°†ä¼šå¾—åˆ°â€œcnçš„æƒå¨æœåŠ¡å™¨â€çš„åœ°å€è®°å½•ï¼Œç„¶åé€šè¿‡â€œcnçš„æƒå¨æœåŠ¡å™¨â€ï¼Œå¾—åˆ°â€œcom.cnçš„æƒå¨æœåŠ¡å™¨â€çš„åœ°å€è®°å½•ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæœ€åæ‰¾åˆ°èƒ½å¤Ÿè§£é‡Šwww.xxx.com.cnçš„æƒå¨æœåŠ¡å™¨åœ°å€ æƒå¨åŸŸåæœåŠ¡å™¨ï¼šæŒ‡è´Ÿè´£ç¿»è¯‘ç‰¹å®šåŸŸåçš„DNSæœåŠ¡å™¨ æ ¹åŸŸåæœåŠ¡å™¨ï¼šæŒ‡å›ºå®šçš„ã€æ— éœ€æŸ¥è¯¢çš„é¡¶çº§åŸŸåï¼ˆTop-Level Domainï¼‰æœåŠ¡å™¨ DNS å¯ä»¥ä½¿ç”¨ UDP æˆ–è€… TCP è¿›è¡Œä¼ è¾“ï¼Œä½¿ç”¨çš„ç«¯å£å·éƒ½ä¸º 53ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ DNS ä½¿ç”¨ UDP è¿›è¡Œä¼ è¾“ï¼Œè¿™å°±è¦æ±‚åŸŸåè§£æå™¨å’ŒåŸŸåæœåŠ¡å™¨éƒ½å¿…é¡»è‡ªå·±å¤„ç†è¶…æ—¶å’Œé‡ä¼ ä»è€Œä¿è¯å¯é æ€§ åªæœ‰å½“è¿”å›çš„å“åº”è¶…è¿‡512å­—èŠ‚æˆ–è€…ä¸»åŸŸåæœåŠ¡å™¨å‘è¾…åŠ©åŸŸåæœåŠ¡å™¨ä¼ é€å˜åŒ–çš„æ•°æ®æ—¶é‡‡ç”¨TCPåè®® æ ¹åŸŸå -> gTLD Server -> Name Server åŸŸåè§£æè®°å½•ï¼š Aè®°å½•(Address) ç”¨æ¥æŒ‡å®šåŸŸåå¯¹åº”çš„IPåœ°å€ MXè®°å½•(Mail Exchange) ç”¨æ¥æŒ‡å®šé‚®ä»¶æœåŠ¡å™¨ CNAMEè®°å½•(Canonical Name) åˆ«åè§£æå°±æ˜¯ä¸ºä¸€ä¸ªåŸŸåè®¾ç½®å¤šä¸ªåˆ«å NSè®°å½• ä¸ºæŸä¸ªåŸŸåæŒ‡å®šDNSè§£ææœåŠ¡å™¨ TXTè®°å½• æ·»åŠ ä¸€æ®µæ–‡å­—è¯´æ˜ DNSé¢„å–ä¼˜åŒ–ï¼š HTTPDNSï¼šä¸€ç§é€šè¿‡HTTPSåè®®å¼€å‘çš„DNSæŸ¥è¯¢æœåŠ¡ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ç›´æ¥è·³è¿‡æ“ä½œç³»ç»Ÿä¸»åŠ¨æŸ¥è¯¢ FTP FTP ä½¿ç”¨ TCP è¿›è¡Œè¿æ¥ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªè¿æ¥æ¥ä¼ é€ä¸€ä¸ªæ–‡ä»¶: æ§åˆ¶è¿æ¥ï¼šå®¢æˆ·ç«¯ä¸»åŠ¨å»ºç«‹è¿æ¥åï¼Œä½¿ç”¨è¿™ä¸ªè¿æ¥å°†å®¢æˆ·ç«¯çš„å‘½ä»¤ä¼ é€ç»™æœåŠ¡å™¨ï¼Œå¹¶ä¼ å›æœåŠ¡å™¨çš„åº”ç­” æ•°æ®è¿æ¥ï¼šç”¨æ¥ä¼ é€ä¸€ä¸ªæ–‡ä»¶æ•°æ® ä¸»åŠ¨æ¨¡å¼ å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹æ§åˆ¶è¿æ¥ä¹‹å ç”±æœåŠ¡å™¨ä¸»åŠ¨å‘èµ·ä¸€æ¡ä»æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„è¿æ¥ è¢«åŠ¨æ¨¡å¼ å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹æ§åˆ¶è¿æ¥ä¹‹å ç”±å®¢æˆ·ç«¯å†å‘èµ·ä¸€æ¡ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„è¿æ¥ DHCP Dynamic Host Configuration Protocol å·¥ä½œè¿‡ç¨‹ è¿œç¨‹ç™»å½•åè®® TELNET ç”µå­é‚®ä»¶åè®® SMTP SMTP åªèƒ½å‘é€ ASCII ç ï¼Œè€Œäº’è”ç½‘é‚®ä»¶æ‰©å…… MIME å¯ä»¥å‘é€äºŒè¿›åˆ¶æ–‡ä»¶ã€‚MIME å¹¶æ²¡æœ‰æ”¹åŠ¨æˆ–è€…å–ä»£ SMTPï¼Œè€Œæ˜¯å¢åŠ é‚®ä»¶ä¸»ä½“çš„ç»“æ„ï¼Œå®šä¹‰äº†é ASCII ç çš„ç¼–ç è§„åˆ™ POP3 ä»æœåŠ¡å™¨ä¸Šè¯»å–äº†é‚®ä»¶ï¼Œå°±æŠŠè¯¥é‚®ä»¶åˆ é™¤ IMAP å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ä¿æŒåŒæ­¥ å¸¸ç”¨ç«¯å£ åº”ç”¨ åº”ç”¨å±‚åè®® ç«¯å£å· ä¼ è¾“å±‚åè®® å¤‡æ³¨ åŸŸåè§£æ DNS 53 UDP/TCP é•¿åº¦è¶…è¿‡ 512 å­—èŠ‚æ—¶ä½¿ç”¨ TCP åŠ¨æ€ä¸»æœºé…ç½®åè®® DHCP 67/68 UDP ç®€å•ç½‘ç»œç®¡ç†åè®® SNMP 161/162 UDP æ–‡ä»¶ä¼ é€åè®® FTP 20/21 TCP æ§åˆ¶è¿æ¥ 21ï¼Œæ•°æ®è¿æ¥ 20 è¿œç¨‹ç»ˆç«¯åè®® TELNET 23 TCP è¶…æ–‡æœ¬ä¼ é€åè®® HTTP 80 TCP ç®€å•é‚®ä»¶ä¼ é€åè®® SMTP 25 TCP é‚®ä»¶è¯»å–åè®® POP3 110 TCP ç½‘é™…æŠ¥æ–‡å­˜å–åè®® IMAP 143 TCP ä¸€ä¸ªwebé¡µé¢è¯·æ±‚è¿‡ç¨‹ DHCPé…ç½®ä¸»æœºä¿¡æ¯ ä¸»æœºåˆšå¼€å§‹æ²¡æœ‰IPåœ°å€ä¿¡æ¯ï¼Œé¦–å…ˆé€šè¿‡DHCPæ¥è·å–IPåœ°å€ ä¸»æœºç”Ÿæˆä¸€ä¸ªDHCP UDPè¯·æ±‚æŠ¥æ–‡ è¯¥è¯·æ±‚æŠ¥æ–‡è¢«æ”¾å…¥ä¸€ä¸ªå…·æœ‰å¹¿æ’­åœ°å€çš„IPæ•°æ®æŠ¥ä¸­ åè¯¥IPæ•°æ®æŠ¥è¢«å°è£…åœ¨MACå¸§ä¸­ï¼Œè¿™ä¸ªå¸§çš„ç›®çš„åœ°å€æ˜¯ä¸€ä¸ªå¹¿æ’­åœ°å€ å½“DHCPæœåŠ¡å™¨æ¥æ”¶åˆ°è¿™ä¸ªå¹¿æ’­å¸§åä¸æ–­å‘ä¸Šåˆ†è§£å¾—åˆ°ä¸»æœºä¿¡æ¯ï¼Œå¹¶å°†ç›¸å…³ä¿¡æ¯æ”¾å…¥æŠ¥æ–‡ä¸­ï¼Œå‘é€ç»™ä¸»æœº äº¤æ¢æœºé€šè¿‡è‡ªå­¦ä¹ ï¼Œå› æ­¤ç°åœ¨äº¤æ¢æœºå°±å¯ä»¥ç›´æ¥çŸ¥é“åº”è¯¥å‘å“ªä¸ªæ¥å£å‘é€è¯¥å¸§ ä¸»æœºæ”¶åˆ°è¯¥å¸§ä¹‹åï¼Œé…ç½®è‡ªå·±çš„IPåœ°å€ï¼Œå­ç½‘æ©ç ç­‰ä¿¡æ¯ ARPè§£æMACåœ°å€ ä¸»æœºéœ€è¦è·Ÿç½‘å…³è·¯ç”±å™¨é€šä¿¡ï¼Œä½†æ˜¯DHCP è¿‡ç¨‹åªçŸ¥é“ç½‘å…³è·¯ç”±å™¨çš„ IP åœ°å€ ä¸ºäº†è·å–MACåœ°å€ï¼Œä¸»æœºéœ€è¦ç”Ÿæˆä¸€ä¸ªåŒ…å«ç½‘å…³è·¯ç”±å™¨åœ°å€çš„ARPæŸ¥è¯¢æŠ¥æ–‡ï¼Œå¹¶å°†å®ƒå¹¿æ’­å‡ºå» ç½‘å…³è·¯ç”±å™¨æ¥æ”¶åˆ°è¿™ä¸ªå¹¿æ’­æŠ¥æ–‡ä¹‹åï¼Œå‘ä¸»æœºå›é€ç½‘å…³è·¯ç”±å™¨è‡ªå·±çš„MACåœ°å€ DNSè§£æåŸŸå æ­¤æ—¶ï¼Œä¸»æœºå¯ä»¥ç›´æ¥é€šè¿‡ç½‘å…³è·¯ç”±å™¨å‘é€ä¸€ä¸ªDNSè¯·æ±‚æŠ¥æ–‡ è·¯ç”±å™¨æ”¶åˆ°è¿™ä¸ªDNSæŸ¥è¯¢æŠ¥æ–‡çš„å¸§åï¼ŒæŠ½å–å‡ºIPæ•°æ®æŠ¥ï¼Œæ ¹æ®è½¬å‘è¡¨å†³å®šåº”è¯¥è½¬å‘ç»™å“ªå°è·¯ç”±å™¨ è·¯ç”±å™¨é€šè¿‡å†…éƒ¨ç½‘å…³åè®®å’Œå¤–éƒ¨ç½‘å…³åè®®æ¥å®ç°è·¯ç”±é€‰æ‹© è¿™ä¸ªDNSè¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ä¹‹åï¼ŒDNSè¿›è¡ŒæŸ¥è¯¢ï¼Œå‘é€DNSå›ç­”æŠ¥æ–‡ï¼Œå›é€ç»™ä¸»æœº HTTPè¯·æ±‚é¡µé¢ æ­¤æ—¶ï¼Œä¸»æœºå°±å¾—åˆ°HTTPæœåŠ¡å™¨çš„IPåœ°å€ ä¼šç»è¿‡ä¸‰æ¬¡æ¡æ‰‹ç”Ÿæˆä¸€ä¸ªTCPå¥—æ¥å­— TCPè¿æ¥å»ºç«‹åï¼Œå®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ªHTTPè¯·æ±‚æŠ¥æ–‡ï¼Œå‘é€ç»™æœåŠ¡å™¨ æœåŠ¡å™¨æ¥æ”¶åˆ°ä¹‹åï¼Œè¿”å›ä¸€ä¸ªå“åº”æŠ¥æ–‡ å®¢æˆ·ç«¯æ¥æ”¶åˆ°å“åº”ä¹‹åï¼Œè¿›è¡Œæ¸²æŸ“ï¼Œæ˜¾ç¤ºwebé¡µé¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-12 07:36:56 "},"è®¡ç®—æœºç½‘ç»œ/rpc.html":{"url":"è®¡ç®—æœºç½‘ç»œ/rpc.html","title":"RPC","keywords":"","body":"rpc RPC : Remote Procedure Call ,å³è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ã€‚ æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿå¸¸è§çš„ä¸€-ç§é€šä¿¡æ–¹æ³•,ä»è·¨è¿›ç¨‹åˆ°è·¨ç‰©ç†æœºå·²ç»æœ‰å‡ åå¹´å†å²ã€‚ ä»ä¸€ä¸ªæ–¹æ³•è°ƒç”¨å¼€å§‹ System.our.println(\"hello world\"); åœ¨æœ¬æœºä¸Šï¼Œå®Œæˆè¿™ä¹ˆæ ·çš„ä¸€æ¬¡æ–¹æ³•è°ƒç”¨éœ€è¦ï¼š ä¼ é€’æ–¹æ³•å‚æ•°ï¼šå°†å­—ç¬¦ä¸²hello worldçš„å¼•ç”¨åœ°å€å‹æ ˆ ç¡®å®šæ–¹æ³•ç‰ˆæœ¬ï¼šåƒåœ¨JVMä¸Š è¿™ä¸ªè¿‡ç¨‹ä½¿ç”¨invokexxxæŒ‡ä»¤æ¥å®Œæˆ æ‰§è¡Œè¢«è°ƒæ–¹æ³•ï¼šä»æ ˆä¸­å¼¹å‡ºParameterçš„å€¼æˆ–å¼•ç”¨ï¼Œä»¥æ­¤ä¸ºè¾“å…¥ï¼Œæ‰§è¡ŒCalleeå†…éƒ¨çš„é€»è¾‘ è¿”å›æ‰§è¡Œç»“æœï¼šå°†Calleeçš„æ‰§è¡Œç»“æœå‹æ ˆ ä¸ºäº†å®Œæˆè¿™äº›è¿‡ç¨‹ï¼Œå°±éœ€è¦é€šè¿‡å†…å­˜æ¥ä¼ é€’æ•°æ® å¦‚æœä¸¤ä¸ªæ–¹æ³•ä¸åœ¨åŒä¸€ä¸ªè¿›ç¨‹ï¼Œè¦å¦‚ä½•ä¼ é€’æ•°æ®ï¼Ÿ ç®¡é“ï¼ˆPipeï¼‰æˆ–è€…å…·åç®¡é“ï¼ˆNamed Pipeï¼‰ï¼šé€šè¿‡ç®¡é“åœ¨è¿›ç¨‹é—´ä¼ é€’å°‘é‡çš„å­—ç¬¦æµæˆ–å­—èŠ‚æµã€‚æ™®é€šç®¡é“åªç”¨äºæœ‰äº²ç¼˜å…³ç³»è¿›ç¨‹ï¼ˆç”±ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨çš„å¦å¤–ä¸€ä¸ªè¿›ç¨‹ï¼‰é—´çš„é€šä¿¡ps aux | grep tomcat ä¿¡å·ï¼ˆSignalï¼‰:ç”¨äºé€šçŸ¥ç›®æ ‡è¿›ç¨‹æœ‰æŸç§äº‹ä»¶å‘ç”Ÿkill -9 666 ä¿¡å·é‡ï¼ˆSemaphoreï¼‰:ç›¸å½“äºæ“ä½œç³»ç»Ÿæä¾›çš„ä¸€ä¸ªç‰¹æ®Šå˜é‡ æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰:POSIXæ ‡å‡†ä¸­å®šä¹‰äº†æ¶ˆæ¯é˜Ÿåˆ—ç”¨äºè¿›ç¨‹é—´æ•°æ®é‡è¾ƒå¤šçš„é€šè®¯ å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰ï¼šæ˜¯æ•ˆç‡æœ€é«˜çš„è¿›ç¨‹é—´é€šè®¯å½¢å¼ å¥—æ¥å­—æ¥å£ï¼ˆSocketï¼‰:å½“ä»…é™äºæœ¬æœºè¿›ç¨‹é—´é€šè®¯æ—¶ï¼Œå¥—æ¥å­—æ¥å£æ˜¯è¢«ä¼˜åŒ–è¿‡çš„ï¼Œä¸ä¼šç»è¿‡ç½‘ç»œåè®®æ ˆï¼Œä¸éœ€è¦æ‰“åŒ…æ‹†åŒ…ã€è®¡ç®—æ ¡éªŒå’Œã€ç»´æŠ¤åºå·å’Œåº”ç­”ç­‰æ“ä½œ é€šä¿¡çš„æˆæœ¬ é€šè¿‡ç½‘ç»œè¿›è¡Œåˆ†å¸ƒå¼è¿ç®—çš„8å®—ç½ª The network is reliable â€”â€” ç½‘ç»œæ˜¯å¯é çš„ã€‚ Latency is zero â€”â€” å»¶è¿Ÿæ˜¯ä¸å­˜åœ¨çš„ã€‚ Bandwidth is infinite â€”â€” å¸¦å®½æ˜¯æ— é™çš„ã€‚ The network is secure â€”â€” ç½‘ç»œæ˜¯å®‰å…¨çš„ã€‚ Topology doesn't change â€”â€” æ‹“æ‰‘ç»“æ„æ˜¯ä¸€æˆä¸å˜çš„ã€‚ There is one administrator â€”â€” æ€»ä¼šæœ‰ä¸€ä¸ªç®¡ç†å‘˜ã€‚ Transport cost is zero â€”â€” ä¸å¿…è€ƒè™‘ä¼ è¾“æˆæœ¬ã€‚ The network is homogeneous â€”â€” ç½‘ç»œæ˜¯åŒè´¨åŒ–çš„ã€‚ RPCçš„ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ å¦‚ä½•è¡¨ç¤ºæ•°æ® å¦‚ä½•ä¼ é€’æ•°æ® å¦‚ä½•ç¡®å®šæ–¹æ³• è·¨è¿›ç¨‹äº¤äº’å½¢å¼: RESTfulã€ WebServiceã€ HTTPã€ åŸºäºDBåšæ•°æ®äº¤æ¢ã€åŸºäºMQåšæ•°æ®äº¤æ¢,ä»¥åŠRPCã€‚ äº¤äº’å½¢å¼ ä¾èµ–ä¸­é—´åšæ•°æ®äº¤äº’ ç›´æ¥äº¤äº’ æ ¸å¿ƒåŸç† å¦å¤–ä¸€ä¸ªè§’åº¦ å¦‚æœè·³å‡ºç¨‹åºæ–¹æ³•è°ƒç”¨çš„è§†è§’ ä¸å†ä»¥ä¼ é€’å‚æ•°-è°ƒç”¨æ–¹æ³•-è·å–ç»“æœè¿™æ ·çš„æ€è·¯æ€è€ƒ å°±ä¼šæœ‰ç„•ç„¶ä¸€æ–°çš„è§†è§’ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-09 07:23:51 "},"è®¡ç®—æœºç½‘ç»œ/HTTP.html":{"url":"è®¡ç®—æœºç½‘ç»œ/HTTP.html","title":"HTTP","keywords":"","body":"HTTPåè®® åŸºç¡€æ¦‚å¿µ URI è¯·æ±‚æŠ¥æ–‡ å“åº”æŠ¥æ–‡ HTTPæ–¹æ³• GET è·å–èµ„æº HEAD ä¸GETç±»ä¼¼ï¼Œä½†ä¸è¿”å›æŠ¥æ–‡çš„å®ä½“ä¸»ä½“ POST ä¸»è¦ç”¨æ¥ä¼ è¾“æ•°æ® PUT ä¸Šä¼ æ–‡ä»¶ PATCH å¯¹èµ„æºè¿›è¡Œéƒ¨åˆ†ä¿®æ”¹ DELETE åˆ é™¤æ–‡ä»¶ OPTIONS æŸ¥è¯¢æŒ‡å®šçš„ URL èƒ½å¤Ÿæ”¯æŒçš„æ–¹æ³• CONNECT è¦æ±‚åœ¨ä¸ä»£ç†æœåŠ¡å™¨é€šä¿¡æ—¶å»ºç«‹éš§é“ TRACE æœåŠ¡å™¨ä¼šå°†é€šä¿¡è·¯å¾„è¿”å›ç»™å®¢æˆ·ç«¯ çŠ¶æ€ç  åˆ†ç±» åˆ†ç±»æè¿° 1** ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ 2** æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç† 3** é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ 4** å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ 5** æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ 1XX 100 Continue ï¼šè¡¨æ˜åˆ°ç›®å‰ä¸ºæ­¢éƒ½å¾ˆæ­£å¸¸ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­å‘é€è¯·æ±‚æˆ–è€…å¿½ç•¥è¿™ä¸ªå“åº” 2XX 200 OK 204 No Content ï¼šè¯·æ±‚å·²ç»æˆåŠŸå¤„ç†ï¼Œä½†æ˜¯è¿”å›çš„å“åº”æŠ¥æ–‡ä¸åŒ…å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ã€‚ä¸€èˆ¬åœ¨åªéœ€è¦ä»å®¢æˆ·ç«¯å¾€æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦è¿”å›æ•°æ®æ—¶ä½¿ç”¨ 206 Partial Content ï¼šè¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œå“åº”æŠ¥æ–‡åŒ…å«ç”± Content-Range æŒ‡å®šèŒƒå›´çš„å®ä½“å†…å®¹ 3XX 301 Moved Permanently ï¼šæ°¸ä¹…æ€§é‡å®šå‘ 302 Found ï¼šä¸´æ—¶æ€§é‡å®šå‘ 303 See Other ï¼šå’Œ 302 æœ‰ç€ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†æ˜¯ 303 æ˜ç¡®è¦æ±‚å®¢æˆ·ç«¯åº”è¯¥é‡‡ç”¨ GET æ–¹æ³•è·å–èµ„æº 304 Not Modified ï¼šå¦‚æœè¯·æ±‚æŠ¥æ–‡é¦–éƒ¨åŒ…å«ä¸€äº›æ¡ä»¶ï¼Œä¾‹å¦‚ï¼šIf-Matchï¼ŒIf-Modified-Sinceï¼ŒIf-None-Matchï¼ŒIf-Rangeï¼ŒIf-Unmodified-Sinceï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å› 304 çŠ¶æ€ç  307 Temporary Redirect ï¼šä¸´æ—¶é‡å®šå‘ï¼Œä¸ 302 çš„å«ä¹‰ç±»ä¼¼ï¼Œä½†æ˜¯ 307 è¦æ±‚æµè§ˆå™¨ä¸ä¼šæŠŠé‡å®šå‘è¯·æ±‚çš„ POST æ–¹æ³•æ”¹æˆ GET æ–¹æ³• 4XX 400 Bad Request:è¯­æ³•é”™è¯¯ 401 Unauthorized:éœ€è¦è®¤è¯ 403 Forbidden:è¯·æ±‚è¢«æ‹’ç» 404 Not Found 5XX 500 Internal Server Error ï¼šæœåŠ¡å™¨æ­£åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ 503 Service Unavailable ï¼šæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œç°åœ¨æ— æ³•å¤„ç†è¯·æ±‚ å…·ä½“åº”ç”¨ è¿æ¥ç®¡ç† çŸ­è¿æ¥ æ¯è¿›è¡Œä¸€æ¬¡ HTTP é€šä¿¡å°±è¦æ–°å»ºä¸€ä¸ª TCP è¿æ¥ é•¿è¿æ¥ ä» HTTP/1.1 å¼€å§‹é»˜è®¤æ˜¯é•¿è¿æ¥çš„ï¼Œå¦‚æœè¦æ–­å¼€è¿æ¥ï¼Œéœ€è¦ç”±å®¢æˆ·ç«¯æˆ–è€…æœåŠ¡å™¨ç«¯æå‡ºæ–­å¼€ï¼Œä½¿ç”¨ Connection : close åœ¨ HTTP/1.1 ä¹‹å‰é»˜è®¤æ˜¯çŸ­è¿æ¥çš„ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨é•¿è¿æ¥ï¼Œåˆ™ä½¿ç”¨ Connection : Keep-Alive æµæ°´çº¿ æµæ°´çº¿æ˜¯åœ¨åŒä¸€æ¡é•¿è¿æ¥ä¸Šè¿ç»­å‘å‡ºè¯·æ±‚ï¼Œè€Œä¸ç”¨ç­‰å¾…å“åº”è¿”å›ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å»¶è¿Ÿ Cookie Cookie æ˜¯æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨ä¹‹åå‘åŒä¸€æœåŠ¡å™¨å†æ¬¡å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦ä¸Šï¼Œç”¨äºå‘ŠçŸ¥æœåŠ¡ç«¯ä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€å®¢æˆ·ç«¯ ç”¨é€” ä¼šè¯çŠ¶æ€ç®¡ç† ä¸ªæ€§åŒ–è®¾ç½® æµè§ˆå™¨è¡Œä¸ºè·Ÿè¸ª åˆ›å»ºè¿‡ç¨‹ æœåŠ¡çš„å“åº”å¤´Set-Cookieå¤´éƒ¨ï¼š Set-Cookie: yummy_cookie=choco Set-Cookie: tasty_cookie=strawberry å®¢æˆ·ç«¯ä¹‹åå¯¹åŒä¸€æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚å¤´Cookieå¤´éƒ¨å¸¦ä¸Šè¿™ä¸ªCookie Cookie: yummy_cookie=choco; tasty_cookie=strawberry åˆ†ç±» ä¼šè¯æœŸCookieï¼šæµè§ˆå™¨å…³é—­ä¹‹åå®ƒä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œæ²¡æœ‰æŒ‡å®šè¿‡æœŸæ—¶é—´å°±æ˜¯ä¼šè¯æœŸCookie æŒä¹…æ€§ Cookieï¼šæŒ‡å®šè¿‡æœŸæ—¶é—´ï¼ˆExpiresï¼‰æˆ–æœ‰æ•ˆæœŸï¼ˆmax-ageï¼‰ä¹‹åå°±æˆä¸ºäº†æŒä¹…æ€§çš„ Cookie Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2020 07:28:00 GMT; ä½œç”¨åŸŸ Domain æ ‡è¯†Cookieåœ¨å“ªäº›åŸŸåä¸‹æœ‰æ•ˆï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤æ˜¯å½“å‰æ–‡æ¡£çš„ä¸»æœº å¦‚æœæŒ‡å®šäº†Domainï¼Œåˆ™ä¸€èˆ¬åŒ…æ‹¬å­åŸŸåï¼Œå¦‚baidu.comï¼ŒåŒ…å«map.baidu.com JSè®¿é—® JavaScriptå¯ä»¥é€šè¿‡document.cookieæ¥åˆ›å»ºcookieæˆ–è€…è®¿é—®éHttpOnlyçš„Cookie HttpOnly æ ‡è®°ä¸º HttpOnly çš„ Cookie ä¸èƒ½è¢« JavaScript è„šæœ¬è°ƒç”¨ Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2020 07:28:00 GMT; Secure; HttpOnly Secure æ ‡è®°ä¸º Secure çš„ Cookie åªèƒ½é€šè¿‡è¢« HTTPS åè®®åŠ å¯†è¿‡çš„è¯·æ±‚å‘é€ç»™æœåŠ¡ç«¯ Session Sessionæ˜¯é€šè¿‡åœ¨æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ªkeyï¼Œä½¿ç”¨è¿™ä¸ªkeyä¸ºç´¢å¼•åœ¨æœåŠ¡å™¨ç«¯å­˜æ”¾ç”¨æˆ·ä¿¡æ¯ï¼Œåå°†è¿™ä¸ªkeyä½œä¸ºcookieè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè®©å®¢æˆ·ç«¯ä½¿ç”¨è¿™ä¸ªkeyæ¥æ“ä½œ åº”è¯¥æ³¨æ„ Session ID çš„å®‰å…¨æ€§é—®é¢˜ï¼Œä¸èƒ½è®©å®ƒè¢«æ¶æ„æ”»å‡»è€…è½»æ˜“è·å–ï¼Œé‚£ä¹ˆå°±ä¸èƒ½äº§ç”Ÿä¸€ä¸ªå®¹æ˜“è¢«çŒœåˆ°çš„ Session ID å€¼ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦ç»å¸¸é‡æ–°ç”Ÿæˆ Session IDã€‚åœ¨å¯¹å®‰å…¨æ€§è¦æ±‚æé«˜çš„åœºæ™¯ä¸‹ï¼Œè¿˜éœ€è¦ä½¿ç”¨äºŒé‡éªŒè¯çš„æ–¹å¼ ç‰¹ç‚¹ åŸºäºTCP/IPçš„é«˜çº§åè®® é»˜è®¤ç«¯å£å·:80 åŸºäºè¯·æ±‚/å“åº”æ¨¡å‹çš„:ä¸€æ¬¡è¯·æ±‚å¯¹åº”ä¸€æ¬¡å“åº” æ— çŠ¶æ€çš„ï¼šæ¯æ¬¡è¯·æ±‚ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œä¸èƒ½äº¤äº’æ•°æ® æµè§ˆå™¨ç¦ç”¨cookie å½“æµè§ˆå™¨æ— æ³•ä½¿ç”¨Cookieï¼Œåªèƒ½ä½¿ç”¨sessionï¼Œæ­¤å¤–ï¼Œsession idä¹Ÿä¸èƒ½é€šè¿‡cookieæ¥ä¼ é€’ï¼Œè€Œæ˜¯éœ€è¦é€šè¿‡URLä¼ å‚çš„æ–¹å¼æ¥ä¼ é€’ï¼Œå¦‚wapæ—¶ä»£çš„sid Cookieä¸Session æ¯”è¾ƒç±»åˆ« Session Cookie å­˜å‚¨æ–¹å¼ æœåŠ¡ç«¯ å®¢æˆ·ç«¯ å¤§å°é™åˆ¶ æ—  æœ‰ å®‰å…¨ è¾ƒå®‰å…¨ è¾ƒä¸å®‰å…¨ ç¼“å­˜ ä¼˜ç‚¹ ç¼“è§£æœåŠ¡å™¨å‹åŠ› æå‡å®¢æˆ·ç«¯é€Ÿåº¦ å®ç°æ–¹æ³• ä»£ç†æœåŠ¡å™¨ç¼“å­˜ å®¢æˆ·ç«¯ç¼“å­˜ Cache-Control ç¦æ­¢è¿›è¡Œç¼“å­˜ Cache-Control: no-store å¼ºåˆ¶ç¡®è®¤ç¼“å­˜ åªæœ‰å½“ç¼“å­˜èµ„æºæœ‰æ•ˆæ—¶ï¼Œæ‰èƒ½ä½¿ç”¨è¿™ä¸ªå“åº” Cache-Control: no-cache ç¦æ­¢ä¿®æ”¹ Cache-Control: no-transform ç¦æ­¢ä»£ç†æœåŠ¡å™¨ä¿®æ”¹HTTPå“åº”å¤´æˆ–è€…å“åº”ä½“ ç§æœ‰ç¼“å­˜ åªèƒ½å•ç‹¬ç»™ç”¨æˆ·ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨åœ¨æµè§ˆå™¨ Cache-Control: private å…¬å…±ç¼“å­˜ å¯ä»¥è¢«å¤šä¸ªç”¨æˆ·ä½¿ç”¨ï¼Œä¸€èˆ¬å­˜å‚¨åœ¨ä»£ç†æœåŠ¡å™¨ä¸­ Cache-Control: public min-freshå’Œonly-if-cached ä»…ç”¨äºå®¢æˆ·ç«¯çš„è¯·æ±‚Headerã€‚min-freshåç»­è·Ÿéšä¸€ä¸ªä»¥ç§’ä¸ºå•ä½çš„æ•°å­—ï¼Œç”¨äºå»ºè®®æœåŠ¡å™¨èƒ½è¿”å›ä¸€ä¸ªä¸å°‘äºè¯¥æ—¶é—´çš„ç¼“å­˜èµ„æº only-if-cachedè¡¨ç¤ºè¦æ±‚å®¢æˆ·ç«¯è¦æ±‚ä¸å‘é€ç½‘ç»œè¯·æ±‚ï¼Œåªä½¿ç”¨ç¼“å­˜æ¥è¿›è¡Œå“åº” must-revalidateå’Œproxy-revalidate must-revalidateè¡¨ç¤ºåœ¨èµ„æºè¿‡æœŸåï¼Œä¸€å®šéœ€è¦ä»æœåŠ¡å™¨ä¸­è¿›è¡Œè·å– proxy-revalidateç”¨äºæç¤ºä»£ç†ã€CDNç­‰è®¾å¤‡èµ„æºè¿‡æœŸåçš„ç¼“å­˜è¡Œä¸º ç¼“å­˜è¿‡æœŸ å‡ºç°åœ¨å“åº”æŠ¥æ–‡ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ ç¼“å­˜å°±è¢«è®¤ä¸ºè¿‡æœŸ Cache-Control: max-age=31536000 Expires é¦–éƒ¨å­—æ®µä¹Ÿå¯ä»¥ç”¨äºå‘ŠçŸ¥ç¼“å­˜æœåŠ¡å™¨è¯¥èµ„æºä»€ä¹ˆæ—¶å€™ä¼šè¿‡æœŸ Expires: Wed, 04 Jul 2012 08:26:05 GMT ä½†Expiresæœ‰å¦‚ä¸‹é—®é¢˜ï¼š å—é™äºå®¢æˆ·ç«¯çš„æ—¶é—´ æ— æ³•ç¼“å­˜å®¢æˆ·ç§æœ‰èµ„æº æ— æ³•æè¿°â€œä¸ç¼“å­˜â€ï¼Œå¦‚jsæ–‡ä»¶å¼•ç”¨åé¢è¦åŠ ä¸ªç‰ˆæœ¬å· ç¼“å­˜éªŒè¯ ETag æ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯† If-None-Match: \"82e22293907ce725faf67773957acd12\" å¦‚æœæœåŠ¡å™¨æ¥æ”¶åˆ°ETageåï¼Œåˆ¤æ–­èµ„æºæ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œä¼šè¿”å›ä¸€ä¸ª304 Last-Modified é¦–éƒ¨å­—æ®µä¹Ÿå¯ä»¥ç”¨äºç¼“å­˜éªŒè¯ï¼Œå¦‚æœå“åº”é¦–éƒ¨å­—æ®µé‡Œå«æœ‰è¿™ä¸ªä¿¡æ¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨åç»­çš„è¯·æ±‚ä¸­å¸¦ä¸Š If-Modified-Since æ¥éªŒè¯ç¼“å­˜ã€‚æœåŠ¡å™¨åªåœ¨æ‰€è¯·æ±‚çš„èµ„æºåœ¨ç»™å®šçš„æ—¥æœŸæ—¶é—´ä¹‹åå¯¹å†…å®¹è¿›è¡Œè¿‡ä¿®æ”¹çš„æƒ…å†µä¸‹æ‰ä¼šå°†èµ„æºè¿”å›ï¼ŒçŠ¶æ€ç ä¸º 200 OKã€‚å¦‚æœè¯·æ±‚çš„èµ„æºä»é‚£æ—¶èµ·æœªç»ä¿®æ”¹ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªä¸å¸¦æœ‰å®ä½“ä¸»ä½“çš„ 304 Not Modified å“åº”æŠ¥æ–‡ å†…å®¹åå•† æœåŠ¡ç«¯é©±åŠ¨ å®¢æˆ·ç«¯è®¾ç½®Acceptã€Accept-Charsetã€Accept-Encodingã€Accept-Languageç­‰é¦–éƒ¨ï¼ŒæœåŠ¡ç«¯æ ¹æ®è¿™äº›é¦–éƒ¨è¿”å›ç‰¹å®šèµ„æº ä»£ç†é©±åŠ¨ æœåŠ¡å™¨è¿”å› 300 Multiple Choices æˆ–è€… 406 Not Acceptableï¼Œå®¢æˆ·ç«¯ä»ä¸­é€‰å‡ºæœ€åˆé€‚çš„é‚£ä¸ªèµ„æº vary ä¸€ä¸ªå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªåŒ…å« Accept-Language é¦–éƒ¨å­—æ®µçš„è¯·æ±‚ä¹‹åï¼ŒæºæœåŠ¡å™¨è¿”å›çš„å“åº”åŒ…å« Vary: Accept-Language å†…å®¹ï¼Œç¼“å­˜æœåŠ¡å™¨å¯¹è¿™ä¸ªå“åº”è¿›è¡Œç¼“å­˜ä¹‹åï¼Œåœ¨å®¢æˆ·ç«¯ä¸‹ä¸€æ¬¡è®¿é—®åŒä¸€ä¸ª URL èµ„æºï¼Œå¹¶ä¸” Accept-Language ä¸ç¼“å­˜ä¸­çš„å¯¹åº”çš„å€¼ç›¸åŒæ—¶æ‰ä¼šè¿”å›è¯¥ç¼“å­˜ å†…å®¹ç¼–ç  å†…å®¹ç¼–ç æœ‰ï¼šgzipã€compressã€deflateã€identity æµè§ˆå™¨å‘é€ Accept-Encoding é¦–éƒ¨ï¼Œå…¶ä¸­åŒ…å«æœ‰å®ƒæ‰€æ”¯æŒçš„å‹ç¼©ç®—æ³•ï¼Œä»¥åŠå„è‡ªçš„ä¼˜å…ˆçº§ã€‚æœåŠ¡å™¨åˆ™ä»ä¸­é€‰æ‹©ä¸€ç§ï¼Œä½¿ç”¨è¯¥ç®—æ³•å¯¹å“åº”çš„æ¶ˆæ¯ä¸»ä½“è¿›è¡Œå‹ç¼©ï¼Œå¹¶ä¸”å‘é€ Content-Encoding é¦–éƒ¨æ¥å‘ŠçŸ¥æµè§ˆå™¨å®ƒé€‰æ‹©äº†å“ªä¸€ç§ç®—æ³• èŒƒå›´è¯·æ±‚ Range è¯·æ±‚æŠ¥æ–‡ä¸­æ·»åŠ  Range é¦–éƒ¨å­—æ®µæŒ‡å®šè¯·æ±‚çš„èŒƒå›´ Range: bytes=0-1023 æˆåŠŸçš„è¯æœåŠ¡å™¨è¿”å›çš„å“åº”åŒ…å« 206 Partial Content è¯·æ±‚çš„èŒƒå›´è¶Šç•Œçš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨ä¼šè¿”å› 416 Requested Range Not Satisfiable çŠ¶æ€ç  ä¸æ”¯æŒèŒƒå›´è¯·æ±‚çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨ä¼šè¿”å› 200 OK çŠ¶æ€ç  Accept-Range ç”¨äºå‘ŠçŸ¥å®¢æˆ·ç«¯æ˜¯å¦èƒ½å¤„ç†èŒƒå›´è¯·æ±‚ï¼Œå¯ä»¥å¤„ç†ä½¿ç”¨ bytesï¼Œå¦åˆ™ä½¿ç”¨ none åˆ†å—ä¼ è¾“ Chunked Transfer Encodingï¼Œå¯ä»¥æŠŠæ•°æ®åˆ†å‰²æˆå¤šå—ï¼Œè®©æµè§ˆå™¨é€æ­¥æ˜¾ç¤ºé¡µé¢ å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆ ä¸€ä»½æŠ¥æ–‡ä¸»ä½“å†…å¯å«æœ‰å¤šç§ç±»å‹çš„å®ä½“åŒæ—¶å‘é€ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨ boundary å­—æ®µå®šä¹‰çš„åˆ†éš”ç¬¦è¿›è¡Œåˆ†éš” å¦‚ Content-Type: multipart/form-data; boundary=AaB03x --AaB03x Content-Disposition: form-data; name=\"submit-name\" Larry --AaB03x Content-Disposition: form-data; name=\"files\"; filename=\"file1.txt\" Content-Type: text/plain ... contents of file1.txt ... --AaB03x-- è™šæ‹Ÿä¸»æœº HTTP/1.1 ä½¿ç”¨è™šæ‹Ÿä¸»æœºæŠ€æœ¯ï¼Œä½¿å¾—ä¸€å°æœåŠ¡å™¨æ‹¥æœ‰å¤šä¸ªåŸŸåï¼Œå¹¶ä¸”åœ¨é€»è¾‘ä¸Šå¯ä»¥çœ‹æˆå¤šä¸ªæœåŠ¡å™¨ é€šä¿¡æ•°æ®è½¬å‘ ä»£ç† ç›®çš„ ç¼“å­˜ è´Ÿè½½å‡è¡¡ ç½‘ç»œè®¿é—®æ§åˆ¶ è®¿é—®æ—¥å¿—è®°å½• æ­£å‘ä»£ç† ç”¨æˆ·å¯ä»¥å¯Ÿè§‰æ­£å‘ä»£ç†çš„å­˜åœ¨ åå‘ä»£ç† åå‘ä»£ç†ä¸€èˆ¬ä½äºå†…éƒ¨ç½‘ç»œä¸­ï¼Œç”¨æˆ·å¯Ÿè§‰ä¸åˆ° ç½‘å…³ ç½‘å…³æœåŠ¡å™¨ä¼šå°† HTTP è½¬åŒ–ä¸ºå…¶å®ƒåè®®è¿›è¡Œé€šä¿¡ï¼Œä»è€Œè¯·æ±‚å…¶å®ƒé HTTP æœåŠ¡å™¨çš„æœåŠ¡ éš§é“ ä½¿ç”¨ SSL ç­‰åŠ å¯†æ‰‹æ®µï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€æ¡å®‰å…¨çš„é€šä¿¡çº¿è·¯ é‡å®šå‘åŸç† å½“æœåŠ¡ç«¯å¯¹å®¢æˆ·ç«¯è¿›è¡Œé‡å®šå‘æ—¶ï¼Œä¼šè®¾ç½®ä¸€ä¸ªLocationå“åº”å¤´ï¼Œå¹¶å°†çŠ¶æ€ç è®¾ç½®ä¸º302 å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰æ¥æ”¶åˆ°è¿™æ ·çš„å“åº”ä¹‹åï¼Œå°±ä¼šè·³è½¬åˆ°Locationé‡Œé¢çš„ç½‘å€ HTTPS HTTPçš„é—®é¢˜ æ˜æ–‡é€šä¿¡ æ— æ³•ç¡®è®¤é€šä¿¡æ–¹ æ— æ³•éªŒè¯æŠ¥æ–‡å®Œæ•´æ€§ åŸç† å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€HTTPSè¯·æ±‚ æœåŠ¡ç«¯æ”¶åˆ°HTTPSè¯·æ±‚è¿”å›å…¬é’¥è¯ä¹¦ å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„å…¬é’¥è¯ä¹¦ï¼ŒéªŒè¯æ˜¯å¦æœ‰æ•ˆï¼ˆéªŒè¯é¢å‘æœºæ„ã€è¿‡æœŸæ—¶é—´ç­‰ç­‰ï¼‰ å¦‚æœæœ‰æ•ˆï¼Œç”Ÿæˆä¸€ä¸ªéšæœºæ•°ç”¨å…¬é’¥åŠ å¯†ï¼Œç„¶åå‘é€ç»™æœåŠ¡ç«¯ æœåŠ¡ç«¯ä½¿ç”¨ç§é’¥å°†è¯¥éšæœºæ•°è§£å¯†ï¼Œç„¶åç”¨è¯¥éšæœºæ•°ä½œä¸ºå¯†é’¥åŠ å¯†ä¸€ä¸²å­—ç¬¦ç»™å®¢æˆ·ç«¯ å¦‚æœå®¢æˆ·ç«¯è§£å¯†è¿™ä¸²å­—ç¬¦æˆåŠŸï¼Œè¿™ä¸²å­—ç¬¦å°†ä½œä¸ºæ¥ä¸‹æ¥å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šä¿¡çš„å¯†é’¥ è¿™ä¸ªè¿‡ç¨‹çš„å…³é”®åœ¨äºå¯†é’¥ä¼ é€’ä½¿ç”¨äº†éå¯¹ç§°åŠ å¯†ï¼Œæ•°æ®ä¼ è¾“é‡‡ç”¨äº†å¯¹ç§°åŠ å¯† æ‰€ä»¥è¿™å°±ä¿è¯äº†å¯¹ç§°åŠ å¯†çš„å¯†é’¥ä¸ä¼šé€šè¿‡ç½‘ç»œç›´æ¥ä¼ è¾“ï¼Œä¹‹æ‰€ä»¥æ•°æ®ä¼ è¾“é‡‡ç”¨äº†å¯¹ç§°åŠ å¯†ï¼Œä¸»è¦æ˜¯å› ä¸ºéå¯¹ç§°åŠ å¯†æ€§èƒ½å¾ˆä½ è¯ä¹¦ é€šè¿‡ä½¿ç”¨ è¯ä¹¦ æ¥å¯¹é€šä¿¡æ–¹è¿›è¡Œè®¤è¯ æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼ˆCAï¼ŒCertificate Authorityï¼‰æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨åŒæ–¹éƒ½å¯ä¿¡èµ–çš„ç¬¬ä¸‰æ–¹æœºæ„ æœåŠ¡å™¨çš„è¿è¥äººå‘˜å‘ CA æå‡ºå…¬å¼€å¯†é’¥çš„ç”³è¯·ï¼ŒCA åœ¨åˆ¤æ˜æå‡ºç”³è¯·è€…çš„èº«ä»½ä¹‹åï¼Œä¼šå¯¹å·²ç”³è¯·çš„å…¬å¼€å¯†é’¥åšæ•°å­—ç­¾åï¼Œç„¶ååˆ†é…è¿™ä¸ªå·²ç­¾åçš„å…¬å¼€å¯†é’¥ï¼Œå¹¶å°†è¯¥å…¬å¼€å¯†é’¥æ”¾å…¥å…¬å¼€å¯†é’¥è¯ä¹¦åç»‘å®šåœ¨ä¸€èµ· å®Œæ•´æ€§ä¿æŠ¤ SSL æä¾›æŠ¥æ–‡æ‘˜è¦åŠŸèƒ½æ¥è¿›è¡Œå®Œæ•´æ€§ä¿æŠ¤ HTTPSçš„ç¼ºç‚¹ åŠ è§£å¯†æœ‰æ€§èƒ½æŸå¤± è¯ä¹¦æˆæƒéœ€è¦é«˜é¢è´¹ç”¨ nginxé…ç½®è¯ä¹¦ server { .... ssl on; ssl_certificate fullchain.pem; ssl_certificate_key privkey.pem; } ### HTTP/2.0 HTTP/1.xç¼ºé™· ä½¿ç”¨å¤šä¸ªè¿æ¥æå‡æ€§èƒ½ æ²¡æœ‰å‹ç¼©è¯·æ±‚ä¸å“åº” ä¸æ”¯æŒèµ„æºä¼˜å…ˆçº§ äºŒè¿›åˆ¶åˆ†å¸§ åªä¼šæœ‰ä¸€ä¸ªTCPè¿æ¥ï¼Œä¸€ä¸ªè¿æ¥ä¼šæœ‰ä»»æ„æ•°é‡çš„åŒå‘æ•°æ®æµ ä¸€ä¸ªæ•°æ®æµä¼šæœ‰ä¸€ä¸ªä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œä¸€ä¸ªæ•°æ®æµå¯ä»¥æ‰¿è½½ä¸€æ¥ä¸€å›åŒå‘ä¿¡æ¯ æ¶ˆæ¯æ˜¯è¯·æ±‚æ¶ˆæ¯æˆ–è€…å“åº”æ¶ˆæ¯ å¸§æ˜¯æœ€å°çš„é€šä¿¡å•ä½ï¼Œä¸åŒæ•°æ®æµçš„å¸§å¯ä»¥äº¤é”™å‘é€ï¼Œç„¶åæ ¹æ®å”¯ä¸€æ ‡è¯†ç¬¦æ¥é‡æ–°ç»„è£… æœåŠ¡ç«¯æ¨é€ HTTP/2.0 åœ¨å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼ŒæœåŠ¡ç«¯ä¼šæŠŠç›¸å…³çš„èµ„æºä¸€èµ·å‘é€ç»™å®¢æˆ·ç«¯ é¦–éƒ¨å‹ç¼© HTTP/2.0 è¦æ±‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒæ—¶ç»´æŠ¤å’Œæ›´æ–°ä¸€ä¸ªåŒ…å«ä¹‹å‰è§è¿‡çš„é¦–éƒ¨å­—æ®µè¡¨ï¼Œä»è€Œé¿å…äº†é‡å¤ä¼ è¾“ ä¸ä»…å¦‚æ­¤ï¼ŒHTTP/2.0 ä¹Ÿä½¿ç”¨ Huffman ç¼–ç å¯¹é¦–éƒ¨å­—æ®µè¿›è¡Œå‹ç¼© GETä¸POST GET ç”¨äºè·å–èµ„æºï¼Œè€Œ POST ç”¨äºä¼ è¾“å®ä½“ä¸»ä½“ã€‚ å‚æ•° GETæ˜¯é€šè¿‡URLæºå¸¦å‚æ•°çš„ï¼Œè€Œ POST çš„å‚æ•°å­˜å‚¨åœ¨å®ä½“ä¸»ä½“ä¸­ å®‰å…¨ GETè¯­ä¹‰æ¥è¯´æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºGETæ“ä½œåªæ˜¯è·å–èµ„æº è€ŒPOSTçš„è¯­ä¹‰æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºPOSTæ˜¯ä¸Šä¼ æ•°æ® å¹‚ç­‰æ€§ å¹‚ç­‰æ–¹æ³•ä¸åº”è¯¥å…·æœ‰å‰¯ä½œç”¨ï¼Œæ‰€æœ‰çš„å®‰å…¨æ–¹æ³•ä¹Ÿéƒ½æ˜¯å¹‚ç­‰çš„ åœ¨æ­£ç¡®å®ç°çš„æ¡ä»¶ä¸‹ï¼ŒGETï¼ŒHEADï¼ŒPUT å’Œ DELETE ç­‰æ–¹æ³•éƒ½æ˜¯å¹‚ç­‰çš„ å¯ç¼“å­˜ ä¸€èˆ¬æ¥è¯´GETå’ŒHEADæ˜¯å¯ç¼“å­˜çš„ï¼ŒPUTå’ŒDELETEä¸å¯ç¼“å­˜ï¼ŒPOSTåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸å¯ç¼“å­˜ CDN CDNåŠ é€Ÿæ„æ€å°±æ˜¯åœ¨ç”¨æˆ·å’Œæˆ‘ä»¬çš„æœåŠ¡å™¨ä¹‹é—´åŠ ä¸€ä¸ªç¼“å­˜æœºåˆ¶,åŠ¨æ€è·å–IPåœ°å€æ ¹æ®åœ°ç†ä½ç½®ï¼Œè®©ç”¨æˆ·åˆ°æœ€è¿‘çš„æœåŠ¡å™¨è®¿é—® åŸç† 1) ç”¨æˆ·å‘æµè§ˆå™¨æä¾›è¦è®¿é—®çš„åŸŸåï¼› 2) è·¯ç”±è§£æï¼šæµè§ˆå™¨è°ƒç”¨åŸŸåè§£æåº“å¯¹åŸŸåè¿›è¡Œè§£æï¼Œç”±äºCDNå¯¹åŸŸåè§£æè¿‡ç¨‹è¿›è¡Œäº†è°ƒæ•´ï¼Œæ‰€ä»¥è§£æå‡½æ•°åº“ä¸€èˆ¬å¾—åˆ°çš„æ˜¯è¯¥åŸŸåå¯¹åº”çš„CNAMEè®°å½•ï¼ˆCDNåœ°å€ï¼‰ï¼Œä¸ºäº†å¾—åˆ°å®é™…IPåœ°å€ï¼Œæµè§ˆå™¨éœ€è¦å†æ¬¡å¯¹è·å¾—çš„CNAMEè¿›è¡Œè§£æä»¥å¾—åˆ°å®é™…çš„IPåœ°å€ï¼›åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨çš„å…¨å±€è´Ÿè½½å‡è¡¡DNSè§£æï¼Œå¦‚æ ¹æ®åœ°ç†ä½ç½®ä¿¡æ¯è§£æå¯¹åº”çš„IPåœ°å€ï¼Œä½¿å¾—ç”¨æˆ·èƒ½å°±è¿‘è®¿é—®ï¼› 3) æ­¤æ¬¡è§£æå¾—åˆ°CDNç¼“å­˜æœåŠ¡å™¨çš„IPåœ°å€ï¼Œæµè§ˆå™¨åœ¨å¾—åˆ°å®é™…çš„IPåœ°å€ä»¥åï¼Œå‘ç¼“å­˜æœåŠ¡å™¨å‘å‡ºè®¿é—®è¯·æ±‚ 4) ç¼“å­˜æœåŠ¡å™¨æ ¹æ®æµè§ˆå™¨æä¾›çš„è¦è®¿é—®çš„åŸŸåï¼Œé€šè¿‡Cacheå†…éƒ¨ä¸“ç”¨DNSè§£æå¾—åˆ°æ­¤åŸŸåçš„å®é™…IPåœ°å€ï¼Œå†ç”±ç¼“å­˜æœåŠ¡å™¨å‘æ­¤å®é™…IPåœ°å€æäº¤è®¿é—®è¯·æ±‚ 5) ç¼“å­˜æœåŠ¡å™¨ä»å®é™…IPåœ°å€å¾—å¾—åˆ°å†…å®¹ä»¥åï¼Œä¸€æ–¹é¢åœ¨æœ¬åœ°è¿›è¡Œä¿å­˜ï¼Œä»¥å¤‡ä»¥åä½¿ç”¨ï¼ŒäºŒæ–¹é¢æŠŠè·å–çš„æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®Œæˆæ•°æ®æœåŠ¡è¿‡ç¨‹ 6) å®¢æˆ·ç«¯å¾—åˆ°ç”±ç¼“å­˜æœåŠ¡å™¨è¿”å›çš„æ•°æ®ä»¥åæ˜¾ç¤ºå‡ºæ¥å¹¶å®Œæˆæ•´ä¸ªæµè§ˆçš„æ•°æ®è¯·æ±‚è¿‡ç¨‹ å†…å®¹åˆ†å‘ ç¼“å­˜èŠ‚ç‚¹ä¸­å¿…é¡»æœ‰ç”¨æˆ·æƒ³è¦è¯·æ±‚çš„èµ„æºå‰¯æœ¬ï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹èµ„æºæ—¶å¦‚ä½•è·å–ä»¥åŠå­˜å‚¨çš„ï¼Ÿ ä¸»åŠ¨åˆ†å‘ï¼šåˆ†å‘ç”±æºç«™ä¸»åŠ¨å‘èµ·ï¼Œå°†å†…å®¹ä»æºç«™æˆ–è€…å…¶ä»–èµ„æºåº“æ¨é€åˆ°ç”¨æˆ·è¾¹ç¼˜çš„å„ä¸ªCDNç¼“å­˜èŠ‚ç‚¹ä¸Š è¢«åŠ¨å›æºï¼šCDNç¼“å­˜èŠ‚ç‚¹å‘ç°è‡ªå·±æ²¡æœ‰è¯¥èµ„æºï¼Œå°±ä¼šå®æ—¶ä»æºç«™ä¸­è·å– å¯¹äºèµ„æºçš„ç®¡ç†ï¼Œä¸€èˆ¬åˆ†ä¸ºä¸»åŠ¨å¤±æ•ˆä¸è¢«åŠ¨å¤±æ•ˆï¼š è¢«åŠ¨å¤±æ•ˆï¼šä¸€æ®µæ—¶é—´åèµ„æºè¿‡æœŸï¼Œéœ€è¦é‡æ–°å›æº ä¸»åŠ¨å¤±æ•ˆï¼šæŸäº›äº‹ä»¶å¼ºè¡Œä½¿èµ„æºå¤±æ•ˆ CDN åŠ¨æ€åŠ é€Ÿ é€šè¿‡åŠ¨æ€çš„é“¾è·¯æ¢æµ‹æ¥å¯»æ‰¾å›æºæœ€å¥½çš„ä¸€æ¡è·¯å¾„ è·¨åŸŸé—®é¢˜ åŒæºç­–ç•¥é™åˆ¶äº†ä»åŒä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ä¸€ä¸ªæºæ— æ³•é€šè¿‡ajaxä¸å¦å¤–ä¸€ä¸ªæºè¿›è¡Œäº¤äº’ è§£å†³æ–¹æ¡ˆ JSONPï¼ˆç¼ºé™·å¾ˆå¤šï¼‰ æœåŠ¡ç«¯å°†è¿”å›æ•°æ®å°è£…æˆjså‡½æ•°è°ƒç”¨å¹¶è¿”å›ï¼Œå®¢æˆ·ç«¯jsé€šè¿‡åŠ¨æ€åŠ è½½scriptæ ‡ç­¾åŠ è½½æœåŠ¡å™¨çš„jsæ•°æ®ï¼ŒåŠ è½½å®Œæˆåæ‰§è¡Œå°è£…çš„jså‡½æ•°è·å–æ•°æ® æ‰€ä»¥jsonpè¿™ç§è¯·æ±‚æ–¹å¼ä¸ajaxæœ‰ç€æœ¬è´¨çš„ä¸åŒ è¢«è°ƒæœåŠ¡ç«¯è®¾ç½®å“åº”å¤´å…è®¸è·¨åŸŸ response.setHeader(\"Access-Control-Allow-Origin\",\"*\"); åç«¯è¯·æ±‚è½¬å‘ å‰ç«¯æ‰€åœ¨çš„æœåŠ¡ç«¯è°ƒç”¨è¢«è°ƒæœåŠ¡ç«¯ï¼Œå°†ç»“æœè¿”å›ç»™å‰ç«¯ nginxåå‘ä»£ç† server { listen 80; server_name api.domain; location /api1 { proxy_pass http://outter_server; } } ä½¿ç”¨åº”ç”¨ç½‘å…³ ä½¿å¯ä»¥é€šè¿‡ä¸€ä¸ªç»Ÿä¸€å…¥å£è®¿é—®å„ä¸ªé¡¹ç›® ä¼ è¾“é“¾è·¯ä¼˜åŒ– å‰ç«¯ä¼šé€šè¿‡ä¸€äº›è¯¸å¦‚ç²¾çµå›¾ã€æ–‡ä»¶åˆå¹¶ã€è¯·æ±‚åˆå¹¶çš„æ–¹å¼æ–¹æ³•æ¥é™ä½HTTPè¯·æ±‚æ•° åˆæˆ–è€…æ˜¯HTTP1.1å¼•å…¥çš„Keep-Aliveæœºåˆ¶ ä½¿ç”¨ä¸€æ¡è¿æ¥æ¥å¤„ç†è¯·æ±‚ ä½†è¿™å°±ä¼šå¯¼è‡´è¯·æ±‚è¢«é˜»å¡çš„é—®é¢˜ HTTP2çš„å‡ºç°å¾ˆå¥½åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ å®ƒå°†æ•°æ®æ‹†åˆ†ä¸ºå°ç«¯ å¹¶ä¸”ä½¿ç”¨idæ ‡è¯† åœ¨å®¢æˆ·ç«¯è¿›è¡Œç»„è£…ï¼Œè¿™æ ·å¤šä¸ªè¯·æ±‚é˜»å¡æ•´æ¡è¿æ¥çš„æƒ…å†µå‡ºç°çš„æ¦‚ç‡å°±æ¯”è¾ƒå°äº† å¦å¤–ä¸€ç§ä¼˜åŒ–æ–¹å¼æ˜¯é€šè¿‡å‹ç¼© ä½†ä¸€æ—¦å‹ç¼© å¹¶ä¸”åªä½¿ç”¨ä¸€ä¸ªè¿æ¥ é‚£å¦‚ä½•åˆ¤æ–­å†…å®¹ä»¥åŠä¼ è¾“å®Œæ¯•ï¼Ÿä½¿ç”¨åˆ†å—ç¼–ç  æœ€åä»¥ä¸€ä¸ªé•¿åº¦å€¼ä¸º0çš„åˆ†å—æ¥è¡¨ç¤ºèµ„æºç»“æŸ å¿«é€ŸUDPç½‘ç»œè¿æ¥ QUICçš„å¯é ä¼ è¾“èƒ½åŠ›å¹¶ä¸æ˜¯ç”±åº•å±‚åè®®æä¾›çš„ï¼Œè€Œæ˜¯å®Œå…¨ç”±è‡ªå·±æ¥å®ç° QUICçš„å¦ä¸€ä¸ªè®¾è®¡ç›®æ ‡æ˜¯é¢å‘ç§»åŠ¨è®¾å¤‡çš„ä¸“é—¨æ”¯æŒï¼Œä½¿ç”¨äº†ä¸€ä¸ªæ ‡è¯†ç¬¦æ¥å¤„ç†ç”±äºç§»åŠ¨ç½‘ç»œæ–­å¼€é‡æ–°è¿æ¥çš„å®¢æˆ·ç«¯è¯†åˆ«é—®é¢˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-15 04:35:04 "},"è®¡ç®—æœºç½‘ç»œ/RESTful.html":{"url":"è®¡ç®—æœºç½‘ç»œ/RESTful.html","title":"RESTful","keywords":"","body":"RESTful ä¸€å¥—å…³äºè®¾è®¡è¯·æ±‚çš„è§„èŒƒï¼Œæœ¬è´¨ä¸Šè°ˆä¸ä¸Šè§„èŒƒï¼Œæ›´å¤šçš„æ˜¯ä¸€ç§é£æ ¼ èµ„æºï¼šä»£è¡¨ä¸€ä¸ªæŠ½è±¡å®ä½“ è¡¨å¾ï¼ˆè¡¨ç°å±‚ï¼‰ï¼šèµ„æºçš„è¡¨ç°å½¢å¼ çŠ¶æ€ï¼šåœ¨ç‰¹å®šä¸Šä¸‹æ–‡ä¸‹äº§ç”Ÿçš„ä¿¡æ¯ è½¬ç§»ï¼šçŠ¶æ€å‘ç”Ÿäº†å˜åŒ– è¶…æ–‡æœ¬é©±åŠ¨ï¼šé€šè¿‡æœåŠ¡ç«¯è¿”å›çš„è¶…æ–‡æœ¬æ¥å†³å®šå®¢æˆ·ç«¯è¡Œä¸º URIä»£è¡¨ä¸€ç§èµ„æºã€å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ï¼Œä¼ é€’èµ„æºçš„æŸç§è¡¨ç°å±‚ã€å®¢æˆ·ç«¯é€šè¿‡HTTPåŠ¨è¯ï¼Œå¯¹æœåŠ¡å™¨èµ„æºè¿›è¡Œæ“ä½œ GETï¼š è·å–æ•°æ® POSTï¼š æ·»åŠ æ•°æ® PUTï¼š æ›´æ–°æ•°æ® DELETEï¼š åˆ é™¤æ•°æ® å¸¸è§é”™è¯¯ URIåŒ…å«åŠ¨è¯ URIåŒ…å«ç‰ˆæœ¬ èŒƒä¾‹ è¯·æ±‚æ–¹å¼ URL å«ä¹‰ GETï¼š http://www.example.com/users è·å–ç”¨æˆ·åˆ—è¡¨æ•°æ® POSTï¼š http://www.example.com/users åˆ›å»º(æ·»åŠ )ç”¨æˆ·æ•°æ® GETï¼š http://www.example.com/users/1 è·å–ç”¨æˆ·IDä¸º1çš„ç”¨æˆ·ä¿¡æ¯ PUTï¼š http://www.example.com/users/1 ä¿®æ”¹ç”¨æˆ·IDä¸º1çš„ç”¨æˆ·ä¿¡æ¯ DELETEï¼š http://www.example.com/users/1 åˆ é™¤ç”¨æˆ·IDä¸º1çš„ç”¨æˆ·ä¿¡æ¯ RESTfulçš„ç³»ç»Ÿ æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯åˆ†ç¦» æ— çŠ¶æ€ å¯ç¼“å­˜ åˆ†å±‚ç³»ç»Ÿ ç»Ÿä¸€æ¥å£ æŒ‰éœ€ä»£ç  RESTé£æ ¼çš„å¥½å¤„ é™ä½æœåŠ¡æ¥å£çš„å­¦ä¹ æˆæœ¬ èµ„æºä¹‹é—´æœ‰å¤©ç„¶çš„é›†åˆæˆ–è€…å±‚æ¬¡ç»“æ„ RMMæˆç†Ÿåº¦ The Swamp of Plain Old XMLï¼šå®Œå…¨ä¸RESTã€‚å¦å¤–ï¼Œå…³äºPlain Old XMLè¿™è¯´æ³•ï¼ŒSOAè¡¨ç¤ºæ„Ÿè§‰æœ‰è¢«å†’çŠ¯åˆ°ã€‚ Resourcesï¼šå¼€å§‹å¼•å…¥èµ„æºçš„æ¦‚å¿µã€‚ HTTP Verbsï¼šå¼•å…¥ç»Ÿä¸€æ¥å£ï¼Œæ˜ å°„åˆ°HTTPåè®®çš„æ–¹æ³•ä¸Šã€‚ Hypermedia Controlsï¼šè¶…åª’ä½“æ§åˆ¶åœ¨æœ¬æ–‡é‡Œé¢çš„è¯´æ³•æ˜¯â€œè¶…æ–‡æœ¬é©±åŠ¨â€ ä¸è¶³ é¢å‘èµ„æºï¼ˆä¹Ÿå°±æ˜¯RESTï¼‰æ›´é€‚åˆåšCRUDï¼Œé¢å‘è¿‡ç¨‹é¢å‘å¯¹è±¡æ‰èƒ½è¡¨è¾¾æ›´åŠ å¤æ‚çš„é€»è¾‘ RESTç»‘å®šHTTP æ—¢æ˜¯ä¼˜ç‚¹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç¼ºç‚¹ï¼Œä¸é€‚åˆç”¨äºé«˜æ€§èƒ½çš„åœºæ™¯ RESTæœ¬èº«æ²¡æœ‰ä¼ è¾“å¯é æ€§æ”¯æŒ éœ€è¦è‡ªå·±åšå¥½å¹‚ç­‰æ€§å¤„ç† RESTç¼ºä¹å¯¹èµ„æºè¿›è¡Œâ€œéƒ¨åˆ†â€å’Œâ€œæ‰¹é‡â€çš„å¤„ç†èƒ½åŠ› MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-10 06:46:01 "},"è®¡ç®—æœºç½‘ç»œ/è¿è¾“å±‚.html":{"url":"è®¡ç®—æœºç½‘ç»œ/è¿è¾“å±‚.html","title":"è¿è¾“å±‚","keywords":"","body":"è¿è¾“å±‚ è¿è¾“å±‚çš„åŠŸèƒ½ï¼šä¸ºä¸åŒä¸»æœºä¸Šçš„è¿›ç¨‹æä¾›é€»è¾‘é€šä¿¡ è¿è¾“å±‚ä¸ç½‘ç»œå±‚çš„å…³ç³»ï¼šç½‘ç»œå±‚ä¸ºè¿è¾“å±‚æä¾›æœåŠ¡ï¼Œè¿è¾“å±‚æ„å»ºåœ¨ç½‘ç»œå±‚ä¹‹ä¸Š è¿è¾“å±‚åè®® TCP UDP è¿è¾“å±‚é€šè¿‡Socketç«¯å£æ¥å®ç°å¤šè·¯å¤ç”¨ä¸å¤šè·¯åˆ†è§£ UDP å¯¹å‘é€æ—¶é—´ä»¥åŠå‘é€å†…å®¹æ§åˆ¶èƒ½åŠ›æ›´å¼º æ— è¿æ¥ æ— çŠ¶æ€ åˆ†ç»„é¦–éƒ¨å° æ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ è™½ç„¶ UDP ä¸æä¾›å¯é äº¤ä»˜ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ UDP ç¡®æ˜¯ä¸€ç§æœ€æœ‰æ•ˆçš„å·¥ä½œæ–¹å¼ï¼ˆä¸€èˆ¬ç”¨äºå³æ—¶é€šä¿¡ï¼‰ï¼Œæ¯”å¦‚ï¼š QQ è¯­éŸ³ã€ QQ è§†é¢‘ ã€ç›´æ’­ç­‰ç­‰ UDPé¦–éƒ¨ TCP é¢å‘è¿æ¥çš„ï¼Œæä¾›å¯é äº¤ä»˜ï¼Œæœ‰æµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶ï¼Œæä¾›å…¨åŒå·¥é€šä¿¡ï¼Œé¢å‘å­—èŠ‚æµï¼Œæ¯ä¸€æ¡ TCP è¿æ¥åªèƒ½æ˜¯ç‚¹å¯¹ç‚¹çš„ TCPé¦–éƒ¨ åºå·ï¼šå¯¹å­—èŠ‚æµè¿›è¡Œç¼–å·ï¼Œåºå·ä¸º 301ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå­—èŠ‚çš„ç¼–å·ä¸º 301ï¼Œå¦‚æœæºå¸¦çš„æ•°æ®é•¿åº¦ä¸º 100 å­—èŠ‚ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·åº”ä¸º 401 ç¡®è®¤å·ï¼šæœŸæœ›æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·ï¼Œä¾‹å¦‚ B æ­£ç¡®æ”¶åˆ° A å‘é€æ¥çš„ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œåºå·ä¸º 501ï¼Œæºå¸¦çš„æ•°æ®é•¿åº¦ä¸º 200 å­—èŠ‚ï¼Œå› æ­¤ B æœŸæœ›ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·ä¸º 701 æ•°æ®åç§»ï¼šä¹Ÿå°±æ˜¯é¦–éƒ¨çš„é•¿åº¦ RST/SYN/FIN ç”¨äºè¿æ¥çš„å»ºç«‹ä¸æ‹†é™¤ URG ä»£è¡¨æ˜¯ä¸Šå±‚ç´§æ€¥æ•°æ® ACK ç¡®è®¤ PSH å°½å¿«äº¤ç»™åº”ç”¨å±‚ çª—å£ï¼šçª—å£å€¼ä½œä¸ºæ¥æ”¶æ–¹è®©å‘é€æ–¹è®¾ç½®å…¶å‘é€çª—å£çš„ä¾æ® RTT ä¼°è®¡ ä¸€ä¸ªæŠ¥æ–‡æ®µä»å‘é€å†åˆ°æ¥æ”¶åˆ°ç¡®è®¤æ‰€ç»è¿‡çš„æ—¶é—´ç§°ä¸ºå¾€è¿”æ—¶é—´ RTT å‡å€¼RTT = 0.875 * å‡å€¼RTT + 0.125 * æ ·æœ¬RTT å¯é æ•°æ®ä¼ è¾“ åŸç† ä½¿ç”¨åŸºäºåœç­‰æ“ä½œçš„å¯é ä¼ è¾“åè®®æ•ˆç‡ä¸é«˜ï¼Œä¸€ä¸ªåˆ†ç»„å¿…é¡»ç­‰åˆ°ACKåä¸‹ä¸€ä¸ªåˆ†ç»„æ‰èƒ½å¼€å§‹ä¼ é€ ä¸ºæé«˜æ•ˆç‡ï¼Œå¯ä½¿ç”¨æµæ°´çº¿æ“ä½œï¼Œæµæ°´çº¿æ“ä½œè¦æ±‚å‘é€æ¥æ”¶æ–¹å…·æœ‰ç¼“å­˜nä¸ªåˆ†ç»„çš„èƒ½åŠ›ï¼Œå‡ºç°å·®é”™æ—¶ï¼Œæœ‰ä¸¤ç§æ–¹å¼æ¥è¿›è¡Œæ¢å¤ï¼Œ åˆ†åˆ«æ˜¯å›é€€Næ­¥(GBN) GBNé€šè¿‡ç´¯ç§¯ç¡®è®¤çš„æ–¹å¼æ¥ç¡®è®¤å·²æ¥æ”¶åˆ°çš„åˆ†ç»„ä½ç½®ï¼Œä»¥åŠé‡ä¼ å·²å‘é€ä½†è¿˜æœªç¡®è®¤çš„åˆ†ç»„æ¥è¿›è¡Œé”™è¯¯æ¢å¤ã€‚ å’Œé€‰æ‹©é‡ä¼ ï¼Œå‘é€æ–¹ä»…é‡ä¼ æ€€ç–‘æ¥æ”¶æ–¹å‡ºé”™çš„åˆ†ç»„ TCPä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¿è¯å¯é ä¼ è¾“ï¼š åº”ç”¨æ•°æ®è¢«åˆ†å‰²æˆ TCP è®¤ä¸ºæœ€é€‚åˆå‘é€çš„æ•°æ®å—ã€‚ TCP ç»™å‘é€çš„æ¯ä¸€ä¸ªåŒ…è¿›è¡Œç¼–å·ï¼Œæ¥æ”¶æ–¹å¯¹æ•°æ®åŒ…è¿›è¡Œæ’åºï¼ŒæŠŠæœ‰åºæ•°æ®ä¼ é€ç»™åº”ç”¨å±‚ã€‚ æ ¡éªŒå’Œï¼š TCP å°†ä¿æŒå®ƒé¦–éƒ¨å’Œæ•°æ®çš„æ£€éªŒå’Œã€‚è¿™æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ£€éªŒå’Œï¼Œç›®çš„æ˜¯æ£€æµ‹æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä»»ä½•å˜åŒ–ã€‚å¦‚æœæ”¶åˆ°æ®µçš„æ£€éªŒå’Œæœ‰å·®é”™ï¼ŒTCP å°†ä¸¢å¼ƒè¿™ä¸ªæŠ¥æ–‡æ®µå’Œä¸ç¡®è®¤æ”¶åˆ°æ­¤æŠ¥æ–‡æ®µã€‚ TCP çš„æ¥æ”¶ç«¯ä¼šä¸¢å¼ƒé‡å¤çš„æ•°æ®ã€‚ æµé‡æ§åˆ¶ï¼š TCP è¿æ¥çš„æ¯ä¸€æ–¹éƒ½æœ‰å›ºå®šå¤§å°çš„ç¼“å†²ç©ºé—´ï¼ŒTCPçš„æ¥æ”¶ç«¯åªå…è®¸å‘é€ç«¯å‘é€æ¥æ”¶ç«¯ç¼“å†²åŒºèƒ½æ¥çº³çš„æ•°æ®ã€‚å½“æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†å‘é€æ–¹çš„æ•°æ®ï¼Œèƒ½æç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿç‡ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚TCP ä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®®ã€‚ ï¼ˆTCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ï¼‰ æ‹¥å¡æ§åˆ¶ï¼š å½“ç½‘ç»œæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚ ARQåè®®ï¼š ä¹Ÿæ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚åœ¨æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚ è¶…æ—¶é‡ä¼ ï¼š å½“ TCP å‘å‡ºä¸€ä¸ªæ®µåï¼Œå®ƒå¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç­‰å¾…ç›®çš„ç«¯ç¡®è®¤æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡æ®µã€‚å¦‚æœä¸èƒ½åŠæ—¶æ”¶åˆ°ä¸€ä¸ªç¡®è®¤ï¼Œå°†é‡å‘è¿™ä¸ªæŠ¥æ–‡æ®µã€‚ ARQåè®® é€šè¿‡ä½¿ç”¨ç¡®è®¤å’Œè¶…æ—¶è¿™ä¸¤ä¸ªæœºåˆ¶ï¼Œåœ¨ä¸å¯é æœåŠ¡çš„åŸºç¡€ä¸Šå®ç°å¯é çš„ä¿¡æ¯ä¼ è¾“ åœæ­¢ç­‰å¾…ARQåè®® æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ï¼ˆå›å¤ACKï¼‰ã€‚å¦‚æœè¿‡äº†ä¸€æ®µæ—¶é—´ï¼ˆè¶…æ—¶æ—¶é—´åï¼‰ï¼Œè¿˜æ˜¯æ²¡æœ‰æ”¶åˆ° ACK ç¡®è®¤ï¼Œè¯´æ˜æ²¡æœ‰å‘é€æˆåŠŸï¼Œéœ€è¦é‡æ–°å‘é€ï¼Œç›´åˆ°æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ è¿ç»­ARQåè®® å‘é€æ–¹ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯ä»¥è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ æµé‡æ§åˆ¶ æ»‘åŠ¨çª—å£ æ¥æ”¶æ–¹é€šè¿‡åœ¨æŠ¥æ–‡æ®µä¸­æ·»åŠ æ¥å£çª—å£å­—æ®µæ¥è¿›è¡ŒåŒæ–¹ä¹‹é—´çš„é€Ÿåº¦åŒ¹é… æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†çª—å£å­—æ®µè®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ® æ‹¥å¡æ§åˆ¶ æ‹¥å¡æ§åˆ¶å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è‡´è¿‡è½½ ä¸ºäº†è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼ŒTCP å‘é€æ–¹è¦ç»´æŒä¸€ä¸ª æ‹¥å¡çª—å£(cwnd) çš„çŠ¶æ€å˜é‡ã€‚æ‹¥å¡æ§åˆ¶çª—å£çš„å¤§å°å–å†³äºç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ï¼Œå¹¶ä¸”åŠ¨æ€å˜åŒ– åŸåˆ™ æŠ¥æ–‡æ®µä¸¢å¤±æ—¶å‘é€æ–¹é™ä½é€Ÿç‡ æœªç¡®è®¤æŠ¥æ–‡æ®µç¡®è®¤åˆ°è¾¾æ—¶ï¼Œå‘é€æ–¹å¢åŠ é€Ÿç‡ å¸¦å®½æ¢æµ‹ æ…¢å¯åŠ¨ æ…¢å¼€å§‹ç®—æ³•çš„æ€è·¯æ˜¯å½“ä¸»æœºå¼€å§‹å‘é€æ•°æ®æ—¶ è¾ƒå¥½çš„æ–¹æ³•æ˜¯å…ˆæ¢æµ‹ä¸€ä¸‹ï¼Œå³ç”±å°åˆ°å¤§é€æ¸å¢å¤§å‘é€çª—å£ ä¸æ–­å¢åŠ ç›´åˆ°è¶…æ—¶ï¼Œè¶…æ—¶åå°†cwnd/2 æ‹¥å¡é¿å… è®©æ‹¥å¡çª—å£cwndç¼“æ…¢å¢å¤§ï¼Œå³æ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶é—´RTTå°±æŠŠå‘é€æ”¾çš„cwndåŠ 1. å¿«é‡ä¼ ä¸å¿«æ¢å¤ å…¬å¹³æ€§ UDPæºæœ‰å¯èƒ½å‹åˆ¶TCPæµé‡ æ˜ç¡®æ‹¥å¡é€šçŸ¥ï¼šç”±è·¯ç”±å™¨åœ¨æŠ¥æ–‡ä¸­æ’å…¥å½“å‰è·¯ç”±å™¨çš„æ‹¥å¡æƒ…å†µ è¿æ¥ç®¡ç† ä¸‰æ¬¡æ¡æ‰‹ å®¢æˆ·ç«¯â€“å‘é€å¸¦æœ‰ SYN æ ‡å¿—çš„æ•°æ®åŒ…â€“ä¸€æ¬¡æ¡æ‰‹â€“æœåŠ¡ç«¯ æœåŠ¡ç«¯â€“å‘é€å¸¦æœ‰ SYN/ACK æ ‡å¿—çš„æ•°æ®åŒ…â€“äºŒæ¬¡æ¡æ‰‹â€“å®¢æˆ·ç«¯ å®¢æˆ·ç«¯â€“å‘é€å¸¦æœ‰å¸¦æœ‰ ACK æ ‡å¿—çš„æ•°æ®åŒ…â€“ä¸‰æ¬¡æ¡æ‰‹â€“æœåŠ¡ç«¯ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šClient ä»€ä¹ˆéƒ½ä¸èƒ½ç¡®è®¤ï¼›Server ç¡®è®¤äº†å¯¹æ–¹å‘é€æ­£å¸¸ï¼Œè‡ªå·±æ¥æ”¶æ­£å¸¸ ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šClient ç¡®è®¤äº†ï¼šè‡ªå·±å‘é€ã€æ¥æ”¶æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€ã€æ¥æ”¶æ­£å¸¸ï¼›Server ç¡®è®¤äº†ï¼šå¯¹æ–¹å‘é€æ­£å¸¸ï¼Œè‡ªå·±æ¥æ”¶æ­£å¸¸ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šClient ç¡®è®¤äº†ï¼šè‡ªå·±å‘é€ã€æ¥æ”¶æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€ã€æ¥æ”¶æ­£å¸¸ï¼›Server ç¡®è®¤äº†ï¼šè‡ªå·±å‘é€ã€æ¥æ”¶æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€ã€æ¥æ”¶æ­£å¸¸ æ‰€ä»¥ä¸‰æ¬¡æ¡æ‰‹å°±èƒ½ç¡®è®¤åŒå‘æ”¶å‘åŠŸèƒ½éƒ½æ­£å¸¸ï¼Œç¼ºä¸€ä¸å¯ å®¢æˆ·ç«¯ï¼šA æœåŠ¡ç«¯: B ä¸ºä»€ä¹ˆè¦å›ä¼ SYNï¼š æ¥æ”¶ç«¯ä¼ å›å‘é€ç«¯æ‰€å‘é€çš„ SYN æ˜¯ä¸ºäº†å‘Šè¯‰å‘é€ç«¯ï¼Œæˆ‘æ¥æ”¶åˆ°çš„ä¿¡æ¯ç¡®å®å°±æ˜¯ä½ æ‰€å‘é€çš„ä¿¡å·äº† åŒæ · ä½¿ç”¨ACKæœåŠ¡ç«¯å°±èƒ½éªŒè¯å®¢æˆ·ç«¯ å››æ¬¡æŒ¥æ‰‹ å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªå…³é—­è¿æ¥çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å“åº”è¿™ä¸ªå…³é—­è¯·æ±‚ æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½å†å‘æœåŠ¡ç«¯å‘é€æ•°æ®ï¼Œä½†æ˜¯æœåŠ¡å™¨å¯ä»¥å‘é€æ•°æ®ç»™å®¢æˆ·ç«¯ï¼Œå½“æœåŠ¡å™¨çš„æ•°æ®ä¼ é€å®Œæ¯•ï¼Œå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå…³é—­è¿æ¥çš„è¯·æ±‚ å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡ç«¯çš„å…³é—­è¯·æ±‚åï¼Œå†å‘é€ä¸€ä¸ªç¡®è®¤æ¶ˆæ¯ï¼Œç­‰å¾…2MSLçš„æ—¶é—´ï¼Œå…³é—­ æœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„æœ€åä¸€ä¸ªå…³é—­è¯·æ±‚åï¼Œå…³é—­ ç­‰å¾…2MSLæ—¶é—´æ˜¯ä¸ºäº†è®©æœ¬è¿æ¥æŒç»­æ—¶é—´å†…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡éƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ï¼Œä½¿å¾—ä¸‹ä¸€ä¸ªæ–°çš„è¿æ¥ä¸ä¼šå‡ºç°æ—§çš„è¿æ¥è¯·æ±‚æŠ¥æ–‡ TCPçŠ¶æ€è½¬åŒ– å½±å“ç½‘ç»œä¼ è¾“çš„å› ç´ ï¼š ç½‘ç»œå¸¦å®½ ä¼ è¾“è·ç¦»é€ æˆçš„æ—¶å»¶ æ‹¥å¡æ§åˆ¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-07-13 08:56:15 "},"è®¡ç®—æœºç½‘ç»œ/ç½‘ç»œå±‚.html":{"url":"è®¡ç®—æœºç½‘ç»œ/ç½‘ç»œå±‚.html","title":"ç½‘ç»œå±‚","keywords":"","body":"ç½‘ç»œå±‚ ç½‘ç»œå±‚æ˜¯æ•´ä¸ªäº’è”ç½‘çš„æ ¸å¿ƒï¼Œå› æ­¤åº”å½“è®©ç½‘ç»œå±‚å°½å¯èƒ½ç®€å•ã€‚ç½‘ç»œå±‚å‘ä¸Šåªæä¾›ç®€å•çµæ´»çš„ã€æ— è¿æ¥çš„ã€å°½æœ€å¤§åŠªåŠ›äº¤äº’çš„æ•°æ®æŠ¥æœåŠ¡ IPåè®®å¯ä»¥å°†å¼‚æ„çš„ç‰©ç†ç½‘ç»œè¿æ¥èµ·æ¥ï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ç½‘ç»œ æ•°æ®å¹³é¢ï¼šæ§åˆ¶æ•°æ®æŠ¥ä»è·¯ç”±å™¨è¾“å…¥é“¾è·¯è½¬å‘åˆ°è¾“å‡ºé“¾è·¯ æ§åˆ¶å¹³é¢ï¼šæ§åˆ¶æ•°æ®åœ¨ç«¯åˆ°ç«¯ä¹‹é—´çš„è·¯ç”±æ–¹å¼ è·¯ç”±å™¨å·¥ä½œåŸç† åˆ†ç»„è½¬å‘æµç¨‹ è¾“å…¥ çº¿è·¯é“¾æ¥ å¯¹æ•°æ®æŠ¥è¿›è¡Œæ‹†å° æŸ¥æ‰¾è½¬å‘æ’é˜Ÿ äº¤æ¢ é€šè¿‡å†…å­˜è½¬å‘ é€šè¿‡æ€»çº¿è½¬å‘ é€šè¿‡äº’è”ç½‘ç»œè½¬å‘ å‰ä¸¤ç§åœ¨åŒä¸€æ—¶åˆ»å†…åªæœ‰ä¸€ä¸ªåˆ†ç»„èƒ½è¢«å¤„ç†ï¼Œæœ€åä¸€ç§å¦‚æœè¾“å‡ºç«¯å£ä¸åŒï¼Œåˆ™èƒ½å¹¶è¡Œè½¬å‘ åˆ†ç»„è°ƒåº¦ å…ˆè¿›å…ˆå‡º ä¼˜å…ˆæƒæ’é˜Ÿ å³åˆ†ä¸ºä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªä¼˜å…ˆçº§è¾ƒé«˜ï¼Œè¾ƒé«˜ä¼˜å…ˆçº§çš„é˜Ÿåˆ—å¦‚æœæœ‰åˆ†ç»„ï¼Œåˆ™ç«‹é©¬å¤„ç† å¾ªç¯å’ŒåŠ æƒå…¬å¹³æ’é˜Ÿ ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸å›ºå®šï¼Œåœ¨å„ä¸ªé˜Ÿåˆ—ä¹‹é—´çš„è½®æµ ç½‘é™…åè®® IPæ•°æ®æŠ¥æ ¼å¼ IPV4 åˆ†ç‰‡ ç”±äºæŸäº›é“¾è·¯çš„å¸§å¯æ‰¿è½½çš„å­—èŠ‚æœ‰é™ï¼Œæ•…åœ¨è·¯ç”±å™¨ä¼šå°†æ•°æ®è½½è·åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼Œåä¸€ä¸€å‘é€ï¼Œå¹¶æŠŠç»„è£…æ•°æ®çš„ä»»åŠ¡äº¤ç»™æ¥æ”¶ç«¯ IPV4ç¼–å€ åˆ†ç±» ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œç½‘ç»œå·å’Œä¸»æœºå·ï¼Œå…¶ä¸­ä¸åŒåˆ†ç±»å…·æœ‰ä¸åŒçš„ç½‘ç»œå·é•¿åº¦ï¼Œå¹¶ä¸”æ˜¯å›ºå®šçš„ å­ç½‘åˆ’åˆ† é€šè¿‡åœ¨ä¸»æœºå·å­—æ®µä¸­æ‹¿ä¸€éƒ¨åˆ†ä½œä¸ºå­ç½‘å·ï¼ŒæŠŠä¸¤çº§ IP åœ°å€åˆ’åˆ†ä¸ºä¸‰çº§ IP åœ°å€ æ— åˆ†ç±» CIDR çš„è®°æ³•ä¸Šé‡‡ç”¨åœ¨ IP åœ°å€åé¢åŠ ä¸Šç½‘ç»œå‰ç¼€é•¿åº¦çš„æ–¹æ³•ï¼Œä¾‹å¦‚ 128.14.35.7/20 è¡¨ç¤ºå‰ 20 ä½ä¸ºç½‘ç»œå‰ç¼€ é€šè¿‡ä½¿ç”¨ç½‘ç»œå‰ç¼€æ¥å‡å°‘è·¯ç”±è¡¨é¡¹çš„æ–¹å¼ç§°ä¸ºè·¯ç”±èšåˆï¼Œä¹Ÿç§°ä¸º æ„æˆè¶…ç½‘ ç½‘ç»œåœ°å€è½¬æ¢NAT IPV6 IPV4åˆ°IPV6ä¹‹é—´çš„è¿‡æ¸¡ï¼šå»ºéš§é“ é€šç”¨è½¬å‘ è·¨è¶Šç½‘ç»œå±‚-é“¾è·¯å±‚ è·¯ç”±é€‰æ‹©ç®—æ³• é›†ä¸­å¼ è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•å¾—å‡ºæœ€çŸ­è·¯å¾„ åˆ†æ•£å¼ è·ç¦»å‘é‡ç®—æ³• å†…éƒ¨ç½‘å…³åè®®RIP RIP æŒ‰å›ºå®šçš„æ—¶é—´é—´éš”ä»…å’Œç›¸é‚»è·¯ç”±å™¨äº¤æ¢è‡ªå·±çš„è·¯ç”±è¡¨ï¼Œç»è¿‡è‹¥å¹²æ¬¡äº¤æ¢ä¹‹åï¼Œæ‰€æœ‰è·¯ç”±å™¨æœ€ç»ˆä¼šçŸ¥é“åˆ°è¾¾æœ¬è‡ªæ²»ç³»ç»Ÿä¸­ä»»ä½•ä¸€ä¸ªç½‘ç»œçš„æœ€çŸ­è·ç¦»å’Œä¸‹ä¸€è·³è·¯ç”±å™¨åœ°å€ å†…éƒ¨ç½‘å…³åè®®OSPF è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±é€‰æ‹© é›†ä¸­å¼ç®—æ³•ï¼Œä½¿ç”¨Dijkstra ç®—æ³• æ¯å°è·¯ç”±å™¨éƒ½æœ‰æ•´ä¸ªè‡ªæ²»ç³»ç»Ÿçš„å®Œæ•´é“¾è·¯å›¾ å¤–éƒ¨ç½‘å…³åè®®BGP è‡ªæ²»ç³»ç»Ÿä¹‹é—´çš„è·¯ç”±é€‰æ‹©åè®® SDNæ§åˆ¶å¹³é¢ è½¯ä»¶å®šä¹‰ç½‘ç»œï¼ˆSoftwareâ€‚Definedâ€‚Networkï¼ŒSDNï¼‰æ˜¯ç”±ç¾å›½æ–¯å¦ç¦å¤§å­¦CLeanâ€‚Stateè¯¾é¢˜ç ”ç©¶ç»„æå‡ºçš„ä¸€ç§æ–°å‹ç½‘ç»œåˆ›æ–°æ¶æ„ï¼Œæ˜¯ç½‘ç»œè™šæ‹ŸåŒ–çš„ä¸€ç§å®ç°æ–¹å¼ã€‚å…¶æ ¸å¿ƒæŠ€æœ¯OpenFlowé€šè¿‡å°†ç½‘ç»œè®¾å¤‡çš„æ§åˆ¶é¢ä¸æ•°æ®é¢åˆ†ç¦»å¼€æ¥ï¼Œä»è€Œå®ç°äº†ç½‘ç»œæµé‡çš„çµæ´»æ§åˆ¶ï¼Œä½¿ç½‘ç»œä½œä¸ºç®¡é“å˜å¾—æ›´åŠ æ™ºèƒ½ï¼Œä¸ºæ ¸å¿ƒç½‘ç»œåŠåº”ç”¨çš„åˆ›æ–°æä¾›äº†è‰¯å¥½çš„å¹³å° ç‰¹å¾ åŸºäºæµçš„è½¬å‘ æ¨ªè·¨å¤šä¸ªåè®®å±‚ æ•°æ®å¹³é¢ä¸æ§åˆ¶å¹³é¢åˆ†ç¦» ç½‘ç»œæ§åˆ¶ å¯ç¼–ç¨‹ç½‘ç»œ ICMP å·®é”™æŠ¥å‘Š è¯¢é—®æŠ¥æ–‡ ping Ping çš„åŸç†æ˜¯é€šè¿‡å‘ç›®çš„ä¸»æœºå‘é€ ICMP Echo è¯·æ±‚æŠ¥æ–‡ï¼Œç›®çš„ä¸»æœºæ”¶åˆ°ä¹‹åä¼šå‘é€ Echo å›ç­”æŠ¥æ–‡ traceroute å‘é€çš„ IP æ•°æ®æŠ¥å°è£…çš„æ˜¯æ— æ³•äº¤ä»˜çš„ UDP ç”¨æˆ·æ•°æ®æŠ¥ï¼Œå¹¶ç”±ç›®çš„ä¸»æœºå‘é€ç»ˆç‚¹ä¸å¯è¾¾å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ å½“TTLä¸º0æ—¶ï¼Œè·¯ç”±å™¨å°†ä¸ä¼šç»§ç»­è½¬å‘æŠ¥æ–‡ï¼Œtracerouteé€šè¿‡ç¬¬ä¸€æ¬¡å°†TTLè®¾ä¸º1ï¼Œç„¶åæŠŠæŠ¥æ–‡å‘é€ç»™ä¸‹ä¸€å°è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨å°†ttl-1ä¹‹åå‘Šè¯‰ä¸»æœºæŠ¥æ–‡ä¸å¯è¾¾ï¼Œè¿™æ ·ä»¥æ­¤ç±»æ¨å¾—åˆ°æ•´ä¸ªè·¯ç”±é“¾è·¯ SNMP ç®€å•ç½‘ç»œç®¡ç†åè®® ä¸€èˆ¬ä½¿ç”¨UDP è™šæ‹Ÿä¸“ç”¨ç½‘VPN MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-06 03:26:06 "},"è®¡ç®—æœºç½‘ç»œ/é“¾è·¯å±‚.html":{"url":"è®¡ç®—æœºç½‘ç»œ/é“¾è·¯å±‚.html","title":"é“¾è·¯å±‚","keywords":"","body":"é“¾è·¯å±‚ æä¾›çš„æœåŠ¡ å°è£…æˆå¸§ é€æ˜ä¼ è¾“ å¸§ä½¿ç”¨é¦–éƒ¨å’Œå°¾éƒ¨è¿›è¡Œå®šç•Œï¼Œå¦‚æœå¸§çš„æ•°æ®éƒ¨åˆ†å«æœ‰å’Œé¦–éƒ¨å°¾éƒ¨ç›¸åŒçš„å†…å®¹ï¼Œå°±ä¼šé€ æˆå¸§çš„é¦–å°¾é”™è¯¯åˆ¤æ–­ï¼Œæ­¤æ—¶å°±éœ€è¦åœ¨ä¼ è¾“çš„æ—¶å€™åœ¨æ•°æ®éƒ¨åˆ†æ’å…¥è½¬ä¹‰å­—ç¬¦ï¼Œåœ¨æ¥æ”¶ç«¯å»æ‰è½¬ä¹‰å­—ç¬¦ï¼Œä½¿ç”¨æˆ·å¯Ÿè§‰ä¸åˆ°è¿™ä¸ªå˜åŒ– é“¾è·¯æ¥å…¥ å¯é äº¤ä»˜ å·®é”™æ£€æµ‹ä¸çº æ­£ å¥‡å¶æ ¡éªŒ å¾ªç¯å†—ä½™æ£€æµ‹ï¼ˆCRCï¼‰ ä¿¡é“åˆ†ç±» å¹¿æ’­ä¿¡é“ ä¸€å¯¹å¤šé€šä¿¡ï¼Œä¸€ä¸ªèŠ‚ç‚¹å‘é€çš„æ•°æ®èƒ½å¤Ÿè¢«å¹¿æ’­ä¿¡é“ä¸Šæ‰€æœ‰çš„èŠ‚ç‚¹æ¥æ”¶åˆ° å¦‚æœæ‰€æœ‰çš„èŠ‚ç‚¹å†åŒä¸€æ—¶é—´å‘é€æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿç¢°æ’ï¼Œè§£å†³ç¢°æ’çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä¿¡é“å¤ç”¨æŠ€æœ¯ï¼Œä¸€ç§æ˜¯CSMA/CDåè®® ç‚¹å¯¹ç‚¹é€šä¿¡é“¾è·¯ ä¸ä¼šå‘ç”Ÿç¢°æ’ï¼Œä½¿ç”¨PPPåè®® PPP åè®®æ˜¯ç”¨æˆ·è®¡ç®—æœºå’Œ ISP è¿›è¡Œé€šä¿¡æ—¶æ‰€ä½¿ç”¨çš„æ•°æ®é“¾è·¯å±‚åè®® å¤šè·¯è®¿é—®é“¾è·¯å’Œåè®® ä¿¡é“åˆ’åˆ†åè®® TDMï¼ˆæ—¶åˆ†å¤ç”¨ï¼‰ FDMï¼ˆé¢‘åˆ†å¤ç”¨ï¼‰ ç»Ÿè®¡æ—¶åˆ†å¤ç”¨ ç”±äºTDMå’ŒFDMå³ä½¿ä¸»æœºæ²¡æœ‰æ•°æ®å¤ç”¨ï¼Œä¹Ÿä¼šå ç”¨å›ºå®šçš„èµ„æºï¼Œäºæ˜¯ç»Ÿè®¡æ—¶åˆ†å¤ç”¨å°±ä¸å›ºå®šæ¯ä¸ªç”¨æˆ·åœ¨æ—¶åˆ†å¤ç”¨å¸§ä¸­çš„ä½ç½®ï¼Œåªè¦æœ‰æ•°æ®å°±é›†ä¸­èµ·æ¥ç»„æˆç»Ÿè®¡æ—¶åˆ†å¤ç”¨å¸§ç„¶åå‘é€ æ³¢åˆ†å¤ç”¨ å°±æ˜¯å¯¹å…‰çš„é¢‘åˆ†å¤ç”¨ CDMAï¼ˆç åˆ†å¤šå€ï¼‰ ä¸ºæ‰€æœ‰é€šä¿¡ç”¨æˆ·åˆ†é…ä¸€ä¸ªç ç‰‡ï¼Œå½“æŸä¸ªç”¨æˆ·éœ€è¦å‘é€æ•°æ®æ—¶ï¼Œå¦‚æœè¦å‘é€1æ—¶ï¼Œå°±å‘é€è¿™ä¸ªç ç‰‡ï¼Œå¦‚æœè¦å‘é€0æ—¶ï¼Œå°±å‘é€è¿™ä¸ªç ç‰‡çš„åç ã€‚ å½“æ¥æ”¶ç«¯æ”¶ä¸€ä¸²ä¿¡å·åï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸²ä¿¡å·ä¸å‘é€æ–¹ç ç‰‡åšä¸€ä¸ªè¿ç®—ï¼Œå¦‚æœå‘ç°ç»“æœæ˜¯0ï¼Œåˆ™è¡¨æ˜è¿™ä¸²ä¿¡å·æ˜¯å…¶ä»–ç”¨æˆ·å‘é€ï¼Œå¦åˆ™å¦‚æœæ˜¯1ï¼Œä»£è¡¨å‘é€æ–¹å‘é€äº†1ï¼Œå¦‚æœæ˜¯-1.ä»£è¡¨å‘é€æ–¹å‘é€äº†0 éšæœºæ¥å…¥åè®® æ—¶éš™ALOHA è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼ˆCSMAï¼‰ å…·æœ‰ç¢°æ’æ£€æµ‹çš„è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼ˆCSMA/CDï¼‰ å¤šç‚¹æ¥å…¥ ï¼šè¯´æ˜è¿™æ˜¯æ€»çº¿å‹ç½‘ç»œï¼Œè®¸å¤šä¸»æœºä»¥å¤šç‚¹çš„æ–¹å¼è¿æ¥åˆ°æ€»çº¿ä¸Š è½½æ³¢ç›‘å¬ ï¼šæ¯ä¸ªä¸»æœºéƒ½å¿…é¡»ä¸åœåœ°ç›‘å¬ä¿¡é“ã€‚åœ¨å‘é€å‰ï¼Œå¦‚æœç›‘å¬åˆ°ä¿¡é“æ­£åœ¨ä½¿ç”¨ï¼Œå°±å¿…é¡»ç­‰å¾… ç¢°æ’æ£€æµ‹ï¼šå¦‚æœå‘é€çš„è¿‡ç¨‹ä¸­ï¼Œç›‘æµ‹åˆ°å…¶ä»–ä¸»æœºå‘é€äº†æ•°æ®ï¼Œå°±ä»£è¡¨å‘ç”Ÿäº†ç¢°æ’ è½®è¯¢åè®® äº¤æ¢å±€åŸŸç½‘ å±€åŸŸç½‘æ˜¯ä¸€ç§å…¸å‹çš„å¹¿æ’­ä¿¡é“ï¼Œä¸»è¦ç‰¹ç‚¹æ˜¯ç½‘ç»œä¸ºä¸€ä¸ªå•ä½æ‰€æ‹¥æœ‰ï¼Œä¸”åœ°ç†èŒƒå›´å’Œç«™ç‚¹æ•°ç›®å‡æœ‰é™ MACåœ°å€ é“¾è·¯å±‚åœ°å€ï¼Œé•¿åº¦ä¸º 6 å­—èŠ‚ï¼ˆ48 ä½ï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ç½‘ç»œé€‚é…å™¨ï¼ˆç½‘å¡ï¼‰ ARPåè®® ç”± IP åœ°å€å¾—åˆ° MAC åœ°å€ ä»¥å¤ªç½‘ ä»¥å¤ªç½‘æ˜¯ä¸€ç§è®¡ç®—æœºå±€åŸŸç½‘æŠ€æœ¯ã€‚IEEEç»„ç»‡çš„IEEE 802.3æ ‡å‡†åˆ¶å®šäº†ä»¥å¤ªç½‘çš„æŠ€æœ¯æ ‡å‡†ï¼Œå®ƒè§„å®šäº†åŒ…æ‹¬ç‰©ç†å±‚çš„è¿çº¿ã€ç”µå­ä¿¡å·å’Œä»‹è´¨è®¿é—®å±‚åè®®çš„å†…å®¹ ä»¥å¤ªç½‘æ˜¯ä¸€ç§æ˜Ÿå‹æ‹“æ‰‘ç»“æ„å±€åŸŸç½‘ å¸§æ ¼å¼ ç±»å‹ï¼šä¸Šå±‚ä½¿ç”¨çš„åè®® é•¿åº¦åœ¨46-1500ä¹‹é—´ FCS:å¸§æ£€éªŒåºåˆ—ï¼Œä½¿ç”¨CRC é“¾è·¯å±‚äº¤æ¢æœº è½¬å‘ä¸è¿‡æ»¤ è‡ªå­¦ä¹ åŠŸèƒ½ äº¤æ¢æœºå…·æœ‰è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œå­¦ä¹ çš„æ˜¯äº¤æ¢è¡¨çš„å†…å®¹ï¼Œäº¤æ¢è¡¨ä¸­å­˜å‚¨ç€ MAC åœ°å€åˆ°æ¥å£çš„æ˜ å°„ åˆšå¼€å§‹ï¼Œäº¤æ¢æœºçš„äº¤æ¢è¡¨æ˜¯ç©ºçš„ï¼Œå¦‚æœè¿æ¥äº¤æ¢æœºçš„ä¸€å°ä¸»æœºAæƒ³è¦ç»™å¦å¤–ä¸€å°ä¸»æœºBå‘é€æ•°æ®ï¼Œä¼šå…ˆç»è¿‡äº¤æ¢æœºï¼Œäº¤æ¢æœºæ­¤æ—¶å‘ç°äº¤æ¢è¡¨æ²¡æœ‰å…³äºä¸»æœºBçš„æ•°æ®ï¼Œäºæ˜¯å°±ä¼šå‘æ‰€æœ‰ä¸»æœºå¹¿æ’­è¿™æ¡æ¶ˆæ¯ï¼Œåªæœ‰ä¸»æœºBä¼šå“åº”è¿™æ¡æ¶ˆæ¯ï¼Œå…¶ä»–ä¸»æœºä¼šå¿½ç•¥ï¼Œæ­¤æ—¶äº¤æ¢æœºå°±å¾—åˆ°åˆ°ä¸»æœºBçš„æ¥å£ï¼Œå¹¶æŠŠå®ƒè®°å½•åˆ°äº¤æ¢è¡¨ä¸­ è™šæ‹Ÿå±€åŸŸç½‘VLAN é“¾è·¯è™šæ‹ŸåŒ– æŠŠä¸€ä¸ªç½‘ç»œå½“åšé“¾è·¯ æ•°æ®ä¸­å¿ƒç½‘ç»œ è´Ÿè½½å‡è¡¡ ç­‰çº§ä½“ç³»ç»“æ„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-06 03:26:06 "},"è®¡ç®—æœºç½‘ç»œ/æ— çº¿ç½‘ç»œ.html":{"url":"è®¡ç®—æœºç½‘ç»œ/æ— çº¿ç½‘ç»œ.html","title":"æ— çº¿ç½‘ç»œ","keywords":"","body":"æ— çº¿ç½‘ç»œä¸ç§»åŠ¨ç½‘ç»œ æ— çº¿é“¾è·¯å’Œç½‘ç»œç‰¹å¾ ç”µç£æ³¢ç©¿è¿‡ç‰©ä½“æ—¶ä¿¡å·å‡å¼±ï¼Œä¿¡å·å¼ºåº¦éšè·ç¦»é€’å‡ ä¼šå—å…¶ä»–åŒé¢‘æ®µç”µæ³¢æºçš„å¹²æ‰° å¤šå¾„ä¼ æ’­ï¼šç”µç£æ³¢ä¼šå—åˆ°å…¶ä»–ç‰©ä½“çš„åå°„ è¿™è¡¨æ˜æ— çº¿é“¾è·¯çš„æ¯”ç‰¹å·®é”™å°†å¾ˆå¸¸è§ã€‚ SNRï¼šä¿¡å™ªæ¯”ï¼šæ¥æ”¶åˆ°çš„ä¿¡å·ä¸å™ªå£°å¼ºåº¦çš„ç›¸å¯¹æµ‹é‡ï¼Œä¿¡å™ªæ¯”è¶Šé«˜ä¿¡å·è´¨é‡è¶Šå¥½ BERï¼šæ¯”ç‰¹å·®é”™ç‡ï¼Œåœ¨ä¼ è¾“çš„æ¯”ç‰¹æ€»æ•°ä¸­å‘ç”Ÿå·®é”™çš„æ¯”ç‰¹æ•°æ‰€å çš„æ¯”ä¾‹ SNRä¸BERå‘ˆåæ¯”å…³ç³»ã€‚ç»™å®šSNRï¼Œé«˜ä¼ è¾“ç‡çš„åè®®æ‹¥æœ‰è¾ƒé«˜çš„BER éšè—ç»ˆç«¯é—®é¢˜ï¼šåœ¨é€šä¿¡é¢†åŸŸï¼ŒåŸºç«™Aå‘åŸºç«™Bå‘é€ä¿¡æ¯ï¼ŒåŸºç«™Cæœªä¾¦æµ‹åˆ°Aä¹Ÿå‘Bå‘é€ï¼Œæ•…Aå’ŒCåŒæ—¶å°†ä¿¡å·å‘é€è‡³Bï¼Œå¼•èµ·ä¿¡å·å†²çªï¼Œæœ€ç»ˆå¯¼è‡´å‘é€è‡³Bçš„ä¿¡å·éƒ½ä¸¢å¤±äº† CDMA ä¸ºäº†è§£å†³éšè—ç»ˆç«¯é—®é¢˜ï¼Œä½¿ç”¨ç åˆ†å¤šå€(CDMA)æ¥è§£å†³ä¸åŒç«™ç‚¹ç›¸äº’å†²çªé—®é¢˜ã€‚ WIFI 802.11 ä½“ç³»ç»“æ„ æ¯ä¸ªAPï¼ˆAccess Pointï¼‰ä¼šè¢«åˆ†é…ä¸€ä¸ªSSIDï¼ˆService Set Identifierï¼‰ä¸ä¿¡é“å·ï¼Œå…¶ä¸­1 6 11 æ˜¯3ä¸ªéé‡å ä¿¡é“çš„é›†åˆã€‚ æ¯ä¸ªAPéƒ½ä¼šå‘¨æœŸæ€§å‘é€ä¿¡æ ‡å¸§ï¼Œå…¶ä¸­åŒ…å«äº†SSIDå’ŒMACåœ°å€ã€‚ æ— çº¿ä¸»æœºæ‰«æå’Œç›‘å¬ä¿¡æ ‡å¸§ä»¥å‘ç°APçš„æ–¹å¼ç§°ä¸ºè¢«åŠ¨æ‰«æã€‚è€Œå‘æ‰€æœ‰APå¹¿æ’­æ¢æµ‹å¸§çš„æ–¹å¼ç§°ä¹‹ä¸ºä¸»åŠ¨æ‰«æã€‚ æ— çº¿ä¸»æœºå‘APå‘é€ä¸€ä¸ªå…³è”è¯·æ±‚å¸§ï¼ŒAPè¿”å›ä¸€ä¸ªå…³è”å“åº”å¸§ï¼Œåˆ™ä¸¤è€…çš„å…³è”å°±å»ºç«‹ã€‚å»ºç«‹ä¹‹åï¼Œæ— çº¿ä¸»æœºå¯ä»¥å‘èµ·DHCPè¯·æ±‚ï¼Œæ­¤æ—¶æ— çº¿ä¸»æœºå°±èƒ½åŠ å…¥APæ‰€åœ¨çš„å­ç½‘ã€‚ 802.11 MAC å¤šä¸ªç«™ç‚¹éƒ½å¸Œæœ›åŒæ—¶ä½¿ç”¨ä¿¡é“å‘é€æ¥æ”¶æ•°æ®ï¼Œè¿™å°±éœ€è¦ä¸€ç§å¤šè·¯è®¿é—®åè®®æ¥åè°ƒä¼ è¾“ã€‚ 802.11 é€‰æ‹©äº†å¸¦æœ‰ç¢°æ’é¿å…çš„è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼ˆCSMA/CAï¼‰ã€‚ä¸åŒäºä»¥å¤ªç½‘ï¼Œä½¿ç”¨é¿å…è€Œéæ£€æµ‹ä¸»è¦æ˜¯ç”±äºï¼š åˆ¶é€ å…·æœ‰ç¢°æ’æ£€æµ‹çš„æ— çº¿ç¡¬ä»¶ä»£ä»·å¤§ ç”±äºéšè—ç»ˆç«¯å’Œè¡°å‡é—®é¢˜ä¸èƒ½å‘ç°æ‰€æœ‰ç¢°æ’ é“¾è·¯å±‚ç¡®è®¤ï¼šå‘é€ç«™ç‚¹åœ¨å‘é€äº†ä¸€ä¸ªå¸§ä¹‹åï¼Œä¼šç­‰å¾…ä¸€ä¸ªçŸ­å¸§é—´é—´éš”ç­‰å¾…æ¥æ”¶ç«™ç‚¹å›ä¼ ç¡®è®¤å¸§ï¼Œå¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…æ²¡æœ‰è¿”å›ï¼Œå‘é€ç«™ç‚¹ä¼šé‡è¯•è‹¥å¹²æ¬¡åå¤±è´¥ã€‚ ä¸ºäº†è§£å†³éšè—ç»ˆç«¯ï¼Œ802.11å¼•å…¥äº†RTSï¼š 802.11 å¯ä»¥é€šè¿‡ä½¿ç”¨å®šå‘å¤©çº¿åŠå¢åŠ ä¼ è¾“åŠŸç‡çš„æ–¹å¼æ¥å®ç°ç‚¹å¯¹ç‚¹çš„é•¿è·ç¦»ä¼ è¾“ã€‚ IEEE 802.11 å¸§ è¿™é‡Œ802.11 ä¸ºä»€ä¹ˆéœ€è¦3ä¸ªåˆ°4ä¸ªåœ°å€ï¼Ÿ åœ°å€2æ˜¯å‘é€è€…çš„MACåœ°å€ åœ°å€1æ˜¯æ¥å—è€…çš„MACåœ°å€ åœ°å€3æ˜¯è¿æ¥äº’è”ç½‘ä¸å±€åŸŸç½‘çš„å…³é”® ç§»åŠ¨æ€§ é«˜çº§ç‰¹è‰² é€Ÿç‡è‡ªé€‚åº” å¦‚æœæŸä¸ªèŠ‚ç‚¹è¿ç»­ä¸¤ä¸ªå¸§æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œåˆ™ä¼šå°†é€Ÿç‡é™ä½ä¸€ä¸ªç­‰çº§ã€‚å¦‚æœè¿ç»­10ä¸ªå¸§å¾—åˆ°ç¡®è®¤æˆ–è€…è·ç¦»ä¸Šæ¬¡é™é€Ÿè¶…è¿‡ä¸€å®šæ—¶é—´ï¼Œåˆ™æé€Ÿä¸€ä¸ªç­‰çº§ã€‚ åŠŸç‡ç®¡ç† æ— çº¿èŠ‚ç‚¹æ¯éš”ä¸€æ®µæ—¶é—´å°±å”¤é†’-ç¡çœ ã€‚åœ¨ç¡çœ ä¹‹å‰æ— çº¿èŠ‚ç‚¹å‘APé€šçŸ¥è‡ªå·±è¦ç¡çœ ã€‚å½“APæœ‰å‘é€åˆ°è¯¥èŠ‚ç‚¹çš„å¸§æ—¶ï¼Œå°±è¿›è¡Œç¼“å­˜ï¼Œç›´è‡³é—´éš”æ—¶é—´ä¸€åˆ°èŠ‚ç‚¹è¢«å”¤é†’åæ‰å‘ç»™è¯¥èŠ‚ç‚¹ã€‚ ä¸ªäººåŸŸç½‘ç»œ è“ç‰™802.15.1 ä¸€ç§è‡ªç»„ç»‡ç½‘ç»œï¼Œæ‹¥æœ‰ä¸» ä» å¯„ä¸‰ç§èŠ‚ç‚¹ç±»å‹ã€‚å¿…é¡»ç»è¿‡ä¸»èŠ‚ç‚¹æ‰å¯ä»¥è¿›è¡Œé€šä¿¡ ZigBee 802.14.5 ç›®æ ‡æ˜¯æœåŠ¡äºä½åŠŸç‡ã€ä½æ•°æ®ç‡ã€ä½å·¥ä½œå‘¨æœŸçš„åº”ç”¨ èœ‚çªå› ç‰¹ç½‘ ä½“ç³»ç»“æ„ 2Gï¼šè¿æ¥è¯­éŸ³ä¸ç”µè¯ç½‘ 3G:è¿æ¥äº’è”ç½‘ 4Gï¼šå…¨IPæ ¸å¿ƒç½‘ ç§»åŠ¨ç®¡ç† ä½“ç³»ç»“æ„ è¿™ç§ç»“æ„çš„ç½‘ç»œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæ°¸ä¹…åœ°å€ï¼Œå½“èŠ‚ç‚¹ä»ä¸€ä¸ªç½‘ç»œåˆ°å¦å¤–ä¸€ä¸ªç½‘ç»œæ—¶ï¼Œä»å¤–éƒ¨ç½‘ç»œè¿›å…¥çš„æ•°æ®åŒ…å¦‚ä½•çŸ¥é“è¯¥é€‰æ‹©å“ªä¸ªå½’å±ç½‘ç»œï¼Ÿ ä¸€ç§æ–¹å¼æ˜¯å‘å…¶ä»–ç½‘ç»œå‘é€é€šå‘Šï¼Œç½‘ç»œä¹‹é—´äº¤æ¢è·¯ç”±è¡¨å³å¯ã€‚ä½†è¿™ç§æ–¹å¼æ‰©å±•æ€§ä¸å¥½ï¼Œè·¯ç”±å™¨éœ€è¦ç»´æŠ¤ä¸Šç™¾ä¸‡ä¸ªèŠ‚ç‚¹çš„è·¯ç”±è¡¨ã€‚ å¦å¤–åˆ™æ˜¯é€šè¿‡ä¸€ä¸ªå¤–éƒ¨åœ°å€ä¸æ°¸ä¹…åœ°å€çš„æ˜ å°„ã€‚ å¤–éƒ¨é€šä¿¡è€…åˆ°ç§»åŠ¨èŠ‚ç‚¹çš„é—´æ¥è·¯ç”±é€‰æ‹©ï¼š ç§»åŠ¨æ€§å¯¹äºå¤–éƒ¨é€šä¿¡è€…æ˜¯é€æ˜çš„ï¼Œé€šä¿¡è€…ç›´æ¥å‘å¤–éƒ¨åœ°å€æ‰€åœ¨çš„ç½‘ç»œå‘é€æ•°æ®ï¼Œå½“å½’å±ä»£ç†å‘ç°å¤–éƒ¨åœ°å€æ‰€å¯¹åº”çš„æ°¸ä¹…åœ°å€ä¸åœ¨æœ¬ç½‘ç»œæ—¶ï¼Œå°±å°†å…¶è½¬å‘åˆ°æ‰€åœ¨çš„ç½‘ç»œã€‚ ç§»åŠ¨èŠ‚ç‚¹åˆ°å¤–éƒ¨é€šä¿¡è€…çš„è·¯ç”±é€‰æ‹©å¯ç›´æ¥å®Œæˆï¼Œå°±æ˜¯ä¸Šå›¾çš„æ­¥éª¤4 ä¸Šé¢çš„é€šä¿¡è€…åˆ°ç§»åŠ¨èŠ‚ç‚¹çš„è·¯ç”±é€‰æ‹©æ˜¯é—´æ¥çš„ï¼Œä¸‰è§’è·¯ç”±é€‰æ‹©æ˜¯ä½æ•ˆçš„ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæœ‰ä¸ªæ–¹å¼ï¼Œå°±æ˜¯åœ¨é€šä¿¡è€…æ‰€åœ¨çš„ç½‘ç»œå¼•å…¥ä¸€ä¸ªé€šä¿¡è€…ä»£ç†ï¼Œç”±è¿™ä¸ªä»£ç†è´Ÿè´£é€‰æ‹©è·¯ç”±è·¯å¾„ã€‚ ç§»åŠ¨IP ä»£ç†å‘ç° ç§»åŠ¨IPèŠ‚ç‚¹è¿åˆ°ä¸€ä¸ªç½‘ç»œï¼Œå°±å¿…é¡»è¿›è¡Œä»£ç†å‘ç°ï¼Œä»¥æ­¤çŸ¥é“è°æ˜¯å¤–éƒ¨ä»£ç†æˆ–è€…å½’å±ä»£ç†ã€‚ å®ç°æ–¹å¼æœ‰ï¼š ä»£ç†é€šå‘Šï¼šé€šè¿‡å¹¿æ’­ICMPæŠ¥æ–‡å®ç°ã€‚ ä»£ç†è¯·æ±‚ï¼šé€šè¿‡å¹¿æ’­ä¸€ä¸ªICMPæŠ¥æ–‡ï¼Œç­‰å¾…ä»£ç†ç»™å®ƒå“åº” ä»£ç†æ³¨å†Œ æ— çº¿å’Œç§»åŠ¨æ€§å¯¹é«˜å±‚åè®®çš„å½±å“ TCPä¸UDPéƒ½èƒ½åœ¨æ— çº¿é“¾è·¯ä¸Šä½¿ç”¨ã€‚ä½†å¦‚æœé«˜å±‚åè®®å¿½ç•¥åº•å±‚å®ç°ï¼Œå¦‚TCPçš„æ‹¥å¡æ§åˆ¶æœºåˆ¶åœ¨ä¸¢åŒ…çš„æƒ…å†µä¸‹ä¼šé™ä½é€Ÿç‡ï¼Œè¿™åœ¨æœ‰çº¿é“¾è·¯å·¥ä½œçš„å¾ˆå¥½ï¼Œä½†é—®é¢˜æ— çº¿é“¾è·¯ä¸¢åŒ…ä¸ä¸€å®šæ˜¯æ‹¥å¡æ‰€é€ æˆçš„ã€‚è¿™å°±å¯¼è‡´äº†åŒæ ·çš„åè®®åœ¨æœ‰çº¿ä¸æ— çº¿ä¸Šçš„è¡¨ç°å¯èƒ½å·®åˆ«å¾ˆå¤§ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-28 08:53:23 "},"è®¡ç®—æœºç½‘ç»œ/ç½‘ç»œå®‰å…¨.html":{"url":"è®¡ç®—æœºç½‘ç»œ/ç½‘ç»œå®‰å…¨.html","title":"ç½‘ç»œå®‰å…¨","keywords":"","body":"å®‰å…¨é€šä¿¡ æœºå¯†æ€§ æŠ¥æ–‡åŠ å¯† æŠ¥æ–‡å®Œæ•´æ€§ é¿å…è¢«ç¯¡æ”¹ ç«¯ç‚¹é‰´åˆ« è¿è¡Œå®‰å…¨æ€§ å¯†ç å­¦ å¯¹ç§°å¯†é’¥ä½“ç³» å…¬å¼€å¯†é’¥åŠ å¯†ï¼ˆéå¯¹ç§°ï¼‰ æ•°å­—ç­¾å ç«¯ç‚¹é‰´åˆ« ä¸é‡æ•° SSL å®‰å…¨å¥—æ¥å­—å±‚ å»ºç«‹åœ¨ä¼ è¾“å±‚ä¹‹ä¸Šï¼Œåº”ç”¨å±‚ä¹‹ä¸‹çš„åŠ å¯†åè®® é˜²ç«å¢™ä¸å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-11-01 11:24:57 "},"è®¡ç®—æœºç½‘ç»œ/å¤šåª’ä½“ç½‘ç»œ.html":{"url":"è®¡ç®—æœºç½‘ç»œ/å¤šåª’ä½“ç½‘ç»œ.html","title":"å¤šåª’ä½“ç½‘ç»œ","keywords":"","body":"å¤šåª’ä½“ç½‘ç»œ åº”ç”¨ è§†é¢‘ï¼šé«˜æ¯”ç‰¹ç‡ï¼Œä½†å¯ä»¥é€šè¿‡å‹ç¼©çš„æ–¹å¼æä¾›å¤šé‡ç‰ˆæœ¬ä»¥é€‚åº”ä¸åŒçš„æ¯”ç‰¹ç‡ éŸ³é¢‘ï¼šé€šè¿‡æ¯ç§’è¿›è¡Œnæ¬¡é‡‡æ ·è¿›è¡Œé‡åŒ–ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œå‹ç¼©MP3 AAC æµå¼å­˜å‚¨è§†é¢‘ éƒ½å¹¿æ³›åº”ç”¨äº†å®¢æˆ·ç«¯ç¼“å­˜ï¼Œé€šè¿‡å‡ ç§’çš„åŠ è½½ï¼š é€šè¿‡ç¼“å­˜å¸æ”¶äº†ç½‘ç»œçš„æ—¶å»¶æ³¢åŠ¨ å¦‚æœç½‘ç»œå¸¦å®½æš‚æ—¶å°äºæ¶ˆè€—é€Ÿç‡ï¼Œé‚£ä¹Ÿèƒ½ç»§ç»­æ’­æ”¾ UDPæµ å®æ—¶ä¼ è¾“åè®®RTP ç”±äºTCPæ²¡æœ‰æ‹¥å¡æœºåˆ¶ï¼Œæ‰€ä»¥UDPæµèƒ½ä»¥è§†é¢‘æ¶ˆè€—çš„é€Ÿç‡å°†åˆ†ç»„æ¨å…¥ç½‘ç»œ å®æ—¶æµåè®®RTSP è¿™ç§åè®®é™¤äº†ä¸€ä¸ªUDPæµï¼Œè¿˜ç‹¬ç«‹ç»´æŠ¤ä¸€ä¸ªæ§åˆ¶è¿æ¥ï¼Œå®¢æˆ·å¯ä»¥æ ¹æ®è¿™ä¸ªæ§åˆ¶è¿æ¥å®æ—¶æ§åˆ¶è§†é¢‘çš„æ’­æ”¾æš‚åœå¿«è¿›ç­‰ HTTPæµ ä¸å€ŸåŠ©å…¶ä»–è¾…åŠ©æŠ€æœ¯ï¼Œç”±äºTCPçš„æ‹¥å¡æ§åˆ¶å’Œç”±äºç½‘ç»œå¸¦å®½çš„ä¸ç¡®å®šæ€§ï¼Œæµå¼è§†é¢‘æ˜¯å¾ˆéš¾åœ¨åŸºäºTCPçš„ç½‘ç»œæ˜¯åº”ç”¨çš„ã€‚ä½†å¦‚æœå€ŸåŠ©é¢„å–è·Ÿå®¢æˆ·ç«¯ç¼“å­˜ï¼Œè¿™å°±æœ‰å¯èƒ½äº†ã€‚ é¢„å–è§†é¢‘ å®¢æˆ·é€šè¿‡ä»¥é«˜äºæ¶ˆè€—é€Ÿç‡çš„é€Ÿç‡ä¸‹è½½è§†é¢‘ï¼Œè¿™æ ·å°±èƒ½åº”ä»˜æŸäº›æƒ…å†µä¸‹å¸¦å®½é™ä½çš„å½±å“ã€‚ å®¢æˆ·ç¼“å­˜ä¸TCPç¼“å­˜ å½“å®¢æˆ·ç«¯æš‚åœè§†é¢‘æ’­æ”¾ï¼Œå®¢æˆ·ç«¯ç¼“å­˜ä¸€æ»¡å°±ä¼šæœ‰å¯èƒ½ç»™æœåŠ¡å™¨é€ æˆå‹åŠ›ï¼Œæµ™æ±Ÿå¯¼è‡´æœåŠ¡å™¨é™ä½å‘é€é€Ÿç‡ã€‚ é€‚åº”æ€§HTTPæµ DASHï¼ˆåŠ¨æ€é€‚åº”æµï¼‰ï¼Œé€šè¿‡è§†é¢‘çš„å¤šä¸ªä¸åŒé€Ÿç‡çš„ç‰ˆæœ¬æ¥å®ç°è‡ªé€‚åº”ã€‚ IPè¯­éŸ³ ä½¿ç”¨äº’è”ç½‘ä¼ è¾“çš„å®æ—¶ä¼šè¯å¼è¯­éŸ³ å°½åŠ›ä¸ºéæœåŠ¡çš„é™åˆ¶ï¼šæ— ä¿è¯ å…³äºä¸¢åŒ…é—®é¢˜ï¼Œä½¿ç”¨TCPæ¥å®ç°ä¼šè¯å¼å®æ—¶è¯­éŸ³æ˜¯ä¸å¯æ¥å—çš„ã€‚ä½†ä¸¢åŒ…é—®é¢˜å¹¶éæ˜¯ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œå¯ä»¥é‡‡å–çº é”™ç çš„æ–¹å¼æ¥å¯¹æŠ—å°‘é‡ä¸¢åŒ…ã€‚ å¯¹äºç«¯åˆ°ç«¯æ—¶å»¶ï¼Œè¶…è¿‡400mså»¶è¿Ÿçš„åˆ†ç»„æ—¶ä¸å¯æ¥å—çš„ï¼Œå› æ­¤è¶…è¿‡è¿™ä¸ªé˜ˆå€¼çš„åˆ†ç»„ä¸€èˆ¬ç›´æ¥å°±è¢«ä¸¢å¼ƒäº†ã€‚ å…³äºæ—¶å»¶æŠ–åŠ¨é—®é¢˜ï¼Œå½“è€ƒè™‘åˆ°è·¯ç”±å™¨çš„æ’é˜Ÿæ—¶å»¶ï¼Œå¾ˆæœ‰å¯èƒ½å‘é€æ–¹ç›¸éš”çš„ä¸¤ä¸ªåˆ†ç»„æ—¶å»¶ä¼šæ‰©å¤§ã€‚è¿™éœ€è¦é‡‡å–ä¸€äº›æ‰‹æ®µæ¥è§£å†³ã€‚ æ¥æ”¶æ–¹æ¶ˆé™¤æ—¶å»¶æŠ–åŠ¨ ä¸ºäº†æ¶ˆé™¤æŠ–åŠ¨ï¼Œä½¿ç”¨ä¸¤ä¸ªæœºåˆ¶ç»„åˆä¸€èµ·å®ç°ï¼š ä¸ºæ¯ä¸ªå—è®¾å®šä¸€ä¸ªæ—¶é—´æˆ³ å»¶è¿Ÿæ’­æ”¾ é€šè¿‡å»¶è¿Ÿæ’­æ”¾çš„æ–¹å¼å¯ä»¥ä½¿æ¥æ”¶æ–¹æœ‰ä¸€å®šçš„ç¼“å†²æ—¶é—´æ¥å°†å»¶è¿Ÿåˆ°æ¥çš„åˆ†ç»„è¿›è¡Œç»„åˆã€‚ ä½†è¿™ä¸ªæ—¶å»¶çš„æ§åˆ¶æœ‰ä¸¤ç§ï¼šä¸€ç§å¾€å¾€æ˜¯å›ºå®šæ—¶å»¶ï¼Œå¦å¤–ä¸€ç§æ˜¯æ ¹æ®ç½‘ç»œçŠ¶å†µæ¥å†³å®šçš„åŠ¨æ€æ—¶å»¶ã€‚ ä¸¢åŒ…å¤„ç† å‰å‘çº é”™å—ï¼Œé€šè¿‡å†—ä½™çš„æ–¹å¼ äº¤ç»‡ï¼šé€šè¿‡å°†ä¸¢å¤±åˆ†æ‘Šåˆ°å„ä¸ªå—ä¸Šé¢ å·®é”™æ©ç›–ï¼šéŸ³é¢‘ä¿¡å·ä¼šå‘ˆç°å‡ºå¤§é‡çš„çŸ­å‘¨æœŸç›¸ä¼¼æ€§ï¼Œè¿™äº›å³ä½¿ä¸¢äº†ä¹Ÿä¸ä¼šå½±å“åˆ°å®é™…è¯­éŸ³ å®æ—¶ä¼šè¯å¼åº”ç”¨åè®® RTP åŸºäºUDPï¼Œ SIP æä¾›äº†ä¸€ä¸ªç»IPç½‘ç»œåˆ›å»ºå‘¼å«çš„æœºåˆ¶ SIPåœ°å€ï¼šsip:cxk@ismy.wang è¿™ä¸ªæ—¶å€™å¯é€šè¿‡dnsæ¥è¿›è¡Œè§£æ SIPæŠ¥æ–‡è·ŸHTTPæŠ¥æ–‡ç±»ä¼¼ ä¸ºäº†å¯ä»¥åŠ¨æ€è¿›è¡Œåœ°å€ç¿»è¯‘ï¼Œä½¿ç”¨ä¸€ä¸ªè¢«ç§°ä¸ºSIPä»£ç†çš„ä¸œè¥¿æ¥è¿›è¡Œæ³¨å†Œä¸å‘ç°ã€‚ æ”¯æŒå¤šåª’ä½“çš„ç½‘ç»œ æ–¹æ³• ç²’åº¦ ä¿è¯ æœºåˆ¶ å¤æ‚æ€§ å½“å‰éƒ¨ç½² é—®é¢˜ å°½å¯èƒ½åˆ©ç”¨å°½åŠ›è€Œä¸ºæœåŠ¡ å…¬å¹³å¤„ç†æ‰€æœ‰æµé‡ æ— æˆ–è€…è½¯ åº”ç”¨çº§æ”¯æŒï¼ŒCDN,è¦†ç›–ç½‘ç»œï¼Œç½‘ç»œçº§èµ„æºä¾›ç»™ æœ€å° æ— å¤„ä¸åœ¨ å¶ç„¶å‡ºç°çš„ä¸¢åŒ…å’Œè¿‡å¤§çš„ç«¯åˆ°ç«¯æ—¶å»¶ åŒºåˆ†æœåŠ¡ ä¸åŒç±»å‹çš„æµé‡å¤„ç†ä¸åŒ æ— æˆ–è€…è½¯ åˆ†ç»„æ ‡è¯†ï¼Œç›‘ç®¡ï¼Œè°ƒåº¦ ä¸­ç­‰ æŸäº› æ¯è¿æ¥æœåŠ¡è´¨é‡(QoS)ä¿è¯ æ¯ä¸ªæºåˆ°ç›®çš„åœ°æµå¤„ç†ä¸åŒ ä¸€æ—¦æµè¢«å‡†å…¥ï¼Œè½¯æˆ–è€…ç¡¬ åˆ†ç»„æ ‡è¯†ï¼Œç›‘ç®¡ï¼Œè°ƒåº¦ï¼Œå‘¼å«å‡†äººå’Œä¿¡ä»¤ é«˜ å¾ˆå°‘ å°½åŠ›è€Œä¸ºç½‘ç»œ åªè¦åœ¨ç½‘ç»œä¸Šç ¸é’±ï¼Œä¸æ–­æå‡å¸¦å®½ï¼Œå°½åŠ›è€Œä¸ºçš„æ¨¡å‹å°±å·¥ä½œçš„å¾ˆå¥½ã€‚ä½†ç°å®é—®é¢˜æ˜¯æ€»æ˜¯éœ€è¦è¾¾åˆ°éœ€æ±‚ä¸å¼€æ”¯çš„å¹³è¡¡ã€‚ åŒºåˆ†ç±»å‹æœåŠ¡ å¦‚æœæŸäº›æµé‡å…·æœ‰é«˜ä¼˜å…ˆçº§ï¼Œä¸ºäº†é¿å…é«˜ä¼˜å…ˆçº§çš„æµé‡ä¸æ–­ä¼ è¾“å¯¼è‡´ä½ä¼˜å…ˆçº§çš„æµé‡äº§ç”Ÿé¥¥é¥¿ï¼Œå°±éœ€è¦ä¸€ç§ç›‘ç®¡æœºåˆ¶æ¥é¢„ç•™å°‘éƒ¨åˆ†èµ„æºç»™ä½ä¼˜å…ˆçº§çš„æµé‡ï¼Œä½†è¿™æ ·çš„è¯ï¼Œå³ä½¿é«˜ä¼˜å…ˆçº§çš„é“¾è·¯èµ„æºæ²¡æœ‰æµé‡ï¼Œä½ä¼˜å…ˆçº§çš„æµé‡ä¹Ÿæ— æ³•ä½¿ç”¨è¿™äº›èµ„æºï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œä¸€ä¸ªåŠ¨æ€ç®¡æ§ã€‚ ä¸ºäº†å®ç°è¿™ä¸ªåŠ¨æ€ç®¡æ§æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨æ¼æ¡¶æœºåˆ¶è·ŸåŠ æƒå…¬å¹³é˜Ÿåˆ—æ¥å®ç°ã€‚ è´¨é‡ä¿è¯ç½‘ç»œ ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå¿…é¡»é€šè¿‡èµ„æºé¢„ç•™çš„æ–¹å¼æ¥ä¸ºç½‘ç»œè¯·æ±‚é¢„ç•™ç©ºé—´ï¼Œå…¥è‚¡ã€ã€å¦‚æœæ— æ³•ä¿è¯è¿™ä¸ªç©ºé—´çš„åˆ†é…ï¼Œåˆ™è¯·æ±‚ç›´æ¥æ‹’ç»æ‰ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-02 07:33:33 "},"è®¡ç®—æœºç½‘ç»œ/äº‘è®¡ç®—.html":{"url":"è®¡ç®—æœºç½‘ç»œ/äº‘è®¡ç®—.html","title":"äº‘è®¡ç®—","keywords":"","body":"äº‘è®¡ç®— èƒŒæ™¯ æé«˜èµ„æºåˆ©ç”¨ç‡ åŸºç¡€ å¹¶è¡Œè®¡ç®— åˆ†å¸ƒå¼è®¡ç®— ç½‘æ ¼è®¡ç®— ç”Ÿæ€ç³»ç»Ÿ ç¡¬ä»¶ è½¯ä»¶ æœåŠ¡ ç½‘ç»œ å®‰å…¨ éƒ¨ç½²æ¨¡å¼ å…¬æœ‰äº‘ ç§æœ‰äº‘ æ··åˆäº‘ æ•°æ®ä¸­å¿ƒ æ•°æ®é›†ä¸­å­˜å‚¨ã€è®¡ç®—ã€äº¤æ¢çš„ä¸­å¿ƒ è½¯ä»¶å®šä¹‰æ•°æ®ä¸­å¿ƒ è™šæ‹ŸåŒ–æŠ€æœ¯ è™šæ‹ŸåŒ–æŠ€æœ¯çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨è½¯ä»¶æˆ–å›ºä»¶ç®¡ç†ç¨‹åºæ„æˆè™šæ‹ŸåŒ–å±‚ï¼ŒæŠŠç‰©ç†èµ„æºæ˜ å°„ä¸ºè™›æ‹Ÿèµ„æº æœåŠ¡å™¨è™šæ‹ŸåŒ– å¯„å±…è™šæ‹ŸåŒ– è£¸æœºè™šæ‹ŸåŒ– è™šæ‹Ÿæœºè¿ç§» å­˜å‚¨è™šæ‹ŸåŒ– å­˜å‚¨è™šæ‹ŸåŒ–æ˜¯æŒ‡å°†å­˜å‚¨ç½‘ç»œä¸­å„ä¸ªåˆ†æ•£ä¸”å¼‚æ„çš„å­˜å‚¨è®¾å¤‡æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥æ˜ å°„æˆä¸€ä¸ªç»Ÿä¸€çš„è¿ç»­ç¼–å€çš„é€»è¾‘å­˜å‚¨ç©ºé—´ï¼Œç§°ä¸ºè™šæ‹Ÿå­˜å‚¨æ± ï¼Œå¹¶å°†è™šæ‹Ÿå­˜å‚¨æ± çš„è®¿é—®æ¥å£æä¾›ç»™åº”ç”¨ç³»ç»Ÿã€‚ ç½‘ç»œè™šæ‹ŸåŒ– ç½‘å¡è™šæ‹ŸåŒ– ç¡¬ä»¶è®¾å¤‡è™šæ‹ŸåŒ– é“¾è·¯è™šæ‹ŸåŒ– äº‘å®‰å…¨æŠ€æœ¯ å¯ä¿¡è®¿é—®æ§åˆ¶ æ•°æ®å­˜åœ¨ä¸å¯ä½¿ç”¨æ€§è¯æ˜ æ•°æ®éšç§ä¿æŠ¤ è™šæ‹Ÿå®‰å…¨æŠ€æœ¯ äº‘èµ„æºè®¿é—®æ§åˆ¶ å¼€æºäº‘è®¡ç®—ç®¡ç†å¹³å° open stack MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-05-28 07:37:25 "},"è®¡ç®—æœºç½‘ç»œ/Linuxè™šæ‹ŸåŒ–.html":{"url":"è®¡ç®—æœºç½‘ç»œ/Linuxè™šæ‹ŸåŒ–.html","title":"Linux ç½‘ç»œè™šæ‹ŸåŒ–","keywords":"","body":"Linuxç½‘ç»œè™šæ‹ŸåŒ– Linuxä¸‹çš„ç½‘ç»œé€šä¿¡æ¨¡å‹ å¹²é¢„ç½‘ç»œé€šä¿¡ ä»Linux Kernel 2.4ç‰ˆå¼€å§‹ï¼Œå†…æ ¸å¼€æ”¾äº†ä¸€å¥—é€šç”¨çš„ã€å¯ä¾›ä»£ç å¹²é¢„æ•°æ®åœ¨åè®®æ ˆä¸­æµè½¬çš„è¿‡æ»¤å™¨æ¡†æ¶ã€‚å®ƒå›´ç»•ç½‘ç»œå±‚ï¼ˆIPåè®®ï¼‰çš„å‘¨å›´ï¼ŒåŸ‹ä¸‹äº†äº”ä¸ªé’©å­ï¼š PREROUTINGï¼šæ¥è‡ªè®¾å¤‡çš„æ•°æ®åŒ…è¿›å…¥åè®®æ ˆåç«‹å³è§¦å‘æ­¤é’©å­ã€‚PREROUTINGé’©å­åœ¨è¿›å…¥IPè·¯ç”±ä¹‹å‰è§¦å‘ï¼Œè¿™æ„å‘³ç€åªè¦æ¥æ”¶åˆ°çš„æ•°æ®åŒ…ï¼Œæ— è®ºæ˜¯å¦çœŸçš„å‘å¾€æœ¬æœºï¼Œéƒ½ä¼šè§¦å‘æ­¤é’©å­ã€‚ä¸€èˆ¬ç”¨äºç›®æ ‡ç½‘ç»œåœ°å€è½¬æ¢ï¼ˆDestination NATï¼ŒDNATï¼‰ã€‚ INPUTï¼šæŠ¥æ–‡ç»è¿‡IPè·¯ç”±åï¼Œå¦‚æœç¡®å®šæ˜¯å‘å¾€æœ¬æœºçš„ï¼Œå°†ä¼šè§¦å‘æ­¤é’©å­ï¼Œä¸€èˆ¬ç”¨äºåŠ å·¥å‘å¾€æœ¬åœ°è¿›ç¨‹çš„æ•°æ®åŒ…ã€‚ FORWARDï¼šæŠ¥æ–‡ç»è¿‡IPè·¯ç”±åï¼Œå¦‚æœç¡®å®šä¸æ˜¯å‘å¾€æœ¬æœºçš„ï¼Œå°†ä¼šè§¦å‘æ­¤é’©å­ï¼Œä¸€èˆ¬ç”¨äºå¤„ç†è½¬å‘åˆ°å…¶ä»–æœºå™¨çš„æ•°æ®åŒ…ã€‚ OUTPUTï¼šä»æœ¬æœºç¨‹åºå‘å‡ºçš„æ•°æ®åŒ…ï¼Œåœ¨ç»è¿‡IPè·¯ç”±å‰ï¼Œå°†ä¼šè§¦å‘æ­¤é’©å­ï¼Œä¸€èˆ¬ç”¨äºåŠ å·¥æœ¬åœ°è¿›ç¨‹çš„è¾“å‡ºæ•°æ®åŒ…ã€‚ POSTROUTINGï¼šä»æœ¬æœºç½‘å¡å‡ºå»çš„æ•°æ®åŒ…ï¼Œæ— è®ºæ˜¯æœ¬æœºçš„ç¨‹åºæ‰€å‘å‡ºçš„ï¼Œè¿˜æ˜¯ç”±æœ¬æœºè½¬å‘ç»™å…¶ä»–æœºå™¨çš„ï¼Œéƒ½ä¼šè§¦å‘æ­¤é’©å­ï¼Œä¸€èˆ¬ç”¨äºæºç½‘ç»œåœ°å€è½¬æ¢ï¼ˆSource NATï¼ŒSNATï¼‰ è™šæ‹ŸåŒ–ç½‘ç»œè®¾å¤‡ è™šæ‹Ÿç½‘å¡ï¼štnu/tap tapæ¨¡æ‹Ÿäº†ä»¥å¤ªç½‘è®¾å¤‡ï¼Œæ“ä½œäºŒå±‚æ•°æ®åŒ…ï¼ˆä»¥å¤ªå¸§ï¼‰ï¼Œtunåˆ™æ¨¡æ‹Ÿäº†ç½‘ç»œå±‚è®¾å¤‡ï¼Œæ“ä½œä¸‰å±‚æ•°æ®åŒ…ï¼ˆIPæŠ¥æ–‡ï¼‰ è™šæ‹Ÿç½‘å¡ï¼šveth vethæ˜¯ä¸€å¯¹è®¾å¤‡ï¼Œå› è€Œä¹Ÿå¸¸è¢«ç§°ä½œveth pairï¼Œåœ¨vethè®¾å¤‡çš„å…¶ä¸­ä¸€ç«¯è¾“å…¥æ•°æ®ï¼Œè¿™äº›æ•°æ®å°±ä¼šä»è®¾å¤‡çš„å¦å¤–ä¸€ç«¯åŸæ ·ä¸å˜åœ°æµå‡º è™šæ‹Ÿäº¤æ¢æœºï¼šLinux Bridge Linux Bridgeåˆ›å»ºä»¥åï¼Œä¾¿èƒ½å¤Ÿæ¥å…¥ä»»ä½•ä½äºäºŒå±‚çš„ç½‘ç»œè®¾å¤‡ è™šæ‹Ÿç½‘ç»œï¼šVXLAN VLANçš„ä¸è¶³ å‰¯æœ¬ç½‘å¡ï¼šMACVLAN MACVLANå€Ÿç”¨äº†VLANå­æ¥å£çš„æ€è·¯ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªåŸºç¡€ä¸Šæ›´è¿›ä¸€æ­¥ï¼Œä¸ä»…å…è®¸å¯¹åŒä¸€ä¸ªç½‘å¡è®¾ç½®å¤šä¸ªIPåœ°å€ï¼Œè¿˜å…è®¸å¯¹åŒä¸€å¼ ç½‘å¡ä¸Šè®¾ç½®å¤šä¸ªMACåœ°å€ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-01 06:55:26 "},"ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹è¯­è¨€.html":{"url":"ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹è¯­è¨€.html","title":"ğŸ‘¨â€ğŸ’»ç¼–ç¨‹è¯­è¨€","keywords":"","body":"ç¼–ç¨‹è¯­è¨€ è¯­è¨€çš„ç±»å‹æ¨¡å‹ å¼ºç±»å‹å¼±ç±»å‹ é™æ€ç±»å‹é™æ€ç±»å‹ è¯­è¨€çš„æ³›å‹ é¢å‘å¯¹è±¡ å‡½æ•°å¼ è¿‡ç¨‹å¼ æ€æ ·ä¸è¯­è¨€äº¤äº’ ç¼–è¯‘è¿˜æ˜¯è§£é‡Š åˆ¤æ–­ç»“æ„ä¸æ•°æ®ç»“æ„ æ ¸å¿ƒç‰¹æ€§ è¯­è¨€å­¦ä¹  åœ¨æ¯”è¾ƒä¸­å­¦ä¹ ï¼šç¼–ç¨‹è¯­è¨€çš„è§„åˆ™å¹¶ä¸å…·æœ‰æ™®éæ„ä¹‰ï¼Œåªæ˜¯å› ä¸ºâ€œåœ¨å½“å‰çš„ç‰¹å®šæƒ…å†µä¸‹ï¼Œåšæ­¤è§„å®šèƒ½æ›´æ–¹ä¾¿ åœ¨å†å²ä¸­å­¦ä¹ ï¼šäº†è§£å†å²æ¡ä»¶ï¼Œä»¥åŠå†å²å˜è¿ï¼Œèƒ½åŠ æ·±ç†è§£ ç¼–ç¨‹è¯­è¨€çš„å†å² ä»çº¸æ¡æ‰“å­”åˆ°é«˜çº§è¯­è¨€ å„ç§å„æ ·ç¼–ç¨‹è¯­è¨€å‡ºç°çš„åŸå› ï¼šæ‡’æƒ° æ€¥èº å‚²æ…¢ è¯­æ³• è¯­æ³•æ˜¯è¯­è¨€è®¾è®¡è€…åˆ¶å®šçš„è§„åˆ™ï¼Œæ€ä¹ˆæ–¹ä¾¿å°±æ€ä¹ˆæ¥ åŸºäºæ ˆï¼š 1 2 + 3 * åŸºäºæ ‘ï¼š (+ 1 2) è®¾è®¡ä¸å­˜åœ¨ä»»ä½•è§£æçŸ›ç›¾çš„è¯­æ³•ä½“ç³»æ˜¯ååˆ†å›°éš¾çš„ã€‚éšåè¦å†èå…¥æ–°çš„è¯­æ³•æ—¶ä¸ä¸æ—¢æœ‰çš„è¯­æ³•å‘ç”Ÿå†²çªï¼Œè¿™ä¸ªå°¤å…¶å›°éš¾ æµç¨‹æ§åˆ¶ elseè¯­å¥çš„ï¼šgoto çš„å±å®³ whileè¯­å¥çš„ï¼šè®©åå¤æ‰§è¡Œçš„ifæ›´åŠ ç®€æ´ forè¯­å¥ï¼šè®©æ•°å€¼å»ºå¢çš„whileè¯­å¥æ›´ç®€æ´ for-wachè¯­å¥ï¼šè®©foréå†æ›´ç®€æ´ å‡½æ•° ä½œç”¨ï¼šç¼©å°å…³æ³¨ç‚¹ ä»£ç å¤ç”¨ è¿”å›ï¼šè°ƒç”¨æ ˆ é€’å½’ï¼šé€’å½’å®Œæˆçš„æ“ä½œéƒ½å¯ä»¥è½¬æ¢ä¸ºè¿­ä»£æ“ä½œ é”™è¯¯å¤„ç† ç¨‹åºæ‰€ä¾èµ–çš„å¤–éƒ¨å‡¡æ˜¯å¯èƒ½å‡ºé”™çš„æœ€åæ€»ä¼šå‡ºé”™ ç”¨ç‰¹æ®Šè¿”å›å€¼è¡¨ç¤ºé”™è¯¯ ä¸éœ€è¦ç¼–ç¨‹è¯­è¨€çš„æ”¯æŒ è¿™ç§æ–¹å¼å¹¶éå¼ºåˆ¶ é”™è¯¯å¾ˆå®¹æ˜“è¢«å¿½ç•¥ åŒæ—¶æ­£å¸¸ä»£ç è·Ÿå¼‚å¸¸å¤„ç†ä»£ç ä¼šæ··æ‚åœ¨ä¸€èµ· ç»Ÿä¸€è·³è½¬ å¼‚å¸¸ å¼‚å¸¸çš„ä½¿ç”¨ï¼š ä½•æ—¶æŠ›å‡ºå¼‚å¸¸ å¼‚å¸¸çš„å‡ºå£ å¼‚å¸¸çš„ä¼ é€’ åå­—ä¸ä½œç”¨åŸŸ ä¸ºä»€ä¹ˆè¦åå­—ï¼Ÿå¯è¯»æ€§ ä¸ºä»€ä¹ˆè¦ä½œç”¨åŸŸï¼Ÿç®¡ç†åå­— ä½œç”¨åŸŸçš„æ¼”å˜ï¼š å…¨å±€ä½œç”¨åŸŸ $i åŠ¨æ€ä½œç”¨åŸŸ local $i é™æ€ä½œç”¨åŸŸ my $x ç±»å‹ ç±»å‹æ˜¯æ•°æ®çš„å…ƒæ•°æ® cvtsi2ssq %rax, %xmm1 ç±»å‹çš„æ‰©å±•ï¼š ç”¨æˆ·è‡ªå®šä¹‰ï¼ˆç»“æ„ä½“ï¼‰ é¢å‘å¯¹è±¡ æ³›å‹æˆ–æ¨¡æ¿ åŠ¨æ€ç±»å‹ ç±»å‹æ¨æ–­ å®¹å™¨ä¸å­—ç¬¦ä¸² å¹¶å‘å¤„ç† äº¤æ›¿è¿è¡Œï¼š åä½œå¼ æŠ¢å å¼ å¯¹è±¡ä¸ç±» é¢å‘å¯¹è±¡åœ¨ä¸åŒè¯­è¨€ä¸‹ä¸ä¸€æ · æ¨¡å‹çš„å»ºç«‹æ–¹æ³•ï¼š æ¨¡å—/åŒ… å‡½æ•° é—­åŒ… ç±» é—­åŒ… å‡½æ•°å¯¹è±¡ï¼š Cä¸­çš„å‡½æ•°æŒ‡é’ˆ å…¶ä»–è¯­è¨€ä¸­çš„é«˜é˜¶å‡½æ•° ä»å‡½æ•°å¯¹è±¡ä¸­èƒ½å¤Ÿå¯¹å¤–éƒ¨å˜é‡è¿›è¡Œè®¿é—®ï¼ˆå¼•ç”¨ã€æ›´æ–°ï¼‰ï¼Œæ˜¯é—­åŒ…çš„æ„æˆè¦ä»¶ä¹‹ä¸€ ä»å±äºå¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å±€éƒ¨å˜é‡ï¼Œè¢«å‡½æ•°å¯¹è±¡ç»™â€œå°é—­â€åœ¨é‡Œé¢äº† ç»§æ‰¿ä¸ä»£ç å¤ç”¨ ç»§æ‰¿çš„å®ç°ç­–ç•¥ï¼š ä¸€èˆ¬åŒ–ä¸ç‰¹æ®ŠåŒ– æå–å…±åŒéƒ¨åˆ† å·®å¼‚å®ç° å¤šé‡ç»§æ‰¿å¸¦æ¥å‘½åå†²çªçš„è§£å†³: ç¦æ­¢ æŒ‰æŸç§é¡ºåºæœç´¢ DSL åˆ©ç”¨ä¸ºç‰¹å®šé¢†åŸŸï¼ˆDomainï¼‰æ‰€ä¸“é—¨è®¾è®¡çš„è¯æ±‡å’Œè¯­æ³•ï¼Œç®€åŒ–ç¨‹åºè®¾è®¡è¿‡ç¨‹ï¼Œæé«˜ç”Ÿäº§æ•ˆç‡çš„æŠ€æœ¯ï¼ŒåŒæ—¶ä¹Ÿè®©éç¼–ç¨‹é¢†åŸŸä¸“å®¶çš„äººç›´æ¥æè¿°é€»è¾‘æˆä¸ºå¯èƒ½ å¤–éƒ¨DSLï¼šç‹¬ç«‹äºå¼€å‘è¯­è¨€å­˜åœ¨ å†…éƒ¨DSLï¼šä¾èµ–äºä¸€é—¨å®¿ä¸»å¼€å‘è¯­è¨€è€Œå­˜åœ¨, è¿™è¦æ±‚å®¿ä¸»è¯­è¨€å¿…é¡»è¶³å¤Ÿç®€æ´ä¸”çµæ´» åº“è®¾è®¡å°±æ˜¯è¯­è¨€è®¾è®¡ï¼ˆLibrary design is language designï¼‰ // ç”¨æµç•…æ¥å£åœ¨Javaä¸­å®ç°DSL private void makeOrder(Customer customer) { customer.newOrder() .with(6, \"TAL\") .with(5, \"HPK\").skippable() .with(3, \"LGV\") .priorityRush(); } DSLæ„æˆè¦ç´  ä¸Šä¸‹æ–‡ è¯­å¥ å•ä½ è¯æ±‡ å±‚æ¬¡ç»“æ„ å†…å­˜ç®¡ç† æ‰‹åŠ¨ è‡ªåŠ¨ æ ¹æ‰«æ å¼•ç”¨è®¡æ•° GCå¤§ä¸€ç»Ÿç†è®ºï¼šç›®å‰çš„GCæ”¶é›†æ–¹æ³•åªæœ‰æ ¹æ‰«æå’Œå¼•ç”¨è®¡æ•°ï¼Œä¸¤è€…ç›¸äº’å¯¹ç«‹ï¼Œå¯¹ä¸€æ–¹æœ‰ç”¨çš„æŠ€æœ¯ï¼Œå¯¹å¦ä¸€æ–¹è·Ÿå®šä¹Ÿæœ‰ç”¨ã€‚å¦‚æ ¹æ‰«æçš„å†™å±éšœæœºåˆ¶ï¼Œä»¥åŠå¼•ç”¨è®¡æ•°çš„å †å±€éƒ¨å˜é‡è¿›è¡Œåˆ†ä»£ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-21 07:49:10 "},"ç¼–ç¨‹è¯­è¨€/å¹¶å‘æ¨¡å‹.html":{"url":"ç¼–ç¨‹è¯­è¨€/å¹¶å‘æ¨¡å‹.html","title":"å¹¶å‘æ¨¡å‹","keywords":"","body":"å¹¶å‘æ¨¡å‹ å¹¶å‘ä¸å¹¶è¡Œ å¹¶è¡Œæ¶æ„ï¼š bit-levelå¹¶è¡Œï¼šä»32ä½åˆ°64ä½ æŒ‡ä»¤çº§å¹¶è¡Œï¼šæµæ°´çº¿æŠ€æœ¯ã€ä¹±åºæ‰§è¡Œ æ•°æ®çº§å¹¶è¡Œï¼šGPUçš„å‡ ç™¾ä¸ªæ ¸å¿ƒå¹¶è¡Œå¯¹å›¾åƒå¤„ç† ä»»åŠ¡çº§å¹¶è¡Œï¼šå¤šå¤„ç†æœºç³»ç»Ÿ çº¿ç¨‹ä¸é” è¯¥æ¨¡å‹æ˜¯å¯¹åº•å±‚ç¡¬ä»¶è¿è¡Œè¿‡ç¨‹çš„å½¢å¼åŒ– é€‚ç”¨é¢å¾ˆå¹¿ æ²¡æœ‰ä¸ºå¹¶è¡Œæä¾›ç›´æ¥çš„æ”¯æŒ ç«æ€æ¡ä»¶ å†…å­˜å¯è§æ€§ æ­»é” å‡½æ•°å¼ç¼–ç¨‹ å¯å˜çŠ¶æ€é€ æˆçš„é£é™© å‡½æ•°å¼ä»£ç å¯ä»¥éšæ„æ”¹å˜å…¶æ‰§è¡Œé¡ºåº æ‰€ä»¥å¯ä»¥è®©ç›¸äº’ç‹¬ç«‹çš„å‡½æ•°å¹¶è¡Œæ‰§è¡Œ Actor ä¿ç•™äº†å¯å˜çŠ¶æ€ åªæ˜¯ä¸å…±äº« æ¶ˆæ¯ä¼ è¾“ ä»»å…¶å´©æºƒ é€šä¿¡é¡ºåºè¿›ç¨‹ æ•°æ®å¹¶è¡Œ opencl Lambdaæ¶æ„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-31 08:12:50 "},"ç¼–ç¨‹è¯­è¨€/å‡½æ•°å¼ç¼–ç¨‹.html":{"url":"ç¼–ç¨‹è¯­è¨€/å‡½æ•°å¼ç¼–ç¨‹.html","title":"å‡½æ•°å¼ç¼–ç¨‹","keywords":"","body":"å‡½æ•°å¼ç¼–ç¨‹ æ•°å¼è¯­è¨€æå€¡åœ¨æœ‰é™çš„å‡ ç§å…³é”®æ•°æ®ç»“æ„ï¼ˆå¦‚ list ã€ set ã€ map ï¼‰ä¸Šè¿ç”¨é’ˆå¯¹è¿™äº›æ•°æ®ç»“æ„é«˜åº¦ä¼˜åŒ–è¿‡çš„æ“ä½œï¼Œä»¥æ­¤æ„æˆåŸºæœ¬çš„è¿è½¬æœºæ„ä»¥è¾¾åˆ°é‡ç”¨çš„ç›®çš„ã€‚ å‘½ä»¤å¼ç¼–ç¨‹æ˜¯æŒ‰ç…§â€œç¨‹åºæ˜¯ä¸€ç³»åˆ—æ”¹å˜çŠ¶æ€çš„å‘½ä»¤â€æ¥å»ºæ¨¡çš„ä¸€ç§ç¼–ç¨‹é£æ ¼ å‡½æ•°å¼ç¼–ç¨‹å°†ç¨‹åºæè¿°ä¸ºè¡¨è¾¾å¼å’Œå˜æ¢ï¼Œä»¥æ•°å­¦æ–¹ç¨‹çš„å½¢å¼å»ºç«‹æ¨¡å‹ï¼Œå¹¶ä¸”å°½é‡é¿å…å¯å˜çš„çŠ¶æ€ ä¸€ç§æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ å‡½æ•°å¼æ€ç»´çš„å¥½å¤„ä¹‹ä¸€ï¼Œæ˜¯èƒ½å¤Ÿå°†ä½å±‚æ¬¡ç»†èŠ‚ï¼ˆå¦‚åƒåœ¾æ”¶é›†ï¼‰çš„æ§åˆ¶æƒç§»äº¤ç»™è¿è¡Œæ—¶ï¼Œä»è€Œæ¶ˆå¼­äº†ä¸€å¤§æ‰¹æ³¨å®šä¼šå‘ç”Ÿçš„ç¨‹åºé”™è¯¯ å‡½æ•°å¼ç¼–ç¨‹å‡ å¤§åŸºæœ¬æ“ä½œï¼š filter è¿‡æ»¤ map æ˜ å°„ reduce/fold è§„çº¦/æŠ˜å  ç”¨ä¸€ä¸ªç´¯ç§¯é‡ï¼ˆaccumulatorï¼‰æ¥â€œæ”¶é›†â€é›†åˆå…ƒç´  å‡½æ•°å¼è¯­è¨€å°†ä¸€äº›æƒè´£è®©ä½äºè¿è¡Œæ—¶ï¼š åº•å±‚è¿­ä»£çš„æƒè´£è½¬ç§»åˆ°é«˜é˜¶å‡½æ•° map filter ... çŠ¶æ€ç®¡ç†çš„æƒè´£è½¬ç§»åˆ°é—­åŒ… è®©è¯­è¨€è‡ªå·±å»ç®¡ç†çŠ¶æ€ æŸ¯é‡ŒåŒ– å‡½æ•° process(x, y, z) å®Œå…¨æŸ¯é‡ŒåŒ–ä¹‹åå°†å˜æˆ process(x)(y)(z) çš„å½¢å¼ è¿™å…¶å®åŒå·¥å‚æ¨¡å¼ éƒ¨åˆ†æ–½ç”¨ process(x, y, z) ä¸Šéƒ¨åˆ†æ–½ç”¨ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å¾—åˆ°è¿˜å‰©ä¸‹ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°ï¼š process(y, z) ä»è¿­ä»£åˆ°é€’å½’ï¼š å°¾é€’å½’ï¼š function story() { ä»å‰æœ‰åº§å±±ï¼Œå±±ä¸Šæœ‰åº§åº™ï¼Œåº™é‡Œæœ‰ä¸ªè€å’Œå°šï¼Œä¸€å¤©è€å’Œå°šå¯¹å°å’Œå°šè®²æ•…äº‹ï¼šstory() // å°¾é€’å½’ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªå‡½æ•°ä¸å†éœ€è¦ä¸Šä¸€ä¸ªå‡½æ•°çš„ç¯å¢ƒäº†ï¼Œå¾—å‡ºç»“æœä»¥åç›´æ¥è¿”å›ã€‚} function story() { ä»å‰æœ‰åº§å±±ï¼Œå±±ä¸Šæœ‰åº§åº™ï¼Œåº™é‡Œæœ‰ä¸ªè€å’Œå°šï¼Œä¸€å¤©è€å’Œå°šå¯¹å°å’Œå°šè®²æ•…äº‹ï¼šstory()ï¼Œå°å’Œå°šå¬äº†ï¼Œæ‰¾äº†å—è±†è…æ’æ­»äº† // éå°¾é€’å½’ï¼Œä¸‹ä¸€ä¸ªå‡½æ•°ç»“æŸä»¥åæ­¤å‡½æ•°è¿˜æœ‰åç»­ï¼Œæ‰€ä»¥å¿…é¡»ä¿å­˜æœ¬èº«çš„ç¯å¢ƒä»¥ä¾›å¤„ç†è¿”å›å€¼ã€‚} å‡½æ•°å¼è¯­è¨€çš„ä¸¤ç§å¸¸è§ç‰¹æ€§ï¼š è®°å¿† memoization æ¯æ¬¡æˆ‘ä»¬æ ¹æ®ä¸€ç»„ç‰¹å®šå‚æ•°æ±‚å¾—ç»“æœä¹‹åï¼Œå°±ç”¨å‚æ•°å€¼åšæŸ¥æ‰¾ç”¨çš„é”®ï¼ŒæŠŠç»“æœç¼“å­˜èµ·æ¥ã€‚ä»¥åå½“å‡½æ•°åˆé‡åˆ°ç›¸åŒå‚æ•°çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦é‡æ–°è®¡ç®—ä¸€éäº† åªæœ‰çº¯ï¼ˆpureï¼‰å‡½æ•°æ‰å¯ä»¥é€‚ç”¨ç¼“å­˜æŠ€æœ¯ã€‚çº¯å‡½æ•°æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•° ä½†æ‰‹åŠ¨å¼•å…¥äº†ç¼“å­˜ å¾€å¾€æ„å‘³ç€ä¼šå¼•å…¥æ›´å¤šçš„é”™è¯¯ å‡½æ•°å¼è¯­è¨€å¯ä»¥åˆ©ç”¨è‡ªèº«çš„ç‰¹æ€§å¾ˆæ–¹ä¾¿å®ç°ç¼“å­˜ å¦‚æƒ³è®°å¿†ç°æœ‰çš„ä¸€ä¸ª (hash ) å‡½æ•°ï¼Œæˆ‘ä»¬åªè¦å†™æˆ (memoize (hash \"homer\")) ï¼Œå°±å¯ä»¥å¾—åˆ°è¯¥å‡½æ•°çš„ç¼“å­˜ç‰ˆæœ¬ ç¼“æ±‚å€¼ lazy evaluation å°½å¯èƒ½åœ°æ¨è¿Ÿæ±‚è§£è¡¨è¾¾å¼ ä¹Ÿå°±æ˜¯åˆ°éœ€è¦æ—¶ï¼Œè¿™ä¸ªå€¼æ‰è¢«è®¡ç®—å‡ºæ¥ åœ¨Javaä¸­ å®ç°è¿™ä¸ªçš„æ–¹å¼å¯ä»¥ä½¿ç”¨å¾ˆå¤šæ–¹æ³•ï¼Œå¦‚è¿­ä»£å™¨ã€Streamç­‰æ¥å®ç° å…¶ä»–å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€åˆ™éƒ½æä¾›äº†å†…å»ºçš„å·¥å…· é‡ç”¨ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ï¼Œå¤ç”¨çš„å•å…ƒæ˜¯æ•°æ®ç»“æ„ è€Œå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ å¤ç”¨çš„å•å…ƒåˆ™æ˜¯æ“ä½œ æ•°æ®ç»“æ„ç±»å‹å¾ˆå°‘ å‡½æ•°å¼çš„é‡ç”¨æœºåˆ¶å°±å»ºç«‹åœ¨åˆ—è¡¨çš„æ¦‚å¿µ è®¾è®¡æ¨¡å¼åœ¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€é‡Œçš„åº”ç”¨ï¼šä»æ ¹æœ¬ä¸Šè¯´ï¼Œè®¾è®¡æ¨¡å¼çš„å­˜åœ¨æ„ä¹‰å°±æ˜¯å¼¥è¡¥è¯­è¨€åŠŸèƒ½ä¸Šçš„å¼±ç‚¹ æ¨¡æ¿æ–¹æ³• class CustomerBlocks { def plan, checkCredit, checkInventory, ship def CustomerBlocks() { plan = [] } def process() { checkCredit() checkInventory() ship() } } é¢å‘å¯¹è±¡ç¼–ç¨‹é€šè¿‡å°è£…ä¸ç¡®å®šå› ç´ æ¥ä½¿ä»£ç èƒ½è¢«äººç†è§£ï¼›å‡½æ•°å¼ç¼–ç¨‹é€šè¿‡å°½é‡å‡å°‘ ä¸ç¡®å®šå› ç´ æ¥ä½¿ä»£ç èƒ½è¢«äººç†è§£ å‡½æ•°å¼ç¼–ç¨‹åˆ°å‡½æ•°å¼åŸºç¡€è®¾æ–½ æµ‹è¯•çš„çœŸæ­£ç›®çš„æ˜¯å¯¹å¯å˜äº‹ç‰©çš„æ£€éªŒâ€”â€”å¯å˜çš„äº‹ç‰©è¶Šå¤šï¼Œå°±éœ€è¦è¶Šå¤šçš„æµ‹è¯•æ¥ä¿è¯å…¶æ­£ç¡®æ€§ å€¼ä¸å¯å˜ -> CQRS -> å‡½æ•°å¼webç¼–ç¨‹ -> æ—¥å¿—æ•°æ®åº“ -> Serverless MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-14 08:44:44 "},"ç¼–ç¨‹è¯­è¨€/C/nav.html":{"url":"ç¼–ç¨‹è¯­è¨€/C/nav.html","title":"Cè¯­è¨€","keywords":"","body":"Cè¯­è¨€ C è¯­è¨€æ˜¯ä¸€ç§é€šç”¨çš„ã€é¢å‘è¿‡ç¨‹å¼çš„è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€ã€‚1972 å¹´ï¼Œä¸ºäº†ç§»æ¤ä¸å¼€å‘ UNIX æ“ä½œç³»ç»Ÿï¼Œä¸¹å°¼æ–¯Â·é‡Œå¥‡åœ¨è´å°”ç”µè¯å®éªŒå®¤è®¾è®¡å¼€å‘äº† C è¯­è¨€ã€‚ C è¯­è¨€æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„è®¡ç®—æœºè¯­è¨€ï¼Œå®ƒä¸ Java ç¼–ç¨‹è¯­è¨€ä¸€æ ·æ™®åŠï¼ŒäºŒè€…åœ¨ç°ä»£è½¯ä»¶ç¨‹åºå‘˜ä¹‹é—´éƒ½å¾—åˆ°å¹¿æ³›ä½¿ç”¨ã€‚ å½“å‰æœ€æ–°çš„Cè¯­è¨€æ ‡å‡†ä¸º C11 ï¼Œåœ¨å®ƒä¹‹å‰çš„Cè¯­è¨€æ ‡å‡†ä¸º C99 MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/C/ç±»å‹è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼.html":{"url":"ç¼–ç¨‹è¯­è¨€/C/ç±»å‹è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼.html","title":"ç±»å‹è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼","keywords":"","body":"å˜é‡å å˜é‡åçš„å¼€å¤´å¿…é¡»æ˜¯å­—æ¯æˆ–ä¸‹åˆ’çº¿ï¼Œä¸èƒ½æ˜¯æ•°å­— å˜é‡åä¸­çš„å­—æ¯æ˜¯åŒºåˆ†å¤§å°å†™çš„ å˜é‡åç»å¯¹ä¸å¯ä»¥æ˜¯Cè¯­è¨€å…³é”®å­— å˜é‡åä¸­ä¸èƒ½æœ‰ç©ºæ ¼ æ•°æ®ç±»å‹åŠé•¿åº¦ å¸¸é‡ å­—ç¬¦å¸¸é‡ å¸¸é‡è¡¨è¾¾å¼ æšä¸¾å¸¸é‡ å£°æ˜ ç®—æœ¯è¿ç®—ç¬¦ å…³ç³»è¿ç®—ç¬¦ä¸é€»è¾‘è¿ç®—ç¬¦ ç±»å‹è½¬æ¢ è‡ªåŠ¨è½¬æ¢ å¼ºåˆ¶è½¬æ¢ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/C/å‡½æ•°ä¸ç¨‹åºç»“æ„.html":{"url":"ç¼–ç¨‹è¯­è¨€/C/å‡½æ•°ä¸ç¨‹åºç»“æ„.html","title":"å‡½æ•°ä¸ç¨‹åºç»“æ„","keywords":"","body":"å‡½æ•°çš„åŸºæœ¬çŸ¥è¯† å‡½æ•°çš„å®šä¹‰å½¢å¼ è¿”å›å€¼ç±»å‹ å‡½æ•°åï¼ˆå‚æ•°å£°æ˜è¡¨ï¼‰{ å£°æ˜å’Œè¯­å¥ } å¤–éƒ¨å˜é‡ ä½œç”¨åŸŸè§„åˆ™ å¤´æ–‡ä»¶ é™æ€å˜é‡ static int a; å¯„å­˜å™¨å˜é‡ register int x; registerå˜é‡å°†æ”¾åœ¨æœºå™¨çš„å¯„å­˜å™¨ä¸­ ç¨‹åºå—ç»“æ„ åˆå§‹åŒ– å¤–éƒ¨å˜é‡å’Œé™æ€å˜é‡éƒ½å°†è¢«åˆå§‹åŒ–ä¸º0 é€’å½’ Cé¢„å¤„ç†å™¨ æ–‡ä»¶åŒ…å« #include \"æ–‡ä»¶å\" #include å®æ›¿æ¢ #define a b ä¸ä¼šæ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å†…å®¹ å¸¦å‚æ•°çš„å® #undef åŒäº•å·åµŒå¥— æ¡ä»¶åŒ…å« #ifndef HDR #define HDR #endif MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/C/æŒ‡é’ˆä¸æ•°ç»„.html":{"url":"ç¼–ç¨‹è¯­è¨€/C/æŒ‡é’ˆä¸æ•°ç»„.html","title":"æŒ‡é’ˆä¸æ•°ç»„","keywords":"","body":"æŒ‡é’ˆä¸åœ°å€ p = &c; // pä¸ºæŒ‡å‘cçš„æŒ‡é’ˆ y = *p; // ç°åœ¨yçš„å€¼çš„cçš„å€¼ æŒ‡é’ˆä¸å‡½æ•°å‚æ•° void swap(int *x,int *y){ int tmp = *x; *x = *y; *y = tmp; } æŒ‡é’ˆä¸æ•°ç»„ æ•°ç»„æœ¬è´¨ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆ ä½†æ˜¯æŒ‡é’ˆæ˜¯ä¸€ä¸ªå˜é‡ï¼Œæ•°ç»„åä¸æ˜¯ä¸€ä¸ªå˜é‡ åœ°å€ç®—æœ¯è¿ç®— ç›¸åŒç±»å‹æŒ‡é’ˆä¹‹é—´çš„èµ‹å€¼è¿ç®— åŒæ•´æ•°é—´çš„åŠ å‡æ³•è¿ç®— æŒ‡å‘ç›¸åŒæ•°ç»„çš„ä¸¤ä¸ªæŒ‡é’ˆå‡æ³•æˆ–æ¯”è¾ƒè¿ç®— å°†æŒ‡é’ˆèµ‹å€¼ä¸º0 å­—ç¬¦ä¸²ä¸æŒ‡é’ˆ void reverse(char *s,int n){ if (n æŒ‡é’ˆæ•°ç»„ä»¥åŠæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ char *sa[20]; int main(){ int x; int *xp = &x; int **xpp = &xp; **xpp=15; printf(\"%d\",x); } å¤šç»´æ•°ç»„ int a[i][j]; æŒ‡é’ˆæ•°ç»„çš„åˆå§‹åŒ– æŒ‡é’ˆä¸å¤šç»´æ•°ç»„ char *s[]={\"123\",\"321\",\"1111\"}; å‘½ä»¤è¡Œå‚æ•° int main(int argc,char *s[]){return 0;} æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ å¤æ‚å£°æ˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/C/ç»“æ„.html":{"url":"ç¼–ç¨‹è¯­è¨€/C/ç»“æ„.html","title":"ç»“æ„","keywords":"","body":"åŸºæœ¬çŸ¥è¯† struct{ int x; int y; } point; struct poinit p; p.x=1; ç»“æ„ä¸å‡½æ•° ç»“æ„æŒ‡é’ˆ struct point *pp; (*pp).x=5; y = pp->x; ç»“æ„æ•°ç»„ struct poinit ps[20]; ç»“æ„æŒ‡é’ˆ ç»“æ„ä½“ä¸­çš„æ•°æ®å¯¹é½é—®é¢˜ è‡ªå¼•ç”¨ç»“æ„ struct{ int x; int y; struct point *p; } poinit; è¡¨æŸ¥æ‰¾ ç±»å‹å®šä¹‰ typedef char* String String s = \"123\"; è”åˆ union ut{ char a; int b; long c; }u; u.c=1L; ä½å­—æ®µ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/C/è¾“å…¥ä¸è¾“å‡º.html":{"url":"ç¼–ç¨‹è¯­è¨€/C/è¾“å…¥ä¸è¾“å‡º.html","title":"è¾“å…¥ä¸è¾“å‡º","keywords":"","body":"æ ‡å‡†è¾“å…¥è¾“å‡º getchar putchar æ ¼å¼åŒ–è¾“å‡º-printf å˜é•¿å‚æ•°è¡¨ æ ¼å¼åŒ–è¾“å…¥-scanf æ–‡ä»¶è®¿é—® é”™è¯¯å¤„ç† stdout stderr è¡Œè¾“å…¥å’Œè¡Œè¾“å‡º fgets fputs å…¶ä»–å‡½æ•° MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/C/UNIXç³»ç»Ÿæ¥å£.html":{"url":"ç¼–ç¨‹è¯­è¨€/C/UNIXç³»ç»Ÿæ¥å£.html","title":"UNIXç³»ç»Ÿæ¥å£","keywords":"","body":"æ–‡ä»¶æè¿°ç¬¦ å†…æ ¸ï¼ˆkernelï¼‰åˆ©ç”¨æ–‡ä»¶æè¿°ç¬¦ï¼ˆfile descriptorï¼‰æ¥è®¿é—®æ–‡ä»¶ã€‚ æ–‡ä»¶æè¿°ç¬¦æ˜¯éè´Ÿæ•´æ•°ã€‚ æ‰“å¼€ç°å­˜æ–‡ä»¶æˆ–æ–°å»ºæ–‡ä»¶æ—¶ï¼Œå†…æ ¸ä¼šè¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚ è¯»å†™æ–‡ä»¶ä¹Ÿéœ€è¦ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦æ¥æŒ‡å®šå¾…è¯»å†™çš„æ–‡ä»¶ã€‚ ä½çº§IO-read/write open creat close unlink éšæœºè®¿é—®-lseek MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/nav.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/nav.html","title":"â˜•Java","keywords":"","body":"JAVA JAVAç¼–ç¨‹è¯­è¨€ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/è¯­è¨€åŸºç¡€.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/è¯­è¨€åŸºç¡€.html","title":"è¯­è¨€åŸºç¡€","keywords":"","body":"è¯­è¨€åŸºç¡€ JAVAè¿è¡Œç¯å¢ƒ JVM Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰æ˜¯è¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚ JDK JDK æ˜¯ Java Development Kitï¼Œå®ƒæ˜¯åŠŸèƒ½é½å…¨çš„ Java SDKã€‚å®ƒæ‹¥æœ‰ JRE æ‰€æ‹¥æœ‰çš„ä¸€åˆ‡ï¼Œè¿˜æœ‰ç¼–è¯‘å™¨ï¼ˆjavacï¼‰å’Œå·¥å…·ï¼Œèƒ½å¤Ÿåˆ›å»ºå’Œç¼–è¯‘ç¨‹åºã€‚ JRE JRE æ˜¯ Java è¿è¡Œæ—¶ç¯å¢ƒã€‚å®ƒæ˜¯è¿è¡Œå·²ç¼–è¯‘ Java ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹çš„é›†åˆï¼ŒåŒ…æ‹¬ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ï¼ŒJava ç±»åº“ï¼Œjava å‘½ä»¤å’Œå…¶ä»–çš„ä¸€äº›åŸºç¡€æ„ä»¶ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½ç”¨äºåˆ›å»ºæ–°ç¨‹åºã€‚ oracle jdkä¸openjdk Oracle JDKç”±Oracleå…¬å¸å¼€å‘ï¼ŒOracle JDKé‡‡ç”¨äº†å•†ä¸šå®ç° OpenJDKæ˜¯Java SEå¹³å°ç‰ˆçš„å¼€æºå’Œå…è´¹å®ç°ï¼Œè™½ç„¶OpenJDKçš„éƒ¨åˆ†åŠŸèƒ½æœ‰æ‰€ç¼ºå¤±ï¼Œä½†æ•´ä½“ç›¸å·®ä¸å¤§ å…³é”®å­— å®Œå…¨å°å†™çš„å­—æ¯ è¢«é«˜äº®çš„å•è¯ æ ‡è¯†ç¬¦ ç±»çš„åç§° å˜é‡åç§° æ–¹æ³•åç§° å¸¸é‡ä¸å˜é‡ å¸¸é‡ åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œå›ºå®šä¸å˜çš„é‡ æ•°æ®ç±»å‹ åŸºæœ¬æ•°æ®ç±»å‹ æ•´æ•°å‹ byte short int long è¿™äº›ç±»å‹çš„åŒ…è£…ç±»å‹çš„valueOféƒ½ä½œäº†ç¼“å­˜ æµ®ç‚¹å‹ float double å­—ç¬¦å‹ char å¸ƒå°”å‹ boolean å¼•ç”¨æ•°æ®ç±»å‹ æµ®ç‚¹æ•°çš„è¡¨ç¤º æŒ‡æ•° = $X + 2^{xçš„äºŒè¿›åˆ¶ä½æ•°-1}$ æœ‰æ•ˆæ•°å­— = ä½¿ç”¨åŸç å­˜å‚¨ ç”±äºæŸäº›æ•°å­—ä¸èƒ½ç”±æœ‰é™äºŒè¿›åˆ¶ä½ç²¾ç¡®è¡¨ç¤º æ‰€ä»¥ä¼šå‡ºç°1f-0.9f != 0.1 è¿™ç§æƒ…å†µ å˜é‡ ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œå†…å®¹å¯ä»¥å‘ç”Ÿæ”¹å˜çš„é‡ æ•°æ®ç±»å‹è½¬æ¢ éšå¼è½¬æ¢ æ•°æ®èŒƒå›´ä»å°åˆ°å¤§ æ˜¾å¼è½¬æ¢ èŒƒå›´å°çš„ç±»å‹ èŒƒå›´å°çš„å˜é‡å = (èŒƒå›´å°çš„ç±») åŸæœ¬èŒƒå›´å¤§çš„æ•°æ®; æ•°æ®æº¢å‡º å½“è¢«è½¬æ¢çš„æ•°å€¼èŒƒå›´å¤§äºç›®æ ‡ç±»å‹æ—¶ï¼Œå°±ä¼šå‘ç”Ÿæ•°æ®æº¢å‡ºï¼Œå¯¼è‡´ä¸€éƒ¨åˆ†æ•°æ®ä¸¢å¤± byte short char åœ¨è¿ç®—æ—¶éƒ½ä¼šè¢«æå‡ä¸ºintç±»å‹ ASCII ç è¡¨ ä½¿ç”¨æ•°å­—è¡¨ç¤ºæŸäº›å­—ç¬¦ è¿ç®—ç¬¦ è¿›è¡Œç‰¹å®šæ“ä½œçš„ç¬¦å· ç®—æœ¯è¿ç®—ç¬¦ + - * / % åŠ å·çš„ä¸‰ç§ç”¨æ³•ï¼š æ•°å€¼åŠ æ³• å­—ç¬¦è®¡ç®— å­—ç¬¦ä¸²è¿æ¥ ä¼˜å…ˆçº§é—®é¢˜ String s = \"123\" + 20 + 30; è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ å•ç‹¬ä½¿ç”¨ æ··åˆä½¿ç”¨ èµ‹å€¼è¿ç®—ç¬¦ åŸºæœ¬ å¤åˆ æ¯”è¾ƒè¿ç®—ç¬¦ > = é€»è¾‘è¿ç®—ç¬¦ && || ! çŸ­è·¯ å½“ a && b ä¸­çš„aä¸ºfalseæ—¶ å°±ä¸ä¼šå»è®¡ç®—bè¡¨è¾¾å¼ ä½è¿ç®—ç¬¦ // ä»¥ä¸‹æ‰€æœ‰æ“ä½œéƒ½ä»£è¡¨çš„æ˜¯åœ¨2è¿›åˆ¶æ“ä½œä¸‹ System.out.println(2 > 1); // å³ç§» 2 System.out.println(0xffffffff >>> 3); // æ— ç¬¦å·å³ç§»ï¼ˆå¿½ç•¥æ‰ç¬¦å·ä½ï¼Œå¯¹ç¬¦å·ä½ä¹Ÿä¼šç§»åŠ¨ï¼‰ System.out.println(8 | 0); // ä½æˆ– 8 System.out.println(8 & 0); // ä½ä¸ 0 System.out.println(8 ^ 0); // å¼‚æˆ– 8 System.out.println(~8); // ä½é -9 æ–¹æ³• æ–¹æ³•ç­¾ååŒ…æ‹¬æ–¹æ³•åç§°ä¸å‚æ•°åˆ—è¡¨ æ˜¯æ–¹æ³•çš„å”¯ä¸€æ ‡è¯† æ–¹æ³•è°ƒç”¨ ç›´æ¥è°ƒç”¨ èµ‹å€¼è°ƒç”¨ é€’å½’è°ƒç”¨ å‚æ•°çš„ä¼ é€’ åœ¨JAVAä¸­ å‚æ•°éƒ½æ˜¯é€šè¿‡å€¼æ¥è¿›è¡Œä¼ é€’çš„ å½¢å‚ï¼šæ–¹æ³•å®šä¹‰é˜¶æ®µ å®å‚ï¼šæ–¹æ³•è°ƒç”¨é˜¶æ®µ è¦é¿å…ä½¿ç”¨Objectä½œä¸ºå¯å˜å‚æ•° å…¥å‚ä¿æŠ¤ï¼šå¯¹äºå…¥å‚æ•°æ®é‡è¿›è¡Œåˆ¤æ–­æ§åˆ¶ å¤„ç†ä¸äº† ç›´æ¥è¿”å›é”™è¯¯ å‚æ•°æ ¡éªŒï¼šå¯¹äºå¤–éƒ¨çš„è¾“å…¥ éƒ½éœ€è¦æ ¡éªŒ åŸºäºé˜²å¾¡å¼ç¼–ç¨‹ç†å¿µ ä½†æ˜¯å¯¹äºä¸€äº›åº•å±‚çš„æ–¹æ³•å°±ä¸å¿…æ ¡éªŒ è¶Šé è¿‘å¤–éƒ¨ è¶Šéœ€è¦æ ¡éªŒ ä¿®é¥°ç¬¦ è®¿é—®æƒé™ä¿®é¥°ç¬¦ private public protected static é™æ€æ–¹æ³• å±äºç±»æœ¬èº« final æ— æ³•è¢«å­ç±»é‡å†™ default æ¥å£é»˜è®¤æ–¹æ³• abstract æŠ½è±¡æ–¹æ³• synchronized åŒæ­¥ æ–¹æ³•é‡è½½ æŒ‡åœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œå…è®¸å­˜åœ¨ä¸€ä¸ªä»¥ä¸Šçš„åŒåæ–¹æ³•ï¼Œåªè¦å®ƒä»¬çš„å‚æ•°åˆ—è¡¨ä¸åŒå³å¯ï¼Œä¸ä¿®é¥°ç¬¦å’Œè¿” å›å€¼ç±»å‹æ— å…³ é‡è½½å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç¡®å®šè°ƒç”¨çš„æ–¹æ³• ä¹Ÿè¢«ç§°ä¸ºé™æ€ç»‘å®š void test(){ f(1); } // é‡è½½æ–¹æ³•çš„é€‰æ‹©ï¼š void f(int i){} // 1. ç²¾ç¡®åŒ¹é… void f(long i){} // 2. åŸºæœ¬ç±»å‹ä¼šè‡ªåŠ¨è½¬æ¢æˆæ›´å¤§çš„æ•°æ®ç±»å‹ void f(Integer i){} // 3. è‡ªåŠ¨è£…ç®±æ‹†ç®± void f(Object i){} // 4. å‘ä¸Šè½¬å‹è¿›è¡ŒåŒ¹é… void f(Integer... i){} // 5. æœ€ç»ˆé€šè¿‡å¯å˜å‚æ•°åŒ¹é… æ–¹æ³•é‡å†™ å¯¹äºå­ç±» å…¶å¯ä»¥æ”¹å˜çˆ¶ç±»çš„æ–¹æ³•å®ç° çˆ¶ç±»æ— æ³•è°ƒç”¨åœ¨çˆ¶ç±»æ²¡æœ‰å®šä¹‰çš„æ–¹æ³• çˆ¶ç±»å¯ä»¥è°ƒç”¨åˆ°å­ç±»é‡å†™çš„çˆ¶ç±»çš„æ–¹æ³• å­ç±»é‡å†™çš„æ¡ä»¶ï¼š åªèƒ½é’ˆå¯¹éé™æ€ éfinal éæ„é€ æ–¹æ³• è®¿é—®æƒé™ä¸èƒ½å˜å° é‡å†™æ–¹æ³•çš„è¿”å›å€¼ç±»å‹è¦ T super çˆ¶ç±»çš„è¿”å›å€¼ç±»å‹ å—æ£€å¼‚å¸¸çš„ç±»å‹åŒä¸Š æ–¹æ³•ç­¾åéœ€è¦ä¸çˆ¶ç±»ä¸€è‡´ æ„é€ æ–¹æ³• ä¸èƒ½ç»§æ‰¿ ä¸èƒ½è¦†å†™ ä¸èƒ½ç›´æ¥è°ƒç”¨ æ–¹æ³•åç§°å¿…é¡»ä¸ç±»åç›¸åŒ æ²¡æœ‰è¿”å›ç±»å‹ é»˜è®¤æä¾›äº†ä¸€ä¸ªæ— å‚æ„é€  å¯ä»¥ä¸ºprivate ç±»å†…æ–¹æ³• å¤–éƒ¨ä½¿ç”¨é™æ€æˆå‘˜æ—¶ å°½é‡ä½¿ç”¨ ç±»å.é™æ€æˆå‘˜ æ¥è°ƒç”¨ é™æ€æ–¹æ³•ï¼š ä¸èƒ½ä½¿ç”¨å®ä¾‹æˆå‘˜ ä¸èƒ½ä½¿ç”¨superä¸thiså…³é”®å­— getter ä¸ setter ä¸ºä»€ä¹ˆä½¿ç”¨ï¼š æ»¡è¶³é¢å‘å¯¹è±¡çš„å°è£…ç‰¹æ€§ åˆ©äºç»Ÿä¸€æ§åˆ¶ æƒé™... å‡ ç§æƒ…å†µè­¦æƒ•ï¼š åœ¨æ–¹æ³•ä¸­æ·»åŠ äº†ä¸šåŠ¡é€»è¾‘ä¼šå¢åŠ æ’æŸ¥é—®é¢˜çš„éš¾åº¦ åŒæ—¶å®šä¹‰getxxxä¸isxxxä¼šè¿·æƒ‘ç¨‹åºå‘˜ æ–¹æ³•å‚æ•°åç§°ä¸æˆå‘˜å˜é‡åç§°ç›¸åŒ è¿™ç‚¹åœ¨IDEçš„ä½¿ç”¨ä¸‹ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ ç‰¹æ®Šæ–¹æ³• finalizeæ–¹æ³• mainæ–¹æ³• åŒæ­¥å¼‚æ­¥ å¼‚æ­¥å¤„ç†çš„ä»»åŠ¡æ˜¯éæ—¶é—´æ•æ„Ÿçš„ å¼‚æ­¥è°ƒç”¨éœ€è¦é€šè¿‡è¯¸å¦‚è½®è¯¢çš„æ–¹å¼è·å–æ‰§è¡Œç»“æœ è½®è¯¢ä¼šå¢åŠ æœºå™¨çš„å‹åŠ› æµç¨‹æ§åˆ¶ é¡ºåºç»“æ„ åˆ†æ”¯ç»“æ„ if if-else if-else if-else switch å¾ªç¯ç»“æ„ forå¾ªç¯ for(åˆå§‹åŒ–è¡¨è¾¾å¼â‘ ; å¸ƒå°”è¡¨è¾¾å¼â‘¡; æ­¥è¿›è¡¨è¾¾å¼â‘£){ å¾ªç¯ä½“â‘¢ } whileå¾ªç¯ åˆå§‹åŒ–è¡¨è¾¾å¼â‘  while(å¸ƒå°”è¡¨è¾¾å¼â‘¡){ å¾ªç¯ä½“â‘¢ æ­¥è¿›è¡¨è¾¾å¼â‘£ } do...whileå¾ªç¯ åˆå§‹åŒ–è¡¨è¾¾å¼â‘  do{ å¾ªç¯ä½“â‘¢ æ­¥è¿›è¡¨è¾¾å¼â‘£ }while(å¸ƒå°”è¡¨è¾¾å¼â‘¡) for å’Œ while çš„å°åŒºåˆ«ï¼š æ§åˆ¶æ¡ä»¶è¯­å¥æ‰€æ§åˆ¶çš„é‚£ä¸ªå˜é‡ï¼Œåœ¨forå¾ªç¯ç»“æŸåï¼Œå°±ä¸èƒ½å†è¢«è®¿é—®åˆ°äº†ï¼Œè€Œwhileå¾ªç¯ç»“æŸè¿˜å¯ä»¥ç»§ ç»­ä½¿ç”¨ï¼Œå¦‚æœä½ æƒ³ç»§ç»­ä½¿ç”¨ï¼Œå°±ç”¨whileï¼Œå¦åˆ™æ¨èä½¿ç”¨forã€‚åŸå› æ˜¯forå¾ªç¯ç»“æŸï¼Œè¯¥å˜é‡å°±ä»å†…å­˜ä¸­æ¶ˆ å¤±ï¼Œèƒ½å¤Ÿæé«˜å†…å­˜çš„ä½¿ç”¨æ•ˆç‡ã€‚ åœ¨å·²çŸ¥å¾ªç¯æ¬¡æ•°çš„æ—¶å€™ä½¿ç”¨æ¨èä½¿ç”¨forï¼Œå¾ªç¯æ¬¡æ•°æœªçŸ¥çš„æ—¶æ¨èä½¿ç”¨while è·³å‡ºè¯­å¥ continue break ç”¨åœ¨å¾ªç¯ä¸­ ç”¨åœ¨switchä¸­ æ­»å¾ªç¯ åµŒå¥—å¾ªç¯ æ•°ç»„ æ•°ç»„å°±æ˜¯å­˜å‚¨æ•°æ®é•¿åº¦å›ºå®šçš„å®¹å™¨ï¼Œä¿è¯å¤šä¸ªæ•°æ®çš„æ•°æ®ç±»å‹è¦ä¸€è‡´ã€‚ å®šä¹‰ int arr = new int[3]; int arr = new int[]{1,2,3}; è®¿é—® int a = arr[2]; int l = arr.length; == ä¸ equals == è¿ç®—ç¬¦æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€ equalsé»˜è®¤å®ç°ä¹Ÿæ˜¯æ¯”è¾ƒåœ°å€ï¼Œå¦‚æœé‡å†™äº†equalsï¼Œå¯ä»¥æ ¹æ®ç›¸åº”çš„é€»è¾‘æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ hashCode ä¸ equals å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ hashcode ä¸€å®šä¹Ÿæ˜¯ç›¸åŒçš„ ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰,å¯¹ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«è°ƒç”¨ equals æ–¹æ³•éƒ½è¿”å› true ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ å› æ­¤ï¼Œequals æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ hashCode æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›– hashCode() çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§ç”Ÿç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™ hashCode()ï¼Œåˆ™è¯¥ class çš„ä¸¤ä¸ªå¯¹è±¡æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰ finalå…³é”®å­— ä¿®é¥°ç±»ï¼šç±»æ— æ³•ç»§æ‰¿ ä¿®é¥°å˜é‡ï¼šèµ‹å€¼ä¹‹åæ— æ³•ä¿®æ”¹ ä¿®é¥°æ–¹æ³•ï¼šæ— æ³•è¢«å­ç±»é‡å†™ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-16 07:24:42 "},"ç¼–ç¨‹è¯­è¨€/JAVA/Javaè°œé¢˜.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/Javaè°œé¢˜.html","title":"Javaè°œé¢˜","keywords":"","body":"Java è°œé¢˜ è¡¨è¾¾å¼ å¥‡æ•°æ€§ x % 2 == 1 // ç”¨æ¥åˆ¤æ–­xæ˜¯å¦ä¸ºå¥‡æ•° å½“ x ä¸ºè´Ÿæ•°æ—¶, è¯¥è¡¨è¾¾å¼æ°¸ä¸æˆç«‹ å½“å–ä½™æ“ä½œè¿”å›ä¸€ä¸ªéé›¶ç»“æœæ—¶ ä¸å·¦æ“ä½œæ•°æ‹¥æœ‰ç›¸åŒçš„æ­£è´Ÿç¬¦å· -1 % 2 == -1 æ‰¾é›¶æ—¶åˆ» æµ®ç‚¹æ•°é—®é¢˜ 2.00 - 1.10 != 0.9 // true 2.00 - 1.10 == 0.8999999999999999 // true é•¿æ•´é™¤ long a = 24*60*60*1000*1000 long b = 24*60*60*1000 a / b == 5 // true åŸå› åœ¨äºaçš„è¡¨è¾¾å¼è®¡ç®—æ—¶æº¢å‡ºäº† å®ƒä»¥intçš„æ–¹å¼è®¡ç®—æœ€åæ‰å­˜å…¥a a = 24L*60*60*1000*1000 a / b == 1000 // true åˆçº§é—®é¢˜ 12345 + 5432l == 17777 // true ä¸»è¦å°å†™l ä¸æ•°å­—1çš„åŒºåˆ« å¤šé‡è½¬å‹ (int)(char)(byte)-1 == 65535 // true 1.ä»intçš„-1è½¬ä¸ºbyteçš„-1 2.ä»byteçš„-1è½¬ä¸ºchar å‘ç”Ÿäº†ç¬¦å·æ‰©å±•ï¼ˆcharæ˜¯æ— ç¬¦å·çš„ -1ä¼šè¢«è½¬ä¸º65535ï¼‰ 3.ä»charè½¬ä¸ºint å¦‚æœé€šè¿‡è§‚å¯Ÿä¸èƒ½ç¡®å®šæˆè¡Œå°†è¦åšä»€ä¹ˆ é‚£ä¹ˆå®ƒåšçš„å¾ˆæœ‰å¯èƒ½å°±ä¸æ˜¯ä½ æƒ³è¦çš„ äº’æ¢å†…å®¹ x ^= y^= x^= y // ä»€ä¹ˆåƒåœ¾ä»£ç ? åœ¨å•ä¸ªè¡¨è¾¾å¼ä¸­ä¸è¦å¯¹ç›¸åŒçš„å˜é‡èµ‹å€¼ä¸¤æ¬¡ Dos int i = 0 true ? 'X' : 0 // 'X' true ? 'X' : i // 88 ä¸‰å…ƒè¡¨è¾¾å¼çš„å¦‚æœç¬¬äºŒä¸ªæ“ä½œæ•°ä¸ç¬¬ä¸‰ä¸ªæ“ä½œæ•°ç±»å‹ç›¸åŒ åˆ™è¿™ä¸ªç±»å‹å°±æ˜¯è¡¨è¾¾å¼çš„ç±»å‹ å¦åˆ™å¦‚æœç±»å‹ä¸åŒ è¾ƒå°çš„ç±»å‹ä¼šè¢«æå‡ä¸ºèŒƒå›´è¾ƒå¤§çš„é‚£ä¸ªç±»å‹ æ¡ä»¶è¡¨è¾¾å¼çš„æ“ä½œæ•°ç±»å‹åº”è¯¥ç›¸åŒ åŠæ–¤ short x = 0 int i =123456 x = x+i // ç¼–è¯‘é”™è¯¯ x+=i // ä¼šè‡ªåŠ¨è½¬å‹-7616 ä¸è¦å°†å¤åˆèµ‹å€¼æ“ä½œç”¨äºintç±»å‹ä»¥ä¸‹çš„ ç”¨åœ¨intç±»å‹ä¸Š ç¡®ä¿å³ä¾§ç±»å‹ä¸æ¯”intç±»å‹å¤§ å­—ç¬¦ä¸² æœ€åçš„ç¬‘å£° System.out.println('H' + 'A'); // 137 åŠ å·è¿ç®—ç¬¦åœ¨ä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¸æ˜¯å­—ç¬¦ä¸²çš„æƒ…å†µä¸‹, æ‰§è¡Œçš„å°†ä¼šæ˜¯åŠ æ³• è€Œéå­—ç¬¦ä¸²è¿æ¥, ä¸¤ä¸ªcharå˜é‡è¢«æå‡ä¸ºintäº† è½¬ä¹‰å­—ç¬¦çš„æºƒè´¥ System.out.println(\"a\\u0022.length()) // æ­£å¸¸è¿è¡Œ \\u0022 ç­‰åŒäº \" é€‰æ‹©è½¬ä¹‰å­—ç¬¦ è€Œéè½¬ä¹‰unicode å¯æ¶çš„unicode /** * F:\\user\\data ä¸‹å­˜æ”¾äº†xxx * @author MY * @date 2020/9/15 10:38 */ public class Main { public static void main(String[] args) { System.out.println(\"hello\"); } } è¿™æ®µä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ åŸå› åœ¨ç¬¬ä¸€è¡Œè·¯å¾„çš„\\u ç¼–è¯‘å™¨ä¼šè®¤ä¸ºå…¶æ˜¯ä¸€ä¸ªunicodeç¼–ç  æ‰¾ä¸åˆ°\\uxxxè¿™ä¸ªç¼–ç  ç¼–è¯‘å°±ä¼šå‡ºé”™ å­—ç¬¦ä¸²å¥¶é…ª byte[] bytes = new byte[256]; for(int i=0;i è¿™æ®µä»£ç æ‰€äº§ç”Ÿå‡ºçš„å­—ç¬¦ä¸²æ˜¯åœ¨ä¸åœçš„å¹³å°ä¸Šæ˜¯ä¸ç¡®å®šçš„, ä¸»è¦æ˜¯ç¼–ç çš„é—®é¢˜ å³åœ¨ä½¿ç”¨æ¯”ç‰¹æ•°ç»„ç”Ÿæˆå­—ç¬¦ä¸²æ—¶è¦æ˜¾å¼æŒ‡å®šç¼–ç  æ–œæ çš„å—å®³è€… \"note.ismy.wang\".replaceAll(\".\",\"/\") // è¾“å‡ºç»“æœï¼š////////////// é—®é¢˜åœ¨äºreplaceAll ä¼ é€’çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼çš„å—å®³è€… String.class.getName().replaceAll(\"\\\\.\",File.separator) ä¸Šé¢çš„ä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸ï¼šIllegalArgumentExceptionï¼šcharacter to be escaped is missing åŸå› åœ¨äºreplaceAllç¬¬äºŒä¸ªå‚æ•°ä¼šå¯¹å­—ç¬¦ä¸²è¿›è¡Œè½¬ä¹‰, å¦‚æœè¾“å…¥\\ å°±ä»£è¡¨å­—ç¬¦ä¸²æœªç»“æŸ è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨replaceæ–¹æ³•ï¼š String.class.getName().replace(\".\",File.separator) URLçš„æ„šå¼„ https://javascript System.out.println(\"hello world\"); ä¸Šé¢è¿™æ®µä»£ç ç¼–è¯‘ è¿è¡Œæ²¡é—®é¢˜ åŸå› åœ¨ä¸https:è¢«è¯†åˆ«ä¸ºä¸€ä¸ªæ ‡ç­¾ åé¢çš„// åˆ™è¢«è¯†åˆ«ä¸ºæ³¨é‡Š æŸäº›ä¸œè¥¿çœ‹èµ·æ¥è¿‡äºå¥‡æ€ª ä»¥è‡³äºä¸æƒ³å¯¹çš„ é‚£ä¹ˆææœ‰å¯èƒ½æ˜¯é”™çš„ ä¸åŠ³è€Œè· Random rnd = new Random(); StringBuffer word = null; switch(rnd.nextInt(2)){ case 1:word = new StringBuffer('P'); case 2: word = new StringBuffer('G'); default:word = new StringBuffer('M'); word.append('a'); word.append('i'); word.append('n'); System.out.println(word); } System.out.println(word); æœ€ç»ˆåªä¼šæ‰“å°å‡ºain ä¸‰ä¸ªbug: nextIntæœ€ç»ˆçš„å–å€¼èŒƒå›´æ˜¯0-1 åˆ›å»ºStringBufferä¼ å…¥charæ—¶ä¼šå˜æˆint å¯¼è‡´å˜æˆåˆ›å»ºcharå¤§å°çš„ç¼“å†²åŒº caseä¸åŠ break å¾ªç¯ å°½æƒ…äº«å—å¾ªç¯ for(byte b = Byte.MIN_VALUE;b è¿™æ®µä»£ç ä»€ä¹ˆä¹Ÿä¸ä¼šæ‰“å° ä¸»è¦æ˜¯å› ä¸º0x90 æ˜¯åå…­æœºåˆ¶ ä»£è¡¨çš„æ˜¯åè¿›åˆ¶çš„144 è¿™å·²ç»è¶…å‡ºäº†byteçš„è¡¨ç¤ºèŒƒå›´ï¼ˆ-128 - 127ï¼‰ æ— æƒ…çš„++ int j = 0; for (int i = 0; i jçš„æœ€ç»ˆç»“æœä¸º0, j = j++ç­‰åŒäºï¼š int t = j; j = j + 1; j = t; åœ¨å¾ªç¯ä¸­ int count = 0; for (int i = 0; i å¾ªç¯ç»“æŸæ—¶ countç­‰äºå¤šå°‘ï¼Ÿ ç­”æ¡ˆæ˜¯è¿™ä¸ªå¾ªç¯æ°¸è¿œä¸ä¼šåœæ­¢, å¾ªç¯ç»§ç»­æ¡ä»¶æ°¸è¿œä¸ºçœŸ, å› ä¸ºiæº¢å‡ºäº† å˜å¹»è«æµ‹çš„å€¼ int i=0; while(0xffffffff è¿™ä¸ªå¾ªç¯ä¹Ÿä¼šæ— é™å¾ªç¯, ç§»ä½æ“ä½œç¬¦åªä¼šç”¨å…¶å³æ“ä½œæ•°çš„ä½äº”ä½åšç§»ä½æ“ä½œ,å¯¹äºlongå˜é‡ æ˜¯ä½å…­ä½ æ‰€ä»¥ä¸è®ºiå¤šå¤§, è¿™é‡Œièƒ½åšç§»ä½æ“ä½œçš„æœ€å¤§åªèƒ½è¾¾åˆ°32 å¦‚æœå¯èƒ½çš„è¯ ç§»ä½é•¿åº¦åº”è¯¥æ˜¯å¸¸é‡ å¾ªç¯è€… double i = Double.POSITIVE_INFINITY; while(i == i + 1); // æ— é™å¾ªç¯ æ— ç©·å¤§+1è¿˜æ˜¯æ— ç©·å¤§ ä¸€ä¸ªæµ®ç‚¹æ•°å€¼è¶Šå¤§, å®ƒå’Œå…¶åç»§æ•°å€¼é—´éš”è¶Šå¤§ æµ®ç‚¹æ•°ä½¿ç”¨äº†å›ºå®šçš„æœ‰æ•ˆä½æ¥è¡¨ç¤º, æ‰€ä»¥ä¸€ä¸ªå¾ˆå¤§çš„æ•°+1ä¸ä¼šæ”¹å˜å®ƒçš„å€¼ å¾ªç¯è€…çš„æ–°å¨˜ double i = Double.NaN; while (i != i); // æ— é™å¾ªç¯ Nah != Nah å¾ªç¯è€…çš„çˆ±å­ String i = \"cccc\"; while (i != i + 0); // æ— é™å¾ªç¯ å¾ªç¯è€…çš„é¬¼é­‚ short i = -1; while (i != 0){ i >>>=1; } // æ— é™å¾ªç¯ shortä¼šè¢«æå‡ä¸ºint 0xffffffff å³ç§»ä¹‹å å˜æˆintçš„0x7fffffff ååˆå˜æˆshort è¢«ç æ‰é«˜4ä¸º å˜æˆ 0xffff å›åˆ°äº†-1 æ­»å¾ªç¯ å¾ªç¯è€…çš„è¯…å’’ Integer i = 129; Integer j = 129; while (i å½“ä¸¤ä¸ªæ•°éƒ½æ˜¯åŒ…è£…ç±»å‹æ—¶ æ¯”è¾ƒæ“ä½œç¬¦æ‰§è¡Œçš„æ˜¯å€¼æ¯”è¾ƒ åˆ¤ç­‰æ“ä½œç¬¦æ‰§è¡Œçš„æ˜¯å¼•ç”¨æ¯”è¾ƒ å¾ªç¯è€…é‡åˆ°äº†ç‹¼äºº Integer i = Integer.MIN_VALUE; while (i != 0 && i == -i); // æ­»å¾ªç¯ è¿˜æ˜¯æ•´æ•°æº¢å‡ºæçš„é¬¼ è¢«è®¡æ•°å‡»å€’äº† int count = 0; for(float f = Integer.MAX_VALUE; f fçš„å€¼å¤ªå¤§äº† ä»¥è‡³äº+50 è¿˜æ˜¯ç­‰äºf ä¸è¦ä½¿ç”¨æµ®ç‚¹æ•°ä½œä¸ºå¾ªç¯ç´¢å¼• åˆ†åˆ†é’Ÿ int count = 0; for (int i=0;i è¿ç®—ç¬¦ä¼˜å…ˆçº§é—®é¢˜ï¼šå–æ¨¡ä¸ä¹˜æ³•ä¼˜å…ˆçº§ç›¸åŒ å¼‚å¸¸ ä¼˜æŸ”å¯¡æ–­ boolean f(){ try { return true; }finally { return false; } } è¿™æ®µä»£ç è¿”å›false finallyè¯­å¥æ€»æ˜¯åœ¨ç¦»å¼€tryåæ‰§è¡Œ finallyä¸è¦ä½¿ç”¨ return break continue throw æç«¯ä¸å¯æ€è®® try { System.out.println(\"hw\"); } catch (IOException e){} // 1.ç¼–è¯‘é”™è¯¯ try { }catch (Exception e){} // 2. æ­£å¸¸ç¼–è¯‘ // 3.æ­£å¸¸ç¼–è¯‘ interface i1{ void f() throws ClassNotFoundException,InterruptedException; } interface i2 { void f() throws IOException,InterruptedException; } interface i3 extends i1,i2{ } new i3(){ @Override public void f() throws InterruptedException {} }; å¯¹äºå—æ£€å¼‚å¸¸, å¦‚æœcatchåˆ°çš„å¼‚å¸¸æ²¡æœ‰åœ¨tryä»£ç å—å£°æ˜, åˆ™æ— æ³•ç¼–è¯‘ ä½†æ˜¯JLSè§„å®šExceptionä¸Throwableé™¤å¤–, è¿™äº›å¼‚å¸¸å¯ä»¥æ²¡æœ‰åœ¨tryä¸­å£°æ˜ ä¸€ä¸ªæ–¹æ³•å¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸æ˜¯å…¶æ‰€æœ‰çˆ¶ç±»/çˆ¶æ¥å£å£°æ˜çš„å¼‚å¸¸ç±»å‹çš„äº¤é›† ä¸å—æ¬¢è¿çš„i private static final int i; static { try { f(); }catch (Exception e){ i=-1; } } static void f() throws Exception{ throw new Exception(\"eee\"); } è¿™æ®µä»£ç ä¼šå› ä¸ºç¼–è¯‘å™¨æ— æ³•ç¡®å®šiæ˜¯å¦åªè¢«èµ‹å€¼ä¸€æ¬¡è€Œç¼–è¯‘å¤±è´¥ ä¸è¾è€Œåˆ« try { System.out.println(\"hello\"); System.exit(-1); }finally { System.out.println(\"world\"); } System.exitä¼šç«‹å³åœæ­¢æ‰€æœ‰çš„ç¨‹åºçº¿ç¨‹ tryä»£ç å—å‹æ ¹å°±ä¸ä¼šå®Œæˆ ä¹Ÿå°±ä¸ä¼šæ‰§è¡Œfinallyäº† ä¸æƒ…æ„¿çš„å¯¹è±¡ class Object{ private Object obj = new Object(); public Object() {} } è¿™ä¸ªå¯¹è±¡newçš„æ—¶å€™ä¼šæŠ›å‡ºæ ˆæº¢å‡ºå¼‚å¸¸ ç¹ççš„æµå…³é—­ FileInputStream in1 = null; FileInputStream in2 = null; try { in1 = new FileInputStream(\"xxx\"); in2 = new FileInputStream(\"xxx\"); }finally { if (in1 != null) in1.close(); if (in2 != null) in1.close(); } è¿™ä¸ªç¨‹åºçš„é—®é¢˜åœ¨äºin1 closeæŠ›å‡ºå¼‚å¸¸å°±ä¼šå¯¼è‡´in2ä¸ä¼šå…³é—­ è§£å†³æ–¹æ³•ä½¿ç”¨JDK7 çš„è‡ªåŠ¨å…³é—­ç‰¹æ€§ å¾ªç¯ä¸­æŠ›å‡ºå¼‚å¸¸ ä½¿ç”¨å¼‚å¸¸æ¥æ§åˆ¶å¾ªç¯ ä¸ä»…ä»£ç éš¾ä»¥é˜…è¯» å¹¶ä¸”é€Ÿåº¦ååˆ†æ…¢ å¯æ€•çš„é€’å½’ public static void main(String[] args){ work(); System.out.println(\"done\"); } static void work(){ try { work(); }finally { work(); } } è¿™ä¸ªç¨‹åºä¼šçš„è°ƒç”¨ä¼šä»æ ¹èŠ‚ç‚¹ç”Ÿæˆä¸€é¢—å®Œå…¨äºŒå‰æ ‘ æ ‘çš„æ·±åº¦ä¸ºè™šæ‹Ÿæœºçš„æ ˆæ·±åº¦ è¿™ä¸ªé€’å½’è™½ç„¶ä¸æ˜¯æ— é™çš„ ä½†å¯¹äººç±»çš„ç”Ÿå‘½è€Œè¨€ä¹Ÿè¿‘ä¹æ— ç©·äº† ç±» è¿·æƒ‘çš„é‡è½½ public static void main(String[] args){ new Main().confusing(null); } public void confusing(Object obj){ System.out.println(\"obj\"); } public void confusing(double[] doubles){ System.out.println(\"doubles\"); } æœ€ç»ˆä¼šæ‰“å°å‡ºdoubles æ–¹æ³•çš„é€‰æ‹©æ˜¯ä»çª„åˆ°å®½çš„ ç‹¸çŒ«æ¢ç‹—å­ class Animal{ private static int count; public void incr(){count++;} } class Dog extends Animal{ public Dog() { incr();} } class Cat extends Animal{ public Cat() { incr();} } è¿™æ®µç¨‹åºdogä¸catçš„countä¼šç›¸äº’å½±å“ ä¼šé£çš„å¤è¯»é¸­ class Duck{ public static void fly(){ System.out.println(\"i fly!\"); } } class RepeatDuck extends Duck{ public static void fly(){} } Duck duck = new RepeatDuck(); duck.fly(); // print i fly! é™æ€æ–¹æ³•çš„è°ƒç”¨ä¸å­˜åœ¨å¤šæ€ æˆ–è®¸é™æ€æ–¹æ³•ä¹‹æ‰€ä»¥å«é™æ€å°±æ˜¯å› ä¸ºä¸å­˜åœ¨åŠ¨æ€çš„åˆ†æ´¾æœºåˆ¶ é”™è¯¯çš„æ—¶é—´ public class Main { private static final Main instance= new Main(); private static final long i = System.currentTimeMillis(); private final long initTime; public Main() { initTime = i; System.out.println(initTime); } } è¿™ä¸ªç±»ä¼šå¾ªç¯åˆå§‹åŒ– å¯¼è‡´initTimeç¬¬ä¸€æ¬¡æ˜¯ä¸º0 å½“å¿ƒè¿™ç§æƒ…å†µ ä¸æ˜¯ä½ çš„ç±»å‹ String s = null; s instanceof Object; // false å·¦æ“ä½œç¬¦ä¸ºnullå°±ä¼šè¿”å›false new Date() instanceof String; // ç¼–è¯‘é”™è¯¯ å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯ç±» å…¶ä¸­ä¸€ä¸ªå¿…é¡»æ˜¯å¦å¤–ä¸€ä¸ªçš„å­ç±»å‹ (String)new Object(); // æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ å‘è‚²ä¸è‰¯ class Father{ private final String name; public Father() { name = makeName(); } protected String makeName(){ return \"i am your father\"; } @Override public String toString() { return name; } } class Son extends Father{ String pname; public Son(String name) { this.pname = name; } @Override protected String makeName() { return \"i am \" + pname; } } åˆ›å»ºä¸€ä¸ªSonå¯¹è±¡ æœ€ç»ˆä¼šæ‰“å°å‡º i am null ,å…³é”®åœ¨äºå­ç±»è¿˜æ²¡åˆå§‹åŒ–å®Œå…¨ nameå°±å·²ç»å®Œæˆåˆå§‹åŒ– null class Null{ public static void print(){ System.out.println(\"hello world\"); } } ((Null)null).print(); // å¯ä»¥æ‰“å° é™æ€æ–¹æ³•çš„è°ƒç”¨åªä¸ç±»å‹ç›¸å…³ è¿™æˆ–è®¸æ˜¯Javaçš„è®¾è®¡ç¼ºé™· é™æ€æ–¹æ³•å‹æ ¹å°±ä¸èƒ½é€šè¿‡å¯¹è±¡å®ä¾‹è°ƒç”¨ åˆ›å»ºå¯¹è±¡ for (int i = 0; i è¿™æ®µä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ ä¸€ä¸ªæœ¬åœ°å˜é‡å£°æ˜ä½œä¸ºä¸€æ¡è¯­å¥åªèƒ½å‡ºç°åœ¨è¯­å¥å—ä¸­ åº“ å¤§é—®é¢˜ BigInteger one = new BigInteger(\"1\"); BigInteger two = new BigInteger(\"2\"); one.add(two); System.out.println(one); // print 1 BigIntegerçš„å®ä¾‹æ˜¯ä¸å¯å˜çš„ ç®—æœ¯æ“ä½œåªä¼šè¿”å›æ–°å®ä¾‹è€Œéç›´æ¥ä¿®æ”¹å¯¹è±¡ åˆ†ä¸æ¸…äºº class Person { public final String name; public Person(String name) { this.name = name; } @Override public boolean equals(Object o){ if (o instanceof Person p) return p.name.equals(this.name); return false; } } Set personSet = new HashSet<>(); personSet.add(new Person(\"cxk\")); System.out.println(personSet.contains(new Person(\"cxk\"))); // false ä»»ä½•æ—¶å€™ åªè¦é‡å†™äº†equalsæ–¹æ³• å°±å¿…é¡»é‡å†™hashCodeæ–¹æ³• equalsç›¸ç­‰çš„å¯¹è±¡hashCodeå¿…é¡»ç›¸ç­‰ ä½†hashCodeç›¸ç­‰ä¸ä»£è¡¨equalsç›¸ç­‰ å…­äº²ä¸è®¤ class Person { public final String name; public Person(String name) { this.name = name; } public int hashCode(){ return name.hashCode();} public boolean equals(Person p){ return p.name.equals(this.name); } } è¿™ä¸ªç±»å£°æ˜è™½ç„¶å£°æ˜äº†hashCode ä½†æ˜¯è¿˜æ˜¯å’Œä¸Šé¢ä¸€ä¾‹ä¸€æ · è¿”å›false åŸå› åœ¨ä¸æˆ‘ä»¬é‡è½½äº†equalsæ–¹æ³• è€Œéé‡å†™ é‡è½½ä¸ºé”™è¯¯å’Œæ··ä¹±æä¾›äº†æœºä¼š ä¸ºé¿å…çŠ¯è¿™ç§é”™è¯¯ åŠ ä¸Š@Override æ··ä¹±çš„ä»£ä»· 766 - 066 == 712 // true ä»¥0å¼€å¤´çš„æ•´å‹å­—é¢å¸¸é‡ä¼šè¢«è§£é‡Šä¸ºå…«è¿›åˆ¶ ä¸è¦è¿™ä¹ˆåšï¼ï¼ï¼ ä¸€è¡Œä»£ç è§£å†³ // å»é™¤listä¸­çš„é‡å¤å…ƒç´ å¹¶ä¿æŒé¡ºåº return new ArrayList<>(new LinkedHashSet<>(originList)); // ä»¥,åé¢è·Ÿéšè€…0-nä¸ªç©ºæ ¼åˆ†å‰²æ–‡æœ¬ str.split(\",\\\\S*\"); // ä»¥å­—ç¬¦ä¸²å½¢å¼å±•ç¤ºæ•°ç»„ Arrays.toString(...); // åˆ¤æ–­ä¸€ä¸ªæ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºæœ‰å¤šå°‘1 Integer.bitCount(xxx); äº†è§£ç±»åº“å¯ä»¥èŠ‚çœå¤§é‡æ—¶é—´ä¸ç²¾åŠ› å¯æ€•çš„æ—¥æœŸAPI Calendar cal = Calendar.getInstance(); cal.set(2019,12,31); System.out.println(cal.get(Calendar.YEAR));//2020 Calendar æˆ– Date ä½¿ç”¨æ—¶ä¸€å®šè¦æ³¨æ„æ–‡æ¡£ åå­—æ¸¸æˆ Map map1 = new IdentityHashMap<>(); map1.put(new String(\"111\"),\"kk\"); map1.put(new String(\"111\"),\"dd\"); System.out.println(map1.size()); // 2 Map map2 = new IdentityHashMap<>(); map2.put(\"111\",\"kk\"); map2.put(\"111\",\"dd\"); System.out.println(map2.size()); // 1 IdentityHashMap æ˜¯åŸºäºå¼•ç”¨åˆ¤æ–­ä¸¤ä¸ªkeyæ˜¯å¦ç›¸ç­‰çš„ Java è¯­è¨€è§„èŒƒè§„å®šäº†å­—ç¬¦ä¸²å¸¸é‡ä¼šè¿›è¡Œå¤ç”¨ ä¼šæœ‰ç›¸åŒçš„å¼•ç”¨ ä¸ç”Ÿæ•ˆçš„ç»å¯¹å€¼ Math.abs(Integer.MIN_VALUE) * Note that if the argument is equal to the value of * {@link Integer#MIN_VALUE}, the most negative representable * {@code int} value, the result is that same value, which is * negative. å¥‡è‘©çš„æ’åº Integer[] a = new Integer[100]; Random rnd = new Random(); for (int i = 0; i (){ @Override public int compare(Integer o1, Integer o2) { return o1-o2; } }); System.out.println(Arrays.toString(a)); æ‰“å°å‡ºæ¥çš„æ•°ç»„åŸºæœ¬æ˜¯æ— åºçš„(æœ‰åºçš„å¯èƒ½æ€§éå¸¸å°) åŸå› åœ¨äºä½¿ç”¨çš„è¿™ä¸ªæ¯”è¾ƒå™¨ è¿™ä¸ªæ¯”è¾ƒå™¨é€šè¿‡å‡æ³•æ¥å®ç° åœ¨æ•°å€¼æ¯”è¾ƒå°çš„æƒ…å†µä¸‹æ²¡æœ‰ ä½†ä¸€æ—¦æ•°ç»„å…ƒç´ æå¤§æˆ–æå°åˆ™ä¼šå‘ç”Ÿæº¢å‡º å¯¼è‡´ç»“æœä¸æ­£ç¡® ç±»(å‡çº§ç‰ˆ) ç§äººé¢†åŸŸ class Base { public String name = \"cxk\";} class D extends Base {private String name = \"jntm\";} System.out.println(new D().name); // æ— æ³•ç¼–è¯‘ å¯¹äºæˆå‘˜å˜é‡ é€šè¿‡è¿™ç§å­ç±»æƒé™æ¯”çˆ¶ç±»æ›´å°çš„æ–¹å¼æ¥éšè— ä½†å¯¹äºæˆå‘˜æ–¹æ³• è¿™ç§å†™æ³•æ˜¯éæ³•çš„ è¿åäº†LSP éšè—ä¼šå¸¦æ¥æ··ä¹± æé¬¼æ›¿ä»£äº†æé€µ public class Main { public static void main(String[] args) { } } class String{} è¿™ä¸ªç¨‹åºå°†æ— æ³•å¯åŠ¨ æŠ¥é”™ï¼šåœ¨ç±» Main ä¸­æ‰¾ä¸åˆ° main æ–¹æ³• åŸå› å°±æ˜¯å› ä¸ºè¿™ä¸ªè‡ªå®šä¹‰çš„ String é¿å…é‡ç”¨å¹³å°ç±»çš„åå­— å¹¶ä¸”ä¸è¦å¤ç”¨java.langä¸­çš„ç±»å é˜´å½±ä¸­çš„ç±» class X{ static class Y { String Z = \"Z1\";} static C Y = new C(); } class C {String Z = \"Z2\";} System.out.println(X.Y.Z); // print Z2 å½“ä¸€ä¸ªå˜é‡å’Œä¸€ä¸ªç±»å‹å…·æœ‰ç›¸åŒåå­— å˜é‡åçš„ä¼˜å…ˆçº§æ›´é«˜ æ— æ³•è¦†å†™çš„æ–¹æ³• package p1; public class Click { public void click(){print();} void print(){ System.out.println(\"print\"); } } package p2; public class Main { public static void main(String[] args) { new Click(){ void click() { System.out.println(\"click\"); } // æ— æ³•è¦†å†™ }.click(); } } ä¸€ä¸ªåŒ…å†…ç§æœ‰çš„æ–¹æ³•ä¸èƒ½è¢«ä½äºå¦ä¸€ä¸ªåŒ…çš„æŸä¸ªæ–¹æ³•ç›´æ¥è¦†å†™ æ–¹æ³•é®è”½ import static java.util.Arrays.toString; public class Main { static void print(){System.out.println(toString(new int[]{1,2,3}));} // ç¼–è¯‘é”™è¯¯ æ‰¾ä¸åˆ°è¿™æ ·çš„toStringæ–¹æ³• } ç¼–è¯‘å¤±è´¥çš„åŸå› åœ¨äºæœ¬èº«å°±å±äºæŸä¸ªèŒƒå›´çš„æˆå‘˜çš„ä¼˜å…ˆçº§æ¯”é™æ€å¯¼å…¥çš„ä¼˜å…ˆçº§æ›´é«˜ é™æ€å¯¼è‡´ä½¿ç”¨åº”è¯¥ååˆ†å…‹åˆ¶ åå­—é‡ç”¨ è¦†å†™ class Base {public void f(){}} class D {public void f(){}} // è¦†å†™Base.f éšè— class Base {public static void f(){}} class D {public static void f(){}} // éšè—Base.f é‡å†™ class Base { public void f(){} public void f(int i){} // é‡è½½f } é®è”½ class Base { static String name = \"cxk\"; static void f(){ String name = \"jntm\"; // å˜é‡é®è”½ } } // ç»å¸¸ä½¿ç”¨çš„é®è”½: class Main { private String name; public Main(String name){ this.name = name; } } é®æ© class Main { static String System; // é®æ© java.lang.System } åº“(å‡çº§ç‰ˆ) ä¹’ä¹“ public static synchronized void main(String[] args) { new Thread(()->{ pong(); }).start(); System.out.println(\"ping\"); } static synchronized void pong(){ System.out.println(\"pong\"); } è¿™æ®µç¨‹åºping pongæ€»ä¼šæŒ‰ç…§é¡ºåºæ‰“å°å‡ºæ¥ é‡ç‚¹å°±åœ¨äºmainä¸pongéƒ½æ˜¯åŒæ­¥æ–¹æ³• ä¸ä¼šå¹¶å‘æ‰§è¡Œ åå°„çš„æ±¡æŸ“ Iterator iterator = new HashSet<>().iterator(); Method method = iteraor.getClass().getMethod(\"hasNext\"); System.out.println(method.invoke(iterator)); // IllegalAccessException åŸå› åœ¨äºè¿™ä¸ªè¿­ä»£å™¨çš„å®é™…å®ç°ç±»æ˜¯æŸä¸ªå†…éƒ¨ç±» Javaè¯­è¨€è§„èŒƒè§„å®šè®¿é—®ä½äºå…¶ä»–åŒ…ä¸­çš„éå…¬å…±ç±»å‹çš„æˆå‘˜æ˜¯ä¸åˆæ³•çš„ è¿™ä¸ªé—®é¢˜åœ¨ä½¿ç”¨äº†åå°„ä¹‹å å°±æ›´åŠ éš¾ä»¥å‘ç° åƒé¥­ç¡è§‰æ‰“è±†è±† class Cat { void eat(){ System.out.println(\"eat\"); } void sleep(){ System.out.println(\"sleep\"); } void live(){ new Thread(){ @Override public void run() { while (true){ eat(); sleep(); // ç¼–è¯‘é”™è¯¯ } } }.start(); } } è¿™ä¸ªç±»æ— æ³•é€šè¿‡ç¼–è¯‘ åŸå› åœ¨äºCatçš„sleepè¢«Thread.sleep é®è”½äº† äº‹å®è¯æ˜ ä½¿ç”¨Runnableåˆ›å»ºçº¿ç¨‹æ¯”ç»§æ‰¿Threadè¦æ›´æ–¹ä¾¿ ä¸¢å¤±çš„æ„é€ å™¨ class Outer { public class Inner{} } Outer.Inner.class.newInstance(); // NoSuchMethodException: Outer$Inner.() å¦‚æœä¸€ä¸ªç±»ä¸ºéé™æ€å†…éƒ¨ç±» é‚£ä¹ˆå®ƒçš„é»˜è®¤æ„é€ å‡½æ•°å°±ä¼šå˜æˆå˜æˆä¸€ä¸ªæºå¸¦ç€éšè—å‚æ•°çš„æ„é€ å™¨ è¿™ä¸ªå‚æ•°å°±æ˜¯å¤–å›´çš„å¯¹è±¡å®ä¾‹ åŒæ—¶ newInstanceè¿™ä¸ªæ–¹æ³•ç°åœ¨ä¹Ÿå·²ç»è¢«åºŸå¼ƒäº† ä¸æ¨èä½¿ç”¨ åº”è¯¥ä¼˜å…ˆä½¿ç”¨é™æ€æˆå‘˜ç±» hello ä¸ world String str = \"hello world\"; for (int i = 0; i è¿™é‡Œåœ¨writeçš„æ—¶å€™ charè¢«è½¬ä¸ºintäº† write(int) è¿™ä¸ªæ–¹æ³•åªæœ‰åœ¨é‡åˆ°\\nçš„byteè¡¨ç¤ºæ—¶æ‰ä¼šè‡ªåŠ¨flush çº¿ç¨‹ä¸­æ–­ Thread.currentThread().interrupt(); System.out.println(Thread.interrupted()); // true System.out.println(Thread.interrupted()); // false Thread.interrupted ä¼šæ¸…é™¤ä¸­æ–­çŠ¶æ€ å¤æ‚çš„åˆå§‹åŒ– public class Main { private static boolean init = false; static { var t = new Thread(){ @Override public void run() { init = true; } }; t.start(); try { t.join(); } catch (InterruptedException e) { e.printStackTrace(); } } public static synchronized void main(String[] args) { System.out.println(init); } } è¿™æ®µä»£ç ä¼šé€ æˆæ­»é” ä¸»çº¿ç¨‹ä½¿ç”¨çš„æ—¶å€™ ä¼šå¯¹ç±»è¿›è¡Œåˆå§‹åŒ– åˆå§‹åŒ–æ—¶ å¯åŠ¨äº†æ–°çº¿ç¨‹ æ–°çº¿ç¨‹ä¹Ÿä¼šæ£€æŸ¥ç±»çš„åˆå§‹åŒ– æ¥ç€å°±å¡æ­»åœ¨äº†è¿™é‡Œ è¦è®©ç±»çš„åˆå§‹åŒ–å°½å¯èƒ½ç®€å• é«˜çº§ æœ‰å®³çš„æ‹¬å· int i = -(2147483648); // é”™è¯¯ï¼šæ•´æ•°å¤ªå¤§ 2147483648 åªèƒ½ä½œä¸ºä¸€å…ƒæ“ä½œç¬¦çš„å³æ“ä½œæ•°ä½¿ç”¨ å¥‡æ€ªçš„å…³ç³» long x = Long.MAX_VALUE; double y = (double) Long.MAX_VALUE; long z = Long.MAX_VALUE - 1; x == y; // true y == z; // true x == z; // false == è¿ç®—ç¬¦ä¼šè¿›è¡ŒäºŒè¿›åˆ¶æ•°æ®ç±»å‹æå‡ ä¹Ÿå°±è¯´å¦‚æœä¸¤ä¸ªç±»å‹ä¸ç›¸åŒ åˆ™è¾ƒä½çš„é‚£ä¸ªç±»å‹ä¼šè¢«è½¬æ¢åˆ°è¾ƒé«˜çš„ç±»å‹ åŸç”Ÿç±»å‹çš„é”… class List{ java.util.List iterator(){ return new ArrayList(); } } List list = new List(); for(String s: list.iterator()){ // ç¼–è¯‘é”™è¯¯ï¼šä¸å…¼å®¹çš„ç±»å‹ System.out.println(s); } åŸç”Ÿç±»å‹ï¼šæ”¯æŒæ³›å‹ä½†æ˜¯æ²¡æœ‰ä½¿ç”¨æ³›å‹ åŸå› åœ¨äºåŸç”Ÿç±»å‹çš„æ³›å‹ä¸¢å¤±äº† è¿™ä¸ªæ—¶å€™iteratorè¿”å›çš„æ˜¯ArrayList() é¿å…ç¼–å†™åŸç”Ÿç±»å‹ æ³›å‹é®è”½ å†…éƒ¨ç±»ä¸­ä¹Ÿå¯ä»¥è®¿é—®åˆ°å¤–éƒ¨ç±»ä¸­çš„æ³›å‹å‚æ•° é¿å…è¿™ä¸ªé—®é¢˜ åºåˆ—åŒ–æ€æ‰‹ HashSet æˆ–è€… HashMap åœ¨ååºåˆ—åŒ–çš„æ—¶å€™ä¼šè°ƒç”¨å¯¹è±¡è‡ªèº«çš„æ–¹æ³• æ‰€ä»¥ä½¿ç”¨è¿™äº›é›†åˆçš„æ—¶å€™ æ³¨æ„ä¸è¦è®©è¿™äº›é›†åˆçš„å…ƒç´ å†…éƒ¨åˆæŒ‡å‘è¿™äº›é›†åˆ å¦åˆ™å°±ä¼šå‘ç”Ÿä¸€äº›éé¢„æœŸç»“æœ å‰ªä¸æ–­ç†è¿˜ä¹± public class Main { private String name = \"\"; public Main(String name) { this.name = name; } private String name(){return name;} private void run(){ new Main(\"cxk\"){ void print(){ System.out.println(name()); } }.print(); } public static void main(String[] args) { new Main(\"main\").run(); } } è¿™ä¸ªç¨‹åºä¹ä¸€çœ‹ä¼šç”±äºè°ƒç”¨äº†Mainä¸å­˜åœ¨çš„printæ–¹æ³•æ— æ³•é€šè¿‡ç¼–è¯‘ ä½†å…¶å®å‘ç°ä»–å¯ä»¥è®¿é—®printæ–¹æ³• é‡ç‚¹åœ¨äºæœ€ç»ˆæ‰“å°çš„å‡ºæ¥æ˜¯main è€Œécxk åŸå› åœ¨äºç§æœ‰æˆå‘˜å˜é‡æ˜¯æ— æ³•è¢«ç»§æ‰¿çš„ æ‰€ä»¥è¿™é‡Œè°ƒç”¨nameæ–¹æ³•æ‰“å°çš„æ˜¯mainæ–¹æ³•é‡ŒMainä¼ é€’çš„main ç±»å¸¸é‡çš„ç¼–è¯‘å¤„ç† public class Client { public static void main(String[] args) { System.out.println(Server.one); System.out.println(Server.two); System.out.println(Server.three); } } public class Server { public static final String one = \"1\"; public static final String two = \"2\"; public static final String three = \"3\"; } è¿™é‡Œå¦‚æœServerè¢«é‡æ–°ç¼–è¯‘ ä¼šæ‰“å°å‡ºä»€ä¹ˆï¼Ÿ ç­”æ¡ˆè¿˜æ˜¯å’ŒåŸæ¥ä¸€æ · Java è¯­è¨€è§„èŒƒè§„å®šå¸¸é‡åœ¨ç¼–è¯‘æ—¶éƒ½ä¼šç›´æ¥è¢«è½¬åŒ–ä¸ºå¸¸é‡å€¼ è€Œä¸ä¼šè¢«é—´æ¥å¼•ç”¨ è¿™ä¸ªæ—¶å€™å°±ç®—æŠŠServer.class åˆ æ‰ Clientä¹Ÿèƒ½æ­£å¸¸è¿è¡Œ å‡éšæœº æ‰“ä¹±æ•°ç»„æ—¶ç”¨Randomæ˜¯ä¸æ­£ç¡®çš„ ä½¿ç”¨Collection.shuffle é¤åç”œç‚¹ int count = 0; for(int =0;i Integer[]array = {3ï¼Œ1ï¼Œ4ï¼Œ1ï¼Œ5ï¼Œ9 }; Arrays.sort(array, new Comparator({ public int compare(Integer i1ï¼ŒInteger i2ï¼‰{ return i1i1 ?1:O); }); System.out.println(Arrays.tostring(array)); true?false:true == true?false:true MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-24 12:24:17 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAç¼–ç¨‹è§„èŒƒ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAç¼–ç¨‹è§„èŒƒ.html","title":"JAVAç¼–ç¨‹è§„èŒƒ","keywords":"","body":"JAVAç¼–ç¨‹è§„èŒƒ ç¼–ç  Integerç¼“å­˜é—®é¢˜ ã€å¼ºåˆ¶ã€‘æ‰€æœ‰æ•´å‹åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼çš„æ¯”è¾ƒï¼Œå…¨éƒ¨ä½¿ç”¨ equals æ–¹æ³•æ¯”è¾ƒã€‚ è¯´æ˜ï¼šå¯¹äº Integer var = ? åœ¨ - 128 è‡³ 127 èŒƒå›´å†…çš„èµ‹å€¼ï¼ŒInteger å¯¹è±¡æ˜¯åœ¨ IntegerCache.cache äº§ ç”Ÿï¼Œä¼šå¤ç”¨å·²æœ‰å¯¹è±¡ï¼Œè¿™ä¸ªåŒºé—´å†…çš„ Integer å€¼å¯ä»¥ç›´æ¥ä½¿ç”¨ == è¿›è¡Œåˆ¤æ–­ï¼Œä½†æ˜¯è¿™ä¸ªåŒºé—´ä¹‹å¤–çš„æ‰€æœ‰æ•°æ®ï¼Œéƒ½ä¼šåœ¨å †ä¸Šäº§ç”Ÿï¼Œå¹¶ä¸ä¼šå¤ç”¨å·²æœ‰å¯¹è±¡ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§å‘ï¼Œæ¨èä½¿ç”¨ equals æ–¹æ³•è¿›è¡Œåˆ¤æ–­ Integer a = 100, b = 100, c = 150, d = 150; System.out.println(a == b); // true System.out.println(c == d); // false ç›´æ¥åˆ›å»ºåŒ…è£…ç±»æ—¶ï¼Œæ˜¯é€šè¿‡valueOfæ–¹æ³•æ¥è¿›è¡Œè½¬æ¢çš„ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•è¿™é‡Œåšäº†ç¼“å­˜ï¼Œåœ¨æŸä¸ªåŒºé—´å†…çš„åŒä¸€ä¸ªæ•´æ•°éƒ½ä¼šç”¨åŒä¸€ä¸ªå¯¹è±¡æ¥è¡¨ç¤º if (i >= IntegerCache.low && i æ‰€ä»¥ä¹Ÿå°±ä¼šé€ æˆä¸Šé¢é‚£æ®µä»£ç çš„æƒ…å†µ åŒæ ·ï¼ŒLongã€Characterã€ Short ã€Booleanéƒ½æœ‰è¿™ä¸ªé—®é¢˜ ä½†æ˜¯Booleanæœ¬æ¥å°±å–å€¼èŒƒå›´å°±æ˜¯trueä¸falseï¼Œæ‰€ä»¥è¿™ä¸ªåŒ…è£…ç±»æœ¬èº«æ˜¯ä½¿ç”¨äº†ä¸¤ä¸ªæˆå‘˜å˜é‡æ¥ç¼“å­˜trueä¸false åºåˆ—åŒ– ã€å¼ºåˆ¶ã€‘å½“åºåˆ—åŒ–ç±»æ–°å¢å±æ€§æ—¶ï¼Œè¯·ä¸è¦ä¿®æ”¹ serialVersionUID å­—æ®µï¼Œä»¥é¿å…ååºåˆ—å¤±è´¥ï¼›å¦‚æœå®Œå…¨ä¸å…¼å®¹å‡çº§ï¼Œé¿å…ååºåˆ—åŒ–æ··ä¹±ï¼Œé‚£ä¹ˆè¯·ä¿®æ”¹ serialVersionUID å€¼ã€‚ è¯´æ˜ï¼šæ³¨æ„ serialVersionUID å€¼ä¸ä¸€è‡´ä¼šæŠ›å‡ºåºåˆ—åŒ–è¿è¡Œæ—¶å¼‚å¸¸ã€‚ åºåˆ—åŒ–çš„ç›®çš„ï¼šæŒä¹…åŒ–ã€ä¼ è¾“ ä¸€äº›åºåˆ—åŒ–æ–¹æ¡ˆ åŸç”Ÿåºåˆ—åŒ– Hessian åºåˆ—åŒ– è·¨è¯­è¨€çš„åºåˆ—åŒ–æ–¹æ¡ˆ Kryo åºåˆ—åŒ– JSON åºåˆ—åŒ– jsonå­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜æ˜¯å¯èƒ½å­˜åœ¨ç±»å‹ä¸¢å¤± å¯¹è±¡æ‹·è´ ã€æ¨èã€‘æ…ç”¨ Object çš„ clone æ–¹æ³•æ¥æ‹·è´å¯¹è±¡ã€‚ è¯´æ˜ï¼šå¯¹è±¡ clone æ–¹æ³•é»˜è®¤æ˜¯æµ…æ‹·è´ï¼Œè‹¥æƒ³å®ç°æ·±æ‹·è´éœ€è¦†å†™ clone æ–¹æ³•å®ç°åŸŸå¯¹è±¡çš„æ·±åº¦éå†å¼æ‹·è´ã€‚ javaå¤©ç”Ÿå°±å¯¹åŸå‹æ¨¡å¼åšäº†å¾ˆå¥½çš„æ”¯æŒï¼Œè¿™ä¸ªæ”¯æŒå°±æ˜¯Objectä¸­çš„cloneæ–¹æ³• Object çš„ clone å‡½æ•°é»˜è®¤æ˜¯æµ…æ‹·è´ åˆ†å±‚é¢†åŸŸæ¨¡å‹çš„ä½¿ç”¨ ã€å‚è€ƒã€‘åˆ†å±‚é¢†åŸŸæ¨¡å‹è§„çº¦ DO (Data Object): æ­¤å¯¹è±¡ä¸æ•°æ®åº“è¡¨ç»“æ„ä¸€ä¸€å¯¹åº”ï¼Œé€šè¿‡ DAO å±‚å‘ä¸Šä¼ è¾“æ•°æ®æºå¯¹è±¡ã€‚ DTO (Data Transfer Object): æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ŒService æˆ– Manager å‘å¤–ä¼ è¾“çš„å¯¹è±¡ã€‚ BO (Business Object): ä¸šåŠ¡å¯¹è±¡ï¼Œç”± Service å±‚è¾“å‡ºçš„å°è£…ä¸šåŠ¡é€»è¾‘çš„å¯¹è±¡ã€‚ AO (Application Object): åº”ç”¨å¯¹è±¡ï¼Œåœ¨ Web å±‚ä¸ Service å±‚ä¹‹é—´æŠ½è±¡çš„å¤ç”¨å¯¹è±¡æ¨¡å‹ï¼Œæä¸ºè´´ è¿‘å±•ç¤ºå±‚ï¼Œå¤ç”¨åº¦ä¸é«˜ã€‚ VO (View Object): æ˜¾ç¤ºå±‚å¯¹è±¡ï¼Œé€šå¸¸æ˜¯ Web å‘æ¨¡æ¿æ¸²æŸ“å¼•æ“å±‚ä¼ è¾“çš„å¯¹è±¡ã€‚Query: æ•°æ®æŸ¥è¯¢å¯¹è±¡ï¼Œå„å±‚æ¥æ”¶ä¸Šå±‚çš„æŸ¥è¯¢è¯·æ±‚ã€‚ æ³¨æ„è¶…è¿‡ 2 ä¸ªå‚æ•°çš„æŸ¥è¯¢å°è£…ï¼Œç¦æ­¢ä½¿ç”¨ Map ç±»æ¥ä¼ è¾“ã€‚ åˆ†æˆè¿™ä¹ˆå¤šå±‚çš„ä¸€ä¸ªé‡è¦åŸå› å°±æ˜¯è¦éš”ç¦»å˜æ›´ï¼Œé¿å…ä¸€ä¸ªå±‚çš„ä¿®æ”¹æ‰©æ•£åˆ°å…¶ä»–å±‚ è´«è¡€æ¨¡å‹ è´«è¡€æ¨¡å‹æ˜¯æŒ‡é¢†åŸŸå¯¹è±¡é‡Œåªæœ‰getå’Œsetæ–¹æ³•ï¼ˆPOJOï¼‰ï¼Œæ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘éƒ½ä¸åŒ…å«åœ¨å†…è€Œæ˜¯æ”¾åœ¨Business Logicå±‚ ã€å‚è€ƒã€‘ä¸æå€¡åœ¨ DTO ä¸­å†™é€»è¾‘ï¼Œå¼ºåˆ¶ä¸è¦åœ¨ RPC è¿”å›å¯¹è±¡çš„ DTO ä¸­å°è£…é€»è¾‘ã€‚ public class xxDTO{ // å„ç§å±æ€§ // é€»è¾‘ä»£ç  public boolean canXXX(){ // å„ç§åˆ¤æ–­ } } å±æ€§æ˜ å°„ å„ç§é¢†åŸŸæ¨¡å‹ä¹‹é—´çš„è½¬æ¢æ˜¯ç¹ççš„ å¸¸ç”¨çš„ä¸€äº›å·¥å…·ç±»åº“ï¼š org.apache.commons.beanutils.BeanUtils#copyProperties org.springframework.beans.BeanUtils#copyProperties(java.lang.Object, java.lang.Object) org.dozer.Mapper#map(java.lang.Object, java.lang.Class) net.sf.cglib.beans.BeanCopier#copy ma.glasnost.orika.MapperFacade#map(S, D) mapstruct æœ‰äº›æ˜¯é€šè¿‡åå°„çš„æ–¹å¼æ¥è¿›è¡Œå±æ€§å¤åˆ¶ï¼Œä½†è¿™æ ·ä¼šå¤±å»ç¼–è¯‘æœŸæ£€æŸ¥çš„å¥½å¤„ï¼Œæ›´å®¹æ˜“å‡ºé”™ è¿‡æœŸå¤„ç† æ¥å£è¿‡æ—¶å¿…é¡»åŠ  @Deprecated æ³¨è§£ï¼Œå¹¶æ¸…æ™°åœ°è¯´æ˜é‡‡ç”¨çš„æ–°æ¥å£æˆ–è€…æ–°æœåŠ¡æ˜¯ä»€ä¹ˆã€‚ æ¥å£æä¾›æ–¹æ—¢ç„¶æ˜ç¡®æ˜¯è¿‡æ—¶æ¥å£ï¼Œé‚£ä¹ˆæœ‰ä¹‰åŠ¡åŒæ—¶æä¾›æ–°çš„æ¥å£ï¼›ä½œä¸ºè°ƒç”¨æ–¹æ¥è¯´ï¼Œæœ‰ä¹‰åŠ¡å»è€ƒè¯è¿‡æ—¶æ–¹æ³•çš„æ–°å®ç°æ˜¯ä»€ä¹ˆã€‚ ä¸€èˆ¬æ¥è¯´ï¼ŒåŠ äº†@Deprecatedçš„æ¥å£ï¼Œå¿…é¡»åœ¨è¯¥æ¥å£çš„æ³¨é‡Šä¸ŠåŠ ä¸Šæ›¿æ¢çš„æ–°æ¥å£å¹¶è¯´æ˜åºŸå¼ƒåŸå› ï¼Œå˜æ›´ä¹‹åè¦è¿›è¡Œå•å…ƒæµ‹è¯• ç©ºæŒ‡é’ˆ ã€å¼ºåˆ¶ã€‘Object çš„ equals æ–¹æ³•å®¹æ˜“æŠ›ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œåº”ä½¿ç”¨å¸¸é‡æˆ–ç¡®å®šæœ‰å€¼çš„å¯¹è±¡æ¥è°ƒç”¨ equalsã€‚ ã€æ¨èã€‘é˜²æ­¢ NPEï¼Œæ˜¯ç¨‹åºå‘˜çš„åŸºæœ¬ä¿®å…»ï¼Œæ³¨æ„ NPE äº§ç”Ÿçš„åœºæ™¯: è¿”å›ç±»å‹ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œreturn åŒ…è£…æ•°æ®ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨æ‹†ç®±æœ‰å¯èƒ½äº§ç”Ÿ NPEã€‚ åä¾‹:public int f () { return Integer å¯¹è±¡}ï¼Œ å¦‚æœä¸º nullï¼Œè‡ªåŠ¨è§£ç®±æŠ› NPEã€‚ æ•°æ®åº“çš„æŸ¥è¯¢ç»“æœå¯èƒ½ä¸º nullã€‚ é›†åˆé‡Œçš„å…ƒç´ å³ä½¿ isNotEmptyï¼Œå–å‡ºçš„æ•°æ®å…ƒç´ ä¹Ÿå¯èƒ½ä¸º nullã€‚ è¿œç¨‹è°ƒç”¨è¿”å›å¯¹è±¡æ—¶ï¼Œä¸€å¾‹è¦æ±‚è¿›è¡Œç©ºæŒ‡é’ˆåˆ¤æ–­ï¼Œé˜²æ­¢ NPEã€‚ å¯¹äº Session ä¸­è·å–çš„æ•°æ®ï¼Œå»ºè®®è¿›è¡Œ NPE æ£€æŸ¥ï¼Œé¿å…ç©ºæŒ‡é’ˆã€‚ çº§è”è°ƒç”¨ obj.getA ().getB ().getC (); ä¸€è¿ä¸²è°ƒç”¨ï¼Œæ˜“äº§ç”Ÿ NPEã€‚ ã€å¼ºåˆ¶ã€‘å½“ switch æ‹¬å·å†…çš„å˜é‡ç±»å‹ä¸º String å¹¶ä¸”æ­¤å˜é‡ä¸ºå¤–éƒ¨å‚æ•°æ—¶ï¼Œå¿…é¡»å…ˆè¿›è¡Œ nullåˆ¤æ–­ å¼‚å¸¸ç±»ç»“æ„å±‚æ¬¡ java8 switch æ”¯æŒçš„è¡¨è¾¾å¼ é¢„é˜² æšä¸¾ ã€å‚è€ƒã€‘æšä¸¾ç±»åå¸¦ä¸Š Enum åç¼€ï¼Œæšä¸¾æˆå‘˜åç§°éœ€è¦å…¨å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€ã€‚ è¯´æ˜: æšä¸¾å…¶å®å°±æ˜¯ç‰¹æ®Šçš„ç±»ï¼ŒåŸŸæˆå‘˜å‡ä¸ºå¸¸é‡ï¼Œä¸”æ„é€ æ–¹æ³•è¢«é»˜è®¤å¼ºåˆ¶æ˜¯ç§æœ‰ã€‚ ã€æ¨èã€‘å¦‚æœå˜é‡å€¼ä»…åœ¨ä¸€ä¸ªå›ºå®šèŒƒå›´å†…å˜åŒ–ç”¨enumç±»å‹æ¥å®šä¹‰ã€‚ ã€å¼ºåˆ¶ã€‘äºŒæ–¹åº“é‡Œå¯ä»¥å®šä¹‰æšä¸¾ç±»å‹ï¼Œå‚æ•°å¯ä»¥ä½¿ç”¨æšä¸¾ç±»å‹ï¼Œä½†æ˜¯æ¥å£è¿”å›å€¼ä¸å…è®¸ä½¿ç”¨æšä¸¾ç±»å‹æˆ–è€…åŒ…å«æšä¸¾ç±»å‹çš„ POJO å¯¹è±¡ã€‚ æ¥å£è¿”å›å€¼ä¸å…è®¸ä½¿ç”¨æšä¸¾ç±»å‹çš„åŸå› æ˜¯å¦‚æœç±»åº“æ²¡æœ‰åŠæ—¶å‡çº§ï¼Œåœ¨ååºåˆ—åŒ–çš„æ—¶å€™å½“æ ¹æ®åºåˆ—åŒ–æ•°æ®åºåˆ—ç›¸åº”æšä¸¾çš„è¯å¾ˆå¯èƒ½æ‰¾ä¸åˆ°ç›¸åº”æšä¸¾ã€‚ä»è€ŒæŠ›å¼‚å¸¸ subListä¸asList ã€å¼ºåˆ¶ã€‘ArrayList çš„ subList ç»“æœä¸å¯å¼ºè½¬æˆ ArrayListï¼Œå¦åˆ™ä¼šæŠ›å‡º ClassCastException å¼‚ å¸¸ï¼Œå³ java.util.RandomAccessSubList cannot be cast to java.util.ArrayListã€‚ ã€å¼ºåˆ¶ã€‘åœ¨ SubList åœºæ™¯ä¸­ï¼Œé«˜åº¦æ³¨æ„å¯¹åŸé›†åˆå…ƒç´ çš„å¢åŠ æˆ–åˆ é™¤ï¼Œå‡ä¼šå¯¼è‡´å­åˆ—è¡¨çš„éå†ã€å¢åŠ ã€åˆ é™¤äº§ç”Ÿ ConcurrentModificationException å¼‚å¸¸ã€‚ ã€å¼ºåˆ¶ã€‘ä½¿ç”¨å·¥å…·ç±» Arrays.asList () æŠŠæ•°ç»„è½¬æ¢æˆé›†åˆæ—¶ï¼Œä¸èƒ½ä½¿ç”¨å…¶ä¿®æ”¹é›†åˆç›¸å…³çš„æ–¹æ³•ï¼Œå®ƒçš„ add/remove/clear æ–¹æ³•ä¼šæŠ›å‡º UnsupportedOperationException å¼‚å¸¸ã€‚ ä¸¤ä¸ªç±»çš„ç±»ç»“æ„å±‚æ¬¡ ArrayListçš„subListæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªlistè§†å›¾ï¼Œå¯¹è¿™ä¸ªSubListçš„ä¿®æ”¹éƒ½ä¼šæ˜ å°„åˆ°åŸæ¥çš„list è€ŒArrays.asListè¿”å›çš„arraysåŒ…ä¸‹çš„ArrayListï¼Œè¿™ä¸ªç±»å¹¶æ²¡æœ‰é‡å†™add,removeç­‰æ–¹æ³•ï¼Œæ‰€ä»¥ä¿®æ”¹æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ æ³¨é‡Š ã€å¼ºåˆ¶ã€‘æ‰€æœ‰ç±»éƒ½å¿…é¡»æ·»åŠ åˆ›å»ºè€…å’Œæ—¥æœŸã€‚ ã€å¼ºåˆ¶ã€‘æ‰€æœ‰çš„æšä¸¾ç±»å‹å­—æ®µéƒ½å¿…é¡»æœ‰æ³¨é‡Šï¼Œè¯´æ˜æ¯ä¸ªæ•°æ®é¡¹çš„ç”¨é€”ã€‚ ã€æ¨èã€‘ä»£ç ä¿®æ”¹çš„åŒæ—¶ï¼Œæ³¨é‡Šä¹Ÿè¦è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼Œå°¤å…¶æ˜¯å‚æ•°ã€è¿”å›å€¼ã€å¼‚å¸¸ã€æ ¸å¿ƒé€»è¾‘ç­‰ä¿®æ”¹ã€‚ ã€å‚è€ƒã€‘ç‰¹æ®Šæ ‡è®°ï¼Œè¯·æ³¨æ˜æ ‡è®°äººä¸æ ‡è®°æ—¶é—´ã€‚ æ³¨é‡Šçš„ç›®çš„æ˜¯è®©è¯»è€…æ›´å¿«ç†è§£ä»£ç çš„å«ä¹‰ å¯å˜å‚æ•° ã€å¼ºåˆ¶ã€‘ç›¸åŒå‚æ•°ç±»å‹ï¼Œç›¸åŒä¸šåŠ¡å«ä¹‰ï¼Œæ‰å¯ä»¥ä½¿ç”¨ Java çš„å¯å˜å‚æ•°ï¼Œé¿å…ä½¿ç”¨ Object ã€‚è¯´æ˜:å¯å˜å‚æ•°å¿…é¡»æ”¾ç½®åœ¨å‚æ•°åˆ—è¡¨çš„æœ€åã€‚(æå€¡åŒå­¦ä»¬å°½é‡ä¸ç”¨å¯å˜å‚æ•°ç¼–ç¨‹) æ­£ä¾‹: public List listUsers(String type, Long... ids) {...} ä¸ºä»€ä¹ˆè¦å¯å˜å‚æ•°ï¼Ÿ å˜é•¿å‚æ•°é€‚åº”äº†ä¸å®šå‚æ•°ä¸ªæ•°çš„æƒ…å†µï¼Œé¿å…äº†æ‰‹åŠ¨æ„é€ æ•°ç»„ï¼Œæé«˜è¯­è¨€çš„ç®€æ´æ€§å’Œä»£ç çš„çµæ´»æ€§ å½“å¯å˜å‚æ•°ä¸æ–¹æ³•é‡è½½å‡ºç°æ—¶ï¼Œå°±æœ‰äº›ä»¤äººæ··ä¹±ï¼Œä½†æ•´ä½“æ–¹æ³•å‚æ•°åŒ¹é…æµç¨‹æ˜¯è¿™æ ·çš„ï¼š é›†åˆå»é‡ ã€å‚è€ƒã€‘åˆ©ç”¨ Set å…ƒç´ å”¯ä¸€çš„ç‰¹æ€§ï¼Œå¯ä»¥å¿«é€Ÿå¯¹ä¸€ä¸ªé›†åˆè¿›è¡Œå»é‡æ“ä½œï¼Œé¿å…ä½¿ç”¨ List çš„ contains æ–¹æ³•è¿›è¡Œéå†ã€å¯¹æ¯”ã€å»é‡æ“ä½œã€‚ åŸå› ï¼šä½¿ç”¨listçš„containsè¿›è¡Œå»é‡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(N^2) ã€å¼ºåˆ¶ã€‘å…³äº hashCode å’Œ equals çš„å¤„ç†ï¼Œéµå¾ªå¦‚ä¸‹è§„åˆ™: åªè¦è¦†å†™ equalsï¼Œå°±å¿…é¡»è¦†å†™ hashCodeï¼›å› ä¸º Set å­˜å‚¨çš„æ˜¯ä¸é‡å¤çš„å¯¹è±¡ï¼Œä¾æ® hashCode å’Œ equals è¿›è¡Œåˆ¤æ–­ï¼Œæ‰€ä»¥ Set å­˜å‚¨çš„å¯¹è±¡å¿…é¡»è¦†å†™è¿™ä¸¤ä¸ªæ–¹æ³•ï¼› å¦‚æœè‡ªå®šä¹‰å¯¹è±¡ä½œä¸º Map çš„é”®ï¼Œé‚£ä¹ˆå¿…é¡»è¦†å†™ hashCode å’Œ equalsã€‚è¯´æ˜ï¼šString å·²è¦†å†™ hashCode å’Œ equals æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ„‰å¿«åœ°ä½¿ç”¨ String å¯¹è±¡ä½œä¸º key æ¥ä½¿ç”¨ã€‚ è‡³äºè¿™æ¡ï¼Œåˆ™æ˜¯å› ä¸ºæœ‰äº›æ•°æ®ç»“æ„æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ç›¸åŒæ—¶æ˜¯å…ˆè¿›è¡Œhashcodeæ¯”è¾ƒï¼Œç„¶åæ‰æ˜¯equals çº¿ç¨‹æ±  ã€å¼ºåˆ¶ã€‘åˆ›å»ºçº¿ç¨‹æˆ–çº¿ç¨‹æ± æ—¶è¯·æŒ‡å®šæœ‰æ„ä¹‰çš„çº¿ç¨‹åç§°ï¼Œæ–¹ä¾¿å‡ºé”™æ—¶å›æº¯ã€‚ å®ç°ThreadFactoryæ¥å£ newThreadæ–¹æ³•ä¸­ä¼ å…¥ä¸€ä¸ªRunnableï¼Œå¯ä»¥åœ¨åˆ›å»ºçº¿ç¨‹çš„æ—¶å€™æŒ‡å®šçº¿ç¨‹åå­—ï¼Œæœ€åè®¿é—®è¿™ä¸ªçº¿ç¨‹ ã€å¼ºåˆ¶ã€‘çº¿ç¨‹èµ„æºå¿…é¡»é€šè¿‡çº¿ç¨‹æ± æä¾›ï¼Œä¸å…è®¸åœ¨åº”ç”¨ä¸­è‡ªè¡Œæ˜¾å¼åˆ›å»ºçº¿ç¨‹ åˆ›å»ºä¸€ä¸ªçº¿ç¨‹è€—è´¹çš„ä»£ä»·æ˜¯å¾ˆå¤§çš„ ã€å¼ºåˆ¶ã€‘çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ Executors å»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ ThreadPoolExecutor çš„æ–¹å¼ï¼Œè¿™ æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™©ã€‚ çº¿ç¨‹æ± å¤„ç†ä»»åŠ¡çš„æµç¨‹ï¼š å¦‚æœçº¿ç¨‹æ± ä¸­å°äº corePoolSize ä¸ªæ‰§è¡Œçš„çº¿ç¨‹ï¼Œåˆ™æ–°å»ºçº¿ç¨‹å°†å½“å‰ä»»åŠ¡ä½œä¸ºç¬¬ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œ å¦‚æœä»»åŠ¡æˆåŠŸå…¥é˜Ÿï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ double-check åˆ¤æ–­æ˜¯å¦éœ€è¦å¾€çº¿ç¨‹æ± ä¸­æ–°å¢çº¿ç¨‹ï¼ˆå› ä¸ºä¸Šæ¬¡æ£€æŸ¥åå¯èƒ½æœ‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çº¿ç¨‹æŒ‚äº†ï¼‰æˆ–è€…è¿›å…¥è¿™æ®µå‡½æ•°æ—¶çº¿ç¨‹æ± å…³é—­äº† å¦‚æœä¸èƒ½å…¥é˜Ÿï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ã€‚å¦‚æœå¤±è´¥ï¼Œæˆ‘ä»¬å°±çŸ¥é“çº¿ç¨‹æ± å·²ç»è¢«å…³é—­æˆ–å·²ç»é¥±å’Œå°±éœ€è¦è°ƒç”¨æ‹’ç»ç­–ç•¥æ¥æ‹’ç»å½“å‰ä»»åŠ¡ ä¸ºä»€ä¹ˆä¸èƒ½ç”¨Executorsï¼Ÿ Execotorsçš„newFixedThreadPoolä¸­åˆ›å»ºçº¿ç¨‹æ± ä½¿ç”¨çš„é˜»å¡é˜Ÿåˆ—æ˜¯LinkedBlockingQueueï¼Œè¿™ä¸ªé˜Ÿåˆ—æ˜¯æ— é™å¤§çš„ï¼ˆintçš„æœ€å¤§å€¼ï¼‰ï¼Œè¿™æ ·ä»»åŠ¡å¯èƒ½ä¼šä¸æ–­å…¥é˜Ÿï¼Œä»è€Œå¯¼è‡´èµ„æºè€—å°½ é€€å‡ºè™šæ‹Ÿæœº å¹³å°ç›¸å…³çš„ä¸€äº›æ–¹æ³•ï¼škill... è°ƒç”¨System.exitæ–¹æ³• æ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹è¿è¡Œå®Œæ¯• æ¡ä»¶è¯­å¥ è¡¨è¾¾åˆ†æ”¯æ—¶ï¼Œå¦‚æœéè¦ä½¿ç”¨ if ()â€¦else if ()â€¦elseâ€¦ æ–¹å¼è¡¨è¾¾é€»è¾‘ï¼Œé¿å…åç»­ä»£ç ç»´æŠ¤å›°éš¾ï¼Œä¸å…è®¸è¶…è¿‡ä¸‰å±‚ã€‚ å¦‚æœè¶…è¿‡ 3 å±‚å¯ä»¥ä½¿ç”¨å«è¯­å¥ã€ç­–ç•¥æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ç­‰æ¥å®ç°ã€‚ å…¶ä¸­å«è¯­å¥ä»£ç é€»è¾‘ä¼˜å…ˆè€ƒè™‘å¤±è´¥ã€å¼‚å¸¸ã€ä¸­æ–­ã€é€€å‡ºç­‰ç›´æ¥è¿”å›çš„æƒ…å†µ å«è¯­å¥ å¦‚æœæŸä¸ªæ¡ä»¶æå…¶ç½•è§ï¼Œå°±åº”è¯¥å•ç‹¬æ£€æŸ¥è¯¥æ¡ä»¶ï¼Œå¹¶åœ¨æ¡ä»¶ä¸ºçœŸæ—¶ç«‹å³ä»å‡½æ•°ä¸­è¿”å›ã€‚è¿™æ ·çš„å•ç‹¬æ£€æŸ¥å¸¸å¸¸è¢«ç§°ä¸º â€œå«è¯­å¥â€ã€‚ å«è¯­å¥è¦ä¸å°±ä»å‡½æ•°ä¸­è¿”å›ï¼Œè¦ä¸å°±æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ if (condition1){ return true; } if (condition2 && condition3){ return false; } //... å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘å¼‚å¸¸ä¸è¦ç”¨æ¥åšæµç¨‹æ§åˆ¶ï¼Œæ¡ä»¶æ§åˆ¶ã€‚ ã€å¼ºåˆ¶ã€‘æœ‰ try å—æ”¾åˆ°äº†äº‹åŠ¡ä»£ç ä¸­ï¼Œcatch å¼‚å¸¸åï¼Œå¦‚æœéœ€è¦å›æ»šäº‹åŠ¡ï¼Œä¸€å®šè¦æ³¨æ„æ‰‹åŠ¨å›æ»šäº‹åŠ¡ã€‚ å¦‚æœç”±äº â€œåæ‰â€ äº†æ¥å£çš„å¼‚å¸¸ï¼Œæœ‰äº›ä¸šåŠ¡å¼‚å¸¸ä¸­åŒ…å«çš„é”™è¯¯åŸå› ï¼Œæ— æ³•ä¼ ç»™ä¸Šå±‚å†å°è£…ç»™å‰ç«¯ï¼Œå¯èƒ½ä¼šé€ æˆå‡ºé”™åç”¨æˆ·æ‡µé€¼ å®é™…å¼€å‘ä¸­ï¼Œä¸€èˆ¬éƒ½ä¸ä¼šåæ‰å¼‚å¸¸ï¼Œé‡åˆ° â€œåæ‰â€ å¼‚å¸¸çš„åœºæ™¯è¦æ…é‡æ€è€ƒæ˜¯å¦åˆç† ã€å‚è€ƒã€‘ç‰¹åˆ«æ³¨æ„å¾ªç¯çš„ä»£ç å¼‚å¸¸å¤„ç†çš„å¯¹ç¨‹åºçš„å½±å“ å¾ªç¯ä½“çš„ä»£ç æŠ›å‡ºå¼‚å¸¸ä¼šå¯¼è‡´åç»­çš„æ‰€æœ‰ä»£ç éƒ½æ— æ³•æ‰§è¡Œï¼Œæ‰€ä»¥è¦æ³¨æ„åœ¨å¾ªç¯å¤–æˆ–è€…å¾ªç¯å†…è¿›è¡Œæ•æ‰ï¼Œå…·ä½“çœ‹ä¸šåŠ¡åœºæ™¯ ã€å»ºè®®ã€‘è¦ç†è§£å¥½å—æ£€å¼‚å¸¸å’Œéå—æ£€å¼‚å¸¸çš„åŒºåˆ«ï¼Œé¿å…è¯¯ç”¨ é€šå¸¸å¼€å‘ä¸­è‡ªå®šä¹‰çš„ä¸šåŠ¡å¼‚å¸¸ï¼ˆBusinessExceptionï¼‰å±äºéå—æ£€å¼‚å¸¸ å¦‚æœå®šä¹‰çš„å—æ£€å¼‚å¸¸ï¼Œåˆ™ä¸€æ—¦å¼‚å¸¸å‘ç”Ÿå˜æ›´ï¼Œåˆ™ä¾èµ–è¯¥å±‚çš„æ‰€æœ‰ä¸Šå±‚å…¨éƒ½è¦å‘ç”Ÿå˜æ›´ ã€å»ºè®®ã€‘åŠªåŠ›ä½¿å¤±è´¥ä¿æŒåŸå­æ€§ å¯¹å‚æ•°è¿›è¡Œæ£€æŸ¥ï¼Œå¯¹ä¸æ»¡è¶³çš„æ¡ä»¶æŠ›å‡ºé€‚å½“çš„å¼‚å¸¸ ã€å»ºè®®ã€‘å¦‚æœå¿½ç•¥å¼‚å¸¸ï¼Œè¯·ç»™å‡ºç†ç”± æ—¥å¿— ã€å¼ºåˆ¶ã€‘åº”ç”¨ä¸­ä¸è¦ç›´æ¥ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿçš„ APIï¼Œè€Œæ˜¯åº”è¯¥ä¾èµ–æ—¥å¿—æ¶æ„ SLF4J ä¸­çš„ APIï¼Œä½¿ç”¨é—¨é¢æ¨¡å¼çš„æ—¥å¿—æ¶æ„ï¼Œæœ‰åˆ©äºç»´æŠ¤å„ä¸ªç±»çš„æ—¥å¿—å¤„ç†æ–¹å¼ç»Ÿä¸€ã€‚ ã€å¼ºåˆ¶ã€‘æ—¥å¿—è‡³å°‘è¦ä¿ç•™ 15 å¤©ï¼Œå› ä¸ºæœ‰äº›å¼‚å¸¸å…·å¤‡ä»¥ \"å‘¨\" ä¸ºé¢‘æ¬¡çš„ç‰¹ç‚¹ã€‚ ã€å¼ºåˆ¶ã€‘é¿å…é‡å¤æ‰“å°æ—¥å¿—ï¼Œæµªè´¹ç£ç›˜ç©ºé—´ï¼ŒåŠ¡å¿…åœ¨ log4j.xml ä¸­è®¾ç½® additivity =falseã€‚ ã€å¼ºåˆ¶ã€‘å¼‚å¸¸ä¿¡æ¯åº”è¯¥åŒ…æ‹¬ä¸¤ç±»ä¿¡æ¯ï¼šæ¡ˆå‘ç°åœºä¿¡æ¯å’Œå¼‚å¸¸å †æ ˆä¿¡æ¯ã€‚ ç›®çš„ æ‰“å°æ—¥å¿—çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†ç›‘æµ‹ç³»ç»ŸçŠ¶æ€ã€æ–¹ä¾¿æµ‹è¯•ã€æ–¹ä¾¿æ’æŸ¥é—®é¢˜ slf4j SLF4J çš„å…¨ç§°ä¸ºï¼š The Simple Logging Facade for Java æ—¥å¿—çº§åˆ« ERROR æ—¥å¿—çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼šå½±å“åˆ°ç¨‹åºæ­£å¸¸è¿è¡Œæˆ–å½±å“åˆ°å½“å‰è¯·æ±‚æ­£å¸¸è¿è¡Œçš„å¼‚å¸¸æƒ…å†µã€‚æ¯”å¦‚æ‰“å¼€é…ç½®å¤±è´¥ã€è°ƒç”¨äºŒæ–¹æˆ–è€…ä¸‰æ–¹åº“æŠ›å‡ºå¼‚å¸¸ç­‰ WARN æ—¥å¿— çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼šä¸åº”è¯¥å‡ºç°ï¼Œä½†æ˜¯ä¸å½±å“ç¨‹åºæ­£å¸¸è¿è¡Œï¼Œä¸å½±å“è¯·æ±‚æ­£å¸¸æ‰§è¡Œçš„æƒ…å†µã€‚å¦‚æ‰¾ä¸åˆ°æŸä¸ªé…ç½®ä½†æ˜¯ä½¿ç”¨äº†é»˜è®¤é…ç½®ï¼Œæ¯”å¦‚æŸäº›ä¸šåŠ¡å¼‚å¸¸ INFO æ—¥å¿—çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼šéœ€è¦äº†è§£çš„æ™®é€šä¿¡æ¯ï¼Œæ¯”å¦‚æ¥å£çš„å‚æ•°å’Œè¿”å›å€¼ï¼Œå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´å’Œä»»åŠ¡å†…å®¹ç­‰ DEBUG æ—¥å¿—çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼šæ‰€æœ‰è°ƒè¯•é˜¶æ®µæƒ³äº†è§£çš„ä¿¡æ¯ã€‚æ¯”å¦‚æ— æ³•è¿›è¡Œè¿œç¨‹ DEBUG æ—¶ï¼Œæ·»åŠ  DEBUG æ—¥å¿—åœ¨å¾…ç ”ç©¶çš„å‡½æ•°çš„æŸäº›ä½ç½®æ‰“å°å‚æ•°å’Œä¸­é—´æ•°æ®ç­‰ TRACE æ—¥å¿— çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼šéå¸¸è¯¦ç»†çš„ç³»ç»Ÿè¿è¡Œä¿¡æ¯ï¼Œæ¯”å¦‚æŸä¸ªä¸­é—´ä»¶è¯»å–é…ç½®ï¼Œå¯åŠ¨å®Œæˆç­‰ ã€æ¨èã€‘åœ¨è‡ªæµ‹æˆ–ææµ‹ä¹‹åä¸Šçº¿å‰ä¸€å®šè¦æ³¨æ„ warn çº§åˆ«ä»¥ä¸Šçš„æ—¥å¿—ï¼Œç‰¹åˆ«æ˜¯ error æ—¥å¿— ERROR æ—¥å¿—ä¸“é—¨è¾“å‡ºåˆ°ä¸€ä¸ª error.log æ–‡ä»¶ã€‚è°ƒè¯•æ—¶é€šè¿‡ tail -f error.log éšæ—¶ç›‘æ§å‡ºç°çš„é”™è¯¯æ—¥å¿— æ—¥å¿—æ‰“å° ã€å¼ºåˆ¶ã€‘åœ¨æ—¥å¿—è¾“å‡ºæ—¶ï¼Œå­—ç¬¦ä¸²å˜é‡ä¹‹é—´çš„æ‹¼æ¥ä½¿ç”¨å ä½ç¬¦çš„æ–¹å¼ å› ä¸º String å­—ç¬¦ä¸²æ‹¼æ¥ä¼šä½¿ç”¨ StringBuilder çš„ append () æ–¹å¼ï¼Œæœ‰ä¸€å®šçš„æ€§èƒ½æŸè€—ã€‚ä½¿ç”¨å ä½ç¬¦å¯ä»¥æœ‰æ•ˆæé«˜æ€§èƒ½ ã€å¼ºåˆ¶ã€‘ä¸è¦ç”¨ System.out.println ä»£æ›¿æ—¥å¿—æ¡†æ¶ è¯¥å‡½æ•°åº•å±‚ä½¿ç”¨äº† java.io.PrintStream#println(java.lang.Object) å†…éƒ¨ä½¿ç”¨äº†åŒæ­¥ä»£ç å—ï¼Œéå¸¸å½±å“æ€§èƒ½ ã€å¼ºåˆ¶ã€‘ä¸è¦æ‰“å°æ•æ„Ÿä¿¡æ¯ï¼Œå¦‚æœéœ€è¦æ‰“å°å¯ä»¥è€ƒè™‘å¯¹æ•æ„Ÿä¿¡æ¯è„±æ•å¤„ç† ã€æ¨èã€‘é™¤éä¸šåŠ¡éœ€è¦ï¼Œå°½é‡ä¸è¦æ‰“å°å¤§æ–‡æœ¬ (å«å¯Œæ–‡æœ¬)ã€‚å¦‚æœè¦æ‰“å°å¯ä»¥æˆªå–å‰ M ä¸ªå­—ç¬¦ æœåŒæ­¥æ‰“å°å¤§æ–‡æœ¬æ—¥å¿—éå¸¸å½±å“æ€§èƒ½,å¾ˆå¤šå¤§æ–‡æœ¬å¯¹æ’æŸ¥é—®é¢˜å¸®åŠ©ä¸å¤§ï¼Œæ‰“å°è¯¥ä¿¡æ¯çš„æ„ä¹‰ä¸å¤§ï¼Œå› æ­¤å°½é‡é¿å…æ‰“å°è¯¥å†…å®¹æˆ–åªæˆªå–ä¸€éƒ¨åˆ†å…³é”®ä¿¡æ¯ è¯¥åœ¨å“ªé‡Œæ‰“å°æ—¥å¿— ã€æ¨èã€‘ç”¨åˆ‡é¢æˆ– Filter åœ¨ dubbo æˆ– Controller å±‚åšåˆ‡é¢æ¥æ‰“å°è°ƒç”¨çš„å‚æ•°ã€è¿”å›å€¼å’Œå“åº”æ—¶é—´ä»¥åŠæ•æ‰å’Œæ‰“å°å¼‚å¸¸æ—¥å¿— ã€æ¨èã€‘åœ¨ä¾èµ–çš„äºŒæ–¹æˆ–ä¸‰æ–¹æ¥å£çš„å‚æ•°ã€è¿”å›å€¼å’Œå¼‚å¸¸å¤„æ‰“å°æ—¥å¿— ã€æ¨èã€‘ åœ¨æ¥æ”¶æ¶ˆæ¯çš„åœ°æ–¹æ‰“å°æ—¥å¿— ã€æ¨èã€‘ åœ¨å®šæ—¶ä»»åŠ¡çš„å¼€å§‹å’Œç»“æŸçš„åœ°æ–¹ ã€æ¨èã€‘ åœ¨å¼‚æ­¥ä»»åŠ¡çš„å¼€å§‹å’Œç»“æŸçš„åœ°æ–¹ ã€æ¨èã€‘é¢å‘æµ‹è¯•æ‰“å°æ—¥å¿— åœ¨æ²¡æœ‰æ—¥å¿—çš„æƒ…å†µä¸‹æ’æŸ¥é—®é¢˜ Alibaba Java è¯Šæ–­åˆ©å™¨ Arthas å¯åŠ¨ä¹‹åå¯ä»¥ç›‘æ§æŸä¸ªJAVAè¿›ç¨‹çš„è¿”å›å€¼ã€æŠ›å‡ºçš„å¼‚å¸¸ã€å…¥å‚ç­‰ é”™è¯¯çš„æ—¥å¿—å½¢å¼ e.printStackTrace() å‚æ•°ç±»å‹é”™è¯¯å¯¼è‡´å ä½ç¬¦ä¸ç”Ÿæ•ˆ æ‰“å°å¯¼è‡´çš„ç©ºæŒ‡é’ˆå¼‚å¸¸ å•å…ƒæµ‹è¯• å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯• é›†æˆæµ‹è¯•è¿è¡Œé€šå¸¸æ›´æ…¢ï¼Œå¾ˆéš¾ç¼–å†™ï¼Œå¾ˆéš¾åšåˆ°è‡ªåŠ¨åŒ–ï¼Œéœ€è¦é…ç½®ï¼Œé€šå¸¸ä¸€æ¬¡æµ‹è¯•çš„ä¸œè¥¿è¿‡å¤šï¼Œå¹¶ä¸”é›†æˆæµ‹è¯•ä¼šä½¿ç”¨çœŸå®çš„ä¾èµ–ï¼Œè€Œå•å…ƒæµ‹è¯•åˆ™æŠŠè¢«æµ‹è¯•çš„å•å…ƒå’Œå…¶ä¾èµ–éš”ç¦»ï¼Œä»¥ä¿è¯å•å…ƒæµ‹è¯•çš„é«˜åº¦ç¨³å®šï¼Œè¿˜å¯ä»¥è½»æ˜“æ§åˆ¶å’Œæ¨¡æ‹Ÿè¢«æµ‹è¯•å•å…ƒçš„è¡Œä¸ºæ–¹é¢ é‡è¦æ€§ æ›´æ—©å‘ç°BUG é‡æ„æ—¶æœ‰ä¿éšœ æ–¹æ³• å•å…ƒæµ‹è¯•çš„ä¼ ç»Ÿæ–¹æ³• æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTest-Driven Development, TDDï¼‰ ä¼˜ç§€çš„å•å…ƒæµ‹è¯• è¢«æ£€éªŒçš„å‡½æ•°æˆ–ç±»çš„é€»è¾‘è¡Œä¸ºæ»¡è¶³é¢„æœŸåŠŸèƒ½ AIR åŸåˆ™ è‡ªåŠ¨æ‰§è¡Œ ä¿æŒå½¼æ­¤ç‹¬ç«‹ å¯ä»¥é‡å¤æ‰§è¡Œ ç¼–å†™å®¹æ˜“ï¼Œè¿è¡Œå¿«é€Ÿ æ„é€ æ•°æ® æ‰‹åŠ¨ åŠè‡ªåŠ¨ ä¾èµ–å¼€å‘å·¥å…·æ’ä»¶æˆ–è€…å¤–éƒ¨æ•°æ®æº è‡ªåŠ¨ java-faker å’Œ easy-random java-faker èƒ½ç”Ÿæˆå…·ä½“æœ‰æ„ä¹‰çš„å­—ç¬¦ä¸² easy-random easy-random å¯ä»¥è½»æ¾æ„é€ å¤æ‚å¯¹è±¡ï¼Œæ”¯æŒå®šä¹‰å¯¹è±¡ä¸­é›†åˆé•¿åº¦ï¼Œå­—ç¬¦ä¸²é•¿åº¦èŒƒå›´ï¼Œç”Ÿæˆé›†åˆç­‰ å¯¹å“ªäº›ä»£ç å†™å•æµ‹ æ•°æ®è®¿é—®å±‚ ä¸€èˆ¬è¦è®¾ç½®è‡ªåŠ¨å›æ»šã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ•´åˆH2ç­‰å†…å­˜æ•°æ®åº“æ¥å¯¹æ•°æ®è®¿é—®å±‚ä»£ç è¿›è¡Œæµ‹è¯• æœåŠ¡å±‚ ä¸€èˆ¬è¦ä¾èµ– mock å·¥å…·ï¼Œå°†æœåŠ¡çš„æ‰€æœ‰ä¾èµ–éƒ½ mock æ‰ å·¥å…·ç±» å› ä¸ºå·¥å…·ç±»ä¸€èˆ¬åœ¨æœåŠ¡å†…å…±ç”¨ï¼Œå¦‚æœæœ‰ BUGï¼Œå½±å“é¢å¾ˆå¤§ï¼Œå¾ˆå®¹æ˜“é€ æˆçº¿ä¸Šé—®é¢˜æˆ–æ•…éšœã€‚ä¸€èˆ¬éœ€è¦æ„é€ æ­£å¸¸å’Œè¾¹ç•Œå€¼ä¸¤ç§ç±»å‹çš„ç”¨ä¾‹ï¼Œå¯¹å·¥å…·ç±»è¿›è¡Œå…¨é¢çš„æµ‹è¯•ï¼Œæ‰å¯æ”¾å¿ƒä½¿ç”¨ å•å…ƒæµ‹è¯•çš„ç»“æ„ å‡†å¤‡é˜¶æ®µï¼ˆGivenï¼‰ ä¸»è¦è´Ÿè´£åˆ›å»ºæµ‹è¯•æ•°æ®ã€æ„é€ mock æ–¹æ³•çš„è¿”å›å€¼ï¼Œå‡†å¤‡ç¯èŠ‚çš„ç¼–ç æ˜¯å•å…ƒæµ‹è¯•æœ€å¤æ‚çš„éƒ¨åˆ†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ Mockito åº“ä¸­ä»¥ when å¼€å¤´çš„å‡½æ•°å…¶å®æ˜¯åœ¨å‡†å¤‡é˜¶æ®µ æ‰§è¡Œé˜¶æ®µï¼ˆWhenï¼‰ ä¸€èˆ¬åªæ˜¯è°ƒç”¨æµ‹è¯•çš„å‡½æ•°ï¼Œæ­¤éƒ¨åˆ†ä»£ç é€šå¸¸è¾ƒçŸ­ éªŒè¯é˜¶æ®µï¼ˆThenï¼‰ é€šå¸¸éªŒè¯æµ‹è¯•å‡½æ•°çš„æ‰§è¡Œçš„ç»“æœã€ å‡†å¤‡é˜¶æ®µ mock å‡½æ•°çš„è°ƒç”¨æ¬¡æ•°ç­‰æ˜¯å¦ç¬¦åˆé¢„æœŸ å‘½å ä¸è¦å°†å¤ªå¤šæè¿°æ”¾åˆ°æµ‹è¯•å‡½æ•°å‘½åä¸­ï¼Œåº”è¯¥æ”¾åˆ°å‡½æ•°çš„æ³¨é‡Šä¸­ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-16 08:33:48 "},"ç¼–ç¨‹è¯­è¨€/JAVA/p3c.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/p3c.html","title":"p3c","keywords":"","body":"p3c ç°ä»£è½¯ä»¶æ¶æ„çš„å¤æ‚æ€§éœ€è¦ååŒå¼€å‘å®Œæˆï¼Œå¦‚ä½•é«˜æ•ˆåœ°ååŒå‘¢ï¼Ÿæ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œæ— è§„èŒƒéš¾ä»¥ååŒ ç¼–ç  å‘½å ã€å¼ºåˆ¶ã€‘ä»£ç ä¸­çš„å‘½åå‡ä¸èƒ½ä»¥ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·å¼€å§‹ï¼Œä¹Ÿä¸èƒ½ä»¥ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·ç»“æŸ ã€å¼ºåˆ¶ã€‘ä»£ç ä¸­çš„å‘½åä¸¥ç¦ä½¿ç”¨æ‹¼éŸ³ä¸è‹±æ–‡æ··åˆçš„æ–¹å¼ï¼Œæ›´ä¸å…è®¸ç›´æ¥ä½¿ç”¨ä¸­æ–‡çš„æ–¹å¼ ä¸€ä¸ªå¥½çš„å‘½ååº”è¯¥æ˜¯æœ›æ–‡ç”Ÿä¹‰ ã€å¼ºåˆ¶ã€‘ç±»åä½¿ç”¨ UpperCamelCase é£æ ¼ï¼Œä½†ä»¥ä¸‹æƒ…å½¢ä¾‹å¤–ï¼šDO / BO / DTO / VO / AO / PO / UID ç­‰ ã€å¼ºåˆ¶ã€‘æ–¹æ³•åã€å‚æ•°åã€æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡éƒ½ç»Ÿä¸€ä½¿ç”¨ lowerCamelCase é£æ ¼ ã€å¼ºåˆ¶ã€‘å¸¸é‡å‘½åå…¨éƒ¨å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€ï¼ŒåŠ›æ±‚è¯­ä¹‰è¡¨è¾¾å®Œæ•´æ¸…æ¥šï¼Œä¸è¦å«Œåå­—é•¿ ã€å¼ºåˆ¶ã€‘æŠ½è±¡ç±»å‘½åä½¿ç”¨ Abstract æˆ– Base å¼€å¤´ï¼›å¼‚å¸¸ç±»å‘½åä½¿ç”¨ Exception ç»“å°¾ï¼›æµ‹è¯•ç±»å‘½åä»¥å®ƒè¦æµ‹è¯•çš„ç±»çš„åç§°å¼€å§‹ï¼Œä»¥ Test ç»“å°¾ ã€å¼ºåˆ¶ã€‘ç±»å‹ä¸ä¸­æ‹¬å·ç´§æŒ¨ç›¸è¿æ¥è¡¨ç¤ºæ•°ç»„ ã€å¼ºåˆ¶ã€‘POJO ç±»ä¸­å¸ƒå°”ç±»å‹å˜é‡éƒ½ä¸è¦åŠ  is å‰ç¼€ï¼Œå¦åˆ™éƒ¨åˆ†æ¡†æ¶è§£æä¼šå¼•èµ·åºåˆ—åŒ–é”™è¯¯ è¿™æ¡ä¸æ•°æ®åº“å­—æ®µåéœ€è¦ä»¥iså¼€å¤´èµ·å†²çªäº† éœ€è¦é€šè¿‡æ‰‹åŠ¨æ˜ å°„çš„æ–¹å¼æ¥å°†is_xx æ˜ å°„åˆ° xx ã€å¼ºåˆ¶ã€‘åŒ…åç»Ÿä¸€ä½¿ç”¨å°å†™ï¼Œç‚¹åˆ†éš”ç¬¦ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè‡ªç„¶è¯­ä¹‰çš„è‹±è¯­å•è¯ã€‚åŒ…åç»Ÿä¸€ä½¿ç”¨å•æ•°å½¢å¼ï¼Œä½†æ˜¯ç±»åå¦‚æœæœ‰å¤æ•°å«ä¹‰ï¼Œç±»åå¯ä»¥ä½¿ç”¨å¤æ•°å½¢å¼ ã€å¼ºåˆ¶ã€‘é¿å…åœ¨å­çˆ¶ç±»çš„æˆå‘˜å˜é‡ä¹‹é—´ã€æˆ–è€…ä¸åŒä»£ç å—çš„å±€éƒ¨å˜é‡ä¹‹é—´é‡‡ç”¨å®Œå…¨ç›¸åŒçš„å‘½åï¼Œä½¿å¯è¯»æ€§é™ä½ åªæœ‰æ–¹æ³•æ‰ä¼šå¤šæ€ å±æ€§è®¿é—®å¹¶ä¸ä¼š ã€å¼ºåˆ¶ã€‘æœç»å®Œå…¨ä¸è§„èŒƒçš„ç¼©å†™ å°†AbtractFactory ç¼©å†™æˆ AbsFac å¯èƒ½ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ ã€æ¨èã€‘ä¸ºäº†è¾¾åˆ°ä»£ç è‡ªè§£é‡Šçš„ç›®æ ‡ï¼Œä»»ä½•è‡ªå®šä¹‰ç¼–ç¨‹å…ƒç´ åœ¨å‘½åæ—¶ï¼Œä½¿ç”¨å°½é‡å®Œæ•´çš„å•è¯ç»„åˆæ¥è¡¨è¾¾å…¶æ„ ã€æ¨èã€‘åœ¨å¸¸é‡ä¸å˜é‡çš„å‘½åæ—¶ï¼Œè¡¨ç¤ºç±»å‹çš„åè¯æ”¾åœ¨è¯å°¾ï¼Œä»¥æå‡è¾¨è¯†åº¦ ã€æ¨èã€‘å¦‚æœæ¨¡å—ã€æ¥å£ã€ç±»ã€æ–¹æ³•ä½¿ç”¨äº†è®¾è®¡æ¨¡å¼ï¼Œåœ¨å‘½åæ—¶éœ€ä½“ç°å‡ºå…·ä½“æ¨¡å¼ ã€æ¨èã€‘æ¥å£ç±»ä¸­çš„æ–¹æ³•å’Œå±æ€§ä¸è¦åŠ ä»»ä½•ä¿®é¥°ç¬¦å·ï¼ˆpublic ä¹Ÿä¸è¦åŠ ï¼‰ï¼Œä¿æŒä»£ç çš„ç®€æ´æ€§ï¼Œå¹¶åŠ ä¸Šæœ‰æ•ˆçš„ Javadoc æ³¨é‡Š ã€æ¨èã€‘å°½é‡ä¸è¦åœ¨æ¥å£é‡Œå®šä¹‰å˜é‡ï¼Œå¦‚æœä¸€å®šè¦å®šä¹‰å˜é‡ï¼Œè‚¯å®šæ˜¯ä¸æ¥å£æ–¹æ³•ç›¸å…³ï¼Œå¹¶ä¸”æ˜¯æ•´ä¸ªåº”ç”¨çš„åŸºç¡€å¸¸é‡ å¯ä»¥æ˜¯æ¥å£çš„åŸºç¡€å¸¸é‡ ã€å¼ºåˆ¶ã€‘å¯¹äº Service å’Œ DAO ç±»ï¼ŒåŸºäº SOA çš„ç†å¿µï¼Œæš´éœ²å‡ºæ¥çš„æœåŠ¡ä¸€å®šæ˜¯æ¥å£ï¼Œå†…éƒ¨çš„å®ç°ç±»ç”¨Impl çš„åç¼€ä¸æ¥å£åŒºåˆ« æ—¢ç„¶æ˜¯åŸºäºSOAçš„ç†å¿µ é‚£ä¹ˆç°åœ¨å¤§éƒ¨åˆ†éƒ½æ˜¯å†…éƒ¨è°ƒç”¨çš„Serviceå°±æ²¡å¿…è¦å®šä¹‰æ¥å£äº† ã€æ¨èã€‘å¦‚æœæ˜¯å½¢å®¹èƒ½åŠ›çš„æ¥å£åç§°ï¼Œå–å¯¹åº”çš„å½¢å®¹è¯ä¸ºæ¥å£åï¼ˆé€šå¸¸æ˜¯â€“able çš„å½¢å®¹è¯ï¼‰ ã€å‚è€ƒã€‘æšä¸¾ç±»åå¸¦ä¸Š Enum åç¼€ï¼Œæšä¸¾æˆå‘˜åç§°éœ€è¦å…¨å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€ ã€å‚è€ƒã€‘å„å±‚å‘½åè§„èŒƒ Service/DAO è·å–å•ä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨ get åšå‰ç¼€ã€‚ è·å–å¤šä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨ list åšå‰ç¼€ï¼Œå¤æ•°å½¢å¼ç»“å°¾å¦‚ï¼šlistObjectsã€‚ è·å–ç»Ÿè®¡å€¼çš„æ–¹æ³•ç”¨ count åšå‰ç¼€ã€‚ æ’å…¥çš„æ–¹æ³•ç”¨ save/insert åšå‰ç¼€ã€‚ åˆ é™¤çš„æ–¹æ³•ç”¨ remove/delete åšå‰ç¼€ã€‚ ä¿®æ”¹çš„æ–¹æ³•ç”¨ update åšå‰ç¼€ é¢†åŸŸæ¨¡å‹ æ•°æ®å¯¹è±¡ï¼šxxxDOï¼Œxxx å³ä¸ºæ•°æ®è¡¨åã€‚ æ•°æ®ä¼ è¾“å¯¹è±¡ï¼šxxxDTOï¼Œxxx ä¸ºä¸šåŠ¡é¢†åŸŸç›¸å…³çš„åç§°ã€‚ å±•ç¤ºå¯¹è±¡ï¼šxxxVOï¼Œxxx ä¸€èˆ¬ä¸ºç½‘é¡µåç§°ã€‚ POJO æ˜¯ DO/DTO/BO/VO çš„ç»Ÿç§°ï¼Œç¦æ­¢å‘½åæˆ xxxPOJOã€‚ å¸¸é‡å®šä¹‰ ã€å¼ºåˆ¶ã€‘ä¸å…è®¸ä»»ä½•é­”æ³•å€¼ç›´æ¥å‡ºç°åœ¨ä»£ç ä¸­ ã€å¼ºåˆ¶ã€‘åœ¨ long æˆ–è€… Long èµ‹å€¼æ—¶ï¼Œæ•°å€¼åä½¿ç”¨å¤§å†™çš„ Lï¼Œä¸èƒ½æ˜¯å°å†™çš„ lï¼Œå°å†™å®¹æ˜“è·Ÿæ•°å­— 1 æ··æ·†ï¼Œé€ æˆè¯¯è§£ ã€æ¨èã€‘ä¸è¦ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ç±»ç»´æŠ¤æ‰€æœ‰å¸¸é‡ï¼Œè¦æŒ‰å¸¸é‡åŠŸèƒ½è¿›è¡Œå½’ç±»ï¼Œåˆ†å¼€ç»´æŠ¤ ã€æ¨èã€‘å¸¸é‡çš„å¤ç”¨å±‚æ¬¡æœ‰äº”å±‚ï¼š è·¨åº”ç”¨å…±äº«å¸¸é‡ï¼šå…¶ä»–åº“ä¸­ åº”ç”¨å†…å…±äº«å¸¸é‡ï¼šæœ¬å·¥ç¨‹å­æ¨¡å—ä¸­ å­å·¥ç¨‹å†…å…±äº«å¸¸é‡ï¼šæœ¬å·¥ç¨‹ä¸­çš„constç›®å½• åŒ…å†…å…±äº«å¸¸é‡ï¼šæœ¬åŒ…çš„constç›®å½• ç±»å†…å…±äº«å¸¸é‡ï¼šä½¿ç”¨private static finalå®šä¹‰ ã€æ¨èã€‘å¦‚æœå˜é‡å€¼ä»…åœ¨ä¸€ä¸ªå›ºå®šèŒƒå›´å†…å˜åŒ–ç”¨ enum ç±»å‹æ¥å®šä¹‰ ä»£ç æ ¼å¼ ã€å¼ºåˆ¶ã€‘å¦‚æœæ˜¯å¤§æ‹¬å·å†…ä¸ºç©ºï¼Œåˆ™ç®€æ´åœ°å†™æˆ{}å³å¯ï¼Œå¤§æ‹¬å·ä¸­é—´æ— éœ€æ¢è¡Œå’Œç©ºæ ¼ï¼Œå¦åˆ™ï¼š å·¦å¤§æ‹¬å·å‰ä¸æ¢è¡Œã€‚ å·¦å¤§æ‹¬å·åæ¢è¡Œã€‚ å³å¤§æ‹¬å·å‰æ¢è¡Œã€‚ å³å¤§æ‹¬å·åè¿˜æœ‰ else ç­‰ä»£ç åˆ™ä¸æ¢è¡Œï¼›è¡¨ç¤ºç»ˆæ­¢çš„å³å¤§æ‹¬å·åå¿…é¡»æ¢è¡Œã€‚ ã€å¼ºåˆ¶ã€‘å·¦å°æ‹¬å·å’Œå­—ç¬¦ä¹‹é—´ä¸å‡ºç°ç©ºæ ¼ ï¼› åŒæ ·ï¼Œå³å°æ‹¬å·å’Œå­—ç¬¦ä¹‹é—´ä¹Ÿä¸å‡ºç°ç©ºæ ¼ï¼›è€Œå·¦å¤§æ‹¬å·å‰éœ€è¦ç©ºæ ¼ ã€å¼ºåˆ¶ã€‘if/for/while/switch/do ç­‰ä¿ç•™å­—ä¸æ‹¬å·ä¹‹é—´éƒ½å¿…é¡»åŠ ç©ºæ ¼ ã€å¼ºåˆ¶ã€‘ä»»ä½•äºŒç›®ã€ä¸‰ç›®è¿ç®—ç¬¦çš„å·¦å³ä¸¤è¾¹éƒ½éœ€è¦åŠ ä¸€ä¸ªç©ºæ ¼ ã€å¼ºåˆ¶ã€‘é‡‡ç”¨ 4 ä¸ªç©ºæ ¼ç¼©è¿›ï¼Œç¦æ­¢ä½¿ç”¨ tab å­—ç¬¦ ã€å¼ºåˆ¶ã€‘æ³¨é‡Šçš„åŒæ–œçº¿ä¸æ³¨é‡Šå†…å®¹ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç©ºæ ¼ ã€å¼ºåˆ¶ã€‘åœ¨è¿›è¡Œç±»å‹å¼ºåˆ¶è½¬æ¢æ—¶ï¼Œå³æ‹¬å·ä¸å¼ºåˆ¶è½¬æ¢å€¼ä¹‹é—´ä¸éœ€è¦ä»»ä½•ç©ºæ ¼éš”å¼€ ã€å¼ºåˆ¶ã€‘å•è¡Œå­—ç¬¦æ•°é™åˆ¶ä¸è¶…è¿‡ 120 ä¸ªï¼Œè¶…å‡ºéœ€è¦æ¢è¡Œï¼Œæ¢è¡Œæ—¶éµå¾ªå¦‚ä¸‹åŸåˆ™ï¼š ç¬¬äºŒè¡Œç›¸å¯¹ç¬¬ä¸€è¡Œç¼©è¿› 4 ä¸ªç©ºæ ¼ï¼Œä»ç¬¬ä¸‰è¡Œå¼€å§‹ï¼Œä¸å†ç»§ç»­ç¼©è¿›ã€‚ è¿ç®—ç¬¦ä¸ä¸‹æ–‡ä¸€èµ·æ¢è¡Œã€‚ æ–¹æ³•è°ƒç”¨çš„ç‚¹ç¬¦å·ä¸ä¸‹æ–‡ä¸€èµ·æ¢è¡Œã€‚ æ–¹æ³•è°ƒç”¨ä¸­çš„å¤šä¸ªå‚æ•°éœ€è¦æ¢è¡Œæ—¶ï¼Œåœ¨é€—å·åè¿›è¡Œã€‚ åœ¨æ‹¬å·å‰ä¸è¦æ¢è¡Œï¼Œè§åä¾‹ ã€å¼ºåˆ¶ã€‘æ–¹æ³•å‚æ•°åœ¨å®šä¹‰å’Œä¼ å…¥æ—¶ï¼Œå¤šä¸ªå‚æ•°é€—å·åè¾¹å¿…é¡»åŠ ç©ºæ ¼ ã€å¼ºåˆ¶ã€‘IDE çš„ text file encoding è®¾ç½®ä¸º UTF-8; IDE ä¸­æ–‡ä»¶çš„æ¢è¡Œç¬¦ä½¿ç”¨ Unix æ ¼å¼ ã€æ¨èã€‘å•ä¸ªæ–¹æ³•çš„æ€»è¡Œæ•°ä¸è¶…è¿‡ 80 è¡Œ ã€æ¨èã€‘æ²¡æœ‰å¿…è¦å¢åŠ è‹¥å¹²ç©ºæ ¼æ¥ä½¿å˜é‡çš„èµ‹å€¼ç­‰å·ä¸ä¸Šä¸€è¡Œå¯¹åº”ä½ç½®çš„ç­‰å·å¯¹é½ ã€æ¨èã€‘ä¸åŒé€»è¾‘ã€ä¸åŒè¯­ä¹‰ã€ä¸åŒä¸šåŠ¡çš„ä»£ç ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºè¡Œåˆ†éš”å¼€æ¥ä»¥æå‡å¯è¯»æ€§ OOPè§„çº¦ ã€å¼ºåˆ¶ã€‘é¿å…é€šè¿‡ä¸€ä¸ªç±»çš„å¯¹è±¡å¼•ç”¨è®¿é—®æ­¤ç±»çš„é™æ€å˜é‡æˆ–é™æ€æ–¹æ³•ï¼Œæ— è°“å¢åŠ ç¼–è¯‘å™¨è§£ææˆæœ¬ï¼Œç›´æ¥ç”¨ç±»åæ¥è®¿é—®å³å¯ ã€å¼ºåˆ¶ã€‘æ‰€æœ‰çš„è¦†å†™æ–¹æ³•ï¼Œå¿…é¡»åŠ @ Override æ³¨è§£ ã€å¼ºåˆ¶ã€‘ç›¸åŒå‚æ•°ç±»å‹ï¼Œç›¸åŒä¸šåŠ¡å«ä¹‰ï¼Œæ‰å¯ä»¥ä½¿ç”¨ Java çš„å¯å˜å‚æ•°ï¼Œé¿å…ä½¿ç”¨ Object... ã€å¼ºåˆ¶ã€‘å¤–éƒ¨æ­£åœ¨è°ƒç”¨æˆ–è€…äºŒæ–¹åº“ä¾èµ–çš„æ¥å£ï¼Œä¸å…è®¸ä¿®æ”¹æ–¹æ³•ç­¾åï¼Œé¿å…å¯¹æ¥å£è°ƒç”¨æ–¹äº§ç”Ÿå½±å“ã€‚æ¥å£è¿‡æ—¶å¿…é¡»åŠ @ Deprecated æ³¨è§£ï¼Œå¹¶æ¸…æ™°åœ°è¯´æ˜é‡‡ç”¨çš„æ–°æ¥å£æˆ–è€…æ–°æœåŠ¡æ˜¯ä»€ä¹ˆ ã€å¼ºåˆ¶ã€‘ä¸èƒ½ä½¿ç”¨è¿‡æ—¶çš„ç±»æˆ–æ–¹æ³• ã€å¼ºåˆ¶ã€‘ Object çš„ equals æ–¹æ³•å®¹æ˜“æŠ›ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œåº”ä½¿ç”¨å¸¸é‡æˆ–ç¡®å®šæœ‰å€¼çš„å¯¹è±¡æ¥è°ƒç”¨equals ã€å¼ºåˆ¶ã€‘ ä»»ä½•è´§å¸é‡‘é¢ï¼Œå‡ä»¥æœ€å°è´§å¸å•ä½ä¸”æ•´å‹ç±»å‹æ¥è¿›è¡Œå­˜å‚¨ ã€å¼ºåˆ¶ã€‘æ‰€æœ‰æ•´å‹åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼çš„æ¯”è¾ƒï¼Œå…¨éƒ¨ä½¿ç”¨ equals æ–¹æ³•æ¯”è¾ƒ ã€å¼ºåˆ¶ã€‘æµ®ç‚¹æ•°ä¹‹é—´çš„ç­‰å€¼åˆ¤æ–­ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¸èƒ½ç”¨==æ¥æ¯”è¾ƒï¼ŒåŒ…è£…æ•°æ®ç±»å‹ä¸èƒ½ç”¨equals æ¥åˆ¤æ–­ ã€å¼ºåˆ¶ã€‘å®šä¹‰æ•°æ®å¯¹è±¡ DO ç±»æ—¶ï¼Œå±æ€§ç±»å‹è¦ä¸æ•°æ®åº“å­—æ®µç±»å‹ç›¸åŒ¹é… ã€å¼ºåˆ¶ã€‘ä¸ºäº†é˜²æ­¢ç²¾åº¦æŸå¤±ï¼Œç¦æ­¢ä½¿ç”¨æ„é€ æ–¹æ³• BigDecimal(double) çš„æ–¹å¼æŠŠ double å€¼è½¬åŒ–ä¸º BigDecimal å¯¹è±¡,ä¼˜å…ˆä½¿ç”¨å…¥å‚çš„ String æ„é€ å‡½æ•° ã€å¼ºåˆ¶ã€‘ç”±äºè‡ªåŠ¨è£…ç®±æ‹†ç®±çš„åŸå› ï¼Œæ‰€æœ‰çš„ POJO ç±»å±æ€§å¿…é¡»ä½¿ç”¨åŒ…è£…æ•°æ®ç±»å‹ ã€å¼ºåˆ¶ã€‘RPC æ–¹æ³•çš„è¿”å›å€¼å’Œå‚æ•°å¿…é¡»ä½¿ç”¨åŒ…è£…æ•°æ®ç±»å‹ ã€æ¨èã€‘æ‰€æœ‰çš„å±€éƒ¨å˜é‡ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ ã€å¼ºåˆ¶ã€‘å®šä¹‰ DO/DTO/VO ç­‰ POJO ç±»æ—¶ï¼Œä¸è¦è®¾å®šä»»ä½•å±æ€§é»˜è®¤å€¼ ã€å¼ºåˆ¶ã€‘åºåˆ—åŒ–ç±»æ–°å¢å±æ€§æ—¶ï¼Œè¯·ä¸è¦ä¿®æ”¹ serialVersionUID å­—æ®µï¼Œé¿å…ååºåˆ—å¤±è´¥ï¼›å¦‚æœå®Œå…¨ä¸å…¼å®¹å‡çº§ï¼Œé¿å…ååºåˆ—åŒ–æ··ä¹±ï¼Œé‚£ä¹ˆè¯·ä¿®æ”¹ serialVersionUID å€¼ ã€å¼ºåˆ¶ã€‘æ„é€ æ–¹æ³•é‡Œé¢ç¦æ­¢åŠ å…¥ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œå¦‚æœæœ‰åˆå§‹åŒ–é€»è¾‘ï¼Œè¯·æ”¾åœ¨ init æ–¹æ³•ä¸­ ã€å¼ºåˆ¶ã€‘POJO ç±»å¿…é¡»å†™ toString æ–¹æ³•ã€‚ä½¿ç”¨ IDE ä¸­çš„å·¥å…·ï¼šsource> generate toStringæ—¶ï¼Œå¦‚æœç»§æ‰¿äº†å¦ä¸€ä¸ª POJO ç±»ï¼Œæ³¨æ„åœ¨å‰é¢åŠ ä¸€ä¸‹ super.toString ã€å¼ºåˆ¶ã€‘ç¦æ­¢åœ¨ POJO ç±»ä¸­ï¼ŒåŒæ—¶å­˜åœ¨å¯¹åº”å±æ€§ xxx çš„ isXxx()å’Œ getXxx()æ–¹æ³• ã€æ¨èã€‘ä½¿ç”¨ç´¢å¼•è®¿é—®ç”¨ String çš„ split æ–¹æ³•å¾—åˆ°çš„æ•°ç»„æ—¶ï¼Œéœ€åšæœ€åä¸€ä¸ªåˆ†éš”ç¬¦åæœ‰æ— å†…å®¹çš„æ£€æŸ¥ï¼Œå¦‚æœæœ€åä¸€ä¸ªåˆ†éš”ç¬¦å¹¶æ²¡æœ‰å†…å®¹ï¼Œé‚£ä¹ˆå¹¶ä¸ä¼šäº§ç”Ÿä¸€ä¸ªç©ºå­—ç¬¦ä¸² ã€æ¨èã€‘å½“ä¸€ä¸ªç±»æœ‰å¤šä¸ªæ„é€ æ–¹æ³•ï¼Œæˆ–è€…å¤šä¸ªåŒåæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•åº”è¯¥æŒ‰é¡ºåºæ”¾ç½®åœ¨ä¸€èµ·ï¼Œä¾¿äºé˜…è¯» ã€æ¨èã€‘ç±»å†…æ–¹æ³•å®šä¹‰çš„é¡ºåºä¾æ¬¡æ˜¯ï¼šå…¬æœ‰æ–¹æ³•æˆ–ä¿æŠ¤æ–¹æ³• > ç§æœ‰æ–¹æ³• > getter / setteræ–¹æ³•ï¼Œæ­¤æ¡è§„åˆ™è§„åˆ™çš„ä¼˜å…ˆçº§ä½äºä¸Šä¸€æ¡ ã€æ¨èã€‘setter æ–¹æ³•ä¸­ï¼Œå‚æ•°åç§°ä¸ç±»æˆå‘˜å˜é‡åç§°ä¸€è‡´ï¼Œthis.æˆå‘˜å = å‚æ•°åã€‚åœ¨getter/setter æ–¹æ³•ä¸­ï¼Œä¸è¦å¢åŠ ä¸šåŠ¡é€»è¾‘ï¼Œä¼šå¢åŠ æ’æŸ¥é—®é¢˜çš„éš¾åº¦ ã€æ¨èã€‘å¾ªç¯ä½“å†…ï¼Œå­—ç¬¦ä¸²çš„è¿æ¥æ–¹å¼ï¼Œä½¿ç”¨ StringBuilder çš„ append æ–¹æ³•è¿›è¡Œæ›¿ä»£ ã€æ¨èã€‘æ…ç”¨ Object çš„ clone æ–¹æ³•æ¥æ‹·è´å¯¹è±¡ï¼Œè¯¥æ–¹æ³•é»˜è®¤ä¸ºæµ…æ‹·è´ ã€æ¨èã€‘ç±»æˆå‘˜ä¸æ–¹æ³•è®¿é—®æ§åˆ¶ä»ä¸¥ æ—¥æœŸæ—¶é—´ ã€å¼ºåˆ¶ã€‘æ—¥æœŸæ ¼å¼åŒ–æ—¶ï¼Œä¼ å…¥ pattern ä¸­è¡¨ç¤ºå¹´ä»½ç»Ÿä¸€ä½¿ç”¨å°å†™çš„ y ã€å¼ºåˆ¶ã€‘åœ¨æ—¥æœŸæ ¼å¼ä¸­åˆ†æ¸…æ¥šå¤§å†™çš„ M å’Œå°å†™çš„ mï¼Œå¤§å†™çš„ H å’Œå°å†™çš„ h åˆ†åˆ«æŒ‡ä»£çš„æ„ä¹‰ è¡¨ç¤ºæœˆä»½æ˜¯å¤§å†™çš„ Mï¼› è¡¨ç¤ºåˆ†é’Ÿåˆ™æ˜¯å°å†™çš„ mï¼› 24 å°æ—¶åˆ¶çš„æ˜¯å¤§å†™çš„ Hï¼› 12 å°æ—¶åˆ¶çš„åˆ™æ˜¯å°å†™çš„ h ã€å¼ºåˆ¶ã€‘è·å–å½“å‰æ¯«ç§’æ•°ï¼šSystem.currentTimeMillis(); è€Œä¸æ˜¯ new Date().getTime() JDK8ä»¥ä¸Šå¯ä»¥ä½¿ç”¨ Instant ã€å¼ºåˆ¶ã€‘ä¸å…è®¸åœ¨ç¨‹åºä»»ä½•åœ°æ–¹ä¸­ä½¿ç”¨ï¼š1ï¼‰java.sql.Dateã€‚ 2ï¼‰java.sql.Timeã€‚3ï¼‰java.sql.Timestamp ã€å¼ºåˆ¶ã€‘ä¸è¦åœ¨ç¨‹åºä¸­å†™æ­»ä¸€å¹´ä¸º 365 å¤© ã€æ¨èã€‘é¿å…å…¬å†é—°å¹´ 2 æœˆé—®é¢˜ã€‚é—°å¹´çš„ 2 æœˆä»½æœ‰ 29 å¤©ï¼Œä¸€å¹´åçš„é‚£ä¸€å¤©ä¸å¯èƒ½æ˜¯ 2 æœˆ 29æ—¥ ã€æ¨èã€‘ä½¿ç”¨æšä¸¾å€¼æ¥æŒ‡ä»£æœˆä»½ã€‚å¦‚æœä½¿ç”¨æ•°å­—ï¼Œæ³¨æ„ Dateï¼ŒCalendar ç­‰æ—¥æœŸç›¸å…³ç±»çš„æœˆä»½month å–å€¼åœ¨ 0-11 ä¹‹é—´ é›†åˆå¤„ç† ã€å¼ºåˆ¶ã€‘å…³äº hashCode å’Œ equals çš„å¤„ç†ï¼Œéµå¾ªå¦‚ä¸‹è§„åˆ™ åªè¦è¦†å†™ equalsï¼Œå°±å¿…é¡»è¦†å†™ hashCodeã€‚ å› ä¸º Set å­˜å‚¨çš„æ˜¯ä¸é‡å¤çš„å¯¹è±¡ï¼Œä¾æ® hashCode å’Œ equals è¿›è¡Œåˆ¤æ–­ï¼Œæ‰€ä»¥ Set å­˜å‚¨çš„å¯¹è±¡å¿…é¡»è¦† å†™è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ å¦‚æœè‡ªå®šä¹‰å¯¹è±¡ä½œä¸º Map çš„é”®ï¼Œé‚£ä¹ˆå¿…é¡»è¦†å†™ hashCode å’Œ equalsã€‚ ã€å¼ºåˆ¶ã€‘åˆ¤æ–­æ‰€æœ‰é›†åˆå†…éƒ¨çš„å…ƒç´ æ˜¯å¦ä¸ºç©ºï¼Œä½¿ç”¨ isEmpty()æ–¹æ³•ï¼Œè€Œä¸æ˜¯ size()==0 çš„æ–¹å¼ ã€å¼ºåˆ¶ã€‘åœ¨ä½¿ç”¨ java.util.stream.Collectors ç±»çš„ toMap()æ–¹æ³•è½¬ä¸º Map é›†åˆæ—¶ï¼Œä¸€å®šè¦ä½¿ç”¨å«æœ‰å‚æ•°ç±»å‹ä¸º BinaryOperatorï¼Œå‚æ•°åä¸º mergeFunction çš„æ–¹æ³•ï¼Œå¦åˆ™å½“å‡ºç°ç›¸åŒ keyå€¼æ—¶ä¼šæŠ›å‡º IllegalStateException å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘åœ¨ä½¿ç”¨ java.util.stream.Collectors ç±»çš„ toMap()æ–¹æ³•è½¬ä¸º Map é›†åˆæ—¶ï¼Œä¸€å®šè¦æ³¨æ„å½“ value ä¸º null æ—¶ä¼šæŠ› NPE å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘ArrayList çš„ subList ç»“æœä¸å¯å¼ºè½¬æˆ ArrayList subListè¿”å›çš„æ˜¯åŸæ¥Listçš„ä¸€ä¸ªæ˜ å°„ åœ¨subListä¸Šæ‰€åšçš„ä¿®æ”¹éƒ½ä¼šåæ˜ åˆ°åŸList ã€å¼ºåˆ¶ã€‘ä½¿ç”¨ Map çš„æ–¹æ³• keySet() / values() / entrySet() è¿”å›é›†åˆå¯¹è±¡æ—¶ï¼Œä¸å¯ä»¥å¯¹å…¶è¿›è¡Œæ·»åŠ å…ƒç´ æ“ä½œï¼Œå¦åˆ™ä¼šæŠ›å‡º UnsupportedOperationException å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘Collections ç±»è¿”å›çš„å¯¹è±¡ï¼Œå¦‚ï¼š emptyList() / singletonList() ç­‰éƒ½æ˜¯ immutablelistï¼Œä¸å¯å¯¹å…¶è¿›è¡Œæ·»åŠ æˆ–è€…åˆ é™¤å…ƒç´ çš„æ“ä½œ ã€å¼ºåˆ¶ã€‘åœ¨ subList åœºæ™¯ä¸­ï¼Œé«˜åº¦æ³¨æ„å¯¹åŸé›†åˆå…ƒç´ çš„å¢åŠ æˆ–åˆ é™¤ï¼Œå‡ä¼šå¯¼è‡´å­åˆ—è¡¨çš„éå†ã€å¢åŠ ã€åˆ é™¤äº§ç”Ÿ ConcurrentModificationException å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘ä½¿ç”¨é›†åˆè½¬æ•°ç»„çš„æ–¹æ³•ï¼Œå¿…é¡»ä½¿ç”¨é›†åˆçš„ toArray(T[] array)ï¼Œä¼ å…¥çš„æ˜¯ç±»å‹å®Œå…¨ä¸€è‡´ã€é•¿åº¦ä¸º 0 çš„ç©ºæ•°ç»„ ã€å¼ºåˆ¶ã€‘åœ¨ä½¿ç”¨ Collection æ¥å£ä»»ä½•å®ç°ç±»çš„ addAll()æ–¹æ³•æ—¶ï¼Œéƒ½è¦å¯¹è¾“å…¥çš„é›†åˆå‚æ•°è¿›è¡ŒNPE åˆ¤æ–­ ã€å¼ºåˆ¶ã€‘ä½¿ç”¨å·¥å…·ç±» Arrays.asList()æŠŠæ•°ç»„è½¬æ¢æˆé›†åˆæ—¶ï¼Œä¸èƒ½ä½¿ç”¨å…¶ä¿®æ”¹é›†åˆç›¸å…³çš„æ–¹æ³•ï¼Œå®ƒçš„ add/remove/clear æ–¹æ³•ä¼šæŠ›å‡º UnsupportedOperationException å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘ä½¿ç”¨å·¥å…·ç±» Arrays.asList()æŠŠæ•°ç»„è½¬æ¢æˆé›†åˆæ—¶ï¼Œä¸èƒ½ä½¿ç”¨å…¶ä¿®æ”¹é›†åˆç›¸å…³çš„æ–¹æ³•ï¼Œå®ƒçš„ add/remove/clear æ–¹æ³•ä¼šæŠ›å‡º UnsupportedOperationException å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘æ³›å‹é€šé…ç¬¦ æ¥æ¥æ”¶è¿”å›çš„æ•°æ®ï¼Œæ­¤å†™æ³•çš„æ³›å‹é›†åˆä¸èƒ½ä½¿ç”¨ add æ–¹æ³•ï¼Œè€Œ ä¸èƒ½ä½¿ç”¨ get æ–¹æ³• ã€å¼ºåˆ¶ã€‘åœ¨æ— æ³›å‹é™åˆ¶å®šä¹‰çš„é›†åˆèµ‹å€¼ç»™æ³›å‹é™åˆ¶çš„é›†åˆæ—¶ï¼Œåœ¨ä½¿ç”¨é›†åˆå…ƒç´ æ—¶ï¼Œéœ€è¦è¿›è¡Œinstanceof åˆ¤æ–­ï¼Œé¿å…æŠ›å‡º ClassCastException å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘ä¸è¦åœ¨ foreach å¾ªç¯é‡Œè¿›è¡Œå…ƒç´ çš„ remove/add æ“ä½œã€‚remove å…ƒç´ è¯·ä½¿ç”¨Iterator æ–¹å¼ï¼Œå¦‚æœå¹¶å‘æ“ä½œï¼Œéœ€è¦å¯¹ Iterator å¯¹è±¡åŠ é” ã€å¼ºåˆ¶ã€‘åœ¨ JDK 7 ç‰ˆæœ¬åŠä»¥ä¸Šï¼Œ Comparator å®ç°ç±»è¦æ»¡è¶³å¯¹ç§°æ€§ä¸ä¼ é€’æ€§ï¼Œä¸ç„¶ Arrays.sort ï¼ŒCollections.sort ä¼šæŠ› IllegalArgumentException å¼‚å¸¸ ã€æ¨èã€‘é›†åˆæ³›å‹å®šä¹‰æ—¶ï¼Œåœ¨ JDK7 åŠä»¥ä¸Šï¼Œä½¿ç”¨ diamond è¯­æ³•æˆ–å…¨çœç•¥ ã€æ¨èã€‘é›†åˆåˆå§‹åŒ–æ—¶ï¼ŒæŒ‡å®šé›†åˆåˆå§‹å€¼å¤§å° ã€æ¨èã€‘ä½¿ç”¨ entrySet éå† Map ç±»é›†åˆ KV ï¼Œè€Œä¸æ˜¯ keySet æ–¹å¼è¿›è¡Œéå† ã€æ¨èã€‘é«˜åº¦æ³¨æ„ Map ç±»é›†åˆ K/V èƒ½ä¸èƒ½å­˜å‚¨ null å€¼çš„æƒ…å†µ ã€å‚è€ƒã€‘åˆç†åˆ©ç”¨å¥½é›†åˆçš„æœ‰åºæ€§(sort)å’Œç¨³å®šæ€§(order)ï¼Œé¿å…é›†åˆçš„æ— åºæ€§(unsort)å’Œä¸ç¨³å®šæ€§(unorder)å¸¦æ¥çš„è´Ÿé¢å½±å“ ã€å‚è€ƒã€‘åˆ©ç”¨ Set å…ƒç´ å”¯ä¸€çš„ç‰¹æ€§ï¼Œå¯ä»¥å¿«é€Ÿå¯¹ä¸€ä¸ªé›†åˆè¿›è¡Œå»é‡æ“ä½œ å¹¶å‘å¤„ç† ã€å¼ºåˆ¶ã€‘è·å–å•ä¾‹å¯¹è±¡éœ€è¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå…¶ä¸­çš„æ–¹æ³•ä¹Ÿè¦ä¿è¯çº¿ç¨‹å®‰å…¨ ã€å¼ºåˆ¶ã€‘åˆ›å»ºçº¿ç¨‹æˆ–çº¿ç¨‹æ± æ—¶è¯·æŒ‡å®šæœ‰æ„ä¹‰çš„çº¿ç¨‹åç§°ï¼Œæ–¹ä¾¿å‡ºé”™æ—¶å›æº¯ ã€å¼ºåˆ¶ã€‘çº¿ç¨‹èµ„æºå¿…é¡»é€šè¿‡çº¿ç¨‹æ± æä¾›ï¼Œä¸å…è®¸åœ¨åº”ç”¨ä¸­è‡ªè¡Œæ˜¾å¼åˆ›å»ºçº¿ç¨‹ ã€å¼ºåˆ¶ã€‘çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ Executors å»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ ThreadPoolExecutor çš„æ–¹å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™© ã€å¼ºåˆ¶ã€‘SimpleDateFormat æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ç±»ï¼Œä¸€èˆ¬ä¸è¦å®šä¹‰ä¸º static å˜é‡ï¼Œå¦‚æœå®šä¹‰ä¸ºstatic ï¼Œå¿…é¡»åŠ é”ï¼Œæˆ–è€…ä½¿ç”¨ DateUtils å·¥å…·ç±» ã€å¼ºåˆ¶ã€‘å¿…é¡»å›æ”¶è‡ªå®šä¹‰çš„ ThreadLocal å˜é‡ï¼Œå°¤å…¶åœ¨çº¿ç¨‹æ± åœºæ™¯ä¸‹ï¼Œçº¿ç¨‹ç»å¸¸ä¼šè¢«å¤ç”¨ï¼Œå¦‚æœä¸æ¸…ç†è‡ªå®šä¹‰çš„ ThreadLocal å˜é‡ï¼Œå¯èƒ½ä¼šå½±å“åç»­ä¸šåŠ¡é€»è¾‘å’Œé€ æˆå†…å­˜æ³„éœ²ç­‰é—®é¢˜ã€‚å°½é‡åœ¨ä»£ç†ä¸­ä½¿ç”¨ try-finally å—è¿›è¡Œå›æ”¶ ã€å¼ºåˆ¶ã€‘é«˜å¹¶å‘æ—¶ï¼ŒåŒæ­¥è°ƒç”¨åº”è¯¥å»è€ƒé‡é”çš„æ€§èƒ½æŸè€—ã€‚èƒ½ç”¨æ— é”æ•°æ®ç»“æ„ï¼Œå°±ä¸è¦ç”¨é” ï¼›èƒ½é”åŒºå—ï¼Œå°±ä¸è¦é”æ•´ä¸ªæ–¹æ³•ä½“ ï¼› èƒ½ç”¨å¯¹è±¡é”ï¼Œå°±ä¸è¦ç”¨ç±»é” ã€å¼ºåˆ¶ã€‘å¯¹å¤šä¸ªèµ„æºã€æ•°æ®åº“è¡¨ã€å¯¹è±¡åŒæ—¶åŠ é”æ—¶ï¼Œéœ€è¦ä¿æŒä¸€è‡´çš„åŠ é”é¡ºåºï¼Œå¦åˆ™å¯èƒ½ä¼šé€ æˆæ­»é” ã€å¼ºåˆ¶ã€‘åœ¨ä½¿ç”¨é˜»å¡ç­‰å¾…è·å–é”çš„æ–¹å¼ä¸­ï¼Œå¿…é¡»åœ¨ try ä»£ç å—ä¹‹å¤–ï¼Œå¹¶ä¸”åœ¨åŠ é”æ–¹æ³•ä¸ try ä»£ç å—ä¹‹é—´æ²¡æœ‰ä»»ä½•å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•è°ƒç”¨ï¼Œé¿å…åŠ é”æˆåŠŸåï¼Œåœ¨ finally ä¸­æ— æ³•è§£é” ã€å¼ºåˆ¶ã€‘åœ¨ä½¿ç”¨å°è¯•æœºåˆ¶æ¥è·å–é”çš„æ–¹å¼ä¸­ï¼Œè¿›å…¥ä¸šåŠ¡ä»£ç å—ä¹‹å‰ï¼Œå¿…é¡»å…ˆåˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦æŒæœ‰é” ã€å¼ºåˆ¶ã€‘å¹¶å‘ä¿®æ”¹åŒä¸€è®°å½•æ—¶ï¼Œé¿å…æ›´æ–°ä¸¢å¤±ï¼Œéœ€è¦åŠ é”ã€‚è¦ä¹ˆåœ¨åº”ç”¨å±‚åŠ é”ï¼Œè¦ä¹ˆåœ¨ç¼“å­˜åŠ é”ï¼Œè¦ä¹ˆåœ¨æ•°æ®åº“å±‚ä½¿ç”¨ä¹è§‚é”ï¼Œä½¿ç”¨ version ä½œä¸ºæ›´æ–°ä¾æ® ã€å¼ºåˆ¶ã€‘å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†å®šæ—¶ä»»åŠ¡æ—¶ï¼Œ Timer è¿è¡Œå¤šä¸ª TimeTask æ—¶ï¼Œåªè¦å…¶ä¸­ä¹‹ä¸€æ²¡æœ‰æ•è·æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå…¶å®ƒä»»åŠ¡ä¾¿ä¼šè‡ªåŠ¨ç»ˆæ­¢è¿è¡Œï¼Œå¦‚æœåœ¨å¤„ç†å®šæ—¶ä»»åŠ¡æ—¶ä½¿ç”¨ScheduledExecutorService åˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜ ã€æ¨èã€‘èµ„é‡‘ç›¸å…³çš„é‡‘èæ•æ„Ÿä¿¡æ¯ï¼Œä½¿ç”¨æ‚²è§‚é”ç­–ç•¥ ã€æ¨èã€‘ä½¿ç”¨ CountDownLatch è¿›è¡Œå¼‚æ­¥è½¬åŒæ­¥æ“ä½œï¼Œæ¯ä¸ªçº¿ç¨‹é€€å‡ºå‰å¿…é¡»è°ƒç”¨ countDown æ–¹æ³•ï¼Œçº¿ç¨‹æ‰§è¡Œä»£ç æ³¨æ„ catch å¼‚å¸¸ï¼Œç¡®ä¿ countDown æ–¹æ³•è¢«æ‰§è¡Œåˆ°ï¼Œé¿å…ä¸»çº¿ç¨‹æ— æ³•æ‰§è¡Œè‡³await æ–¹æ³•ï¼Œç›´åˆ°è¶…æ—¶æ‰è¿”å›ç»“æœ ã€æ¨èã€‘é¿å… Random å®ä¾‹è¢«å¤šçº¿ç¨‹ä½¿ç”¨ ã€æ¨èã€‘é€šè¿‡åŒé‡æ£€æŸ¥é” ï¼ˆdouble - checked lockingï¼‰åœ¨å¹¶å‘åœºæ™¯ä»ç„¶ä¼šæœ‰é—®é¢˜ æ­¤æ—¶å¯ä»¥é€šè¿‡é…åˆvolatileå…³é”®å­—çš„æ–¹å¼è§£å†³ ã€å‚è€ƒã€‘volatileæ— æ³•è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ ã€å‚è€ƒã€‘HashMap åœ¨å®¹é‡ä¸å¤Ÿè¿›è¡Œ resize æ—¶ç”±äºé«˜å¹¶å‘å¯èƒ½å‡ºç°æ­»é“¾ï¼Œå¯¼è‡´ CPU é£™å‡ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­æ³¨æ„è§„é¿æ­¤é£é™© ã€å‚è€ƒã€‘ThreadLocal å¯¹è±¡ä½¿ç”¨ static ä¿®é¥°ï¼ŒThreadLocal æ— æ³•è§£å†³å…±äº«å¯¹è±¡çš„æ›´æ–°é—®é¢˜ æ§åˆ¶è¯­å¥ ã€å¼ºåˆ¶ã€‘åœ¨ä¸€ä¸ª switch å—å†…ï¼Œæ¯ä¸ª case è¦ä¹ˆé€šè¿‡ continue/break/return ç­‰æ¥ç»ˆæ­¢ï¼Œè¦ä¹ˆæ³¨é‡Šè¯´æ˜ç¨‹åºå°†ç»§ç»­æ‰§è¡Œåˆ°å“ªä¸€ä¸ª case ä¸ºæ­¢ï¼›åœ¨ä¸€ä¸ª switch å—å†…ï¼Œéƒ½å¿…é¡»åŒ…å«ä¸€ä¸ª default ã€å¼ºåˆ¶ã€‘åœ¨ä¸€ä¸ª switch å—å†…ï¼Œæ¯ä¸ª case è¦ä¹ˆé€šè¿‡ continue/break/return ç­‰æ¥ç»ˆæ­¢ï¼Œè¦ä¹ˆæ³¨é‡Šè¯´æ˜ç¨‹åºå°†ç»§ç»­æ‰§è¡Œåˆ°å“ªä¸€ä¸ª case ä¸ºæ­¢ï¼›åœ¨ä¸€ä¸ª switch å—å†…ï¼Œéƒ½å¿…é¡»åŒ…å«ä¸€ä¸ª default ã€å¼ºåˆ¶ã€‘å½“ switch æ‹¬å·å†…çš„å˜é‡ç±»å‹ä¸º String å¹¶ä¸”æ­¤å˜é‡ä¸ºå¤–éƒ¨å‚æ•°æ—¶ï¼Œå¿…é¡»å…ˆè¿›è¡Œ nullåˆ¤æ–­ ã€å¼ºåˆ¶ã€‘åœ¨ if / else / for / while / do è¯­å¥ä¸­å¿…é¡»ä½¿ç”¨å¤§æ‹¬å· ã€å¼ºåˆ¶ã€‘ä¸‰ç›®è¿ç®—ç¬¦ condition? è¡¨è¾¾å¼ 1 : è¡¨è¾¾å¼ 2 ä¸­ï¼Œé«˜åº¦æ³¨æ„è¡¨è¾¾å¼ 1 å’Œ 2 åœ¨ç±»å‹å¯¹é½æ—¶ï¼Œå¯èƒ½æŠ›å‡ºå› è‡ªåŠ¨æ‹†ç®±å¯¼è‡´çš„ NPE å¼‚å¸¸ ã€å¼ºåˆ¶ã€‘åœ¨é«˜å¹¶å‘åœºæ™¯ä¸­ï¼Œé¿å…ä½¿ç”¨â€ç­‰äºâ€åˆ¤æ–­ä½œä¸ºä¸­æ–­æˆ–é€€å‡ºçš„æ¡ä»¶ ã€æ¨èã€‘å½“æŸä¸ªæ–¹æ³•çš„ä»£ç æ€»è¡Œæ•°è¶…è¿‡ 10 è¡Œæ—¶ï¼Œreturn / throw ç­‰ä¸­æ–­é€»è¾‘çš„å³å¤§æ‹¬å·åå‡éœ€è¦åŠ ä¸€ä¸ªç©ºè¡Œ ã€æ¨èã€‘è¡¨è¾¾å¼‚å¸¸çš„åˆ†æ”¯æ—¶ï¼Œå°‘ç”¨ if-else æ–¹å¼ ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ç”¨å«è¯­å¥ ç­–ç•¥æ¨¡å¼ çŠ¶æ€æ¨¡å¼ç­‰å®ç° ã€æ¨èã€‘é™¤å¸¸ç”¨æ–¹æ³•ï¼ˆå¦‚ getXxx/isXxx ï¼‰ç­‰å¤–ï¼Œä¸è¦åœ¨æ¡ä»¶åˆ¤æ–­ä¸­æ‰§è¡Œå…¶å®ƒå¤æ‚çš„è¯­å¥ï¼Œå°†å¤æ‚é€»è¾‘åˆ¤æ–­çš„ç»“æœèµ‹å€¼ç»™ä¸€ä¸ªæœ‰æ„ä¹‰çš„å¸ƒå°”å˜é‡åï¼Œä»¥æé«˜å¯è¯»æ€§ ã€æ¨èã€‘ä¸è¦åœ¨å…¶å®ƒè¡¨è¾¾å¼ï¼ˆå°¤å…¶æ˜¯æ¡ä»¶è¡¨è¾¾å¼ï¼‰ä¸­ï¼Œæ’å…¥èµ‹å€¼è¯­å¥ ã€æ¨èã€‘ä¸å¾ªç¯ä½“ä¸­çš„è¯­å¥è¦è€ƒé‡æ€§èƒ½ï¼Œä»¥ä¸‹æ“ä½œå°½é‡ç§»è‡³å¾ªç¯ä½“å¤–å¤„ç†ï¼Œå¦‚å®šä¹‰å¯¹è±¡ã€å˜é‡ã€è·å–æ•°æ®åº“è¿æ¥ï¼Œè¿›è¡Œä¸å¿…è¦çš„ try - catch æ“ä½œ ï¼ˆ è¿™ä¸ª try - catch æ˜¯å¦å¯ä»¥ç§»è‡³å¾ªç¯ä½“å¤– ï¼‰ ã€æ¨èã€‘é¿å…é‡‡ç”¨å–åé€»è¾‘è¿ç®—ç¬¦ ã€æ¨èã€‘å…¬å¼€æ¥å£éœ€è¦è¿›è¡Œå…¥å‚ä¿æŠ¤ï¼Œå°¤å…¶æ˜¯æ‰¹é‡æ“ä½œçš„æ¥å£ ã€å‚è€ƒã€‘éœ€è¦è¿›è¡Œå‚æ•°æ ¡éªŒçš„æƒ…å½¢ è°ƒç”¨é¢‘æ¬¡ä½çš„æ–¹æ³•ã€‚ æ‰§è¡Œæ—¶é—´å¼€é”€å¾ˆå¤§çš„æ–¹æ³•ã€‚æ­¤æƒ…å½¢ä¸­ï¼Œå‚æ•°æ ¡éªŒæ—¶é—´å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†å¦‚æœå› ä¸ºå‚æ•°é”™è¯¯å¯¼è‡´ä¸­é—´æ‰§è¡Œå›é€€ï¼Œæˆ–è€…é”™è¯¯ï¼Œé‚£å¾—ä¸å¿å¤±ã€‚ éœ€è¦æé«˜ç¨³å®šæ€§å’Œå¯ç”¨æ€§çš„æ–¹æ³•ã€‚ å¯¹å¤–æä¾›çš„å¼€æ”¾æ¥å£ï¼Œä¸ç®¡æ˜¯ RPC/API/HTTP æ¥å£ã€‚ æ•æ„Ÿæƒé™å…¥å£ ã€å‚è€ƒã€‘ä¸éœ€è¦è¿›è¡Œå‚æ•°æ ¡éªŒçš„æƒ…å½¢ ææœ‰å¯èƒ½è¢«å¾ªç¯è°ƒç”¨çš„æ–¹æ³•ã€‚ä½†åœ¨æ–¹æ³•è¯´æ˜é‡Œå¿…é¡»æ³¨æ˜å¤–éƒ¨å‚æ•°æ£€æŸ¥ã€‚ åº•å±‚è°ƒç”¨é¢‘åº¦æ¯”è¾ƒé«˜çš„æ–¹æ³•ã€‚æ¯•ç«Ÿæ˜¯åƒçº¯å‡€æ°´è¿‡æ»¤çš„æœ€åä¸€é“ï¼Œå‚æ•°é”™è¯¯ä¸å¤ªå¯èƒ½åˆ°åº•å±‚æ‰ä¼šæš´éœ²é—®é¢˜ã€‚ä¸€èˆ¬ DAO å±‚ä¸ Service å±‚éƒ½åœ¨åŒä¸€ä¸ªåº”ç”¨ä¸­ï¼Œéƒ¨ç½²åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸­ï¼Œæ‰€ä»¥ DAO çš„å‚æ•°æ ¡éªŒï¼Œå¯ä»¥çœç•¥ã€‚ è¢«å£°æ˜æˆ private åªä¼šè¢«è‡ªå·±ä»£ç æ‰€è°ƒç”¨çš„æ–¹æ³•ï¼Œå¦‚æœèƒ½å¤Ÿç¡®å®šè°ƒç”¨æ–¹æ³•çš„ä»£ç ä¼ å…¥å‚æ•°å·²ç»åšè¿‡æ£€æŸ¥æˆ–è€…è‚¯å®šä¸ä¼šæœ‰é—®é¢˜ï¼Œæ­¤æ—¶å¯ä»¥ä¸æ ¡éªŒå‚æ•°ã€‚ æ³¨é‡Šè§„çº¦ ã€å¼ºåˆ¶ã€‘ç±»ã€ç±»å±æ€§ã€ç±»æ–¹æ³•çš„æ³¨é‡Šå¿…é¡»ä½¿ç”¨ Javadoc è§„èŒƒ ã€å¼ºåˆ¶ã€‘æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³• ï¼ˆ åŒ…æ‹¬æ¥å£ä¸­çš„æ–¹æ³• ï¼‰ å¿…é¡»è¦ç”¨ Javadoc æ³¨é‡Šã€é™¤äº†è¿”å›å€¼ã€å‚æ•°ã€å¼‚å¸¸è¯´æ˜å¤–ï¼Œè¿˜å¿…é¡»æŒ‡å‡ºè¯¥æ–¹æ³•åšä»€ä¹ˆäº‹æƒ…ï¼Œå®ç°ä»€ä¹ˆåŠŸèƒ½ ã€å¼ºåˆ¶ã€‘æ‰€æœ‰çš„ç±»éƒ½å¿…é¡»æ·»åŠ åˆ›å»ºè€…å’Œåˆ›å»ºæ—¥æœŸ ã€å¼ºåˆ¶ã€‘æ–¹æ³•å†…éƒ¨å•è¡Œæ³¨é‡Šï¼Œåœ¨è¢«æ³¨é‡Šè¯­å¥ä¸Šæ–¹å¦èµ·ä¸€è¡Œï¼Œä½¿ç”¨//æ³¨é‡Š ã€å¼ºåˆ¶ã€‘æ‰€æœ‰çš„æšä¸¾ç±»å‹å­—æ®µå¿…é¡»è¦æœ‰æ³¨é‡Šï¼Œè¯´æ˜æ¯ä¸ªæ•°æ®é¡¹çš„ç”¨é€” ã€æ¨èã€‘ä¸å…¶â€œåŠåŠå­â€è‹±æ–‡æ¥æ³¨é‡Šï¼Œä¸å¦‚ç”¨ä¸­æ–‡æ³¨é‡ŠæŠŠé—®é¢˜è¯´æ¸…æ¥š ã€æ¨èã€‘ä¸å…¶â€œåŠåŠå­â€è‹±æ–‡æ¥æ³¨é‡Šï¼Œä¸å¦‚ç”¨ä¸­æ–‡æ³¨é‡ŠæŠŠé—®é¢˜è¯´æ¸…æ¥š ã€æ¨èã€‘ä»£ç ä¿®æ”¹çš„åŒæ—¶ï¼Œæ³¨é‡Šä¹Ÿè¦è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼Œå°¤å…¶æ˜¯å‚æ•°ã€è¿”å›å€¼ã€å¼‚å¸¸ã€æ ¸å¿ƒé€»è¾‘ç­‰çš„ä¿®æ”¹ ã€æ¨èã€‘åœ¨ç±»ä¸­åˆ é™¤æœªä½¿ç”¨çš„ä»»ä½•å­—æ®µã€æ–¹æ³•ã€å†…éƒ¨ç±»ï¼›åœ¨æ–¹æ³•ä¸­åˆ é™¤æœªä½¿ç”¨çš„ä»»ä½•å‚æ•°å£°æ˜ä¸å†…éƒ¨å˜é‡ ã€å‚è€ƒã€‘è°¨æ…æ³¨é‡Šæ‰ä»£ç ã€‚åœ¨ä¸Šæ–¹è¯¦ç»†è¯´æ˜ï¼Œè€Œä¸æ˜¯ç®€å•åœ°æ³¨é‡Šæ‰ã€‚å¦‚æœæ— ç”¨ï¼Œåˆ™åˆ é™¤ ã€å‚è€ƒã€‘å¯¹äºæ³¨é‡Šçš„è¦æ±‚ï¼šç¬¬ä¸€ã€èƒ½å¤Ÿå‡†ç¡®åæ˜ è®¾è®¡æ€æƒ³å’Œä»£ç é€»è¾‘ ï¼› ç¬¬äºŒã€èƒ½å¤Ÿæè¿°ä¸šåŠ¡å«ä¹‰ï¼Œä½¿åˆ«çš„ç¨‹åºå‘˜èƒ½å¤Ÿè¿…é€Ÿäº†è§£åˆ°ä»£ç èƒŒåçš„ä¿¡æ¯ã€‚å®Œå…¨æ²¡æœ‰æ³¨é‡Šçš„å¤§æ®µä»£ç å¯¹äºé˜…è¯»è€…å½¢åŒå¤©ä¹¦ï¼Œæ³¨é‡Šæ˜¯ç»™è‡ªå·±çœ‹çš„ï¼Œå³ä½¿éš”å¾ˆé•¿æ—¶é—´ï¼Œä¹Ÿèƒ½æ¸…æ™°ç†è§£å½“æ—¶çš„æ€è·¯ ï¼› æ³¨é‡Šä¹Ÿæ˜¯ç»™ç»§ä»»è€…çœ‹çš„ï¼Œä½¿å…¶èƒ½å¤Ÿå¿«é€Ÿæ¥æ›¿è‡ªå·±çš„å·¥ä½œ ã€å‚è€ƒã€‘å¥½çš„å‘½åã€ä»£ç ç»“æ„æ˜¯è‡ªè§£é‡Šçš„ï¼Œæ³¨é‡ŠåŠ›æ±‚ç²¾ç®€å‡†ç¡®ã€è¡¨è¾¾åˆ°ä½ã€‚é¿å…å‡ºç°æ³¨é‡Šçš„ä¸€ä¸ªæç«¯ï¼šè¿‡å¤šè¿‡æ»¥çš„æ³¨é‡Šï¼Œä»£ç çš„é€»è¾‘ä¸€æ—¦ä¿®æ”¹ï¼Œä¿®æ”¹æ³¨é‡Šåˆæ˜¯ç›¸å½“å¤§çš„è´Ÿæ‹… ã€å‚è€ƒã€‘ç‰¹æ®Šæ³¨é‡Šæ ‡è®°ï¼Œè¯·æ³¨æ˜æ ‡è®°äººä¸æ ‡è®°æ—¶é—´ã€‚æ³¨æ„åŠæ—¶å¤„ç†è¿™äº›æ ‡è®°ï¼Œé€šè¿‡æ ‡è®°æ‰«æï¼Œç»å¸¸æ¸…ç†æ­¤ç±»æ ‡è®° todo fixme å‰åç«¯è§„çº¦ ã€å¼ºåˆ¶ã€‘APIè§„èŒƒ åè®®ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨ HTTPSã€‚ è·¯å¾„ï¼šæ¯ä¸€ä¸ª API éœ€å¯¹åº”ä¸€ä¸ªè·¯å¾„ï¼Œè¡¨ç¤º API å…·ä½“çš„è¯·æ±‚åœ°å€ï¼š ä»£è¡¨ä¸€ç§èµ„æºï¼Œåªèƒ½ä¸ºåè¯ï¼Œæ¨èä½¿ç”¨å¤æ•°ï¼Œä¸èƒ½ä¸ºåŠ¨è¯ï¼Œè¯·æ±‚æ–¹æ³•å·²ç»è¡¨è¾¾åŠ¨ä½œæ„ä¹‰ã€‚ URL è·¯å¾„ä¸èƒ½ä½¿ç”¨å¤§å†™ï¼Œå•è¯å¦‚æœéœ€è¦åˆ†éš”ï¼Œç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿ã€‚ è·¯å¾„ç¦æ­¢æºå¸¦è¡¨ç¤ºè¯·æ±‚å†…å®¹ç±»å‹çš„åç¼€ï¼Œæ¯”å¦‚\".json\",\".xml\"ï¼Œé€šè¿‡ accept å¤´è¡¨è¾¾å³å¯ã€‚ è¯·æ±‚æ–¹æ³•ï¼šå¯¹å…·ä½“æ“ä½œçš„å®šä¹‰ï¼Œå¸¸è§çš„è¯·æ±‚æ–¹æ³•å¦‚ä¸‹ï¼š GETï¼šä»æœåŠ¡å™¨å–å‡ºèµ„æºã€‚ POSTï¼šåœ¨æœåŠ¡å™¨æ–°å»ºä¸€ä¸ªèµ„æºã€‚ PUTï¼šåœ¨æœåŠ¡å™¨æ›´æ–°èµ„æºã€‚ DELETEï¼šä»æœåŠ¡å™¨åˆ é™¤èµ„æºã€‚ è¯·æ±‚å†…å®¹ï¼šURL å¸¦çš„å‚æ•°å¿…é¡»æ— æ•æ„Ÿä¿¡æ¯æˆ–ç¬¦åˆå®‰å…¨è¦æ±‚ï¼›body é‡Œå¸¦å‚æ•°æ—¶å¿…é¡»è®¾ç½® Content-Typeã€‚ å“åº”ä½“ï¼šå“åº”ä½“ body å¯æ”¾ç½®å¤šç§æ•°æ®ç±»å‹ï¼Œç”± Content-Type å¤´æ¥ç¡®å®š ã€å¼ºåˆ¶ã€‘å‰åç«¯æ•°æ®åˆ—è¡¨ç›¸å…³çš„æ¥å£è¿”å›ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™è¿”å›ç©ºæ•°ç»„[]æˆ–ç©ºé›†åˆ{} ã€å¼ºåˆ¶ã€‘æœåŠ¡ç«¯å‘ç”Ÿé”™è¯¯æ—¶ï¼Œè¿”å›ç»™å‰ç«¯çš„å“åº”ä¿¡æ¯å¿…é¡»åŒ…å« HTTP çŠ¶æ€ç ï¼ŒerrorCodeã€errorMessageã€ç”¨æˆ·æç¤ºä¿¡æ¯å››ä¸ªéƒ¨åˆ† ã€å¼ºåˆ¶ã€‘åœ¨å‰åç«¯äº¤äº’çš„ JSON æ ¼å¼æ•°æ®ä¸­ï¼Œæ‰€æœ‰çš„ key å¿…é¡»ä¸ºå°å†™å­—æ¯å¼€å§‹çš„lowerCamelCase é£æ ¼ ã€å¼ºåˆ¶ã€‘errorMessage æ˜¯å‰åç«¯é”™è¯¯è¿½è¸ªæœºåˆ¶çš„ä½“ç°ï¼Œå¯ä»¥åœ¨å‰ç«¯è¾“å‡ºåˆ° type=\"hidden\"æ–‡å­—ç±»æ§ä»¶ä¸­ï¼Œæˆ–è€…ç”¨æˆ·ç«¯çš„æ—¥å¿—ä¸­ ã€å¼ºåˆ¶ã€‘å¯¹äºéœ€è¦ä½¿ç”¨è¶…å¤§æ•´æ•°çš„åœºæ™¯ï¼ŒæœåŠ¡ç«¯ä¸€å¾‹ä½¿ç”¨ String å­—ç¬¦ä¸²ç±»å‹è¿”å›ï¼Œç¦æ­¢ä½¿ç”¨Long ç±»å‹ ã€å¼ºåˆ¶ã€‘HTTP è¯·æ±‚é€šè¿‡ URL ä¼ é€’å‚æ•°æ—¶ï¼Œä¸èƒ½è¶…è¿‡ 2048 å­—èŠ‚ ã€å¼ºåˆ¶ã€‘HTTP è¯·æ±‚é€šè¿‡ body ä¼ é€’å†…å®¹æ—¶ï¼Œå¿…é¡»æ§åˆ¶é•¿åº¦ï¼Œè¶…å‡ºæœ€å¤§é•¿åº¦åï¼Œåç«¯è§£æä¼šå‡ºé”™ ã€å¼ºåˆ¶ã€‘åœ¨ç¿»é¡µåœºæ™¯ä¸­ï¼Œç”¨æˆ·è¾“å…¥å‚æ•°çš„å°äº 1ï¼Œåˆ™å‰ç«¯è¿”å›ç¬¬ä¸€é¡µå‚æ•°ç»™åç«¯ï¼›åç«¯å‘ç°ç”¨æˆ·è¾“å…¥çš„å‚æ•°å¤§äºæ€»é¡µæ•°ï¼Œç›´æ¥è¿”å›æœ€åä¸€é¡µ ã€å¼ºåˆ¶ã€‘æœåŠ¡å™¨å†…éƒ¨é‡å®šå‘å¿…é¡»ä½¿ç”¨ forwardï¼›å¤–éƒ¨é‡å®šå‘åœ°å€å¿…é¡»ä½¿ç”¨ URL ç»Ÿä¸€ä»£ç†æ¨¡å—ç”Ÿæˆï¼Œå¦åˆ™ä¼šå› çº¿ä¸Šé‡‡ç”¨ HTTPS åè®®è€Œå¯¼è‡´æµè§ˆå™¨æç¤ºâ€œä¸å®‰å…¨â€ï¼Œå¹¶ä¸”è¿˜ä¼šå¸¦æ¥ URL ç»´æŠ¤ä¸ä¸€è‡´çš„é—®é¢˜ ã€æ¨èã€‘æœåŠ¡å™¨è¿”å›ä¿¡æ¯å¿…é¡»è¢«æ ‡è®°æ˜¯å¦å¯ä»¥ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜ï¼Œå®¢æˆ·ç«¯å¯èƒ½ä¼šé‡ç”¨ä¹‹å‰çš„è¯·æ±‚ç»“æœ ã€æ¨èã€‘æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ï¼Œä½¿ç”¨ JSON æ ¼å¼è€Œé XML ã€æ¨èã€‘å‰åç«¯çš„æ—¶é—´æ ¼å¼ç»Ÿä¸€ä¸º\"yyyy-MM-dd HH:mm:ss\"ï¼Œç»Ÿä¸€ä¸º GMT ã€å‚è€ƒã€‘åœ¨æ¥å£è·¯å¾„ä¸­ä¸è¦åŠ å…¥ç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬æ§åˆ¶åœ¨ HTTP å¤´ä¿¡æ¯ä¸­ä½“ç°ï¼Œæœ‰åˆ©äºå‘å‰å…¼å®¹ å…¶ä»– ã€å¼ºåˆ¶ã€‘åœ¨ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œåˆ©ç”¨å¥½å…¶é¢„ç¼–è¯‘åŠŸèƒ½ï¼Œå¯ä»¥æœ‰æ•ˆåŠ å¿«æ­£åˆ™åŒ¹é…é€Ÿåº¦ ã€å¼ºåˆ¶ã€‘é¿å…ç”¨ Apache Beanutils è¿›è¡Œå±æ€§çš„ copy ã€å¼ºåˆ¶ã€‘æ³¨æ„ Math . random() è¿™ä¸ªæ–¹æ³•è¿”å›æ˜¯ double ç±»å‹ï¼Œæ³¨æ„å–å€¼çš„èŒƒå›´ 0 â‰¤ x ã€æ¨èã€‘ä¸è¦åœ¨è§†å›¾æ¨¡æ¿ä¸­åŠ å…¥ä»»ä½•å¤æ‚çš„é€»è¾‘ ã€æ¨èã€‘ä¸ä»»ä½•æ•°æ®ç»“æ„çš„æ„é€ æˆ–åˆå§‹åŒ–ï¼Œéƒ½åº”æŒ‡å®šå¤§å°ï¼Œé¿å…æ•°æ®ç»“æ„æ— é™å¢é•¿åƒå…‰å†…å­˜ å¼‚å¸¸æ—¥å¿— é”™è¯¯ç  ã€å¼ºåˆ¶ã€‘é”™è¯¯ç çš„åˆ¶å®šåŸåˆ™ï¼šå¿«é€Ÿæº¯æºã€æ²Ÿé€šæ ‡å‡†åŒ– ã€å¼ºåˆ¶ã€‘é”™è¯¯ç ä¸ä½“ç°ç‰ˆæœ¬å·å’Œé”™è¯¯ç­‰çº§ä¿¡æ¯ ã€å¼ºåˆ¶ã€‘å…¨éƒ¨æ­£å¸¸ï¼Œä½†ä¸å¾—ä¸å¡«å……é”™è¯¯ç æ—¶è¿”å›äº”ä¸ªé›¶ï¼š00000 ã€å¼ºåˆ¶ã€‘é”™è¯¯ç ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œå…± 5 ä½ï¼Œåˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼šé”™è¯¯äº§ç”Ÿæ¥æº+å››ä½æ•°å­—ç¼–å· å‰1ä½ä»£è¡¨æ¥æº å4ä½ä»£è¡¨ç±»å‹ ã€å¼ºåˆ¶ã€‘ç¼–å·ä¸ä¸å…¬å¸ä¸šåŠ¡æ¶æ„ï¼Œæ›´ä¸ä¸ç»„ç»‡æ¶æ„æŒ‚é’©ï¼Œä»¥å…ˆåˆ°å…ˆå¾—çš„åŸåˆ™åœ¨ç»Ÿä¸€å¹³å°ä¸Šè¿›è¡Œï¼Œå®¡æ‰¹ç”Ÿæ•ˆï¼Œç¼–å·å³è¢«æ°¸ä¹…å›ºå®š ã€å¼ºåˆ¶ã€‘ç¼–å·ä¸ä¸å…¬å¸ä¸šåŠ¡æ¶æ„ï¼Œæ›´ä¸ä¸ç»„ç»‡æ¶æ„æŒ‚é’©ï¼Œä»¥å…ˆåˆ°å…ˆå¾—çš„åŸåˆ™åœ¨ç»Ÿä¸€å¹³å°ä¸Šè¿›è¡Œï¼Œå®¡æ‰¹ç”Ÿæ•ˆï¼Œç¼–å·å³è¢«æ°¸ä¹…å›ºå®š ã€å¼ºåˆ¶ã€‘é”™è¯¯ç ä½¿ç”¨è€…é¿å…éšæ„å®šä¹‰æ–°çš„é”™è¯¯ç  ã€å¼ºåˆ¶ã€‘é”™è¯¯ç ä¸èƒ½ç›´æ¥è¾“å‡ºç»™ç”¨æˆ·ä½œä¸ºæç¤ºä¿¡æ¯ä½¿ç”¨ ã€æ¨èã€‘é”™è¯¯ç ä¹‹å¤–çš„ä¸šåŠ¡ç‹¬ç‰¹ä¿¡æ¯ç”± error_message æ¥æ‰¿è½½ï¼Œè€Œä¸æ˜¯è®©é”™è¯¯ç æœ¬èº«æ¶µç›–è¿‡å¤šå…·ä½“ä¸šåŠ¡å±æ€§ ã€æ¨èã€‘åœ¨è·å–ç¬¬ä¸‰æ–¹æœåŠ¡é”™è¯¯ç æ—¶ï¼Œå‘ä¸ŠæŠ›å‡ºå…è®¸æœ¬ç³»ç»Ÿè½¬ä¹‰ï¼Œå°†é”™è¯¯æ¥æºè¿›è¡Œè½¬æ¢ å¹¶é™„å¸¦åŸæ¥çš„é”™è¯¯ç  ã€å‚è€ƒã€‘é”™è¯¯ç çš„åä¸‰ä½ç¼–å·ä¸ HTTP çŠ¶æ€ç æ²¡æœ‰ä»»ä½•å…³ç³» ã€å‚è€ƒã€‘é”™è¯¯ç æœ‰åˆ©äºä¸åŒæ–‡åŒ–èƒŒæ™¯çš„å¼€å‘è€…è¿›è¡Œäº¤æµä¸ä»£ç åä½œ ã€å‚è€ƒã€‘é”™è¯¯ç å³äººæ€§ï¼Œæ„Ÿæ€§è®¤çŸ¥+å£å£ç›¸ä¼ ï¼Œä½¿ç”¨çº¯æ•°å­—æ¥è¿›è¡Œé”™è¯¯ç ç¼–æ’ä¸åˆ©äºæ„Ÿæ€§è®°å¿†å’Œåˆ†ç±» æ—¥å¿— ã€å¼ºåˆ¶ã€‘Java ç±»åº“ä¸­å®šä¹‰çš„å¯ä»¥é€šè¿‡é¢„æ£€æŸ¥æ–¹å¼è§„é¿çš„ RuntimeException å¼‚å¸¸ä¸åº”è¯¥é€šè¿‡catch çš„æ–¹å¼æ¥å¤„ç†ï¼Œæ¯”å¦‚ï¼šNullPointerExceptionï¼ŒIndexOutOfBoundsException ç­‰ç­‰ ã€å¼ºåˆ¶ã€‘å¼‚å¸¸æ•è·åä¸è¦ç”¨æ¥åšæµç¨‹æ§åˆ¶ï¼Œæ¡ä»¶æ§åˆ¶ ã€å¼ºåˆ¶ã€‘catch æ—¶è¯·åˆ†æ¸…ç¨³å®šä»£ç å’Œéç¨³å®šä»£ç ï¼Œç¨³å®šä»£ç æŒ‡çš„æ˜¯æ— è®ºå¦‚ä½•ä¸ä¼šå‡ºé”™çš„ä»£ç ã€‚å¯¹äºéç¨³å®šä»£ç çš„ catch å°½å¯èƒ½è¿›è¡ŒåŒºåˆ†å¼‚å¸¸ç±»å‹ï¼Œå†åšå¯¹åº”çš„å¼‚å¸¸å¤„ç† ã€å¼ºåˆ¶ã€‘å¦‚æœä¸å¤„ç†å¼‚å¸¸ å°±ä¸è¦æ•è· éšå®ƒç”±è°ƒç”¨é“¾æŠ›å‡º ã€å¼ºåˆ¶ã€‘äº‹åŠ¡åœºæ™¯ä¸­ï¼ŒæŠ›å‡ºå¼‚å¸¸è¢« catch åï¼Œå¦‚æœéœ€è¦å›æ»šï¼Œä¸€å®šè¦æ³¨æ„æ‰‹åŠ¨å›æ»šäº‹åŠ¡ ã€å¼ºåˆ¶ã€‘finally å—å¿…é¡»å¯¹èµ„æºå¯¹è±¡ã€æµå¯¹è±¡è¿›è¡Œå…³é—­ï¼Œæœ‰å¼‚å¸¸ä¹Ÿè¦åš try-catch JDK7 å¯ä»¥ä½¿ç”¨try-with-resourcesè¯­æ³• ã€å¼ºåˆ¶ã€‘ä¸è¦åœ¨ finally å—ä¸­ä½¿ç”¨ return ã€å¼ºåˆ¶ã€‘åœ¨è°ƒç”¨ RPCã€äºŒæ–¹åŒ…ã€æˆ–åŠ¨æ€ç”Ÿæˆç±»çš„ç›¸å…³æ–¹æ³•æ—¶ï¼Œæ•æ‰å¼‚å¸¸å¿…é¡»ä½¿ç”¨ Throwableç±»æ¥è¿›è¡Œæ‹¦æˆª ã€æ¨èã€‘æ–¹æ³•çš„è¿”å›å€¼å¯ä»¥ä¸º nullï¼Œä¸å¼ºåˆ¶è¿”å›ç©ºé›†åˆï¼Œæˆ–è€…ç©ºå¯¹è±¡ç­‰ï¼Œå¿…é¡»æ·»åŠ æ³¨é‡Šå……åˆ†è¯´æ˜ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¿”å› null å€¼ ã€å¼ºåˆ¶ã€‘æ³¨æ„NPEçš„äº§ç”Ÿåœºæ™¯ è¿”å›ç±»å‹ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œreturn åŒ…è£…æ•°æ®ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨æ‹†ç®±æœ‰å¯èƒ½äº§ç”Ÿ NPEã€‚ æ•°æ®åº“çš„æŸ¥è¯¢ç»“æœå¯èƒ½ä¸º nullã€‚ é›†åˆé‡Œçš„å…ƒç´ å³ä½¿ isNotEmptyï¼Œå–å‡ºçš„æ•°æ®å…ƒç´ ä¹Ÿå¯èƒ½ä¸º nullã€‚ è¿œç¨‹è°ƒç”¨è¿”å›å¯¹è±¡æ—¶ï¼Œä¸€å¾‹è¦æ±‚è¿›è¡Œç©ºæŒ‡é’ˆåˆ¤æ–­ï¼Œé˜²æ­¢ NPEã€‚ å¯¹äº Session ä¸­è·å–çš„æ•°æ®ï¼Œå»ºè®®è¿›è¡Œ NPE æ£€æŸ¥ï¼Œé¿å…ç©ºæŒ‡é’ˆã€‚ çº§è”è°ƒç”¨ obj.getA().getB().getC()ï¼›ä¸€è¿ä¸²è°ƒç”¨ï¼Œæ˜“äº§ç”Ÿ NPE ã€æ¨èã€‘é¿å…ç›´æ¥æŠ›å‡º new RuntimeException()ï¼Œæ›´ä¸å…è®¸æŠ›å‡º Exception æˆ–è€… Throwableï¼Œåº”ä½¿ç”¨æœ‰ä¸šåŠ¡å«ä¹‰çš„è‡ªå®šä¹‰å¼‚å¸¸ã€‚æ¨èä¸šç•Œå·²å®šä¹‰è¿‡çš„è‡ªå®šä¹‰å¼‚å¸¸ ã€å‚è€ƒã€‘å¯¹äºå…¬å¸å¤–çš„ http/api å¼€æ”¾æ¥å£å¿…é¡»ä½¿ç”¨ errorCodeï¼›è€Œåº”ç”¨å†…éƒ¨æ¨èå¼‚å¸¸æŠ›å‡ºï¼›è·¨åº”ç”¨é—´ RPC è°ƒç”¨ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ Result æ–¹å¼ï¼Œå°è£… isSuccess()æ–¹æ³•ã€errorCodeã€errorMessage æ—¥å¿—è§„çº¦ ã€å¼ºåˆ¶ã€‘åº”ç”¨ä¸­ä¸å¯ç›´æ¥ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿ ï¼ˆLog 4 j ã€ Logbackï¼‰ ä¸­çš„ API ï¼Œè€Œåº”ä¾èµ–ä½¿ç”¨æ—¥å¿—æ¡†æ¶ï¼ˆSLF4Jã€JCL--Jakarta Commons Loggingï¼‰ ä¸­çš„ API ã€å¼ºåˆ¶ã€‘æ‰€æœ‰æ—¥å¿—æ–‡ä»¶è‡³å°‘ä¿å­˜ 15 å¤©ï¼Œå¯¹äºå½“å¤©æ—¥å¿—ï¼Œä»¥â€œåº”ç”¨å.logâ€æ¥ä¿å­˜ è¿‡å¾€æ—¥å¿—æ ¼å¼ä¸º: {logname}.log.{yyyy-MM-dd} ã€å¼ºåˆ¶ã€‘åº”ç”¨ä¸­çš„æ‰©å±•æ—¥å¿— ï¼ˆ å¦‚æ‰“ç‚¹ã€ä¸´æ—¶ç›‘æ§ã€è®¿é—®æ—¥å¿—ç­‰ ï¼‰ å‘½åæ–¹å¼ï¼šappName_logType_logName.log ã€å¼ºåˆ¶ã€‘åœ¨æ—¥å¿—è¾“å‡ºæ—¶ï¼Œå­—ç¬¦ä¸²å˜é‡ä¹‹é—´çš„æ‹¼æ¥ä½¿ç”¨å ä½ç¬¦çš„æ–¹å¼ ã€å¼ºåˆ¶ã€‘å¯¹äº trace / debug / info çº§åˆ«çš„æ—¥å¿—è¾“å‡ºï¼Œå¿…é¡»è¿›è¡Œæ—¥å¿—çº§åˆ«çš„å¼€å…³åˆ¤æ–­ ã€å¼ºåˆ¶ã€‘é¿å…é‡å¤æ‰“å°æ—¥å¿—ï¼Œæµªè´¹ç£ç›˜ç©ºé—´ï¼ŒåŠ¡å¿…åœ¨æ—¥å¿—é…ç½®æ–‡ä»¶ä¸­è®¾ç½® additivity = false ã€å¼ºåˆ¶ã€‘ç”Ÿäº§ç¯å¢ƒç¦æ­¢ç›´æ¥ä½¿ç”¨ System.out æˆ– System.err è¾“å‡ºæ—¥å¿—æˆ–ä½¿ç”¨e.printStackTrace()æ‰“å°å¼‚å¸¸å †æ ˆ ã€å¼ºåˆ¶ã€‘å¼‚å¸¸ä¿¡æ¯åº”è¯¥åŒ…æ‹¬ä¸¤ç±»ä¿¡æ¯ï¼šæ¡ˆå‘ç°åœºä¿¡æ¯å’Œå¼‚å¸¸å †æ ˆä¿¡æ¯ã€‚å¦‚æœä¸å¤„ç†ï¼Œé‚£ä¹ˆé€šè¿‡å…³é”®å­— throws å¾€ä¸ŠæŠ›å‡º ã€å¼ºåˆ¶ã€‘æ—¥å¿—æ‰“å°æ—¶ç¦æ­¢ç›´æ¥ç”¨ JSON å·¥å…·å°†å¯¹è±¡è½¬æ¢æˆ String ã€æ¨èã€‘è°¨æ…åœ°è®°å½•æ—¥å¿—ã€‚ç”Ÿäº§ç¯å¢ƒç¦æ­¢è¾“å‡º debug æ—¥å¿— ï¼› æœ‰é€‰æ‹©åœ°è¾“å‡º info æ—¥å¿—ï¼›æ³¨æ„æ—¥å¿—è¾“å‡ºé‡ ã€æ¨èã€‘å¯ä»¥ä½¿ç”¨ warn æ—¥å¿—çº§åˆ«æ¥è®°å½•ç”¨æˆ·è¾“å…¥å‚æ•°é”™è¯¯çš„æƒ…å†µï¼Œé¿å…ç”¨æˆ·æŠ•è¯‰æ—¶ï¼Œæ— æ‰€é€‚ä» å•å…ƒæµ‹è¯• ã€å¼ºåˆ¶ã€‘å¥½çš„å•å…ƒæµ‹è¯•å¿…é¡»éµFIRSTåŸåˆ™ ã€å¼ºåˆ¶ã€‘å¯¹äºå•å…ƒæµ‹è¯•ï¼Œè¦ä¿è¯æµ‹è¯•ç²’åº¦è¶³å¤Ÿå°ï¼Œæœ‰åŠ©äºç²¾ç¡®å®šä½é—®é¢˜ã€‚å•æµ‹ç²’åº¦è‡³å¤šæ˜¯ç±»çº§åˆ«ï¼Œä¸€èˆ¬æ˜¯æ–¹æ³•çº§åˆ« ã€å¼ºåˆ¶ã€‘æ ¸å¿ƒä¸šåŠ¡ã€æ ¸å¿ƒåº”ç”¨ã€æ ¸å¿ƒæ¨¡å—çš„å¢é‡ä»£ç ç¡®ä¿å•å…ƒæµ‹è¯•é€šè¿‡ ã€å¼ºåˆ¶ã€‘å•å…ƒæµ‹è¯•ä»£ç å¿…é¡»å†™åœ¨å¦‚ä¸‹å·¥ç¨‹ç›®å½•ï¼š src/test/java ã€æ¨èã€‘å•å…ƒæµ‹è¯•çš„åŸºæœ¬ç›®æ ‡ï¼šè¯­å¥è¦†ç›–ç‡è¾¾åˆ° 70% ï¼›æ ¸å¿ƒæ¨¡å—çš„è¯­å¥è¦†ç›–ç‡å’Œåˆ†æ”¯è¦†ç›–ç‡éƒ½è¦è¾¾åˆ° 100% ã€æ¨èã€‘ç¼–å†™å•å…ƒæµ‹è¯•ä»£ç éµå®ˆ BCDE åŸåˆ™ Bï¼šBorderï¼Œè¾¹ç•Œå€¼æµ‹è¯•ï¼ŒåŒ…æ‹¬å¾ªç¯è¾¹ç•Œã€ç‰¹æ®Šå–å€¼ã€ç‰¹æ®Šæ—¶é—´ç‚¹ã€æ•°æ®é¡ºåºç­‰ã€‚ Cï¼šCorrectï¼Œæ­£ç¡®çš„è¾“å…¥ï¼Œå¹¶å¾—åˆ°é¢„æœŸçš„ç»“æœã€‚ Dï¼šDesignï¼Œä¸è®¾è®¡æ–‡æ¡£ç›¸ç»“åˆï¼Œæ¥ç¼–å†™å•å…ƒæµ‹è¯•ã€‚ Eï¼šErrorï¼Œå¼ºåˆ¶é”™è¯¯ä¿¡æ¯è¾“å…¥ï¼ˆå¦‚ï¼šéæ³•æ•°æ®ã€å¼‚å¸¸æµç¨‹ã€ä¸šåŠ¡å…è®¸å¤–ç­‰ï¼‰ï¼Œå¹¶å¾—åˆ°é¢„æœŸçš„ç»“æœ ã€æ¨èã€‘å¯¹äºæ•°æ®åº“ç›¸å…³çš„æŸ¥è¯¢ï¼Œæ›´æ–°ï¼Œåˆ é™¤ç­‰æ“ä½œï¼Œä½¿ç”¨ç¨‹åºæ’å…¥æˆ–è€…å¯¼å…¥æ•°æ®çš„æ–¹å¼æ¥å‡†å¤‡æ•°æ® ã€æ¨èã€‘å’Œæ•°æ®åº“ç›¸å…³çš„å•å…ƒæµ‹è¯•ï¼Œå¯ä»¥è®¾å®šè‡ªåŠ¨å›æ»šæœºåˆ¶ï¼Œä¸ç»™æ•°æ®åº“é€ æˆè„æ•°æ® ã€æ¨èã€‘å¯¹äºä¸å¯æµ‹çš„ä»£ç åœ¨é€‚å½“çš„æ—¶æœºåšå¿…è¦çš„é‡æ„ï¼Œä½¿ä»£ç å˜å¾—å¯æµ‹ï¼Œé¿å…ä¸ºäº†è¾¾åˆ°æµ‹è¯•è¦æ±‚è€Œä¹¦å†™ä¸è§„èŒƒæµ‹è¯•ä»£ç  ã€æ¨èã€‘åœ¨è®¾è®¡è¯„å®¡é˜¶æ®µï¼Œå¼€å‘äººå‘˜éœ€è¦å’Œæµ‹è¯•äººå‘˜ä¸€èµ·ç¡®å®šå•å…ƒæµ‹è¯•èŒƒå›´ ã€æ¨èã€‘å•å…ƒæµ‹è¯•ä½œä¸ºä¸€ç§è´¨é‡ä¿éšœæ‰‹æ®µï¼Œåœ¨é¡¹ç›®ææµ‹å‰å®Œæˆå•å…ƒæµ‹è¯• ã€å‚è€ƒã€‘ä¸ºäº†æ›´æ–¹ä¾¿åœ°è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä¸šåŠ¡ä»£ç åº”é¿å…ä»¥ä¸‹æƒ…å†µ æ„é€ æ–¹æ³•ä¸­åšçš„äº‹æƒ…è¿‡å¤šã€‚ å­˜åœ¨è¿‡å¤šçš„å…¨å±€å˜é‡å’Œé™æ€æ–¹æ³•ã€‚ å­˜åœ¨è¿‡å¤šçš„å¤–éƒ¨ä¾èµ–ã€‚ å­˜åœ¨è¿‡å¤šçš„æ¡ä»¶è¯­å¥ å®‰å…¨è§„çº¦ ã€å¼ºåˆ¶ã€‘éš¶å±äºç”¨æˆ·ä¸ªäººçš„é¡µé¢æˆ–è€…åŠŸèƒ½å¿…é¡»è¿›è¡Œæƒé™æ§åˆ¶æ ¡éªŒ ã€å¼ºåˆ¶ã€‘ç”¨æˆ·æ•æ„Ÿæ•°æ®ç¦æ­¢ç›´æ¥å±•ç¤ºï¼Œå¿…é¡»å¯¹å±•ç¤ºæ•°æ®è¿›è¡Œè„±æ• ã€å¼ºåˆ¶ã€‘ç”¨æˆ·è¾“å…¥çš„ SQL å‚æ•°ä¸¥æ ¼ä½¿ç”¨å‚æ•°ç»‘å®šæˆ–è€… METADATA å­—æ®µå€¼é™å®šï¼Œé˜²æ­¢ SQL æ³¨å…¥ï¼Œç¦æ­¢å­—ç¬¦ä¸²æ‹¼æ¥ SQL è®¿é—®æ•°æ®åº“ ã€å¼ºåˆ¶ã€‘ç”¨æˆ·è¯·æ±‚ä¼ å…¥çš„ä»»ä½•å‚æ•°å¿…é¡»åšæœ‰æ•ˆæ€§éªŒè¯ ã€å¼ºåˆ¶ã€‘ç¦æ­¢å‘ HTML é¡µé¢è¾“å‡ºæœªç»å®‰å…¨è¿‡æ»¤æˆ–æœªæ­£ç¡®è½¬ä¹‰çš„ç”¨æˆ·æ•°æ® ã€å¼ºåˆ¶ã€‘è¡¨å•ã€ AJAX æäº¤å¿…é¡»æ‰§è¡Œ CSRF å®‰å…¨éªŒè¯ ã€å¼ºåˆ¶ã€‘URL å¤–éƒ¨é‡å®šå‘ä¼ å…¥çš„ç›®æ ‡åœ°å€å¿…é¡»æ‰§è¡Œç™½åå•è¿‡æ»¤ ã€å¼ºåˆ¶ã€‘åœ¨ä½¿ç”¨å¹³å°èµ„æºï¼Œè­¬å¦‚çŸ­ä¿¡ã€é‚®ä»¶ã€ç”µè¯ã€ä¸‹å•ã€æ”¯ä»˜ï¼Œå¿…é¡»å®ç°æ­£ç¡®çš„é˜²é‡æ”¾çš„æœºåˆ¶ï¼Œå¦‚æ•°é‡é™åˆ¶ã€ç–²åŠ³åº¦æ§åˆ¶ã€éªŒè¯ç æ ¡éªŒï¼Œé¿å…è¢«æ»¥åˆ·è€Œå¯¼è‡´èµ„æŸ ã€æ¨èã€‘å‘è´´ã€è¯„è®ºã€å‘é€å³æ—¶æ¶ˆæ¯ç­‰ç”¨æˆ·ç”Ÿæˆå†…å®¹çš„åœºæ™¯å¿…é¡»å®ç°é˜²åˆ·ã€æ–‡æœ¬å†…å®¹è¿ç¦è¯è¿‡æ»¤ç­‰é£æ§ç­–ç•¥ MySQL è§„çº¦ å»ºè¡¨è§„çº¦ ã€å¼ºåˆ¶ã€‘è¡¨è¾¾æ˜¯ä¸å¦æ¦‚å¿µçš„å­—æ®µï¼Œå¿…é¡»ä½¿ç”¨ is_xxx çš„æ–¹å¼å‘½åï¼Œæ•°æ®ç±»å‹æ˜¯ unsigned tinyintï¼ˆ1 è¡¨ç¤ºæ˜¯ï¼Œ0 è¡¨ç¤ºå¦ï¼‰ ã€å¼ºåˆ¶ã€‘è¡¨åã€å­—æ®µåå¿…é¡»ä½¿ç”¨å°å†™å­—æ¯æˆ–æ•°å­— ï¼Œ ç¦æ­¢å‡ºç°æ•°å­—å¼€å¤´ï¼Œç¦æ­¢ä¸¤ä¸ªä¸‹åˆ’çº¿ä¸­é—´åªå‡ºç°æ•°å­—ã€‚æ•°æ®åº“å­—æ®µåçš„ä¿®æ”¹ä»£ä»·å¾ˆå¤§ï¼Œå› ä¸ºæ— æ³•è¿›è¡Œé¢„å‘å¸ƒï¼Œæ‰€ä»¥å­—æ®µåç§°éœ€è¦æ…é‡è€ƒè™‘ ã€å¼ºåˆ¶ã€‘è¡¨åã€å­—æ®µåç¦ç”¨ä¿ç•™å­— ã€å¼ºåˆ¶ã€‘ä¸»é”®ç´¢å¼•åä¸º pk å­—æ®µåï¼›å”¯ä¸€ç´¢å¼•åä¸º uk å­—æ®µå ï¼› æ™®é€šç´¢å¼•ååˆ™ä¸º idx _å­—æ®µå ã€å¼ºåˆ¶ã€‘å°æ•°ç±»å‹ä¸º decimalï¼Œç¦æ­¢ä½¿ç”¨ float å’Œ double ã€å¼ºåˆ¶ã€‘å¦‚æœå­˜å‚¨çš„å­—ç¬¦ä¸²é•¿åº¦å‡ ä¹ç›¸ç­‰ï¼Œä½¿ç”¨ char å®šé•¿å­—ç¬¦ä¸²ç±»å‹ ã€å¼ºåˆ¶ã€‘å¦‚æœå­˜å‚¨çš„å­—ç¬¦ä¸²é•¿åº¦å‡ ä¹ç›¸ç­‰ï¼Œä½¿ç”¨ char å®šé•¿å­—ç¬¦ä¸²ç±»å‹ ã€å¼ºåˆ¶ã€‘varchar æ˜¯å¯å˜é•¿å­—ç¬¦ä¸²ï¼Œä¸é¢„å…ˆåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œé•¿åº¦ä¸è¦è¶…è¿‡ 5000ï¼Œå¦‚æœå­˜å‚¨é•¿åº¦å¤§äºæ­¤å€¼ï¼Œå®šä¹‰å­—æ®µç±»å‹ä¸º text ï¼Œç‹¬ç«‹å‡ºæ¥ä¸€å¼ è¡¨ï¼Œç”¨ä¸»é”®æ¥å¯¹åº”ï¼Œé¿å…å½±å“å…¶å®ƒå­—æ®µç´¢å¼•æ•ˆç‡ ã€å¼ºåˆ¶ã€‘è¡¨å¿…å¤‡ä¸‰å­—æ®µï¼šid, create_time, update_time ã€æ¨èã€‘è¡¨çš„å‘½åæœ€å¥½æ˜¯éµå¾ªâ€œä¸šåŠ¡åç§°_è¡¨çš„ä½œç”¨â€ ã€æ¨èã€‘åº“åä¸åº”ç”¨åç§°å°½é‡ä¸€è‡´ ã€æ¨èã€‘å¦‚æœä¿®æ”¹å­—æ®µå«ä¹‰æˆ–å¯¹å­—æ®µè¡¨ç¤ºçš„çŠ¶æ€è¿½åŠ æ—¶ï¼Œéœ€è¦åŠæ—¶æ›´æ–°å­—æ®µæ³¨é‡Š ã€æ¨èã€‘å†—ä½™å­—æ®µåº”éµå¾ªçš„åŸåˆ™ ä¸æ˜¯é¢‘ç¹ä¿®æ”¹çš„å­—æ®µã€‚ ä¸æ˜¯å”¯ä¸€ç´¢å¼•çš„å­—æ®µã€‚ ä¸æ˜¯ varchar è¶…é•¿å­—æ®µï¼Œæ›´ä¸èƒ½æ˜¯ text å­—æ®µ ã€æ¨èã€‘å•è¡¨è¡Œæ•°è¶…è¿‡ 500 ä¸‡è¡Œæˆ–è€…å•è¡¨å®¹é‡è¶…è¿‡ 2GBï¼Œæ‰æ¨èè¿›è¡Œåˆ†åº“åˆ†è¡¨ ã€å‚è€ƒã€‘åˆé€‚çš„å­—ç¬¦å­˜å‚¨é•¿åº¦ï¼Œä¸ä½†èŠ‚çº¦æ•°æ®åº“è¡¨ç©ºé—´ã€èŠ‚çº¦ç´¢å¼•å­˜å‚¨ï¼Œæ›´é‡è¦çš„æ˜¯æå‡æ£€ç´¢é€Ÿåº¦ ç´¢å¼•è§„çº¦ ã€å¼ºåˆ¶ã€‘ä¸šåŠ¡ä¸Šå…·æœ‰å”¯ä¸€ç‰¹æ€§çš„å­—æ®µï¼Œå³ä½¿æ˜¯ç»„åˆå­—æ®µï¼Œä¹Ÿå¿…é¡»å»ºæˆå”¯ä¸€ç´¢å¼• ã€å¼ºåˆ¶ã€‘è¶…è¿‡ä¸‰ä¸ªè¡¨ç¦æ­¢ join ã€‚éœ€è¦ join çš„å­—æ®µï¼Œæ•°æ®ç±»å‹ä¿æŒç»å¯¹ä¸€è‡´ ï¼› å¤šè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œä¿è¯è¢«å…³è”çš„å­—æ®µéœ€è¦æœ‰ç´¢å¼• ã€å¼ºåˆ¶ã€‘åœ¨ varchar å­—æ®µä¸Šå»ºç«‹ç´¢å¼•æ—¶ï¼Œå¿…é¡»æŒ‡å®šç´¢å¼•é•¿åº¦ ã€å¼ºåˆ¶ã€‘é¡µé¢æœç´¢ä¸¥ç¦å·¦æ¨¡ç³Šæˆ–è€…å…¨æ¨¡ç³Š å¯ä»¥ä½¿ç”¨æœç´¢å¼•æ“è§£å†³ ã€æ¨èã€‘å¦‚æœæœ‰ order by çš„åœºæ™¯ï¼Œè¯·æ³¨æ„åˆ©ç”¨ç´¢å¼•çš„æœ‰åºæ€§ã€‚order by æœ€åçš„å­—æ®µæ˜¯ç»„åˆç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”æ”¾åœ¨ç´¢å¼•ç»„åˆé¡ºåºçš„æœ€å ã€æ¨èã€‘åˆ©ç”¨è¦†ç›–ç´¢å¼•æ¥è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œé¿å…å›è¡¨ è¦†ç›–ç´¢å¼•å°±æ˜¯ç›´æ¥æ ¹æ®ç´¢å¼•å°±å¾—åˆ°æ•°æ® ä¸ç”¨å›åˆ°è¡¨ä¸Šåœ¨è¿›è¡ŒæŸ¥è¯¢ ã€æ¨èã€‘åˆ©ç”¨å»¶è¿Ÿå…³è”æˆ–è€…å­æŸ¥è¯¢ä¼˜åŒ–è¶…å¤šåˆ†é¡µåœºæ™¯ é€šè¿‡å­æŸ¥è¯¢æ¥å¯¹æ•°æ®è¿›è¡Œåˆæ­¥ç­›é€‰ é¿å…åˆ†é¡µæ•°æ®è¿‡å¤§ ã€æ¨èã€‘SQL æ€§èƒ½ä¼˜åŒ–çš„ç›®æ ‡ï¼šè‡³å°‘è¦è¾¾åˆ° range çº§åˆ«ï¼Œè¦æ±‚æ˜¯ ref çº§åˆ«ï¼Œå¦‚æœå¯ä»¥æ˜¯ constsæœ€å¥½ consts å•è¡¨ä¸­æœ€å¤šåªæœ‰ä¸€ä¸ªåŒ¹é…è¡Œï¼ˆä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•ï¼‰ï¼Œåœ¨ä¼˜åŒ–é˜¶æ®µå³å¯è¯»å–åˆ°æ•°æ®ã€‚ ref æŒ‡çš„æ˜¯ä½¿ç”¨æ™®é€šçš„ç´¢å¼•ï¼ˆnormal indexï¼‰ã€‚ range å¯¹ç´¢å¼•è¿›è¡ŒèŒƒå›´æ£€ç´¢ ã€æ¨èã€‘å»ºç»„åˆç´¢å¼•çš„æ—¶å€™ï¼ŒåŒºåˆ†åº¦æœ€é«˜çš„åœ¨æœ€å·¦è¾¹ ã€æ¨èã€‘é˜²æ­¢å› å­—æ®µç±»å‹ä¸åŒé€ æˆçš„éšå¼è½¬æ¢ï¼Œå¯¼è‡´ç´¢å¼•å¤±æ•ˆ SQLè¯­å¥ ã€å¼ºåˆ¶ã€‘ä¸è¦ä½¿ç”¨ count(åˆ—å)æˆ– count(å¸¸é‡)æ¥æ›¿ä»£ count(), count() ä¼šç»Ÿè®¡null ã€å¼ºåˆ¶ã€‘count(distinct col) è®¡ç®—è¯¥åˆ—é™¤ NULL ä¹‹å¤–çš„ä¸é‡å¤è¡Œæ•°ï¼Œæ³¨æ„ count(distinct col1,col2) å¦‚æœå…¶ä¸­ä¸€åˆ—å…¨ä¸º NULLï¼Œé‚£ä¹ˆå³ä½¿å¦ä¸€åˆ—æœ‰ä¸åŒçš„å€¼ï¼Œä¹Ÿè¿”å›ä¸º 0 ã€å¼ºåˆ¶ã€‘å½“æŸä¸€åˆ—çš„å€¼å…¨æ˜¯ NULL æ—¶ï¼Œcount(col)çš„è¿”å›ç»“æœä¸º 0ï¼Œä½† sum(col)çš„è¿”å›ç»“æœä¸ºNULL ã€å¼ºåˆ¶ã€‘ä½¿ç”¨ ISNULL() æ¥åˆ¤æ–­æ˜¯å¦ä¸º NULL å€¼ ã€å¼ºåˆ¶ã€‘ä»£ç ä¸­å†™åˆ†é¡µæŸ¥è¯¢é€»è¾‘æ—¶ï¼Œè‹¥ count ä¸º 0 åº”ç›´æ¥è¿”å›ï¼Œé¿å…æ‰§è¡Œåé¢çš„åˆ†é¡µè¯­å¥ ã€å¼ºåˆ¶ã€‘ä¸å¾—ä½¿ç”¨å¤–é”®ä¸çº§è”ï¼Œä¸€åˆ‡å¤–é”®æ¦‚å¿µå¿…é¡»åœ¨åº”ç”¨å±‚è§£å†³ ã€å¼ºåˆ¶ã€‘ç¦æ­¢ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œå­˜å‚¨è¿‡ç¨‹éš¾ä»¥è°ƒè¯•å’Œæ‰©å±•ï¼Œæ›´æ²¡æœ‰ç§»æ¤æ€§ ã€å¼ºåˆ¶ã€‘æ•°æ®è®¢æ­£ï¼ˆç‰¹åˆ«æ˜¯åˆ é™¤æˆ–ä¿®æ”¹è®°å½•æ“ä½œï¼‰æ—¶ï¼Œè¦å…ˆ select ã€å¼ºåˆ¶ã€‘å¯¹äºæ•°æ®åº“ä¸­è¡¨è®°å½•çš„æŸ¥è¯¢å’Œå˜æ›´ï¼Œåªè¦æ¶‰åŠå¤šä¸ªè¡¨ï¼Œéƒ½éœ€è¦åœ¨åˆ—åå‰åŠ è¡¨çš„åˆ«åï¼ˆæˆ–è¡¨åï¼‰è¿›è¡Œé™å®š ã€æ¨èã€‘SQL è¯­å¥ä¸­è¡¨çš„åˆ«åå‰åŠ  asï¼Œå¹¶ä¸”ä»¥ t1ã€t2ã€t3ã€...çš„é¡ºåºä¾æ¬¡å‘½å ã€æ¨èã€‘ in æ“ä½œèƒ½é¿å…åˆ™é¿å…ï¼Œè‹¥å®åœ¨é¿å…ä¸äº†ï¼Œéœ€è¦ä»”ç»†è¯„ä¼° in åè¾¹çš„é›†åˆå…ƒç´ æ•°é‡ï¼Œæ§åˆ¶åœ¨ 1000 ä¸ªä¹‹å†… ã€å‚è€ƒã€‘å› å›½é™…åŒ–éœ€è¦ï¼Œæ‰€æœ‰çš„å­—ç¬¦å­˜å‚¨ä¸è¡¨ç¤ºï¼Œå‡é‡‡ç”¨ utf 8 å­—ç¬¦é›†ï¼Œå¦‚æœå­˜å‚¨emojiæ ‡ç­¾ ä½¿ç”¨utf8mb4 ã€å‚è€ƒã€‘ TRUNCATE TABLE æ¯” DELETE é€Ÿåº¦å¿«ï¼Œä¸”ä½¿ç”¨çš„ç³»ç»Ÿå’Œäº‹åŠ¡æ—¥å¿—èµ„æºå°‘ï¼Œä½† TRUNCATEæ— äº‹åŠ¡ä¸”ä¸è§¦å‘ trigger ORM æ˜ å°„(mybatis/ibatis) ã€å¼ºåˆ¶ã€‘åœ¨è¡¨æŸ¥è¯¢ä¸­ï¼Œä¸€å¾‹ä¸è¦ä½¿ç”¨ * ä½œä¸ºæŸ¥è¯¢çš„å­—æ®µåˆ—è¡¨ï¼Œéœ€è¦å“ªäº›å­—æ®µå¿…é¡»æ˜ç¡®å†™æ˜ ã€å¼ºåˆ¶ã€‘ä¸è¦ç”¨ resultClass å½“è¿”å›å‚æ•°ï¼Œå³ä½¿æ‰€æœ‰ç±»å±æ€§åä¸æ•°æ®åº“å­—æ®µä¸€ä¸€å¯¹åº”ï¼Œä¹Ÿéœ€è¦å®šä¹‰ resultMap ï¼›åè¿‡æ¥ï¼Œæ¯ä¸€ä¸ªè¡¨ä¹Ÿå¿…ç„¶æœ‰ä¸€ä¸ªresultMapä¸ä¹‹å¯¹åº” ã€å¼ºåˆ¶ã€‘sql. xml é…ç½®å‚æ•°ä½¿ç”¨ï¼š#{} ã€å¼ºåˆ¶ã€‘ä¸å…è®¸ç›´æ¥æ‹¿ HashMap ä¸ Hashtable ä½œä¸ºæŸ¥è¯¢ç»“æœé›†çš„è¾“å‡º ã€å¼ºåˆ¶ã€‘æ›´æ–°æ•°æ®è¡¨è®°å½•æ—¶ï¼Œå¿…é¡»åŒæ—¶æ›´æ–°è®°å½•å¯¹åº”çš„ update_time å­—æ®µå€¼ä¸ºå½“å‰æ—¶é—´ ã€æ¨èã€‘ä¸è¦å†™ä¸€ä¸ªå¤§è€Œå…¨çš„æ•°æ®æ›´æ–°æ¥å£,æ‰§è¡Œ SQL æ—¶ï¼Œä¸è¦æ›´æ–°æ— æ”¹åŠ¨çš„å­—æ®µ ã€å‚è€ƒã€‘ äº‹åŠ¡ä¸è¦æ»¥ç”¨ã€‚äº‹åŠ¡ä¼šå½±å“æ•°æ®åº“çš„ QPS,ä½¿ç”¨äº‹åŠ¡çš„åœ°æ–¹éœ€è¦è€ƒè™‘å„æ–¹é¢çš„å›æ»šæ–¹æ¡ˆï¼ŒåŒ…æ‹¬ç¼“å­˜å›æ»šã€æœç´¢å¼•æ“å›æ»šã€æ¶ˆæ¯è¡¥å¿ã€ç»Ÿè®¡ä¿®æ­£ç­‰ å·¥ç¨‹ç»“æ„ åº”ç”¨åˆ†å±‚ ã€æ¨èã€‘åˆ†å±‚å‚è€ƒæ¶æ„ å¼€æ”¾ API å±‚ï¼šå¯ç›´æ¥å°è£… Service æ¥å£æš´éœ²æˆ RPC æ¥å£ï¼›é€šè¿‡ Web å°è£…æˆ http æ¥å£ï¼›ç½‘å…³æ§åˆ¶å±‚ç­‰ã€‚ ç»ˆç«¯æ˜¾ç¤ºå±‚ï¼šå„ä¸ªç«¯çš„æ¨¡æ¿æ¸²æŸ“å¹¶æ‰§è¡Œæ˜¾ç¤ºçš„å±‚ã€‚å½“å‰ä¸»è¦æ˜¯ velocity æ¸²æŸ“ï¼ŒJS æ¸²æŸ“ï¼ŒJSP æ¸²æŸ“ï¼Œç§» åŠ¨ç«¯å±•ç¤ºç­‰ã€‚ Web å±‚ï¼šä¸»è¦æ˜¯å¯¹è®¿é—®æ§åˆ¶è¿›è¡Œè½¬å‘ï¼Œå„ç±»åŸºæœ¬å‚æ•°æ ¡éªŒï¼Œæˆ–è€…ä¸å¤ç”¨çš„ä¸šåŠ¡ç®€å•å¤„ç†ç­‰ã€‚ Service å±‚ï¼šç›¸å¯¹å…·ä½“çš„ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚ã€‚ Manager å±‚ï¼šé€šç”¨ä¸šåŠ¡å¤„ç†å±‚ï¼Œå®ƒæœ‰å¦‚ä¸‹ç‰¹å¾ï¼š å¯¹ç¬¬ä¸‰æ–¹å¹³å°å°è£…çš„å±‚ï¼Œé¢„å¤„ç†è¿”å›ç»“æœåŠè½¬åŒ–å¼‚å¸¸ä¿¡æ¯ï¼Œé€‚é…ä¸Šå±‚æ¥å£ã€‚ å¯¹ Service å±‚é€šç”¨èƒ½åŠ›çš„ä¸‹æ²‰ï¼Œå¦‚ç¼“å­˜æ–¹æ¡ˆã€ä¸­é—´ä»¶é€šç”¨å¤„ç†ã€‚ ä¸ DAO å±‚äº¤äº’ï¼Œå¯¹å¤šä¸ª DAO çš„ç»„åˆå¤ç”¨ã€‚ DAO å±‚ï¼šæ•°æ®è®¿é—®å±‚ï¼Œä¸åº•å±‚ MySQLã€Oracleã€Hbaseã€OB ç­‰è¿›è¡Œæ•°æ®äº¤äº’ã€‚ ç¬¬ä¸‰æ–¹æœåŠ¡ï¼šåŒ…æ‹¬å…¶å®ƒéƒ¨é—¨ RPC æœåŠ¡æ¥å£ï¼ŒåŸºç¡€å¹³å°ï¼Œå…¶å®ƒå…¬å¸çš„ HTTP æ¥å£ï¼Œå¦‚æ·˜å®å¼€æ”¾å¹³å°ã€æ”¯ ä»˜å®ä»˜æ¬¾æœåŠ¡ã€é«˜å¾·åœ°å›¾æœåŠ¡ç­‰ã€‚ å¤–éƒ¨æ•°æ®æ¥å£ï¼šå¤–éƒ¨ï¼ˆåº”ç”¨ï¼‰æ•°æ®å­˜å‚¨æœåŠ¡æä¾›çš„æ¥å£ï¼Œå¤šè§äºæ•°æ®è¿ç§»åœºæ™¯ä¸­ ã€å‚è€ƒã€‘ åœ¨ DAO å±‚ï¼Œæ— æ³•ç”¨ç»†ç²’åº¦çš„å¼‚å¸¸è¿›è¡Œ catchï¼Œä½¿ç”¨ catch(Exception e) æ–¹å¼ï¼Œå¹¶ throw new DAOException(e) ï¼Œ Service å±‚å‡ºç°å¼‚å¸¸æ—¶ï¼Œå¿…é¡»è®°å½•å‡ºé”™æ—¥å¿—åˆ°ç£ç›˜ï¼Œå°½å¯èƒ½å¸¦ä¸Šå‚æ•°ä¿¡æ¯ï¼Œ Web å±‚ç»ä¸åº”è¯¥ç»§ç»­å¾€ä¸ŠæŠ›å¼‚å¸¸ ã€å‚è€ƒã€‘åˆ†å±‚é¢†åŸŸæ¨¡å‹è§„çº¦ï¼š DOï¼ˆData Objectï¼‰ï¼šæ­¤å¯¹è±¡ä¸æ•°æ®åº“è¡¨ç»“æ„ä¸€ä¸€å¯¹åº”ï¼Œé€šè¿‡ DAO å±‚å‘ä¸Šä¼ è¾“æ•°æ®æºå¯¹è±¡ã€‚ DTOï¼ˆData Transfer Objectï¼‰ï¼šæ•°æ®ä¼ è¾“å¯¹è±¡ï¼ŒService æˆ– Manager å‘å¤–ä¼ è¾“çš„å¯¹è±¡ã€‚ BOï¼ˆBusiness Objectï¼‰ï¼šä¸šåŠ¡å¯¹è±¡ï¼Œå¯ä»¥ç”± Service å±‚è¾“å‡ºçš„å°è£…ä¸šåŠ¡é€»è¾‘çš„å¯¹è±¡ã€‚ Queryï¼šæ•°æ®æŸ¥è¯¢å¯¹è±¡ï¼Œå„å±‚æ¥æ”¶ä¸Šå±‚çš„æŸ¥è¯¢è¯·æ±‚ã€‚æ³¨æ„è¶…è¿‡ 2 ä¸ªå‚æ•°çš„æŸ¥è¯¢å°è£…ï¼Œç¦æ­¢ä½¿ç”¨ Map ç±»æ¥ä¼ è¾“ã€‚ VOï¼ˆView Objectï¼‰ï¼šæ˜¾ç¤ºå±‚å¯¹è±¡ï¼Œé€šå¸¸æ˜¯ Web å‘æ¨¡æ¿æ¸²æŸ“å¼•æ“å±‚ä¼ è¾“çš„å¯¹è±¡ äºŒæ–¹åº“ä¾èµ– ã€å¼ºåˆ¶ã€‘å®šä¹‰ GAV éµä»ä»¥ä¸‹è§„åˆ™ GroupID æ ¼å¼ï¼šcom.{å…¬å¸/BU }.ä¸šåŠ¡çº¿ [.å­ä¸šåŠ¡çº¿]ï¼Œæœ€å¤š 4 çº§ ArtifactID æ ¼å¼ï¼šäº§å“çº¿å-æ¨¡å—åã€‚è¯­ä¹‰ä¸é‡å¤ä¸é—æ¼ ã€å¼ºåˆ¶ã€‘äºŒæ–¹åº“ç‰ˆæœ¬å·å‘½åæ–¹å¼ï¼šä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å· ä¸»ç‰ˆæœ¬å·ï¼šäº§å“æ–¹å‘æ”¹å˜ï¼Œæˆ–è€…å¤§è§„æ¨¡ API ä¸å…¼å®¹ï¼Œæˆ–è€…æ¶æ„ä¸å…¼å®¹å‡çº§ã€‚ æ¬¡ç‰ˆæœ¬å·ï¼šä¿æŒç›¸å¯¹å…¼å®¹æ€§ï¼Œå¢åŠ ä¸»è¦åŠŸèƒ½ç‰¹æ€§ï¼Œå½±å“èŒƒå›´æå°çš„ API ä¸å…¼å®¹ä¿®æ”¹ã€‚ ä¿®è®¢å·ï¼šä¿æŒå®Œå…¨å…¼å®¹æ€§ï¼Œä¿®å¤ BUGã€æ–°å¢æ¬¡è¦åŠŸèƒ½ç‰¹æ€§ç­‰ ã€å¼ºåˆ¶ã€‘çº¿ä¸Šåº”ç”¨ä¸è¦ä¾èµ– SNAPSHOT ç‰ˆæœ¬ ï¼ˆ å®‰å…¨åŒ…é™¤å¤– ï¼‰ ï¼›æ­£å¼å‘å¸ƒçš„ç±»åº“å¿…é¡»å…ˆå»ä¸­å¤®ä»“åº“è¿›è¡ŒæŸ¥è¯ï¼Œä½¿ RELEASE ç‰ˆæœ¬å·æœ‰å»¶ç»­æ€§ï¼Œä¸”ç‰ˆæœ¬å·ä¸å…è®¸è¦†ç›–å‡çº§ ã€å¼ºåˆ¶ã€‘äºŒæ–¹åº“çš„æ–°å¢æˆ–å‡çº§ï¼Œä¿æŒé™¤åŠŸèƒ½ç‚¹ä¹‹å¤–çš„å…¶å®ƒ jar åŒ…ä»²è£ç»“æœä¸å˜ã€‚å¦‚æœæœ‰æ”¹å˜ï¼Œå¿…é¡»æ˜ç¡®è¯„ä¼°å’ŒéªŒè¯ ã€å¼ºåˆ¶ã€‘äºŒæ–¹åº“é‡Œå¯ä»¥å®šä¹‰æšä¸¾ç±»å‹ï¼Œå‚æ•°å¯ä»¥ä½¿ç”¨æšä¸¾ç±»å‹ï¼Œä½†æ˜¯æ¥å£è¿”å›å€¼ä¸å…è®¸ä½¿ç”¨æšä¸¾ç±»å‹æˆ–è€…åŒ…å«æšä¸¾ç±»å‹çš„ POJO å¯¹è±¡ ã€å¼ºåˆ¶ã€‘ä¾èµ–äºä¸€ä¸ªäºŒæ–¹åº“ç¾¤æ—¶ï¼Œå¿…é¡»å®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„ç‰ˆæœ¬å˜é‡ï¼Œé¿å…ç‰ˆæœ¬å·ä¸ä¸€è‡´ ã€å¼ºåˆ¶ã€‘ç¦æ­¢åœ¨å­é¡¹ç›®çš„ pom ä¾èµ–ä¸­å‡ºç°ç›¸åŒçš„ GroupId ï¼Œç›¸åŒçš„ ArtifactId ï¼Œä½†æ˜¯ä¸åŒçš„Version ã€æ¨èã€‘åº•å±‚åŸºç¡€æŠ€æœ¯æ¡†æ¶ã€æ ¸å¿ƒæ•°æ®ç®¡ç†å¹³å°ã€æˆ–è¿‘ç¡¬ä»¶ç«¯ç³»ç»Ÿè°¨æ…å¼•å…¥ç¬¬ä¸‰æ–¹å®ç° ã€æ¨èã€‘äºŒæ–¹åº“ä¸è¦æœ‰é…ç½®é¡¹ï¼Œæœ€ä½é™åº¦ä¸è¦å†å¢åŠ é…ç½®é¡¹ ã€å‚è€ƒã€‘ä¸ºé¿å…åº”ç”¨äºŒæ–¹åº“çš„ä¾èµ–å†²çªé—®é¢˜ å¦‚æœä¾èµ–å…¶å®ƒäºŒæ–¹åº“ï¼Œå°½é‡æ˜¯ provided å¼•å…¥ï¼Œè®©äºŒæ–¹åº“ä½¿ç”¨è€…å»ä¾èµ–å…·ä½“ç‰ˆæœ¬å· æ¯ä¸ªç‰ˆæœ¬çš„å˜åŒ–åº”è¯¥è¢«è®°å½• æœåŠ¡å™¨ ã€æ¨èã€‘é«˜å¹¶å‘æœåŠ¡å™¨å»ºè®®è°ƒå° TCP åè®®çš„ time _ wait è¶…æ—¶æ—¶é—´ ã€æ¨èã€‘è°ƒå¤§æœåŠ¡å™¨æ‰€æ”¯æŒçš„æœ€å¤§æ–‡ä»¶å¥æŸ„æ•° ã€æ¨èã€‘ç»™JVMç¯å¢ƒå‚æ•°è®¾ç½®-XX:+HeapDumpOnOutOfMemoryError å‚æ•° ã€æ¨èã€‘çº¿ä¸Šç”Ÿäº§ç¯å¢ƒï¼Œ JVM çš„ Xms å’Œ Xmx è®¾ç½®ä¸€æ ·å¤§å°çš„å†…å­˜å®¹é‡ è®¾è®¡è§„çº¦ ã€å¼ºåˆ¶ã€‘å­˜å‚¨æ–¹æ¡ˆå’Œåº•å±‚æ•°æ®ç»“æ„çš„è®¾è®¡è·å¾—è¯„å®¡ä¸€è‡´é€šè¿‡ï¼Œå¹¶æ²‰æ·€æˆä¸ºæ–‡æ¡£ ã€å¼ºåˆ¶ã€‘åœ¨éœ€æ±‚åˆ†æé˜¶æ®µï¼Œå¦‚æœä¸ç³»ç»Ÿäº¤äº’çš„ User è¶…è¿‡ä¸€ç±»å¹¶ä¸”ç›¸å…³çš„ User Case è¶…è¿‡ 5 ä¸ªï¼Œä½¿ç”¨ç”¨ä¾‹å›¾æ¥è¡¨è¾¾æ›´åŠ æ¸…æ™°çš„ç»“æ„åŒ–éœ€æ±‚ ã€å¼ºåˆ¶ã€‘å¦‚æœæŸä¸ªä¸šåŠ¡å¯¹è±¡çš„çŠ¶æ€è¶…è¿‡ 3 ä¸ªï¼Œä½¿ç”¨çŠ¶æ€å›¾æ¥è¡¨è¾¾å¹¶ä¸”æ˜ç¡®çŠ¶æ€å˜åŒ–çš„å„ä¸ªè§¦å‘æ¡ä»¶ ã€å¼ºåˆ¶ã€‘å¦‚æœç³»ç»Ÿä¸­æŸä¸ªåŠŸèƒ½çš„è°ƒç”¨é“¾è·¯ä¸Šçš„æ¶‰åŠå¯¹è±¡è¶…è¿‡ 3 ä¸ªï¼Œä½¿ç”¨æ—¶åºå›¾æ¥è¡¨è¾¾å¹¶ä¸”æ˜ç¡®å„è°ƒç”¨ç¯èŠ‚çš„è¾“å…¥ä¸è¾“å‡º ã€å¼ºåˆ¶ã€‘å¦‚æœç³»ç»Ÿä¸­æ¨¡å‹ç±»è¶…è¿‡ 5 ä¸ªï¼Œå¹¶ä¸”å­˜åœ¨å¤æ‚çš„ä¾èµ–å…³ç³»ï¼Œä½¿ç”¨ç±»å›¾æ¥è¡¨è¾¾å¹¶ä¸”æ˜ç¡®ç±»ä¹‹é—´çš„å…³ç³» ã€å¼ºåˆ¶ã€‘å¦‚æœç³»ç»Ÿä¸­è¶…è¿‡ 2 ä¸ªå¯¹è±¡ä¹‹é—´å­˜åœ¨åä½œå…³ç³»ï¼Œå¹¶ä¸”éœ€è¦è¡¨ç¤ºå¤æ‚çš„å¤„ç†æµç¨‹ï¼Œä½¿ç”¨æ´»åŠ¨å›¾æ¥è¡¨ç¤º MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-21 06:59:20 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/å¸¸ç”¨API.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/å¸¸ç”¨API.html","title":"å¸¸ç”¨API","keywords":"","body":"å¸¸ç”¨API Scanner Scanner scanner = new Scanner(System.in); int a = scanner.nextInt(); int b = scanner.nextInt(); System.out.println(\"max:\" + (a > b ? a : b)); Random Random random = new Random(); System.out.println(random.nextInt()); åŸºæœ¬ç±»å‹ä¸ç›¸å¯¹åº”çš„åŒ…è£…ç±»å‹ åŸºæœ¬ç±»å‹ åŸºæœ¬ç±»å‹åŒ…è£…ç±» byte Byte short Short int Integer long Long ï¬‚oat Float double Double char Character boolean Boolean String ç‰¹ç‚¹ï¼š å­—ç¬¦ä¸²ä¸å˜ï¼šå­—ç¬¦ä¸²çš„å€¼åœ¨åˆ›å»ºåä¸èƒ½è¢«æ›´æ”¹ã€‚ Stringå†…éƒ¨æ˜¯å®ç°byteæ•°ç»„å®ç°çš„ å› ä¸ºStringå¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è¢«å…±äº«ã€‚ StringBuilder çº¿ç¨‹ä¸å®‰å…¨(æ•ˆç‡æ›´é«˜) StringBuffer çº¿ç¨‹å®‰å…¨ ä¹±ç é—®é¢˜ Arrays å¸¸ç”¨æ–¹æ³•ï¼š toString sort asList Math absï¼šå–ç»å¯¹å€¼ ceilï¼šè¿”å›å¤§äºç­‰äºå‚æ•°çš„å°çš„æ•´æ•°ï¼ˆå‘ä¸Šå–æ•´ï¼‰ floorï¼šè¿”å›å°äºç­‰äºå‚æ•°å¤§çš„æ•´æ•°ï¼ˆå‘ä¸‹å–æ•´ï¼‰ roudï¼šå››èˆäº”å…¥ Object toString equals hashCode wait notify LocalDateTime LocalDateTime.now() System currentTimeMillis arraycopy StringBuilder StringBuilder sb = new StringBuilder(\"hello\"); sb.append(\" \") .append(\"world\"); System.out.println(sb.toString()); åŒ…è£…ç±» è£…ç®±æ‹†ç®± è‡ªåŠ¨è£…ç®±æ‹†ç®± é€‰æ‹©åŒ…è£…ç±»è¿˜æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼š POJOç±»å±æ€§å…¨éƒ¨ä½¿ç”¨åŒ…è£…ç±» RPCæ–¹æ³•å‚æ•°ä¸è¿”å›å€¼å…¨éƒ¨ä½¿ç”¨åŒ…è£…ç±» å±€éƒ¨å˜é‡å°½å¯èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹ åŸºæœ¬ç±»å‹ä¸å­—ç¬¦ä¸²çš„è½¬æ¢ System.out.println(Double.toString(1.6)); System.out.println(Double.parseDouble(\"1.5\")); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-16 07:35:24 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/ç»§æ‰¿ä¸å¤šæ€.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/ç»§æ‰¿ä¸å¤šæ€.html","title":"ç»§æ‰¿ä¸å¤šæ€","keywords":"","body":"ç»§æ‰¿ä¸å¤šæ€ ç±»çš„å®šä¹‰ å…ˆå®šä¹‰å˜é‡ åå®šä¹‰æ–¹æ³• å…¬æœ‰æ–¹æ³• ä¿æŠ¤æ–¹æ³• ç§æœ‰æ–¹æ³• getter/setteræ–¹æ³• ç»§æ‰¿ å°±æ˜¯å­ç±»ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œè¡Œä¸ºï¼Œä½¿å¾—å­ç±»å¯¹è±¡å…·æœ‰ä¸çˆ¶ç±»ç›¸åŒçš„å±æ€§ã€ç›¸åŒçš„è¡Œä¸ºã€‚å­ç±»å¯ä»¥ç›´æ¥ è®¿é—®çˆ¶ç±»ä¸­çš„éç§æœ‰çš„å±æ€§å’Œè¡Œä¸ºã€‚ class çˆ¶ç±» { ... } class å­ç±» extends çˆ¶ç±» { ... } ç»§æ‰¿åçš„ç‰¹ç‚¹ æˆå‘˜å˜é‡ æˆå‘˜æ–¹æ³• æ„é€ æ–¹æ³• superä¸this super ï¼šä»£è¡¨çˆ¶ç±»çš„å­˜å‚¨ç©ºé—´æ ‡è¯†(å¯ä»¥ç†è§£ä¸ºçˆ¶äº²çš„å¼•ç”¨)ã€‚ this ï¼šä»£è¡¨å½“å‰å¯¹è±¡çš„å¼•ç”¨(è°è°ƒç”¨å°±ä»£è¡¨è°)ã€‚ å­ç±»é»˜è®¤çš„ç©ºæ„é€ æ–¹æ³•é»˜è®¤è°ƒç”¨super(), ä¹Ÿå°±æ˜¯çˆ¶ç±»çš„é»˜è®¤æ„é€ å‡½æ•°, å¦‚æœçˆ¶ç±»æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°, åˆ™ç¼–è¯‘ä¼šå‡ºé”™. è¿™ä¸ªæ—¶å€™éœ€è¦æ‰‹åŠ¨è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°() class Father{ public Father(int i) {} } class Son extends Father{ public Son(){ super(1); } } å¦‚æœç”¨this()æˆ–è€…super() è°ƒç”¨æ„é€ å™¨, åˆ™å¿…é¡»åœ¨æ„é€ å‡½æ•°å†…çš„ç¬¬ä¸€è¡Œè°ƒç”¨(å¿…é¡»ä¿è¯çˆ¶ç±»åœ¨å­ç±»ä¹‹å‰åˆå§‹åŒ–) ç‰¹ç‚¹ å•ç»§æ‰¿ å¤šå±‚ç»§æ‰¿ æŠ½è±¡ç±» æŠ½è±¡æ–¹æ³• ï¼š æ²¡æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•ã€‚ æŠ½è±¡ç±»ï¼šåŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»ã€‚ public abstract class Animal { public abstract void run()ï¼› } æ¥å£ æ¥å£ï¼Œæ˜¯Javaè¯­è¨€ä¸­ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œæ˜¯æ–¹æ³•çš„é›†åˆï¼Œå¦‚æœè¯´ç±»çš„å†…éƒ¨å°è£…äº†æˆå‘˜å˜é‡ã€æ„é€ æ–¹æ³•å’Œæˆå‘˜æ–¹æ³•ï¼Œé‚£ä¹ˆ æ¥å£çš„å†…éƒ¨ä¸»è¦å°±æ˜¯å°è£…äº†æ–¹æ³•ï¼ŒåŒ…å«æŠ½è±¡æ–¹æ³•ï¼ˆJDK 7åŠä»¥å‰ï¼‰ï¼Œé»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼ˆJDK 8ï¼‰ï¼Œç§æœ‰æ–¹æ³• ï¼ˆJDK 9ï¼‰ public interface æ¥å£åç§° { // æŠ½è±¡æ–¹æ³• // é»˜è®¤æ–¹æ³• // é™æ€æ–¹æ³• // ç§æœ‰æ–¹æ³• } class ç±»å implements æ¥å£å { // é‡å†™æ¥å£ä¸­æŠ½è±¡æ–¹æ³•ã€å¿…é¡» // é‡å†™æ¥å£ä¸­é»˜è®¤æ–¹æ³•ã€å¯é€‰ã€‘ } é»˜è®¤æ–¹æ³• public interface LiveAble { public default void fly(){ System.out.println(\"å¤©ä¸Šé£\"); } } é™æ€æ–¹æ³• public interface LiveAble { public static void run(){ System.out.println(\"è·‘èµ·æ¥~~~\"); } } ç§æœ‰æ–¹æ³• ç§æœ‰æ–¹æ³•ï¼šåªæœ‰é»˜è®¤æ–¹æ³•å¯ä»¥è°ƒç”¨ã€‚ ç§æœ‰é™æ€æ–¹æ³•ï¼šé»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•å¯ä»¥è°ƒç”¨ã€‚ å¤šå®ç° class ç±»å [extends çˆ¶ç±»å] implements æ¥å£å1,æ¥å£å2,æ¥å£å3... { // é‡å†™æ¥å£ä¸­æŠ½è±¡æ–¹æ³•ã€å¿…é¡»ã€‘ // é‡å†™æ¥å£ä¸­é»˜è®¤æ–¹æ³•ã€ä¸é‡åæ—¶å¯é€‰ã€‘ } å¦‚æœé»˜è®¤æ–¹æ³•æœ‰é‡åçš„ï¼Œå¿…é¡»é‡å†™ä¸€æ¬¡ã€‚ æŠ½è±¡ç±»ä¸æ¥å£ æŠ½è±¡ç±»æ˜¯is-aå…³ç³», æ˜¯æ¨¡æ¿å¼è®¾è®¡ æ¥å£æ˜¯ can-doå…³ç³», æ˜¯å¥‘çº¦å¼è®¾è®¡ ä¼˜å…ˆå®šä¹‰æ¥å£, é¿å…ç›´æ¥ä½¿ç”¨ç»§æ‰¿ å¤šæ€ çˆ¶ç±»ç±»å‹ å˜é‡å = new å­ç±»å¯¹è±¡ï¼› å˜é‡å.æ–¹æ³•å(); å¤šæ€çš„å¥½å¤„ finalå…³é”®å­— ä¿®é¥°ç±» ä¿®é¥°æ–¹æ³• ä¿®é¥°å±€éƒ¨å˜é‡ ä¿®é¥°æˆå‘˜å˜é‡ è®¿é—®æƒé™æ§åˆ¶ ä¸å…è®¸ä»å¤–éƒ¨åˆ›å»ºå¯¹è±¡æ—¶ ä½¿ç”¨privateä¿®é¥°æ„é€ æ–¹æ³• å·¥å…·ç±»ä¸å…è®¸æœ‰public æˆ– default æ„é€ å™¨ æˆå‘˜å˜é‡éstatic éœ€è¦ä¸å­ç±»å…±äº« å¿…é¡»ä¸ºprotected æˆå‘˜å˜é‡éstatic ä»…åœ¨å†…éƒ¨ä½¿ç”¨ ä½¿ç”¨private staticæˆå‘˜å˜é‡ ä»…åœ¨å†…éƒ¨ä½¿ç”¨ ä½¿ç”¨ private å®šä¹‰staticæˆå‘˜å˜é‡æ—¶ è€ƒè™‘åŠ finalä¿®é¥° æˆå‘˜æ–¹æ³• ä»…åœ¨å†…éƒ¨ä½¿ç”¨ ä½¿ç”¨private æˆå‘˜æ–¹æ³•ä»…å¯¹ç»§æ‰¿ç±»å…¬å¼€ ä½¿ç”¨ protected MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-15 02:50:40 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/åµŒå¥—ç±».html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/åµŒå¥—ç±».html","title":"åµŒå¥—ç±»","keywords":"","body":"åµŒå¥—ç±» é™æ€åµŒå¥—ç±»ï¼Œç±»å‰é¢æœ‰staticä¿®é¥°ç¬¦ éé™æ€åµŒå¥—ç±»ï¼Œåˆç§°å†…éƒ¨ç±» æ™®é€šå†…éƒ¨ç±» å±€éƒ¨å†…éƒ¨ç±» åŒ¿åå†…éƒ¨ç±» public class Main { // é™æ€åµŒå¥—ç±» static class Inner1{ } /* åŒ…å†…é™æ€å†…éƒ¨ç±»çš„å¥½å¤„ï¼š 1. ä½œç”¨åŸŸä¸ä¼šæ‰©æ•£åˆ°åŒ…å¤– 2. å¯ä½¿ç”¨ å¤–éƒ¨ç±».å†…éƒ¨ç±» æ–¹å¼ç›´æ¥è®¿é—® 3. å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®æ‰€æœ‰é™æ€å±æ€§åŠæ–¹æ³• */ // æ™®é€šå†…éƒ¨ç±» class Inner2{} public void f(){ // å±€éƒ¨å†…éƒ¨ç±» class Inner3{} // åŒ¿åå†…éƒ¨ç±» new Object(){}; } } ä½¿ç”¨ç†ç”± ç»†ç²’åº¦è®¿é—®æ§åˆ¶ é¿å…è¿‡å¤šç±»å®šä¹‰ åŒ¿åå†…éƒ¨ç±» æ²¡æœ‰æ­£å¼ç±»å æ²¡æœ‰æ„é€ å‡½æ•° å¯ä»¥ç»§æ‰¿ã€æ”¹å†™ã€å¢åŠ çˆ¶ç±»çš„æ–¹æ³• ä¸èƒ½å®šä¹‰é™æ€æˆå‘˜ï¼ˆé™æ€å¸¸é‡é™¤å¤–ï¼‰ å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ å±€éƒ¨å†…éƒ¨ç±» ç¼–è¯‘ååç§°ï¼šå¤–éƒ¨ç±»å+$+åºå·+å†…éƒ¨ç±»å å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ï¼Œæˆ–è€…å®ç°å…¶ä»–æ¥å£ éé™æ€çš„ç±»ï¼Œä¸èƒ½åŒ…å«é™æ€æˆå‘˜(å˜é‡å’Œæ–¹æ³•)ï¼Œé™¤äº†å¸¸é‡ å¯ä»¥è®¿é—®å¤–éƒ¨åŒ…å›´ç±»çš„æˆå‘˜ å¦‚æœå®šä¹‰åœ¨é™æ€æ–¹æ³•ä¸­ï¼Œåªèƒ½è®¿é—®åŒ…å›´ç±»çš„é™æ€æˆå‘˜ å±€éƒ¨å†…éƒ¨ç±»ä¸èƒ½æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå³æ¥å£ä¸èƒ½å®šä¹‰åœ¨ä»£ç å—ä¸­ æ™®é€šå†…éƒ¨ç±» ç¼–è¯‘ååç§°ï¼šå¤–éƒ¨ç±»å+$+å†…éƒ¨ç±»å å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ï¼Œæˆ–è€…å®ç°å…¶ä»–æ¥å£ å¯ä»¥ç”¨private/package private(ä¸å†™)/protected/publicæ§åˆ¶å¤–ç•Œè®¿é—® éé™æ€çš„ç±»ï¼Œä¸èƒ½åŒ…å«é™æ€å˜é‡/æ–¹æ³•ï¼Œé™¤äº†å¸¸é‡ å’Œå¤–éƒ¨åŒ…å›´ç±»çš„å®ä¾‹ç›¸å…³ï¼Œä¸€ä¸ªæ™®é€šå†…éƒ¨ç±»å®ä¾‹è‚¯å®šæ˜¯åœ¨ä¸€ä¸ªå¤–éƒ¨åŒ…å›´ç±»çš„å®ä¾‹ä¸­ï¼Œä¸”å¯ä»¥è®¿é—®å¤–éƒ¨åŒ…å›´ç±»çš„æ‰€æœ‰æˆå‘˜ åœ¨ç¬¬ä¸‰æ–¹ç±»ä¸­ï¼Œéœ€è¦å…ˆåˆ›å»ºå¤–éƒ¨åŒ…å›´ç±»å®ä¾‹ï¼Œæ‰èƒ½åˆ›å»ºæ™®é€šå†…éƒ¨ ç±»çš„å®ä¾‹ï¼Œä¸å…è®¸å•ç‹¬çš„æ™®é€šå†…éƒ¨ç±»å¯¹è±¡å­˜åœ¨ï¼ï¼ï¼ é™æ€åµŒå¥—ç±» éœ€è¦åŠ ä¿®é¥°ç¬¦static å¯ä»¥å®šä¹‰é™æ€æˆå‘˜å’Œéé™æ€æˆå‘˜ ä¸èƒ½ç›´æ¥è®¿é—®åŒ…å›´ç±»çš„éé™æ€æˆå‘˜ï¼Œå¯ç›´æ¥è®¿é—®åŒ…å›´ç±»çš„é™æ€æˆå‘˜ å¯é€šè¿‡åŒ…å›´ç±»çš„å¯¹è±¡è¿›è¡Œè®¿é—®éé™æ€æˆå‘˜ å¤–ç•Œå¯ä»¥é€šè¿‡é™æ€åµŒå¥—ç±»åè®¿é—®å…¶é™æ€æˆå‘˜ï¼Œé€šè¿‡å¯¹è±¡è®¿é—®å…¶éé™æ€æˆå‘˜ å¤–ç•Œéœ€è¦é€šè¿‡åŒ…å›´ç±»æ‰å¯ä»¥è®¿é—®åˆ°é™æ€åµŒå¥—ç±»ï¼Œå¹¶åˆ›å»ºå…¶å¯¹è±¡ï¼Œä¸éœ€è¦å¤–éƒ¨åŒ…å›´ç±»çš„å®ä¾‹ å¯¹æ¯” å˜é‡é®è”½ ä»¥ç¦»å¾—è¿‘ä½œä¸ºä¼˜å…ˆåŸåˆ™ ä¼˜å…ˆçº§é«˜çš„å˜é‡ä¼šé®è”½ä¼˜å…ˆçº§ä½çš„å˜é‡ å¤–éƒ¨åŒ…å›´ç±».this.å˜é‡åï¼Œå¯ä»¥è®¿é—®åˆ°å¤–éƒ¨åŒ…å›´ç±»çš„æˆå‘˜å˜é‡ é™æ€åµŒå¥—ç±»ä¸èƒ½è®¿é—®éé™æ€å˜é‡ Java 7åŠä»¥å‰ï¼ŒåŒ¿åå†…éƒ¨ç±»å’Œå±€éƒ¨å†…éƒ¨ç±»åªèƒ½è®¿é—®å¤–éƒ¨åŒ…å›´ç±»çš„finalæˆå‘˜å˜é‡ Java 8åŠä»¥åï¼ŒåŒ¿åå†…éƒ¨ç±»å’Œå±€éƒ¨å†…éƒ¨ç±»å¯è®¿é—®å¤–éƒ¨åŒ…å›´ç±»çš„finalæˆå‘˜å˜é‡å’Œ äº‹å®æ„ä¹‰ä¸Šçš„finalå˜é‡(effectively final, ä¸€ä¸ªå˜é‡å®šå€¼åï¼Œå†ä¹Ÿæ²¡æœ‰æ”¹è¿‡å€¼) åº”ç”¨ åŒ¿åå†…éƒ¨ç±» æ— éœ€ç±»åï¼Œç”¨è¿‡å³ç„šï¼Œä½¿ç”¨å¹¿æ³› è¯¥ç±»çš„å¯¹è±¡åªè¦ä¸€ä¸ªï¼Œä¸”æ–¹æ³•åªæœ‰ä¸€ä¸ªï¼Œä»£ç çŸ­ Androidä¸­å¸¸ç”¨åŒ¿åå†…éƒ¨ç±» å±€éƒ¨å†…éƒ¨ç±» å®šä¹‰åœ¨æ–¹æ³•ä½“å†…ï¼Œåªèƒ½åœ¨å½“å‰æ–¹æ³•å†…ä½¿ç”¨ï¼Œä»£ç çŸ­ ä½¿ç”¨è¾ƒå°‘ ä»‹äºåŒ¿åå†…éƒ¨ç±»å’Œæ™®é€šå†…éƒ¨ç±»ä¹‹é—´ è¿­ä»£å™¨ æ™®é€šå†…éƒ¨ç±» å¹¿æ³›ä½¿ç”¨åœ¨å…·æœ‰æ¯å­ç»“æ„çš„ç±»ï¼Œå†…éƒ¨ç±»å¯¹è±¡å’Œå¤–å›´ç±»ä¿æŒè”ç³» å¦‚Mapå’ŒMap.Entryï¼ŒZipFileå’ŒZipFile.ZipEntryIteratorç­‰ é™æ€åµŒå¥—ç±» å’Œå¤–å›´ç±»æ²¡æœ‰å¤ªå¤šçš„è”ç³» èŠ‚çœæ™®é€šå†…éƒ¨ç±»å’Œå¤–å›´ç±»çš„è”ç³»å¼€é”€ ä½¿å¾—å¤–å›´ç±»å¯¹è±¡æ›´å®¹æ˜“è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-15 02:27:09 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/é›†åˆ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/é›†åˆ.html","title":"é›†åˆ","keywords":"","body":"é›†åˆ é›†åˆæ˜¯javaä¸­æä¾›çš„ä¸€ç§å®¹å™¨ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨å¤šä¸ªæ•°æ® List å­˜å‚¨ä¸€ç»„ä¸å”¯ä¸€ï¼ˆå¯ä»¥æœ‰å¤šä¸ªå…ƒç´ å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ï¼‰ï¼Œæœ‰åºçš„å¯¹è±¡ Set ä¸å…è®¸é‡å¤çš„é›†åˆã€‚ä¸ä¼šæœ‰å¤šä¸ªå…ƒç´ å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ Queue è¢«è®¾è®¡ç”¨æ¥å¯ä»¥ä»¥æŸç§ä¼˜å…ˆçº§å¤„ç†å…ƒç´ çš„é›†åˆ Map ä½¿ç”¨é”®å€¼å¯¹å­˜å‚¨ã€‚Mapä¼šç»´æŠ¤ä¸Keyæœ‰å…³è”çš„å€¼ Iteratorè¿­ä»£å™¨ Iterator it = coll.iterator(); while(it.hasNext()){ //åˆ¤æ–­æ˜¯å¦æœ‰è¿­ä»£å…ƒç´  String s = it.next();//è·å–è¿­ä»£å‡ºçš„å…ƒç´  System.out.println(s); } List List é›†åˆçš„éå†ç»“æœæ˜¯ç¨³å®šçš„ ArrayList éçº¿ç¨‹å®‰å…¨ å†…éƒ¨ä½¿ç”¨æ•°ç»„ å¿«é€Ÿéšæœºè®¿é—® æ’å…¥åˆ é™¤æ…¢ LinkedList æœ¬è´¨åŒå‘é“¾è¡¨ æ’å…¥åˆ é™¤å¿« éšæœºè®¿é—®æ…¢ å†…å­˜åˆ©ç”¨ç‡è¾ƒé«˜ å¸¸ç”¨æ–¹æ³• public void add(int index, E element) : å°†æŒ‡å®šçš„å…ƒç´ ï¼Œæ·»åŠ åˆ°è¯¥é›†åˆä¸­çš„æŒ‡å®šä½ç½®ä¸Šã€‚ - public E get(int index) :è¿”å›é›†åˆä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚ public E remove(int index) : ç§»é™¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ , è¿”å›çš„æ˜¯è¢«ç§»é™¤çš„å…ƒç´ ã€‚ public E set(int index, E element) :ç”¨æŒ‡å®šå…ƒç´ æ›¿æ¢é›†åˆä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ,è¿”å›å€¼çš„æ›´æ–°å‰çš„å…ƒç´  Queue FIFO é˜»å¡é˜Ÿåˆ—é˜»å¡çš„ç‰¹æ€§ä¸FIFOç»“åˆ é€‚åˆåšBuffer Mapé›†åˆ å¸¸ç”¨å­ç±» Mapé›†åˆç±» Key Value Super JDK è¯´æ˜ Hashtable ä¸å…è®¸ä¸ºnull ä¸å…è®¸ä¸ºnull Dictionary 1.0 çº¿ç¨‹å®‰å…¨ï¼ˆè¿‡æ—¶ï¼‰ ConcurrentHashMap ä¸å…è®¸ä¸ºnull ä¸å…è®¸ä¸ºnull AbstractMap 1.5 é”åˆ†æ®µæŠ€æœ¯æˆ–CAS(JDK8åŠä»¥ä¸Š) TreeMap ä¸å…è®¸ä¸ºnull å…è®¸ä¸ºnull AbstractMap 1.2 çº¿ç¨‹ä¸å®‰å…¨(æœ‰åº) HashMap å…è®¸ä¸ºnull å…è®¸ä¸ºnull AbstractMap 1.2 çº¿ç¨‹ä¸å®‰å…¨( resizeæ­»é“¾é—®é¢˜) åœ¨ä»»ä½•Mapä¸­ éƒ½è¦é¿å…KVè®¾ç½®ä¸ºnull HashMap å¹¶å‘åœºæ™¯ä¸‹ æ•°æ®ä¸¢å¤± æ­»é“¾é—®é¢˜ï¼šå¹¶å‘æƒ…å†µä¸‹é“¾è¡¨ä¿®æ”¹å¯¼è‡´çš„ä¸ä¸€è‡´é—®é¢˜ ConcurrentHashMap JDK11åå–æ¶ˆäº†åˆ†æ®µé”æœºåˆ¶ å¼•å…¥äº†çº¢é»‘æ ‘ç»“æ„ put remove sizeç­‰æ“ä½œéƒ½æ˜¯ç”¨äº†CAS LinkedHashMap TreeMap keyæœ‰åº åŸºäºçº¢é»‘æ ‘å®ç° å¹¶éä¸€å®šè¦è¦†å†™hashCodeä¸equals å…¶å†…éƒ¨å…ƒç´ æ—¶é€šè¿‡Comparableä¸Comparatoræ¥å®ç°keyå»é‡æ’åºçš„ å¸¸ç”¨æ–¹æ³• public V put(K key, V value) : æŠŠæŒ‡å®šçš„é”®ä¸æŒ‡å®šçš„å€¼æ·»åŠ åˆ°Mapé›†åˆä¸­ã€‚ public V remove(Object key) : æŠŠæŒ‡å®šçš„é”® æ‰€å¯¹åº”çš„é”®å€¼å¯¹å…ƒç´  åœ¨Mapé›†åˆä¸­åˆ é™¤ï¼Œè¿”å›è¢«åˆ é™¤å…ƒç´ çš„ å€¼ã€‚ public V get(Object key) æ ¹æ®æŒ‡å®šçš„é”®ï¼Œåœ¨Mapé›†åˆä¸­è·å–å¯¹åº”çš„å€¼ã€‚ public Set keySet() : è·å–Mapé›†åˆä¸­æ‰€æœ‰çš„é”®ï¼Œå­˜å‚¨åˆ°Seté›†åˆä¸­ã€‚ public Set> entrySet() : è·å–åˆ°Mapé›†åˆä¸­æ‰€æœ‰çš„é”®å€¼å¯¹å¯¹è±¡çš„é›†åˆ(Seté›†åˆ)ã€‚ Seté›†åˆ ä¸å…è®¸å‡ºç°é‡å¤ HashSet åº•å±‚ä½¿ç”¨hashmap å­˜å‚¨è‡ªå®šä¹‰ç±»å‹å…ƒç´ æ—¶ï¼Œéœ€è¦é‡å†™å¯¹è±¡ä¸­çš„hashCodeå’Œequalsæ–¹æ³• TreeSet åº•å±‚ä½¿ç”¨TreeMap ä¿è¯Keyæœ‰åº LinkedHashSet æœ‰åºçš„å“ˆå¸Œé›†åˆ Collections å·¥å…·ç±» public static boolean addAll(Collection c, T... elements) :å¾€é›†åˆä¸­æ·»åŠ ä¸€äº›å…ƒç´ ã€‚ public static void shuffle(List list) æ‰“ä¹±é¡ºåº :æ‰“ä¹±é›†åˆé¡ºåºã€‚ public static void sort(List list) :å°†é›†åˆä¸­å…ƒç´ æŒ‰ç…§é»˜è®¤è§„åˆ™æ’åºã€‚ public static void sort(List listï¼ŒComparator ) :å°†é›†åˆä¸­å…ƒç´ æŒ‰ç…§æŒ‡å®šè§„åˆ™æ’åº é›†åˆåˆå§‹åŒ– ArrayListçš„åˆå§‹å€¼ä¸º10 æ¯æ¬¡æ‰©å®¹ä»¥1.5å€çš„é€Ÿåº¦è¿›è¡Œæ‰©å®¹ HashMapçš„åˆå§‹å€¼ä¸º16 æ¯æ¬¡æ‰©å®¹ä»¥2çš„å¹‚è¿›è¡Œæ‰©å®¹ è¿™æ ·å¦‚æœå­˜æ”¾åœ¨é›†åˆçš„å…ƒç´ æ¯”è¾ƒå¤š å°±ä¼šé€ æˆä¸æ–­æ‰©å®¹ å½±å“æ€§èƒ½ æ‰€ä»¥é›†åˆåˆå§‹åŒ–æ—¶åº”è¯¥æŒ‡å®šå¥½é»˜è®¤å€¼ æ•°ç»„ä¸é›†åˆ new int[-1]; // è¿è¡Œæ—¶å¼‚å¸¸ï¼šNegativeArraySizeExceptionï¼š-1 æ•°ç»„éå†ä¼˜å…ˆä½¿ç”¨foreachæ–¹å¼ æ•°ç»„è½¬é›†åˆ æ³¨æ„è½¬é›†åˆçš„è¿‡ç¨‹ä¸­æ˜¯å¦ä½¿ç”¨äº†è§†å›¾çš„æ–¹å¼ï¼š Arrays.asList(...)è¿™ä¸ªæ–¹æ³•è¿”å›äº†ä¸€ä¸ªä¸å¯å˜çš„ArrayListï¼ˆArraysçš„å†…éƒ¨ç±»ï¼‰,ä¸èƒ½è¿›è¡Œä¿®æ”¹æ“ä½œ å¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ é›†åˆè½¬æ•°ç»„ Object[] objects = list.toArray();// æ³›å‹ä¸¢å¤± String[] arr1 = new String[2]; list.toArray(arr1); // arr1ä¸º[null,null] String[] arr2 = new String[3]; list.toArray(arr2); // arr2ä¸º[1,2,3] å½“toArrayä¼ å…¥çš„æ•°ç»„å®¹é‡æ¯”sizeå°æ—¶ è¯¥æ–¹æ³•å°±ä¼šå¼ƒç”¨è¿™ä¸ªæ•°ç»„ è€Œæ˜¯è‡ªå·±åˆ›å»ºä¸€ä¸ªæ•°ç»„è¿”å› å½“æ•°ç»„å®¹é‡ç­‰äºsizeæ—¶ è¿è¡Œæ—¶æœ€å¿«çš„,ç©ºé—´æ•ˆç‡ä¹Ÿæ˜¯æœ€é«˜çš„ é›†åˆä¸æ³›å‹ //ç¬¬ä¸€æ®µ:æ³›å‹å‡ºç°ä¹‹å‰çš„é›†åˆå®šä¹‰æ–¹å¼ List al = new ArrayList(); al.add (new Object()); al.add (new Integer(111)); al.add(new String(\"hello alal\")); //ç¬¬äºŒæ®µ:æŠŠa1å¼•ç”¨èµ‹å€¼ç»™a2ï¼Œæ³¨æ„a2ä¸alçš„åŒºåˆ«æ˜¯å¢åŠ äº†æ³›å‹é™åˆ¶ List a2 = al; a2.add (new Object()); a2.add (new Integer(222)); a2.add(new String(\"hello a2a2\")ï¼‰; //ç¬¬ä¸‰æ®µ:æŠŠa1å¼•ç”¨èµ‹å€¼ç»™a3ï¼Œæ³¨æ„a3ä¸alçš„åŒºåˆ«æ˜¯å¢åŠ äº†æ³›å‹ List a3 = al; a3.add(new Integer (333)ï¼‰; ä¸‹æ–¹ä¸¤è¡Œç¼–è¯‘å‡ºé”™ï¼Œä¸å…è®¸å¢åŠ éIntegerç±»å‹è¿›å…¥é›†åˆ a3.add(new object()); a3.add(new String(\"hello a3a3\")); //ç¬¬å››æ®µ:æŠŠa1å¼•ç”¨èµ‹å€¼ç»™a4ï¼Œalä¸a4çš„åŒºåˆ«æ˜¯å¢åŠ äº†é€šé…ç¬¦ Lista4 = al; //å…è®¸å‰¯é™¤å’Œæ¸…é™¤å…ƒç´  al.remove(O); a4.clear(); // ç¼–è¯‘å‡ºé”™ã€‚ä¸å…è®¸å¢åŠ ä»»ä½•å…ƒç´  a4.add (new Object()); putåŠŸèƒ½å—é™ ?åªèƒ½æ˜¯TåŠTçš„å­ç±»å‹ get åŠŸèƒ½å—é™ ?åªèƒ½æ˜¯TåŠTçš„çˆ¶ç±»å‹ å…ƒç´ çš„æ¯”è¾ƒ Comparableå’ŒComparatorä¸¤ä¸ªæ¥å£çš„åŒºåˆ«ï¼š Comparableï¼šè‡ªå·±ä¸åˆ«äººæ¯”è¾ƒ Comparatorï¼šç¬¬ä¸‰æ–¹æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ hashCode ä¸ equals é€šè¿‡å“ˆå¸Œå°†æ•°æ®åˆ†æ•£å¼€æ¥ equalsç›¸ç­‰ åˆ™hashCodeå¿…é¡»ç›¸ç­‰ è¦†å†™equals å¿…é¡»è¦†å†™hashCode // HashMap åˆ¤æ–­ä¸¤ä¸ªkeyæ˜¯å¦ç›¸ç­‰ if (e.hash == hash && ((k = e.key) == key || (key != null && key.equals(k)))) å¿«é€Ÿå¤±è´¥æœºåˆ¶ å½“å‰çº¿ç¨‹ç»´æŠ¤ä¸€ä¸ªexpectedModCount éå†ä¹‹å‰è¿™ä¸ªå€¼ç­‰äºmodCount å¦‚æœåœ¨éå†çš„è¿‡ç¨‹ä¸­å‘ç° expectedModCount != modCount å°±ä»£è¡¨é›†åˆè¢«åˆ«çš„çº¿ç¨‹ä¿®æ”¹äº† è¿™æ—¶å€™ä¼šè·‘å‡ºä¸€ä¸ªConcurrentModificationException è¿™ä¸ªæ—¶å€™å¾—ä½¿ç”¨è¿­ä»£å™¨æ¥å®ç°åœ¨éå†ä¸­ä¿®æ”¹é›†åˆçš„åŠŸèƒ½ å¹¶å‘é›†åˆéƒ½æ˜¯ä½¿ç”¨å¿«é€Ÿå¤±è´¥æœºåˆ¶å®ç°çš„ é›†åˆä¿®æ”¹ä¸éå†æ²¡æœ‰ä»»ä½•å…³ç³» ä½†è¿™ç§æœºåˆ¶ä¼šå¯¼è‡´è¯»å–ä¸åˆ°æœ€æ–°çš„æ•°æ® ä¹Ÿæ˜¯CAPç†è®ºä¸­ Aä¸Pçš„çŸ›ç›¾ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-22 00:52:26 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/å¼‚å¸¸.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/å¼‚å¸¸.html","title":"å¼‚å¸¸","keywords":"","body":"å¼‚å¸¸ æŒ‡çš„æ˜¯ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„éæ­£å¸¸çš„æƒ…å†µï¼Œç»ˆä¼šå¯¼è‡´JVMçš„éæ­£å¸¸åœæ­¢ å¼‚å¸¸ä½“ç³» Errorï¼ˆé”™è¯¯ï¼‰:æ˜¯ç¨‹åºæ— æ³•å¤„ç†çš„é”™è¯¯ï¼Œè¡¨ç¤ºè¿è¡Œåº”ç”¨ç¨‹åºä¸­è¾ƒä¸¥é‡é—®é¢˜ Exceptionï¼ˆå¼‚å¸¸ï¼‰:æ˜¯ç¨‹åºæœ¬èº«å¯ä»¥å¤„ç†çš„å¼‚å¸¸ åˆ†ç±» ç¼–è¯‘æ—¶æœŸå¼‚å¸¸:checkedå¼‚å¸¸ã€‚åœ¨ç¼–è¯‘æ—¶æœŸ,å°±ä¼šæ£€æŸ¥,å¦‚æœæ²¡æœ‰å¤„ç†å¼‚å¸¸,åˆ™ç¼–è¯‘å¤±è´¥ã€‚(å¦‚æ—¥æœŸæ ¼å¼åŒ–å¼‚å¸¸) æ— èƒ½ä¸ºåŠ›,å¼•èµ·æ³¨æ„ç±»å‹çš„å¼‚å¸¸ æ­¤ç±»å¼‚å¸¸éœ€è¦å®Œæ•´ä¿å­˜å¼‚å¸¸ç°åœº ä¾›äº‹åæ’æŸ¥ å¯ä»¥å¤„ç†çš„å¼‚å¸¸ å¦‚æœªæˆæƒå¼‚å¸¸ è¿è¡Œæ—¶æœŸå¼‚å¸¸:runtimeå¼‚å¸¸ã€‚åœ¨è¿è¡Œæ—¶æœŸ,æ£€æŸ¥å¼‚å¸¸.åœ¨ç¼–è¯‘æ—¶æœŸ,è¿è¡Œå¼‚å¸¸ä¸ä¼šç¼–è¯‘å™¨æ£€æµ‹(ä¸æŠ¥é”™)ã€‚(å¦‚æ•°å­¦å¼‚å¸¸) å¯é¢„æµ‹å¼‚å¸¸ åº”åœ¨ç¼–ç æ—¶æ³¨æ„è¾¹ç•Œæ¡ä»¶ ç©ºæŒ‡é’ˆåˆ¤æ–­ç­‰æ¥é¿å… éœ€è¦æ•è·çš„å¼‚å¸¸ å¦‚è¶…æ—¶å¼‚å¸¸ å¯ä»¥è¿›è¡Œé™çº§æˆ–è€…é‡è¯• å¯å¿½ç•¥å¼‚å¸¸ å¯¹äºæŸäº›å¼‚å¸¸ æ¡†æ¶æˆ–è€…ç³»ç»Ÿä¼šè‡ªè¡Œå¤„ç† è¿™ç±»å¼‚å¸¸å¯ä»¥ä¸ç”¨ç®¡ ä½¿ç”¨ try{ // do something }catch (Throwable t){ t.printStackTrace(); throw new RuntimeException(t); }finally { // resource recycle /*ä»¥ä¸‹æƒ…å†µfinallyä¸ä¼šæ‰§è¡Œ å‰é¢çš„ä»£ç ä¸­ç”¨äº† System.exit(int)å·²é€€å‡ºç¨‹åº tryä»£ç å—å‡ºç°äº†æ­»å¾ªç¯æˆ–è€…æ­»é” CPUå…³é—­ */ } æ³¨æ„äº‹é¡¹ å¤šä¸ªå¼‚å¸¸ä¸€æ¬¡æ•è·å¤šæ¬¡å¤„ç† è¿è¡Œæ—¶å¼‚å¸¸è¢«æŠ›å‡ºå¯ä»¥ä¸å¤„ç†ã€‚å³ä¸æ•è·ä¹Ÿä¸å£°æ˜æŠ›å‡ºã€‚ å¦‚æœï¬nallyæœ‰returnè¯­å¥,æ°¸è¿œè¿”å›ï¬nallyä¸­çš„ç»“æœ,é¿å…è¯¥æƒ…å†µã€ å¦‚æœçˆ¶ç±»æŠ›å‡ºäº†å¤šä¸ªå¼‚å¸¸,å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•æ—¶,æŠ›å‡ºå’Œçˆ¶ç±»ç›¸åŒçš„å¼‚å¸¸æˆ–è€…æ˜¯çˆ¶ç±»å¼‚å¸¸çš„å­ç±»æˆ–è€…ä¸æŠ›å‡ºå¼‚ å¸¸ã€‚ çˆ¶ç±»æ–¹æ³•æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œå­ç±»é‡å†™çˆ¶ç±»è¯¥æ–¹æ³•æ—¶ä¹Ÿä¸å¯æŠ›å‡ºå¼‚å¸¸ã€‚æ­¤æ—¶å­ç±»äº§ç”Ÿè¯¥å¼‚å¸¸ï¼Œåªèƒ½æ•è·å¤„ç†ï¼Œä¸ èƒ½å£°æ˜æŠ›å‡º å…³äºç³»ç»Ÿè®¾è®¡ä¸­çš„å¼‚å¸¸ è¿œç¨‹æœåŠ¡è°ƒç”¨åº”è¯¥ä½¿ç”¨resultå¯¹è±¡æ¥å°è£…é”™è¯¯ç ä¸æè¿° ä¸»è¦æ˜¯å› ä¸ºï¼š é˜²æ­¢è°ƒç”¨æ–¹æ²¡æœ‰æ•è· å¼‚å¸¸å¯¹è°ƒç”¨æ–¹çš„å¸®åŠ©ä¸ä¼šå¾ˆå¤§ åŸºäºé˜²å¾¡å¼ç¼–ç¨‹, æœåŠ¡æä¾›æ–¹å¯ä»¥è¿”å›null, è°ƒç”¨æ–¹è¦è¿›è¡Œäº‹å…ˆåˆ¤æ–­ é˜²æ­¢NPE MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-19 03:18:59 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/æ—¥å¿—.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/æ—¥å¿—.html","title":"æ—¥å¿—","keywords":"","body":"æ—¥å¿— è®°å½•æ“ä½œ ç›‘æ§ç³»ç»Ÿ å›æº¯æ•…éšœ æ—¥å¿—è§„èŒƒ æ–‡ä»¶å‘½åï¼šappName_logType_logName.log æ—¥å¿—æ–‡ä»¶çš„ä¿å­˜æ—¶é—´è¡¡é‡å› ç´ ï¼š é‡è¦ç¨‹åº¦ æ–‡ä»¶å¤§å° ç£ç›˜ç©ºé—´ æ—¥å¿—çº§åˆ«ï¼š DEBUG å¯¹è°ƒè¯•æœ‰å¸®åŠ©çš„ä¿¡æ¯ INFO æœªå‘ç”Ÿé”™è¯¯ ä½†å¯¹å…¶ä»–é”™è¯¯æ’æŸ¥æœ‰æŒ‡å¯¼ä½œç”¨ WARN åå‘äºæ­¤å¤„æœ‰å‡ºç°é”™è¯¯çš„å¯èƒ½ ERROR å‘ç”Ÿäº†é”™è¯¯éœ€è¦è¢«å…³æ³¨ ä½†æ²¡æœ‰å½±å“ç³»ç»Ÿè¿è¡Œ FATAL ä¸¥é‡é”™è¯¯ ç¨‹åºä¸­æ–­ æ—¥å¿—ä½¿ç”¨ é¢„å…ˆåˆ¤æ–­æ—¥å¿—çº§åˆ« é¿å…ä½¿ç”¨å­—ç¬¦ä¸²çš„å½¢å¼è¿æ¥æ‰“å°æ—¥å¿— log.debug(\"user \" + id + \"create new order \" + orderId) // bad if (log.enableDebug){ // good log.debug(...) } log.debug('user {} create new order {}', id, orderId) // good ä¸»è¦æ˜¯é˜²æ­¢æ— è°“çš„å­—ç¬¦ä¸²è¿æ¥æ¶ˆè€—ç³»ç»Ÿèµ„æº é¿å…æ— æ•ˆæ—¥å¿—æ‰“å° å¯¹äºdebug log ç­‰ä½çº§åˆ«çš„æ—¥å¿— ä¸€å®šè¦æ§åˆ¶å¥½è¾“å‡ºé‡ é¿å…ç£ç›˜ç©ºé—´è¢«å¿«é€Ÿåæ‰ åŒºåˆ«å¯¹å¾…é”™è¯¯æ—¥å¿— ä¸èƒ½å°†æ‰€æœ‰é”™è¯¯ä¸€è‚¡è„‘å½’ç±»ä¸ºERRORçº§åˆ« ERRORçº§åˆ«å°±ä»£è¡¨æ˜¯éœ€è¦äººå·¥ä»‹å…¥å¤„ç†çš„çº§åˆ« æ—¥å¿—è®°å½•çš„å†…å®¹ ä¸€å®šè¦è¾“å‡ºå¼‚å¸¸å †æ ˆ è¾“å‡ºå¯¹è±¡å®ä¾‹æ—¶ è¦ç¡®ä¿å¯¹è±¡é‡å†™äº† toString æ–¹æ³• æ—¥å¿—æ¡†æ¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-19 03:54:17 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/IO.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/IO.html","title":"IO","keywords":"","body":"IO BIO (Blocking I/O): åŒæ­¥é˜»å¡ I/O æ¨¡å¼ï¼Œæ•°æ®çš„è¯»å–å†™å…¥å¿…é¡»é˜»å¡åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ç­‰å¾…å…¶å®Œæˆ NIO (Non-blocking/New I/O): NIO æ˜¯ä¸€ç§åŒæ­¥éé˜»å¡çš„ I/O æ¨¡å‹,æ”¯æŒé¢å‘ç¼“å†²çš„ï¼ŒåŸºäºé€šé“çš„ I/O æ“ä½œæ–¹æ³• AIO (Asynchronous I/O):å¼‚æ­¥ IO æ˜¯åŸºäºäº‹ä»¶å’Œå›è°ƒæœºåˆ¶å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨æ“ä½œä¹‹åä¼šç›´æ¥è¿”å›ï¼Œä¸ä¼šå µå¡åœ¨é‚£é‡Œï¼Œå½“åå°å¤„ç†å®Œæˆï¼Œæ“ä½œç³»ç»Ÿä¼šé€šçŸ¥ç›¸åº”çš„çº¿ç¨‹è¿›è¡Œåç»­çš„æ“ä½œ ç½‘ç»œIOæ¨¡å‹ï¼š ç½‘ç»œæ¡†æ¶è®¾è®¡æ¨¡å¼ï¼š Reactoræ¨¡å¼ï¼šä¸»åŠ¨æ¨¡å¼ åº”ç”¨ç¨‹åºä¸æ–­è½®è¯¢ è¯¢é—®åº•å±‚IOæ˜¯å¦å‡†å¤‡å°±ç»ª Proactoræ¨¡å¼ï¼šè¢«åŠ¨æ¨¡å¼ read writeéƒ½äº¤ç»™åº•å±‚ é€šè¿‡å›è°ƒå®Œæˆæ“ä½œ æœåŠ¡å™¨ç½‘ç»œç¼–ç¨‹ 1 + N + M æ¨¡å‹ 1ä¸ªç›‘å¬çº¿ç¨‹ Nä¸ªIOçº¿ç¨‹ Mä¸ªworkerçº¿ç¨‹ æ¶æ„ å¤§ä½“åˆ†ä¸ºä¸¤ç±»ï¼š å­—èŠ‚æ“ä½œæµ InputStream ä¸ OutputStreamç­‰ å­—ç¬¦æ“ä½œæµ Writer ä¸ Reader ç£ç›˜IO File ç½‘ç»œæ“ä½œ Socektç­‰ å­—èŠ‚åˆ°å­—ç¬¦çš„è½¬æ¢ååˆ†è€—æ—¶ éå¸¸å®¹æ˜“å‡ºç°ä¹±ç é—®é¢˜ è¿™æ˜¯å­—ç¬¦æµçš„ç”¨å¤„ InputStreamReader ä¸ OutputStreamWriter æ˜¯å­—èŠ‚æµä¸å­—ç¬¦æµä¹‹é—´çš„æ¡¥æ¢ Fileç±» Fileå¹¶ä¸ä»£è¡¨ä¸€ä¸ªçœŸå®å­˜åœ¨çš„çœŸå®å¯¹è±¡ FileDescriptoræ‰æ˜¯ä»£è¡¨ä¸€ä¸ªçœŸå®æ–‡ä»¶å¯¹è±¡ ä»ç£ç›˜è¯»å–æ–‡ä»¶ï¼š æ„é€ æ–¹æ³• public File(String pathname) ï¼šé€šè¿‡å°†ç»™å®šçš„è·¯å¾„åå­—ç¬¦ä¸²è½¬æ¢ä¸ºæŠ½è±¡è·¯å¾„åæ¥åˆ›å»ºæ–°çš„ Fileå®ä¾‹ã€‚ public File(String parent, String child) ï¼šä»çˆ¶è·¯å¾„åå­—ç¬¦ä¸²å’Œå­è·¯å¾„åå­—ç¬¦ä¸²åˆ›å»ºæ–°çš„ Fileå®ä¾‹ã€‚ public File(File parent, String child) ï¼šä»çˆ¶æŠ½è±¡è·¯å¾„åå’Œå­è·¯å¾„åå­—ç¬¦ä¸²åˆ›å»ºæ–°çš„ Fileå®ä¾‹ é™æ€æˆå‘˜å˜é‡ è·å– public String getAbsolutePath() ï¼šè¿”å›æ­¤Fileçš„ç»å¯¹è·¯å¾„åå­—ç¬¦ä¸²ã€‚ public String getPath() ï¼šå°†æ­¤Fileè½¬æ¢ä¸ºè·¯å¾„åå­—ç¬¦ä¸²ã€‚ public String getName() ï¼šè¿”å›ç”±æ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶æˆ–ç›®å½•çš„åç§°ã€‚ public long length() ï¼šè¿”å›ç”±æ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶çš„é•¿åº¦ã€‚ åˆ¤æ–­ public boolean exists() ï¼šæ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å®é™…å­˜åœ¨ã€‚ public boolean isDirectory() ï¼šæ­¤Fileè¡¨ç¤ºçš„æ˜¯å¦ä¸ºç›®å½•ã€‚ public boolean isFile() ï¼šæ­¤Fileè¡¨ç¤ºçš„æ˜¯å¦ä¸ºæ–‡ä»¶ã€‚ åˆ›å»ºåˆ é™¤ public boolean createNewFile() ï¼šå½“ä¸”ä»…å½“å…·æœ‰è¯¥åç§°çš„æ–‡ä»¶å°šä¸å­˜åœ¨æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºæ–‡ä»¶ã€‚ public boolean delete() ï¼šåˆ é™¤ç”±æ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ public boolean mkdir() ï¼šåˆ›å»ºç”±æ­¤Fileè¡¨ç¤ºçš„ç›®å½•ã€‚ public boolean mkdirs() ï¼šåˆ›å»ºç”±æ­¤Fileè¡¨ç¤ºçš„ç›®å½•ï¼ŒåŒ…æ‹¬ä»»ä½•å¿…éœ€ä½†ä¸å­˜åœ¨çš„çˆ¶ç›®å½•ã€‚ ç›®å½•éå† public String[] list() ï¼šè¿”å›ä¸€ä¸ªStringæ•°ç»„ï¼Œè¡¨ç¤ºè¯¥Fileç›®å½•ä¸­çš„æ‰€æœ‰å­æ–‡ä»¶æˆ–ç›®å½•ã€‚ public File[] listFiles() ï¼šè¿”å›ä¸€ä¸ªFileæ•°ç»„ï¼Œè¡¨ç¤ºè¯¥Fileç›®å½•ä¸­çš„æ‰€æœ‰çš„å­æ–‡ä»¶æˆ–ç›®å½•ã€‚ æ–‡ä»¶è¿‡æ»¤å™¨ FileFilter FileNameFilter IO é¡¶çº§çˆ¶ç±» - è¾“å…¥æµ è¾“å‡ºæµ å­—èŠ‚æµ å­—èŠ‚è¾“å…¥æµ InputStream å­—èŠ‚è¾“å‡ºæµ OutputStream å­—ç¬¦æµ å­—ç¬¦è¾“å…¥æµ Reader å­—ç¬¦è¾“å‡ºæµ Writer å­—èŠ‚è¾“å‡ºæµã€OutputStreamã€‘ public void close() ï¼šå…³é—­æ­¤è¾“å‡ºæµå¹¶é‡Šæ”¾ä¸æ­¤æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æºã€‚ public void flush() ï¼šåˆ·æ–°æ­¤è¾“å‡ºæµå¹¶å¼ºåˆ¶ä»»ä½•ç¼“å†²çš„è¾“å‡ºå­—èŠ‚è¢«å†™å‡ºã€‚ public void write(byte[] b) ï¼šå°† b.lengthå­—èŠ‚ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥æ­¤è¾“å‡ºæµã€‚ public void write(byte[] b, int off, int len) ï¼šä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥ lenå­—èŠ‚ï¼Œä»åç§»é‡ oï¬€å¼€å§‹è¾“ å‡ºåˆ°æ­¤è¾“å‡ºæµã€‚ public abstract void write(int b) ï¼šå°†æŒ‡å®šçš„å­—èŠ‚è¾“å‡ºæµã€‚ FileOutputStream FileOutputStream fos = new FileOutputStream(\"fos.txt\"); for (int i =0;i æ•°æ®è¿½åŠ ç»­å†™ FileOutputStream fos = new FileOutputStream(\"fos.txt\",true); å­—èŠ‚è¾“å…¥æµã€InputStreamã€‘ public void close() ï¼šå…³é—­æ­¤è¾“å…¥æµå¹¶é‡Šæ”¾ä¸æ­¤æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æºã€‚ public abstract int read() ï¼š ä»è¾“å…¥æµè¯»å–æ•°æ®çš„ä¸‹ä¸€ä¸ªå­—èŠ‚ã€‚ public int read(byte[] b) ï¼š ä»è¾“å…¥æµä¸­è¯»å–ä¸€äº›å­—èŠ‚æ•°ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åˆ°å­—èŠ‚æ•°ç»„ bä¸­ ã€‚ FileInputStream æ„é€ æ–¹æ³• FileInputStream(File file) ï¼š é€šè¿‡æ‰“å¼€ä¸å®é™…æ–‡ä»¶çš„è¿æ¥æ¥åˆ›å»ºä¸€ä¸ª FileInputStream ï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶ç³» ç»Ÿä¸­çš„ Fileå¯¹è±¡ ï¬leå‘½åã€‚ FileInputStream(String name) ï¼š é€šè¿‡æ‰“å¼€ä¸å®é™…æ–‡ä»¶çš„è¿æ¥æ¥åˆ›å»ºä¸€ä¸ª FileInputStream ï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶ ç³»ç»Ÿä¸­çš„è·¯å¾„å nameå‘½åã€‚ FileInputStream fis = new FileInputStream(\"fos.txt\"); int c = -1; while ((c = fis.read()) != -1) { System.out.print((char)c); } fis.close(); å­—ç¬¦æµ Reader public void close() ï¼šå…³é—­æ­¤æµå¹¶é‡Šæ”¾ä¸æ­¤æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æºã€‚ public int read() ï¼š ä»è¾“å…¥æµè¯»å–ä¸€ä¸ªå­—ç¬¦ã€‚ public int read(char[] cbuf) ï¼š ä»è¾“å…¥æµä¸­è¯»å–ä¸€äº›å­—ç¬¦ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åˆ°å­—ç¬¦æ•°ç»„ cbufä¸­ ã€‚ FileReader FileReader reader = new FileReader(\"fos.txt\"); int c = -1; while ((c = reader.read()) != -1){ System.out.print((char)c); } Writer void write(int c) å†™å…¥å•ä¸ªå­—ç¬¦ã€‚ void write(char[] cbuf) å†™å…¥å­—ç¬¦æ•°ç»„ã€‚ abstract void write(char[] cbuf, int off, int len) å†™å…¥å­—ç¬¦æ•°ç»„çš„æŸä¸€éƒ¨åˆ†,oï¬€æ•°ç»„çš„å¼€å§‹ç´¢å¼•,len å†™çš„å­—ç¬¦ä¸ªæ•°ã€‚ void write(String str) å†™å…¥å­—ç¬¦ä¸²ã€‚ void write(String str, int off, int len) å†™å…¥å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ†,oï¬€å­—ç¬¦ä¸²çš„å¼€å§‹ç´¢å¼•,lenå†™çš„å­—ç¬¦ä¸ª æ•°ã€‚ void flush() åˆ·æ–°è¯¥æµçš„ç¼“å†²ã€‚ void close() å…³é—­æ­¤æµï¼Œä½†è¦å…ˆåˆ·æ–°å®ƒã€‚ FileWriter FileWriter writer = new FileWriter(\"fos.txt\"); writer.append(\"hhç§\"); writer.flush(); writer.close(); flushä¸closeçš„åŒºåˆ« JDK7ä¸­IOçš„å¼‚å¸¸å¤„ç† // JDK7 try (FileWriter writer = new FileWriter(\"fos.txt\")) { writer.append(\"hhç§\"); writer.flush(); } catch (IOException e) { e.printStackTrace(); } // JDK9 FileWriter writer = new FileWriter(\"fos.txt\"); try (writer) { writer.append(\"hhç§\"); writer.flush(); } catch (IOException e) { e.printStackTrace(); } Properties public Object setProperty(String key, String value) ï¼š ä¿å­˜ä¸€å¯¹å±æ€§ã€‚ public String getProperty(String key) ï¼šä½¿ç”¨æ­¤å±æ€§åˆ—è¡¨ä¸­æŒ‡å®šçš„é”®æœç´¢å±æ€§å€¼ã€‚ public Set stringPropertyNames() ï¼šæ‰€æœ‰é”®çš„åç§°çš„é›†åˆã€‚ ä¸æµç›¸å…³çš„æ–¹æ³• store load ç¼“å†²æµ å­—èŠ‚ç¼“å†²æµï¼š BufferedInputStream ï¼Œ BufferedOutputStream å­—ç¬¦ç¼“å†²æµï¼š BufferedReader ï¼Œ BufferedWriter ç¼–ç  å­—ç¬¦ç¼–ç  Character Encoding : å°±æ˜¯ä¸€å¥—è‡ªç„¶è¯­è¨€çš„å­—ç¬¦ä¸äºŒè¿›åˆ¶æ•°ä¹‹é—´çš„å¯¹åº”è§„åˆ™ã€‚ å­—ç¬¦é›† Charset ï¼šä¹Ÿå«ç¼–ç è¡¨ã€‚æ˜¯ä¸€ä¸ªç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰å­—ç¬¦çš„é›†åˆï¼ŒåŒ…æ‹¬å„å›½å®¶æ–‡å­—ã€æ ‡ç‚¹ç¬¦å·ã€å›¾å½¢ç¬¦ å·ã€æ•°å­—ç­‰ã€‚ å¸¸ç”¨ç¼–ç  ASCII ç  ä½¿ç”¨7bitæ¥è¡¨ç¤º èŒƒå›´ä»0-127 ISO-8859-1 å•å­—èŠ‚ç¼–ç  æ€»å…±èƒ½è¡¨ç¤º256å­—ç¬¦ GB2312 åŒå­—èŠ‚ç¼–ç  GBK æ‰©å±•äº†GB2312 å¢åŠ äº†æ›´å¤šçš„æ±‰å­— UTF-16 ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ å¤§å¤§ç®€åŒ–äº†å­—ç¬¦ä¸²æ“ä½œ æ˜¯Javaå†…å­˜çš„å­˜å‚¨æ ¼å¼ UTF-8 ä½¿ç”¨å˜é•¿å­˜å‚¨ ä¸åŒçš„å­—ç¬¦å¯ä»¥ç”±1~6ä¸ªå­—ç¬¦ç»„æˆ GBKä¸GB2312å¯¹æ¯”ï¼šGBKèŒƒå›´æ›´å¤§ UTF8ä¸UTF16å¯¹æ¯”ï¼š16ç¼–ç æ•ˆç‡é«˜ ä½†ä¸é€‚åˆç½‘ç»œä¼ è¾“ 8çš„å®¹é”™æ€§æ¯”16å¼º IO æ“ä½œä¸­çš„ç¼–è§£ç  InputStreamReader reader = new InputStreamReader(new FileInputStream(\"gbk.txt\"),\"gbk\"); OutputStreamWriter writer = new OutputStreamWriter(new FileOutputStream(\"utf8.txt\"), StandardCharsets.UTF_8); int c = -1; while ((c= reader.read()) != -1){ writer.write(c); } writer.close(); å†…å­˜ç¼–è§£ç  \"è”¡å¾å¤\".getBytes(\"gbk\"); new String(new byte[]{ -78, -52, -48, -20, -64, -92 },\"gbk\"); String ç¼–ç æ—¶åºå›¾ï¼š Web ä¸­çš„ç¼–è§£ç  URLç¼–è§£ç  /é¡µé¢?name=é¡µé¢ è¿™ä¸ªURLè¢«ç¼–ç æˆ%2f%e9%a1%b5%e9%9d%a2%3fname%3d%e9%a1%b5%e9%9d%a2 ä¸åŒæµè§ˆå™¨çš„ç¼–ç å¯èƒ½å¹¶ä¸ä¸€è‡´ é‚£ä¹ˆæœåŠ¡ç«¯æ˜¯å¦‚ä½•è§£æçš„ï¼Ÿ tomcatä¸­æœ‰ä¸€ä¸ªé…ç½®ï¼š è¿™ä¸ªé…ç½®å°±æ˜¯ç”¨æ¥å¯¹è·¯å¾„éƒ¨åˆ†è¿›è¡Œè§£ç çš„ è‡³äºqueryString è¦ä¸æ˜¯bodyä¸­çš„charset è¦ä¸å°±æ˜¯ISO-8859-1 å¹¶ä¸”å¦‚æœä½¿ç”¨è¦bodyçš„charsetçš„è¯ éœ€è¦é…ç½® HTTP header ç¼–è§£ç  å¯¹äºrequest.getHeader() é»˜è®¤æ˜¯ä½¿ç”¨çš„ISO-8859-1ç¼–ç  ä¸”æ— æ³•æŒ‡å®šç¼–ç  ä¸è¦å†Headerä¸­ä¼ é€’éASCII å­—ç¬¦ è¡¨å•ç¼–è§£ç  æµè§ˆå™¨ä¼šæ ¹æ®ContentTypeçš„Charsetå¯¹è¡¨å•å‚æ•°è¿›è¡Œç¼–ç  æœåŠ¡ç«¯å¯ä»¥åœ¨Servletå®¹å™¨ä¸­è·å–å‚æ•°ä¹‹å‰è°ƒç”¨request.setCharacterEncoding()æ¥æŒ‡å®šæœåŠ¡å™¨è§£ç æ–¹å¼ å¦‚æœæ²¡æœ‰è°ƒç”¨æ­¤æ–¹æ³• é‚£ä¹ˆä¼šæŒ‰ç…§ç³»ç»Ÿé»˜è®¤çš„ç¼–ç æ–¹å¼è§£æ Body ç¼–è§£ç  æœåŠ¡ç«¯é€šè¿‡response.setCharacterEncodingæ¥è®¾ç½® è¿™ä¸ªæ–¹æ³•çš„æœ¬è´¨æ˜¯è®¾ç½®å“åº”å¤´ContentType æµè§ˆå™¨ç«¯æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œè§£ç ï¼š ContentTypeçš„charset html metaæ ‡ç­¾çš„charsetå±æ€§ æµè§ˆå™¨é»˜è®¤æ–¹å¼ jsæ–‡ä»¶ç¼–ç é—®é¢˜ å¦‚æœå¤–éƒ¨å¼•å…¥çš„jsæ–‡ä»¶ä¸å½“å‰htmlä¸ä¸€è‡´ éœ€è¦ å¸¸è§ç¼–ç é—®é¢˜ åºåˆ—åŒ– ObjectOutputStream ObjectInputStream ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(\"object\")); oos.writeObject(new Person(\"jav\",15)); ObjectInputStream ois = new ObjectInputStream(new FileInputStream(\"object\")); Person p = (Person)ois.readObject(); åºåˆ—åŒ–çš„ç±»éœ€è¦å®ç° Serializable æ¥å£ æœ€å¥½æ‰‹åŠ¨è®¾ç½® serialVersionUID çš„å€¼, ç±»ä¿®æ”¹æ—¶æ ¹æ®æ˜¯å¦å…¼å®¹æ¥è°ƒæ•´è¿™ä¸ªå€¼ transientå…³é”®å­—ä¿®é¥°çš„å˜é‡ä¸ä¼šè¢«åºåˆ—åŒ– å…¶ä»–æ–¹å¼çš„åºåˆ—åŒ–ï¼š Hessian æ•ˆç‡å¾ˆé«˜ è·¨è¯­è¨€ JSON åºåˆ—åŒ–ä¸€äº›å¤æ‚å¯¹è±¡ï¼š çˆ¶ç±»ç»§æ‰¿Serializableæ¥å£ æ‰€æœ‰å­ç±»éƒ½å¯ä»¥åºåˆ—åŒ– å­ç±»å®ç°Serializableæ¥å£ åºåˆ—åŒ–åçˆ¶ç±»çš„å±æ€§ä¼šä¸¢å¤± æˆå‘˜å˜é‡å¦‚æœè¦è¢«åºåˆ—åŒ– éœ€è¦å®ç°Serializableæ¥å£ å¦åˆ™ä¼šæŠ¥é”™ ååºåˆ—åŒ–æ—¶ æˆå‘˜å¦‚æœå‘ç”Ÿä¿®æ”¹ åˆ™å‘ç”Ÿä¿®æ”¹çš„è¿™äº›æˆå‘˜å˜é‡æ•°æ®ä¼šä¸¢å¤± å¦‚æœ serialVersionUID è¢«ä¿®æ”¹ ååºåˆ—åŒ–ä¼šå¤±è´¥ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-29 05:20:00 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/æ³›å‹.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/æ³›å‹.html","title":"æ³›å‹","keywords":"","body":"æ³›å‹ æ³›å‹ç±» æ³›å‹æ¥å£ æ³›å‹æ–¹æ³• å…³äºæ³›å‹çš„å‡ ç‚¹ï¼š å°–æ‹¬å·é‡Œçš„æ¯ä¸ªå…ƒç´ éƒ½ä»£è¡¨ä¸€ç§æœªçŸ¥ç±»å‹ å°–æ‹¬å·åªèƒ½å‡ºç°åœ¨ç±»åä¹‹åæˆ–è€…æ–¹æ³•è¿”å›å€¼ä¹‹å‰ ä½¿ç”¨æ³›å‹çš„å¥½å¤„ï¼š ç±»å‹å®‰å…¨ é¿å…ç²—å¿ƒå¯¼è‡´çš„ç±»è½¬æ¢å¼‚å¸¸ æå‡ä»£ç å¯è¯»æ€§ ç¼–ç é˜¶æ®µå³å¯çŸ¥é“å¯¹è±¡ç±»å‹ æå‡äº†ä»£ç çš„å¤ç”¨ç‡ æ³›å‹ç±» class Map{ // ä¿®é¥°æˆå‘˜å˜é‡ private K key; // ä¿®é¥°å‚æ•° public Map(K key){} // ä¿®é¥°è¿”å›å€¼ public K get(){ // ä¿®é¥°å±€éƒ¨å˜é‡ K key1 = key; return key1; } } æ³›å‹æ–¹æ³• // å£°æ˜çš„æ˜¯è¿™ä¸ªæ–¹æ³•çš„æ³›å‹å‚æ•° åé¢çš„Tå£°æ˜çš„æ˜¯æ–¹æ³•çš„è¿”å›ç±»å‹ public static T run(T obj){ return obj; } æ³›å‹é™å®š // çº¦å®šTå¿…é¡»æ˜¯Comparableçš„å­ç±» // å¯åŒæ—¶æŒ‡å®šå¤šä¸ªçˆ¶æ¥å£ é€šé…ç¬¦ // åªèƒ½æ¥å—Sçš„è‡ªèº«æˆ–å­ç±» // èƒ½æ¥æ”¶Sè‡ªèº«åŠå…¶è¶…ç±» // ä¸é™åˆ¶ç±»å‹ï¼Œåªèƒ½ä½¿ç”¨objectæ¥æ”¶ PESCåŸåˆ™ ä¸Šç•Œä¸èƒ½å¾€é‡Œå­˜ï¼Œåªèƒ½å¾€å¤–å–ï¼Œé€‚åˆé¢‘ç¹å¾€å¤–é¢è¯»å–å†…å®¹çš„åœºæ™¯ã€‚ ä¸‹ç•Œä¸å½±å“å¾€é‡Œå­˜ï¼Œä½†å¾€å¤–å–åªèƒ½æ”¾åœ¨Objectå¯¹è±¡é‡Œï¼Œé€‚åˆç»å¸¸å¾€é‡Œé¢æ’å…¥æ•°æ®çš„åœºæ™¯ æ³›å‹æ“¦é™¤ è™šæ‹Ÿæœºä¸­æ²¡æœ‰æ³›å‹ï¼Œåªæœ‰æ™®é€šç±»å’Œæ–¹æ³• åœ¨ç¼–è¯‘é˜¶æ®µï¼Œæ³›å‹å‚æ•°è¢«æ“¦é™¤ä¸ºé™å®šç±»å‹ï¼Œå¹¶è¿›è¡Œç›¸å…³ç±»å‹è½¬æ¢ è™šæ‹Ÿæœºä¹Ÿä¼šåˆæˆæ¡¥æ–¹æ³•æ¥ä¿æŒæ–¹æ³•å¤šæ€ è¡¥æ•‘ï¼š å¦‚æœæƒ³è¦åœ¨è¿è¡Œæ—¶è·å–æ³›å‹çš„ç±»å‹ é‚£å°±å¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µè®°å½•æ³›å‹çš„ Class å¯¹è±¡ ç±»å‹å˜åŒ–å…³ç³» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-16 07:21:23 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/æ³¨è§£.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/æ³¨è§£.html","title":"æ³¨è§£","keywords":"","body":"æ³¨è§£ ç¼–å†™æ–‡æ¡£ï¼šé€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„æ³¨è§£ç”Ÿæˆæ–‡æ¡£ã€ç”Ÿæˆæ–‡æ¡£docæ–‡æ¡£ã€‘ ä»£ç åˆ†æï¼šé€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„æ³¨è§£å¯¹ä»£ç è¿›è¡Œåˆ†æã€ä½¿ç”¨åå°„ã€‘ ç¼–è¯‘æ£€æŸ¥ï¼šé€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„æ³¨è§£è®©ç¼–è¯‘å™¨èƒ½å¤Ÿå®ç°åŸºæœ¬çš„ç¼–è¯‘æ£€æŸ¥ã€Overrideã€‘ JAVAæä¾›çš„åŸºæœ¬æ³¨è§£ @Override é™å®šé‡å†™çˆ¶ç±»æ–¹æ³•ã€‚å¯¹äºå­ç±»ä¸­è¢«@Override ä¿®é¥°çš„æ–¹æ³•ï¼Œå¦‚æœå­˜åœ¨å¯¹åº”çš„è¢«é‡å†™çš„çˆ¶ç±»æ–¹æ³•ï¼Œåˆ™æ­£ç¡®ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æŠ¥é”™ã€‚@Override åªèƒ½ä½œç”¨äºæ–¹æ³•ï¼Œä¸èƒ½ä½œç”¨äºå…¶ä»–ç¨‹åºå…ƒç´  @Deprecated ç”¨äºè¡¨ç¤ºæŸä¸ªç¨‹åºå…ƒç´ ï¼ˆç±»ã€æ–¹æ³•ç­‰ï¼‰å·²è¿‡æ—¶ã€‚å¦‚æœä½¿ç”¨äº†è¢«@Deprecatedä¿®é¥°çš„ç±»æˆ–æ–¹æ³•ç­‰ï¼Œç¼–è¯‘å™¨ä¼šå‘å‡ºè­¦å‘Š @SuppressWarnings æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š @SafeVarargs æ˜¯JDK 7 ä¸“é—¨ä¸ºæŠ‘åˆ¶\"å †æ±¡æŸ“\"è­¦å‘Šæä¾›çš„ å †æ±¡æŸ“ï¼šç®€å•çš„è¯´å°±æ˜¯å½“ä¸€ä¸ªæ³›å‹ç±»å‹å˜é‡èµ‹å€¼ç»™ä¸æ˜¯æ³›å‹ç±»å‹å˜é‡ï¼Œè¿™ç§é”™è¯¯åœ¨ç¼–è¯‘æœŸé—´èƒ½è¢«ç¼–è¯‘å™¨è­¦å‘Šï¼Œä½†æ˜¯å¯ä»¥å¿½ç•¥ï¼Œç›´åˆ°è¿è¡Œæ—¶æŠ¥é”™ @FunctionalIterface @FunctionalInterfaceå°±æ˜¯ç”¨æ¥æŒ‡å®šæŸä¸ªæ¥å£å¿…é¡»æ˜¯å‡½æ•°å¼æ¥å£ï¼Œå¦åˆ™å°±ä¼šç¼–è¯‘å‡ºé”™ è‡ªå®šä¹‰æ³¨è§£ å…ƒæ³¨è§£ public @interface æ³¨è§£åç§°{ å±æ€§åˆ—è¡¨; } å±æ€§çš„è¿”å›å€¼ç±»å‹æœ‰ä¸‹åˆ—å–å€¼: åŸºæœ¬æ•°æ®ç±»å‹ String æšä¸¾ æ³¨è§£ ä»¥ä¸Šç±»å‹çš„æ•°ç»„ å…ƒæ³¨è§£ ç”¨äºæ³¨è§£çš„æ³¨è§£ @Targetï¼šæè¿°æ³¨è§£èƒ½å¤Ÿä½œç”¨çš„ä½ç½® ElementTypeå–å€¼ï¼š TYPEï¼šå¯ä»¥ä½œç”¨äºç±»ä¸Š METHODï¼šå¯ä»¥ä½œç”¨äºæ–¹æ³•ä¸Š FIELDï¼šå¯ä»¥ä½œç”¨äºæˆå‘˜å˜é‡ä¸Š ... @Retentionï¼šæè¿°æ³¨è§£è¢«ä¿ç•™çš„é˜¶æ®µ public enum RetentionPolicy { // ä¿ç•™åœ¨æºç çº§åˆ«ä¸Š SOURCE, //ä¿ç•™åœ¨classæ–‡ä»¶ä¸­ï¼Œjvmæ— æ³•è¯»å–åˆ° CLASS, //ä¼šä¿ç•™åˆ°classå­—èŠ‚ç æ–‡ä»¶ä¸­ï¼Œå¹¶è¢«JVMè¯»å–åˆ° RUNTIME } @Documentedï¼šæè¿°æ³¨è§£æ˜¯å¦è¢«æŠ½å–åˆ°apiæ–‡æ¡£ä¸­ @Inheritedï¼šæè¿°æ³¨è§£æ˜¯å¦è¢«å­ç±»ç»§æ‰¿ çˆ¶ç±»çš„æ³¨è§£å°†ä¼šä¼ é€’åˆ°å­ç±»ä¸Š @Repeatableï¼šæè¿°æ˜¯å¦èƒ½é‡å¤æ³¨è§£ï¼ˆJDK8ä¹‹åæ–°å¢çš„åŠŸèƒ½ï¼‰ å®ç°ç»†èŠ‚ï¼šé€šè¿‡ä¸€ä¸ªæ³¨è§£å®¹å™¨ æ³¨è§£çš„è§£æ RetentionPolicy.RUNTIME ï¼šæ³¨è§£åœ¨classæ–‡ä»¶ä¸­ï¼Œè¢«JVMåŠ è½½ï¼Œå¯ç”¨åå°„è§£ææ³¨è§£ RetentionPolicy.CLASS:æ³¨è§£åœ¨classæ–‡ä»¶ä¸­ï¼Œä½†JVMæ²¡æœ‰åŠ è½½ï¼Œåªèƒ½é‡‡ç”¨å­—èŠ‚ç å·¥å…·è¿›è¡Œç‰¹æ®Šå¤„ç† RetentionPolicy.SOURCE ï¼šæ³¨è§£åœ¨javaæ–‡ä»¶ä¸­ï¼Œä¸åœ¨classæ–‡ä»¶ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«JVMåŠ è½½ åªæœ‰åœ¨æºç çº§åˆ«è¿›è¡Œæ³¨è§£å¤„ç† Javaæä¾›æ³¨è§£å¤„ç†å™¨æ¥è§£æå¸¦æ³¨è§£çš„æºç ï¼Œäº§ç”Ÿæ–°çš„æ–‡ä»¶ RUNTIMEæ³¨è§£æœ¬è´¨ ç»§æ‰¿Annotationæ¥å£çš„ä¸€ä¸ªæ¥å£ å®é™…ä½¿ç”¨ä¸­æœ‰ä¸€ä¸ªä»£ç†å¯¹è±¡å®ç°äº†æ­¤æ¥å£ ä»£ç†å¯¹è±¡ä½¿ç”¨AnnotationInvocationHandlerå¤„ç†æ–¹æ³•è°ƒç”¨ AnnotationInvocationHandlerä½¿ç”¨ä¸€ä¸ªmapå­˜å‚¨å±æ€§ åº”ç”¨ Servlet3.0 Junit Spring & Spring boot Lombok MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-04 01:22:35 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/åå°„.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/åå°„.html","title":"åå°„","keywords":"","body":"åå°„ JAVAåå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªå®ä½“ç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„æ–¹æ³•å’Œå±æ€§ï¼›è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ æ¡†æ¶ å¥½å¤„ï¼š å¯ä»¥åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ“ä½œè¿™äº›å¯¹è±¡ã€‚ å¯ä»¥è§£è€¦ï¼Œæé«˜ç¨‹åºçš„å¯æ‰©å±•æ€§ã€‚ ä½¿ç”¨åå°„åˆ›å»ºå¯¹è±¡ String s = String.class.getConstructor(String.class).newInstance(\"str\"); å…³é”®ç±» Class castï¼šå¯¹è±¡è½¬å‹ isInstanceï¼šç±»å‹ç¡®è®¤ isAssignableFromï¼šæ˜¯å¦ä»æŸä¸ªç±»æ´¾ç”Ÿ CharSequence.class.isAssignableFrom(String.class) ç±»å‹çš„æ¯”è¾ƒå¯ä»¥é€šè¿‡ instanceof æˆ–è€… isInstanceæ¥å£æ¥è¿›è¡Œ è¿™ä¸¤ä¸ªæ¥å£çš„æ¯”è¾ƒæ˜¯æœ‰è€ƒè™‘ç»§æ‰¿å…³ç³»ã€‚ å¦å¤–ä¸€ç§æ¯”è¾ƒå¯ä»¥é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªclasså¯¹è±¡ï¼Œè¿™ç§æ–¹å¼æ²¡æœ‰è€ƒè™‘ç»§æ‰¿å…³ç³»ã€‚ åº”ç”¨ åŠ è½½JDBCé©±åŠ¨ ä»»æ„ç±»å‹æ•°ç»„æ‰©å®¹ åŠ¨æ€æ–¹æ³•è°ƒç”¨ JSONåºåˆ—åŒ–ä¸ååºåˆ—åŒ– Servletåˆ›å»º ORM Beanå®¹å™¨ JAVAåå°„å¢å¼º org.reflections åŠŸèƒ½ get all subtypes of some type get all types/members annotated with some annotation get all resources matching a regular expression get all methods with specific signature including parameters, parameter annotations and return type MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-06-28 07:17:07 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/JAVAå¹¶å‘ç¼–ç¨‹.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/JAVAå¹¶å‘ç¼–ç¨‹.html","title":"Java å¹¶å‘ç¼–ç¨‹","keywords":"","body":"å¹¶å‘ç¼–ç¨‹ å¹¶å‘ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€ä¸ªæ—¶é—´æ®µå†…å‘ç”Ÿã€‚ å¹¶è¡Œï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿï¼ˆåŒæ—¶å‘ç”Ÿï¼‰ã€‚ è¶…çº¿ç¨‹ï¼šä¸€ä¸ªALUå¯¹åº”å¤šä¸ªPC å¹¶å‘ç¨‹åºçš„ç‰¹ç‚¹ï¼š çº¿ç¨‹ä¹‹é—´ç›¸äº’åˆ¶çº¦çš„å…³ç³» çº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹éœ€è¦ä¸Šä¸‹æ–‡åˆ‡æ¢ã€€æ–­æ–­ç»­ç»­çš„ å¹¶å‘æ•°è®¾ç½®åˆç†æ—¶(ä»¥CPU)ã€€æ‰ä¼šæé«˜å¹¶å‘ç¨‹åºçš„æ€§èƒ½ çº¿ç¨‹å®‰å…¨ çº¿ç¨‹å®‰å…¨æ€§ï¼šå½“å¤šä¸ªçº¿ç¨‹è®¿é—®æŸä¸ªç±»æ—¶ï¼Œè¿™ä¸ªç±»å§‹ç»ˆéƒ½èƒ½è¡¨ç°å‡ºæ­£ç¡®çš„è¡Œä¸ºï¼Œåˆ™ç§°è¿™ä¸ªç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ çº¿ç¨‹å®‰å…¨é—®é¢˜éƒ½æ˜¯ç”±å…¨å±€å˜é‡åŠé™æ€å˜é‡å¼•èµ·çš„ã€‚è‹¥æ¯ä¸ªçº¿ç¨‹ä¸­å¯¹å…¨å±€å˜é‡ã€é™æ€å˜é‡åªæœ‰è¯»æ“ä½œï¼Œè€Œæ— å†™æ“ä½œï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªå…¨å±€å˜é‡æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›è‹¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå†™æ“ä½œï¼Œä¸€èˆ¬éƒ½éœ€è¦è€ƒè™‘çº¿ç¨‹åŒæ­¥ï¼Œ å¦åˆ™çš„è¯å°±å¯èƒ½å½±å“çº¿ç¨‹å®‰å…¨ã€‚ æ— çŠ¶æ€å¯¹è±¡ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ JAVA APIä¸­çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ StringBuffer Vector åŸå­æ€§ if (condition){ a++; // å½“æ­¤æ®µä»£ç è¿è¡Œåœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒæ—¶ï¼Œåˆ™ä¼šäº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜ } è§‚å¯Ÿç»“æœçš„å¤±æ•ˆå°±æ˜¯å¤§å¤šæ•°ç«æ€æ¡ä»¶çš„æœ¬è´¨ ä¸€ç§å¸¸è§çš„ç«æ€æ¡ä»¶å‘ç”Ÿåœ¨å•ä¾‹æ„é€ æ¨¡å¼ä¸­ï¼š public static Object get(){ if (instance == null){ instance = new Object(); } return instance; } ä¸ºäº†è§£å†³è§‚å¯Ÿå¤±æ•ˆè¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†é¿å…é™æ€æ¡ä»¶ï¼Œå°±éœ€è¦å¯¹ä¸€ç»„æ“ä½œè¿›è¡ŒåŸå­åŒ–ï¼Œå³ä¸å¯åˆ†å‰²ã€‚è¦ä¸å…¨åšï¼Œè¦ä¸å°±ä¸åšã€‚è¿™ç»„æ“ä½œç§°ä¹‹ä¸ºå¤åˆæ“ä½œã€‚ å¤åˆæ“ä½œï¼šç”±ä¸€ç³»åˆ—åŸå­æ“ä½œæ„æˆ é” éé˜»å¡åŒæ­¥ äº’æ–¥åŒæ­¥æœ€ä¸»è¦çš„é—®é¢˜å°±æ˜¯çº¿ç¨‹é˜»å¡å’Œå”¤é†’æ‰€å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤è¿™ç§åŒæ­¥ä¹Ÿç§°ä¸ºé˜»å¡åŒæ­¥ æ‚²è§‚çš„å¹¶å‘ç­–ç•¥ï¼šè®¤ä¸ºåªè¦ä¸å»åšæ­£ç¡®çš„åŒæ­¥æªæ–½ï¼Œé‚£å°±è‚¯å®šä¼šå‡ºç°é—®é¢˜ã€‚æ— è®ºå…±äº«æ•°æ®æ˜¯å¦çœŸçš„ä¼šå‡ºç°ç«äº‰ï¼Œå®ƒéƒ½è¦è¿›è¡ŒåŠ é” ä¹è§‚å¹¶å‘ç­–ç•¥ï¼šå…ˆè¿›è¡Œæ“ä½œï¼Œå¦‚æœæ²¡æœ‰å…¶å®ƒçº¿ç¨‹äº‰ç”¨å…±äº«æ•°æ®ï¼Œé‚£æ“ä½œå°±æˆåŠŸäº†ï¼Œå¦åˆ™é‡‡å–è¡¥å¿æªæ–½ æ‚²è§‚é” ä¹è§‚é” ä¹è§‚é” æ€»æ˜¯è®¤ä¸ºä¸ä¼šäº§ç”Ÿå¹¶å‘é—®é¢˜ï¼Œæ¯æ¬¡å»å–æ•°æ®çš„æ—¶å€™æ€»è®¤ä¸ºä¸ä¼šæœ‰å…¶ä»–çº¿ç¨‹å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå› æ­¤ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯åœ¨æ›´æ–°æ—¶ä¼šåˆ¤æ–­å…¶ä»–çº¿ç¨‹åœ¨è¿™ä¹‹å‰æœ‰æ²¡æœ‰å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ç‰ˆæœ¬å·æœºåˆ¶æˆ–CASæ“ä½œå®ç° update table set x=x+1, version=version+1 where id=${id} and version=${version}; æ‚²è§‚é” æ€»æ˜¯å‡è®¾æœ€åçš„æƒ…å†µï¼Œæ¯æ¬¡å–æ•°æ®æ—¶éƒ½è®¤ä¸ºå…¶ä»–çº¿ç¨‹ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥éƒ½ä¼šåŠ é”ï¼ˆè¯»é”ã€å†™é”ã€è¡Œé”ç­‰ï¼‰ï¼Œå½“å…¶ä»–çº¿ç¨‹æƒ³è¦è®¿é—®æ•°æ®æ—¶ï¼Œéƒ½éœ€è¦é˜»å¡æŒ‚èµ· synchronizedæ˜¯æ‚²è§‚é” è‡ªæ—‹é” çº¿ç¨‹åå¤æ£€æŸ¥é”å˜é‡æ˜¯å¦å¯ç”¨ã€‚ç”±äºçº¿ç¨‹åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ä¿æŒæ‰§è¡Œï¼Œå› æ­¤æ˜¯ä¸€ç§å¿™ç­‰å¾… åˆ†å¸ƒå¼é” zookeeperä¸rediså®ç° çº¿ç¨‹é—´é€šä¿¡ ç­‰å¾…-å”¤é†’æœºåˆ¶ è¦æ³¨æ„ï¼Œwait() notify() notifyAll()éƒ½éœ€è¦åœ¨synchronizedä¸­ wait() ä¼šé‡Šæ”¾é”ï¼Œsleep() ä¸ä¼š Object object = new Object(); new Thread(){ @Override public void run() { synchronized (object){ System.out.println(\"è¦5ä¸ªåŒ…å­\"); // è¿›å…¥ç­‰å¾…ï¼Œè¿™æ—¶å€™é”ä¼šè¢«é‡Šæ”¾ try { object.wait(); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(\"å¾—åˆ°äº†5ä¸ªåŒ…å­\"); } } }.start(); new Thread(){ @Override public void run() { try { Thread.sleep(5000); } catch (InterruptedException e) { e.printStackTrace(); } synchronized (object){ System.out.println(\"åŒ…å­ç”Ÿäº§å®Œæ¯•ï¼Œå‘Šè¯‰é¡¾å®¢\"); // é€šçŸ¥ç­‰å¾…çº¿ç¨‹ä¸­çš„ä»»æ„ä¸€ä¸ª object.notify(); } } }.start(); waitä¸notifyä¸€å®šè¦åœ¨çº¿ç¨‹åŒæ­¥ä¸­ä½¿ç”¨,å¹¶ä¸”æ˜¯åŒä¸€ä¸ªé”çš„èµ„æº åœ¨è°ƒç”¨sleep()æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹ä¸ä¼šé‡Šæ”¾å¯¹è±¡é” å¯¹è±¡çš„å…±äº« å‘å¸ƒ: ä½¿å¯¹è±¡èƒ½åœ¨å½“å‰ä»£ç ä½œç”¨åŸŸä¹‹å¤–ä½¿ç”¨ é€¸å‡º: æŸä¸ªä¸è¯¥å‘å¸ƒçš„å¯¹è±¡è¢«å‘å¸ƒäº† çº¿ç¨‹å°é—­ æŸä¸ªå¯¹è±¡åªèƒ½åœ¨çº¿ç¨‹ä¹‹å†…ä½¿ç”¨ Ad-hocçº¿ç¨‹å°é—­ å®Œå…¨ç”±ç¨‹åºæ‰¿æ‹…ï¼Œå¾ˆè„†å¼± æ ˆå°é—­ å¯¹è±¡åªèƒ½åœ¨å±€éƒ¨ï¼ˆæ–¹æ³•å†…ï¼‰ä½¿ç”¨ ä¸å˜æ€§ ä¸å¯å˜å¯¹è±¡ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ å¯¹è±¡åˆ›å»ºåå…¶çŠ¶æ€å°±ä¸èƒ½ä¿®æ”¹ å¯¹è±¡çš„æ‰€æœ‰åŸŸéƒ½æ˜¯final åœ¨å¯¹è±¡åˆ›å»ºçš„è¿‡ç¨‹ä¸­thiså¼•ç”¨æ²¡æœ‰é€¸å‡º å®‰å…¨å‘å¸ƒ åœ¨é™æ€åˆå§‹åŒ–å‡½æ•°ä¸­åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ å°†å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åˆ°volatileç±»å‹çš„åŸŸæˆ–è€… Referenceå¯¹è±¡ å°†å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åˆ°æ­£ç¡®åˆå§‹åŒ–çš„å¯¹è±¡çš„finalåŸŸ å°†å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åˆ°ç”±é”ä¿æŠ¤çš„åŸŸ å¯¹è±¡çš„ç»„åˆ ä¾èµ–çŠ¶æ€çš„æ“ä½œï¼šæŸä¸ªæ“ä½œåŒ…å«æœ‰åŸºäºçŠ¶æ€çš„å…ˆéªŒæ“ä½œ if (a== 1){ a++; } å®ä¾‹å°é—­ å°†çº¿ç¨‹ä¸å®‰å…¨çš„å¯¹è±¡å°è£…åœ¨æŸä¸ªè¿›è¡Œè‰¯å¥½å¹¶å‘æ§åˆ¶çš„å¯¹è±¡å†… å®¢æˆ·ç«¯åŠ é” private Object obj = new Object(); ... synchronized(obj){ obj.xxx(); } åŸºç¡€æ„å»ºæ¨¡å— JAVA5åè‡ªå¸¦äº†å¾ˆå¤šæœ‰å…³å¹¶å‘ç¼–ç¨‹çš„ç±»åº“ åŒæ­¥å®¹å™¨ç±» è¿­ä»£å™¨ä¸ConcurrentModificationException å½“åœ¨è¿­ä»£çš„æ—¶å€™ï¼Œå®¹å™¨å…ƒç´ å‘ç”Ÿäº†ä¿®æ”¹ï¼Œåˆ™ä¼šæŠ›å‡ºè¿™ä¸ªå¼‚å¸¸ æ‰§è¡Œç­–ç•¥ ä»€ä¹ˆçº¿ç¨‹ ä»€ä¹ˆé¡ºåº å¤šå°‘ä»»åŠ¡æ‰§è¡Œ å¤šå°‘ä»»åŠ¡ç­‰å¾… å¦‚ä½•æ”¾å¼ƒä»¥åŠé€šçŸ¥æ”¾å¼ƒ ä»»åŠ¡æ‰§è¡Œå‰æ“ä½œ å–æ¶ˆä¸å…³é—­ å–æ¶ˆç­–ç•¥ é€šå¸¸ï¼Œä½¿ç”¨ä¸­æ–­æ¥å–æ¶ˆæ˜¯æœ€åˆç†çš„æ–¹å¼ class MyThread extends Thread{ @Override public void run() { while(!isInterrupted()){ System.out.println(\"running\"); try { Thread.sleep(1000); } catch (InterruptedException e) { break; } } System.out.println(\"my thread done\"); } } ä½¿ç”¨Futureå–æ¶ˆ Future future = service.submit(() -> { try { Thread.sleep(2000); } catch (InterruptedException e) { e.printStackTrace(); } return Math.random(); }); try { Double ret = future.get(3, TimeUnit.SECONDS); System.out.println(\"result\"+ret); } catch (ExecutionException | TimeoutException e) { e.printStackTrace(); }finally { future.cancel(true); System.out.println(\"task cancel\"); } å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡ ç”±äºå¦‚IOç­‰çš„èµ„æºä¸€æ—¦é˜»å¡å°±æ— æ³•è¿›è¡Œä¸­æ–­ï¼Œæ‰€ä»¥å¯å¯¹å…¶åšå…³é—­å¤„ç†æ¥æ¨¡æ‹Ÿä¸­æ–­ åœæ­¢åŸºäºçº¿ç¨‹çš„æœåŠ¡ ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ExecutorService æ¯’è¯å¯¹è±¡ æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªflagï¼Œå½“é˜Ÿåˆ—è¯»å–åˆ°è¿™ä¸ªæ¯’è¯æ—¶ï¼Œå°±ä¼šåœæ­¢ç›¸å…³æ“ä½œ å¤„ç†éæ­£å¸¸çš„çº¿ç¨‹ç»ˆæ­¢ hread.setDefaultUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() { @Override public void uncaughtException(Thread t, Throwable e) { System.out.println(t + \"something happen\" + e); } }); new Thread(){ @Override public void run() { throw new RuntimeException(\"aaaa\"); } }.start(); JVMå…³é—­é’©å­ Runtime.getRuntime().addShutdownHook(new Thread(){ @Override public void run() { System.out.println(\"jvm shutdown\"); } }); æ´»è·ƒæ€§å±é™© æ­»é” é™æ€é¡ºåºæ­»é” åŠ¨æ€é¡ºåºæ­»é” èµ„æºæ­»é” æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºç«äº‰èµ„æºæˆ–è€…ç”±äºå½¼æ­¤é€šä¿¡è€Œé€ æˆçš„ä¸€ç§é˜»å¡çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚æ­¤æ—¶ç§°ç³»ç»Ÿå¤„äºæ­»é”çŠ¶æ€æˆ–ç³»ç»Ÿäº§ç”Ÿäº†æ­»é”ï¼Œè¿™äº›æ°¸è¿œåœ¨äº’ç›¸ç­‰å¾…çš„è¿›ç¨‹ç§°ä¸ºæ­»é”è¿›ç¨‹ã€‚ è¯Šæ–­ä¸é¿å… å®šæ—¶é” è·å–-è¶…æ—¶-é€€å‡º å…¶ä»–æ´»è·ƒæ€§å±é™© é¥¥é¥¿ æ— æ³•è·å–åˆ°éœ€è¦çš„èµ„æº å“åº”æ€§æ…¢ æ´»é” çº¿ç¨‹ä¸æ–­é‡å¤æŸä¸ªæ“ä½œ æ€§èƒ½ä¸ä¼¸ç¼©æ€§ å¼•å…¥çº¿ç¨‹çš„å¼€é”€ ä¸Šä¸‹æ–‡åˆ‡æ¢ å†…å­˜åŒæ­¥ é˜»å¡ å¦‚ä½•å‡å°‘é”çš„ç«äº‰ ç¼©å°é”çš„èŒƒå›´ ç¼©å°synchronizedå…³é”®å­—åŒ…å›´çš„ä»£ç å— å‡å°é”çš„ç²’åº¦ ä¸åŒçš„æ“ä½œä½¿ç”¨ä¸åŒçš„é” åˆ†æ®µé” æ›¿ä»£ç‹¬å é” é‡‡å–è¯»å†™é” å¹¶å‘ç¨‹åºæµ‹è¯• æ­£ç¡®æ€§æµ‹è¯• å®‰å…¨æ€§æµ‹è¯• æ€§èƒ½æµ‹è¯• æ€§èƒ½æµ‹è¯•é™·é˜± åƒåœ¾å›æ”¶ åŠ¨æ€ç¼–è¯‘ï¼ˆJITï¼‰ ç¼–è¯‘ä¼˜åŒ– ç«äº‰ç¨‹åº¦ é”ä¼˜åŒ– è‡ªæ—‹é”ä¸è‡ªé€‚åº”è‡ªæ—‹ æ˜¯è®©ä¸€ä¸ªçº¿ç¨‹åœ¨è¯·æ±‚ä¸€ä¸ªå…±äº«æ•°æ®çš„é”æ—¶æ‰§è¡Œå¿™å¾ªç¯ï¼ˆè‡ªæ—‹ï¼‰ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœåœ¨è¿™æ®µæ—¶é—´å†…èƒ½è·å¾—é”ï¼Œå°±å¯ä»¥é¿å…è¿›å…¥é˜»å¡çŠ¶æ€ è‡ªæ—‹ç­‰å¾…æœ¬èº«è™½ç„¶é¿å…äº†çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œä½†å®ƒæ˜¯è¦å ç”¨å¤„ç†å™¨æ—¶é—´çš„ï¼Œå¦‚æœç­‰å¾…æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œè‡ªæ—‹è¿˜æ˜¯å¾ˆåˆ’ç®—çš„ è‡ªæ—‹è¶…è¿‡ä¸€å®šçš„é˜ˆå€¼å°±ä¸ä¼šå†ç»§ç»­é‡è¯•ï¼Œè‡ªé€‚åº”è‡ªæ—‹åˆ™ä»£è¡¨è¿™ä¸ªé˜ˆå€¼ä¸æ˜¯å›ºå®šçš„ï¼Œä¼šæ ¹æ®æ€§èƒ½ç›‘æ§æƒ…å†µåŠ¨æ€è°ƒæ•´ é”æ¶ˆé™¤ å¯¹äºè¢«æ£€æµ‹å‡ºä¸å¯èƒ½å­˜åœ¨ç«äº‰çš„å…±äº«æ•°æ®çš„é”è¿›è¡Œæ¶ˆé™¤ é”ç»†åŒ– ç»å†ç¼©å°é”çš„ä½œç”¨èŒƒå›´ é”ç²—åŒ– å¦‚æœä¸€ç³»åˆ—çš„è¿ç»­æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åå¤åŠ é”å’Œè§£é”ï¼Œé¢‘ç¹çš„åŠ é”æ“ä½œå°±ä¼šå¯¼è‡´æ€§èƒ½æŸè€— å¦‚æœè™šæ‹Ÿæœºæ¢æµ‹åˆ°ç”±è¿™æ ·çš„ä¸€ä¸²é›¶ç¢çš„æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åŠ é”ï¼Œå°†ä¼šæŠŠåŠ é”çš„èŒƒå›´æ‰©å±•ï¼ˆç²—åŒ–ï¼‰åˆ°æ•´ä¸ªæ“ä½œåºåˆ—çš„å¤–éƒ¨ synchronized(obj){ //... } synchronized(obj){ //... } synchronized(obj){ //... } synchronized(obj){ //... //.. //... } è½»é‡çº§é” è½»é‡çº§é”æ˜¯ç›¸å¯¹äºä¼ ç»Ÿçš„é‡é‡çº§é”è€Œè¨€ï¼Œå®ƒä½¿ç”¨ CAS æ“ä½œæ¥é¿å…é‡é‡çº§é”ä½¿ç”¨äº’æ–¥é‡çš„å¼€é”€ åå‘é” åå‘äºè®©ç¬¬ä¸€ä¸ªè·å–é”å¯¹è±¡çš„çº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹åœ¨ä¹‹åè·å–è¯¥é”å°±ä¸å†éœ€è¦è¿›è¡ŒåŒæ­¥æ“ä½œï¼Œç”šè‡³è¿ CAS æ“ä½œä¹Ÿä¸å†éœ€è¦ å¹¶å‘ç¼–ç¨‹è‰¯å¥½å®è·µ ç»™çº¿ç¨‹èµ·åå­— ç¼©å°åŒæ­¥èŒƒå›´ å¤šç”¨åŒæ­¥å·¥å…·å°‘ç”¨åŸå§‹çš„wait,notify ä½¿ç”¨é˜»å¡é˜Ÿåˆ— å¤šç”¨ ConcurrentHashMap è€Œä¸æ˜¯ Hashtable ä½¿ç”¨æ ˆå°é—­ä»¥åŠä¸å˜æ€§ä¿è¯çº¿ç¨‹å®‰å…¨ ä½¿ç”¨çº¿ç¨‹æ±  MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-06-01 07:35:58 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/å¹¶å‘ç¼–ç¨‹è®¾è®¡æ¨¡å¼.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/å¹¶å‘ç¼–ç¨‹è®¾è®¡æ¨¡å¼.html","title":"å¹¶å‘ç¼–ç¨‹è®¾è®¡æ¨¡å¼","keywords":"","body":"å¹¶å‘ç¼–ç¨‹è®¾è®¡æ¨¡å¼ å•çº¿ç¨‹æ‰§è¡Œæ¨¡å¼ï¼ˆSingle Threaded Executionï¼‰ ä¸´ç•ŒåŒº é€šè¿‡å¯¹ä»£ç å—è¿›è¡ŒåŒæ­¥ï¼Œä½¿ä¹‹åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œä»¥æ­¤ç¡®ä¿å®‰å…¨æ€§ ä¸å¯å˜æ¨¡å¼ï¼ˆImmutableï¼‰ å°†å¯¹è±¡çš„æ‰€æœ‰çŠ¶æ€è®¾è®¡æˆæ— æ³•å˜åŒ–å°±å¯ä»¥ç¡®ä¿å®‰å…¨æ€§ã€‚ è¾¾åˆ°è¿™ä¸ªç›®çš„çš„å¸¸ç”¨æ‰‹æ®µæœ‰finalä¿®é¥°ç±»ã€å˜é‡ä»¥åŠä¸æš´éœ²ç›¸å…³ä¿®æ”¹çŠ¶æ€çš„æ¥å£ã€‚ å®ˆå«æš‚åœæ¨¡å¼ï¼ˆGuarded Suspensionï¼‰ é€šè¿‡è®©çº¿ç¨‹è¿›è¡Œç­‰å¾…æ¥ä¿è¯å¯¹è±¡å®ä¾‹çš„å®‰å…¨æ€§ é”è·å– é˜»å¡é˜Ÿåˆ—ç­‰éƒ½æ˜¯å±äºè¿™ç§æ¨¡å¼ ç­‰å¾…å¯ä»¥é€šè¿‡Object.waitæ–¹æ³• è·å–ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªæ—‹é”çš„å¿™ç­‰å¾… Balking é€šè¿‡ç»´æŠ¤ä¸€ä¸ªå®ˆæŠ¤æ¡ä»¶ï¼Œå½“å®ˆæŠ¤æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œå°†ç›´æ¥è¿”å›ï¼Œåç»­çš„æ‰€æœ‰æ“ä½œæ”¾å¼ƒ ä¸å®ˆå«æš‚åœæ¨¡å¼çš„åŒºåˆ«åœ¨å®ˆå«æš‚åœä¼šä¸€ç›´ç­‰å¾…å®ˆæŠ¤æ¡ä»¶æˆç«‹ï¼Œè€ŒBalkingå½“ä¸æˆç«‹æ—¶å°±æ”¾å¼ƒ åœ¨è¿™ä¸¤è€…ä¹‹é—´å¯ä»¥å­˜åœ¨ä¸€ç§ç­‰å¾…ä¸€æ®µæ—¶é—´æ”¾å¼ƒçš„åšæ³•ï¼Œå«åšè¶…æ—¶ ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ï¼ˆPrdocer-Consumerï¼‰ é€šè¿‡åŠ å…¥ä¸€ä¸ªä¸­é—´å±‚ï¼Œæ¥æ¶ˆé™¤æ•°æ®ç”Ÿäº§è€…ä¸è·å–è€…ä¹‹é—´çš„é€Ÿåº¦å·®å¼‚å¸¦æ¥çš„å®‰å…¨é—®é¢˜ è¯»å†™é”æ¨¡å¼ï¼ˆRead-Write Lockï¼‰ æ•°æ®å¹¶å‘è¯»å†™æ²¡æœ‰é—®é¢˜ï¼Œä½†è¦æƒ³ä¿®æ”¹å®ƒåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ä¸”æ²¡æœ‰å…¶ä»–çº¿ç¨‹è¿›è¡Œè¯»æ“ä½œ é€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œå¯ä»¥æœ‰æ•ˆæå‡æ€§èƒ½ æ¯æ¶ˆæ¯ä¸€çº¿ç¨‹æ¨¡å¼ï¼ˆThread-Per-Messageï¼‰ ä¼ ç»Ÿçš„socketç¼–ç¨‹å°±é‡‡ç”¨çš„è¿™ç§æ–¹å¼ ä¸€ä¸ªè¯·æ±‚è¿›æ¥ å¼€å¯ä¸€ä¸ªæ–°çº¿ç¨‹æ¥å¤„ç† å·¥ä½œçº¿ç¨‹æ¨¡å¼ï¼ˆWorker Threadï¼‰ ä¸ºäº†è§£å†³æ²¡æ¶ˆæ¯ä¸€çº¿ç¨‹é¢‘ç¹å¼€å¯æ–°æ–°çº¿ç¨‹å¸¦æ¥çš„å¼€é”€ï¼Œé€šè¿‡ç»´æŠ¤å‡ ä¸ªå·¥ä½œçº¿ç¨‹ï¼Œè¯·æ±‚ä¸€æ¥ç›´æ¥äº¤ç»™è¿™äº›å·¥ä½œçº¿ç¨‹æ¥å¤„ç† çº¿ç¨‹æ± å°±å±äºè¯¥æ¨¡å¼ Futureæ¨¡å¼ æŒæœ‰ä¸€ä¸ªå¼•ç”¨ åœ¨ç­‰å¾…ç»“æœæ—¶å¯ä»¥ä¸è¿›è¡Œé˜»å¡ ä¸¤é˜¶æ®µç»ˆç»“æ¨¡å¼ï¼ˆTow-Phase-Terminationï¼‰ é€šè¿‡æ£€æŸ¥çº¿ç¨‹ä¸­æ–­çŠ¶æ€ä»¥åŠè‡ªå·±è®¾è®¡çš„åœæ­¢æ ‡å¿—é…åˆä½¿ç”¨æ¥è¾¾åˆ°æ¸…ç†ä¸æå‡ååé‡çš„ç›®çš„ æ£€æŸ¥æ ‡å¿—å¯åœ¨è¿›è¡Œé•¿æ—¶é—´å¤„ç†æ“ä½œä¹‹å‰æ£€æŸ¥ çº¿ç¨‹ç‰¹æœ‰å­˜å‚¨æ¨¡å¼ï¼ˆThread-Specific Storageï¼‰ ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…å±äºçº¿ç¨‹è‡ªå·±çš„å­˜å‚¨ç©ºé—´ é¿å…ç«äº‰å¸¦æ¥çš„æ•°æ®å®‰å…¨é—®é¢˜ å­˜å‚¨åœ¨çº¿ç¨‹å¤–ï¼šThreadLocal å­˜å‚¨åœ¨çº¿ç¨‹å†…ï¼šThreadæˆå‘˜å˜é‡ æ´»è·ƒå¯¹è±¡æ¨¡å¼ï¼ˆActive Objectï¼‰ Actoræ¨¡å¼ ä¼šé€šè¿‡è‡ªå·±ç‰¹æœ‰çš„çº¿ç¨‹åœ¨åˆé€‚çš„æ—¶æœºæ¶ˆè´¹å¤–éƒ¨æ¥æ”¶åˆ°çš„é¢å¼‚æ­¥è¯·æ±‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-05 11:25:51 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/leetcode.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/leetcode.html","title":"leetcode","keywords":"","body":"å¤šçº¿ç¨‹-leetcode æŒ‰åºæ‰“å° è§£æ³•1 CountDownLatch class Foo { private CountDownLatch latch2 = new CountDownLatch(1); private CountDownLatch latch3 = new CountDownLatch(1); public Foo() { } public void first(Runnable printFirst) throws InterruptedException { // printFirst.run() outputs \"first\". Do not change or remove this line. printFirst.run(); latch2.countDown(); } public void second(Runnable printSecond) throws InterruptedException { latch2.await(); // printSecond.run() outputs \"second\". Do not change or remove this line. printSecond.run(); latch3.countDown(); } public void third(Runnable printThird) throws InterruptedException { latch3.await(); // printThird.run() outputs \"third\". Do not change or remove this line. printThird.run(); } } äº¤æ›¿æ‰“å°FooBar https://leetcode-cn.com/problems/print-foobar-alternately/ è‡ªæ—‹ class FooBar { private int n; private volatile boolean f = false; public FooBar(int n) { this.n = n; } public void foo(Runnable printFoo) throws InterruptedException { for (int i = 0; i æ‰“å°é›¶ä¸å¥‡å¶æ•° https://leetcode-cn.com/problems/print-zero-even-odd/submissions/ class ZeroEvenOdd { private final int n; private volatile int i =1; private volatile int f= 0; public ZeroEvenOdd(int n) { this.n = n; } // printNumber.accept(x) outputs \"x\", where x is an integer. public void zero(IntConsumer printNumber) throws InterruptedException { while(true){ while(f != 0){ Thread.yield(); if (i>n){ return; } } printNumber.accept(0); if (i%2==1){ f=1; }else{ f=2; } } } public void odd(IntConsumer printNumber) throws InterruptedException { while(true){ while(f != 1){ Thread.yield(); if (i>n){ return; } } printNumber.accept(i++); f=0; } } public void even(IntConsumer printNumber) throws InterruptedException { while(true){ while(f != 2){ Thread.yield(); if (i>n){ return; } } printNumber.accept(i++); f=0; } } } H20ç”Ÿæˆ https://leetcode-cn.com/problems/building-h2o/submissions/ class H2O { private CyclicBarrier barrier; volatile boolean f = false; public H2O() { barrier = new CyclicBarrier(2,new Runnable(){ public void run(){setF(false);} }); } private void setF(boolean val){ f = val; } public void hydrogen(Runnable releaseHydrogen) throws InterruptedException { // releaseHydrogen.run() outputs \"H\". Do not change or remove this line. while(!f){Thread.yield();} releaseHydrogen.run(); try { barrier.await(); }catch(Exception e){ throw new RuntimeException(e); } } public void oxygen(Runnable releaseOxygen) throws InterruptedException { while(f){Thread.yield();} // releaseOxygen.run() outputs \"O\". Do not change or remove this line. releaseOxygen.run(); f= true; } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-21 08:50:33 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/åŸºç¡€æ¦‚å¿µ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/åŸºç¡€æ¦‚å¿µ.html","title":"åŸºç¡€æ¦‚å¿µ","keywords":"","body":"åŸºç¡€æ¦‚å¿µ è¿›ç¨‹ä¸çº¿ç¨‹ è¿›ç¨‹æ˜¯æ‰€æœ‰çº¿ç¨‹çš„é›†åˆï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ çº¿ç¨‹åˆ†ç±» ç”¨æˆ·çº¿ç¨‹ ä¸»çº¿ç¨‹ å­çº¿ç¨‹ å®ˆæŠ¤çº¿ç¨‹ å®ˆæŠ¤çº¿ç¨‹å½“è¿›ç¨‹ä¸å­˜åœ¨æˆ–ä¸»çº¿ç¨‹åœæ­¢ï¼Œå®ˆæŠ¤çº¿ç¨‹ä¹Ÿä¼šè¢«åœæ­¢ GCçº¿ç¨‹ HotSpotçš„æ¯ä¸€ä¸ªJavaçº¿ç¨‹éƒ½æ˜¯ç›´æ¥æ˜ å°„åˆ°ä¸€ä¸ªæ“ä½œç³»ç»ŸåŸç”Ÿçº¿ç¨‹æ¥å®ç°çš„ åˆ›å»ºçº¿ç¨‹ ç»§æ‰¿Threadç±» class MyThread extends Thread{ @Override public void run() {} } å¤šçº¿ç¨‹æ‰§è¡Œæ—¶ï¼Œåœ¨æ ˆå†…å­˜ä¸­ï¼Œå…¶å®æ¯ä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹éƒ½æœ‰ä¸€ç‰‡è‡ªå·±æ‰€å±çš„æ ˆå†…å­˜ç©ºé—´ã€‚è¿›è¡Œæ–¹æ³•çš„å‹æ ˆå’Œå¼¹æ ˆ Threadç±» public String getName() :è·å–å½“å‰çº¿ç¨‹åç§°ã€‚ public void start() :å¯¼è‡´æ­¤çº¿ç¨‹å¼€å§‹æ‰§è¡Œ; Javaè™šæ‹Ÿæœºè°ƒç”¨æ­¤çº¿ç¨‹çš„runæ–¹æ³•ã€‚ public void run() :æ­¤çº¿ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡åœ¨æ­¤å¤„å®šä¹‰ä»£ç ã€‚ public void yield():è®©å‡ºCPUï¼Œè¿”å›åˆ°å°±ç»ªçŠ¶æ€ joinï¼šç­‰å¾…è¢«è°ƒç”¨joinçš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•å†ç»§ç»­è¿è¡Œ public static void sleep(long millis) :ä½¿å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä»¥æŒ‡å®šçš„æ¯«ç§’æ•°æš‚åœï¼ˆæš‚æ—¶åœæ­¢æ‰§è¡Œï¼‰ã€‚ public static Thread currentThread() :è¿”å›å¯¹å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡çš„å¼•ç”¨ InterruptedException è°ƒç”¨ä¸€ä¸ªçº¿ç¨‹çš„ interrupt() æ¥ä¸­æ–­è¯¥çº¿ç¨‹ï¼Œå¦‚æœè¯¥çº¿ç¨‹å¤„äºé˜»å¡(sleep)ã€é™æœŸç­‰å¾…æˆ–è€…æ— é™æœŸç­‰å¾…(wait)çŠ¶æ€ï¼Œé‚£ä¹ˆå°±ä¼šæŠ›å‡º InterruptedExceptionï¼Œä»è€Œæå‰ç»“æŸè¯¥çº¿ç¨‹ interrupted() åœ¨è‡ªå®šä¹‰çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ä½¿ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä½œä¸ºä¸€ä¸ªflagï¼Œä½œä¸ºæ˜¯å¦ç»§ç»­è¿è¡Œçš„ä¾æ® while(interrupted()){ // do } // end å®ç°Runnableæ¥å£ å®ç°Runnableæ¥å£æ¯”ç»§æ‰¿Threadç±»æ‰€å…·æœ‰çš„ä¼˜åŠ¿ï¼š é€‚åˆå¤šä¸ªç›¸åŒçš„ç¨‹åºä»£ç çš„çº¿ç¨‹å»å…±äº«åŒä¸€ä¸ªèµ„æºã€‚ å¯ä»¥é¿å…javaä¸­çš„å•ç»§æ‰¿çš„å±€é™æ€§ã€‚ å¢åŠ ç¨‹åºçš„å¥å£®æ€§ï¼Œå®ç°è§£è€¦æ“ä½œï¼Œä»£ç å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹å…±äº«ï¼Œä»£ç å’Œçº¿ç¨‹ç‹¬ç«‹ã€‚ çº¿ç¨‹æ± åªèƒ½æ”¾å…¥å®ç°Runableæˆ–Callableç±»çº¿ç¨‹ï¼Œä¸èƒ½ç›´æ¥æ”¾å…¥ç»§æ‰¿Threadçš„ç±»ã€‚ çº¿ç¨‹è°ƒåº¦ Java ä½¿ç”¨çš„æŠ¢å å¼è°ƒåº¦å¤šçº¿ç¨‹ç³»ç»Ÿ å¯ä»¥é€šè¿‡Threadå®ä¾‹setPriorityæ¥è°ƒæ•´ä¼˜å…ˆçº§ï¼Œä¸è¿‡æ­¤ä¸¾æ€»ä½“è€Œè¨€ä¸æ˜¯ä¸€ä¸ªæ–‡æ¡£çš„è°ƒèŠ‚æ‰‹æ®µ çº¿ç¨‹çŠ¶æ€ çº¿ç¨‹çŠ¶æ€ å¯¼è‡´çŠ¶æ€å‘ç”Ÿæ¡ä»¶ NEW(æ–°å»º) çº¿ç¨‹åˆšè¢«åˆ›å»ºï¼Œä½†æ˜¯å¹¶æœªå¯åŠ¨ã€‚è¿˜æ²¡è°ƒç”¨startæ–¹æ³•ã€‚ Runnable(å¯è¿è¡Œ) çº¿ç¨‹å¯ä»¥åœ¨javaè™šæ‹Ÿæœºä¸­è¿è¡Œçš„çŠ¶æ€ï¼Œå¯èƒ½æ­£åœ¨è¿è¡Œè‡ªå·±ä»£ç ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ï¼Œè¿™å–å†³äºæ“ ä½œç³»ç»Ÿå¤„ç†å™¨ã€‚ Blocked(é”é˜»å¡) å½“ä¸€ä¸ªçº¿ç¨‹è¯•å›¾è·å–ä¸€ä¸ªå¯¹è±¡é”ï¼Œè€Œè¯¥å¯¹è±¡é”è¢«å…¶ä»–çš„çº¿ç¨‹æŒæœ‰ï¼Œåˆ™è¯¥çº¿ç¨‹è¿›å…¥BlockedçŠ¶ æ€ï¼›å½“è¯¥çº¿ç¨‹æŒæœ‰é”æ—¶ï¼Œè¯¥çº¿ç¨‹å°†å˜æˆRunnableçŠ¶æ€ã€‚ Waiting(æ— é™ç­‰å¾…) ä¸€ä¸ªçº¿ç¨‹åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€ä¸ªï¼ˆå”¤é†’ï¼‰åŠ¨ä½œæ—¶ï¼Œè¯¥çº¿ç¨‹è¿›å…¥WaitingçŠ¶æ€ã€‚è¿›å…¥è¿™ä¸ª çŠ¶æ€åæ˜¯ä¸èƒ½è‡ªåŠ¨å”¤é†’çš„ï¼Œå¿…é¡»ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨notifyæˆ–è€…notifyAllæ–¹æ³•æ‰èƒ½å¤Ÿå”¤é†’ã€‚ Timed Waiting(è®¡æ—¶ç­‰å¾…) åŒwaitingçŠ¶æ€ï¼Œæœ‰å‡ ä¸ªæ–¹æ³•æœ‰è¶…æ—¶å‚æ•°ï¼Œè°ƒç”¨ä»–ä»¬å°†è¿›å…¥Timed WaitingçŠ¶æ€ã€‚è¿™ä¸€çŠ¶æ€ å°†ä¸€ç›´ä¿æŒåˆ°è¶…æ—¶æœŸæ»¡æˆ–è€…æ¥æ”¶åˆ°å”¤é†’é€šçŸ¥ã€‚å¸¦æœ‰è¶…æ—¶å‚æ•°çš„å¸¸ç”¨æ–¹æ³•æœ‰Thread.sleep ã€ Object.waitã€‚ Teminated(è¢«ç»ˆæ­¢) å› ä¸ºrunæ–¹æ³•æ­£å¸¸é€€å‡ºè€Œæ­»äº¡ï¼Œæˆ–è€…å› ä¸ºæ²¡æœ‰æ•è·çš„å¼‚å¸¸ç»ˆæ­¢äº†runæ–¹æ³•è€Œæ­»äº¡ã€‚ çº¿ç¨‹å®‰å…¨ å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœä¸ç”¨è€ƒè™‘è¿™äº›çº¿ç¨‹åœ¨è¿è¡Œæ—¶ç¯å¢ƒä¸‹çš„è°ƒåº¦å’Œäº¤æ›¿æ‰§è¡Œï¼Œä¹Ÿä¸éœ€è¦è¿›è¡Œé¢å¤–çš„åŒæ­¥ï¼Œæˆ–è€…åœ¨è°ƒç”¨æ–¹è¿›è¡Œä»»ä½•å…¶ä»–çš„åè°ƒæ“ä½œï¼Œè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„è¡Œä¸ºéƒ½å¯ä»¥è·å¾—æ­£ç¡®çš„ç»“æœï¼Œé‚£å°±ç§°è¿™ä¸ªå¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„ ä¸å¯å˜ ä¸å¯å˜çš„å¯¹è±¡ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ è¿™ç§å¯¹è±¡çš„æ¥å£ä¸€èˆ¬éœ€è¦ç²¾å¿ƒè®¾è®¡ æœ€ç®€å•çš„æ–¹å¼æ˜¯æ‰€æœ‰æˆå‘˜å˜é‡è®¾ç½®ä¸ºfinal ç»å¯¹çº¿ç¨‹å®‰å…¨ ä¸ç®¡è¿è¡Œæ—¶ç¯å¢ƒå¦‚ä½•ï¼Œè°ƒç”¨è€…éƒ½ä¸éœ€è¦ä»»ä½•é¢å¤–çš„åŒæ­¥æªæ–½ ç›¸å¯¹çº¿ç¨‹å®‰å…¨ è¦ä¿è¯å¯¹è¿™ä¸ªå¯¹è±¡å•æ¬¡çš„æ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨çš„æ—¶å€™ä¸éœ€è¦è¿›è¡Œé¢å¤–çš„ä¿éšœæªæ–½ï¼Œä½†æ˜¯å¯¹äºä¸€äº›ç‰¹å®šé¡ºåºçš„è¿ç»­è°ƒç”¨ï¼Œå°±å¯èƒ½éœ€è¦åœ¨è°ƒç”¨ç«¯ä½¿ç”¨é¢å¤–çš„åŒæ­¥æ‰‹æ®µæ¥ä¿è¯è°ƒç”¨çš„æ­£ç¡®æ€§ çº¿ç¨‹å…¼å®¹ å¯¹è±¡æœ¬èº«å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åœ¨è°ƒç”¨ç«¯æ­£ç¡®åœ°ä½¿ç”¨åŒæ­¥æ‰‹æ®µæ¥ä¿è¯å¯¹è±¡åœ¨å¹¶å‘ç¯å¢ƒä¸­å¯ä»¥å®‰å…¨åœ°ä½¿ç”¨ çº¿ç¨‹å¯¹ç«‹ æŒ‡ä¸ç®¡è°ƒç”¨ç«¯æ˜¯å¦é‡‡å–äº†åŒæ­¥æªæ–½ï¼Œéƒ½æ— æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å¹¶å‘ä½¿ç”¨ä»£ç  çº¿ç¨‹å®‰å…¨çš„å®ç° äº’æ–¥åŒæ­¥ synchronized Lock éé˜»å¡åŒæ­¥ CAS æ— åŒæ­¥æ–¹æ¡ˆ å¯é‡å…¥ä»£ç ï¼šç±»ä¼¼äºå‡½æ•°å¼ç¼–ç¨‹ çº¿ç¨‹æœ¬åœ°å­˜å‚¨ synchronized ä½¿ç”¨äº†é”å¯¹è±¡ï¼Œè¿™ä¸ªé”å¯¹è±¡ä¸€ç¬é—´åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‰€æŒæœ‰ synchronized(this){ // å¯ä»¥æ˜¯ä»»æ„ä¸€ä¸ªå¯¹è±¡ // éœ€è¦åŒæ­¥æ“ä½œçš„ä»£ç  } public synchronized void method(){ // ä¹Ÿå¯ä»¥åŒæ­¥é™æ€æ–¹æ³•ï¼Œç­‰åŒäºä¸Šé¢çš„synchronize(this) // å¯èƒ½ä¼šäº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç  } synchronizedæ˜¯å¯é‡å…¥é” é‡å…¥ï¼šæŸä¸ªçº¿ç¨‹è¯•å›¾è·å¾—ä¸€ä¸ªå·²ç»ç”±å®ƒæŒæœ‰çš„é” ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸ï¼Œé”ä¼šè¢«é‡Šæ”¾ ä¸èƒ½ä½¿ç”¨Stringå¸¸é‡ï¼Œä»¥åŠint longç­‰åŸå§‹ç±»å‹ synchronizedåº•å±‚ JDKæ—©æœŸçš„ ä½¿ç”¨çš„é‡é‡çº§å®ç° ä¹Ÿå°±è¯´åœ¨ OS å±‚é¢ åæ¥çš„è¿›è¡Œäº†æ”¹è¿› synchronizedå®ç°è¿‡ç¨‹ javaä»£ç ï¼šsynchronized å­—èŠ‚ç ï¼š monitorenter monitorexit æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šè¿›è¡Œé”å‡çº§ lock comxchg é”å‡çº§ï¼š åœ¨ markword ä¸­è®°å½•è®°å½•è·å–é”çš„è¿™ä¸ªçº¿ç¨‹ID æ­¤æ—¶æ˜¯åå‘é”ã€‚çº¿ç¨‹é€šè¿‡åˆ¤æ–­è¿™ä¸ªIDæ˜¯å¦ä¸ºè‡ªèº«æ¥åˆ¤æ–­è‡ªå·±æ˜¯ä¸æ˜¯è·å¾—äº†åå‘é”ã€‚åå‘é”åœ¨èµ„æºæ— ç«äº‰æƒ…å†µä¸‹æ¶ˆé™¤äº†åŒæ­¥è¯­å¥ï¼Œè¿CASæ“ä½œéƒ½ä¸åšäº†ï¼Œæé«˜äº†ç¨‹åºçš„è¿è¡Œæ€§èƒ½ ä½†å¦‚æœåº”ç”¨ç¨‹åºé‡Œæ‰€æœ‰çš„é”é€šå¸¸å¤„äºç«äº‰çŠ¶æ€ï¼Œé‚£ä¹ˆåå‘é”å°±ä¼šæ˜¯ä¸€ç§ç´¯èµ˜ -XX:UseBiasedLocking=false å¯ä»¥å…³é—­åå‘é” å¦‚æœå‘ç°markwordçš„ä¸æ˜¯è‡ªå·±çš„çº¿ç¨‹ID åˆ™å‡çº§ä¸º è‡ªæ—‹é” åœ¨è‡ªæ—‹ä¸€å®šæ¬¡æ•°ä»¥åï¼Œä¸èƒ½è·å¾—é”ï¼Œåˆ™å‡çº§ä¸ºOSå±‚é¢çš„é‡é‡çº§é” æ‰§è¡Œæ—¶é—´çŸ­ï¼ˆåŠ é”ä»£ç ï¼‰ï¼Œçº¿ç¨‹æ•°å°‘ï¼Œç”¨è‡ªæ—‹ æ‰§è¡Œæ—¶é—´é•¿ï¼Œçº¿ç¨‹æ•°å¤šï¼Œç”¨ç³»ç»Ÿé” é”é™çº§ï¼šé”é™çº§å‘ç”Ÿçš„æ¡ä»¶ä¼šæ¯”è¾ƒè‹›åˆ»ï¼Œé”é™çº§å‘ç”Ÿåœ¨Stop The WorldæœŸé—´ï¼Œå½“JVMè¿›å…¥å®‰å…¨ç‚¹çš„æ—¶å€™ï¼Œä¼šæ£€æŸ¥æ˜¯å¦æœ‰é—²ç½®çš„é”ï¼Œç„¶åè¿›è¡Œé™çº§ volatile ä»»ä½•å¯¹è¢«volatileå…³é”®å­—ä¿®é¥°çš„å˜é‡éƒ½ä¼šåœ¨ä¸»å†…å­˜æ“ä½œã€€ä¸ä¼šæ“ä½œå‰¯æœ¬ volatileå˜é‡æ“ä½œæ—¶éœ€è¦åŒæ­¥ç»™å†…å­˜å˜é‡ã€€æ‰€ä»¥ä¸€å®šä¼šä½¿çº¿ç¨‹çš„æ‰§è¡Œé€Ÿåº¦å˜æ…¢ è€Œé”æœºåˆ¶é€šè¿‡è¯»å…¥å‰¯æœ¬ã€€é‡Šæ”¾é”å†™å…¥ä¸»å†…å­˜æ¥åŒ…è£…å¯è§æ€§ ä¿è¯çº¿ç¨‹å¯è§æ€§ MESI ç¼“å­˜ä¸€è‡´æ€§åè®® ç¦æ­¢æŒ‡ä»¤é‡æ’åº DCL(double check lock) å•ä¾‹ é‡æ’åºçš„3ç§ç±»å‹ï¼š ç¼–è¯‘å™¨é‡æ’ æŒ‡ä»¤å¹¶è¡Œé‡æ’ å†…å­˜ç³»ç»Ÿé‡æ’ å¯è§æ€§ åœ¨æ²¡æœ‰åŒæ­¥çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨æˆ–è€…å¤„ç†å™¨éƒ½ä¼šå¯¹ä¸€äº›ä¸Šä¸‹æ–‡æ— å…³çš„æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æŸä¸€ä¸ªæ•°å€¼ï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹æ— æ³•é©¬ä¸Šè¯»å–åˆ°ä¿®æ”¹åçš„æ•°å€¼ å¤±æ•ˆæ•°æ® éåŸå­çš„64ä½æ“ä½œ åœ¨javaå½“ä¸­ï¼Œä¸€ä¸ª64ä½å¤§å°çš„æ•°å€¼å¯ä»¥è¢«åˆ†ä¸º2ä¸ª32ä½çš„æ“ä½œ åœ¨Javaå†…å­˜ç»“æ„ä¸­ï¼Œæ—¢ç„¶å †æ˜¯å…±äº«çš„ï¼Œä¸ºä»€ä¹ˆåœ¨å †ä¸­ä¼šæœ‰å†…å­˜ä¸å¯è§é—®é¢˜ã€‚ç°åœ¨è®¡ç®—æœºCPUä¸ºäº†é«˜æ•ˆï¼Œå¾€å¾€ä¼šåœ¨é«˜é€Ÿç¼“å­˜åŒºä¸­ç¼“å­˜å…±äº«å˜é‡ ä¸ºä»€ä¹ˆè¦é‡æ’åºï¼Ÿè¿˜æ˜¯ä¸ºäº†æ€§èƒ½ï¼Œæµæ°´çº¿æŠ€æœ¯çš„åŸç†æ˜¯æŒ‡ä»¤1è¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå°±å¯ä»¥å¼€å§‹æ‰§è¡ŒæŒ‡ä»¤2ï¼Œè€Œä¸ç”¨ç­‰åˆ°æŒ‡ä»¤1æ‰§è¡Œç»“æŸä¹‹åå†æ‰§è¡ŒæŒ‡ä»¤2 åŠ é”ä¸å¯è§æ€§ ä¹‹æ‰€ä»¥è¦åœ¨è®¿é—®æŸä¸ªå…±äº«çš„å¯å˜å˜é‡æ—¶è¦æ±‚æ‰€æœ‰çº¿ç¨‹åœ¨é”ä¸ŠåŒæ­¥ï¼Œå°±æ˜¯ä¸ºäº†ç¡®ä¿è¯»å†™å¯è§æ€§ã€‚ åŠ é”çš„å«ä¹‰ä¸å±€é™ä¸äº’æ–¥è¡Œä¸ºï¼Œè¿˜åŒ…æ‹¬å†…å­˜å¯è§æ€§ volatileæ˜¯æ¯”synchronizedæ›´ä¸ºè½»é‡çº§çš„åŒæ­¥æœºåˆ¶ï¼Œå®ƒæ— æ³•è¿›è¡Œäº’æ–¥æ“ä½œï¼Œä½†èƒ½ä¿è¯å†…å­˜å¯è§æ€§ å…¸å‹ç”¨æ³• voatile boolean f; while (f){ // do something } CAS AtomicInteger ç­‰åŸå­ç±»çš„å®ç° å®ƒåŒ…å«ä¸‰ä¸ªå‚æ•°CAS(V,E,N): Vè¡¨ç¤ºè¦æ›´æ–°çš„å˜é‡ï¼ŒEè¡¨ç¤ºé¢„æœŸå€¼ï¼ŒNè¡¨ç¤ºæ–°å€¼ã€‚ä»…å½“Vå€¼ç­‰äºEå€¼æ—¶ï¼Œæ‰ä¼šå°†Vçš„å€¼è®¾ä¸ºNï¼Œå¦‚æœVå€¼å’ŒEå€¼ä¸åŒï¼Œåˆ™è¯´æ˜å·²ç»æœ‰å…¶ä»–çº¿ç¨‹åšäº†æ›´æ–°ï¼Œåˆ™å½“å‰çº¿ç¨‹è¿›è¡Œè‡ªæ—‹é‡å¤ä¸Šè¿°æ“ä½œæˆ–è€…ä»€ä¹ˆéƒ½ä¸åšã€‚æœ€åï¼ŒCASè¿”å›å½“å‰Vçš„çœŸå®å€¼ CASæ˜¯CPUåŸè¯­æ”¯æŒ Java é€šè¿‡nativeæ–¹æ³•è°ƒç”¨æ±‡ç¼–æŒ‡ä»¤æ¥å®ç° ABAé—®é¢˜ å¦‚æœåœ¨è¿™æ®µæœŸé—´æ›¾ç»è¢«æ”¹æˆBï¼Œç„¶ååˆæ”¹å›Aï¼Œé‚£CASæ“ä½œå°±ä¼šè¯¯è®¤ä¸ºå®ƒä»æ¥æ²¡æœ‰è¢«ä¿®æ”¹è¿‡ è§£å†³æ–¹æ³•ï¼šç‰ˆæœ¬å· åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ ABAé—®é¢˜å¹¶ä¸ä¼šå½±å“åˆ°ç¨‹åºçš„æ­£ç¡®æ€§ ä½¿ç”¨AtomicStampedReferenceå®ç° è‡ªæ—‹å¼€é”€ CASå¤šä¸è‡ªæ—‹ç»“åˆã€‚å¦‚æœè‡ªæ—‹CASé•¿æ—¶é—´ä¸æˆåŠŸï¼Œä¼šå ç”¨å¤§é‡çš„CPUèµ„æºã€‚ è®©JVMæ”¯æŒå¤„ç†å™¨çš„pauseæŒ‡ä»¤å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åœ¨Javaå±‚ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ‰‹åŠ¨yieldçº¿ç¨‹æˆ–è€…sleepæ¥è§£å†³ unsafeç±» ç›´æ¥æ“ä½œJVMé‡Œçš„å†…å­˜ JDK9ä¹‹åæ— æ³•ä½¿ç”¨äº† allocateMemory ç›´æ¥åˆ†é…å†…å­˜ freeMemory é‡Šæ”¾å†…å­˜ compareAndSet CASæ“ä½œ Java ä¸åç¨‹ Java å†…æ ¸çº¿ç¨‹çš„å±€é™æ€§ å†…æ ¸çº¿ç¨‹1:1æ˜ å°„åˆ°Javaä¸Šï¼Œå½“é¢å¯¹å¤§é‡è¯·æ±‚æ—¶ï¼Œçº¿ç¨‹åˆ‡æ¢çš„æˆæœ¬å¼€é”€è¿œè¿œå¤§äºè®¡ç®—æœ¬èº«çš„å¼€é”€ åç¨‹çš„ä¸»è¦ä¼˜åŠ¿æ˜¯è½»é‡ï¼Œä¸€ä¸ªåç¨‹çš„å®ç°ç‰¹ä¾‹è¢«ç§°ä¹‹ä¸ºçº¤ç¨‹ æ–°å¹¶å‘æ¨¡å‹ä¸‹ï¼Œä¸€æ®µä½¿ç”¨çº¤ç¨‹å¹¶å‘çš„ä»£ç ä¼šè¢«åˆ†ä¸ºä¸¤éƒ¨åˆ†â€”â€”æ‰§è¡Œè¿‡ç¨‹ï¼ˆContinuationï¼‰å’Œè°ƒåº¦å™¨ï¼ˆSchedulerï¼‰ã€‚æ‰§è¡Œè¿‡ç¨‹ä¸»è¦ç”¨äºç»´æŠ¤æ‰§è¡Œç°åœºï¼Œä¿æŠ¤ã€æ¢å¤ä¸Šä¸‹æ–‡çŠ¶æ€ï¼Œè€Œè°ƒåº¦å™¨åˆ™è´Ÿè´£ç¼–æ’æ‰€æœ‰è¦æ‰§è¡Œçš„ä»£ç çš„é¡ºåº MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-12 07:04:14 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/å¹¶å‘å·¥å…·ç±».html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/å¹¶å‘å·¥å…·ç±».html","title":"å¹¶å‘å·¥å…·ç±»","keywords":"","body":"JUC J.U.C java.util.concurrent ä¸»è¦åˆ†ä¸ºå‡ ä¸ªç±»ç°‡ï¼š çº¿ç¨‹åŒæ­¥ç±»ã€€ä½¿è¿›ç¨‹é—´çš„åè°ƒæ›´åŠ å®¹æ˜“ã€€CountDownLatch CyclicBarrierç­‰ å¹¶å‘é›†åˆç±» çº¿ç¨‹ç®¡ç†ç±»ã€€çº¿ç¨‹æ± ç­‰ é”ç›¸å…³ç±»ã€€ é”çš„åŸç† AQSã€€å®šä¹‰äº†ä¸€ä¸ªvolatile int state ä½œä¸ºå…±äº«å˜é‡ã€€å¦‚æœçº¿ç¨‹è·å–èµ„æºå¤±è´¥ã€€å°±è¿›å…¥FIFOé˜Ÿåˆ—ç­‰å¾…ã€€æˆåŠŸåå»èµ„æºå°±æ‰§è¡Œä¸´ç•ŒåŒºä»£ç ã€€æ‰§è¡Œå®Œé‡Šæ”¾èµ„æºã€€ä¼šé€šçŸ¥åŒæ­¥é˜Ÿåˆ—ä¸­çš„ç­‰å¾…çº¿ç¨‹æ¥è·å–èµ„æºåå‡ºé˜Ÿæ‰§è¡Œ ReentrantLock è½»é‡çº§é”ä¸é‡é‡çº§é” â€œè½»é‡çº§â€æ˜¯ç›¸å¯¹äºä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡æ¥å®ç°çš„ä¼ ç»Ÿé”è€Œè¨€çš„ ReentrantLock å’Œsynchronized éƒ½æ˜¯ å¯é‡å…¥é” å¯é‡å…¥ æ˜¯åŒä¸€çº¿ç¨‹ å¤–å±‚å‡½æ•°è·å¾—é”ä¹‹å ï¼Œå†…å±‚é€’å½’å‡½æ•°ä»ç„¶æœ‰è·å–è¯¥é”çš„ä»£ç ï¼Œä½†ä¸å—å½±å“ try { lock.lock(); // do something } catch (Exception e){ e.printStackTrace(); }finally { lock.unlock(); } å°è¯•åŠ é” lock.tryLock() // å¯ä»¥è¿›è¡Œâ€œå°è¯•é”å®šâ€tryLockï¼Œè¿™æ ·æ— æ³•é”å®šï¼Œæˆ–è€…åœ¨æŒ‡å®šæ—¶é—´å†…æ— æ³•é”å®šï¼Œçº¿ç¨‹å¯ä»¥å†³å®šæ˜¯å¦ç»§ç»­ç­‰å¾… å¯æ‰“æ–­çš„åŠ é” lock.lockInterruptibly(); // å¯ä»¥é€šè¿‡interrupt()æ‰“æ–­ å…¬å¹³é” å…¬å¹³é”ï¼šæ¯ä¸ªçº¿ç¨‹æŠ¢å é”çš„é¡ºåºä¸ºå…ˆåè°ƒç”¨lockæ–¹æ³•çš„é¡ºåºä¾æ¬¡è·å–é” éå…¬å¹³é”ï¼šæ¯ä¸ªçº¿ç¨‹æŠ¢å é”çš„é¡ºåºä¸å®šï¼Œè°è¿æ°”å¥½ï¼Œè°å°±è·å–åˆ°é”ï¼Œå’Œè°ƒç”¨lockæ–¹æ³•çš„å…ˆåé¡ºåºæ— å…³ new ReentrantLock(true); // trueä¸ºå…¬å¹³é” synchronized vs ReentrantLock synchronized æ˜¯ JVM å®ç°çš„ï¼Œè€Œ ReentrantLock æ˜¯ JDK å®ç°çš„ æ–°ç‰ˆæœ¬java ä¸¤è€…æ€§èƒ½å¤§è‡´ç›¸åŒ ReentrantLock å¯ä¸­æ–­ï¼Œè€Œ synchronized ä¸è¡Œ synchronized ä¸­çš„é”æ˜¯éå…¬å¹³çš„ï¼ŒReentrantLock é»˜è®¤æƒ…å†µä¸‹ä¹Ÿæ˜¯éå…¬å¹³çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ˜¯å…¬å¹³çš„ ReentrantLock å¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ª Condition å¯¹è±¡ åº”è¯¥ä¼˜å…ˆé€‰æ‹©synchronized: synchronizedçš„é”é‡Šæ”¾æ˜¯è‡ªåŠ¨çš„ jvmå¤©ç”Ÿæ”¯æŒ ReentrantReadWriteLock å½“è¯»å†™é”æ˜¯å†™åŠ é”çŠ¶æ€æ—¶, åœ¨è¿™ä¸ªé”è¢«è§£é”ä¹‹å‰, æ‰€æœ‰è¯•å›¾å¯¹è¿™ä¸ªé”åŠ é”çš„çº¿ç¨‹éƒ½ä¼šè¢«é˜»å¡ å½“è¯»å†™é”åœ¨è¯»åŠ é”çŠ¶æ€æ—¶, æ‰€æœ‰è¯•å›¾ä»¥è¯»æ¨¡å¼å¯¹å®ƒè¿›è¡ŒåŠ é”çš„çº¿ç¨‹éƒ½å¯ä»¥å¾—åˆ°è®¿é—®æƒ, ä½†æ˜¯å¦‚æœçº¿ç¨‹å¸Œæœ›ä»¥å†™æ¨¡å¼å¯¹æ­¤é”è¿›è¡ŒåŠ é”, å®ƒå¿…é¡»ç›´åˆ°æ‰€æœ‰çš„çº¿ç¨‹é‡Šæ”¾é” class Cache { private Map cache = new HashMap<>(); private ReentrantReadWriteLock lock = new ReentrantReadWriteLock(); public void put(String key, Object value) { ReentrantReadWriteLock.WriteLock writeLock = lock.writeLock(); writeLock.lock(); cache.put(key, value); writeLock.unlock(); } public Object get(String key) { ReentrantReadWriteLock.ReadLock readLock = lock.readLock(); readLock.lock(); Object value = cache.get(key); readLock.unlock(); return value; } } CountDownLatch(é—­é”) ç¡®ä¿æŸäº›æ´»åŠ¨ç›´åˆ°å…¶ä»–æ´»åŠ¨éƒ½å®Œæˆåæ‰ç»§ç»­æ‰§è¡Œ CountDownLatch latch = new CountDownLatch(5); for (int i = 0; i { Random random = new Random(); try { Thread.sleep(random.nextInt(5000)); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(\"çº¿ç¨‹\"+ finalI +\"å®Œæˆ\"); lock.latch(); }).start(); } latch.await(); System.out.println(\"all mission complete\"); CyclicBarrierï¼ˆæ …æ ï¼‰ é—­é”ç”¨äºç­‰å¾…äº‹ä»¶ï¼Œè€Œæ …æ ç”¨äºç­‰å¾…å…¶ä»–çº¿ç¨‹ CyclicBarrier barrier = new CyclicBarrier(5, () -> System.out.println(\"all thread run\")); // è°ƒç”¨awaitçš„çº¿ç¨‹ä¼šè¿›è¡Œç­‰å¾…ï¼Œç›´åˆ°ç¬¬5ä¸ªçº¿ç¨‹è°ƒç”¨awaitï¼Œæ‰€æœ‰çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œ for (int i = 0; i { Random rnd= new Random(); try { Thread.sleep(rnd.nextInt(3000)); System.out.println(Thread.currentThread()+\"run\"); barrier.await(); } catch (InterruptedException | BrokenBarrierException e) { e.printStackTrace(); } }).start(); } phaser Semaphore(ä¿¡å·é‡) ç”¨æ¥æ§åˆ¶ä½¿ç”¨èµ„æºçš„ä¸»ä½“æ•°é‡ Semaphore semaphore = new Semaphore(5); // Semaphore semaphore = new Semaphore(5,true); å…¬å¹³çš„ä¿¡å·é‡ // æœ€å¤šåªæœ‰5ä¸ªçº¿ç¨‹èƒ½åŒæ—¶è¿è¡Œ for (int i = 0; i { Random rnd = new Random(); try { semaphore.acquire(); System.out.println(Thread.currentThread()+\"acquire lock\"); Thread.sleep(5000); } catch (InterruptedException e) { e.printStackTrace(); }finally { semaphore.release(); } }).start(); } Exchanger ä¸¤ä¸ªçº¿ç¨‹äº¤æ¢æ•°æ® Exchanger exchanger = new Exchanger<>(); new Thread(()->{ try { System.out.println(\"1st:\"+exchanger.exchange(\"1\")); } catch (InterruptedException e) { e.printStackTrace(); } }).start(); new Thread(()->{ try { System.out.println(\"2nd:\"+exchanger.exchange(\"2\")); } catch (InterruptedException e) { e.printStackTrace(); } }).start(); LockSupport var t = new Thread(()->{ for (int i = 0; i VarHandle æ”¯æŒä¸€äº›åŸå­æ“ä½œ public class Main { int x = 8; public static void main(String[] args) throws Exception{ Main main = new Main(); VarHandle varHandle = MethodHandles.lookup().findVarHandle(Main.class,\"x\",int.class); varHandle.compareAndSet(main,8,9); System.out.println(varHandle.get(main)); } } ThreadLocal ThreadLocal tl = new ThreadLocal<>(); var t1 = new Thread(()->{ tl.set(\"cxk\"); System.out.println(tl.get()); // \"cxk\" }); var t2 = new Thread(()->{ System.out.println(tl.get()); // null }); t1.start(); t1.join(); t2.start(); ä½¿ç”¨ThreadLocalåŒ…è£…çš„å¯¹è±¡åªèƒ½åœ¨å½“å‰çº¿ç¨‹ä½¿ç”¨ åŸç†: https://ismy.wang/java/2019/05/10/%E5%88%9D%E6%8E%A2ThreadLocal.html ThreadLocalä½¿ç”¨äº†å¼±å¼•ç”¨é˜²æ­¢å†…å­˜æ³„æ¼ æ³¨æ„ï¼šä½¿ç”¨æ—¶ï¼Œå¯¹è±¡ä¸å†ä½¿ç”¨ï¼Œå¿…é¡»æ‰‹åŠ¨removeï¼Œå¦åˆ™ä»ç„¶ä¼šå†…å­˜æ³„æ¼ å‰¯ä½œç”¨ çº¿ç¨‹æ± å¤ç”¨çº¿ç¨‹ä¼šå¯¼è‡´ThreadLocal ä¹Ÿè¢«é‡ç”¨ã€€ä»è€Œä¼šå¯¼è‡´è„æ•°æ®çš„äº§ç”Ÿ å¦‚æœä½¿ç”¨staticä¿®é¥°ThreadLocalã€€è¿™ä¸ªæ—¶å€™å¼±å¼•ç”¨å°±æ— æ³•é˜²æ­¢å†…å­˜æ³„éœ²äº† è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜åªéœ€è¦ä½¿ç”¨çš„æ—¶å€™æ³¨æ„removeå³å¯ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-25 07:12:19 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/å¹¶å‘é›†åˆ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/å¹¶å‘é›†åˆ.html","title":"å¹¶å‘é›†åˆ","keywords":"","body":"å¹¶å‘é›†åˆ åŸºæœ¬ä¸ç”¨ Vector HashTable æ‰€æœ‰æ–¹æ³•éƒ½åŠ äº†synchronized ConcurrentHashMap æ•ˆç‡ä¸»è¦ä½“ç°åœ¨è¯»ä¸Šé¢ ConcurrentLinkedQueue CASå®ç° ConcurrentSkipListMap TreeMapä½¿ç”¨çš„çº¢é»‘æ ‘ æ ‘çš„CASæ“ä½œå¾ˆéš¾å®ç° TreeMapçš„å¹¶å‘ç‰ˆæœ¬ CopyOnWriteArrayList åœ¨å†™çš„æ—¶å€™ä¸å¯¹åŸé›†åˆè¿›è¡Œä¿®æ”¹ï¼Œè€Œæ˜¯é‡æ–°å¤åˆ¶ä¸€ä»½ï¼Œä¿®æ”¹å®Œä¹‹åï¼Œå†ç§»åŠ¨æŒ‡é’ˆ é˜»å¡é˜Ÿåˆ— BlockingQueue è¯¥ç±»å‹çš„é˜Ÿåˆ—æ‰§è¡Œtakeæ—¶å¦‚æœæ²¡æœ‰å…ƒç´ åˆ™ä¼šä¸€ç›´é˜»å¡ï¼Œputå¦‚æœè¶…è¿‡äº†ç•Œé™ä¹Ÿä¼šä¸€ç›´é˜»å¡ï¼Œç›´è‡³æœ‰å¯ç”¨ç©ºé—´ å®ç°ç±»:ArrayBlockingQueueä¸LinkedBlockingDequeç­‰ DelayQueue å»¶è¿Ÿé˜Ÿåˆ— PriorityQueue å–å‡ºçš„é¡ºåºæ˜¯ä¼šæ ¹æ®æ·»åŠ çš„å…ƒç´ è¿›è¡Œæ’åº SynchronousQueue ä¸¤ä¸ªç”¨æ¥äº¤æ¢æ•°æ® TransferQueue æ‹¥æœ‰æ™®é€šé˜»å¡é˜Ÿåˆ—çš„put-pollåŠŸèƒ½ä¸SynchronousQueueçš„é˜»å¡æ•°æ®äº¤æ¢åŠŸèƒ½ transfer MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-02 04:35:05 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/çº¿ç¨‹æ± .html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/çº¿ç¨‹æ± .html","title":"çº¿ç¨‹æ± ","keywords":"","body":"çº¿ç¨‹æ±  ä½œç”¨ï¼š çº¿ç¨‹å¤ç”¨ã€€æ§åˆ¶æœ€å¤§å¹¶å‘æ•° å®ç°ä»»åŠ¡ç¼“å­˜ç­–ç•¥ä»¥åŠæ‹’ç»ç­–ç•¥ å®šæœŸæ‰§è¡Œã€€å‘¨æœŸæ‰§è¡Œ éš”ç¦»ä¸åŒä¸šåŠ¡çš„çº¿ç¨‹æ‰§è¡Œç¯å¢ƒ Executoræ¡†æ¶ public interface Executor { void execute(Runnable command); } ExecutorServiceç»§æ‰¿äº†Executorï¼Œå¢åŠ äº†ä¸€äº›æ–¹æ³• public interface ExecutorService extends Executor { // å¹³ç¼“å…³é—­ void shutdown(); // ç²—æš´å…³é—­ List shutdownNow(); boolean isShutdown(); boolean isTerminated(); boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException; Future submit(Callable task); Future submit(Runnable task, T result); Future submit(Runnable task); List> invokeAll(Collection> tasks) throws InterruptedException; T invokeAny(Collection> tasks) throws InterruptedException, ExecutionException; } excute&submit ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸€å®šè¦æ³¨æ„ï¼Œexecuteä¼šå°†runnableäº¤ç»™workerå»æ‰§è¡Œï¼Œå‡ºç°å¼‚å¸¸ä¼šæ‰“å°å¼‚å¸¸æ ˆã€‚ è€Œsubmitæ–¹æ³•åˆ™ä¼šå°†runnableåŒ…è£…æˆä¸€ä¸ªScheduledFutureTask è¿™ä¸ªç±»ä¼šå°†å¼‚å¸¸åæ‰ï¼Œä¸ä¼šæ‰“å°å¼‚å¸¸æ ˆã€‚ Callable æ‹¥æœ‰è¿”å›å€¼ Future ç”¨æ¥æ‰§è¡Œä¸€äº›è¾ƒé•¿æ—¶é—´çš„è®¡ç®—ï¼Œé€šè¿‡getæ¥è·å–ç»“æœï¼ˆé˜»å¡æˆ–è€…è¶…æ—¶ï¼‰ ç”¨äºå¼‚æ­¥è·å–æ‰§è¡Œç»“æœæˆ–å–æ¶ˆæ‰§è¡Œä»»åŠ¡çš„åœºæ™¯ FutureTask futureTask = new FutureTask<>(() -> { int result = 0; for (int i = 0; i Future future = pool.submit(() -> { Thread.sleep(3000); return \"java\"; }); String s = future.get(); Futureæ¨¡å¼ public class Main { public static void main(String[] args) throws ExecutionException, InterruptedException { MyFuture myFuture = new MyFuture(); // åœ¨è¿™é‡Œ main thread å¯ä»¥åšå…¶ä»–äº‹æƒ… // ä¸‹ä¸€è¡Œä»£ç å°†é˜»å¡ç›´åˆ°ç»“æœå¯ç”¨ System.out.println(myFuture.getData()); } } class MyFuture{ private volatile boolean FLAG = false; private String data; public MyFuture() { new Thread(new Runnable() { @Override public void run() { System.out.println(\"future ä»»åŠ¡å¼€å§‹ ç¡çœ  3000ms\"); try { Thread.sleep(3000); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(\"future ä»»åŠ¡ç»“æŸ\"); setData(\"jntm\"); } }).start(); } private synchronized void setData(String data){ if (FLAG){ return; } this.data = data; FLAG = true; notify(); } public synchronized String getData(){ while (!FLAG){ try { wait(); } catch (InterruptedException e) { e.printStackTrace(); } } return data; } } çº¿ç¨‹æ± åˆ†ç±» ThreadPollExecutor ForkJoinPool åˆ†è§£æ±‡æ€»çš„ä»»åŠ¡ ç”¨å¾ˆå°‘çš„çº¿ç¨‹å¯ä»¥æ‰§è¡Œå¾ˆå¤šçš„ä»»åŠ¡(å­ä»»åŠ¡) TPEåšä¸åˆ°å…ˆæ‰§è¡Œå­ä»»åŠ¡ CPUå¯†é›†å‹ ThreadPollExecutor Executorsï¼šçº¿ç¨‹æ± å·¥å‚ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰ newCachedThreadPool åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚è¿™ä¸ªçº¿ç¨‹æ± çš„æœ€å¤§çº¿ç¨‹æ•°èƒ½è¾¾åˆ°æ•´æ•°çš„æœ€å¤§å€¼ newFixedThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚ newScheduledThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚åŒæ ·ã€€çº¿ç¨‹æœ€å¤§æ•°ä¹Ÿæ˜¯æ•´æ•°æœ€å¤§å€¼ newSingleThreadExecutor åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œ newWorkSealingPool jdk8å¼•å…¥ã€€ä½¿ç”¨å¤šä¸ªé˜Ÿåˆ—æ¥å‡å°‘ç«äº‰ è¿™ä¸ªçº¿ç¨‹å·¥å‚å¤§éƒ¨åˆ†éƒ½ä½¿ç”¨äº†æ— ç•Œé˜Ÿåˆ—ã€€å¦‚æœç¬é—´è¯·æ±‚é‡å¤§ã€€å¾ˆæœ‰å¯èƒ½é€ æˆoom åŸç† è‡ªå®šä¹‰ ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2/*å®é™…è¿è¡Œçº¿ç¨‹æ•° ï¼ˆä¸ç®¡å®ƒä»¬åˆ›å»ºä»¥åæ˜¯ä¸æ˜¯ç©ºé—²çš„ã€‚çº¿ç¨‹æ± éœ€è¦ä¿æŒ corePoolSize æ•°é‡çš„çº¿ç¨‹ï¼‰*/, 3/*æœ€å¤šå…è®¸åˆ›å»ºçš„çº¿ç¨‹æ•°*/, 0L /* è®©çº¿ç¨‹å­˜æ´»çš„æ—¶é—´ 0ä¸ºæ°¸ä¹… */, TimeUnit.SECONDS, new ArrayBlockingQueue<>(4)/* çº¿ç¨‹æ± çš„å†…éƒ¨é˜Ÿåˆ— */, Executors.defaultThreadFactory()/* äº§ç”Ÿçº¿ç¨‹çš„æ–¹å¼ */, new ThreadPoolExecutor.DiscardOldestPolicy() /* çº¿ç¨‹æ± æ»¡æ—¶çš„æ‹’ç»ç­–ç•¥ */ ); å‚æ•°ï¼š corePoolSize å¦‚æœç­‰äº0 åˆ™ä»»åŠ¡æ‰§è¡Œç»“æŸåå°±ä¼šé”€æ¯æ‰€æœ‰çº¿ç¨‹ã€€å¦‚æœå¤§äº0ã€€ä»»åŠ¡æ‰§è¡Œåè¿™äº›çº¿ç¨‹ä¸ä¼šè¢«é”€æ¯ maximumPoolSize èƒ½æœ€å¤§åŒæ—¶å®¹çº³çš„çº¿ç¨‹æ•°ã€€å¦‚æœä»»åŠ¡æ•°é‡å¤§äºè¿™ä¸ªæ•°ã€€é‚£ä¹ˆå‰©ä¸‹çš„ä»»åŠ¡å°±è¦è¢«ç¼“å­˜åœ¨ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ä¸­ keepAliveTime è¡¨ç¤ºçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ç©ºé—²æ—¶é—´ã€€å¤šäºcorePoolSizeæ•°é‡çš„éƒ¨åˆ†çº¿ç¨‹ä¼šè¢«é”€æ¯ æ—¶é—´å•ä½ workQUeue ç¼“å­˜é˜Ÿåˆ— threadFactory å®šä¹‰çº¿ç¨‹æ± çº¿ç¨‹çš„äº§ç”Ÿæ–¹å¼ handler ä»»åŠ¡æ‹’ç»ç­–ç•¥ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸Šè¿°å‚æ•°é™¤äº†ç¼“å­˜é˜Ÿåˆ—ï¼Œå…¶ä»–å‚æ•°éƒ½æ˜¯å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´çš„ã€‚ ä¸ºäº†èƒ½è¾¾åˆ°åŠ¨æ€è°ƒæ•´é˜Ÿåˆ—é•¿åº¦çš„ç›®çš„ï¼šå¯ä»¥é€šè¿‡å®ç°è‡ªå·±çš„é˜»å¡é˜Ÿåˆ—æ¥å®ç°ã€‚ å¦‚ä½•é…ç½®ï¼š CPUå¯†é›†å‹ IOå¯†é›†å‹ è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚ã€€ä¸ºçº¿ç¨‹æŒ‡å®šæœ‰æ„ä¹‰çš„åç§°å’Œç›¸åº”çš„åºåˆ—å·ã€€æ–¹ä¾¿å‡ºé”™æ’æŸ¥ å®šä¹‰å¥½æ‹’ç»ç­–ç•¥ã€€å®æ„¿æŠ›å‡ºå¼‚å¸¸ã€€ä¹Ÿä¸è¦ä½¿ç”¨DiscardPolicy è¿™ä¸ªç­–ç•¥ä¼šé™æ‚„æ‚„çš„æŠ›å¼ƒä»»åŠ¡ çº¿ç¨‹æ± é¢„çƒ­ï¼š prestartCoreThread prestartAllCoreThreads è®¾ç½®å›æ”¶æ ¸å¿ƒçº¿ç¨‹ï¼š allowCoreThreadTimeOut çº¿ç¨‹æ± çš„å¤§å° Ncpu = CPUæ•°é‡ Ucpu = é¢„æœŸCPUä½¿ç”¨ç‡ W/C = ç­‰å¾…æ—¶é—´/è®¡ç®—æ—¶é—´ æœ€ä¼˜å¤§å°ç­‰äº Ncpu Ucpu (1 + W/C) ForkJoinPool MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-28 11:27:19 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/Disruptor.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAå¹¶å‘ç¼–ç¨‹/Disruptor.html","title":"Disruptor","keywords":"","body":"Disruptor è®¾è®¡æ–¹æ¡ˆ ç¯å½¢æ•°ç»„ç»“æ„ ä¸ºäº†é¿å…åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨æ•°ç»„è€Œéé“¾è¡¨ã€‚åŒæ—¶ï¼Œæ•°ç»„å¯¹å¤„ç†å™¨çš„ç¼“å­˜æœºåˆ¶æ›´åŠ å‹å¥½ã€‚ å…ƒç´ ä½ç½®å®šä½ æ•°ç»„é•¿åº¦2^nï¼Œé€šè¿‡ä½è¿ç®—ï¼ŒåŠ å¿«å®šä½çš„é€Ÿåº¦ã€‚ä¸‹æ ‡é‡‡å–é€’å¢çš„å½¢å¼ã€‚ä¸ç”¨æ‹…å¿ƒindexæº¢å‡ºçš„é—®é¢˜ã€‚indexæ˜¯longç±»å‹ï¼Œå³ä½¿100ä¸‡QPSçš„å¤„ç†é€Ÿåº¦ï¼Œä¹Ÿéœ€è¦30ä¸‡å¹´æ‰èƒ½ç”¨å®Œã€‚ æ— é”è®¾è®¡ æ¯ä¸ªç”Ÿäº§è€…æˆ–è€…æ¶ˆè´¹è€…çº¿ç¨‹ï¼Œä¼šå…ˆç”³è¯·å¯ä»¥æ“ä½œçš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œç”³è¯·åˆ°ä¹‹åï¼Œç›´æ¥åœ¨è¯¥ä½ç½®å†™å…¥æˆ–è€…è¯»å–æ•°æ®ã€‚ å¼€å‘ å®šä¹‰Event - é˜Ÿåˆ—ä¸­éœ€è¦å¤„ç†çš„å…ƒç´  å®šä¹‰Eventå·¥å‚ï¼Œç”¨äºå¡«å……é˜Ÿåˆ— disruptoråˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨Eventå·¥å‚ï¼Œå¯¹ringBufferè¿›è¡Œå†…å­˜çš„æå‰åˆ†é… GCäº§ç”Ÿé¢‘ç‡ä¼šé™ä½ public class StringEventFactory implements EventFactory { @Override public String newInstance() { return UUID.randomUUID().toString(); } } å®šä¹‰EventHandlerï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼Œå¤„ç†å®¹å™¨ä¸­çš„å…ƒç´  public class StringEventHandler implements EventHandler { @Override public void onEvent(String s, long l, boolean b) throws Exception { System.out.println(Thread.currentThread().getName() + \"handle \" + s); } } StringEventFactory eventFactory = new StringEventFactory(); int bufferSize = 1024; Disruptor disruptor = new Disruptor<>(eventFactory, bufferSize, Executors.defaultThreadFactory()); disruptor.handleEventsWith(new StringEventHandler()); disruptor.start(); RingBuffer ringBuffer = disruptor.getRingBuffer(); for (int i = 0; i {}); } ç”Ÿäº§è€…çº¿ç¨‹æ¨¡å¼ ProducerTypeæœ‰ä¸¤ç§æ¨¡å¼ Producer.MULTIå’ŒProducer.SINGLE é»˜è®¤æ˜¯MULTIï¼Œè¡¨ç¤ºåœ¨å¤šçº¿ç¨‹æ¨¡å¼ä¸‹äº§ç”Ÿsequence å¦‚æœç¡®è®¤æ˜¯å•çº¿ç¨‹ç”Ÿäº§è€…ï¼Œé‚£ä¹ˆå¯ä»¥æŒ‡å®šSINGLEï¼Œæ•ˆç‡ä¼šæå‡ ç­‰å¾…ç­–ç•¥ 1ï¼Œ(å¸¸ç”¨ï¼‰BlockingWaitStrategyï¼šé€šè¿‡çº¿ç¨‹é˜»å¡çš„æ–¹å¼ï¼Œç­‰å¾…ç”Ÿäº§è€…å”¤é†’ï¼Œè¢«å”¤é†’åï¼Œå†å¾ªç¯æ£€æŸ¥ä¾èµ–çš„sequenceæ˜¯å¦å·²ç»æ¶ˆè´¹ã€‚ 2ï¼ŒBusySpinWaitStrategyï¼šçº¿ç¨‹ä¸€ç›´è‡ªæ—‹ç­‰å¾…ï¼Œå¯èƒ½æ¯”è¾ƒè€—cpu 3ï¼ŒLiteBlockingWaitStrategyï¼šçº¿ç¨‹é˜»å¡ç­‰å¾…ç”Ÿäº§è€…å”¤é†’ï¼Œä¸BlockingWaitStrategyç›¸æ¯”ï¼ŒåŒºåˆ«åœ¨signalNeeded.getAndSet,å¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªè®¿é—®waitfor,ä¸€ä¸ªè®¿é—®signalAllæ—¶ï¼Œå¯ä»¥å‡å°‘lockåŠ é”æ¬¡æ•°. 4ï¼ŒLiteTimeoutBlockingWaitStrategyï¼šä¸LiteBlockingWaitStrategyç›¸æ¯”ï¼Œè®¾ç½®äº†é˜»å¡æ—¶é—´ï¼Œè¶…è¿‡æ—¶é—´åæŠ›å¼‚å¸¸ã€‚ 5ï¼ŒPhasedBackoffWaitStrategyï¼šæ ¹æ®æ—¶é—´å‚æ•°å’Œä¼ å…¥çš„ç­‰å¾…ç­–ç•¥æ¥å†³å®šä½¿ç”¨å“ªç§ç­‰å¾…ç­–ç•¥ 6ï¼ŒTimeoutBlockingWaitStrategyï¼šç›¸å¯¹äºBlockingWaitStrategyæ¥è¯´ï¼Œè®¾ç½®äº†ç­‰å¾…æ—¶é—´ï¼Œè¶…è¿‡åæŠ›å¼‚å¸¸ 7ï¼Œï¼ˆå¸¸ç”¨ï¼‰YieldingWaitStrategyï¼šå°è¯•100æ¬¡ï¼Œç„¶åThread.yield()è®©å‡ºcpu 8ï¼Œï¼ˆå¸¸ç”¨ï¼‰SleepingWaitStrategy : sleep æ¶ˆè´¹è€…å¼‚å¸¸å¤„ç† é»˜è®¤ï¼šdisruptor.setDefaultExceptionHandler() è¦†ç›–ï¼šdisruptor.handleExceptionFor().with() MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-08 07:05:22 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/ç½‘ç»œç¼–ç¨‹.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/ç½‘ç»œç¼–ç¨‹.html","title":"ç½‘ç»œç¼–ç¨‹","keywords":"","body":"BIO Socket public InputStream getInputStream() ï¼š è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å…¥æµã€‚ public OutputStream getOutputStream() ï¼š è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµã€‚ public void close() ï¼šå…³é—­æ­¤å¥—æ¥å­—ã€‚ public void shutdownOutput() ï¼š ç¦ç”¨æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµã€‚ å·¥ä½œæœºåˆ¶ é€šä¿¡é“¾è·¯å»ºç«‹ å®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªSocketå®ä¾‹ è¿™ä¸ªå®ä¾‹åŒ…å« æœ¬åœ°åœ°å€ æœ¬åœ°ç«¯å£ è¿œç¨‹åœ°å€ è¿œç¨‹ç«¯å£ æœåŠ¡ç«¯ä¼šåˆ›å»ºä¸€ä¸ªServerSocekt åŒ…å«ç›‘å¬åœ°å€ ç›‘å¬ç«¯å£ ç›‘å¬åœ°å€é€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯* ä»£è¡¨ç›‘å¬æ‰€æœ‰åœ°å€ å½“ä¸€ä¸ªæ–°çš„å®¢æˆ·ç«¯è¿›æ¥å è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ä¹‹å, ServerSocekt ä¼šåˆ›é”®ä¸€ä¸ªSocektå®ä¾‹ æ•°æ®ä¼ è¾“ ä¸¤ç«¯çš„Socektéƒ½æœ‰å¯¹åº”çš„è¾“å…¥è¾“å‡ºæµ è¿™äº›æµåˆæœ‰ç›¸åº”çš„ç¼“å†²åŒº å¦‚æœç¼“å†²åŒºæ»¡äº†æˆ–è€…ç©ºäº† è¯»å†™æ“ä½œå°±ä¼šè¢«é˜»å¡ ServerSocket public Socket accept() ï¼šä¾¦å¬å¹¶æ¥å—è¿æ¥ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Socketå¯¹è±¡ï¼Œç”¨äºå’Œå®¢æˆ·ç«¯å®ç°é€šä¿¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-28 06:48:29 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/NIO.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/NIO.html","title":"NIO","keywords":"","body":"NIO ä¸BIOçš„åŒºåˆ« BIOæ˜¯é¢å‘æµçš„ï¼ŒNIOæ˜¯é¢å‘ç¼“å†²åŒºçš„ï¼› BIOæµæ˜¯é˜»å¡çš„ï¼ŒNIOæµæ˜¯ä¸é˜»å¡çš„; NIOæœ‰é€‰æ‹©å™¨ï¼Œè€ŒIOæ²¡æœ‰ã€‚ ä¼ ç»ŸBIOæ¨¡å‹çš„ç¼ºç‚¹ ä¸¥é‡ä¾èµ–äºçº¿ç¨‹ çº¿ç¨‹æ˜¯å¾ˆæ˜‚è´µçš„ çº¿ç¨‹å†…å­˜èµ„æº ä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ NIO çš„çº¿ç¨‹æ¨¡å‹ while(channel=Selector.select()){//é€‰æ‹©å°±ç»ªçš„äº‹ä»¶å’Œå¯¹åº”çš„è¿æ¥ if(channel.event==accept){ registerNewChannelHandler(channel);//å¦‚æœæ˜¯æ–°è¿æ¥ï¼Œåˆ™æ³¨å†Œä¸€ä¸ªæ–°çš„è¯»å†™å¤„ç†å™¨ } if(channel.event==write){ getChannelHandler(channel).channelWritable(channel);//å¦‚æœå¯ä»¥å†™ï¼Œåˆ™æ‰§è¡Œå†™äº‹ä»¶ } if(channel.event==read){ getChannelHandler(channel).channelReadable(channel);//å¦‚æœå¯ä»¥è¯»ï¼Œåˆ™æ‰§è¡Œè¯»äº‹ä»¶ } } } NIO çš„ Reactor Proactor Reactor æ­¥éª¤1ï¼šç­‰å¾…äº‹ä»¶åˆ°æ¥ï¼ˆReactorè´Ÿè´£ï¼‰ã€‚ æ­¥éª¤2ï¼šå°†è¯»å°±ç»ªäº‹ä»¶åˆ†å‘ç»™ç”¨æˆ·å®šä¹‰çš„å¤„ç†å™¨ï¼ˆReactorè´Ÿè´£ï¼‰ã€‚ æ­¥éª¤3ï¼šè¯»æ•°æ®ï¼ˆç”¨æˆ·å¤„ç†å™¨è´Ÿè´£ï¼‰ã€‚ æ­¥éª¤4ï¼šå¤„ç†æ•°æ®ï¼ˆç”¨æˆ·å¤„ç†å™¨è´Ÿè´£ï¼‰ã€‚ Proactor æ­¥éª¤1ï¼šç­‰å¾…äº‹ä»¶åˆ°æ¥ï¼ˆProactorè´Ÿè´£ï¼‰ã€‚ æ­¥éª¤2ï¼šå¾—åˆ°è¯»å°±ç»ªäº‹ä»¶ï¼Œæ‰§è¡Œè¯»æ•°æ®ï¼ˆç°åœ¨ç”±Proactorè´Ÿè´£ï¼‰ã€‚ æ­¥éª¤3ï¼šå°†è¯»å®Œæˆäº‹ä»¶åˆ†å‘ç»™ç”¨æˆ·å¤„ç†å™¨ï¼ˆProactorè´Ÿè´£ï¼‰ã€‚ æ­¥éª¤4ï¼šå¤„ç†æ•°æ®ï¼ˆç”¨æˆ·å¤„ç†å™¨è´Ÿè´£ï¼‰ã€‚ Buffer DirectByteBuffer å¯ä»¥å‡å°‘å†…å­˜ä»å†…æ ¸åˆ°ç”¨æˆ·çš„æ‹·è´ ä½†æ˜¯åˆ›å»ºæ¶ˆè´¹æˆæœ¬æ›´é«˜ éœ€è¦æ± åŒ– HeapByteBuffer ä½¿ç”¨å †å†…å­˜ æ ¸å¿ƒç±» ByteBuffer å±æ€§ï¼š capacity ç¼“å†²åŒºæ•°ç»„æ€»é•¿åº¦ position ä¸‹ä¸€ä¸ªè¦æ“ä½œçš„æ•°æ®å…ƒç´ ä½ç½® limit ç¼“å†²åŒºä¸å¯æ“ä½œçš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½® limit mark ç±»ä¼¼äºä¹¦ç­¾ NIOçš„æ–‡ä»¶è¯»å†™ FileChannel.transferXXX: FileChannel.map: å°†æ–‡ä»¶æ˜ å°„ä¸ºå†…å­˜åŒºåŸŸ æ–‡ä»¶è¾“å‡ºä¾‹å­ FileOutputStream fos = new FileOutputStream(\"file.txt\"); FileChannel channel = fos.getChannel(); ByteBuffer buffer = ByteBuffer.allocate(1024); buffer.put(\"20191204\".getBytes()); // ç¿»è½¬ç¼“å†²åŒº buffer.flip(); channel.write(buffer); fos.close(); æ–‡ä»¶è¾“å…¥ File file = new File(\"file.txt\"); FileInputStream fis = new FileInputStream(file); ByteBuffer buffer = ByteBuffer.allocate((int) file.length()); FileChannel channel = fis.getChannel(); channel.read(buffer); System.out.println(new String(buffer.array())); fis.close(); æ–‡ä»¶å¤åˆ¶ FileInputStream fis = new FileInputStream(\"file.txt\"); FileOutputStream fos = new FileOutputStream(\"file1.txt\"); FileChannel source = fis.getChannel(); FileChannel target = fos.getChannel(); target.transferFrom(source,0,source.size()); source.close(); target.close(); ç½‘ç»œç¼–ç¨‹ Selector å®ƒæ˜¯Java NIOæ ¸å¿ƒç»„ä»¶ä¸­çš„ä¸€ä¸ªï¼Œç”¨äºæ£€æŸ¥ä¸€ä¸ªæˆ–å¤šä¸ªNIO Channelï¼ˆé€šé“ï¼‰çš„çŠ¶æ€æ˜¯å¦å¤„äºå¯è¯»ã€å¯å†™ã€‚å¦‚æ­¤å¯ä»¥å®ç°å•çº¿ç¨‹ç®¡ç†å¤šä¸ªchannels,ä¹Ÿå°±æ˜¯å¯ä»¥ç®¡ç†å¤šä¸ªç½‘ç»œé“¾æ¥ SelectionKey ä¸€ä¸ªSelectionKeyé”®è¡¨ç¤ºäº†ä¸€ä¸ªç‰¹å®šçš„é€šé“å¯¹è±¡å’Œä¸€ä¸ªç‰¹å®šçš„é€‰æ‹©å™¨å¯¹è±¡ä¹‹é—´çš„æ³¨å†Œå…³ç³» ServerSocketChannel Java NIO ä¸­çš„ ServerSocketChannel æ˜¯ä¸€ä¸ªå¯ä»¥ç›‘å¬æ–°è¿›æ¥çš„ TCP è¿æ¥çš„é€šé“, å°±åƒæ ‡å‡† IO ä¸­çš„ ServerSocketä¸€æ · SocketChannel Java NIO ä¸­çš„ SocketChannel æ˜¯ä¸€ä¸ªè¿æ¥åˆ° TCP ç½‘ç»œå¥—æ¥å­—çš„é€šé“ å®¢æˆ·ç«¯ // å¾—åˆ°ä¸€ä¸ªç½‘ç»œé€šé“ SocketChannel channel = SocketChannel.open(); // è®¾ç½®éé˜»å¡æ–¹å¼ channel.configureBlocking(false); // æä¾›æœåŠ¡å™¨IPä¸ç«¯å£ InetSocketAddress address = new InetSocketAddress(\"127.0.0.1\", 1999); // è¿æ¥ if (!channel.connect(address)) { while (!channel.finishConnect()) { System.out.println(\"å®¢æˆ·ç«¯ï¼šæ­£åœ¨è¿æ¥æœåŠ¡å™¨\"); } } // å‘é€æ•°æ® ByteBuffer buffer = ByteBuffer.wrap(\"cxk æ‰“ç¯®çƒ\".getBytes()); channel.write(buffer); æœåŠ¡ç«¯æ¡†æ¶ // è·å–ç½‘ç»œé€šé“ ServerSocketChannel serverSocketChannel = ServerSocketChannel.open(); // è·å–é€‰æ‹©å™¨ Selector selector = Selector.open(); // ç»‘å®šç«¯å£ serverSocketChannel.bind(new InetSocketAddress(1999)); // è®¾ç½®ä¸ºéé˜»å¡æ–¹å¼(acceptæ—¶ä¸é˜»å¡) serverSocketChannel.configureBlocking(false); // æ³¨å†Œé€‰æ‹©å™¨ï¼Œè®©é€‰æ‹©å™¨ç›‘å¬è¿æ¥äº‹ä»¶ serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT); while (true) { // æ¯2000msè½®è¯¢ä¸€æ¬¡ï¼Œselectè¿”å›çš„ç»“æœæ˜¯å®¢æˆ·æ•° if (selector.select(2000) == 0){ System.out.println(\"ç­‰å¾…å®¢æˆ·è¿æ¥\"); continue; } // è·å–å‡†å¤‡è¿æ¥çš„æ‰€æœ‰å®¢æˆ· Iterator iterator = selector.selectedKeys().iterator(); while (iterator.hasNext()){ SelectionKey key = iterator.next(); if (key.isAcceptable()){ // å®¢æˆ·ç«¯è¿æ¥äº‹ä»¶ System.out.println(\"å®¢æˆ·ç«¯è¿æ¥\"); SocketChannel socketChannel = serverSocketChannel.accept(); socketChannel.configureBlocking(false); // è¯»å–å®¢æˆ·ç«¯æ•°æ®æ—¶ä¸ä¼šé˜»å¡ socketChannel.register(selector,SelectionKey.OP_READ, ByteBuffer.allocate(1024)); } if (key.isReadable()){ // è¯»å–å®¢æˆ·ç«¯æ•°æ®äº‹ä»¶ SocketChannel channel = (SocketChannel) key.channel(); ByteBuffer buffer = (ByteBuffer) key.attachment(); channel.read(buffer); System.out.println(\"å®¢æˆ·ç«¯å‘æ¥æ•°æ®:\"+new String(buffer.array())); } // åˆ é™¤å®¢æˆ·keyï¼Œé˜²æ­¢é‡å¤å¤„ç† iterator.remove(); } } ç³»ç»Ÿå±‚é¢çš„NIO BIOæ¨¡å‹ socket=3 bind(3,port) listen(3) accept(3)=block|5 recv(5)=block|data å¼Šç«¯ï¼šæ¯è¿æ¥ä¸€çº¿ç¨‹ åŒæ­¥éé˜»å¡ NIO fcntl å¼€å¯éé˜»å¡ ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å¤„ç†Nä¸ªè¿æ¥è¯»å†™ æ¯æ¬¡å¾ªç¯ä¼šå‘ç”Ÿå¤§é‡æ— ç”¨çš„ç³»ç»Ÿè°ƒç”¨ å¤šè·¯å¤ç”¨å™¨ åŒæ­¥IOæ¨¡å‹ (select, pselect)ï¼š ä¼ å…¥fdåˆ—è¡¨ï¼Œå†…æ ¸è¿”å›å‡†å¤‡å¥½çš„fdåˆ—è¡¨ åœ¨ç”¨æˆ·ç©ºé—´å¯¹fdè½®è¯¢ å¼Šç«¯ï¼šéœ€è¦åœ¨å†…æ ¸ä¸ç”¨æˆ·ç©ºé—´ä¹‹é—´æ‹·è´fd å¤šè·¯å¤ç”¨ æ— éœ€å†æ‹·è´fdï¼š è°ƒç”¨epoll_createåˆ›å»ºä¸€ä¸ªfdæŒ‡å‘å…±äº«ç©ºé—´ å°†å®¢æˆ·ç«¯fdå­˜æ”¾åœ¨å…±äº«ç©ºé—´ ä½¿ç”¨ epoll_ctl_add epoll_ctl_mod epoll_ctl_del ä½¿ç”¨epoll_waitä¼šè¿”å›å¯ç”¨fdåˆ—è¡¨ ç¨‹åºå†å¯¹fdåˆ—è¡¨æ“ä½œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-28 06:48:29 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/ç½‘ç»œçˆ¬è™«.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/ç½‘ç»œçˆ¬è™«.html","title":"ç½‘ç»œçˆ¬è™«","keywords":"","body":" ç½‘ç»œçˆ¬è™«ï¼Œæ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œè‡ªåŠ¨åœ°æŠ“å–ä¸‡ç»´ç½‘ä¿¡æ¯çš„ç¨‹åºæˆ–è€…è„šæœ¬ã€‚å¦å¤–ä¸€äº›ä¸å¸¸ä½¿ç”¨çš„åå­—è¿˜æœ‰èš‚èšã€è‡ªåŠ¨ç´¢å¼•ã€æ¨¡æ‹Ÿç¨‹åºæˆ–è€…è •è™«ã€‚ HttpClient Getè¯·æ±‚ HttpGet get = new HttpGet(\"http://www.baidu.com\"); try (CloseableHttpClient client = HttpClients.createDefault(); CloseableHttpResponse response = client.execute(get)) { String s = EntityUtils.toString(response.getEntity(), \"utf8\"); System.out.println(s); } è®¾ç½®å‚æ•° URIBuilder uriBuilder = new URIBuilder(\"http://www.baidu.com/s\").addParameter(\"wd\", \"å…³é”®è¯\"); HttpGet get = new HttpGet(uriBuilder.build()); POSTè¯·æ±‚ var request = new HttpPost(\"http://example\"); var pairs = List.of(new BasicNameValuePair(\"keys\", \"java\"), new BasicNameValuePair(\"keys\", \"python\")); UrlEncodedFormEntity entity = new UrlEncodedFormEntity(pairs, \"utf8\"); request.setEntity(entity); è¿æ¥æ±  PoolingHttpClientConnectionManager manager = new PoolingHttpClientConnectionManager(); // æœ€å¤§è¿æ¥æ•° manager.setMaxTotal(100); // æ¯ä¸ªä¸»æœºæœ€å¤§è¿æ¥æ•° manager.setDefaultMaxPerRoute(10); CloseableHttpClient client = HttpClients.custom().setConnectionManager(manager).build(); è¯·æ±‚å‚æ•° RequestConfig config = RequestConfig.custom().setConnectTimeout(1000) // è·å–è¿æ¥çš„æœ€é•¿æ—¶é—´ï¼Œå•ä½ms .setConnectionRequestTimeout(500) // è·å–è¿æ¥çš„æœ€é•¿æ—¶é—´ .setSocketTimeout(10000).build(); // ä¼ è¾“æ•°æ®æœ€é•¿æ—¶é—´ HttpGet get = new HttpGet(); get.setConfig(config); Jsoup DOM Document doc = Jsoup.parse(new URL(\"http://www.baidu.com\"), 10000); doc.getElementByXXX(); å…ƒç´ API Element e = doc.getElementById(\"login\"); System.out.println(e.id()); System.out.println(e.className()); System.out.println(e.classNames()); System.out.println(e.text()); System.out.println(e.attr(\"style\")); System.out.println(e.attributes()); ä½¿ç”¨CSSé€‰æ‹©å™¨ doc.select(\"div\") .forEach(System.out::println); WebMagic ä½¿ç”¨ å®ç°PageProcessor public class JobProcessor implements PageProcessor { private Site site = Site.me().addHeader(\"User-Agent\",\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36\"); @Override public void process(Page page) { page.putField(\"div1\",page.getHtml().css(\"#logo-2014\").get()); page.putField(\"div2\",page.getHtml().xpath(\"//div\").get()); } @Override public Site getSite() { return site; } } è¿è¡Œ Spider.create(new JobProcessor()) .addUrl(\"https://search.jd.com/Search?keyword=%E6%89%8B%E6%9C%BA&enc=utf-8&wq=%E6%89%8B%E6%9C%BA&pvid=9524dc8e0e2d45f08656f023fa60a0de\") .run(); å…ƒç´ æŠ½å– XPath Regex CSS page.putField(\"div1\",page.getHtml().css(\"#logo-2014\").get()); // è·å–ä¸€æ¡ page.putField(\"div2\",page.getHtml().xpath(\"//div[@id=logo-2014]\").all()); // è·å–å…¨éƒ¨ è·å–é“¾æ¥ page.getHtml().links() é€’å½’è®¿é—® page.addTargetRequests(page.getHtml().links().all()); è¾“å‡ºæ•°æ® PipeLine Spider.create(new JobProcessor()) .addUrl(\"url\") .addPipeline(new FilePipeline(\"./result.txt\")) .run(); Site Scheduler ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ Spider.create(null) .setScheduler(new QueueScheduler().setDuplicateRemover(new BloomFilterDuplicateRemover(100000))); ä¸‰ç§å»é‡æ–¹å¼ HashSet Redis å¸ƒéš†è¿‡æ»¤å™¨ æ–‡æ¡£ çˆ¬è™«åˆ†ç±» é€šç”¨ èšç„¦ å¢é‡å¼ æ·±å±‚ç½‘ç»œ ç½‘é¡µå»é‡ simhash æµ·æ˜è·ç¦» åœ¨ä¿¡æ¯ç¼–ç ä¸­ï¼Œä¸¤ä¸ªåˆæ³•ä»£ç å¯¹åº”ä½ä¸Šç¼–ç ä¸åŒçš„ä½æ•°ç§°ä¸ºç è·ï¼Œåˆç§°æµ·æ˜è·ç¦»ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š10101å’Œ00110ä»ç¬¬ä¸€ä½å¼€å§‹ä¾æ¬¡æœ‰ç¬¬ä¸€ä½ã€ç¬¬å››ã€ç¬¬äº”ä½ä¸åŒï¼Œåˆ™æµ·æ˜è·ç¦»ä¸º3 ä½¿ç”¨ä»£ç† downloader.setProxyProvider(new SimpleProxyProvider(List.of(new Proxy(\"116.114.19.211\",443)))); Spider.create(new ProxyProcessor()) .addUrl(\"http://ip-api.com/json/?lang=zh-CN\") .setDownloader(downloader) .run(); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/netty.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/netty.html","title":"Netty","keywords":"","body":"Netty Nettyæ˜¯ç”±JBOSSæä¾›çš„ä¸€ä¸ªjavaå¼€æºæ¡†æ¶ã€‚Nettyæä¾›å¼‚æ­¥çš„ã€äº‹ä»¶é©±åŠ¨çš„ç½‘ç»œåº”ç”¨ç¨‹åºæ¡†æ¶å’Œå·¥å…·ï¼Œç”¨ä»¥å¿«é€Ÿå¼€å‘é«˜æ€§èƒ½ã€é«˜å¯é æ€§çš„ç½‘ç»œæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ç¨‹åºã€‚ ä½¿ç”¨åœºæ™¯ é«˜æ€§èƒ½é¢†åŸŸ å¤šçº¿ç¨‹å¹¶å‘é¢†åŸŸ å¼‚æ­¥é€šä¿¡é¢†åŸŸ Reactoræ¨¡å‹ å¤šçº¿ç¨‹æ¨¡å‹ ä¸€ä¸ªæ¥æ”¶çº¿ç¨‹ï¼Œå¤šä¸ªå¤„ç†çº¿ç¨‹ Reactorä¸»ä»å¤šçº¿ç¨‹æ¨¡å‹ å¤„ç†é«˜å¹¶å‘ ä¸€ç»„çº¿ç¨‹æ¥æ”¶è¯·æ±‚ï¼Œä¸€ç»„çº¿ç¨‹å¤„ç†IO æ ¸å¿ƒAPI å¤„ç†æµå¼ä¼ è¾“ æ•°æ®é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œæœ€ç»ˆä¼šç¼“å­˜åœ¨ä¸€ä¸ªå­—èŠ‚æ•°ç»„é‡Œ æ‰€ä»¥å°±ä¼šå¯èƒ½å‡ºç°ä¼ è¾“ï¼š æ¥æ”¶ï¼š è§£å†³æ–¹æ¡ˆ1 åˆ›å»ºä¸€ä¸ªç¼“å†²åŒºï¼Œæ¯æ¬¡æ•°æ®åˆ°æ¥æ—¶ï¼Œå°†æ•°æ®æ”¾å…¥åˆ°ç¼“å†²åŒºï¼Œå¦‚æœç¼“å†²åŒºè¶…è¿‡ä¸€å®šå¤§å° åˆ™å°±è¿›è¡Œå¤„ç† public class TimeClientHandler extends ChannelInboundHandlerAdapter { private ByteBuf buf; @Override public void channelRead(ChannelHandlerContext ctx, Object msg) { ByteBuf m = (ByteBuf) msg; buf.writeBytes(m); // (2) m.release(); if (buf.readableBytes() >= 4) { // (3) long currentTimeMillis = (buf.readUnsignedInt() - 2208988800L) * 1000L; System.out.println(new Date(currentTimeMillis)); ctx.close(); } } } è§£å†³æ–¹æ¡ˆ2 ä½¿ç”¨è§£ç å™¨ public class TimeDecoder extends ByteToMessageDecoder { @Override protected void decode(ChannelHandlerContext ctx, ByteBuf in, List out) throws Exception { // å¦‚æœç¼“å†²åŒºæ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®ï¼Œä¸è¿›è¡Œå¤„ç†ï¼Œåªæœ‰ç¼“å†²åŒºç´¯ç§¯ä¸€å®šçš„æ•°æ®æ—¶ï¼Œæ‰å°†æ•°æ®æ·»åŠ åˆ°out if (in.readableBytes() b.handler(new ChannelInitializer() { @Override public void initChannel(SocketChannel ch) throws Exception { ch.pipeline().addLast(new TimeDecoder(),new TimeClientHandler()); } }); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-09 04:37:24 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/æ¦‚å¿µåŠä½“ç³»ç»“æ„.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/æ¦‚å¿µåŠä½“ç³»ç»“æ„.html","title":"æ¦‚å¿µåŠä½“ç³»ç»“æ„","keywords":"","body":"æ¦‚å¿µåŠä½“ç³»ç»“æ„ JAVAç½‘ç»œç¼–ç¨‹ BIO åŒæ­¥é˜»å¡IO ä¼ªå¼‚æ­¥IO NIO åŒæ­¥éé˜»å¡IO AIO å¼‚æ­¥éé˜»å¡IO ç‰¹æ€§ éé˜»å¡ç½‘ç»œè°ƒç”¨ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä¸å¿…ç­‰å¾…ä¸€ä¸ªæ“ä½œçš„å®Œæˆã€‚å®Œå…¨å¼‚æ­¥çš„I/Oæ­£æ˜¯åŸºäºè¿™ä¸ªç‰¹æ€§æ„å»ºçš„ï¼Œå¹¶ä¸”æ›´è¿›ä¸€æ­¥ï¼šå¼‚æ­¥æ–¹æ³•ä¼šç«‹å³è¿”å›ï¼Œå¹¶ä¸”åœ¨å®ƒå®Œæˆæ—¶ï¼Œä¼šç›´æ¥æˆ–è€…åœ¨ç¨åçš„æŸä¸ªæ—¶é—´ç‚¹é€šçŸ¥ç”¨æˆ·ã€‚ é€‰æ‹©å™¨ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡è¾ƒå°‘çš„çº¿ç¨‹ä¾¿å¯ç›‘è§†è®¸å¤šè¿æ¥ä¸Šçš„äº‹ä»¶ã€‚ é˜»å¡ä¸éé˜»å¡ é˜»å¡å’Œéé˜»å¡å…³æ³¨çš„æ˜¯ç¨‹åºåœ¨ç­‰å¾…è°ƒç”¨ç»“æœï¼ˆæ¶ˆæ¯ï¼Œè¿”å›å€¼ï¼‰æ—¶çš„çŠ¶æ€ é˜»å¡è°ƒç”¨æ˜¯æŒ‡è°ƒç”¨ç»“æœè¿”å›ä¹‹å‰ï¼Œå½“å‰çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ã€‚è°ƒç”¨çº¿ç¨‹åªæœ‰åœ¨å¾—åˆ°ç»“æœä¹‹åæ‰ä¼šè¿”å›ã€‚ éé˜»å¡è°ƒç”¨æŒ‡åœ¨ä¸èƒ½ç«‹åˆ»å¾—åˆ°ç»“æœä¹‹å‰ï¼Œè¯¥è°ƒç”¨ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ åŒæ­¥ä¸å¼‚æ­¥ åŒæ­¥å’Œå¼‚æ­¥å…³æ³¨çš„æ˜¯æ¶ˆæ¯é€šä¿¡æœºåˆ¶ æ‰€è°“åŒæ­¥ï¼Œå°±æ˜¯åœ¨å‘å‡ºä¸€ä¸ªè°ƒç”¨æ—¶ï¼Œåœ¨æ²¡æœ‰å¾—åˆ°ç»“æœä¹‹å‰ï¼Œè¯¥è°ƒç”¨å°±ä¸è¿”å›ã€‚ä½†æ˜¯ä¸€æ—¦è°ƒç”¨è¿”å›ï¼Œå°±å¾—åˆ°è¿”å›å€¼äº†ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç”±è°ƒç”¨è€…ä¸»åŠ¨ç­‰å¾…è¿™ä¸ªè°ƒç”¨çš„ç»“æœã€‚ è€Œå¼‚æ­¥åˆ™æ˜¯ç›¸åï¼Œè°ƒç”¨åœ¨å‘å‡ºä¹‹åï¼Œè¿™ä¸ªè°ƒç”¨å°±ç›´æ¥è¿”å›äº†ï¼Œæ‰€ä»¥æ²¡æœ‰è¿”å›ç»“æœã€‚æ¢å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªå¼‚æ­¥è¿‡ç¨‹è°ƒç”¨å‘å‡ºåï¼Œè°ƒç”¨è€…ä¸ä¼šç«‹åˆ»å¾—åˆ°ç»“æœã€‚è€Œæ˜¯åœ¨è°ƒç”¨å‘å‡ºåï¼Œè¢«è°ƒç”¨è€…é€šè¿‡çŠ¶æ€ã€é€šçŸ¥æ¥é€šçŸ¥è°ƒç”¨è€…ï¼Œæˆ–é€šè¿‡å›è°ƒå‡½æ•°å¤„ç†è¿™ä¸ªè°ƒç”¨ æ ¸å¿ƒç»„ä»¶ å›è°ƒ nettyä½¿ç”¨å›è°ƒæ¥å°†äº‹ä»¶å¤„ç†äº¤ç»™ç¨‹åº Future nettyçš„å®ç°ï¼šChannelFuture ChannelFutureListener å›è°ƒçš„æ›´ç²¾ç»†ç‰ˆæœ¬ äº‹ä»¶ä¸ChannelHandler ç»„ä»¶å’Œè®¾è®¡ Channel å®ƒä»£è¡¨ä¸€ä¸ªåˆ°å®ä½“ï¼ˆå¦‚ä¸€ä¸ªç¡¬ä»¶è®¾å¤‡ã€ä¸€ä¸ªæ–‡ä»¶ã€ä¸€ä¸ªç½‘ç»œå¥—æ¥å­—æˆ–è€…ä¸€ä¸ªèƒ½å¤Ÿæ‰§è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ªä¸åŒçš„I/Oæ“ä½œçš„ç¨‹åºç»„ä»¶ï¼‰çš„å¼€æ”¾è¿æ¥ï¼Œå¦‚è¯»æ“ä½œå’Œå†™æ“ä½œ EmbeddedChannelï¼› LocalServerChannelï¼› NioDatagramChannelï¼› NioSctpChannelï¼› NioSocketChannelã€‚ EventLoop ä¸€ä¸ªEventLoopåœ¨å®ƒçš„ç”Ÿå‘½å‘¨æœŸå†…åªå’Œä¸€ä¸ªThreadç»‘å®š è¿™ä¸ªThreadä¼šå¤„ç†EventLoopæ‰€æœ‰çš„IOäº‹ä»¶ ä¸€ä¸ªChannelå¯¹åº”ä¸€ä¸ªEventLoop ä¸€ä¸ªEventLoopæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªChannel ChannelFuture æä¾›äº†å¦ä¸€ç§åœ¨æ“ä½œå®Œæˆæ—¶é€šçŸ¥åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚è¿™ä¸ªå¯¹è±¡å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœçš„å ä½ç¬¦ï¼›å®ƒå°†åœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»å®Œæˆï¼Œå¹¶æä¾›å¯¹å…¶ç»“æœçš„è®¿é—®ã€‚ å±äºåŒä¸€ä¸ªChannelçš„æ“ä½œéƒ½èƒ½ä¿è¯æŒ‰è°ƒç”¨çš„é¡ºåºæ‰§è¡Œ ChannelHandler ChannelHandler ä¸º Netty ä¸­æœ€æ ¸å¿ƒçš„ç»„ä»¶ï¼Œå®ƒå……å½“äº†æ‰€æœ‰å¤„ç†å…¥ç«™å’Œå‡ºç«™æ•°æ®çš„åº”ç”¨ç¨‹åºé€»è¾‘çš„å®¹å™¨ã€‚ChannelHandler ä¸»è¦ç”¨æ¥å¤„ç†å„ç§äº‹ä»¶ï¼Œè¿™é‡Œçš„äº‹ä»¶å¾ˆå¹¿æ³›ï¼Œæ¯”å¦‚å¯ä»¥æ˜¯è¿æ¥ã€æ•°æ®æ¥æ”¶ã€å¼‚å¸¸ã€æ•°æ®è½¬æ¢ç­‰ ChannelInboundHandler ChannelPipeline ChannelPipeline ä¸º ChannelHandler é“¾æä¾›äº†ä¸€ä¸ªå®¹å™¨å¹¶å®šä¹‰äº†ç”¨äºæ²¿ç€é“¾ä¼ æ’­å…¥ç«™å’Œå‡ºç«™äº‹ä»¶æµçš„ API åœ¨nettyä¸­ï¼Œæœ‰ä¸¤ç§æ¶ˆæ¯å‘é€æ–¹å¼ Channel: æ¶ˆæ¯ä¼šä»å¤´å¼€å§‹ä¼ é€’ ChannelHandlerContext æ¶ˆæ¯ä¼šä»æŸä¸€ä¸ªHandlerå¼€å§‹ä¼ é€’ ç¼–ç å™¨è§£ç å™¨ xxxDecoder xxxEncoder ServerBootStrap ä½¿ç”¨æœåŠ¡å™¨çš„ServerBootStrapï¼Œç”¨äºæ¥å—å®¢æˆ·ç«¯çš„è¿æ¥ä»¥åŠä¸ºå·²æ¥å—çš„è¿æ¥åˆ›å»ºå­é€šé“ã€‚ ç”¨äºå®¢æˆ·ç«¯çš„BootStrapï¼Œä¸æ¥å—æ–°çš„è¿æ¥ï¼Œå¹¶ä¸”æ˜¯åœ¨çˆ¶é€šé“ç±»å®Œæˆä¸€äº›æ“ä½œã€‚ Serverç«¯éœ€è¦ä¸¤ç»„EventLoop å¼‚å¸¸å¤„ç† å…¥ç«™å¼‚å¸¸ ChannelHnadler.exceptionCaught å‡ºç«™å¼‚å¸¸ ChannelFutureListener ChannelFuture çº¿ç¨‹æ¨¡å‹ çº¿ç¨‹æ¨¡å‹ç¡®å®šäº†ä»£ç çš„æ‰§è¡Œæ–¹å¼ çº¿ç¨‹æ± æ¨¡å‹ ä¸èƒ½æ¶ˆé™¤ç”±ä¸Šä¸‹æ–‡åˆ‡æ¢æ‰€å¸¦æ¥çš„å¼€é”€ EventLoop for (;;) { Runnable task = takeTask(); if (task != null) { task.run(); updateLastExecutionTime(); } if (confirmShutdown()) { break; } } ä¸€ä¸ªEventLoop ç”± æ°¸è¿œéƒ½ä¸ä¼šå˜åŠ¨çš„ä¸€ä¸ª Thread é©±åŠ¨ ä»»åŠ¡è°ƒåº¦ JDKè‡ªå¸¦çš„ScheduleExecutorService netty è‡ªå¸¦çš„è°ƒåº¦ Channel ch = ... ScheduledFuture future = ch.eventLoop().schedule( â† -- åˆ›å»ºä¸€ä¸ªRunnableä»¥ä¾›è°ƒåº¦ç¨åæ‰§è¡Œ ã€€ã€€new Runnable() { ã€€ã€€@Override ã€€ã€€public void run() { â† -- è¦æ‰§è¡Œçš„ä»£ç  ã€€ã€€ã€€ã€€System.out.println(\"60 seconds later\");ã€€ ã€€ã€€} }, 60, TimeUnit.SECONDS);ã€€ â† -- è°ƒåº¦ä»»åŠ¡åœ¨ä»ç°åœ¨å¼€å§‹çš„60 ç§’ä¹‹åæ‰§è¡Œ çº¿ç¨‹ç®¡ç† æ‰€ä»¥ä¸€å®šä¸èƒ½å°†ä¸€ä¸ªé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡æ”¾å…¥åˆ°æ‰§è¡Œé˜Ÿåˆ—ä¸­ å¦åˆ™EventLoopä¼šè¢«é˜»å¡ çº¿ç¨‹åˆ†é… å¼‚æ­¥ä¼ è¾“ é˜»å¡ä¼ è¾“ å•å…ƒæµ‹è¯• EmbeddedChannel EmbeddedChannel channel = new EmbeddedChannel(new EchoServerHandler()); channel.writeInbound(\"hello\"); // å…¥ç«™æ•°æ® assertTrue(channel.finish()); // æ ‡è®°ä¸ºå®Œæˆ String outData = channel.readOutbound(); // å‡ºç«™æ•°æ® assertEquals(\"hello\",outData); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-10 02:25:17 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/ä¼ è¾“.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/ä¼ è¾“.html","title":"ä¼ è¾“","keywords":"","body":"ä¼  API æ ¸å¿ƒæ˜¯ Channel Channelçš„æ–¹æ³• æ–¹ã€€æ³•ã€€å æã€€ã€€è¿° eventLoop è¿”å›åˆ†é…ç»™Channelçš„EventLoop pipeline è¿”å›åˆ†é…ç»™Channelçš„ChannelPipeline isActive å¦‚æœChannelæ˜¯æ´»åŠ¨çš„ï¼Œåˆ™è¿”å›trueã€‚æ´»åŠ¨çš„æ„ä¹‰å¯èƒ½ä¾èµ–äºåº•å±‚çš„ä¼ è¾“ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªSocketä¼ è¾“ä¸€æ—¦è¿æ¥åˆ°äº†è¿œç¨‹èŠ‚ç‚¹ä¾¿æ˜¯æ´»åŠ¨çš„ï¼Œè€Œä¸€ä¸ªDatagramä¼ è¾“ä¸€æ—¦è¢«æ‰“å¼€ä¾¿æ˜¯æ´»åŠ¨çš„ localAddress è¿”å›æœ¬åœ°çš„SocketAddress remoteAddress è¿”å›è¿œç¨‹çš„SocketAddress write å°†æ•°æ®å†™åˆ°è¿œç¨‹èŠ‚ç‚¹ã€‚è¿™ä¸ªæ•°æ®å°†è¢«ä¼ é€’ç»™ChannelPipelineï¼Œå¹¶ä¸”æ’é˜Ÿç›´åˆ°å®ƒè¢«flush flush å°†ä¹‹å‰å·²å†™çš„æ•°æ®åˆ·æ–°åˆ°åº•å±‚ä¼ è¾“ï¼Œå¦‚ä¸€ä¸ªSocket writeAndFlush ä¸€ä¸ªç®€ä¾¿çš„æ–¹æ³•ï¼Œç­‰åŒäºè°ƒç”¨write()å¹¶æ¥ç€è°ƒç”¨flush() Channel æ˜¯çº¿ç¨‹å®‰å…¨çš„ å†…ç½®çš„ä¼ è¾“ åã€€ã€€ç§° åŒ… æã€€ã€€è¿° NIO io.netty.channel.socket.nio ä½¿ç”¨java.nio.channelsåŒ…ä½œä¸ºåŸºç¡€â€”â€”åŸºäºé€‰æ‹©å™¨çš„æ–¹å¼ Epoll[1] io.netty.channel.epoll ç”±JNIé©±åŠ¨çš„epoll()å’Œéé˜»å¡IOã€‚è¿™ä¸ªä¼ è¾“æ”¯æŒåªæœ‰åœ¨Linuxä¸Šå¯ç”¨çš„å¤šç§ç‰¹æ€§ï¼Œå¦‚SO_REUSEPORTï¼Œæ¯”NIOä¼ è¾“æ›´å¿«ï¼Œè€Œä¸”æ˜¯å®Œå…¨éé˜»å¡çš„ OIO io.netty.channel.socket.oio ä½¿ç”¨java.netåŒ…ä½œä¸ºåŸºç¡€â€”â€”ä½¿ç”¨é˜»å¡æµ Local io.netty.channel.local å¯ä»¥åœ¨VMå†…éƒ¨é€šè¿‡ç®¡é“è¿›è¡Œé€šä¿¡çš„æœ¬åœ°ä¼ è¾“ Embedded io.netty.channel.embedded Embeddedä¼ è¾“ï¼Œå…è®¸ä½¿ç”¨ChannelHandlerè€Œåˆä¸éœ€è¦ä¸€ä¸ªçœŸæ­£çš„åŸºäºç½‘ç»œçš„ä¼ è¾“ã€‚è¿™åœ¨æµ‹è¯•ä½ çš„ChannelHandlerå®ç°æ—¶éå¸¸æœ‰ç”¨ NIO Epoll è¯¥ä¼ è¾“çš„è¯­ä¹‰åŒNIO å¦‚æœè¦ä½¿ç”¨è¯¥ä¼ è¾“ åªéœ€è¦å°† EventLoop ä¸­çš„ NioServerSocketChannel æ›¿æ¢ä¸º EpollServerSocketChannelå³å¯ OIO Local æ²¡æœ‰ç»‘å®šç‰©ç†ç½‘ç»œåœ°å€ Embedded å¯ä»¥å°†ä¸€ç»„ChannelHandler åµŒå…¥åˆ° å…¶ä»– ChannelHandlerå†…éƒ¨ åœºæ™¯ åº”ç”¨ç¨‹åºçš„éœ€æ±‚ æ¨èçš„ä¼ è¾“ éé˜»å¡ä»£ç åº“æˆ–è€…ä¸€ä¸ªå¸¸è§„çš„èµ·ç‚¹ NIOï¼ˆæˆ–è€…åœ¨Linuxä¸Šä½¿ç”¨epollï¼‰ é˜»å¡ä»£ç åº“ OIO åœ¨åŒä¸€ä¸ªJVMå†…éƒ¨çš„é€šä¿¡ Local æµ‹è¯•ChannelHandlerçš„å®ç° Embedded MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-12 02:00:56 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/ByteBuf.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/ByteBuf.html","title":"ByteBuf","keywords":"","body":"ByteBuf æ•°æ®å®¹å™¨ å¯ä»¥è¿›è¡Œæ‰©å±• é›¶æ‹·è´ å®¹é‡æŒ‰éœ€å¢é•¿ è¯»å†™åˆ‡æ¢ä¸éœ€è¦è°ƒç”¨flip è¯»å†™ä½¿ç”¨ä¸åŒç´¢å¼• æ–¹æ³•é“¾å¼è°ƒç”¨ å¼•ç”¨è®¡æ•° æ± åŒ– ä½¿ç”¨æ¨¡å¼ å †ç¼“å†²åŒº ByteBufå°†æ•°æ®å­˜å‚¨åœ¨JVMçš„å †ç©ºé—´ä¸­ ByteBuf heapBuf = ...; if (heapBuf.hasArray()) { â† -- æ£€æŸ¥ByteBuf æ˜¯å¦æœ‰ä¸€ä¸ªæ”¯æ’‘æ•°ç»„ ã€€ã€€byte[] array = heapBuf.array(); â† -- å¦‚æœæœ‰ï¼Œåˆ™è·å–å¯¹è¯¥æ•°ç»„çš„å¼•ç”¨ã€€ ã€€ã€€int offset = heapBuf.arrayOffset() + heapBuf.readerIndex(); â† -- è®¡ç®—ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åç§»é‡ã€‚ ã€€ã€€int length = heapBuf.readableBytes();ã€€ â† -- è·å¾—å¯è¯»å­—èŠ‚æ•° ã€€ã€€handleArray(array, offset, length);ã€€ â† -- ä½¿ç”¨æ•°ç»„ã€åç§»é‡å’Œé•¿åº¦ä½œä¸ºå‚æ•°è°ƒç”¨ä½ çš„æ–¹æ³• } ç›´æ¥ç¼“å†²åŒº è¿™ç§æ¨¡å¼ä¸‹çš„ByteBufæ”¯æŒé€šè¿‡æœ¬åœ°è°ƒç”¨åˆ†é…å†…å­˜ æ‰€ä»¥ç›´æ¥ç¼“å†²åŒºçš„æ•°æ®åœ¨å †å¤–ï¼Œä¸ä¼šè¢«GCå¤„ç† ByteBuf directBuf = ...; if (!directBuf.hasArray()) { â† -- æ£€æŸ¥ByteBuf æ˜¯å¦ç”±æ•°ç»„æ”¯æ’‘ã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™è¿™æ˜¯ä¸€ä¸ªç›´æ¥ç¼“å†²åŒº ã€€ã€€int length = directBuf.readableBytes(); â† -- è·å–å¯è¯»å­—èŠ‚æ•° ã€€ã€€byte[] array = new byte[length];ã€€ â† -- åˆ†é…ä¸€ä¸ªæ–°çš„æ•°ç»„æ¥ä¿å­˜å…·æœ‰è¯¥é•¿åº¦çš„å­—èŠ‚æ•°æ®ã€€ã€€ ã€€ã€€directBuf.getBytes(directBuf.readerIndex(), array); â† -- å°†å­—èŠ‚å¤åˆ¶åˆ°è¯¥æ•°ç»„ ã€€ã€€handleArray(array, 0, length); â† -- ä½¿ç”¨æ•°ç»„ã€åç§»é‡å’Œé•¿åº¦ä½œä¸ºå‚æ•°è°ƒç”¨ä½ çš„æ–¹æ³• } å¤åˆç¼“å†²åŒº è¿™ç§æ¨¡å¼ä¸‹å…è®¸å¤šä¸ªByteBufèšåˆèµ·æ¥ï¼Œæä¾›ä¸€ä¸ªByteBufæ•´ä½“è§†å›¾æ¥è¿›è¡Œæ“ä½œ å­—èŠ‚çº§æ“ä½œ éšæœºè®¿é—® ByteBuf buffer = ...; for (int i = 0; i ä¸ä¼šæ”¹å˜ç´¢å¼•çš„å€¼ é¡ºåºè®¿é—® è°ƒç”¨discardReadBytes()å¯ä»¥å›æ”¶å¯ä¸¢å¼ƒå­—èŠ‚çš„ç©ºé—´ è¯»å–æ‰€æœ‰æ•°æ® ByteBuf buffer = ...; while (buffer.isReadable()) { ã€€ã€€System.out.println(buffer.readByte()); } å†™å…¥æ•°æ® ByteBuf buffer = ...; while (buffer.writableBytes() >= 4) { ã€€ã€€buffer.writeInt(random.nextInt()); } ç´¢å¼•ç®¡ç† readerIndex(int)ï¼šè®¾ç½®è¯»ç´¢å¼•ä½ç½® writerIndex(int)ï¼š è®¾ç½®å†™ç´¢å¼•ä½ç½® clear()ï¼šå°†è¯»ç´¢å¼•å†™ç´¢å¼•é‡ç½®ä¸º0 æŸ¥æ‰¾ // æŸ¥æ‰¾å›è½¦ç¬¦(\\r) ByteBuf buffer = ...; int index = buffer.forEachByte(ByteBufProcessor.FIND_CR); æ´¾ç”Ÿç¼“å†²åŒº duplicate() slice() slice(int, int) Unpooled.unmodifiableBuffer(â€¦) order(ByteOrder) readSlice(int) copy() è¿™äº›æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ByteBufå®ä¾‹ è¯»/å†™ getå’Œsetæ“ä½œï¼Œä»ç»™å®šçš„ç´¢å¼•å¼€å§‹ï¼Œå¹¶ä¸”ä¿æŒç´¢å¼•ä¸å˜ï¼› readå’Œwriteæ“ä½œï¼Œä»ç»™å®šçš„ç´¢å¼•å¼€å§‹ï¼Œå¹¶ä¸”ä¼šæ ¹æ®å·²ç»è®¿é—®è¿‡çš„å­—èŠ‚æ•°å¯¹ç´¢å¼•è¿›è¡Œè°ƒæ•´ã€‚ å…¶ä»–æ“ä½œ åã€€ã€€ç§° æã€€ã€€è¿° isReadable() å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªå­—èŠ‚å¯ä¾›è¯»å–ï¼Œåˆ™è¿”å›true isWritable() å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªå­—èŠ‚å¯è¢«å†™å…¥ï¼Œåˆ™è¿”å›true readableBytes() è¿”å›å¯è¢«è¯»å–çš„å­—èŠ‚æ•° writableBytes() è¿”å›å¯è¢«å†™å…¥çš„å­—èŠ‚æ•° capacity() è¿”å›ByteBufå¯å®¹çº³çš„å­—èŠ‚æ•°ã€‚åœ¨æ­¤ä¹‹åï¼Œå®ƒä¼šå°è¯•å†æ¬¡æ‰©å±•ç›´ åˆ°è¾¾åˆ°maxCapacity() maxCapacity() è¿”å›ByteBufå¯ä»¥å®¹çº³çš„æœ€å¤§å­—èŠ‚æ•° hasArray() å¦‚æœByteBufç”±ä¸€ä¸ªå­—èŠ‚æ•°ç»„æ”¯æ’‘ï¼Œåˆ™è¿”å›true array() å¦‚æœ ByteBufç”±ä¸€ä¸ªå­—èŠ‚æ•°ç»„æ”¯æ’‘åˆ™è¿”å›è¯¥æ•°ç»„ï¼›å¦åˆ™ï¼Œå®ƒå°†æŠ›å‡ºä¸€ä¸ªUnsupportedOperationExceptionå¼‚å¸¸ ByteBufHolder æ”¯æŒç¼“å†²åŒºæ± åŒ– ä»æ± ä¸­å¤ç”¨ByteBuf åã€€ã€€ç§° æã€€ã€€è¿° content() è¿”å›ç”±è¿™ä¸ªByteBufHolderæ‰€æŒæœ‰çš„ByteBuf copy() è¿”å›è¿™ä¸ªByteBufHolderçš„ä¸€ä¸ªæ·±æ‹·è´ï¼ŒåŒ…æ‹¬ä¸€ä¸ªå…¶æ‰€åŒ…å«çš„ByteBufçš„éå…±äº«å‰¯æœ¬ duplicate() è¿”å›è¿™ä¸ªByteBufHolderçš„ä¸€ä¸ªæµ…æ‹·è´ï¼ŒåŒ…æ‹¬ä¸€ä¸ªå…¶æ‰€åŒ…å«çš„ByteBufçš„å…±äº«å‰¯æœ¬ ByteBufåˆ†é… ByteBufAllocator æ± åŒ– buffer è¿”å›åŸºäºå¯¹æˆ–è€…ç›´æ¥ç¼“å­˜å­˜å‚¨ headBuffer è¿”å›åŸºäºå †å†…å­˜ directBuffer è¿”å›åŸºäºç›´æ¥å†…å­˜ compositeBuffer ioBuffer è¿”å›å¥—æ¥å­—çš„IOæ“ä½œbuffer å®ç°ï¼š PooledByteBufAllocator æ± åŒ– UnpooledByteBufAllocator æ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°å®ä¾‹ Unpooledç¼“å†²åŒº æä¾›äº†ä¸€äº›é™æ€æ–¹æ³•æ¥åˆ›å»ºByteBufå®ä¾‹ ByteBufUtils hexdump ä»¥16è¿›åˆ¶æ‰“å°ç¼“å†²åŒº equals æ¯”è¾ƒä¸¤ä¸ªByteBuf å¼•ç”¨è®¡æ•° ByteBuf ä¸ ByteBufHolder éƒ½å®ç°äº†å¼•ç”¨è®¡æ•° boolean released = buffer.release(); â† -- å‡å°‘åˆ°è¯¥å¯¹è±¡çš„æ´»åŠ¨å¼•ç”¨ã€‚å½“å‡å°‘åˆ°0 æ—¶ï¼Œè¯¥å¯¹è±¡è¢«é‡Šæ”¾ï¼Œå¹¶ä¸”è¯¥æ–¹æ³•è¿”å›true è®¿é—®ä¸€ä¸ªå¼•ç”¨è®¡æ•°è¢«é‡Šæ”¾çš„å¯¹è±¡ ä¼šæŠ›å‡ºå¼‚å¸¸ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-12 02:00:56 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/Channelç›¸å…³.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/Channelç›¸å…³.html","title":"Channelç›¸å…³","keywords":"","body":"Channelç›¸å…³ Channel ç”Ÿå‘½å‘¨æœŸ çŠ¶ã€€ã€€æ€ æã€€ã€€è¿° ChannelUnregistered Channelå·²ç»è¢«åˆ›å»ºï¼Œä½†è¿˜æœªæ³¨å†Œåˆ°EventLoop ChannelRegistered Channelå·²ç»è¢«æ³¨å†Œåˆ°äº†EventLoop ChannelActive Channelå¤„äºæ´»åŠ¨çŠ¶æ€ï¼ˆå·²ç»è¿æ¥åˆ°å®ƒçš„è¿œç¨‹èŠ‚ç‚¹ï¼‰ã€‚å®ƒç°åœ¨å¯ä»¥æ¥æ”¶å’Œå‘é€æ•°æ®äº† ChannelInactive Channelæ²¡æœ‰è¿æ¥åˆ°è¿œç¨‹èŠ‚ç‚¹ ChannelHandler ç”Ÿå‘½å‘¨æœŸ ç±»ã€€ã€€å‹ æã€€ã€€è¿° handlerAdded å½“æŠŠChannelHandleræ·»åŠ åˆ°ChannelPipelineä¸­æ—¶è¢«è°ƒç”¨ handlerRemoved å½“ä»ChannelPipelineä¸­ç§»é™¤ChannelHandleræ—¶è¢«è°ƒç”¨ exceptionCaught å½“å¤„ç†è¿‡ç¨‹ä¸­åœ¨ChannelPipelineä¸­æœ‰é”™è¯¯äº§ç”Ÿæ—¶è¢«è°ƒç”¨ ChannelInboundHandler å…¥ç«™æ¶ˆæ¯æ“ä½œ ç±»ã€€ã€€å‹ æã€€ã€€è¿° channelRegistered å½“Channelå·²ç»æ³¨å†Œåˆ°å®ƒçš„EventLoopå¹¶ä¸”èƒ½å¤Ÿå¤„ç†I/Oæ—¶è¢«è°ƒç”¨ channelUnregistered å½“Channelä»å®ƒçš„EventLoopæ³¨é”€å¹¶ä¸”æ— æ³•å¤„ç†ä»»ä½•I/Oæ—¶è¢«è°ƒç”¨ channelActive å½“Channelå¤„äºæ´»åŠ¨çŠ¶æ€æ—¶è¢«è°ƒç”¨ï¼›Channelå·²ç»è¿æ¥/ç»‘å®šå¹¶ä¸”å·²ç»å°±ç»ª channelInactive å½“Channelç¦»å¼€æ´»åŠ¨çŠ¶æ€å¹¶ä¸”ä¸å†è¿æ¥å®ƒçš„è¿œç¨‹èŠ‚ç‚¹æ—¶è¢«è°ƒç”¨ channelReadComplete å½“Channelä¸Šçš„ä¸€ä¸ªè¯»æ“ä½œå®Œæˆæ—¶è¢«è°ƒç”¨[1] channelRead å½“ä»Channelè¯»å–æ•°æ®æ—¶è¢«è°ƒç”¨ ChannelWritabilityChanged å½“Channelçš„å¯å†™çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶è¢«è°ƒç”¨ã€‚ç”¨æˆ·å¯ä»¥ç¡®ä¿å†™æ“ä½œä¸ä¼šå®Œæˆå¾—å¤ªå¿«ï¼ˆä»¥é¿å…å‘ç”ŸOutOfMemoryErrorï¼‰æˆ–è€…å¯ä»¥åœ¨Channelå˜ä¸ºå†æ¬¡å¯å†™æ—¶æ¢å¤å†™å…¥ã€‚å¯ä»¥é€šè¿‡è°ƒç”¨Channelçš„isWritable()æ–¹æ³•æ¥æ£€æµ‹Channelçš„å¯å†™æ€§ã€‚ä¸å¯å†™æ€§ç›¸å…³çš„é˜ˆå€¼å¯ä»¥é€šè¿‡Channel.config(). setWriteHighWaterMark()å’ŒChannel.config().setWriteLowWater- Mark()æ–¹æ³•æ¥è®¾ç½® userEventTriggered å½“ChannelnboundHandler.fireUserEventTriggered()æ–¹æ³•è¢«è°ƒç”¨æ—¶è¢«è°ƒç”¨ï¼Œå› ä¸ºä¸€ä¸ªPOJOè¢«ä¼ ç»äº†ChannelPipeline éœ€è¦æ³¨æ„çš„æ˜¯ åœ¨channelReadæ–¹æ³•é‡Œé¢éœ€è¦æ˜¾å¼é‡Šæ”¾ByteBuf @Override public void channelRead(ChannelHandlerContext ctx, Object msg) { â† -- ä¸¢å¼ƒå·²æ¥æ”¶çš„æ¶ˆæ¯ ã€€ã€€ã€€ReferenceCountUtil.release(msg);ã€€ } SimpleChannelInboundHandler ä¼šè‡ªåŠ¨é‡Šæ”¾èµ„æº ChannelOutboundHandler å‡ºç«™æ¶ˆæ¯æ“ä½œ ç±»ã€€ã€€å‹ æã€€ã€€è¿° bind(ChannelHandlerContext, SocketAddress,ChannelPromise) å½“è¯·æ±‚å°†Channelç»‘å®šåˆ°æœ¬åœ°åœ°å€æ—¶è¢«è°ƒç”¨ connect(ChannelHandlerContext, SocketAddress,SocketAddress,ChannelPromise) å½“è¯·æ±‚å°†Channelè¿æ¥åˆ°è¿œç¨‹èŠ‚ç‚¹æ—¶è¢«è°ƒç”¨ disconnect(ChannelHandlerContext, ChannelPromise) å½“è¯·æ±‚å°†Channelä»è¿œç¨‹èŠ‚ç‚¹æ–­å¼€æ—¶è¢«è°ƒç”¨ close(ChannelHandlerContext,ChannelPromise) å½“è¯·æ±‚å…³é—­Channelæ—¶è¢«è°ƒç”¨ deregister(ChannelHandlerContext, ChannelPromise) å½“è¯·æ±‚å°†Channelä»å®ƒçš„EventLoopæ³¨é”€æ—¶è¢«è°ƒç”¨ read(ChannelHandlerContext) å½“è¯·æ±‚ä»Channelè¯»å–æ›´å¤šçš„æ•°æ®æ—¶è¢«è°ƒç”¨ flush(ChannelHandlerContext) å½“è¯·æ±‚é€šè¿‡Channelå°†å…¥é˜Ÿæ•°æ®å†²åˆ·åˆ°è¿œç¨‹èŠ‚ç‚¹æ—¶è¢«è°ƒç”¨ write(ChannelHandlerContext,Object,ChannelPromise) å½“è¯·æ±‚é€šè¿‡Channelå°†æ•°æ®å†™åˆ°è¿œç¨‹èŠ‚ç‚¹æ—¶è¢«è°ƒç”¨ ChannelHandlerAdapter ResourceLeakDetector é€šè¿‡åˆ†é…1%çš„é‡‡æ ·æ¥æ£€æµ‹å†…å­˜æ³„æ¼ ChannelPipeline æ‹¦æˆªæµç» Channel çš„å…¥ç«™å’Œå‡ºç«™æ—¶é—´çš„ChannelHandler ç¤ºä¾‹é“¾ ä¿®æ”¹ åã€€ã€€ç§° æã€€ã€€è¿° addFirst addBefore addAfter addLast å°†ä¸€ä¸ªChannelHandleræ·»åŠ åˆ°ChannelPipelineä¸­ remove å°†ä¸€ä¸ªChannelHandlerä»ChannelPipelineä¸­ç§»é™¤ replace å°†ChannelPipelineä¸­çš„ä¸€ä¸ªChannelHandleræ›¿æ¢ä¸ºå¦ä¸€ä¸ªChannel- Handler è®¿é—® ChannelHandler åã€€ã€€ç§° æã€€ã€€è¿° get é€šè¿‡ç±»å‹æˆ–è€…åç§°è¿”å›ChannelHandler context è¿”å›å’ŒChannelHandlerç»‘å®šçš„ChannelHandlerContext names è¿”å›ChannelPipelineä¸­æ‰€æœ‰ChannelHandlerçš„åç§° å‡ºå…¥ç«™äº‹ä»¶ ChannelHandlerContext ä»£è¡¨äº† ChannelHandler ä¸ ChannelPipeline ä¹‹é—´çš„å…³è” è¿™ä¸ªç±»æä¾›çš„ä¸€äº›è®¿é—®åœ¨ Channel ä¸ ChannelPipeline ä¸Šä¹Ÿæœ‰ ä½¿ç”¨è¯¥ç±»çš„ç›®çš„æ˜¯äº§ç”Ÿæ›´çŸ­çš„äº‹ä»¶æµä»¥åŠä¸ºäº†æ›´é«˜çš„æ€§èƒ½ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-12 02:00:56 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/å¼•å¯¼.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/å¼•å¯¼.html","title":"å¼•å¯¼","keywords":"","body":"å¼•å¯¼ Bootstrap å®¢æˆ·ç«¯ åã€€ã€€ç§° æã€€ã€€è¿° Bootstrap group(EventLoopGroup) è®¾ç½®ç”¨äºå¤„ç†Channelæ‰€æœ‰äº‹ä»¶çš„EventLoopGroup Bootstrap channel( ã€€ã€€Class) Bootstrap channelFactory( ã€€ã€€ChannelFactory) channel()æ–¹æ³•æŒ‡å®šäº†Channelçš„å®ç°ç±»ã€‚å¦‚æœè¯¥å®ç°ç±»æ²¡æä¾›é»˜è®¤çš„æ„é€ å‡½æ•°[7]ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨channel- Factory()æ–¹æ³•æ¥æŒ‡å®šä¸€ä¸ªå·¥å‚ç±»ï¼Œå®ƒå°†ä¼šè¢«bind()æ–¹æ³•è°ƒç”¨ Bootstrap localAddress( ã€€ã€€SocketAddress) æŒ‡å®šChannelåº”è¯¥ç»‘å®šåˆ°çš„æœ¬åœ°åœ°å€ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™å°†ç”±æ“ä½œç³»ç»Ÿåˆ›å»ºä¸€ä¸ªéšæœºçš„åœ°å€ã€‚æˆ–è€…ï¼Œä¹Ÿå¯ä»¥é€šè¿‡bind()æˆ–è€…connect()æ–¹æ³•æŒ‡å®šlocalAddress Bootstrap option( ã€€ã€€ChannelOption option, ã€€ã€€T value) è®¾ç½®ChannelOptionï¼Œå…¶å°†è¢«åº”ç”¨åˆ°æ¯ä¸ªæ–°åˆ›å»ºçš„Channelçš„ChannelConfigã€‚è¿™äº›é€‰é¡¹å°†ä¼šé€šè¿‡bind()æˆ–è€…connect()æ–¹æ³•è®¾ç½®åˆ°Channelï¼Œä¸ç®¡å“ªä¸ªå…ˆè¢«è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•åœ¨Channelå·²ç»è¢«åˆ›å»ºåå†è°ƒç”¨å°†ä¸ä¼šæœ‰ä»»ä½•çš„æ•ˆæœã€‚æ”¯æŒçš„ChannelOptionå–å†³äºä½¿ç”¨çš„Channelç±»å‹ã€‚å‚è§8.6èŠ‚ä»¥åŠChannelConfigçš„APIæ–‡æ¡£ï¼Œäº†è§£æ‰€ä½¿ç”¨çš„Channelç±»å‹ Bootstrap attr( ã€€ã€€Attribute key, T value) æŒ‡å®šæ–°åˆ›å»ºçš„Channelçš„å±æ€§å€¼ã€‚è¿™äº›å±æ€§å€¼æ˜¯é€šè¿‡bind()æˆ–è€…connect()æ–¹æ³•è®¾ç½®åˆ°Channelçš„ï¼Œå…·ä½“å–å†³äºè°æœ€å…ˆè¢«è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•åœ¨Channelè¢«åˆ›å»ºåå°†ä¸ä¼šæœ‰ä»»ä½•çš„æ•ˆæœã€‚å‚è§8.6èŠ‚ Bootstrap handler(ChannelHandler) è®¾ç½®å°†è¢«æ·»åŠ åˆ°ChannelPipelineä»¥æ¥æ”¶äº‹ä»¶é€šçŸ¥çš„ChannelHandler Bootstrap clone() åˆ›å»ºä¸€ä¸ªå½“å‰Bootstrapçš„å…‹éš†ï¼Œå…¶å…·æœ‰å’ŒåŸå§‹çš„Bootstrapç›¸åŒçš„è®¾ç½®ä¿¡æ¯ Bootstrap remoteAddress( ã€€ã€€SocketAddress) è®¾ç½®è¿œç¨‹åœ°å€ã€‚æˆ–è€…ï¼Œä¹Ÿå¯ä»¥é€šè¿‡connect()æ–¹æ³•æ¥æŒ‡å®šå®ƒ ChannelFuture connect() è¿æ¥åˆ°è¿œç¨‹èŠ‚ç‚¹å¹¶è¿”å›ä¸€ä¸ªChannelFutureï¼Œå…¶å°†ä¼šåœ¨è¿æ¥æ“ä½œå®Œæˆåæ¥æ”¶åˆ°é€šçŸ¥ ChannelFuture bind() ç»‘å®šChannelå¹¶è¿”å›ä¸€ä¸ªChannelFutureï¼Œå…¶å°†ä¼šåœ¨ç»‘å®šæ“ä½œå®Œæˆåæ¥æ”¶åˆ°é€šçŸ¥ï¼Œåœ¨é‚£ä¹‹åå¿…é¡»è°ƒç”¨Channel. connect()æ–¹æ³•æ¥å»ºç«‹è¿æ¥ String host = \"127.0.0.1\"; int port = 1234; EventLoopGroup workerGroup = new NioEventLoopGroup(); try { Bootstrap b = new Bootstrap(); // æŒ‡å®šçº¿ç¨‹å·¥ä½œæ±  b.group(workerGroup); // æŒ‡å®šå®ä¾‹åŒ–channelçš„æ–¹å¼ b.channel(NioSocketChannel.class); // è¿æ¥å‚æ•° b.option(ChannelOption.SO_KEEPALIVE, true); b.handler(new ChannelInitializer() { @Override public void initChannel(SocketChannel ch) throws Exception { ch.pipeline().addLast(new TimeClientHandler()); } }); // Start the client. ChannelFuture f = b.connect(host, port).sync(); // (5) // Wait until the connection is closed. f.channel().closeFuture().sync(); } catch (InterruptedException e) { e.printStackTrace(); } finally { workerGroup.shutdownGracefully(); } ServerBootStrap æœåŠ¡ç«¯ åã€€ã€€ç§° æã€€ã€€è¿° group è®¾ç½®ServerBootstrapè¦ç”¨çš„EventLoopGroupã€‚è¿™ä¸ªEventLoopGroupå°†ç”¨äºServerChannelå’Œè¢«æ¥å—çš„å­Channelçš„I/Oå¤„ç† channel è®¾ç½®å°†è¦è¢«å®ä¾‹åŒ–çš„ServerChannelç±» channelFactory å¦‚æœä¸èƒ½é€šè¿‡é»˜è®¤çš„æ„é€ å‡½æ•°[8]åˆ›å»ºChannelï¼Œé‚£ä¹ˆå¯ä»¥æä¾›ä¸€ä¸ªChannel- Factory localAddress æŒ‡å®šServerChannelåº”è¯¥ç»‘å®šåˆ°çš„æœ¬åœ°åœ°å€ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™å°†ç”±æ“ä½œç³»ç»Ÿä½¿ç”¨ä¸€ä¸ªéšæœºåœ°å€ã€‚æˆ–è€…ï¼Œå¯ä»¥é€šè¿‡bind()æ–¹æ³•æ¥æŒ‡å®šè¯¥localAddress option æŒ‡å®šè¦åº”ç”¨åˆ°æ–°åˆ›å»ºçš„ServerChannelçš„ChannelConfigçš„Channel- Optionã€‚è¿™äº›é€‰é¡¹å°†ä¼šé€šè¿‡bind()æ–¹æ³•è®¾ç½®åˆ°Channelã€‚åœ¨bind()æ–¹æ³•è¢«è°ƒç”¨ä¹‹åï¼Œè®¾ç½®æˆ–è€…æ”¹å˜ChannelOptionéƒ½ä¸ä¼šæœ‰ä»»ä½•çš„æ•ˆæœã€‚æ‰€æ”¯æŒçš„ChannelOptionå–å†³äºæ‰€ä½¿ç”¨çš„Channelç±»å‹ã€‚å‚è§æ­£åœ¨ä½¿ç”¨çš„ChannelConfigçš„APIæ–‡æ¡£ childOption æŒ‡å®šå½“å­Channelè¢«æ¥å—æ—¶ï¼Œåº”ç”¨åˆ°å­Channelçš„ChannelConfigçš„ChannelOptionã€‚æ‰€æ”¯æŒçš„ChannelOptionå–å†³äºæ‰€ä½¿ç”¨çš„Channelçš„ç±»å‹ã€‚å‚è§æ­£åœ¨ä½¿ç”¨çš„ChannelConfigçš„APIæ–‡æ¡£ attr æŒ‡å®šServerChannelä¸Šçš„å±æ€§ï¼Œå±æ€§å°†ä¼šé€šè¿‡bind()æ–¹æ³•è®¾ç½®ç»™Channelã€‚åœ¨è°ƒç”¨bind()æ–¹æ³•ä¹‹åæ”¹å˜å®ƒä»¬å°†ä¸ä¼šæœ‰ä»»ä½•çš„æ•ˆæœ childAttr å°†å±æ€§è®¾ç½®ç»™å·²ç»è¢«æ¥å—çš„å­Channelã€‚æ¥ä¸‹æ¥çš„è°ƒç”¨å°†ä¸ä¼šæœ‰ä»»ä½•çš„æ•ˆæœ handler è®¾ç½®è¢«æ·»åŠ åˆ°ServerChannelçš„ChannelPipelineä¸­çš„ChannelHandlerã€‚æ›´åŠ å¸¸ç”¨çš„æ–¹æ³•å‚è§childHandler() childHandler è®¾ç½®å°†è¢«æ·»åŠ åˆ°å·²è¢«æ¥å—çš„å­Channelçš„ChannelPipelineä¸­çš„Channel- Handlerã€‚handler()æ–¹æ³•å’ŒchildHandler()æ–¹æ³•ä¹‹é—´çš„åŒºåˆ«æ˜¯ï¼šå‰è€…æ‰€æ·»åŠ çš„ChannelHandlerç”±æ¥å—å­Channelçš„ServerChannelå¤„ç†ï¼Œè€ŒchildHandler()æ–¹æ³•æ‰€æ·»åŠ çš„ChannelHandlerå°†ç”±å·²è¢«æ¥å—çš„å­Channelå¤„ç†ï¼Œå…¶ä»£è¡¨ä¸€ä¸ªç»‘å®šåˆ°è¿œç¨‹èŠ‚ç‚¹çš„å¥—æ¥å­— clone å…‹éš†ä¸€ä¸ªè®¾ç½®å’ŒåŸå§‹çš„ServerBootstrapç›¸åŒçš„ServerBootstrap bind ç»‘å®šServerChannelå¹¶ä¸”è¿”å›ä¸€ä¸ªChannelFutureï¼Œå…¶å°†ä¼šåœ¨ç»‘å®šæ“ä½œå®Œæˆåæ”¶åˆ°é€šçŸ¥ï¼ˆå¸¦ç€æˆåŠŸæˆ–è€…å¤±è´¥çš„ç»“æœï¼‰ // æ¥æ”¶åˆ°æ¥çš„è¿æ¥ EventLoopGroup bossGroup = new NioEventLoopGroup(); // å¤„ç†å·²å»ºç«‹è¿æ¥çš„æµé‡ EventLoopGroup workerGroup = new NioEventLoopGroup(); try { // å¤åˆ¶å¯åŠ¨æœåŠ¡å™¨ ServerBootstrap b = new ServerBootstrap(); b.group(bossGroup, workerGroup) // ä½¿ç”¨ NioServerSocketChannel å°†åˆ°æ¥çš„è¿æ¥å®ä¾‹åŒ–ä¸ºChannel .channel(NioServerSocketChannel.class) // æŒ‡å®šå¤„ç†å™¨æ¥å¤„ç† channel ä¸ channel çš„äº‹ä»¶ .childHandler(new ChannelInitializer() { @Override public void initChannel(SocketChannel ch) throws Exception { ch.pipeline().addLast(new DiscardServerHandler()); } }) // æŒ‡å®šä¸€äº›å‚æ•°ï¼ˆé’ˆå¯¹åˆ°æ¥çš„è¿æ¥ï¼‰ .option(ChannelOption.SO_BACKLOG, 128) // æŒ‡å®šä¸€äº›å‚æ•°ï¼ˆé’ˆå¯¹channelï¼‰ .childOption(ChannelOption.SO_KEEPALIVE, true); // Bind and start to accept incoming connections. ChannelFuture f = b.bind(port).sync(); // Wait until the server socket is closed. // In this example, this does not happen, but you can do that to gracefully // shut down your server. f.channel().closeFuture().sync(); } finally { workerGroup.shutdownGracefully(); bossGroup.shutdownGracefully(); } å°½å¯èƒ½é‡ç”¨ EventLoop , å‡å°‘å…ˆåˆ›åˆ›å»ºæ‰€å¸¦æ¥çš„çš„å¼€é”€ ChannelOption bootstrap.option(ChannelOption.SO_KEEPALIVE,true) ã€€ã€€.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000); ChannelOption.SO_BACKLOG ChannelOption.SO_BACKLOGå¯¹åº”çš„æ˜¯tcp/ipåè®®listenå‡½æ•°ä¸­çš„backlogå‚æ•°ï¼Œå‡½æ•°listen(int socketfd,int backlog)ç”¨æ¥åˆå§‹åŒ–æœåŠ¡ç«¯å¯è¿æ¥é˜Ÿåˆ—ï¼ŒæœåŠ¡ç«¯å¤„ç†å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚æ˜¯é¡ºåºå¤„ç†çš„ï¼Œæ‰€ä»¥åŒä¸€æ—¶é—´åªèƒ½å¤„ç†ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼Œå¤šä¸ªå®¢æˆ·ç«¯æ¥çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯å°†ä¸èƒ½å¤„ç†çš„å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚æ”¾åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ï¼Œbacklogå‚æ•°æŒ‡å®šäº†é˜Ÿåˆ—çš„å¤§å° ChannelOption.SO_KEEPALIVE Channeloption.SO_KEEPALIVEå‚æ•°å¯¹åº”äºå¥—æ¥å­—é€‰é¡¹ä¸­çš„SO_KEEPALIVEï¼Œè¯¥å‚æ•°ç”¨äºè®¾ç½®TCPè¿æ¥ï¼Œå½“è®¾ç½®è¯¥é€‰é¡¹ä»¥åï¼Œè¿æ¥ä¼šæµ‹è¯•é“¾æ¥çš„çŠ¶æ€ï¼Œè¿™ä¸ªé€‰é¡¹ç”¨äºå¯èƒ½é•¿æ—¶é—´æ²¡æœ‰æ•°æ®äº¤æµçš„è¿æ¥ã€‚å½“è®¾ç½®è¯¥é€‰é¡¹ä»¥åï¼Œå¦‚æœåœ¨ä¸¤å°æ—¶å†…æ²¡æœ‰æ•°æ®çš„é€šä¿¡æ—¶ï¼ŒTCPä¼šè‡ªåŠ¨å‘é€ä¸€ä¸ªæ´»åŠ¨æ¢æµ‹æ•°æ®æŠ¥æ–‡ å…³é—­ Future future = group.shutdownGracefully();ã€€ â† -- shutdownGracefully()æ–¹æ³•å°†é‡Šæ”¾æ‰€æœ‰çš„èµ„æºï¼Œå¹¶ä¸”å…³é—­æ‰€æœ‰çš„å½“å‰æ­£åœ¨ä½¿ç”¨ä¸­çš„Channel // block until the group has shutdown future.syncUninterruptibly(); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-12 02:00:56 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/ç¼–è§£ç å™¨.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/netty/ç¼–è§£ç å™¨.html","title":"ç¼–è§£ç å™¨","keywords":"","body":"ç¼–è§£ç å™¨ è§£ç å™¨ ByteToMessageDecoder public class TimeDecoder extends ByteToMessageDecoder { @Override protected void decode(ChannelHandlerContext ctx, ByteBuf in, List out) throws Exception { // å¦‚æœç¼“å†²åŒºæ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®ï¼Œä¸è¿›è¡Œå¤„ç†ï¼Œåªæœ‰ç¼“å†²åŒºç´¯ç§¯ä¸€å®šçš„æ•°æ®æ—¶ï¼Œæ‰å°†æ•°æ®æ·»åŠ åˆ°out if (in.readableBytes() ReplayingDecoder ä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ByteBuf æ”¯æŒæ›´ç®€å•çš„æ“ä½œ MessageToMessageDecoder ç¼–ç å™¨ æ‰©å±•äº†MessageToByteEncoder public class ShortToByteEncoder extends MessageToByteEncoder { â† -- æ‰©å±•äº†MessageToByteEncoder ã€€ã€€@Override ã€€ã€€public void encode(ChannelHandlerContext ctx, Short msg, ByteBuf out) ã€€ã€€ã€€ã€€throws Exception { ã€€ã€€ã€€ã€€out.writeShort(msg);ã€€ â† -- å°†Short å†™å…¥ByteBuf ä¸­ ã€€ã€€} } MessageToMessageEncoder ç¼–è§£ç å™¨ xxxCodec netty å†…ç½®çš„ Handler ä»¥åŠ ç¼–è§£ç å™¨ SslHandler SSL/TLS Http HttpResponseDecoder HttpRequestEncoder HttpServerCodec pipeline.addLast(\"aggregator\",new HttpObjectAggregator(512 * 1024)); å‹ç¼©:HttpContentCompressor WebSocket ã€€ã€€@Override ã€€ã€€protected void initChannel(Channel ch) throws Exception { ã€€ã€€ã€€ã€€ch.pipeline().addLast( ã€€ã€€ã€€ã€€ã€€ã€€new HttpServerCodec(), ã€€ã€€ã€€ã€€ã€€ã€€new HttpObjectAggregator(65536), â† -- ä¸ºæ¡æ‰‹æä¾›èšåˆçš„HttpRequest ã€€ã€€ã€€ã€€ã€€ new WebSocketServerProtocolHandler(\"/websocket\"), â† -- å¦‚æœè¢«è¯·æ±‚çš„ç«¯ç‚¹æ˜¯\"/websocket\"ï¼Œåˆ™å¤„ç†è¯¥å‡çº§æ¡æ‰‹ã€€ ã€€ã€€ã€€ã€€ã€€ã€€new TextFrameHandler(),ã€€ â† -- TextFrameHandler å¤„ç†TextWebSocketFrame ã€€ã€€ã€€ã€€ã€€ new BinaryFrameHandler(),ã€€â† -- BinaryFrameHandler å¤„ç†BinaryWebSocketFrameã€€ ã€€ã€€ã€€ã€€ã€€ new ContinuationFrameHandler());ã€€â† -- ContinuationFrameHandler å¤„ç†ContinuationWebSocketFrameã€€ ã€€ã€€} æ£€æµ‹ç©ºé—²è¿æ¥æˆ–è¶…æ—¶ IdleStateHandler ReadTimeoutHandler WriteTimeoutHandler æ ¹æ®åˆ†éš”ç¬¦åˆ†å‰²å­—èŠ‚æµ DelimiterBasedFrameDecoder LineBasedFrameDecoder æ ¹æ®é•¿åº¦åˆ†å‰²å­—èŠ‚æµ FixedLengthFrameDecoder LengthFieldBasedFrameDecoder å†™å¤§å‹æ•°æ® FileInputStream in = new FileInputStream(file); â† -- åˆ›å»ºä¸€ä¸ªFileInputStream FileRegion region = new DefaultFileRegion(ã€€ â† -- ä»¥è¯¥æ–‡ä»¶çš„å®Œæ•´é•¿åº¦åˆ›å»ºä¸€ä¸ªæ–°çš„DefaultFileRegion ã€€ã€€in.getChannel(), 0, file.length()); channel.writeAndFlush(region); pipeline.addLast(new ChunkedWriteHandler());ã€€ â† -- æ·»åŠ Chunked-WriteHandlerä»¥å¤„ç†ä½œä¸ºChunkedInputä¼ å…¥çš„æ•°æ® ã€€ã€€ã€€ã€€pipeline.addLast(new WriteStreamHandler()); â† -- ä¸€æ—¦è¿æ¥å»ºç«‹ï¼ŒWriteStreamHandlerå°±å¼€å§‹å†™æ–‡ä»¶æ•°æ® åºåˆ—åŒ– JDK åã€€ã€€ç§° æã€€ã€€è¿° CompatibleObjectDecoder [9] å’Œä½¿ç”¨JDKåºåˆ—åŒ–çš„éåŸºäºNettyçš„è¿œç¨‹èŠ‚ç‚¹è¿›è¡Œäº’æ“ä½œçš„è§£ç å™¨ CompatibleObjectEncoder å’Œä½¿ç”¨JDKåºåˆ—åŒ–çš„éåŸºäºNettyçš„è¿œç¨‹èŠ‚ç‚¹è¿›è¡Œäº’æ“ä½œçš„ç¼–ç å™¨ ObjectDecoder æ„å»ºäºJDKåºåˆ—åŒ–ä¹‹ä¸Šçš„ä½¿ç”¨è‡ªå®šä¹‰çš„åºåˆ—åŒ–æ¥è§£ç çš„è§£ç å™¨ï¼›å½“æ²¡æœ‰å…¶ä»–çš„å¤–éƒ¨ä¾èµ–æ—¶ï¼Œå®ƒæä¾›äº†é€Ÿåº¦ä¸Šçš„æ”¹è¿›ã€‚å¦åˆ™å…¶ä»–çš„åºåˆ—åŒ–å®ç°æ›´åŠ å¯å– ObjectEncoder æ„å»ºäºJDKåºåˆ—åŒ–ä¹‹ä¸Šçš„ä½¿ç”¨è‡ªå®šä¹‰çš„åºåˆ—åŒ–æ¥ç¼–ç çš„ç¼–ç å™¨ï¼›å½“æ²¡æœ‰å…¶ä»–çš„å¤–éƒ¨ä¾èµ–æ—¶ï¼Œå®ƒæä¾›äº†é€Ÿåº¦ä¸Šçš„æ”¹è¿›ã€‚å¦åˆ™å…¶ä»–çš„åºåˆ—åŒ–å®ç°æ›´åŠ å¯å– JBoss Marshalling åã€€ã€€ç§° æã€€ã€€è¿° CompatibleMarshallingDecoder CompatibleMarshallingEncoder ä¸åªä½¿ç”¨JDKåºåˆ—åŒ–çš„è¿œç¨‹èŠ‚ç‚¹å…¼å®¹ MarshallingDecoder MarshallingEncoder é€‚ç”¨äºä½¿ç”¨JBoss Marshallingçš„èŠ‚ç‚¹ã€‚è¿™äº›ç±»å¿…é¡»ä¸€èµ·ä½¿ç”¨ Protocol Buffers åã€€ã€€ç§° æã€€ã€€è¿° ProtobufDecoder ä½¿ç”¨protobufå¯¹æ¶ˆæ¯è¿›è¡Œè§£ç  ProtobufEncoder ä½¿ç”¨protobufå¯¹æ¶ˆæ¯è¿›è¡Œç¼–ç  ProtobufVarint32FrameDecoder æ ¹æ®æ¶ˆæ¯ä¸­çš„Google Protocol Buffersçš„â€œBase 128 Varintsâ€aæ•´å‹é•¿åº¦å­—æ®µå€¼åŠ¨æ€åœ°åˆ†å‰²æ‰€æ¥æ”¶åˆ°çš„ByteBuf ProtobufVarint32LengthFieldPrepender å‘ByteBufå‰è¿½åŠ ä¸€ä¸ªGoogle Protocal Buffersçš„â€œBase 128 Varintsâ€æ•´å‹çš„é•¿åº¦å­—æ®µå€¼ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-13 03:23:23 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/Lambdaè¡¨è¾¾å¼.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/Lambdaè¡¨è¾¾å¼.html","title":"Lambda è¡¨è¾¾å¼","keywords":"","body":"Lambda è¡¨è¾¾å¼ (å‚æ•°åˆ—è¡¨) â€> { ä»£ç è¯­å¥ } // Lambdaè¡¨è¾¾å¼çš„ä¹¦å†™å½¢å¼ Runnable run = () -> System.out.println(\"Hello World\");// 1 ActionListener listener = event -> System.out.println(\"button clicked\");// 2 Runnable multiLine = () -> {// 3 ä»£ç å— System.out.print(\"Hello\"); System.out.println(\" Hoolee\"); }; BinaryOperator add = (Long x, Long y) -> x + y;// 4 BinaryOperator addImplicit = (x, y) -> x + y;// 5 ç±»å‹æ¨æ–­ ç±»ä¼¼äºåŒ¿åæ–¹æ³•ï¼Œä¸€ä¸ªæ²¡æœ‰åå­—çš„æ–¹æ³• å¯ä»¥å¿½ç•¥å†™å‚æ•°ç±»å‹ åšå†³ä¸å£°æ˜è¿”å›å€¼ç±»å‹ æ²¡æœ‰ä¿®é¥°ç¬¦ å•å¥è¡¨è¾¾å¼ï¼Œå°†ç›´æ¥è¿”å›å€¼ï¼Œä¸ç”¨å¤§æ‹¬å· å¸¦returnè¯­å¥ï¼Œ ç®—å¤šå¥ï¼Œå¿…é¡»ç”¨å¤§æ‹¬å· æ— å‚æ•°ï¼Œä»…ä¿ç•™æ‹¬å· ä¸€ä¸ªå‚æ•°ï¼Œå¯çœç•¥æ‹¬å· ä½¿ç”¨å‰æ ä½¿ç”¨Lambdaå¿…é¡»å…·æœ‰æ¥å£ï¼Œä¸”è¦æ±‚æ¥å£ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•(ç§°ä¹‹ä¸ºå‡½æ•°å¼æ¥å£)ã€‚ æ— è®ºæ˜¯JDKå†…ç½®çš„ Runnable ã€ Comparator æ¥å£è¿˜æ˜¯è‡ªå®šä¹‰çš„æ¥å£ï¼Œåªæœ‰å½“æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•å­˜åœ¨ä¸”å”¯ä¸€ æ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨Lambdaã€‚ ä½¿ç”¨Lambdaå¿…é¡»å…·æœ‰ä¸Šä¸‹æ–‡æ¨æ–­ã€‚ ä¹Ÿå°±æ˜¯æ–¹æ³•çš„å‚æ•°æˆ–å±€éƒ¨å˜é‡ç±»å‹å¿…é¡»ä¸ºLambdaå¯¹åº”çš„æ¥å£ç±»å‹ï¼Œæ‰èƒ½ä½¿ç”¨Lambdaä½œä¸ºè¯¥æ¥å£çš„å®ä¾‹ã€‚ æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œç§°ä¸º\"å‡½æ•°å¼æ¥å£\"ã€‚ å‡½æ•°å¼æ¥å£ æ˜¯ä¸€ä¸ªæ¥å£ï¼Œç¬¦åˆJavaæ¥å£çš„å®šä¹‰ åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ å¯ä»¥åŒ…æ‹¬å…¶ä»–çš„defaultæ–¹æ³•ã€staticæ–¹æ³•ã€privateæ–¹æ³• ç”±äºåªæœ‰ä¸€ä¸ªæœªå®ç°çš„æ–¹æ³•ï¼Œæ‰€ä»¥Lambdaè¡¨è¾¾å¼å¯ä»¥è‡ªåŠ¨å¡«ä¸Šè¿™ä¸ªå°šæœªå®ç°çš„æ–¹æ³• é‡‡ç”¨Lambdaè¡¨è¾¾å¼ï¼Œå¯ä»¥è‡ªåŠ¨åˆ›å»ºå‡ºä¸€ä¸ª(ä¼ª)åµŒå¥—ç±»çš„å¯¹è±¡(æ²¡æœ‰å®é™…çš„åµŒå¥—ç±»classæ–‡ä»¶äº§ç”Ÿ)ï¼Œç„¶åä½¿ç”¨ï¼Œæ¯”çœŸæ­£åµŒå¥—ç±»æ›´åŠ è½»é‡ï¼Œæ›´åŠ ç®€æ´é«˜æ•ˆ @FunctionalInterfaceæ³¨è§£ ä¸€æ—¦ä½¿ç”¨è¯¥æ³¨è§£æ¥æ ‡è®°æ¥å£ï¼Œç¼–è¯‘å™¨å°†ä¼šå¼ºåˆ¶æ£€æŸ¥è¯¥æ¥å£æ˜¯å¦ç¡®å®æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™ç¼–è¯‘å°†ä¼šæŠ¥é”™ã€‚ @FunctionalInterface public interface SuperRunnable { void superRun(); } public static void main(String[] args) { superRun(()-> System.out.println(\"hello world\")); } private static void superRun(SuperRunnable sr){ sr.superRun(); } å°½é‡ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„å‡½æ•°å¼æ¥å£ï¼Œä¸è¦è‡ªå·±å®šä¹‰ æ¥å£ å‚æ•° è¿”å›å€¼ ç¤ºä¾‹ Predicate T Boolean æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ Consumer T void æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæ— è¿”å› Function T R æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå€¼ Supplier None T æ— å‚æ•° è¿”å›ä¸€ä¸ªå€¼ Lambda JVMå±‚å®ç° Javaç¼–è¯‘å™¨å°†Lambdaè¡¨è¾¾å¼ç¼–è¯‘æˆä½¿ç”¨è¡¨è¾¾å¼çš„ç±»çš„ä¸€ä¸ªç§æœ‰æ–¹æ³•ï¼Œç„¶åé€šè¿‡invokedynamicæŒ‡ä»¤è°ƒç”¨è¯¥æ–¹æ³•ã€‚æ‰€ä»¥åœ¨Lambdaè¡¨è¾¾å¼å†…ï¼Œthiså¼•ç”¨æŒ‡å‘çš„ä»æ˜¯ä½¿ç”¨è¡¨è¾¾å¼çš„ç±»ã€‚ æ–¹æ³•å¼•ç”¨ Class::staticMethodï¼Œå¦‚ Math::absæ–¹æ³• Math::abs ç­‰ä»·äº x -> Math.abs(x) Class::instanceMethodï¼Œå¦‚String::compareToIgnoreCaseæ–¹æ³• String::compareToIgnoreCaseç­‰ä»·äº(x,y)->x.compareToIgnoreCase(y) object::instanceMethodï¼Œå¦‚System.out::printlnæ–¹æ³• System.out::printlnç­‰ä»·äºx->System.out.println(x) æ”¯æŒthis::instanceMethod è°ƒç”¨ æ”¯æŒsuper::instanceMethod è°ƒç”¨ Class::newï¼Œè°ƒç”¨æŸç±»æ„é€ å‡½æ•°ï¼Œæ”¯æŒå•ä¸ªå¯¹è±¡æ„å»º Supplier sp = Object::new Class[]::newï¼Œè°ƒç”¨æŸç±»æ„é€ å‡½æ•°ï¼Œæ”¯æŒæ•°ç»„å¯¹è±¡æ„å»º Function f = Object[]::new åº”ç”¨ ç±»å‹ä¿¡æ¯ è¢«èµ‹å€¼åï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£çš„å®ä¾‹(å¯¹è±¡) ä½†æ˜¯Lambdaè¡¨è¾¾å¼æ²¡æœ‰å­˜å‚¨ç›®æ ‡ç±»å‹(target type)çš„ä¿¡æ¯ é‡è½½è°ƒç”¨ï¼Œä¾æ®é‡è½½çš„è§„åˆ™å’Œç±»å‹å‚æ•°æ¨ç† å˜é‡é®è”½ Lambdaè¡¨è¾¾å¼å¯ä»¥è®¿é—®å¤–éƒ¨åµŒå¥—å—çš„å˜é‡ ä½†æ˜¯å˜é‡è¦æ±‚æ˜¯finalæˆ–è€…æ˜¯effectively finalçš„ åœ¨Lambdaè¡¨è¾¾å¼ä¸­ï¼Œä¸å¯ä»¥å£°æ˜ä¸(å¤–éƒ¨åµŒå¥—å—)å±€éƒ¨å˜é‡åŒåçš„å‚æ•°æˆ–è€…å±€éƒ¨å˜é‡ è¡¨è¾¾å¼ä¸­çš„thisï¼Œå°±æ˜¯åˆ›å»ºè¿™ä¸ªè¡¨è¾¾å¼çš„æ–¹æ³•çš„thiså‚æ•° ä¼˜å…ˆçº§æ¯”åµŒå¥—ç±»è¦é«˜ æ— æ³•åˆ›å»ºå‘½åå®ä¾‹ï¼Œæ— æ³•è·å–è‡ªèº«çš„å¼•ç”¨(this) æ–¹æ³•å¼•ç”¨æ¯”è‡ªå®šä¹‰Lambdaè¡¨è¾¾å¼çš„ä¼˜å…ˆçº§é«˜ ç³»ç»Ÿè‡ªå¸¦çš„æ–¹æ³•å¼•ç”¨æ›´ç®€æ´é«˜æ•ˆ å¯¹äºå¤æ‚çš„Lambdaè¡¨è¾¾å¼ï¼Œé‡‡ç”¨æ–¹æ³•å¼•ç”¨æ¯”å†…åµŒLambdaè¡¨è¾¾å¼æ›´æ¸…æ™°ï¼Œæ›´å®¹æ˜“ç»´æŠ¤ åšæŒä½¿ç”¨æ ‡å‡†çš„å‡½æ•°å¼æ¥å£ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-06 06:40:42 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/Streamæµ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/Streamæµ.html","title":"Stream æµ","keywords":"","body":"Stream sequence of elements: ä¸€ä¸ªæµå¯¹å¤–æä¾›ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥è®¿é—®åˆ°ä¸€ä¸²ç‰¹å®šçš„æ•°æ®ã€‚æµä¸å­˜å‚¨å…ƒç´ ï¼Œä½†æ˜¯å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œè®¡ç®—è½¬åŒ– sourceï¼šæ•°æ®æ¥æºï¼Œå¦‚æ•°æ®ç»“æ„ï¼Œæ•°ç»„ï¼Œæ–‡ä»¶ç­‰ aggregate operationï¼šèšåˆæ“ä½œï¼Œæµæ”¯æŒåƒSQLæ“ä½œæˆ–è€…å…¶ä»–å‡½æ•°å¼è¯­è¨€çš„æ“ä½œï¼Œå¦‚filter/map/reduce/find/match/sortedç­‰ Pipelining: ä¸­é—´æ“ä½œéƒ½ä¼šè¿”å›æµå¯¹è±¡æœ¬èº«ã€‚ è¿™æ ·å¤šä¸ªæ“ä½œå¯ä»¥ä¸²è”æˆä¸€ä¸ªç®¡é“ï¼Œ å¦‚åŒæµå¼é£æ ¼ï¼ˆï¬‚uent styleï¼‰ã€‚ è¿™æ ·åšå¯ä»¥å¯¹æ“ä½œè¿›è¡Œä¼˜åŒ–ï¼Œ æ¯”å¦‚å»¶è¿Ÿæ‰§è¡Œ(laziness)å’ŒçŸ­è·¯( short-circuiting)ã€‚ Internal Iterationï¼š ä»¥å‰å¯¹é›†åˆéå†éƒ½æ˜¯é€šè¿‡Iteratoræˆ–è€…å¢å¼ºforçš„æ–¹å¼, æ˜¾å¼çš„åœ¨é›†åˆå¤–éƒ¨è¿›è¡Œè¿­ä»£ï¼Œ è¿™å«åšå¤–éƒ¨è¿­ä»£ã€‚ Streamæä¾›äº†å†…éƒ¨è¿­ä»£çš„æ–¹å¼ï¼Œæµå¯ä»¥ç›´æ¥è°ƒç”¨éå†æ–¹æ³•ã€‚ å¤„ç†æµç¨‹ æµçš„åˆ›å»º æµçš„è½¬æ¢ï¼Œå°†æµè½¬æ¢ä¸ºå…¶ä»–æµçš„ä¸­é—´æ“ä½œï¼Œå¯åŒ…æ‹¬å¤šä¸ªæ­¥éª¤(æƒ°æ€§æ“ä½œ) æµçš„è®¡ç®—ç»“æœã€‚è¿™ä¸ªæ“ä½œä¼šå¼ºåˆ¶æ‰§è¡Œä¹‹å‰çš„æƒ°æ€§æ“ä½œã€‚è¿™ä¸ªæ­¥éª¤ä»¥åï¼Œæµå°±å†ä¹Ÿä¸ç”¨äº† è·å–æµ Streamç±» of æ–¹æ³•ï¼Œç›´æ¥å°†æ•°ç»„è½¬åŒ– Stream integerStream = Stream.of(1, 2, 3); emptyæ–¹æ³•ï¼Œäº§ç”Ÿä¸€ä¸ªç©ºæµ generate æ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªLambdaè¡¨è¾¾å¼ Stream stream = Stream.generate(Math::random); iterateæ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªç§å­ï¼Œå’Œä¸€ä¸ªLambdaè¡¨è¾¾å¼ Stream iterate = Stream.iterate(BigInteger.ZERO, n -> n.add(BigInteger.ONE)); æ ¹æ®Collectionè·å– Stream stream = list.stream(); æ ¹æ®Mapè·å–æµ Stream keyStream = map.keySet().stream(); Stream valueStream = map.values().stream(); Stream> entryStream = map.entrySet().stream(); åŸºæœ¬ç±»å‹æµ IntStreamï¼ŒLongStreamï¼ŒDoubleStream å¹¶è¡Œæµ ä½¿å¾—æ‰€æœ‰çš„ä¸­é—´è½¬æ¢æ“ä½œéƒ½å°†è¢«å¹¶è¡ŒåŒ– Collections.parallelStream()å°†ä»»ä½•é›†åˆè½¬ä¸ºå¹¶è¡Œæµ Stream.parallel()æ–¹æ³•ï¼Œäº§ç”Ÿä¸€ä¸ªå¹¶è¡Œæµ æµçš„æ–¹æ³• å»¶è¿Ÿæ–¹æ³•ï¼ˆä¸­é—´æ“ä½œï¼‰ï¼šè¿”å›å€¼ç±»å‹ä»ç„¶æ˜¯ Stream æ¥å£è‡ªèº«ç±»å‹çš„æ–¹æ³•ï¼Œå› æ­¤æ”¯æŒé“¾å¼è°ƒç”¨ã€‚ï¼ˆé™¤äº†ç»ˆç»“æ–¹æ³•å¤–ï¼Œå…¶ä½™æ–¹ æ³•å‡ä¸ºå»¶è¿Ÿæ–¹æ³•ã€‚ï¼‰ ç»ˆç»“æ–¹æ³•ï¼ˆç»“æŸæ“ä½œï¼‰ï¼šè¿”å›å€¼ç±»å‹ä¸å†æ˜¯ Stream æ¥å£è‡ªèº«ç±»å‹çš„æ–¹æ³•ï¼Œå› æ­¤ä¸å†æ”¯æŒç±»ä¼¼ StringBuilder é‚£æ ·çš„é“¾å¼è°ƒç”¨ã€‚ æ“ä½œç±»å‹ æ¥å£æ–¹æ³• ä¸­é—´æ“ä½œ concat() distinct() filter() flatMap() limit() map() peek() skip() sorted() parallel() sequential() unordered() ç»“æŸæ“ä½œ allMatch() anyMatch() collect() count() findAny() findFirst() forEach() forEachOrdered() max() min() noneMatch() reduce() toArray() è½¬æ¢æ–¹æ³• è¿‡æ»¤filter filter(Predicate predicate) æ¥æ”¶ä¸€ä¸ªLambdaè¡¨è¾¾å¼ï¼Œå¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œåˆ¤å®šï¼Œç¬¦åˆæ¡ä»¶ç•™ä¸‹ å»é‡distinct å¯¹æµçš„å…ƒç´ è¿›è¡Œè¿‡æ»¤ï¼Œå»é™¤é‡å¤ï¼Œåªç•™ä¸‹ä¸é‡å¤çš„å…ƒç´  å¯¹è±¡çš„åˆ¤å®šï¼Œå…ˆè°ƒç”¨hashCodeæ–¹æ³•ï¼Œå†è°ƒç”¨equalsæ–¹æ³• æ’åºsorted æä¾›Comparatorï¼Œå¯¹æµçš„å…ƒç´ è¿›è¡Œæ’åº map åˆ©ç”¨æ–¹æ³•å¼•ç”¨å¯¹æµæ¯ä¸ªå…ƒç´ è¿›è¡Œå‡½æ•°è®¡ç®— Stream.of(1,2,3) .map(String::valueOf) .forEach(System.out::println); // [\"1\",\"2\",\"3\"] flatMap å¯¹ç»“æœè¿›è¡Œå±•å¼€ æŠ½å–limit åªå–å‰nä¸ª è·³è¿‡skip è·³è¿‡å‰nä¸ª è¿æ¥concat Stream.concat(s1,s2); // è¿æ¥ä¸¤ä¸ªæµ é¢å¤–è°ƒè¯•peek å¯ä»¥å¯¹æµæ“ä½œï¼Œä½†æ˜¯ä¸å½±å“å®ƒ Optional Optional ä¸€ä¸ªåŒ…è£…å™¨å¯¹è±¡ è¦ä¹ˆåŒ…è£…äº†ç±»å‹Tçš„å¯¹è±¡ï¼Œè¦ä¹ˆæ²¡æœ‰åŒ…è£…ä»»ä½•å¯¹è±¡ å¦‚æœTæœ‰å€¼ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›Tçš„å¯¹è±¡ å¦‚æœTæ˜¯nullï¼Œé‚£ä¹ˆå¯ä»¥è¿”å›ä¸€ä¸ªæ›¿ä»£ç‰© ä½¿ç”¨ getæ–¹æ³•ï¼Œè·å–å€¼ï¼Œä¸å®‰å…¨çš„ç”¨æ³• orElseæ–¹æ³•ï¼Œè·å–å€¼ï¼Œå¦‚æœä¸ºnullï¼Œé‡‡ç”¨æ›¿ä»£ç‰©çš„å€¼ orElseGetæ–¹æ³•ï¼Œè·å–å€¼ï¼Œå¦‚æœä¸ºnullï¼Œé‡‡ç”¨Lambdaè¡¨è¾¾å¼å€¼è¿”å› orElseThrowæ–¹æ³•ï¼Œè·å–å€¼ï¼Œå¦‚æœä¸ºnullï¼ŒæŠ›å‡ºå¼‚å¸¸ ifPresentæ–¹æ³•ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å›true isPresent(Consumer), åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™è¿›è¡Œåç»­Consumeræ“ä½œ,å¦‚æœä¸ºç©ºï¼Œåˆ™ä¸åšä»»ä½•äº‹æƒ… map(Function), å°†å€¼ä¼ é€’ç»™Functionå‡½æ•°è¿›è¡Œè®¡ç®—ã€‚å¦‚æœä¸ºç©ºï¼Œåˆ™ä¸è®¡ç®— æ³¨æ„äº‹é¡¹ ç›´æ¥ä½¿ç”¨getï¼Œå¾ˆå®¹æ˜“å¼•å‘NoSuchElementExceptionå¼‚å¸¸ ä½¿ç”¨isPresentåˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨ï¼Œè¿™å’Œåˆ¤æ–­nullæ˜¯ä¸€æ ·çš„ä½æ•ˆ ç»ˆç»“æ–¹æ³• èšåˆå‡½æ•° count(), è®¡æ•° max(Comparator)ï¼Œæœ€å¤§å€¼ï¼Œéœ€è¦æ¯”è¾ƒå™¨ min(Comparator)ï¼Œæœ€å°å€¼ï¼Œéœ€è¦æ¯”è¾ƒå™¨ findFirst(), æ‰¾åˆ°ç¬¬ä¸€ä¸ªå…ƒç´  findAny(), æ‰¾åˆ°ä»»æ„ä¸€ä¸ªå…ƒç´  anyMatch(Predicate)ï¼Œå¦‚æœ‰ä»»æ„ä¸€ä¸ªå…ƒç´ æ»¡è¶³Predicateï¼Œè¿”å›true allMatch(Predicate)ï¼Œå¦‚æ‰€æœ‰å…ƒç´ æ»¡è¶³Predicateï¼Œè¿”å›true noneMatch(Predicate)ï¼Œå¦‚æ²¡æœ‰ä»»ä½•å…ƒç´ æ»¡è¶³Predicateï¼Œè¿”å›true å½’çº¦å‡½æ•° reduceï¼Œä¼ é€’ä¸€ä¸ªäºŒå…ƒå‡½æ•°BinaryOperatorï¼Œå¯¹æµå…ƒç´ è¿›è¡Œè®¡ç®— å¦‚æ±‚å’Œã€æ±‚ç§¯ã€å­—ç¬¦ä¸²è¿æ¥ // æ±‚å•è¯é•¿åº¦ä¹‹å’Œ Stream stream = Stream.of(\"I\", \"love\", \"you\", \"too\"); Integer lengthSum = stream.reduce(0,ã€€// åˆå§‹å€¼ã€€// (1) (sum, str) -> sum+str.length(), // ç´¯åŠ å™¨ // (2) (a, b) -> a+b);ã€€// éƒ¨åˆ†å’Œæ‹¼æ¥å™¨ï¼Œå¹¶è¡Œæ‰§è¡Œæ—¶æ‰ä¼šç”¨åˆ° // (3) // int lengthSum = stream.mapToInt(str -> str.length()).sum(); System.out.println(lengthSum); collectæ–¹æ³• // å°†Streamè½¬æ¢æˆå®¹å™¨æˆ–Map Stream stream = Stream.of(\"I\", \"love\", \"you\", \"too\"); List list = stream.collect(Collectors.toList()); // (1) // Set set = stream.collect(Collectors.toSet()); // (2) // Map map = stream.collect(Collectors.toMap(Function.identity(), String::length)); // (3) è¿­ä»£å‡½æ•° iterator() ï¼šè·å–ä¸€ä¸ªè¿­ä»£å™¨ forEach(Consumer)ï¼Œåº”ç”¨ä¸€ä¸ªå‡½æ•°åˆ°æ¯ä¸ªå…ƒç´ ä¸Š æ”¶é›†å‡½æ•° toArray()ï¼Œå°†ç»“æœè½¬ä¸ºæ•°ç»„ collect(Collectors.toList()),å°†ç»“æœè½¬ä¸ºList collect(Collectors.toSet()),å°†ç»“æœè½¬ä¸ºSet collect(Collectors.toMap()), å°†ç»“æœè½¬ä¸ºMap collect(Collectors.joining()), å°†ç»“æœè¿æ¥èµ·æ¥ ä¼˜ç‚¹ ç»Ÿä¸€è½¬æ¢å…ƒç´  è¿‡æ»¤å…ƒç´  åˆ©ç”¨å•ä¸ªæ“ä½œåˆå¹¶å…ƒç´  å°†å…ƒç´ åºåˆ—å­˜æ”¾åˆ°æŸä¸€ä¸ªé›†åˆä¸­ æœç´¢æ»¡è¶³æŸäº›æ¡ä»¶çš„å…ƒç´ çš„åºåˆ— ç±»ä¼¼SQLæ“ä½œï¼Œéµå¾ªâ€œåšä»€ä¹ˆè€Œéæ€ä¹ˆåšâ€åŸåˆ™ ç®€åŒ–äº†ä¸²è¡Œ/å¹¶è¡Œçš„å¤§æ‰¹é‡æ“ä½œ streamä¸Šçš„æ“ä½œå¹¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œåªæœ‰ç­‰åˆ°ç”¨æˆ·çœŸæ­£éœ€è¦ç»“æœçš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ ä¸å¾ªç¯è¿­ä»£æ¯”è¾ƒ Streamå¹¿æ³›ä½¿ç”¨Lambdaè¡¨è¾¾å¼ï¼Œåªèƒ½è¯»å–å¤–å›´çš„finalæˆ–è€…effectivelyfinalå˜é‡ï¼Œå¾ªç¯è¿­ä»£ä»£ç å¯ä»¥è¯»å–/ä¿®æ”¹ä»»æ„çš„å±€éƒ¨å˜é‡ åœ¨å¾ªç¯è¿­ä»£ä»£ç å—ä¸­ï¼Œå¯ä»¥éšæ„break/continue/returnï¼Œæˆ–è€…æŠ›å‡ºå¼‚å¸¸ï¼Œè€ŒLambdaè¡¨è¾¾å¼æ— æ³•å®Œæˆè¿™äº›äº‹æƒ… æ³¨æ„äº‹é¡¹ ä¸€ä¸ªæµï¼Œä¸€æ¬¡åªèƒ½ä¸€ä¸ªç”¨é€”ï¼Œä¸èƒ½å¤šä¸ªç”¨é€”ï¼Œç”¨äº†ä¸èƒ½å†ç”¨ Streamåªæ˜¯æŸç§æ•°æ®æºçš„ä¸€ä¸ªè§†å›¾ é¿å…åˆ›å»ºæ— é™æµ æ³¨æ„æ“ä½œé¡ºåº è°¨æ…ä½¿ç”¨å¹¶è¡Œæµ Streamæµæ°´çº¿åŸç† parallelStream é€šè¿‡é»˜è®¤çš„ForkJoinPoolï¼Œå¯èƒ½æé«˜å¤šçº¿ç¨‹ä»»åŠ¡çš„é€Ÿåº¦ å¤šä¸ªparallelStreamä¹‹é—´é»˜è®¤ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªçº¿ç¨‹æ±  MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-06 08:20:30 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/JAVAæ¨¡å—åŒ–.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/JAVAæ¨¡å—åŒ–.html","title":"Java æ¨¡å—åŒ–","keywords":"","body":"æ¨¡å—åŒ– æ¨¡å—åŒ–çš„è®¿é—®æ§åˆ¶é€šè¿‡ç±»åŠ è½½è¿‡ç¨‹æ¥å®Œæˆ JDK8ä¹‹å‰jarçš„ç¼ºé™· jaræ–‡ä»¶æ— æ³•æ§åˆ¶åˆ«äººè®¿é—®å…¶å†…éƒ¨çš„publicçš„ç±» æ— æ³•æ§åˆ¶ä¸åŒjaråŒ…ä¸­ï¼Œç›¸åŒçš„ç±»å(åŒ…å+ç±»å) Javaè¿è¡Œæ—¶ï¼Œæ— æ³•åˆ¤å®šclasspathè·¯å¾„ä¸Šçš„jarä¸­æœ‰å¤šå°‘ä¸ªä¸åŒç‰ˆæœ¬ çš„æ–‡ä»¶ã€‚JavaåŠ è½½ç¬¬ä¸€ä¸ªç¬¦åˆåå­—çš„ç±» Javaè¿è¡Œæ—¶ï¼Œæ— æ³•é¢„åˆ¤classpathè·¯å¾„ä¸Šæ˜¯å¦ç¼ºå¤±äº†ä¸€äº›å…³é”®ç±» å…¼å®¹Java9 ä¹‹å‰ æ‰€æœ‰ç±»è·¯å¾„ä¸‹çš„JARæ–‡ä»¶åŠå…¶ä»–èµ„æºæ–‡ä»¶ï¼Œéƒ½è¢«è§†ä¸ºè‡ªåŠ¨æ‰“åŒ…åœ¨ä¸€ä¸ªåŒ¿åæ¨¡å—ï¼ˆUnnamed Moduleï¼‰é‡Œï¼Œè¿™ä¸ªåŒ¿åæ¨¡å—å‡ ä¹æ˜¯æ²¡æœ‰ä»»ä½•éš”ç¦»çš„ï¼Œå®ƒå¯ä»¥çœ‹åˆ°å’Œä½¿ç”¨ç±»è·¯å¾„ä¸Šæ‰€æœ‰çš„åŒ…ã€JDKç³»ç»Ÿæ¨¡å—ä¸­æ‰€æœ‰çš„å¯¼å‡ºåŒ…ï¼Œä»¥åŠæ¨¡å—è·¯å¾„ä¸Šæ‰€æœ‰æ¨¡å—ä¸­å¯¼å‡ºçš„åŒ… æ¨¡å—è·¯å¾„ä¸‹çš„å…·åæ¨¡å—ï¼ˆNamed Moduleï¼‰åªèƒ½è®¿é—®åˆ°å®ƒä¾èµ–å®šä¹‰ä¸­åˆ—æ˜ä¾èµ–çš„æ¨¡å—å’ŒåŒ…ï¼ŒåŒ¿åæ¨¡å—é‡Œæ‰€æœ‰çš„å†…å®¹å¯¹å…·åæ¨¡å—æ¥è¯´éƒ½æ˜¯ä¸å¯è§çš„ å¦‚æœæŠŠä¸€ä¸ªä¼ ç»Ÿçš„ã€ä¸åŒ…å«æ¨¡å—å®šä¹‰çš„JARæ–‡ä»¶æ”¾ç½®åˆ°æ¨¡å—è·¯å¾„ä¸­ï¼Œå®ƒå°±ä¼šå˜æˆä¸€ä¸ªè‡ªåŠ¨æ¨¡å—ï¼ˆAutomatic Moduleï¼‰ã€‚å°½ç®¡ä¸åŒ…å«module-info.classï¼Œä½†è‡ªåŠ¨æ¨¡å—å°†é»˜è®¤ä¾èµ–äºæ•´ä¸ªæ¨¡å—è·¯å¾„ä¸­çš„æ‰€æœ‰æ¨¡å— æ¨¡å—åŒ–ä¸‹çš„ç±»åŠ è½½å™¨ æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtension Class Loaderï¼‰è¢«å¹³å°ç±»åŠ è½½å™¨ï¼ˆPlatform Class Loaderï¼‰å–ä»£ æ–°ç‰ˆçš„JDKä¹Ÿæ²¡äº†jre ç°åœ¨å¯ä»¥ç”¨è¿‡jlinkæ‰“åŒ…å‡ºä¸€ä¸ªjreï¼š jlink -p $JAVA_HOME/jmods --add-modules java.base --output jre å¹³å°ç±»åŠ è½½å™¨å’Œåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨éƒ½ä¸å†æ´¾ç”Ÿè‡ªjava.net.URLClassLoader æ¨¡å—åŒ–åŸåˆ™ å¼ºå°è£…æ€§ï¼šä¸€ä¸ªæ¨¡å—å¿…é¡»èƒ½å¤Ÿå¯¹å…¶ä»–æ¨¡å—éšè—å…¶éƒ¨åˆ†ä»£ç  å®šä¹‰è‰¯å¥½çš„æ¥å£ï¼šæ¨¡å—å¿…é¡»å‘å…¶ä»–æ¨¡å—å…¬å¼€å®šä¹‰è‰¯å¥½ä¸”ç¨³å®šçš„æ¥å£ æ˜¾å¼ä¾èµ–ï¼šæ˜ç¡®ä¸€ä¸ªæ¨¡å—éœ€è¦å“ªäº›æ¨¡å—çš„æ”¯æŒæ‰èƒ½å®Œæˆå·¥ä½œ Java 9 Jigsaw ä»¥æ¨¡å—(module)ä¸ºä¸­å¿ƒ JDK æœ¬èº«è¿›è¡Œæ¨¡å—åŒ– æ¨¡å—ç³»ç»Ÿ åœ¨æ¨¡å—ä¸­ï¼Œä»ä»¥åŒ…-ç±»æ–‡ä»¶ç»“æ„å­˜åœ¨ æ¯ä¸ªæ¨¡å—ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªmodule-info.java jlink æ­¥éª¤ åœ¨srcä¸‹é¢å»ºç«‹ä¸€ä¸ªç›®å½•module.hello(æ¨¡å—åå­—ï¼Œå¯è‡ªç”±å®š) åœ¨module.helloç›®å½•ä¸‹ï¼Œå»ºç«‹cn\\helloç›®å½•ï¼Œå†å»ºç«‹HelloWorld.java åœ¨module.helloç›®å½•ä¸‹ï¼Œå»ºç«‹ä¸€ä¸ªmodule-info.java module-info.java module module.hello { // æ¨¡å—å requires java.base; // éœ€è¦çš„æ¨¡å— exports module.hello.wang.ismy.module; // å¯¼å‡ºçš„æ¨¡å— } å•çº¯requiresï¼Œæ¨¡å—ä¾èµ–ä¸ä¼šä¼ é€’ requires transitive java.net.http; // ä¼ é€’ä¾èµ– requires java.se; // è°ƒç”¨ä¸€ä¸ªèšåˆæ¨¡å— exports module.hello.wang.ismy.module to java.xml; // å¯¼å‡ºçš„æ¨¡å—åªé™å®šjava.xmlç”¨ open exportså¯¼å‡ºçš„åŒ…çš„publicéƒ¨åˆ†å¯ä»¥åå°„ï¼Œå…¶ä»–æƒé™ä¿®é¥°çš„å†…å®¹å’Œæœªå¯¼å‡ºçš„å†…å®¹æ— æ³•åå°„(setAccessible(true)ä¹Ÿæ— æ•ˆ) openså¯ä»¥æ‰“å¼€ä¸€äº›åŒ…ï¼Œå…¶ä»–æ¨¡å—å¯ä»¥åå°„è°ƒç”¨è¿™äº›åŒ…åŠå†…å®¹ open module module.hello { // å¼€æ”¾æ•´ä¸ªæ¨¡å— opens wang.ismy.module; // å¼€æ”¾æŸä¸ªåŒ… } æœåŠ¡ providesæä¾›æ¥å£ï¼Œwithå®ç°ç±»(ä¸å¯¼å‡º) usesæ¶ˆè´¹æ¥å£ ServiceLoaderåŠ è½½æ¥å£çš„å®ç°ç±» module module1 { exports wang.ismy.module1; provides wang.ismy.module1.Service with wang.ismy.module1.impl.ServiceImpl, wang.ismy.module1.impl.ServiceImpl2; } module module2 { requires module1; uses wang.ismy.module1.Service; } ä½¿ç”¨ ServiceLoader serviceLoader = ServiceLoader.load(Service.class); for (Service service : serviceLoader) { service.run(); } ç‰¹ç‚¹ ä»æ ¹æºä¸Šå¯¹JDKè¿›è¡Œæ¨¡å—åŒ–ï¼Œé™ä½æœ€ç»ˆç¨‹åºè¿è¡Œæ—¶è´Ÿè½½ åœ¨jarå±‚ä¸Šå¢åŠ ä¸€ä¸ªmoduleæœºåˆ¶ å¼•å…¥exports/requires/opensæ˜ç¡®æ¨¡å—è¾¹ç•Œå’Œä¾èµ–å…³ç³»ï¼Œç¨‹åºæ›´éšç§å®‰å…¨ å¼•å…¥æœåŠ¡provides/usesä½¿å¾—ç¨‹åºæ›´è§£è€¦ â€“jlinkåˆ¶ä½œè¿è¡Œæ—¶æ˜ åƒï¼Œä½¿è¿ç»´æ›´é«˜æ•ˆ OSGI åŠ¨æ€JAVAæ¨¡å—åŒ–ç³»ç»Ÿ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-27 06:32:23 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/JDBC.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/JDBC.html","title":"JDBC","keywords":"","body":"JDBC Javaæ•°æ®åº“è¿æ¥ï¼Œï¼ˆJava Database Connectivityï¼Œç®€ç§°JDBCï¼‰æ˜¯Javaè¯­è¨€ä¸­ç”¨æ¥è§„èŒƒå®¢æˆ·ç«¯ç¨‹åºå¦‚ä½•æ¥è®¿é—®æ•°æ®åº“çš„åº”ç”¨ç¨‹åºæ¥å£ï¼Œæä¾›äº†è¯¸å¦‚æŸ¥è¯¢å’Œæ›´æ–°æ•°æ®åº“ä¸­æ•°æ®çš„æ–¹æ³•ã€‚JDBCä¹Ÿæ˜¯Sun Microsystemsçš„å•†æ ‡ã€‚JDBCæ˜¯é¢å‘å…³ç³»å‹æ•°æ®åº“çš„ã€‚ å¸¸ç”¨ç±» æ¥å£æˆ–ç±» ä½œç”¨ DriverManager ç±» 1) ç®¡ç†å’Œæ³¨å†Œæ•°æ®åº“é©±åŠ¨ 2) å¾—åˆ°æ•°æ®åº“è¿æ¥å¯¹è±¡ Connection æ¥å£ ä¸€ä¸ªè¿æ¥å¯¹è±¡ï¼Œå¯ç”¨äºåˆ›å»º Statement å’Œ PreparedStatement å¯¹è±¡ Statement æ¥å£ ä¸€ä¸ª SQL è¯­å¥å¯¹è±¡ï¼Œç”¨äºå°† SQL è¯­å¥å‘é€ç»™æ•°æ®åº“æœåŠ¡å™¨ã€‚ PreparedStatemen æ¥å£ ä¸€ä¸ª SQL è¯­å¥å¯¹è±¡ï¼Œæ˜¯ Statement çš„å­æ¥å£ ResultSet æ¥å£ ç”¨äºå°è£…æ•°æ®åº“æŸ¥è¯¢çš„ç»“æœé›†ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ Java ç¨‹åº ä» JDBC3 å¼€å§‹ï¼Œç›®å‰å·²ç»æ™®éä½¿ç”¨çš„ç‰ˆæœ¬ã€‚å¯ä»¥ä¸ç”¨æ³¨å†Œé©±åŠ¨è€Œç›´æ¥ä½¿ç”¨ã€‚Class.forName è¿™å¥è¯å¯ä»¥çœç•¥ æ•°æ®ç±»å‹ SQL ç±»å‹ JDBC å¯¹åº”æ–¹æ³• è¿”å›ç±»å‹ BIT(1),bit(n) getBoolean() boolean TINYINT getByte() byte SAMLLINT getShort() short INT getInt() int BIGINT getLong() long CHAR,VHARCHAR getString() String Text(Clob),Blob getClob(),getBlob() Clob,Blob DATE getDate() java.sql.Date æ—¥æœŸ TIME getTime() java.sql.time æ—¶é—´ TIMESTAMP getTime() java.sql.TimeStamp æ—¥æœŸæ—¶é—´ ç»å…¸æŸ¥è¯¢ try(Connection connection = DriverManager.getConnection(\"jdbc:mysql:///test?user=root&password=123\")){ ResultSet rs = connection.createStatement().executeQuery(\"select * from account\"); while (rs.next()){ System.out.println(rs.getString(\"name\")+\"|\"+rs.getDouble(\"balance\")); } }catch (SQLException e){ e.printStackTrace(); } SQLæ³¨å…¥ä¸PreparedStatement ä½¿ç”¨ PreparedStatement é¿å… SQLæ³¨å…¥ äº‹åŠ¡æ§åˆ¶ connection.setAutoCommit(false); connection.commit(); connection.rollback(); æ•°æ®åº“è¿æ¥æ±  æ•°æ®åº“è¿æ¥æ± è´Ÿè´£åˆ†é…ã€ç®¡ç†å’Œé‡Šæ”¾æ•°æ®åº“è¿æ¥ï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œè€Œä¸æ˜¯å†é‡æ–°å»ºç«‹ä¸€ä¸ªï¼›é‡Šæ”¾ç©ºé—²æ—¶é—´è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´çš„æ•°æ®åº“è¿æ¥æ¥é¿å…å› ä¸ºæ²¡æœ‰é‡Šæ”¾æ•°æ®åº“è¿æ¥è€Œå¼•èµ·çš„æ•°æ®åº“è¿æ¥é—æ¼ã€‚è¿™é¡¹æŠ€æœ¯èƒ½æ˜æ˜¾æé«˜å¯¹æ•°æ®åº“æ“ä½œçš„æ€§èƒ½ã€‚ c3p0 druid å‚æ•° ç©ºé—²çº¿ç¨‹æ•°ï¼šåˆå§‹åŒ–çº¿ç¨‹ï¼Œè¿˜æ²¡è¢«ä½¿ç”¨ æ´»åŠ¨çº¿ç¨‹æ•°ï¼šæ­£åœ¨è¢«ä½¿ç”¨çš„ æœ€å¤§çº¿ç¨‹æ•°ï¼šé™åˆ¶æœ€å¤šåªèƒ½åˆ›å»ºçš„çº¿ç¨‹æ•° JDBCUtils æä¾›é™æ€ä»£ç å—åŠ è½½é…ç½®æ–‡ä»¶ï¼Œåˆå§‹åŒ–è¿æ¥æ± å¯¹è±¡ æä¾›æ–¹æ³• è·å–è¿æ¥æ–¹æ³•ï¼šé€šè¿‡æ•°æ®åº“è¿æ¥æ± è·å–è¿æ¥ é‡Šæ”¾èµ„æº è·å–è¿æ¥æ± çš„æ–¹æ³• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-28 07:54:01 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/è¯­æ³•ç³–.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/è¯­æ³•ç³–.html","title":"è¯­æ³•ç³–","keywords":"","body":" è¯­æ³•ç³–ï¼ˆSyntactic sugarï¼‰æ˜¯ç”±è‹±å›½è®¡ç®—æœºç§‘å­¦å®¶å½¼å¾—Â·å…°ä¸å‘æ˜çš„ä¸€ä¸ªæœ¯è¯­ï¼ŒæŒ‡è®¡ç®—æœºè¯­è¨€ä¸­æ·»åŠ çš„æŸç§è¯­æ³•ï¼Œè¿™ç§è¯­æ³•å¯¹è¯­è¨€çš„åŠŸèƒ½æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯æ›´æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨ã€‚è¯­æ³•ç³–è®©ç¨‹åºæ›´åŠ ç®€æ´ï¼Œæœ‰æ›´é«˜çš„å¯è¯»æ€§ã€‚ ForEach for(type element: array){ System.out.println(element); } æšä¸¾ public enum Size{ SMALL,MEDIUM,LARGE; } Enumçš„å­ç±» æœ‰å¤šå°‘å€¼ï¼Œåˆ™æœ‰å¤šå°‘å®ä¾‹å¯¹è±¡ æ— æ³•ç›´æ¥åˆ›å»º å¯ä»¥æ·»åŠ å±æ€§ã€æ„é€ å‡½æ•°ã€æ–¹æ³• æ„é€ å‡½æ•°åªèƒ½ä¸ºç§æœ‰ ä¸å®šé¡¹å‚æ•° public void method(String a,String...b){ } å›ºå®šå‚æ•°é‡è½½ä¼˜å…ˆçº§æ¯”ä¸å®šé¡¹é«˜ é™æ€å¯¼å…¥ import static org.junit.Assert.*; å¯¼å…¥ä¸€ä¸ªç±»çš„é™æ€æ–¹æ³•ä¸é™æ€å˜é‡ è‡ªåŠ¨è£…æ‹†ç®± Integer a = 1; è¯¥åŠŸèƒ½ç”±ç¼–è¯‘å™¨æä¾› åŸºç¡€ç±»å‹ä¸å°è£…ç±»å‹è¿ç®—æ—¶ï¼Œä¼šè§¦å‘æ‹†è£…ç®± å¤šå¼‚å¸¸å¹¶åˆ— try{ //... }catch(Exception1 | Exception2 e){ //... } ä¸èƒ½æœ‰ç›´æ¥æˆ–é—´æ¥çš„ç»§æ‰¿å…³ç³» æ•°å€¼æ–°ç‰¹æ€§ int a = 0b11100111; // å¯ç›´æ¥ä½¿ç”¨äºŒè¿›åˆ¶ int b = 9999_99999; // å¯ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å‰² æ¥å£æ–¹æ³• default boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { return true; } æ¥å£é™æ€æ–¹æ³• public interface Runnable { static void run(){ System.out.println(\"!111\"); } } åªèƒ½é€šè¿‡æ¥å£åæ¥è°ƒç”¨ æ¥å£ç§æœ‰æ–¹æ³• public interface Runnable { static void run(){ say(); } private static void say(){ System.out.println(\"say\"); } } try-with-resource try(FileOutputStream fos = new FileOutputStream(\"\")){ //JDK7 } catch (IOException e) { e.printStackTrace(); } FileOutputStream fos = new FileOutputStream(\"\"); // JDK9 try(fos){ } catch (IOException e) { e.printStackTrace(); } èµ„æºç±»å¿…é¡»å®ç°AutoCloseableæ¥å£ var var a = 1; ç”±ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ¨æ–­ var obj = new Object(){ public void print(){ System.out.println(\"print\"); } }; obj.print(); switchè¡¨è¾¾å¼ int ret= switch (a){ case 1-> 100; case 2 -> 200; default -> -1; }; MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/ç¼–è¯‘å™¨API.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/ç¼–è¯‘å™¨API.html","title":"ç¼–è¯‘å™¨API","keywords":"","body":" å¯¹.javaæ–‡ä»¶å³æ—¶ç¼–è¯‘ å¯¹å­—ç¬¦ä¸²å³æ—¶ç¼–è¯‘ ç›‘å¬ç¼–è¯‘ä¸é”™è¯¯ ç¼–è¯‘æ–‡ä»¶ JavaCompiler javaCompiler = ToolProvider.getSystemJavaCompiler(); javaCompiler.run(null,null,null,\"path\"); ç¼–è¯‘å­—ç¬¦ä¸² private static Class compile(String className, String javaCodes) { //å°†å­—ç¬¦ä¸²åŒ…è£…ä¸ºSimpleJavaFileObjectå¯¹è±¡ JavaSourceFromString srcObject = new JavaSourceFromString(className, javaCodes); System.out.println(srcObject.getCode()); Iterable fileObjects = Arrays.asList(srcObject); JavaCompiler compiler = ToolProvider.getSystemJavaCompiler(); StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null); DiagnosticCollector diagnosticCollector = new DiagnosticCollector(); //è®¾ç½®ç¼–è¯‘çš„è¾“å‡ºç›®å½•ï¼Œå¹¶åŒ…è£…åœ¨optionsä¸­ String flag = \"-d\"; String outDir = \"\"; try { File classPath = new File(Thread.currentThread().getContextClassLoader().getResource(\"\").toURI()); outDir = classPath.getAbsolutePath() + File.separator; System.out.println(outDir); } catch (URISyntaxException e1) { e1.printStackTrace(); } Iterable options = Arrays.asList(flag, outDir); //JavaCompiler.getTaskæ–¹æ³•ï¼šä»¥futureçš„ä»»åŠ¡å½¢å¼(å¤šçº¿ç¨‹)ï¼Œæ¥æ‰§è¡Œç¼–è¯‘ä»»åŠ¡ // ç¬¬ä¸€ä¸ªå‚æ•°ï¼šé¢å¤–è¾“å‡ºæµï¼Œnullè¡¨ç¤ºé»˜è®¤ä½¿ç”¨system.err // ç¬¬äºŒä¸ªå‚æ•°ï¼šæ–‡ä»¶ç®¡ç†å™¨ï¼Œnullè¡¨ç¤ºç¼–è¯‘å™¨æ ‡å‡†æ–‡ä»¶ç®¡ç†å™¨ // ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šè¯Šæ–­ç›‘å¬å™¨ï¼Œnullè¡¨ç¤ºä½¿ç”¨ç¼–è¯‘å™¨é»˜è®¤æ–¹æ³•æ¥æŠ¥å‘Šè¯Šæ–­ä¿¡æ¯ // ç¬¬å››ä¸ªå‚æ•°ï¼šç¼–è¯‘å™¨å‚æ•°ï¼Œnullè¡¨ç¤ºæ— å‚æ•° // ç¬¬äº”ä¸ªå‚æ•°ï¼šéœ€è¦ç»è¿‡annotationå¤„ç†çš„ç±»åï¼Œnullè¡¨ç¤ºæ²¡æœ‰ç±»éœ€è¦annotationå¤„ç† // ç¬¬å…­ä¸ªå‚æ•°ï¼šå¾…ç¼–è¯‘çš„ç±» JavaCompiler.CompilationTask task = compiler.getTask(null, fileManager, diagnosticCollector, options, null, fileObjects); //ç­‰å¾…ç¼–è¯‘ç»“æŸ boolean result = task.call(); if (result == true) { try { return Class.forName(className); } catch (ClassNotFoundException e) { e.printStackTrace(); } } else { //print the Diagnostic's information for (Diagnostic diagnostic : diagnosticCollector .getDiagnostics()) { System.out.println(\"Error on line: \" + diagnostic.getLineNumber() + \"; URI: \" + diagnostic.getSource().toString()); } } return null; } public class JavaSourceFromString extends SimpleJavaFileObject { private String code; public JavaSourceFromString(String name, String code) { super(URI.create(\"string:///\" + name.replace('.', '/') + Kind.SOURCE.extension), Kind.SOURCE); this.code = code; } public CharSequence getCharContent(boolean ignoreEncodingErrors) { return code; } public String getCode() { return code; } } åº”ç”¨ JSPç¼–è¯‘ åœ¨çº¿ç¼–ç¨‹ è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/JAVAè¿è¡Œç®¡ç†.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/é«˜çº§/JAVAè¿è¡Œç®¡ç†.html","title":"Java è¿è¡Œç®¡ç†","keywords":"","body":"JAVAè¿è¡Œç®¡ç† OSç®¡ç† è¿›ç¨‹çº§åˆ«çš„ç®¡ç†(é»‘ç›’) CPU/å†…å­˜/IOç­‰å…·ä½“æ€§èƒ½ç›‘æ§ topå‘½ä»¤ vmstatå‘½ä»¤ JVMç®¡ç† çº¿ç¨‹/ç¨‹åºçº§åˆ«çš„ç®¡ç†(ç™½ç›’) æŸ¥çœ‹è™šæ‹Ÿæœºè¿è¡Œæ—¶å„é¡¹ä¿¡æ¯ â€“è·Ÿè¸ªç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ï¼ŒæŸ¥çœ‹ç¨‹åºè¿è¡Œæ—¶ä¿¡æ¯ é™åˆ¶ç¨‹åºå¯¹èµ„æºçš„ä½¿ç”¨ å°†å†…å­˜å¯¼å‡ºä¸ºæ–‡ä»¶è¿›è¡Œå…·ä½“åˆ†æ JMX JMXæ˜¯ä¸€ä¸ªä¸ºåº”ç”¨ç¨‹åºæ¤å…¥ç®¡ç†åŠŸèƒ½çš„æ¡†æ¶ ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•Javaåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è¿™äº›ä»£ç†å’ŒæœåŠ¡å®ç°ç®¡ç† MBean ä»£è¡¨ç€ä¸€ä¸ªè¢«ç®¡ç†çš„å¯¹è±¡ï¼Œç±»ä¼¼JavaBean å¯¹å¤–æš´éœ²ä¸€ä¸ªç®¡ç†æ¥å£ï¼Œå³ä¸€äº›å¯è¯»/å†™çš„å±æ€§ï¼Œä¸€äº›å¯æ“ä½œçš„æ–¹æ³• Agent å¤–ç•Œé€šè¿‡Agentå¯ä»¥è®¿é—®åˆ°MBean ä¼˜ç‚¹ JMXä¸éœ€è¦è¾ƒå¤§æˆæœ¬ï¼Œå³å¯ç®¡ç†åº”ç”¨ç¨‹åº JMXæä¾›ä¸€å¥—æ ‡å‡†åŒ–æ–¹æ³•ï¼Œæ¥ç®¡ç†åŸºäºJavaçš„åº”ç”¨ç¨‹åº/ç³»ç»Ÿ/ç½‘ç»œ JMXè¢«ç”¨æ¥ä½œä¸ºJVMçš„å¤–åœ¨ç®¡ç†æ–¹å¼ JMXæä¾›äº†ä¸€ä¸ªå¯æ‰©å±•ã€åŠ¨æ€çš„ç®¡ç†æ¶æ„ JMXå……åˆ†åˆ©ç”¨å·²æœ‰çš„JavaæŠ€æœ¯ JMXå®¹æ˜“å’Œç°æœ‰çš„ç®¡ç†æŠ€æœ¯è¿›è¡Œé›†æˆ JAVAè¿è¡Œå®‰å…¨ å¯ç”¨ System.setSecurityManager(new SecurityManager()); java â€“Djava.security.manager â€“Djava.security.policy=My.policy HelloWorld å®‰å…¨ç­–ç•¥æ–‡ä»¶ å»ºç«‹ä»£ç æ¥æºå’Œè®¿é—®æƒé™çš„å…³ç³» permission java.io.FilePermission â€œ/tmp/*â€, â€œread, writeâ€ FilePermission p = new FilePermission(\"/tmp/*\",\"read,write\"); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/JAVAæºç è§£æ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/JAVAæºç è§£æ.html","title":"Java æºç è§£æ","keywords":"","body":"JAVAæºç è§£æ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 08:00:00 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/åŸºç¡€.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/åŸºç¡€.html","title":"åŸºç¡€","keywords":"","body":"åŸºç¡€ String Stringä¸å¯å˜çš„åŸå›  Stringå†…éƒ¨æ˜¯å®ç°byteæ•°ç»„å®ç°çš„ private final byte[] value; å¹¶ä¸”è¿™ä¸ªæ•°ç»„ä¸€æ—¦èµ‹ä¸Šå€¼ï¼Œå°±æ— æ³•å†ä¿®æ”¹è¿™ä¸ªæ•°ç»„çš„å¼•ç”¨äº†ï¼ŒåŒæ—¶Stringå°è£…çš„å¾ˆå¥½ï¼Œæ²¡æœ‰æä¾›å¤–éƒ¨å…¬å¼€æ¥å£èƒ½ç›´æ¥æ“ä½œè¿™ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”Stringç±»ä¸ºfinalçš„ï¼Œä¿è¯ä¸ä¼šè¢«ç»§æ‰¿ï¼Œæ–¹æ³•ä¹Ÿä¸ä¼šè¢«è¦†å†™ï¼Œæ‰€ä»¥Stringä¸å¯å˜ equalsåŸç† if (this == obj){ return true; } if (obj instanceof String){ if (this.value.length == obj.value.length){ for(0...obj.length){ if (this.value[i] != obj.value[i]){ return false; } } } } return false; é—®ï¼šå¦‚ä½•è§£å†³ String ä¹±ç  é€‰æ‹©å¯ä»¥è¡¨ç¤ºä¸­æ–‡çš„å­—ç¬¦é›† åœ¨å¯ä»¥æŒ‡å®šå­—ç¬¦é›†çš„åœ°æ–¹æŒ‡å®šå­—ç¬¦é›† Long Longä¸Integerä¸€æ ·ï¼Œéƒ½å¯¹ä¸€å®šèŒƒå›´å†…çš„å€¼åšäº†ç¼“å­˜ï¼Œæ‰€ä»¥æœ‰äº›Longå¯¹è±¡ï¼Œæ•°å€¼ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”¨==æ¯”è¾ƒä¼šç›¸ç­‰ é—®ï¼šä¸ºä»€ä¹ˆä½¿ç”¨ Long æ—¶ï¼Œå¤§å®¶æ¨èå¤šä½¿ç”¨ valueOf æ–¹æ³•ï¼Œå°‘ä½¿ç”¨ parseLong æ–¹æ³• ç­”ï¼švalueOfæœ‰åšç¼“å­˜ å¸¸ç”¨å…³é”®å­— static ä¿®é¥°ç±»å˜é‡ æ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜ ä¿®é¥°æ–¹æ³• æ–¹æ³•å¯ä»¥é€šè¿‡ç±»ç›´æ¥è°ƒç”¨ ä¿®é¥°ä»£ç å— ä½¿ç”¨åˆ°é™æ€å˜é‡çš„ä»£ç å—å¯ä»¥åœ¨ä»»ä½•ä½ç½® åˆå§‹åŒ–æ—¶æœº çˆ¶ç±»çš„é™æ€å˜é‡å’Œé™æ€å—æ¯”å­ç±»ä¼˜å…ˆåˆå§‹åŒ–ï¼› é™æ€å˜é‡å’Œé™æ€å—æ¯”ç±»æ„é€ å™¨ä¼˜å…ˆåˆå§‹åŒ–ã€‚ é—®ï¼šå¦‚ä½•è¯æ˜ static é™æ€å˜é‡å’Œç±»å®ä¾‹æ— å…³ ç­”ï¼šä¸éœ€è¦åˆ›å»ºè¯¥ç±»çš„å®ä¾‹å°±å¯ä»¥ä½¿ç”¨é™æ€å˜é‡ä¸é™æ€æ–¹æ³• é—®ï¼šå˜é‡å’Œæ–¹æ³•è¢« static å’Œ final ä¸¤ä¸ªå…³é”®å­—ä¿®é¥°ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåš ç­”ï¼šstaticå¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›æ–¹æ³•ä¸å˜é‡ï¼Œfinalåˆ™æ˜¯å˜é‡åœ°å€ä¸å¯å˜ï¼Œæ–¹æ³•ä¸å¯è¦†å†™ï¼Œæå‡ç¨³å®šæ€§ é—®ï¼šatch ä¸­å‘ç”Ÿäº†æœªçŸ¥å¼‚å¸¸ï¼Œfinally è¿˜ä¼šæ‰§è¡Œä¹ˆ ç­”ï¼šä¼šï¼Œä½†æ˜¯å¼‚å¸¸ä¼šè¢«catchåæ‰ final è¢« final ä¿®é¥°çš„ç±»ï¼Œè¡¨æ˜è¯¥ç±»æ˜¯æ— æ³•ç»§æ‰¿çš„ï¼› è¢« final ä¿®é¥°çš„æ–¹æ³•ï¼Œè¡¨æ˜è¯¥æ–¹æ³•æ˜¯æ— æ³•è¦†å†™çš„ï¼› è¢« final ä¿®é¥°çš„å˜é‡ï¼Œè¯´æ˜è¯¥å˜é‡åœ¨å£°æ˜çš„æ—¶å€™ï¼Œå°±å¿…é¡»åˆå§‹åŒ–å®Œæˆï¼Œè€Œä¸”ä»¥åä¹Ÿä¸èƒ½ä¿®æ”¹å…¶å†…å­˜åœ°å€ ç¬¬ä¸‰ç‚¹æ— æ³•ä¿®æ”¹å†…å­˜åœ°å€æŒ‡çš„æ˜¯æ— æ³•ä¿®æ”¹å¼•ç”¨ï¼Œè€Œä¸ä»£è¡¨å¼•ç”¨æ‰€æŒ‡çš„å¯¹è±¡å†…éƒ¨æ— æ³•ä¿®æ”¹ tryã€catchã€finally ä»£ç çš„æ‰§è¡Œé¡ºåºä¸ºï¼štry -> catch -> finally volatile å¸¸ç”¨æ¥ä¿®é¥°æŸä¸ªå…±äº«å˜é‡ï¼Œæ„æ€æ˜¯å½“å…±äº«å˜é‡çš„å€¼è¢«ä¿®æ”¹åï¼Œä¼šåŠæ—¶é€šçŸ¥åˆ°å…¶å®ƒçº¿ç¨‹ä¸Šï¼Œå…¶å®ƒçº¿ç¨‹å°±èƒ½çŸ¥é“å½“å‰å…±äº«å˜é‡çš„å€¼å·²ç»è¢«ä¿®æ”¹äº† å‡ºç°è¿™ç§æƒ…å†µä¸»è¦æ˜¯å› ä¸ºJAVAçš„å†…å­˜æ¨¡å‹ä¸­çš„çº¿ç¨‹æ‹¥æœ‰ä¸€ä¸ªå·¥ä½œåŒºï¼Œçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„è¯»å†™éƒ½è¦å…ˆå°†å˜é‡ä»ä¸»å­˜æ‹‰åˆ°å·¥ä½œåŒºå¯¹å…¶ä¿®æ”¹ï¼Œä¿®æ”¹åå†å°†å…¶å†™å›åˆ°ä¸»å­˜ transient å¸¸ç”¨æ¥ä¿®é¥°ç±»å˜é‡ï¼Œæ„æ€æ˜¯å½“å‰å˜é‡æ˜¯æ— éœ€è¿›è¡Œåºåˆ—åŒ–çš„ default åŠ åœ¨æ¥å£çš„æ–¹æ³•ä¸Šï¼Œä¿®é¥°ä¹‹åè¯¥æ–¹æ³•å°±ä»£è¡¨æ˜¯ä¸€ä¸ªé»˜è®¤å®ç°ï¼Œå¦‚æœå…¶ä»–ç±»ç»§æ‰¿è¯¥æ¥å£ï¼Œå°±å¯ä»¥ä¸ç”¨å®ç°è¯¥æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨è¿™ä¸ªé»˜è®¤å®ç° jdkå¸¸ç”¨å·¥å…·ç±» Arrays sort ä½¿ç”¨çš„åŒè½´å¿«é€Ÿæ’åº binarySearch copyOfã€copyOfRange Collections minã€max è¿™é‡Œå¯ä»¥å­¦ä¹ ä¸€ä¸‹æœ€å€¼æ–¹æ³•è¿”å›å€¼æ³›å‹çš„å®šä¹‰ï¼š public static > T max ä»£è¡¨Tå¿…é¡»ç»§æ‰¿è‡ªObjectä¸”å®ç°äº†Comparableæ¥å£ åŒ…è£…çº¿ç¨‹å®‰å…¨çš„é›†åˆ synchronizedæ‰“å¤´çš„æ–¹æ³•å¯ä»¥å°†æŒ‡å®šçš„é›†åˆåŒ…è£…æˆçº¿ç¨‹å®‰å…¨çš„é›†åˆ å…·ä½“åŸç†æ˜¯Collectionså†…éƒ¨æœ‰è¿™äº›å¯¹åº”çš„çº¿ç¨‹å®‰å…¨é›†åˆï¼Œè¿™äº›é›†åˆå†…éƒ¨ç»„åˆçº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆï¼Œé€šè¿‡synchronizedåŠ é”æ¥æ“ä½œå†…éƒ¨çš„è¿™äº›é›†åˆ ä¸å¯å˜é›†åˆ unmodifiable æ‰“å¤´çš„æ–¹æ³•åˆ™æ˜¯ä¼šå¾—åˆ°ä¸€äº›ä¸å¯å˜é›†åˆï¼Œè¿™äº›é›†åˆä¸èƒ½æ‰§è¡Œä¿®æ”¹æ“ä½œï¼Œå¦åˆ™ä¼šæŠ›å¼‚å¸¸ï¼Œä¹Ÿæ˜¯é€šè¿‡å¯¹é›†åˆçš„åŒ…è£…æ¥å®ç°çš„ Objects equals Objectsçš„equalså†…éƒ¨çš„æ¯”è¾ƒé‡‡ç”¨äº†deepEqualsï¼Œè¿™æ ·å³ä½¿ä¸¤ä¸ªå¯¹è±¡æ˜¯æ•°ç»„ï¼Œä¹Ÿèƒ½æ”¾å¿ƒæ¯”è¾ƒ ä¸€äº›åˆ¤ç©ºæ–¹æ³• é—®ï¼šå¦‚ä½•å†™å¥½ä¸€ä¸ªå·¥å…·ç±» ç­”ï¼š static final å…³é”®å­—å¯¹æ–¹æ³•è¿›è¡Œä¿®é¥°ï¼Œå·¥å…·ç±»æ„é€ å™¨å¿…é¡»æ˜¯ç§æœ‰ç­‰ç­‰æ‰‹æ®µ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-19 08:25:46 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/é›†åˆ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/é›†åˆ.html","title":"é›†åˆ","keywords":"","body":"é›†åˆ ç±»å±‚æ¬¡ç»“æ„ å¯ä»¥å­¦ä¹ äººå®¶çš„æ¥å£æ˜¯æ€ä¹ˆåˆ’åˆ†çš„ï¼Œè¿™ä¸ªç±»è™½ç„¶æ¥å£ä¼—å¤šï¼Œä½†æ˜¯èŒè´£å´å¾ˆæ¸…æ™° ä»¥åŠäººå®¶æ˜¯å¦‚ä½•å¤ç”¨å·²æœ‰çš„ä»£ç æ¥å®ç°æ–°åŠŸèƒ½ æ³¨æ„äº‹é¡¹ çº¿ç¨‹å®‰å…¨ Collections å¸®æˆ‘ä»¬å®ç°äº† Listã€Setã€Map å¯¹åº”çš„çº¿ç¨‹å®‰å…¨çš„æ–¹æ³• synchronizedæ‰“å¤´çš„æ–¹æ³•å¯ä»¥å°†æŒ‡å®šçš„é›†åˆåŒ…è£…æˆçº¿ç¨‹å®‰å…¨çš„é›†åˆ é›†åˆæ€§èƒ½ æ‰¹é‡æ–°å¢ åœ¨ List å’Œ Map å¤§é‡æ•°æ®æ–°å¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸è¦ä½¿ç”¨ for å¾ªç¯ + add/put æ–¹æ³•æ–°å¢ï¼Œè¿™æ ·å­ä¼šæœ‰å¾ˆå¤§çš„æ‰©å®¹æˆæœ¬ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡ä½¿ç”¨ addAll å’Œ putAll æ–¹æ³•è¿›è¡Œæ–°å¢ æ‰¹é‡åˆ é™¤ ArrayListçš„removeæ–¹æ³•ï¼Œåˆ é™¤ä¹‹åéƒ½ä¼šå¯¹è¢«åˆ é™¤ä½ç½®çš„å…ƒç´ è¿›è¡Œç§»åŠ¨ï¼Œå¦‚æœè¿›è¡Œå¾ªç¯removeï¼Œä¼šé€ æˆæ€§èƒ½é—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨removeAllæ–¹æ³•ï¼Œè¿™ä¸ªæ‰¹é‡åˆ é™¤æ¥å£åªä¼šå¯¹æ•°ç»„çš„å…ƒç´ ç§»åŠ¨ä¸€æ¬¡ é›†åˆçš„å‘ Arrays.asList(array),å½“arrayè¢«ä¿®æ”¹æ—¶ï¼Œä¼šé€ æˆlistä¹Ÿè¢«ä¿®æ”¹ toArray æ–¹æ³•å¦‚æœå£°æ˜çš„æ•°ç»„å°äºlisté•¿åº¦ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç©ºæ•°ç»„ JAVA7åˆ°JAVA8é›†åˆçš„å‡çº§ æ‰€æœ‰é›†åˆéƒ½æ–°å¢äº†forEach æ–¹æ³• JAVA7ä¸­ArrayListæ— å‚åˆå§‹åŒ–æ˜¯ç›´æ¥åˆå§‹åŒ–10ï¼ŒJAVA8æ— å‚åˆå§‹åŒ–åˆ™æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ JAVA7ä¸­çš„HashMapæ— å‚åˆå§‹åŒ–çš„å¤§å°æ˜¯16ï¼ŒJAVA8æ— å‚åˆå§‹åŒ–åˆ™æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¹¶ä¸”å¼•å…¥äº†çº¢é»‘æ ‘ï¼Œå¹¶ä¸”å¢åŠ äº†xxIfAbsentç­‰æ–¹æ³• Arrays æä¾›äº†å¾ˆå¤š parallel å¼€å¤´çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ”¯æŒå¹¶è¡Œè®¡ç®— Guava å·¥å‚æ¨¡å¼åˆå§‹åŒ– HashMap map = Maps.newHashMap(); Lists ArrayList list = Lists.newArrayList(); ArrayList objects = Lists.newArrayListWithCapacity(10); // ä¸çŸ¥é“ç²¾ç¡®å€¼ï¼Œç»™å‡ºä¸€ä¸ªæ¨¡ç³Šå€¼ ArrayList objects1 = Lists.newArrayListWithExpectedSize(20); // åè½¬ä¸€ä¸ªlistï¼Œå¹¶éç‰©ç†åè½¬ï¼Œè€Œæ˜¯é€šè¿‡å¯¹ä¼ å…¥indexçš„å¤„ç†å®ç°çš„ var list = Lists.reverse(list) // listæ‹†åˆ† var list = Lists.partition(list,3) Maps MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 08:00:00 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/List.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/List.html","title":"List","keywords":"","body":"Listæºç è§£æ ArrayList æ¶æ„ DEFAULT_CAPACITY è¡¨ç¤ºæ•°ç»„çš„åˆå§‹å¤§å°ï¼Œé»˜è®¤æ˜¯ 10 size è¡¨ç¤ºå½“å‰æ•°ç»„çš„å¤§å° modCount ç»Ÿè®¡å½“å‰æ•°ç»„è¢«ä¿®æ”¹çš„ç‰ˆæœ¬æ¬¡æ•°ï¼Œæ•°ç»„ç»“æ„æœ‰å˜åŠ¨ï¼Œå°±ä¼š +1 è§£æ åˆå§‹åŒ– ä¸€å…±æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åˆå§‹åŒ–ArrayList public ArrayList(Collection c) { elementData = c.toArray(); if ((size = elementData.length) != 0) { // ç›´æ¥å°†ä¼ å…¥çš„é›†åˆè½¬æˆæ•°ç»„å¤åˆ¶ç»™å†…éƒ¨æ•°ç»„ if (elementData.getClass() != Object[].class) elementData = Arrays.copyOf(elementData, size, Object[].class); } else { this.elementData = {}; } } public ArrayList() { this.elementData = {}; } public ArrayList(int initialCapacity) { if (initialCapacity > 0) { this.elementData = new Object[initialCapacity]; } else if (initialCapacity == 0) { this.elementData = {}; } else { throw new IllegalArgumentException(\"Illegal Capacity: \"+ initialCapacity); } } æ–°å¢ä¸æ‰©å®¹ æ·»åŠ å…ƒç´ æ—¶ï¼š åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å±•ï¼Œå¦‚æœéœ€è¦åˆ™åªéœ€æ‰©å®¹ æ·»åŠ  // è¿™ä¸ªç‰ˆæœ¬æ˜¯åŸºäºJDK13çš„ private void add(E e, Object[] elementData, int s) { // å½“å‘ç°ç°åœ¨listçš„sizeè·Ÿæ•°ç»„å®¹é‡ä¸€æ ·å¤§æ—¶ï¼Œåˆ™è¿›è¡Œæ‰©å®¹ if (s == elementData.length) // è¿™é‡Œæ‰©å®¹å®Œï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæ–°æ•°ç»„ï¼Œæˆ‘ä»¬è¦å°†æ–°æ•°ç»„ä¿å­˜ elementData = grow(size+1); //æ·»åŠ index:size elementData[s] = e; size = s + 1; } // æ‰©å®¹æ ¸å¿ƒä»£ç  private Object[] grow(int minCapacity) { int oldCapacity = elementData.length; // åªæœ‰æ•°ç»„ä¸ä¸ºç©ºæ—¶ï¼Œæ‰è¿›è¡Œæ‰©å®¹ï¼Œå¦åˆ™ç›´æ¥åˆ›å»º if (oldCapacity > 0 || elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA) { // è®¡ç®—æ•°ç»„çš„æ–°å®¹é‡ int newCapacity = ArraysSupport.newLength(oldCapacity, minCapacity - oldCapacity, /* minimum growth */ oldCapacity >> 1 /* preferred growth */); // å¤åˆ¶è€æ•°ç»„åˆ°æ–°æ•°ç»„ return elementData = Arrays.copyOf(elementData, newCapacity); } else { return elementData = new Object[Math.max(DEFAULT_CAPACITY, minCapacity)]; } } // è®¡ç®—å®¹é‡çš„æ–¹æ³• public static int newLength(int oldLength, int minGrowth, int prefGrowth) { // åˆ¤æ–­listçš„sizeä¸elementDataçš„å·®å€¼å¦‚æœå¤§äºelementDataé•¿åº¦çš„ä¸€åŠ // æ–°æ•°ç»„é•¿åº¦å°±ç­‰äºè€æ•°ç»„é•¿åº¦åŠ ä¸Šlistçš„sizeä¸elementDataçš„å·®å€¼ // å¦åˆ™æ–°æ•°ç»„çš„é•¿åº¦å°±ç­‰äºè€æ•°ç»„çš„1.5å€ int newLength = Math.max(minGrowth, prefGrowth) + oldLength; if (newLength - MAX_ARRAY_LENGTH æ‰€ä»¥æ‰©å®¹çš„æœ¬è´¨å°±æ˜¯ç”³è¯·ä¸€ä¸ªæ›´å¤§çš„æ•°ç»„ï¼Œå°†æ—§æ•°ç»„çš„å†…å®¹ç§»è¿‡å» æºç æ‰©å®¹è¿‡ç¨‹å€¼å¾—å€Ÿé‰´çš„åœ°æ–¹ é€šè¿‡è‡ªåŠ¨æ‰©å®¹çš„æ–¹å¼ï¼Œè®©ä½¿ç”¨è€…ä¸ç”¨å…³å¿ƒåº•å±‚æ•°æ®ç»“æ„çš„å˜åŒ–ï¼Œå°è£…å¾—å¾ˆå¥½ 1.5 å€çš„æ‰©å®¹é€Ÿåº¦ï¼Œå¯ä»¥è®©æ‰©å®¹é€Ÿåº¦åœ¨å‰æœŸç¼“æ…¢ä¸Šå‡ï¼Œåœ¨åæœŸå¢é€Ÿè¾ƒå¿« æ‰©å®¹è¿‡ç¨‹ä¸­ï¼Œæ³¨æ„æ•°ç»„å¤§å°æº¢å‡ºçš„æƒ…å†µ åˆ é™¤ æ— è®ºæ˜¯æ ¹æ®Objectåˆ é™¤è¿˜æ˜¯indexåˆ é™¤ï¼Œéƒ½å¿…é¡»ç»™å‡ºè¢«åˆ é™¤å…ƒç´ çš„index private void fastRemove(Object[] es, int i) { modCount++; final int newSize; if ((newSize = size - 1) > i) // å°†elementData ä¸‹æ ‡ä¸ºiåé¢çš„å…¨éƒ¨å…ƒç´ å¾€å‰ç§»åŠ¨ä¸€ä¸ªä½ System.arraycopy(es, i + 1, es, i, newSize - i); // å¦‚æœåˆ é™¤çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç½®ä¸ºnullå°±è¡Œ es[size = newSize] = null; // åŒæ—¶è®°å¾—size-1 } è¿­ä»£å™¨ hasNext public boolean hasNext() { return cursor != size; } next public E next() { // æœ‰ç‚¹ä¹è§‚é”çš„æ„æ€ï¼Œé€šè¿‡ç‰ˆæœ¬å·æ¥ç¡®å®šæŒæœ‰çš„æ•°æ®æ˜¯å¦è¢«ä¿®æ”¹äº† if (modCount != expectedModCount) throw new ConcurrentModificationException(); // å¦åˆ™æ¯æ¬¡æ ¹æ®æ¸¸æ ‡è·å–å…ƒç´ ï¼Œè·å–å®Œæ¸¸æ ‡+1 int i = cursor; if (i >= size) throw new NoSuchElementException(); Object[] elementData = ArrayList.this.elementData; if (i >= elementData.length) throw new ConcurrentModificationException(); cursor = i + 1; return (E) elementData[lastRet = i]; } remove public void remove() { if (lastRet çº¿ç¨‹å®‰å…¨ ArrayList æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æœ¬è´¨ï¼Œæ˜¯å› ä¸º ArrayList è‡ªèº«çš„ elementDataã€sizeã€modConut åœ¨è¿›è¡Œå„ç§æ“ä½œæ—¶ï¼Œéƒ½æ²¡æœ‰åŠ é” é—®ï¼šå¯¹ ArrayList çš„ç†è§£ï¼Ÿ ç­”ï¼šåº•å±‚æ•°æ®ç»“æ„ã€å¯¹æ•°ç»„çš„å°è£…ã€addã€remove é—®ï¼šä¸ºä»€ä¹ˆè¯´æ‰©å®¹ä¼šæ¶ˆè€—æ€§èƒ½ ç­”ï¼šæ‰©å®¹åº•å±‚ä½¿ç”¨çš„æ˜¯ System.arraycopy æ–¹æ³•ï¼Œä¼šæŠŠåŸæ•°ç»„çš„æ•°æ®å…¨éƒ¨æ‹·è´åˆ°æ–°æ•°ç»„ä¸Šï¼Œæ‰€ä»¥æ€§èƒ½æ¶ˆè€—æ¯”è¾ƒä¸¥é‡ LinkedList æ¶æ„ LinkedList åº•å±‚æ•°æ®ç»“æ„æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ è§£æ nodeçš„ç»“æ„ private static class Node { E item; Node next; Node prev; Node(Node prev, E element, Node next) { this.item = element; this.next = next; this.prev = prev; } } å°¾éƒ¨è¿½åŠ èŠ‚ç‚¹ void linkLast(E e) { final Node l = this.last; final Node newNode = new Node<>(l, e, null); this.last = newNode; // å¦‚æœå°¾èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ä»£è¡¨å½“å‰é“¾è¡¨æ˜¯ç©ºçš„ï¼Œç›´æ¥æŠŠæ’å…¥èŠ‚ç‚¹ä½œä¸ºå¤´èŠ‚ç‚¹ if (l == null) first = newNode; else l.next = newNode; // å¦åˆ™å°±å°†æ’å…¥èŠ‚ç‚¹è®¾ç½®ä¸ºå°¾èŠ‚ç‚¹ï¼Œå¹¶ä¸”æŠŠæ—§å°¾èŠ‚ç‚¹çš„nextæŒ‡å‘æ’å…¥èŠ‚ç‚¹ size++; modCount++; } å¤´éƒ¨è¿½åŠ èŠ‚ç‚¹ private void linkFirst(E e) { final Node f = this.first; final Node newNode = new Node<>(null, e, f); this.first = newNode; // å¦‚æœå¤´èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ä»£è¡¨å½“å‰é“¾è¡¨æ˜¯ç©ºçš„ï¼Œç›´æ¥æŠŠæ’å…¥èŠ‚ç‚¹ä½œä¸ºå°¾èŠ‚ç‚¹ if (f == null) last = newNode; else f.prev = newNode; // å¦åˆ™å°±å°†æ’å…¥èŠ‚ç‚¹è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹ï¼Œå¹¶ä¸”æŠŠæ—§å¤´èŠ‚ç‚¹çš„prevæŒ‡å‘æ’å…¥èŠ‚ç‚¹ size++; modCount++; } åˆ é™¤èŠ‚ç‚¹ E unlink(Node x) { // assert x != null; final E element = x.item; final Node next = x.next; final Node prev = x.prev; // å½“å‰åˆ é™¤çš„æ˜¯å¤´èŠ‚ç‚¹ï¼Œæ‰€ä»¥å°†åˆ é™¤èŠ‚ç‚¹çš„nextå˜ä¸ºå¤´èŠ‚ç‚¹ if (prev == null) { first = next; } else { // å¦åˆ™è®¾ç½®åˆ é™¤èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘åˆ é™¤èŠ‚ç‚¹çš„next prev.next = next; x.prev = null; } // å½“å‰åˆ é™¤çš„æ˜¯å°¾èŠ‚ç‚¹ï¼Œæ‰€ä»¥å°†åˆ é™¤èŠ‚ç‚¹çš„prevå˜ä¸ºå°¾èŠ‚ç‚¹ if (next == null) { last = prev; } else { // å¦åˆ™è®¾ç½®åˆ é™¤èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„prevæŒ‡å‘åˆ é™¤èŠ‚ç‚¹çš„prev next.prev = prev; x.next = null; } x.item = null; size--; modCount++; return element; } æ ¹æ®ä¸‹æ ‡æŸ¥è¯¢èŠ‚ç‚¹ Node node(int index) { // assert isElementIndex(index); if (index > 1)) { // åœ¨å‰åŠéƒ¨åˆ†ï¼Œæ‰€ä»¥ä»å¤´èŠ‚ç‚¹è¿­ä»£æŸ¥æ‰¾ Node x = first; for (int i = 0; i x = last; for (int i = size - 1; i > index; i--) x = x.prev; return x; } } è¿­ä»£å™¨ // åŒå‘è¿­ä»£å™¨ private class ListItr implements ListIterator { private Node lastReturned;//ä¸Šä¸€æ¬¡æ‰§è¡Œ next() æˆ–è€… previos() æ–¹æ³•æ—¶çš„èŠ‚ç‚¹ä½ç½® private Node next;//ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ private int nextIndex;//ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½® â€¦â€¦â€¦â€¦ } ä»å¤´åˆ°å°¾è¿­ä»£ public boolean hasNext() { return nextIndex ä»å°¾åˆ°å¤´è¿­ä»£ public boolean hasPrevious() { return nextIndex > 0; } public E previous() { checkForComodification(); if (!hasPrevious()) throw new NoSuchElementException(); // ä¸»è¦æ˜¯åˆ¤æ–­nextä¸ºç©ºçš„æƒ…å†µä¸‹è¦é€‰æ‹©lastä½œä¸ºéå†èŠ‚ç‚¹ï¼Œå¦åˆ™é€‰æ‹©éå†å…ƒç´ çš„prev lastReturned = next = (next == null) ? last : next.prev; nextIndex--; return lastReturned.item; } åˆ é™¤ public void remove() { checkForComodification(); // lastReturned æ˜¯æœ¬æ¬¡è¿­ä»£éœ€è¦åˆ é™¤çš„å€¼ï¼Œåˆ†ä»¥ä¸‹ç©ºå’Œéç©ºä¸¤ç§æƒ…å†µï¼š // lastReturned ä¸ºç©ºï¼Œè¯´æ˜è°ƒç”¨è€…æ²¡æœ‰ä¸»åŠ¨æ‰§è¡Œè¿‡ next() æˆ–è€… previos()ï¼Œç›´æ¥æŠ¥é”™ // lastReturned ä¸ä¸ºç©ºï¼Œæ˜¯åœ¨ä¸Šæ¬¡æ‰§è¡Œ next() æˆ–è€… previos()æ–¹æ³•æ—¶èµ‹çš„å€¼ if (lastReturned == null) throw new IllegalStateException(); Node lastNext = lastReturned.next; //åˆ é™¤å½“å‰èŠ‚ç‚¹ unlink(lastReturned); // next == lastReturned çš„åœºæ™¯åˆ†æï¼šä»å°¾åˆ°å¤´é€’å½’é¡ºåºï¼Œå¹¶ä¸”æ˜¯ç¬¬ä¸€æ¬¡è¿­ä»£ï¼Œå¹¶ä¸”è¦åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ // è¿™ç§æƒ…å†µä¸‹ï¼Œprevious() æ–¹æ³•é‡Œé¢è®¾ç½®äº† lastReturned = next = last,æ‰€ä»¥ next å’Œ lastReturnedä¼šç›¸ç­‰ if (next == lastReturned) // è¿™æ—¶å€™ lastReturned æ˜¯å°¾èŠ‚ç‚¹ï¼ŒlastNext æ˜¯ nullï¼Œæ‰€ä»¥ next ä¹Ÿæ˜¯ nullï¼Œè¿™æ ·åœ¨ previous() æ‰§è¡Œæ—¶ï¼Œå‘ç° next æ˜¯ nullï¼Œå°±ä¼šæŠŠå°¾èŠ‚ç‚¹èµ‹å€¼ç»™ next next = lastNext; else nextIndex--; lastReturned = null; expectedModCount++; } é—®ï¼šArrayList å’Œ LinkedList æœ‰ä½•ä¸åŒ ç­”ï¼šåº•å±‚æ•°æ®ç»“æ„ï¼Œæ•°ç»„ç»“æ„å¯¼è‡´çš„è¯»å†™å·®å¼‚ é—®ï¼š ArrayList å’Œ LinkedList åº”ç”¨åœºæ™¯ ç­”ï¼šArrayList æ›´é€‚åˆäºå¿«é€Ÿçš„æŸ¥æ‰¾åŒ¹é…ï¼Œä¸é€‚åˆé¢‘ç¹æ–°å¢åˆ é™¤ï¼Œåƒå·¥ä½œä¸­ç»å¸¸ä¼šå¯¹å…ƒç´ è¿›è¡ŒåŒ¹é…æŸ¥è¯¢çš„åœºæ™¯æ¯”è¾ƒåˆé€‚ï¼ŒLinkedList æ›´é€‚åˆäºç»å¸¸æ–°å¢å’Œåˆ é™¤ï¼Œå¯¹æŸ¥è¯¢åè€Œå¾ˆå°‘çš„åœºæ™¯ é—®ï¼šArrayList å’Œ LinkedList ä¸¤è€…æœ‰æ²¡æœ‰æœ€å¤§å®¹é‡ ç­”ï¼šä¸¤ä¸ªéƒ½æœ‰æœ€å¤§å®¹é‡ï¼Œæ˜¯intçš„æœ€å¤§å€¼ï¼ŒåŸå› æ˜¯ArrayListä½¿ç”¨çš„æ•°ç»„å®¹é‡ä¸èƒ½è¶…è¿‡intæœ€å¤§å€¼ï¼ŒLinkedListåˆ™æ˜¯å› ä¸ºsizeä½¿ç”¨intè¡¨ç¤ºçš„ï¼Œæ‰€ä»¥ä¹Ÿä¸èƒ½è¶…è¿‡intçš„æœ€å¤§å€¼ é—®ï¼šArrayList å’Œ LinkedList æ˜¯å¦‚ä½•å¯¹ null å€¼è¿›è¡Œå¤„ç†çš„ ç­”ï¼šArrayList å…è®¸ null å€¼æ–°å¢ï¼Œä¹Ÿå…è®¸ null å€¼åˆ é™¤ã€‚åˆ é™¤ null å€¼æ—¶ï¼Œæ˜¯ä»å¤´å¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€å€¼æ˜¯ null çš„å…ƒç´ åˆ é™¤ï¼›LinkedList æ–°å¢åˆ é™¤æ—¶å¯¹ null å€¼æ²¡æœ‰ç‰¹æ®Šæ ¡éªŒï¼Œæ˜¯å…è®¸æ–°å¢å’Œåˆ é™¤çš„ é—®ï¼šArrayList å’Œ LinedList æ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹ˆï¼Œä¸ºä»€ä¹ˆ ç­”ï¼šéƒ½éçº¿ç¨‹å®‰å…¨ï¼Œä¸»è¦çš„é—®é¢˜ç‚¹åœ¨äºå¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œæ‰€æœ‰çº¿ç¨‹ä»»ä½•æ—¶åˆ»éƒ½å¯å¯¹æ•°ç»„å’Œé“¾è¡¨è¿›è¡Œæ“ä½œï¼Œè¿™ä¼šå¯¼è‡´å€¼è¢«è¦†ç›–ï¼Œç”šè‡³æ··ä¹±çš„æƒ…å†µ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-20 07:33:45 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/Map.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/Map.html","title":"Map","keywords":"","body":"Mapæºç è§£æ HashMap å…è®¸ null å€¼ï¼Œä¸åŒäº HashTable ï¼Œæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ load factorï¼ˆå½±å“å› å­ï¼‰ é»˜è®¤å€¼æ˜¯ 0.75ï¼Œ æ˜¯å‡è¡¡äº†æ—¶é—´å’Œç©ºé—´æŸè€—ç®—å‡ºæ¥çš„å€¼ å¦‚æœæœ‰å¾ˆå¤šæ•°æ®éœ€è¦å‚¨å­˜åˆ° HashMap ä¸­ï¼Œå»ºè®® HashMap çš„å®¹é‡ä¸€å¼€å§‹å°±è®¾ç½®æˆè¶³å¤Ÿçš„å¤§å°ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢åœ¨å…¶è¿‡ç¨‹ä¸­ä¸æ–­çš„æ‰©å®¹ï¼Œå½±å“æ€§èƒ½ åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ HashMap çš„ç»“æ„è¢«ä¿®æ”¹ï¼Œä¼šå¿«é€Ÿå¤±è´¥ æ¶æ„ æ“ä½œ æ–°å¢ 1.ç©ºæ•°ç»„æœ‰æ— åˆå§‹åŒ–ï¼Œæ²¡æœ‰çš„è¯åˆå§‹åŒ–ï¼› 2.å¦‚æœé€šè¿‡ key çš„ hash èƒ½å¤Ÿç›´æ¥æ‰¾åˆ°å€¼ï¼Œè·³è½¬åˆ° 6ï¼Œå¦åˆ™åˆ° 3ï¼› 3.å¦‚æœ hash å†²çªï¼Œä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šé“¾è¡¨ or çº¢é»‘æ ‘ï¼› 4.å¦‚æœæ˜¯é“¾è¡¨ï¼Œé€’å½’å¾ªç¯ï¼ŒæŠŠæ–°å…ƒç´ è¿½åŠ åˆ°é˜Ÿå°¾ï¼› 5.å¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œè°ƒç”¨çº¢é»‘æ ‘æ–°å¢çš„æ–¹æ³•ï¼› 6.é€šè¿‡ 2ã€4ã€5 å°†æ–°å…ƒç´ è¿½åŠ æˆåŠŸï¼Œå†æ ¹æ® onlyIfAbsent åˆ¤æ–­æ˜¯å¦éœ€è¦è¦†ç›–ï¼› 7.åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œéœ€è¦æ‰©å®¹è¿›è¡Œæ‰©å®¹ï¼Œç»“æŸã€‚ final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) { Node[] tab; Node p; int n, i; // å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œé‚£å°±åˆå§‹åŒ–æ•°ç»„ if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; // å¦‚æœæ ¹æ®hashCodeå¾—åˆ°çš„ç´¢å¼•ä½ç½®ä¸ºç©ºï¼Œç›´æ¥å°†æ–°èŠ‚ç‚¹æ”¾åˆ°è¯¥èŠ‚ç‚¹ if ((p = tab[i = (n - 1) & hash]) == null) tab[i] = newNode(hash, key, value, null); else { Node e; K k; // å¦‚æœç°åœ¨ç´¢å¼•ä½ç½®çš„hashå€¼ä¸keyéƒ½ç›¸ç­‰ï¼Œç›´æ¥å°†æ–°èŠ‚ç‚¹æ”¾åœ¨è¿™é‡Œ if (p.hash == hash && ((k = p.key) == key || (key != null && key.equals(k)))) e = p; // å¦åˆ™å°±éœ€è¦è¿½åŠ èŠ‚ç‚¹åˆ°å½“å‰ç´¢å¼•ä½ç½®èŠ‚ç‚¹çš„åé¢ï¼ˆé“¾è¡¨æˆ–è€…çº¢é»‘æ ‘ï¼‰ // å¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œé‚£å°±è°ƒç”¨çº¢é»‘æ ‘çš„å¢åŠ æ–¹æ³• else if (p instanceof TreeNode) e = ((TreeNode)p).putTreeVal(this, tab, hash, key, value); else { // å¦åˆ™å°±æ˜¯é“¾è¡¨ï¼Œè¿›è¡Œéå† for (int binCount = 0; ; ++binCount) { if ((e = p.next) == null) { p.next = newNode(hash, key, value, null); if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; } // å½“éå†çš„èŠ‚ç‚¹hashå€¼ä¸keyéƒ½ç›¸ç­‰æ—¶ï¼Œé‚£æ–°èŠ‚ç‚¹å°±æ˜¯æ”¾åœ¨è¿™é‡Œ if (e.hash == hash && ((k = e.key) == key || (key != null && key.equals(k)))) break; p = e; } } // è¿™é‡Œçš„eå¦‚æœä¸ä¸ºnullï¼Œé‚£å°±ä»£è¡¨æ’å…¥çš„è¿™ä¸ªkeyä¸­æ˜¯æœ‰å€¼å¾—ï¼Œæ ¹æ®ä¼ å…¥çš„onlyIfAbsentå†³å®šæ˜¯å¦è¦†ç›– if (e != null) { // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; } } // ç»´æŠ¤HashMapçš„å…¶ä»–çŠ¶æ€ä¿¡æ¯ ++modCount; if (++size > threshold) // sizeè¾¾åˆ°ä¸€å®šçš„ç¨‹åº¦ï¼Œå°±éœ€è¦æ‰©å®¹ resize(); afterNodeInsertion(evict); return null; } é“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘ åªæœ‰å½“é“¾è¡¨é•¿åº¦å¤§äºç­‰äº8ï¼Œå¹¶ä¸”æ•´ä¸ªæ•°ç»„é•¿åº¦å¤§äºç­‰äº64æ—¶ï¼Œæ‰ä¼šè¿›è¡Œé“¾è¡¨è½¬çº¢é»‘æ ‘ è‡³äºä¸ºä»€ä¹ˆæ˜¯8ï¼Œé“¾è¡¨æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O (n)ï¼Œçº¢é»‘æ ‘çš„æŸ¥è¯¢å¤æ‚åº¦æ˜¯ O (log (n))ã€‚åœ¨é“¾è¡¨æ•°æ®ä¸å¤šçš„æ—¶å€™ï¼Œä½¿ç”¨é“¾è¡¨è¿›è¡Œéå†ä¹Ÿæ¯”è¾ƒå¿«ï¼Œåªæœ‰å½“é“¾è¡¨æ•°æ®æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œæ‰ä¼šè½¬åŒ–æˆçº¢é»‘æ ‘ï¼Œä½†çº¢é»‘æ ‘éœ€è¦çš„å ç”¨ç©ºé—´æ˜¯é“¾è¡¨çš„ 2 å€ï¼Œè€ƒè™‘åˆ°è½¬åŒ–æ—¶é—´å’Œç©ºé—´æŸè€—ï¼Œ8æ˜¯æœ€åˆé€‚çš„ çº¢é»‘æ ‘çš„æ’å…¥ final TreeNode putTreeVal(HashMap map, Node[] tab, int h, K k, V v) { Class kc = null; boolean searched = false; // æ‰¾åˆ°æ ¹èŠ‚ç‚¹ TreeNode root = (parent != null) ? root() : this; // éå† for (TreeNode p = root;;) { int dir, ph; K pk; // è¯´æ˜åº”è¯¥æ’åœ¨å½“å‰éå†èŠ‚ç‚¹çš„å³å­æ ‘ if ((ph = p.hash) > h) dir = -1; // è¯´æ˜åº”è¯¥æ’åœ¨å½“å‰éå†èŠ‚ç‚¹çš„å·¦å­æ ‘ else if (ph q, ch; searched = true; if (((ch = p.left) != null && (q = ch.find(h, k, kc)) != null) || ((ch = p.right) != null && (q = ch.find(h, k, kc)) != null)) return q; } dir = tieBreakOrder(k, pk); } // æ’å…¥æ–°èŠ‚ç‚¹ TreeNode xp = p; if ((p = (dir xpn = xp.next; TreeNode x = map.newTreeNode(h, k, v, xpn); if (dir )xpn).prev = x; moveRootToFront(tab, balanceInsertion(root, x)); return null; } } } ç€è‰²æ˜¯æŒ‡çº¢é»‘æ ‘çš„èŠ‚ç‚¹ç€ä¸Šçº¢è‰²æˆ–é»‘è‰²ï¼Œæ—‹è½¬æ˜¯ä¸ºäº†è®©çº¢é»‘æ ‘æ›´åŠ å¹³è¡¡ï¼Œæé«˜æŸ¥è¯¢çš„æ•ˆç‡ï¼Œæ€»çš„æ¥è¯´éƒ½æ˜¯ä¸ºäº†æ»¡è¶³çº¢é»‘æ ‘çš„ 5 ä¸ªåŸåˆ™ï¼š èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰² æ ¹æ˜¯é»‘è‰² æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰² ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ ä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ æŸ¥æ‰¾ 1.æ ¹æ® hash ç®—æ³•å®šä½æ•°ç»„çš„ç´¢å¼•ä½ç½®ï¼Œequals åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦æ˜¯æˆ‘ä»¬éœ€è¦å¯»æ‰¾çš„ keyï¼Œæ˜¯çš„è¯ç›´æ¥è¿”å›ï¼Œä¸æ˜¯çš„è¯å¾€ä¸‹ã€‚ 2.åˆ¤æ–­å½“å‰èŠ‚ç‚¹æœ‰æ—  next èŠ‚ç‚¹ï¼Œæœ‰çš„è¯åˆ¤æ–­æ˜¯é“¾è¡¨ç±»å‹ï¼Œè¿˜æ˜¯çº¢é»‘æ ‘ç±»å‹ã€‚ 3.åˆ†åˆ«èµ°é“¾è¡¨å’Œçº¢é»‘æ ‘ä¸åŒç±»å‹çš„æŸ¥æ‰¾æ–¹æ³• é“¾è¡¨æŸ¥æ‰¾ do { // éå†ï¼Œçœ‹éå†çš„èŠ‚ç‚¹çš„keyæ˜¯å¦ä¸æŸ¥æ‰¾çš„keyç›¸ç­‰ if (e.hash == hash && ((k = e.key) == key || (key != null && key.equals(k)))) return e; } while ((e = e.next) != null); çº¢é»‘æ ‘æŸ¥æ‰¾ final TreeNode find(int h, Object k, Class kc) { TreeNode p = this; do { int ph, dir; K pk; TreeNode pl = p.left, pr = p.right, q; // hashæ¯”å½“å‰èŠ‚ç‚¹å°ï¼Œå¾€å·¦å­æ ‘å¯»æ‰¾ if ((ph = p.hash) > h) p = pl; // hashæ¯”å½“å‰èŠ‚ç‚¹å¤§ï¼Œå¾€å·¦å³æ ‘å¯»æ‰¾ else if (ph TreeMap TreeMap åº•å±‚çš„æ•°æ®ç»“æ„å°±æ˜¯çº¢é»‘æ ‘ï¼ŒTreeMap åˆ©ç”¨äº†çº¢é»‘æ ‘å·¦èŠ‚ç‚¹å°ï¼Œå³èŠ‚ç‚¹å¤§çš„æ€§è´¨ï¼Œæ ¹æ® key è¿›è¡Œæ’åºï¼Œä½¿æ¯ä¸ªå…ƒç´ èƒ½å¤Ÿæ’å…¥åˆ°çº¢é»‘æ ‘å¤§å°é€‚å½“çš„ä½ç½®ï¼Œç»´æŠ¤äº† key çš„å¤§å°å…³ç³» æ–°å¢ public V put(K key, V value) { Entry t = root; // æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥å°†æ’å…¥èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ if (t == null) { compare(key, key); // type (and possibly null) check root = new Entry<>(key, value, null); size = 1; modCount++; return null; } int cmp; Entry parent; // split comparator and comparable paths Comparator cpr = comparator; if (cpr != null) { // éå†æ‰¾åˆ°æ’å…¥èŠ‚ç‚¹åº”è¯¥æ’å…¥çš„ä½ç½®ï¼Œparentä¿å­˜äº†è¯¥ä½ç½®çš„çˆ¶èŠ‚ç‚¹ do { parent = t; cmp = cpr.compare(key, t.key); if (cmp 0) t = t.right; else return t.setValue(value); } while (t != null); } else { // å®ç°äº†Comparableçš„æƒ…å†µä¸‹çš„æ¯”è¾ƒ if (key == null) throw new NullPointerException(); @SuppressWarnings(\"unchecked\") Comparable k = (Comparable) key; do { parent = t; cmp = k.compareTo(t.key); if (cmp 0) t = t.right; else return t.setValue(value); } while (t != null); } Entry e = new Entry<>(key, value, parent); if (cmp LinkedHashMap LinkedHashMap æœ¬èº«æ˜¯ç»§æ‰¿ HashMap çš„ï¼Œæ‰€ä»¥å®ƒæ‹¥æœ‰ HashMap çš„æ‰€æœ‰ç‰¹æ€§ï¼Œå†æ­¤åŸºç¡€ä¸Šï¼Œè¿˜æä¾›äº†ä¸¤å¤§ç‰¹æ€§ï¼š æŒ‰ç…§æ’å…¥é¡ºåºè¿›è¡Œè®¿é—®ï¼› å®ç°äº†è®¿é—®æœ€å°‘æœ€å…ˆåˆ é™¤åŠŸèƒ½ æŒ‰ç…§æ’å…¥é¡ºåºæ–°å¢ // é€šè¿‡åœ¨åˆ›å»ºæ–°èŠ‚ç‚¹æ—¶ï¼ŒæŠŠè¿™ä¸ªèŠ‚ç‚¹åŠ åˆ°ä¸€ä¸ªé“¾è¡¨çš„æœ€å°¾éƒ¨æ¥ç»´æŠ¤æ’å…¥é¡ºåº Node newNode(int hash, K key, V value, Node e) { LinkedHashMap.Entry p = new LinkedHashMap.Entry<>(hash, key, value, e); linkNodeLast(p); return p; } private void linkNodeLast(LinkedHashMap.Entry p) { LinkedHashMap.Entry last = tail; tail = p; if (last == null) head = p; else { p.before = last; last.after = p; } } æŒ‰ç…§æ’å…¥é¡ºåºè®¿é—® // è·Ÿé“¾è¡¨çš„è¿­ä»£å™¨ä¸€æ · final LinkedHashMap.Entry nextNode() { LinkedHashMap.Entry e = next; if (modCount != expectedModCount) throw new ConcurrentModificationException(); if (e == null) throw new NoSuchElementException(); current = e; next = e.after; return e; } æœ€å°‘è®¿é—®åˆ é™¤çš„å®ç° åœ¨getä¹‹åï¼ŒLinkedHashMapä¼šå¯¹è·å–åˆ°çš„èŠ‚ç‚¹æ‰§è¡Œç§»åˆ°é“¾è¡¨å°¾éƒ¨çš„æ“ä½œ public V get(Object key) { Node e; if ((e = getNode(hash(key), key)) == null) return null; if (accessOrder) afterNodeAccess(e); return e.value; } // è¿™æ®µä»£ç æ˜¯è´Ÿè´£æŠŠeç§»åˆ°æœ«å°¾ // è¿™æ ·å°±é˜Ÿå¤´çš„å…ƒç´ å°±æ˜¯è®¿é—®æœ€å°‘çš„å…ƒç´  void afterNodeAccess(Node e) { // move node to last LinkedHashMap.Entry last; if (accessOrder && (last = tail) != e) { LinkedHashMap.Entry p = (LinkedHashMap.Entry)e, b = p.before, a = p.after; p.after = null; if (b == null) head = a; else b.after = a; if (a != null) a.before = b; else last = b; if (last == null) head = p; else { p.before = last; last.after = p; } tail = p; ++modCount; } } é—®é¢˜ HashMap åº•å±‚æ•°æ®ç»“æ„ åº•å±‚é‡‡ç”¨äº†æ•°ç»„ã€é“¾è¡¨ã€çº¢é»‘æ ‘æ¥å®ç°çš„ æ•°ç»„çš„ä¸»è¦ä½œç”¨æ˜¯æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œé»˜è®¤å¤§å°16ï¼Œå…ƒç´ å­˜æ”¾çš„ä¸‹æ ‡æ˜¯æ ¹æ®keyçš„hashCodeè®¡ç®—å‡ºæ¥çš„ å…ƒç´ å­˜æ”¾åœ¨Nodeé‡Œé¢ï¼Œå½“keyçš„hashCodeä¸€æ ·æ—¶ï¼Œä½†æ˜¯keyå¹¶ä¸ç›¸ç­‰ï¼ŒNodeå°±ä¼šä¸²èµ·æ¥ï¼Œå½¢æˆé“¾è¡¨ï¼Œé“¾è¡¨çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N) å½“é“¾è¡¨é•¿åº¦å¤§äºç­‰äº8ä¸”æ•°ç»„é•¿åº¦å¤§äºç­‰äº64æ—¶ï¼Œé“¾è¡¨å°±ä¼šè½¬æˆçº¢é»‘æ ‘ï¼Œçº¢é»‘æ ‘çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(lg n) HashMapã€TreeMapã€LinkedHashMap ä¸‰è€…æœ‰å•¥ç›¸åŒç‚¹ï¼Œæœ‰å•¥ä¸åŒç‚¹ ç›¸åŒç‚¹ï¼š éƒ½ä½¿ç”¨äº†çº¢é»‘æ ‘ hashç®—æ³•ç›¸åŒ éƒ½éçº¿ç¨‹å®‰å…¨ ä¸åŒç‚¹ï¼š HashMapæ•°æ®ç»“æ„ä»¥æ•°ç»„ä¸ºä¸»ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ï¼ŒTreeMapåˆ©ç”¨äº†çº¢é»‘æ ‘å·¦å°å³å¤§çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å®ç°å¯¹keyçš„æ’åºï¼ŒLinkedHashMapåˆ™å¢åŠ äº†é“¾è¡¨çš„ç»“æ„ï¼Œå®ç°äº†é¡ºåºè®¿é—®ä»¥åŠæœ€å°‘è®¿é—®åˆ é™¤ hashç®—æ³• n=array.length; tab[i = (n - 1) & hash] å–æ¨¡ç®—æ³•çš„å¥½å¤„ï¼Œå°±æ˜¯å¯ä»¥ä¿è¯è®¡ç®—å‡ºæ¥çš„ç´¢å¼•ä¸‹æ ‡å€¼å¯ä»¥å‡åŒ€çš„åˆ†å¸ƒåœ¨æ•°ç»„çš„å„ä¸ªç´¢å¼•ä½ç½®ä¸Š å½“ b æ˜¯ 2 çš„å¹‚æ¬¡æ–¹æ—¶ï¼Œa % b = a &ï¼ˆb-1ï¼‰ è§£å†³hashå†²çªçš„åŠæ³• å¥½çš„hashç®—æ³• è‡ªåŠ¨æ‰©å®¹ å†²çªåä½¿ç”¨é“¾è¡¨ä¸çº¢é»‘æ ‘ HashMap æ˜¯å¦‚ä½•æ‰©å®¹çš„ putæ—¶ï¼Œå‘ç°æ•°ç»„ä¸ºç©ºï¼Œåˆå§‹åŒ–æ‰©å®¹ï¼Œé»˜è®¤å¤§å°16 putæˆåŠŸåï¼Œå‘ç°æ•°ç»„å¤§äºç°åœ¨æ•°ç»„çš„å®¹é‡*0.75ï¼Œä¼šè¿›è¡Œæ‰©å®¹ï¼Œæ¯æ¬¡æ‰©å®¹ä¸ºåŸæ¥æ•°ç»„å¤§å°çš„ä¸¤å€ æ‰©å®¹ä¹‹åï¼Œéœ€è¦å¯¹æ•°ç»„ä¸­çš„NodeèŠ‚ç‚¹é‡æ–°è®¡ç®—hashå€¼ï¼Œé‡æ–°æ”¾ç½® å¯¹è±¡ä½œä¸º Map çš„ key æ—¶ï¼Œéœ€è¦æ³¨æ„çš„ç‚¹ ä¸€å®šéœ€è¦è¦†å†™ equals å’Œ hashCode æ–¹æ³•ï¼Œå¦‚æœæ˜¯ TreeMap çš„è¯ï¼Œéœ€è¦å®ç° Comparable æ¥å£ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-05 01:59:24 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/Set.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/Set.html","title":"Set","keywords":"","body":"Setæºç è§£æ HashSetã€TreeSet ä¸¤ä¸ªç±»æ˜¯åœ¨ Map çš„åŸºç¡€ä¸Šç»„è£…èµ·æ¥çš„ç±» HashSet HashSet ä½¿ç”¨çš„å°±æ˜¯ç»„åˆæ–¹å¼æ¥å†…ç½® HashMap å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ æ“ä½œ åˆå§‹åŒ– // å½“æ ¹æ®ä¼ å…¥çš„é›†åˆè¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œä¼šæ ¹æ®é›†åˆçš„æ•°é‡è®¡ç®—HashMapå¤§å° public HashSet(Collection c) { map = new HashMap<>(Math.max((int) (c.size()/.75f) + 1, 16)); addAll(c); } å€¼å¾—å€Ÿé‰´çš„åœ°æ–¹ ä½¿ç”¨ç»„åˆè¿˜æ˜¯ç»§æ‰¿ åŒ…è£…å¤æ‚é€»è¾‘ï¼Œæš´éœ²æ˜“ç”¨api ç»„åˆä½¿ç”¨å…¶ä»–apiæ—¶ï¼Œè¦å¤šäº†è§£ç»„åˆçš„api TreeSet TreeSetåº•å±‚ç»„åˆçš„æ˜¯ TreeMapï¼Œè¿­ä»£çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ key çš„æ’åºé¡ºåºè¿›è¡Œè¿­ä»£ TreeSetå¦‚ä½•å¤ç”¨TreeMapçš„ ç¬¬ä¸€ç§æ–¹å¼ï¼šç›´æ¥ä½¿ç”¨ public boolean add(E e) { return m.put(e, PRESENT)==null; } ç¬¬äºŒç§æ–¹å¼ï¼šå®šä¹‰æ¥å£ï¼Œäº¤ç»™æœåŠ¡æä¾›è€…å®ç° TreeMapå†…éƒ¨å®ç°äº†NavigableSetæ¥å£æ¥æä¾›ä¸€äº›æ¯”è¾ƒå¤æ‚çš„åŠŸèƒ½ é—®é¢˜ TreeSetçš„ä½¿ç”¨åœºæ™¯ ä¸€èˆ¬éƒ½æ˜¯åœ¨éœ€è¦æŠŠå…ƒç´ è¿›è¡Œæ’åºçš„æ—¶å€™ä½¿ç”¨ TreeSetï¼Œä½¿ç”¨æ—¶éœ€è¦æ³¨æ„å…ƒç´ æœ€å¥½å®ç° Comparable æ¥å£ å¦‚ä½•æ ¹æ® key çš„æ–°å¢é¡ºåºè¿›è¡Œéå† é€‰æ‹©ä½¿ç”¨ LinkedHashSet å¦‚ä½•å¯¹ key è¿›è¡Œå»é‡ ä½¿ç”¨TreeSetï¼ŒTreeSet åº•å±‚ä½¿ç”¨çš„æ˜¯ TreeMapï¼ŒTreeMap åœ¨ put çš„æ—¶å€™ï¼Œå¦‚æœå‘ç° key æ˜¯ç›¸åŒçš„ï¼Œä¼šæŠŠ value å€¼è¿›è¡Œè¦†ç›–ï¼Œæ‰€æœ‰ä¸ä¼šäº§ç”Ÿé‡å¤çš„ key MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-20 08:04:55 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/å¹¶å‘é›†åˆ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/å¹¶å‘é›†åˆ.html","title":"å¹¶å‘é›†åˆ","keywords":"","body":"å¹¶å‘é›†åˆ CopyOnWriteArrayList é€šè¿‡é” + æ•°ç»„æ‹·è´ + volatile å…³é”®å­—ä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œæ¯æ¬¡æ•°ç»„æ“ä½œï¼Œéƒ½ä¼šæŠŠæ•°ç»„æ‹·è´ä¸€ä»½å‡ºæ¥ï¼Œåœ¨æ–°æ•°ç»„ä¸Šè¿›è¡Œæ“ä½œï¼Œæ“ä½œæˆåŠŸä¹‹åå†èµ‹å€¼å›å» æ¶æ„ åœ¨å¯¹æ•°ç»„è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼ŒåŸºæœ¬ä¼šåˆ†å››æ­¥èµ°ï¼š åŠ é”ï¼› ä»åŸæ•°ç»„ä¸­æ‹·è´å‡ºæ–°æ•°ç»„ï¼› åœ¨æ–°æ•°ç»„ä¸Šè¿›è¡Œæ“ä½œï¼Œå¹¶æŠŠæ–°æ•°ç»„èµ‹å€¼ç»™æ•°ç»„å®¹å™¨ï¼› è§£é”ã€‚ æ“ä½œ æ–°å¢ public boolean add(E e) { synchronized (lock) { // è·å–çœŸå®æ•°ç»„ Object[] es = getArray(); int len = es.length; // æ ¹æ®çœŸå®æ•°ç»„å¤åˆ¶å‡ºä¸€ä¸ªæ•°ç»„ es = Arrays.copyOf(es, len + 1); // åœ¨æ–°æ•°ç»„ä¸Šåšæ“ä½œ es[len] = e; // æŠŠæ–°æ•°ç»„ä½œä¸ºçœŸå®æ•°ç»„ setArray(es); return true; } } éƒ½å·²ç»åŠ é”äº†ï¼Œä¸ºä»€ä¹ˆéœ€è¦æ‹·è´æ•°ç»„ï¼Ÿ volatile å…³é”®å­—ä¿®é¥°çš„æ˜¯æ•°ç»„ï¼Œå¦‚æœæˆ‘ä»¬ç®€å•çš„åœ¨åŸæ¥æ•°ç»„ä¸Šä¿®æ”¹å…¶ä¸­æŸå‡ ä¸ªå…ƒç´ çš„å€¼ï¼Œæ˜¯æ— æ³•è§¦å‘å¯è§æ€§çš„ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡ä¿®æ”¹æ•°ç»„çš„å†…å­˜åœ°å€æ‰è¡Œ ç¬¬äºŒä¸ªåŸå› æ˜¯getå¹¶æ²¡æœ‰åŠ é”ï¼Œé€šè¿‡å¤åˆ¶ä¸€ä¸ªæ–°æ•°ç»„è¿›è¡Œæ“ä½œï¼Œå¯ä»¥é˜²æ­¢getè®¿é—®åˆ°ä¸€äº›æ•°æ®çš„ä¸­é—´ç»„åˆ åœ¨æŒ‡å®šä½ç½®æ–°å¢ public void add(int index, E element) { synchronized (lock) { Object[] es = getArray(); int len = es.length; if (index > len || index åˆ é™¤ public E remove(int index) { synchronized (lock) { Object[] es = getArray(); int len = es.length; E oldValue = elementAt(es, index); int numMoved = len - index - 1; Object[] newElements; if (numMoved == 0) newElements = Arrays.copyOf(es, len - 1); else { // å¤åˆ¶å‰åŠéƒ¨åˆ†æ•°ç»„åŒä¸Š newElements = new Object[len - 1]; System.arraycopy(es, 0, newElements, 0, index); // å¤åˆ¶ååŠéƒ¨åˆ†æ•°ç»„éœ€è¦ä½ç½®å‘å·¦åç§»1ä¸ªå•ä½ System.arraycopy(es, index + 1, newElements, index, numMoved); } setArray(newElements); return oldValue; } } indexOf private static int indexOfRange(Object o, Object[] es, int from, int to) { if (o == null) { // è¿”å›ç¬¬ä¸€ä¸ªä¸ºnullçš„ä¸‹æ ‡ for (int i = from; i è¿­ä»£ ç”±äºCopyOnWriteArrayListçš„è¿­ä»£å™¨éœ€è¦æŒæœ‰ä¸€ä¸ªæ•°ç»„å¼•ç”¨ï¼Œæ‰€ä»¥å³ä½¿åœ¨è¿­ä»£çš„è¿‡ç¨‹ä¸­å¯¹CopyOnWriteArrayListè¿›è¡Œä¿®æ”¹ä¹Ÿä¸ä¼šæŠ›å¼‚å¸¸ ConcurrentHashMap æ“ä½œ put final V putVal(K key, V value, boolean onlyIfAbsent) { if (key == null || value == null) throw new NullPointerException(); int hash = spread(key.hashCode()); int binCount = 0; for (Node[] tab = table;;) { Node f; int n, i, fh; K fk; V fv; // tableä¸ºç©ºï¼Œåˆå§‹åŒ– if (tab == null || (n = tab.length) == 0) tab = initTable(); // å½“å‰ç´¢å¼•ä½ç½®ä¸ºç©ºï¼Œç›´æ¥å­˜æ”¾åˆ°è¿™é‡Œ else if ((f = tabAt(tab, i = (n - 1) & hash)) == null) { if (casTabAt(tab, i, null, new Node(hash, key, value))) break; // no lock when adding to empty bin } // å½“å‰èŠ‚ç‚¹æ˜¯åœ¨æ‰©å®¹ï¼Œç­‰å¾…æ‰©å®¹å®Œæˆ else if ((fh = f.hash) == MOVED) tab = helpTransfer(tab, f); else if (onlyIfAbsent // check first node without acquiring lock && fh == hash && ((fk = f.key) == key || (fk != null && key.equals(fk))) && (fv = f.val) != null) return fv; else { V oldVal = null; // é”ä½å½“å‰èŠ‚ç‚¹ synchronized (f) { // å…¶ä»–çš„è·ŸHashMapå·®ä¸å¤š if (tabAt(tab, i) == f) { // é“¾è¡¨æ·»åŠ  if (fh >= 0) { binCount = 1; for (Node e = f;; ++binCount) { K ek; if (e.hash == hash && ((ek = e.key) == key || (ek != null && key.equals(ek)))) { oldVal = e.val; if (!onlyIfAbsent) e.val = value; break; } Node pred = e; if ((e = e.next) == null) { pred.next = new Node(hash, key, value); break; } } } // çº¢é»‘æ ‘æ·»åŠ  else if (f instanceof TreeBin) { Node p; binCount = 2; if ((p = ((TreeBin)f).putTreeVal(hash, key, value)) != null) { oldVal = p.val; if (!onlyIfAbsent) p.val = value; } } else if (f instanceof ReservationNode) throw new IllegalStateException(\"Recursive update\"); } } // æ–°å¢æˆåŠŸ if (binCount != 0) { // æ˜¯å¦éœ€è¦è½¬ä¸ºçº¢é»‘æ ‘ if (binCount >= TREEIFY_THRESHOLD) treeifyBin(tab, i); if (oldVal != null) return oldVal; break; } } } addCount(1L, binCount); return null; } æ•°ç»„åˆå§‹åŒ–ï¼Œå¦‚ä½•ä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹åˆå§‹åŒ–å¹¶ä¸”èƒ½åˆå§‹åŒ–æˆåŠŸï¼Ÿ private final Node[] initTable() { Node[] tab; int sc; // è‡ªæ—‹ while ((tab = table) == null || tab.length == 0) { // ä»£è¡¨å½“å‰æœ‰çº¿ç¨‹åœ¨åˆå§‹åŒ–ï¼Œè®©çº¿ç¨‹è°ƒåº¦å™¨é‡æ–°è°ƒåº¦çº¿ç¨‹ if ((sc = sizeCtl) 0) ? sc : DEFAULT_CAPACITY; @SuppressWarnings(\"unchecked\") Node[] nt = (Node[])new Node[n]; table = tab = nt; sc = n - (n >>> 2); } } finally { sizeCtl = sc; } break; } } return tab; } æ–°å¢æ§½ç‚¹ï¼Œé€šè¿‡è‡ªæ—‹æ­»å¾ªç¯ä¿è¯ä¸€å®šå¯ä»¥æ–°å¢æˆåŠŸã€‚ å¦‚æœå½“å‰æ§½ç‚¹ä¸ºç©ºï¼Œé€šè¿‡CASæ–°å¢ æ§½ç‚¹å¦‚æœæœ‰å€¼ï¼Œä¼šé”ä½å½“å‰æ§½ç‚¹ çº¢é»‘æ ‘æ—‹è½¬æ—¶ï¼Œé”ä½çº¢é»‘æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œä¿è¯åŒä¸€æ—¶åˆ»ï¼Œå½“å‰çº¢é»‘æ ‘åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ—‹è½¬ æ‰©å®¹ é¦–å…ˆéœ€è¦æŠŠè€æ•°ç»„çš„å€¼å…¨éƒ¨æ‹·è´åˆ°æ‰©å®¹ä¹‹åçš„æ–°æ•°ç»„ä¸Šï¼Œå…ˆä»æ•°ç»„çš„é˜Ÿå°¾å¼€å§‹æ‹·è´ï¼› æ‹·è´æ•°ç»„çš„æ§½ç‚¹æ—¶ï¼Œå…ˆæŠŠåŸæ•°ç»„æ§½ç‚¹é”ä½ï¼Œä¿è¯åŸæ•°ç»„æ§½ç‚¹ä¸èƒ½æ“ä½œï¼ŒæˆåŠŸæ‹·è´åˆ°æ–°æ•°ç»„æ—¶ï¼ŒæŠŠåŸæ•°ç»„æ§½ç‚¹èµ‹å€¼ä¸ºè½¬ç§»èŠ‚ç‚¹ï¼› è¿™æ—¶å¦‚æœæœ‰æ–°æ•°æ®æ­£å¥½éœ€è¦ put åˆ°æ­¤æ§½ç‚¹æ—¶ï¼Œå‘ç°æ§½ç‚¹ä¸ºè½¬ç§»èŠ‚ç‚¹ï¼Œå°±ä¼šä¸€ç›´ç­‰å¾…ï¼Œæ‰€ä»¥åœ¨æ‰©å®¹å®Œæˆä¹‹å‰ï¼Œè¯¥æ§½ç‚¹å¯¹åº”çš„æ•°æ®æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼› ä»æ•°ç»„çš„å°¾éƒ¨æ‹·è´åˆ°å¤´éƒ¨ï¼Œæ¯æ‹·è´æˆåŠŸä¸€æ¬¡ï¼Œå°±æŠŠåŸæ•°ç»„ä¸­çš„èŠ‚ç‚¹è®¾ç½®æˆè½¬ç§»èŠ‚ç‚¹ï¼› ç›´åˆ°æ‰€æœ‰æ•°ç»„æ•°æ®éƒ½æ‹·è´åˆ°æ–°æ•°ç»„æ—¶ï¼Œç›´æ¥æŠŠæ–°æ•°ç»„æ•´ä¸ªèµ‹å€¼ç»™æ•°ç»„å®¹å™¨ï¼Œæ‹·è´å®Œæˆ get getè·ŸHashMapå¾ˆåƒ åº”ç”¨ æµç¨‹å¼•æ“ å…¶ä¸»è¦åŠŸèƒ½å°±æ˜¯å¯¹æˆ‘ä»¬éœ€è¦å®Œæˆçš„äº‹æƒ…ï¼Œè¿›è¡Œç¼–æ’å’Œç»„è£… é€šè¿‡ä½¿ç”¨Listä¸Mapæ¥å®šä¹‰äº‹ä»¶çš„æ ‡å¿—ä¸æµç¨‹ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ä¸€ä¸ªæ ‡è¯†æ¥è·å–äº‹ä»¶çš„è¡Œä¸ºï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨äº‹ä»¶è¡Œä¸ºæ¥äº§ç”Ÿæ•ˆæœ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 08:00:00 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/é˜Ÿåˆ—.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/é˜Ÿåˆ—.html","title":"é˜Ÿåˆ—","keywords":"","body":"é˜Ÿåˆ—æºç è§£æ è®¾è®¡æ€æƒ³ æ•°æ®ç»“æ„ å…¥é˜Ÿå‡ºé˜Ÿæ–¹å¼ é€šä¿¡æœºåˆ¶ å¼ºå…³è”ï¼štakeä¸putè¦äº’ç›¸ç­‰å¾… æ— å…³è”ï¼šåªè¦é˜Ÿåˆ—å®¹å™¨ä¸æ»¡ï¼Œç”Ÿäº§è€…å°±èƒ½æ”¾æˆåŠŸï¼Œç”Ÿäº§è€…å°±å¯ä»¥ç›´æ¥è¿”å›ï¼Œå’Œæœ‰æ— æ¶ˆè´¹è€…ä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å®Œå…¨è§£è€¦ LinkedBlockingQueue ç±»ç»“æ„å±‚æ¬¡ æ¶æ„ ä½¿ç”¨é“¾è¡¨æ¥ç»´æŠ¤å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ— åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šé“¾è¡¨å­˜å‚¨ + é” + è¿­ä»£å™¨ æ“ä½œ åˆå§‹åŒ– // ç›´æ¥æ ¹æ®å¤§å°åˆå§‹åŒ– public LinkedBlockingQueue(int capacity) { if (capacity (null); } // æ ¹æ®ç»™å®šé›†åˆåˆå§‹åŒ– public LinkedBlockingQueue(Collection c) { // åˆå§‹åŒ–è¿‘ä¹æ— é™çš„é˜Ÿåˆ— this(Integer.MAX_VALUE); // puté” final ReentrantLock putLock = this.putLock; putLock.lock(); // Never contended, but necessary for visibility try { int n = 0; // é€šè¿‡å¾ªç¯ä»¥æ­¤å¯¹é›†åˆå†…çš„å…ƒç´ å…¥åˆ— for (E e : c) { if (e == null) throw new NullPointerException(); if (n == capacity) throw new IllegalStateException(\"Queue full\"); enqueue(new Node(e)); ++n; } // ç»´æŠ¤é˜Ÿåˆ—çŠ¶æ€ä¿¡æ¯ count.set(n); } finally { putLock.unlock(); } } é˜»å¡æ–°å¢ public void put(E e) throws InterruptedException { if (e == null) throw new NullPointerException(); final int c; final Node node = new Node(e); final ReentrantLock putLock = this.putLock; final AtomicInteger count = this.count; // å¯ä¸­æ–­é” putLock.lockInterruptibly(); try { // å½“å‰é˜Ÿåˆ—æ»¡ï¼Œç­‰å¾… while (count.get() == capacity) { notFull.await(); } // ç­‰å¾…ç»“æŸï¼ˆæ­¤æ—¶æ˜¯é˜Ÿåˆ—ä»æ»¡å˜ä¸ºæ²¡æ»¡ï¼Œè¢«å”¤é†’ï¼‰ï¼Œå…¥é˜Ÿ enqueue(node); // è·å¾—ä¸Šä¸€åˆ»é˜Ÿåˆ—å¤§å° c = count.getAndIncrement(); // å¦‚æœå½“å‰é˜Ÿåˆ—å¤§å°ä»ç„¶å°äºæœ€å¤§å®¹é‡ï¼Œå”¤é†’ä¸€ä¸ªputçš„ç­‰å¾…çº¿ç¨‹ if (c + 1 é˜»å¡åˆ é™¤ public E take() throws InterruptedException { final E x; final int c; final AtomicInteger count = this.count; final ReentrantLock takeLock = this.takeLock; takeLock.lockInterruptibly(); try { // å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œè¿›è¡Œç­‰å¾… while (count.get() == 0) { notEmpty.await(); } // è¢«å”¤é†’ï¼Œä»£è¡¨é˜Ÿåˆ—æœ‰æ•°æ®äº†ï¼Œå‡ºé˜Ÿ x = dequeue(); // ä¸Šä¸€åˆ»çš„é˜Ÿåˆ—å¤§å° c = count.getAndDecrement(); // ä»£è¡¨é˜Ÿåˆ—è¿˜æœ‰æ•°æ®ï¼Œå†å”¤é†’ä¸€ä¸ªç­‰å¾…takeçš„çº¿ç¨‹ if (c > 1) notEmpty.signal(); } finally { takeLock.unlock(); } // é˜Ÿåˆ—è¿˜å‰©ä¸€ä¸ªç©ºä½ï¼Œå”¤é†’ä¸€ä¸ªç­‰å¾…putçš„çº¿ç¨‹ if (c == capacity) signalNotFull(); return x; } ä½¿ç”¨åœºæ™¯ é€‚åˆå¯¹ç”Ÿäº§çš„æ•°æ®å¤§å°ä¸å®šï¼ˆæ—¶é«˜æ—¶ä½ï¼‰ï¼Œæ•°æ®é‡è¾ƒå¤§çš„åœºæ™¯ SynchronousQueue å…¶æœ¬èº«æ˜¯æ²¡æœ‰å®¹é‡å¤§å°ï¼Œæ¯”å¦‚æˆ‘æ”¾ä¸€ä¸ªæ•°æ®åˆ°é˜Ÿåˆ—ä¸­ï¼Œæˆ‘æ˜¯ä¸èƒ½å¤Ÿç«‹é©¬è¿”å›çš„ï¼Œæˆ‘å¿…é¡»ç­‰å¾…åˆ«äººæŠŠæˆ‘æ”¾è¿›å»çš„æ•°æ®æ¶ˆè´¹æ‰äº†ï¼Œæ‰èƒ½å¤Ÿè¿”å› æ¶æ„ // å †æ ˆå’Œé˜Ÿåˆ—å…±åŒçš„æ¥å£ // è´Ÿè´£æ‰§è¡Œ put or take abstract static class Transferer { // e ä¸ºç©ºçš„ï¼Œä¼šç›´æ¥è¿”å›ç‰¹æ®Šå€¼ï¼Œä¸ä¸ºç©ºä¼šä¼ é€’ç»™æ¶ˆè´¹è€… // timed ä¸º trueï¼Œè¯´æ˜ä¼šæœ‰è¶…æ—¶æ—¶é—´ abstract E transfer(E e, boolean timed, long nanos); } // å †æ ˆ åå…¥å…ˆå‡º éå…¬å¹³ // Scherer-Scott ç®—æ³• static final class TransferStack extends Transferer {} // é˜Ÿåˆ— å…ˆå…¥å…ˆå‡º å…¬å¹³ static final class TransferQueue extends Transferer {} transfer è¯¥æ–¹æ³•æ¯”è¾ƒå¤æ‚ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œå¦‚æœä¼ è¿›æ¥çš„eæ˜¯nullï¼Œå¹¶ä¸”å½“å‰æœ‰ä¸€ä¸ªputçº¿ç¨‹é˜»å¡ï¼Œåˆ™ä¼šè¿”å›è¿™ä¸ªputçš„eï¼Œå¹¶ä¸”putçº¿ç¨‹è§£é™¤é˜»å¡ã€‚å¦åˆ™å°±ä¸€ç›´é˜»å¡åˆ°æœ‰æ•°æ®ä¸ºæ­¢ åä¹‹ï¼Œå¦‚æœä¼ è¿›æ¥çš„eä¸æ˜¯nullï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªtakeçº¿ç¨‹é˜»å¡ï¼Œåˆ™å°†eé€šè¿‡èŠ‚ç‚¹ä¼ ç»™takeçº¿ç¨‹ DelayQueue DelayQueue ä¸­çš„å…ƒç´ å¿…é¡»æ˜¯ Delayed çš„å­ç±»ï¼ŒDelayed æ˜¯è¡¨è¾¾å»¶è¿Ÿèƒ½åŠ›çš„å…³é”®æ¥å£ï¼Œå…¶ç»§æ‰¿äº† Comparable æ¥å£ï¼Œå¹¶å®šä¹‰äº†è¿˜å‰©å¤šä¹…è¿‡æœŸçš„æ–¹æ³• public interface Delayed extends Comparable { long getDelay(TimeUnit unit); } æ“ä½œ put public boolean offer(E e) { final ReentrantLock lock = this.lock; lock.lock(); try { // åˆ©ç”¨ä¼˜å…ˆé˜Ÿåˆ—è¿›è¡Œæ’åº q.offer(e); // å¦‚æœåˆšæ”¾è¿›å»çš„å…ƒç´ åœ¨é˜Ÿå¤´ if (q.peek() == e) { leader = null; // åˆ™ä¼šå”¤é†’åœ¨ç­‰å¾…å¯ç”¨å…ƒç´ çš„çº¿ç¨‹ available.signal(); } return true; } finally { lock.unlock(); } } take public E take() throws InterruptedException { final ReentrantLock lock = this.lock; lock.lockInterruptibly(); try { // è‡ªæ—‹ for (;;) { // è·å–é˜Ÿå¤´æ•°æ® E first = q.peek(); // é˜Ÿå¤´æ²¡æ•°æ®ï¼Œè¿›è¡Œç­‰å¾… if (first == null) available.await(); else { // è·å–é˜Ÿå¤´æ•°æ®çš„è¿‡æœŸæ—¶é—´ long delay = first.getDelay(NANOSECONDS); // ä»¥åŠè¿‡æœŸäº† if (delay ä½¿ç”¨åœºæ™¯ ç”¨äºä»»åŠ¡ä¸æƒ³ç«‹é©¬æ‰§è¡Œï¼Œæƒ³ç­‰å¾…ä¸€æ®µæ—¶é—´æ‰æ‰§è¡Œçš„åœºæ™¯ ArrayBlockingQueue è¿™ä¸ªé˜Ÿåˆ—ä¸€ä¸ªé‡è¦çš„ç‰¹ç‚¹æ˜¯æœ‰ç•Œçš„é˜»å¡æ•°ç»„ï¼Œå®¹é‡ä¸€æ—¦åˆ›å»ºï¼Œåç»­å¤§å°æ— æ³•ä¿®æ”¹ æ“ä½œ åˆå§‹åŒ– public ArrayBlockingQueue(int capacity, boolean fair) { if (capacity put public void put(E e) throws InterruptedException { Objects.requireNonNull(e); final ReentrantLock lock = this.lock; lock.lockInterruptibly(); try { // å½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œè¿›è¡Œç­‰å¾… while (count == items.length) notFull.await(); // è¢«å”¤é†’ï¼Œå…¥é˜Ÿ enqueue(e); } finally { lock.unlock(); } } private void enqueue(E e) { final Object[] items = this.items; // ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼ŒputIndexå°±æ˜¯å½“å…¥é˜Ÿçš„æ—¶å€™ï¼Œå…ƒç´ æ”¾ç½®çš„ä½ç½® items[putIndex] = e; // å½“ä¸‹æ¬¡çš„putInexè¶…è¿‡æ•°ç»„å¤§å°æ—¶ï¼Œåˆ™ä¸‹æ¬¡æ”¾ç½®çš„ä½ç½®å°±æ˜¯0ï¼Œä¹Ÿå°±è¯´é˜Ÿå¤´ if (++putIndex == items.length) putIndex = 0; count++; // å”¤é†’ç­‰å¾…takeçš„çº¿ç¨‹ notEmpty.signal(); } take public E take() throws InterruptedException { final ReentrantLock lock = this.lock; lock.lockInterruptibly(); try { // é˜Ÿåˆ—ä¸ºç©ºï¼Œè¿›è¡Œç­‰å¾… while (count == 0) notEmpty.await(); // è¢«å”¤é†’ï¼Œå‡ºé˜Ÿ return dequeue(); } finally { lock.unlock(); } } private E dequeue() { final Object[] items = this.items; @SuppressWarnings(\"unchecked\") // // ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼ŒtakeIndexå°±æ˜¯å½“å‡ºé˜Ÿçš„æ—¶å€™ï¼Œå…ƒç´ çš„ä½ç½® E e = (E) items[takeIndex]; items[takeIndex] = null; // åŒæ ·ï¼Œå½“ä¸‹ä¸€æ¬¡takeIndexè¶…è¿‡æ•°ç»„å®¹é‡æ—¶ï¼Œå°±ä»å¤´å¼€å§‹ if (++takeIndex == items.length) takeIndex = 0; count--; if (itrs != null) itrs.elementDequeued(); // å”¤é†’ç­‰å¾…putçš„çº¿ç¨‹ notFull.signal(); return e; } remove void removeAt(final int removeIndex) { final Object[] items = this.items; // åˆ é™¤çš„ä½ç½®ç­‰äºä¸‹ä¸€æ¬¡takeçš„ä½ç½® if (removeIndex == takeIndex) { // removing front item; just advance items[takeIndex] = null; // takeIndexå¾€åç§»åŠ¨ä¸€ä½ if (++takeIndex == items.length) takeIndex = 0; count--; if (itrs != null) itrs.elementDequeued(); } else { // åˆ é™¤çš„ä½ç½®étakeIndex // ä»åˆ é™¤çš„ä½ç½®å¼€å§‹éå† for (int i = removeIndex, putIndex = this.putIndex;;) { int pred = i; if (++i == items.length) i = 0; // å¦‚æœéå†åˆ°putIndexçš„ä½ç½®ï¼Œåˆ é™¤è¿™ä¸ªä½ç½®çš„å…ƒç´  if (i == putIndex) { items[pred] = null; this.putIndex = pred; break; } // å°†removeIndexåçš„å…ƒç´ å…¨éƒ¨å¾€å‰ç§»åŠ¨ä¸€ä½ items[pred] = items[i]; } count--; if (itrs != null) itrs.removedAt(removeIndex); } // é€šçŸ¥ç­‰å¾…putçš„çº¿ç¨‹ notFull.signal(); } ä½¿ç”¨åœºæ™¯ ä¸€èˆ¬ç”¨äºç”Ÿäº§æ•°æ®å›ºå®šçš„åœºæ™¯ é—®é¢˜ å¯¹é˜Ÿåˆ—çš„ç†è§£ é¦–å…ˆé˜Ÿåˆ—æœ¬èº«ä¹Ÿæ˜¯ä¸ªå®¹å™¨ï¼Œåº•å±‚ä¹Ÿä¼šæœ‰ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œåˆ—æŠŠç”Ÿäº§æ•°æ®çš„ä¸€æ–¹å’Œæ¶ˆè´¹æ•°æ®çš„ä¸€æ–¹è¿›è¡Œè§£è€¦ï¼Œç”Ÿäº§è€…åªç®¡ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…åªç®¡æ¶ˆè´¹ï¼Œé˜Ÿåˆ—è¿˜å¯ä»¥å¯¹æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…è¿›è¡Œç®¡ç†ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶æˆ–è€…ç©ºæ—¶ï¼Œä¼šé˜»å¡ä½ç”Ÿäº§è€…æˆ–è€…æ¶ˆè´¹è€… é˜Ÿåˆ—å’Œé›†åˆçš„åŒºåˆ« é˜Ÿåˆ—ï¼ˆéƒ¨åˆ†ä¾‹å¤–ï¼‰å’Œé›†åˆéƒ½æä¾›äº†æ•°æ®å­˜å‚¨çš„åŠŸèƒ½ï¼Œåº•å±‚çš„å‚¨å­˜æ•°æ®ç»“æ„æ˜¯æœ‰äº›ç›¸ä¼¼çš„ ä½†ä¸¤è€…ä¸ºäº†å®Œæˆä¸åŒçš„äº‹æƒ…ï¼Œæä¾›çš„ API å’Œå…¶åº•å±‚çš„æ“ä½œå®ç°æ˜¯ä¸åŒçš„ï¼Œ é˜Ÿåˆ—æä¾›äº†é˜»å¡çš„åŠŸèƒ½ï¼Œè§£è€¦äº†ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€… å“ªäº›é˜Ÿåˆ—å…·æœ‰é˜»å¡çš„åŠŸèƒ½ï¼Œå¤§æ¦‚æ˜¯å¦‚ä½•é˜»å¡çš„ LinkedBlockingQueue é“¾è¡¨é˜»å¡é˜Ÿåˆ—å’Œ ArrayBlockingQueue æ•°ç»„é˜»å¡é˜Ÿåˆ—æ˜¯ä¸€ç±»ï¼Œä¸¤ä¸ªé˜»å¡é˜Ÿåˆ—éƒ½å¯ä»¥æŒ‡å®šå®¹é‡å¤§å°ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œå¦‚æœæœ‰çº¿ç¨‹ put æ•°æ®ï¼Œçº¿ç¨‹ä¼šé˜»å¡ä½ï¼Œç›´åˆ°æœ‰å…¶ä»–çº¿ç¨‹è¿›è¡Œæ¶ˆè´¹æ•°æ®åï¼Œæ‰ä¼šå”¤é†’é˜»å¡çº¿ç¨‹ç»§ç»­ putï¼Œå½“é˜Ÿåˆ—ç©ºæ—¶ï¼Œå¦‚æœæœ‰çº¿ç¨‹ take æ•°æ®ï¼Œçº¿ç¨‹ä¼šé˜»å¡åˆ°é˜Ÿåˆ—ä¸ç©ºæ—¶ï¼Œç»§ç»­ take SynchronousQueue åŒæ­¥é˜Ÿåˆ—ï¼Œå½“çº¿ç¨‹ put æ—¶ï¼Œå¿…é¡»æœ‰å¯¹åº”çº¿ç¨‹æŠŠæ•°æ®æ¶ˆè´¹æ‰ï¼Œput çº¿ç¨‹æ‰èƒ½è¿”å›ï¼Œå½“çº¿ç¨‹ take æ—¶ï¼Œéœ€è¦æœ‰å¯¹åº”çº¿ç¨‹è¿›è¡Œ put æ•°æ®æ—¶ï¼Œtake æ‰èƒ½è¿”å› åº•å±‚æ˜¯å¦‚ä½•å®ç°é˜»å¡çš„ åˆ©ç”¨ Condition çš„ç­‰å¾…å”¤é†’æœºåˆ¶ ç»å¸¸ä½¿ç”¨é˜Ÿåˆ—çš„ putã€take æ–¹æ³•æœ‰ä»€ä¹ˆå±å®³ï¼Œå¦‚ä½•é¿å… ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯æ— é™ï¼ˆæ°¸è¿œã€æ²¡æœ‰è¶…æ—¶æ—¶é—´çš„æ„æ€ï¼‰é˜»å¡çš„æ–¹æ³• ä½¿ç”¨ offer å’Œ poll æ–¹æ³•æ¥ä»£æ›¿ä¸¤è€…ï¼Œå¯ä»¥è®¾ç½®è¶…æ—¶é˜»å¡æ—¶é—´ é˜Ÿåˆ—åœ¨JDKä¸­çš„å…¶ä»–è¿ç”¨ çº¿ç¨‹æ±  public static ExecutorService newFixedThreadPool(int nThreads) { return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue()); } å‚è€ƒJAVAç¼–ç¨‹è§„èŒƒä¸­çš„ä¸è¦ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± ï¼Œè€Œè¦æ‰‹åŠ¨åˆ›å»º é” åŒæ­¥é˜Ÿåˆ— MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-23 06:51:19 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/çº¿ç¨‹.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/çº¿ç¨‹.html","title":"çº¿ç¨‹","keywords":"","body":"çº¿ç¨‹æºç è§£æ çº¿ç¨‹APIä¹‹é—´çš„å…³ç³» Thread åˆå§‹åŒ– private Thread(ThreadGroup g , Runnable target, String name, long stackSize, AccessControlContext acc, boolean inheritThreadLocals) { if (name == null) { throw new NullPointerException(\"name cannot be null\"); } this.name = name; // å½“å‰çº¿ç¨‹ä½œä¸ºè¿™æ¡çº¿ç¨‹çš„çˆ¶çº¿ç¨‹ Thread parent = currentThread(); // ä¸€äº›å®‰å…¨æ£€æŸ¥ SecurityManager security = System.getSecurityManager(); if (g == null) { if (security != null) { g = security.getThreadGroup(); } if (g == null) { g = parent.getThreadGroup(); } } g.checkAccess(); // æƒé™æ£€æŸ¥ if (security != null) { if (isCCLOverridden(getClass())) { security.checkPermission( SecurityConstants.SUBCLASS_IMPLEMENTATION_PERMISSION); } } g.addUnstarted(); // è®¾ç½®çº¿ç¨‹ç»„ this.group = g; // ç»§æ‰¿çˆ¶çº¿ç¨‹çš„ä¸€äº›å±æ€§ï¼ŒåŒ…æ‹¬æ˜¯å¦æ˜¯å®ˆæŠ¤çº¿ç¨‹ã€çº¿ç¨‹ä¼˜å…ˆçº§ç­‰ this.daemon = parent.isDaemon(); this.priority = parent.getPriority(); if (security == null || isCCLOverridden(parent.getClass())) this.contextClassLoader = parent.getContextClassLoader(); else this.contextClassLoader = parent.contextClassLoader; this.inheritedAccessControlContext = acc != null ? acc : AccessController.getContext(); this.target = target; // è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§ setPriority(priority); if (inheritThreadLocals && parent.inheritableThreadLocals != null) this.inheritableThreadLocals = ThreadLocal.createInheritedMap(parent.inheritableThreadLocals); // è®¾ç½®çº¿ç¨‹æ ˆå¤§å° this.stackSize = stackSize; /* Set thread ID */ this.tid = nextThreadID(); } å¯åŠ¨ public synchronized void start() { // çº¿ç¨‹å¹¶éNEWçŠ¶æ€ if (threadStatus != 0) throw new IllegalThreadStateException(); // é€šçŸ¥çº¿ç¨‹ç»„åŠ å…¥è‡ªèº« group.add(this); boolean started = false; try { // è°ƒç”¨nativeæ–¹æ³•å¯åŠ¨çº¿ç¨‹ start0(); started = true; } finally { try { // å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œé€šçŸ¥çº¿ç¨‹ç»„å¯åŠ¨å¤±è´¥ if (!started) { group.threadStartFailed(this); } } catch (Throwable ignore) { /* do nothing. If start0 threw a Throwable then it will be passed up the call stack */ } } } join join çš„æ„æ€å°±æ˜¯å½“å‰çº¿ç¨‹(currentThread)ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹(è°ƒç”¨joinçš„é‚£ä¸ªçº¿ç¨‹)æ‰§è¡Œå®Œæˆä¹‹åï¼Œæ‰èƒ½ç»§ç»­æ“ä½œ public final synchronized void join(final long millis) throws InterruptedException { if (millis > 0) { // åˆ¤æ–­è‡ªèº«æ˜¯å¦å·²æ‰§è¡Œå®Œæ¯•ï¼Œ if (isAlive()) { // å¦‚æœè¿˜æœªå®Œæ¯•ç­‰å¾…ä¸€å®šçš„æ—¶é—´ final long startTime = System.nanoTime(); long delay = millis; do { wait(delay); } while (isAlive() && (delay = millis - TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - startTime)) > 0); } // æ— é™ç­‰å¾… } else if (millis == 0) { // åŸç†å°±æ˜¯è‡ªæ—‹åˆ¤æ–­è‡ªèº«æ˜¯å¦å·²ç»æ‰§è¡Œå®Œæ¯• while (isAlive()) { // å¦‚æœè¿˜æœªæ‰§è¡Œå®Œæ¯•ï¼Œåˆ™è¿›å…¥wait wait(0); } } else { throw new IllegalArgumentException(\"timeout value is negative\"); } } FutureTask åˆå§‹åŒ– public FutureTask(Callable callable) { if (callable == null) throw new NullPointerException(); this.callable = callable; this.state = NEW; // ensure visibility of callable } public FutureTask(Runnable runnable, V result) { // å°†runnableåŒ…è£…æˆcallableï¼Œå†…éƒ¨æ˜¯é€šè¿‡é€‚é…å™¨çš„æ–¹å¼æ¥å®ç°çš„ this.callable = Executors.callable(runnable, result); this.state = NEW; // ensure visibility of callable } RunnableAdapter(Runnable task, T result) { this.task = task; this.result = result; } public T call() { task.run(); return result; } get public V get() throws InterruptedException, ExecutionException { int s = state; if (s COMPLETING) { if (q != null) q.thread = null; return s; } // è¿˜æœªå®Œæˆï¼Œè®©çº¿ç¨‹è°ƒåº¦å™¨é‡æ–°è°ƒåº¦ï¼Œé˜²æ­¢å ç€ä¸æ”¾ else if (s == COMPLETING) Thread.yield(); // çº¿ç¨‹è¢«æ‰“æ–­ï¼ŒæŠ›å‡ºå¼‚å¸¸ else if (Thread.interrupted()) { removeWaiter(q); throw new InterruptedException(); } // ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œåˆ›å»ºä¸€äº›ä¿¡æ¯ else if (q == null) { if (timed && nanos = nanos) { removeWaiter(q); return state; } parkNanos = nanos - elapsed; } // nanoTime may be slow; recheck before parking if (state run public void run() { // çŠ¶æ€ä¸å¯¹ if (state != NEW || !RUNNER.compareAndSet(this, null, Thread.currentThread())) return; try { Callable c = callable; // çŠ¶æ€æ­£ç¡®æ—¶è¿›å…¥ if (c != null && state == NEW) { V result; boolean ran; try { // æ‰§è¡Œä¸»ä½“ result = c.call(); // æ ‡è®°æ‰§è¡Œå®Œæˆ ran = true; } catch (Throwable ex) { // æ ‡è®°å¤±è´¥ result = null; ran = false; setException(ex); } if (ran) set(result); } } finally { runner = null; int s = state; if (s >= INTERRUPTING) handlePossibleCancellationInterrupt(s); } } cancel public boolean cancel(boolean mayInterruptIfRunning) { // çŠ¶æ€ä¸å¯¹ if (!(state == NEW && STATE.compareAndSet (this, NEW, mayInterruptIfRunning ? INTERRUPTING : CANCELLED))) return false; try { // in case call to interrupt throws exception if (mayInterruptIfRunning) { try { // é€šè¿‡è®¾ç½®ä¸­æ–­ä½æ¥åœæ­¢çº¿ç¨‹ Thread t = runner; if (t != null) t.interrupt(); } finally { // final state STATE.setRelease(this, INTERRUPTED); } } } finally { finishCompletion(); } return true; } ThreadLocal ä¾›äº†ä¸€ç§æ–¹å¼ï¼Œè®©åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥æ‹¥æœ‰è‡ªå·±ç‹¬ç‰¹çš„æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ•´ä¸ªçº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä»ä¸Šè€Œä¸‹çš„ä¼ é€’ å±æ€§ // è¡¨ç¤ºå½“å‰ThreadLocalåœ¨å…¨å±€mapä¸­çš„å­˜æ”¾ä½ç½® private final int threadLocalHashCode = nextHashCode(); // å®ƒçš„hashCodeæ˜¯é€šè¿‡ä¸€ä¸ªåŸå­æ•´æ•°ä¸æ–­é€’å¢çš„å½¢å¼ç»™å‡ºçš„ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¯å°æœºå™¨çš„æ¯ä¸€ä¸ªThreadLocaléƒ½æœ‰å”¯ä¸€çš„hashCode private static AtomicInteger nextHashCode = new AtomicInteger(); // ç”¨æ¥å­˜æ”¾å„ä¸ªThreadLocalå¯¹åº”çš„æ•°æ® static class ThreadLocalMap { ... } set public void set(T value) { Thread t = Thread.currentThread(); // è·å–å½“å‰çº¿ç¨‹çš„ä¸€ä¸ªmap ThreadLocalMap map = getMap(t); // å‘mapé‡Œé¢æ”¾æ•°æ®ï¼ˆå¦‚æœmapä¸ºç©ºï¼Œåˆ™åˆ›å»ºmapï¼‰ if (map != null) { map.set(this, value); } else { // è¿™é‡Œåˆ›å»ºmapçš„æ—¶å€™ï¼Œåˆ›å»ºåä¼šå­˜å…¥value createMap(t, value); } } // ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰ä¸€å¼ mapï¼Œè¿™å¼ mapçš„å¯æ˜¯ThreadLocalï¼Œè¿™æ ·å½“ä½¿ç”¨ThreadLocalå­˜å–æ•°æ®æ—¶ï¼Œå°±ä¼šé€šè¿‡ThreadLocalæ¥åœ¨è¿™å¼ mapä¸Šset/getæ•°æ® get public T get() { Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); // è·å–mapè¿›è¡Œget if (map != null) { ThreadLocalMap.Entry e = map.getEntry(this); if (e != null) { @SuppressWarnings(\"unchecked\") T result = (T)e.value; return result; } } return setInitialValue(); } åº”ç”¨ // è·å–å½“å‰çš„è¯·æ±‚ RequestContextHolder.getCurrentRquest(); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-12 12:33:59 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/é”.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/é”.html","title":"é”","keywords":"","body":"é”æºç è§£æ AbstractQueuedSynchronizer ä¸­æ–‡ç¿»è¯‘å«åšåŒæ­¥å™¨ï¼Œç®€ç§° AQSï¼Œæ˜¯å„ç§å„æ ·é”çš„åŸºç¡€ï¼Œæ¯”å¦‚è¯´ ReentrantLockã€CountDownLatch ç­‰ç­‰ æ•´ä½“æ¶æ„ æä¾›äº†ä¸€ç§æ¡†æ¶ï¼Œè‡ªå®šä¹‰äº†å…ˆè¿›å…ˆå‡ºçš„åŒæ­¥é˜Ÿåˆ—ï¼Œè®©è·å–ä¸åˆ°é”çš„çº¿ç¨‹èƒ½è¿›å…¥åŒæ­¥é˜Ÿåˆ—ä¸­æ’é˜Ÿ åŒæ­¥å™¨æœ‰ä¸ªçŠ¶æ€å­—æ®µï¼Œå­ç±»éœ€è¦å®ç°ä¸€äº›æ–¹æ³•ï¼Œé€šè¿‡åˆ¤æ–­çŠ¶æ€å­—æ®µæ¥åˆ¤æ–­èƒ½å¦å¾—åˆ°é” å±æ€§ // è¿™ä¸ªçŠ¶æ€ç”¨æ¥åˆ¤æ–­æ˜¯å¦å¯ä»¥è·å¾—é”ï¼Œæ¯æ¬¡è·å¾—é”æ—¶+1ï¼Œé‡Šæ”¾é”-1 // å½“å­ç±»ç»§æ‰¿AQSæ¥å®ç°é”æ—¶ï¼Œè¦æ ¹æ®è¿™ä¸ªçŠ¶æ€åˆ¤æ–­èƒ½å¦è·å¾—é”(ä¸º0æ‰èƒ½è·å¾—)è·Ÿé‡Šæ”¾é”(ä¸º1æ‰èƒ½é‡Šæ”¾) private volatile int state; // åŒæ­¥é˜Ÿåˆ—çš„å¤´ä¸å°¾,åº•å±‚æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œç”¨æ¥é˜»å¡è·å–ä¸åˆ°é”çš„çº¿ç¨‹ï¼Œå¹¶åœ¨é€‚å½“æ—¶æœºé‡Šæ”¾è¿™äº›çº¿ç¨‹ private transient volatile Node head; private transient volatile Node tail; // æ¡ä»¶é˜Ÿåˆ—ï¼Œç®¡ç†è·å–ä¸åˆ°é”çš„çº¿ç¨‹ï¼Œä½†æ¡ä»¶é˜Ÿåˆ—ä¸ç›´æ¥å’Œé”æ‰“äº¤é“ï¼Œä½†å¸¸å¸¸å’Œé”é…åˆä½¿ç”¨ public class ConditionObject implements Condition, java.io.Serializable { // Condition å¯ä»¥ç”¨æ¥ä»£æ›¿ Object ä¸­ç›¸åº”çš„ç›‘æ§æ–¹æ³• // å®ƒæä¾›äº†ä¸€ç§çº¿ç¨‹åä½œæ–¹å¼ï¼Œå¹¶ä¸”éƒ½æœ‰æ˜ç¡®è¯­ä¹‰ /** First node of condition queue. */ private transient Node firstWaiter; /** Last node of condition queue. */ private transient Node lastWaiter; } static final class Node { ... volatile int waitStatus; // åœ¨å…±äº«é”ä¸­ç”¨æ¥è¡¨ç¤ºä¸‹ä¸€ä¸ªç­‰å¾…çº¿ç¨‹ï¼Œæ’å®ƒé”åˆ™ç”¨æ¥è¡¨ç¤ºå½“å‰èŠ‚ç‚¹æ˜¯å…±äº«è¿˜æ˜¯æ’å®ƒæ¨¡å¼ Node nextWaiter; } è·å–é” æ’å®ƒé” // æ’å®ƒæ¨¡å¼ä¸‹ï¼Œå°è¯•è·å¾—é” public final void acquire(int arg) { // tryAcquireè®©å­ç±»å®ç°çš„ï¼Œæ€è·¯ä¸€èˆ¬æ˜¯æ ¹æ®stateçš„å€¼å†³å®šæ˜¯å¦èƒ½è·å–åˆ°é” if (!tryAcquire(arg) && // å¦‚æœè·å–ä¸åˆ°å°±è°ƒç”¨addWaiterè®©çº¿ç¨‹è¿›å…¥åŒæ­¥é˜Ÿåˆ—ï¼Œç„¶åacquireQueuedè¿™ä¸ªæ–¹æ³•ä»£è¡¨è¿›å…¥ä¹‹åä¼šé˜»å¡ï¼Œç›´åˆ°è¢«å”¤é†’è·å¾—é” acquireQueued(addWaiter(Node.EXCLUSIVE), arg)) // è·å–é”å¤±è´¥ï¼Œæ‰“æ–­è‡ªèº« selfInterrupt(); } // è¿½åŠ åˆ°åŒæ­¥é˜Ÿåˆ—çš„é˜Ÿå°¾ private Node addWaiter(Node mode) { Node node = new Node(mode); for (;;) { Node oldTail = tail; // å¦‚æœé˜Ÿå°¾ä¸ä¸ºç©ºï¼Œå°±å°†nodeæ’å…¥åˆ°é˜Ÿå°¾ if (oldTail != null) { // å°†åŸæ¥é˜Ÿå°¾çš„nodeè®¾ç½®ä¸ºæ–°åŠ å…¥nodeçš„prev node.setPrevRelaxed(oldTail); // åŸå­æ–¹å¼å°†nodeè®¾ç½®ä¸ºé˜Ÿå°¾ if (compareAndSetTail(oldTail, node)) { oldTail.next = node; return node; } // é˜Ÿå°¾ä¸ºç©ºï¼Œéœ€è¦åˆå§‹åŒ–åŒæ­¥é˜Ÿåˆ— } else { initializeSyncQueue(); } } } // é˜»å¡å½“å‰çº¿ç¨‹ final boolean acquireQueued(final Node node, int arg) { boolean interrupted = false; try { for (;;) { final Node p = node.predecessor(); // å¦‚æœè¿™ä¸ªå½“å‰çº¿ç¨‹èŠ‚ç‚¹çš„å‰ç½®èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼Œå¹¶ä¸”è‡ªå·±å·²ç»èƒ½è·å¾—é”äº† if (p == head && tryAcquire(arg)) { // å°†è‡ªå·±è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹ setHead(node); p.next = null; // help GC // ç„¶åè¿”å› return interrupted; } // å‰ä¸€ä¸ªèŠ‚ç‚¹çŠ¶æ€ä¸ºSIGNALäº†ï¼Œé‚£ä¹ˆå°±é˜»å¡è‡ªå·±(park) if (shouldParkAfterFailedAcquire(p, node)) interrupted |= parkAndCheckInterrupt(); } } catch (Throwable t) { cancelAcquire(node); if (interrupted) selfInterrupt(); throw t; } } å…±äº«é” public final void acquireShared(int arg) { // åŒæ ·ç”±å­ç±»å®ç° if (tryAcquireShared(arg) = 0) { setHeadAndPropagate(node, r); p.next = null; // help GC return; } } if (shouldParkAfterFailedAcquire(p, node)) interrupted |= parkAndCheckInterrupt(); } } catch (Throwable t) { cancelAcquire(node); throw t; } finally { if (interrupted) selfInterrupt(); } } é‡Šæ”¾é” æ’å®ƒé” public final boolean release(int arg) { // åŒæ ·ç•™ç»™å­ç±»å®ç°åˆ¤æ–­æ˜¯å¦èƒ½é‡Šæ”¾é” if (tryRelease(arg)) { Node h = head; // åé¢æœ‰ä¸€äº›ç­‰å¾…å”¤é†’çš„èŠ‚ç‚¹ if (h != null && h.waitStatus != 0) // ä»å¤´å¼€å§‹å”¤é†’ç­‰å¾…é”çš„èŠ‚ç‚¹ unparkSuccessor(h); return true; } return false; } å…±äº«é” public final boolean releaseShared(int arg) { // åŸºæœ¬è·Ÿä¸Šé¢ä¸€æ · if (tryReleaseShared(arg)) { // å”¤é†’åé¢çš„çº¿ç¨‹ doReleaseShared(); return true; } return false; } æ¡ä»¶é˜Ÿåˆ— å…¥é˜Ÿåˆ—ç­‰å¾… await è·å¾—é”çš„çº¿ç¨‹ï¼Œå¦‚æœåœ¨ç¢°åˆ°é˜Ÿåˆ—æ»¡æˆ–ç©ºçš„æ—¶å€™ï¼Œå°±ä¼šé˜»å¡ä½ï¼Œè¿™ä¸ªé˜»å¡å°±æ˜¯ç”¨æ¡ä»¶é˜Ÿåˆ—å®ç°çš„ï¼Œè¿™ä¸ªåŠ¨ä½œæˆ‘ä»¬å«åšå…¥æ¡ä»¶é˜Ÿåˆ— å•ä¸ªå”¤é†’ signal ä¹‹å‰é˜Ÿåˆ—æ»¡äº†ï¼Œæœ‰äº†ä¸€äº›çº¿ç¨‹å› ä¸º take æ“ä½œè€Œè¢«é˜»å¡è¿›æ¡ä»¶é˜Ÿåˆ—ä¸­ï¼Œçªç„¶é˜Ÿåˆ—ä¸­çš„å…ƒç´ è¢«çº¿ç¨‹ A æ¶ˆè´¹äº†ï¼Œçº¿ç¨‹ A å°±ä¼šè°ƒç”¨ signal æ–¹æ³•ï¼Œå”¤é†’ä¹‹å‰é˜»å¡çš„çº¿ç¨‹ ReentrantLock è¯­ä¹‰åŒ synchronized é”ï¼Œå¯é‡å…¥äº’æ–¥é” æ„é€ å™¨æ¥å— fairness çš„å‚æ•°ï¼Œfairness æ˜¯ ture æ—¶ï¼Œä¿è¯è·å¾—é”æ—¶çš„é¡ºåºï¼Œfalse ä¸ä¿è¯ ç±»å±‚æ¬¡ç»“æ„ åŒæ­¥å™¨ éå…¬å¹³åœ°è·å–é” final boolean nonfairTryAcquire(int acquires) { final Thread current = Thread.currentThread(); int c = getState(); // ä»£è¡¨é”è¿˜æ²¡è¢«è·å– if (c == 0) { // è®¾ç½®çŠ¶æ€æ ‡è®°è·å–é” if (compareAndSetState(0, acquires)) { // æ ‡è®°è·å–é”çš„çº¿ç¨‹æ˜¯å½“å‰çº¿ç¨‹ setExclusiveOwnerThread(current); return true; } } // é”å·²ç»è¢«è·å–äº†ï¼Œå¹¶ä¸”è·å–é”çš„çº¿ç¨‹æ˜¯å½“å‰çº¿ç¨‹ else if (current == getExclusiveOwnerThread()) { int nextc = c + acquires; if (nextc å°è¯•é‡Šæ”¾é” protected final boolean tryRelease(int releases) { // é‡Šæ”¾é”åçº¿ç¨‹æŒæœ‰çš„é”æ•° int c = getState() - releases; // å½“å‰çš„çº¿ç¨‹æ²¡æœ‰æŒæœ‰é” if (Thread.currentThread() != getExclusiveOwnerThread()) throw new IllegalMonitorStateException(); boolean free = false; // é”é‡Šæ”¾å®Œäº† if (c == 0) { // å¯ä»¥è®©å…¶ä»–çº¿ç¨‹è·å–é” free = true; setExclusiveOwnerThread(null); } // å¦‚æœé”æ²¡æœ‰é‡Šæ”¾å®Œï¼Œè®¾ç½®stateä¸ºå½“å‰çº¿ç¨‹æŒæœ‰çš„é”æ•° setState(c); return free; } FairSyncå…¬å¹³é” protected final boolean tryAcquire(int acquires) { final Thread current = Thread.currentThread(); int c = getState(); // é”æ²¡æœ‰è¢«æŒæœ‰ if (c == 0) { // å¦‚æœå½“å‰çº¿ç¨‹å¤„äºåŒæ­¥é˜Ÿåˆ—çš„å¤´èŠ‚ç‚¹ï¼Œåˆ™è·å–é”æˆåŠŸï¼Œå¦åˆ™ç­‰å¾… if (!hasQueuedPredecessors() && compareAndSetState(0, acquires)) { setExclusiveOwnerThread(current); return true; } } // é”è¢«å½“å‰çº¿ç¨‹æŒæœ‰ï¼Œé‡å…¥ else if (current == getExclusiveOwnerThread()) { int nextc = c + acquires; if (nextc NonfairSyncéå…¬å¹³é” è¿™é‡Œçš„éå…¬å¹³é”tryAcquireå®ç°å°±æ˜¯ä¸Šé¢åŒæ­¥å™¨syncä¸­çš„å®ç° CountDownLatch å…¶æœ€å¤§çš„ä½œç”¨ä¸æ˜¯ä¸ºäº†åŠ é”ï¼Œè€Œæ˜¯é€šè¿‡è®¡æ•°è¾¾åˆ°ç­‰å¾…çš„åŠŸèƒ½ï¼Œä¸»è¦æœ‰ä¸¤ç§å½¢å¼çš„ç­‰å¾…ï¼š è®©ä¸€ç»„çº¿ç¨‹åœ¨å…¨éƒ¨å¯åŠ¨å®Œæˆä¹‹åï¼Œå†ä¸€èµ·æ‰§è¡Œ ä¸»çº¿ç¨‹ç­‰å¾…å¦å¤–ä¸€ç»„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæˆä¹‹åï¼Œå†ç»§ç»­æ‰§è¡Œ await // awaitæ–¹æ³•çš„å®ç°æ˜¯è·å–å…±äº«é”ï¼Œå¦‚æœè·å¾—åå°±è¿”å›ï¼Œå¦åˆ™å°±ç­‰å¾… public void await() throws InterruptedException { sync.acquireSharedInterruptibly(1); } // è¿™é‡Œsyncåˆ¤æ–­èƒ½å¦è·å¾—é”çš„æ ‡å¿—æ˜¯stateæ˜¯å¦=0 protected int tryAcquireShared(int acquires) { return (getState() == 0) ? 1 : -1; } countDown // countDownçš„å®ç°å°±æ˜¯é‡Šæ”¾ä¸€ä¸ªé” public void countDown() { sync.releaseShared(1); } // syncåˆ¤æ–­èƒ½å¦é‡Šæ”¾é”çš„æ ‡å¿—æ˜¯ é‡Šæ”¾è¿™æ¬¡é”ä¹‹åï¼Œé”çš„ä¸ªæ•°ä¸º0 protected boolean tryReleaseShared(int releases) { // Decrement count; signal when transition to zero for (;;) { int c = getState(); // å·²ç»æ²¡æœ‰é”äº† if (c == 0) return false; int nextc = c - 1; if (compareAndSetState(c, nextc)) return nextc == 0; } } é—®é¢˜ å¯¹ AQS çš„ç†è§£ AQS æ˜¯ä¸€ä¸ªé”æ¡†æ¶ï¼Œå®ƒå®šä¹‰äº†é”çš„å®ç°æœºåˆ¶ï¼Œå¹¶å¼€æ”¾å‡ºæ‰©å±•çš„åœ°æ–¹ï¼Œè®©å­ç±»å»å®ç°ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ lock çš„æ—¶å€™ï¼ŒAQS å¼€æ”¾å‡º state å­—æ®µï¼Œè®©å­ç±»å¯ä»¥æ ¹æ® state å­—æ®µæ¥å†³å®šæ˜¯å¦èƒ½å¤Ÿè·å¾—é”ï¼Œå¯¹äºè·å–ä¸åˆ°é”çš„çº¿ç¨‹ AQS ä¼šè‡ªåŠ¨è¿›è¡Œç®¡ç†ï¼Œæ— éœ€å­ç±»é”å…³å¿ƒ ä½¿ç”¨åœºæ™¯ synchronized ä¸ReentrantLock ï¼šå¯é‡å…¥+æ’å®ƒé” ä½†æ˜¯æœ‰å‡ ç‚¹ä¸åŒï¼šReentrantLockåŠŸèƒ½æ›´åŠ ä¸°å¯Œï¼ŒReentrantLockæœ‰å…¬å¹³é”å’Œéå…¬å¹³é”ä¹‹åˆ†synchronizedéƒ½æ˜¯éå…¬å¹³é”ï¼Œsynchronizedä½¿ç”¨èµ·æ¥æ›´åŠ ç®€å• å…±äº«èµ„æºåˆå§‹åŒ– å¯¹äºä¸€äº›è¯¸å¦‚é…ç½®ä¿¡æ¯ç­‰çš„å…±äº«èµ„æºï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨é¡¹ç›®åˆå§‹åŒ–ååŠ è½½ï¼Œä½†æ˜¯ä¸å¸Œæœ›å®ƒè¢«é‡å¤åŠ è½½ public class Service{ public void init(){ // åŒé‡åˆ¤æ–­ if (loaded){ synchronized(this){ if (loaded){ // load resources } } } } } CountDownLatch æ‰¹é‡ä»»åŠ¡ æˆ‘ä»¬æœ‰æ—¶ä¼šä½¿ç”¨çº¿ç¨‹æ¥å¹¶å‘åœ°è¿›è¡ŒæŸäº›æ“ä½œï¼Œç­‰è¿™äº›æ“ä½œå…¨éƒ¨å®Œæˆä¹‹åï¼Œå†è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ int n = 10; CountDownLatch latch = new CountDownLatch(10); for (int i =0;i{ // task i latch.countDown(); }) } latch.await(); // åç»­æ“ä½œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-27 07:21:34 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/çº¿ç¨‹æ± .html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/çº¿ç¨‹æ± .html","title":"çº¿ç¨‹æ± ","keywords":"","body":"ThreadPoolExecutor çº¿ç¨‹æ±  è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ï¼š 1ï¼šé€šè¿‡å‡å°‘ä»»åŠ¡é—´çš„è°ƒåº¦å¼€é”€ (ä¸»è¦æ˜¯é€šè¿‡çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹è¢«é‡å¤ä½¿ç”¨çš„æ–¹å¼)ï¼Œæ¥æé«˜å¤§é‡ä»»åŠ¡æ—¶çš„æ‰§è¡Œæ€§èƒ½ï¼› 2ï¼šæä¾›äº†ä¸€ç§æ–¹å¼æ¥ç®¡ç†çº¿ç¨‹å’Œæ¶ˆè´¹ï¼Œç»´æŠ¤åŸºæœ¬æ•°æ®ç»Ÿè®¡ç­‰å·¥ä½œ æ•´ä½“æ¶æ„ è¿è¡ŒçŠ¶æ€å›¾ Wroker åœ¨çº¿ç¨‹æ± ä¸­ï¼Œæœ€å°çš„æ‰§è¡Œå•ä½å°±æ˜¯ Worker private final class Worker extends AbstractQueuedSynchronizer implements Runnable { // è¿è¡Œä»»åŠ¡çš„çº¿ç¨‹ final Thread thread; // ä»»åŠ¡ä»£ç å— Runnable firstTask; /** Per-thread task counter */ volatile long completedTasks; Worker(Runnable firstTask) { // æŠŠè‡ªå·±ä½œä¸ºä¸€ä¸ªä»£ç å—ç©¿ç»™çº¿ç¨‹ setState(-1); // inhibit interrupts until runWorker this.firstTask = firstTask; // çº¿ç¨‹æ˜¯é€šè¿‡çº¿ç¨‹å·¥ç¨‹åˆ›å»ºçš„ this.thread = getThreadFactory().newThread(this); } public void run() { // è¿™é‡Œå°±å°†ä»»åŠ¡çš„æ‰§è¡Œäº¤ç»™çº¿ç¨‹æ± äº† runWorker(this); } ... } ä»»åŠ¡æäº¤ public void execute(Runnable command) { if (command == null) throw new NullPointerException(); int c = ctl.get(); // å¦‚æœå·¥ä½œçº¿ç¨‹æ•°å°äºcoreSize if (workerCountOf(c) addWorker æ–¹æ³•é¦–å…ˆæ˜¯æ‰§è¡Œäº†ä¸€å †æ ¡éªŒï¼Œç„¶åä½¿ç”¨ new Worker (firstTask) æ–°å»ºäº† Workerï¼Œæœ€åä½¿ç”¨ t.start () æ‰§è¡Œ Workerï¼Œæ‰€ä»¥ t.start () ä¼šæ‰§è¡Œåˆ° Worker çš„ run æ–¹æ³•ä¸Š,åˆ°runWorker æ–¹æ³•é‡Œ private boolean addWorker(Runnable firstTask, boolean core) { retry: // æ ¡éªŒå„ç§çŠ¶æ€ for (int c = ctl.get();;) { // Check if queue empty only if necessary. if (runStateAtLeast(c, SHUTDOWN) && (runStateAtLeast(c, STOP) || firstTask != null || workQueue.isEmpty())) return false; for (;;) { if (workerCountOf(c) >= ((core ? corePoolSize : maximumPoolSize) & COUNT_MASK)) return false; if (compareAndIncrementWorkerCount(c)) break retry; c = ctl.get(); // Re-read ctl if (runStateAtLeast(c, SHUTDOWN)) continue retry; // else CAS failed due to workerCount change; retry inner loop } } boolean workerStarted = false; boolean workerAdded = false; Worker w = null; try { // æŠŠä»»åŠ¡äº¤ç»™workerï¼Œæ­¤æ—¶è¦æ‰§è¡Œçš„ä»»åŠ¡å°±å·²ç»ä¼ å…¥ç»™workeré‡Œé¢çš„threadäº† w = new Worker(firstTask); final Thread t = w.thread; if (t != null) { final ReentrantLock mainLock = this.mainLock; mainLock.lock(); try { // Recheck while holding lock. // Back out on ThreadFactory failure or if // shut down before lock acquired. int c = ctl.get(); // æ£€æŸ¥çº¿ç¨‹æ± çŠ¶æ€ if (isRunning(c) || (runStateLessThan(c, STOP) && firstTask == null)) { if (t.getState() != Thread.State.NEW) throw new IllegalThreadStateException(); workers.add(w); workerAdded = true; int s = workers.size(); if (s > largestPoolSize) largestPoolSize = s; } } finally { mainLock.unlock(); } if (workerAdded) { // å¯åŠ¨çº¿ç¨‹ï¼Œæ‰§è¡Œworker t.start(); workerStarted = true; } } } finally { if (! workerStarted) addWorkerFailed(w); } return workerStarted; } final void runWorker(Worker w) { Thread wt = Thread.currentThread(); Runnable task = w.firstTask; w.firstTask = null; w.unlock(); // allow interrupts boolean completedAbruptly = true; try { // æ‰€ä»¥è¯´åœ¨è¿™é‡Œï¼Œåœ¨ä¸æ–­åœ°å–ä»»åŠ¡æ‰§è¡Œ // å¦‚æœè¦æ‰§è¡Œçš„taskä¸ºç©ºï¼Œåˆ™ä¼šå»å–ä¸€ä¸ªtaskï¼Œå–ä¸åˆ°å°±é˜»å¡ while (task != null || (task = getTask()) != null) { // é”ä½workerï¼Œé˜²æ­¢ä¸€ä¸ªä»»åŠ¡å¤šä¸ªçº¿ç¨‹æ‰§è¡Œ w.lock(); // çº¿ç¨‹æ± stopäº†ï¼Œè®©çº¿ç¨‹ä¸­æ–­ if ((runStateAtLeast(ctl.get(), STOP) || (Thread.interrupted() && runStateAtLeast(ctl.get(), STOP))) && !wt.isInterrupted()) wt.interrupt(); try { // æ‰§è¡Œå‰é’©å­å‡½æ•° beforeExecute(wt, task); try { // æ‰§è¡ŒçœŸæ­£çš„ä»»åŠ¡ // è€Œæ‰§è¡Œè¿™ä¸ªä»»åŠ¡çš„çº¿ç¨‹å°±æ˜¯workeré‡Œé¢çš„thread task.run(); // æ‰§è¡Œåé’©å­å‡½æ•° afterExecute(task, null); } catch (Throwable ex) { // å¼‚å¸¸é’©å­å‡½æ•° afterExecute(task, ex); throw ex; } } finally { task = null; w.completedTasks++; w.unlock(); } } completedAbruptly = false; } finally { processWorkerExit(w, completedAbruptly); } } private Runnable getTask() { // å¦‚æœè®¾ç½®äº†çº¿ç¨‹è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡ä¸€å®šæ—¶é—´æ²¡æœ‰ä»»åŠ¡ï¼Œè¶…å‡ºcoreSizeéƒ¨åˆ†çš„çº¿ç¨‹ä¼šè¢«å›æ”¶ boolean timedOut = false; // Did the last poll() time out? for (;;) { int c = ctl.get(); // æ£€æŸ¥çº¿ç¨‹æ± çŠ¶æ€ if (runStateAtLeast(c, SHUTDOWN) && (runStateAtLeast(c, STOP) || workQueue.isEmpty())) { decrementWorkerCount(); return null; } int wc = workerCountOf(c); boolean timed = allowCoreThreadTimeOut || wc > corePoolSize; // å¦‚æœçº¿ç¨‹æ•°å¤§äºmaxSizeä½†æ˜¯å­˜æ´»æ—¶é—´è¿˜æ²¡è¶…è¿‡keepaliveï¼Œåˆ™è·³è¿‡åé¢å–ä»»åŠ¡çš„éƒ¨åˆ† if ((wc > maximumPoolSize || (timed && timedOut)) && (wc > 1 || workQueue.isEmpty())) { if (compareAndDecrementWorkerCount(c)) return null; continue; } try { // è¶…è¿‡keepAliveTimeæ—¶é—´å–ä¸åˆ°æ•°æ®å°±è¿”å›ï¼Œæ­¤æ—¶çº¿ç¨‹ä¸å†è¿è¡Œï¼Œç»“æŸäº†ï¼ŒJVMä¼šå›æ”¶æ‰ Runnable r = timed ? workQueue.poll(keepAliveTime, TimeUnit.NANOSECONDS) : workQueue.take(); if (r != null) return r; timedOut = true; } catch (InterruptedException retry) { timedOut = false; } } } åº”ç”¨åœºæ™¯ coreSize == maxSize è®©çº¿ç¨‹ä¸€ä¸‹å­å¢åŠ åˆ° maxSizeï¼Œå¹¶ä¸”ä¸è¦å›æ”¶çº¿ç¨‹ï¼Œé˜²æ­¢çº¿ç¨‹å›æ”¶ï¼Œé¿å…ä¸æ–­å¢åŠ å›æ”¶çš„æŸè€— maxSize æ— ç•Œ + SynchronousQueue å½“ä»»åŠ¡è¢«æ¶ˆè´¹æ—¶ï¼Œæ‰ä¼šè¿”å›ï¼Œè¿™æ ·è¯·æ±‚å°±èƒ½å¤ŸçŸ¥é“å½“å‰è¯·æ±‚æ˜¯å·²ç»åœ¨è¢«æ¶ˆè´¹äº†ï¼Œå¦‚æœæ˜¯å…¶ä»–çš„é˜Ÿåˆ—çš„è¯ï¼Œæˆ‘ä»¬åªçŸ¥é“ä»»åŠ¡å·²ç»è¢«æäº¤æˆåŠŸäº†ï¼Œä½†æ— æ³•çŸ¥é“å½“å‰ä»»åŠ¡æ˜¯åœ¨è¢«æ¶ˆè´¹ä¸­ï¼Œè¿˜æ˜¯æ­£åœ¨é˜Ÿåˆ—ä¸­å †ç§¯ æ¯”è¾ƒæ¶ˆè€—èµ„æºï¼Œå¤§é‡è¯·æ±‚åˆ°æ¥æ—¶ï¼Œæˆ‘ä»¬ä¼šæ–°å»ºå¤§é‡çš„çº¿ç¨‹æ¥å¤„ç†è¯·æ±‚ maxSize æœ‰ç•Œ + Queue æ— ç•Œ å¯¹å®æ—¶æ€§è¦æ±‚ä¸å¤§ï¼Œä½†æµé‡å¿½é«˜å¿½ä½çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ å½“æµé‡é«˜å³°æ—¶ï¼Œå¤§é‡çš„è¯·æ±‚è¢«é˜»å¡åœ¨é˜Ÿåˆ—ä¸­ï¼Œå¯¹äºè¯·æ±‚çš„å®æ—¶æ€§éš¾ä»¥ä¿è¯ maxSize æœ‰ç•Œ + Queue æœ‰ç•Œ æŠŠé˜Ÿåˆ—ä»æ— ç•Œä¿®æ”¹æˆæœ‰ç•Œï¼Œåªè¦æ’é˜Ÿçš„ä»»åŠ¡åœ¨è¦æ±‚çš„æ—¶é—´å†…ï¼Œèƒ½å¤Ÿå®Œæˆä»»åŠ¡å³å¯ keepAliveTime è®¾ç½®æ— ç©·å¤§ æƒ³è¦ç©ºé—²çš„çº¿ç¨‹ä¸è¢«å›æ”¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½® keepAliveTime ä¸ºæ— ç©·å¤§å€¼ çº¿ç¨‹æ± çš„å…¬ç”¨å’Œç‹¬ç«‹ æŸ¥è¯¢å’Œå†™å…¥ä¸å…¬ç”¨çº¿ç¨‹æ± ï¼Œå¦‚æœå…¬ç”¨çš„è¯ï¼Œå½“æŸ¥è¯¢é‡å¾ˆå¤§æ—¶ï¼Œå†™å…¥çš„è¯·æ±‚å¯èƒ½ä¼šåˆ°é˜Ÿåˆ—ä¸­å»æ’é˜Ÿï¼Œæ— æ³•åŠæ—¶è¢«å¤„ç† åŸåˆ™ä¸Šæ¥è¯´ï¼Œæ¯ä¸ªå†™å…¥ä¸šåŠ¡åœºæ™¯éƒ½ç‹¬è‡ªä½¿ç”¨è‡ªå·±çš„çº¿ç¨‹æ± ï¼Œç»ä¸å…±ç”¨ï¼Œè¿™æ ·åœ¨ä¸šåŠ¡æ²»ç†ã€é™æµã€ç†”æ–­æ–¹é¢éƒ½æ¯”è¾ƒå®¹æ˜“ å¤šä¸ªæŸ¥è¯¢ä¸šåŠ¡åœºæ™¯æ˜¯å¯ä»¥å…¬ç”¨çº¿ç¨‹æ± çš„ é—®é¢˜ å¯¹çº¿ç¨‹æ± çš„ç†è§£ çº¿ç¨‹æ± ç»“åˆäº†é”ã€çº¿ç¨‹ã€é˜Ÿåˆ—ç­‰å…ƒç´ ï¼Œåœ¨è¯·æ±‚é‡è¾ƒå¤§çš„ç¯å¢ƒä¸‹ï¼Œå¯ä»¥å¤šçº¿ç¨‹çš„å¤„ç†è¯·æ±‚ï¼Œå……åˆ†çš„åˆ©ç”¨äº†ç³»ç»Ÿçš„èµ„æºï¼Œæé«˜äº†å¤„ç†è¯·æ±‚çš„é€Ÿåº¦ é˜Ÿåˆ—åœ¨çº¿ç¨‹æ± ä¸­èµ·çš„ä½œç”¨ è¯·æ±‚æ•°å¤§äº coreSize æ—¶ï¼Œå¯ä»¥è®©ä»»åŠ¡åœ¨é˜Ÿåˆ—ä¸­æ’é˜Ÿï¼Œè®©çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ…¢æ…¢çš„æ¶ˆè´¹è¯·æ±‚ å½“çº¿ç¨‹æ¶ˆè´¹å®Œæ‰€æœ‰çš„çº¿ç¨‹åï¼Œä¼šé˜»å¡çš„ä»é˜Ÿåˆ—ä¸­æ‹¿æ•°æ®ï¼Œé€šè¿‡é˜Ÿåˆ—é˜»å¡çš„åŠŸèƒ½ï¼Œä½¿çº¿ç¨‹ä¸æ¶ˆäº¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-27 08:33:45 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/ç¼–è¯‘åŸç†.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JAVAæºç è§£æ/ç¼–è¯‘åŸç†.html","title":"ç¼–è¯‘åŸç†","keywords":"","body":"ç¼–è¯‘åŸç† è¯æ³•è§£æ // JavaParser public JCTree.JCCompilationUnit parseCompilationUnit() { Token firstToken = token; JCModifiers mods = null; boolean consumedToplevelDoc = false; boolean seenImport = false; boolean seenPackage = false; ListBuffer defs = new ListBuffer<>(); if (token.kind == MONKEYS_AT) mods = modifiersOpt(); // è§£æä¿®é¥°ç¬¦ if (token.kind == PACKAGE) { // è§£æåŒ…å£°æ˜ int packagePos = token.pos; List annotations = List.nil(); seenPackage = true; if (mods != null) { checkNoMods(mods.flags); annotations = mods.annotations; mods = null; } nextToken(); JCExpression pid = qualident(false); accept(SEMI); JCPackageDecl pd = toP(F.at(packagePos).PackageDecl(annotations, pid)); attach(pd, firstToken.comment(CommentStyle.JAVADOC)); consumedToplevelDoc = true; defs.append(pd); } boolean checkForImports = true; boolean firstTypeDecl = true; while (token.kind != EOF) { if (token.pos JavaParser æ ¹æ® Java è¯­è¨€è§„èŒƒæ¥è§£æ.javaæ–‡ä»¶è¿›è¡Œè¯æ³•è§£æ æ¯è°ƒç”¨ä¸€æ¬¡nextToken å°±ä¼šæ„é€ ä¸€ä¸ªToken è¯­æ³•åˆ†æ è¿›è¡Œpackageè¯æ³•åˆ†æçš„æ—¶å€™æ„å»ºä¸€ä¸ªèŠ‚ç‚¹ JCExpression t = toP(F.at(token.pos).Ident(ident())); è¿›è¡Œimportè¯æ³•åˆ†ææ—¶æ„é€ çš„importè¯­æ³•æ ‘ protected JCTree importDeclaration() { int pos = token.pos; nextToken(); boolean importStatic = false; if (token.kind == STATIC) { importStatic = true; nextToken(); } JCExpression pid = toP(F.at(token.pos).Ident(ident())); do { int pos1 = token.pos; accept(DOT); if (token.kind == STAR) { pid = to(F.at(pos1).Select(pid, names.asterisk)); nextToken(); break; } else { pid = toP(F.at(pos1).Select(pid, ident())); } } while (token.kind == DOT); accept(SEMI); return toP(F.at(pos).Import(pid, importStatic)); } ç±»ä¸»ä½“è¯­æ³•æ ‘æ„é€  JCTree typeDeclaration(JCModifiers mods, Comment docComment) { int pos = token.pos; if (mods == null && token.kind == SEMI) { nextToken(); return toP(F.at(pos).Skip()); } else { return classOrRecordOrInterfaceOrEnumDeclaration(modifiersOpt(mods), docComment); } } æœ€åä¼šç”Ÿæˆä¸€é¢—å®Œæ•´çš„è¯­æ³•æ ‘ è¯­ä¹‰åˆ†æ æ‰“ç£¨è¯­æ³•æ ‘ Enterç±» ä»£ç ç”Ÿæˆ Genç±» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-04 02:31:39 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/JVM.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/JVM.html","title":"JVM","keywords":"","body":"JVM ç³»ç»Ÿè™šæ‹Ÿæœº è½¯ä»¶è™šæ‹Ÿæœº JVMæ˜¯ä¸€ç§è§„èŒƒ JDK14:https://docs.oracle.com/javase/specs/jvms/se14/jvms14.pdf å¸¸è§JVMå®ç° Hotspot Jrockit J9 è¶Šè¿‡æ“ä½œç³»ç»Ÿçš„è™šæ‹Ÿæœºï¼š LiquidVM azul zing å…¶ä»–ï¼š Apache Harmony Android Dalvik Microsoft JVM æœªæ¥çš„è¶‹åŠ¿ GraalVMï¼šå°†è¿™äº›è¯­è¨€çš„æºä»£ç ï¼ˆä¾‹å¦‚JavaScriptï¼‰æˆ–æºä»£ç ç¼–è¯‘åçš„ä¸­é—´æ ¼å¼ï¼ˆä¾‹å¦‚LLVMå­—èŠ‚ç ï¼‰é€šè¿‡è§£é‡Šå™¨è½¬æ¢ä¸ºèƒ½è¢«Graal VMæ¥å—çš„ä¸­é—´è¡¨ç¤º Graalç¼–è¯‘å™¨ï¼šæ–°ä¸€ä»£å³æ—¶ç¼–è¯‘å™¨ NativeåŒ–ï¼šæå‰ç¼–è¯‘ åŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼šç›‘æ§ è°ƒè¯• è¯­æ³•ç‰¹æ€§æŒç»­å¢å¼º JDK JRE JVM JVM ä½“ç³»ç»“æ„ ç±»åŠ è½½å™¨ å†…å­˜åŒº æ‰§è¡Œå¼•æ“ åŸºäºæ ˆçš„æ¶æ„ï¼š å¹³å°æ— å…³ ä¸åŒçš„å¹³å°å¯„å­˜å™¨å„ä¸ç›¸åŒ åŸºäºæ ˆçš„å¯„å­˜å™¨æŒ‡ä»¤æ›´åŠ ç´§å‡‘ æ‰§è¡Œå¼•æ“çš„æ¶æ„ï¼š æ‰§è¡Œå¼•æ“çš„æ‰§è¡Œè¿‡ç¨‹ï¼š æ–¹æ³•è°ƒç”¨ï¼š æ‰§è¡Œæ–¹æ³•è°ƒç”¨æŒ‡ä»¤æ—¶ ä¼šåˆ›å»ºä¸€ä¸ªæ–°æ ˆå¸§ è¿™ä¸ªæ ˆå¸§ä¼šå­˜å‚¨ä¼ é€’è¿‡æ¥çš„å‚æ•° ç¼–è¯‘JDK å®‰è£…ä¾èµ–åº“ apt install libfreetype6-dev apt install libcups2-dev apt install libx11-dev libxext-dev libxrender-dev libxrandr-dev libxtst-dev libxt-dev apt install libasound2-dev apt install libffi-dev apt install autoconf å‡†å¤‡ä¸€ä¸ªç›®æ ‡JDK-1çš„bootstrap jdk sudo apt-get install openjdk-11-jdk ç¼–è¯‘å‰é…ç½®ä¸æ£€æŸ¥ bash configure --enable-debug --with-jvm-variants=server å¼€å§‹ç¼–è¯‘ make images MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-14 08:21:20 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/è‡ªåŠ¨å†…å­˜ç®¡ç†.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/è‡ªåŠ¨å†…å­˜ç®¡ç†.html","title":"è‡ªåŠ¨å†…å­˜ç®¡ç†","keywords":"","body":"è‡ªåŠ¨å†…å­˜ç®¡ç† Javaä¸C++ä¹‹é—´æœ‰ä¸€å µç”±å†…å­˜åŠ¨æ€åˆ†é…å’Œåƒåœ¾æ”¶é›†æŠ€æœ¯æ‰€å›´æˆçš„é«˜å¢™ï¼Œå¢™å¤–é¢çš„äººæƒ³è¿›å»ï¼Œå¢™é‡Œé¢çš„äººå´æƒ³å‡ºæ¥ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-23 06:15:18 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/å†…å­˜ç»“æ„.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/å†…å­˜ç»“æ„.html","title":"å†…å­˜ç»“æ„","keywords":"","body":"å†…å­˜ç»“æ„ æ€»ä½“å†…å­˜ç»“æ„ åç§° çº¿ç¨‹ç§æœ‰/å…±äº« åŠŸèƒ½ å¤§å° å¼‚å¸¸ ç¨‹åºè®¡æ•°å™¨ ç§æœ‰ ä¿å­˜å½“å‰çº¿ç¨‹æ‰§è¡Œæ–¹æ³• é€šå¸¸å›ºå®šå¤§å° ä¸ä¼š JVMæ ˆ ç§æœ‰ æ–¹æ³•çš„æ ˆå¸§ -Xss StackOverflowError,OutOfMemoryError æœ¬åœ°æ–¹æ³•æ ˆ ç§æœ‰ å­˜å‚¨nativeæ–¹æ³•ä¿¡æ¯ é€šå¸¸ä¼šå›ºå®šå¤§å° StackOverflowError,OutOfMemoryError å † å…±äº« å­˜å‚¨å¯¹è±¡å’Œæ•°ç»„ -Xmsåˆå§‹å †å€¼,-Xmxæœ€å¤§å †å€¼ OutOfMemoryError æ–¹æ³•åŒº å…±äº« å­˜å‚¨ç±»ç»“æ„ å¸¸é‡ é™æ€å˜é‡ -XXå‚æ•° OutOfMemoryError è¿è¡Œæ—¶å¸¸é‡æ±  å…±äº« å¸¸é‡æ± è¿è¡Œæ—¶è¡¨ç¤º ä»å±äºæ–¹æ³•åŒº OutOfMemoryError æ¦‚è§ˆ PC ç¨‹åºè®¡æ•°å™¨ ç”¨æ¥å­˜æ”¾æ‰§è¡ŒæŒ‡ä»¤çš„åç§»é‡å’Œè¡Œå·æŒ‡ç¤ºå™¨ç­‰ Javaè™šæ‹Ÿæœºçš„å¤šçº¿ç¨‹æ˜¯é€šè¿‡çº¿ç¨‹è½®æµåˆ‡æ¢ã€åˆ†é…å¤„ç†å™¨æ‰§è¡Œæ—¶é—´çš„æ–¹å¼æ¥å®ç°çš„ï¼Œä¸ºäº†çº¿ç¨‹åˆ‡æ¢åèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®ï¼Œæ¯æ¡çº¿ç¨‹éƒ½éœ€è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ å­˜æ”¾æŒ‡ä»¤ä½ç½® è™šæ‹Ÿæœºçš„è¿è¡Œï¼Œç±»ä¼¼äºè¿™æ ·çš„å¾ªç¯ï¼š while( not end ) { â€‹ å–PCä¸­çš„ä½ç½®ï¼Œæ‰¾åˆ°å¯¹åº”ä½ç½®çš„æŒ‡ä»¤ï¼› â€‹ æ‰§è¡Œè¯¥æŒ‡ä»¤ï¼› â€‹ PC ++; } JVM Stack æ¯ä¸ªçº¿ç¨‹ç§æœ‰ Frame - æ¯ä¸ªæ–¹æ³•å¯¹åº”ä¸€ä¸ªæ ˆå¸§ Local Variable Tableã€€å±€éƒ¨å˜é‡è¡¨ å­˜æ”¾æ–¹æ³•å‚æ•°å’Œå±€éƒ¨å˜é‡çš„åŒºåŸŸ Operand Stackã€€æ“ä½œæ ˆ å„ç§æŒ‡ä»¤å¾€æ ˆä¸­å†™å…¥æˆ–è€…è¯»å–ä¿¡æ¯ å¯¹äºlongçš„å¤„ç†ï¼ˆstore and loadï¼‰ï¼Œå¤šæ•°è™šæ‹Ÿæœºçš„å®ç°éƒ½æ˜¯åŸå­çš„ jls 17.7ï¼Œæ²¡å¿…è¦åŠ volatile Dynamic Linkingã€€åŠ¨æ€è¿æ¥ å¸¸é‡æ± ä¸­ä¸€ä¸ªå¯¹å½“å‰æ–¹æ³•çš„å¼•ç”¨ https://blog.csdn.net/qq_41813060/article/details/88379473 jvms 2.6.3 return addressã€€æ–¹æ³•è¿”å›åœ°å€ a() -> b()ï¼Œæ–¹æ³•aè°ƒç”¨äº†æ–¹æ³•b, bæ–¹æ³•çš„è¿”å›å€¼æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹ æœ¬åœ°æ–¹æ³•æ ˆ ä¸ºæœ¬åœ°æ–¹æ³•æœåŠ¡ å † å…±äº«ï¼Œå†…å­˜å¤§æˆ·ï¼Œå­˜å‚¨æ‰€æœ‰çš„å¯¹è±¡å’Œæ•°ç»„ æ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„å†…å­˜åŒºåŸŸ æ‰€æœ‰çº¿ç¨‹å…±äº«çš„Javaå †ä¸­å¯ä»¥åˆ’åˆ†å‡ºå¤šä¸ªçº¿ç¨‹ç§æœ‰çš„åˆ†é…ç¼“å†²åŒºï¼ˆThread Local Allocation Bufferï¼ŒTLABï¼‰ï¼Œä»¥æå‡å¯¹è±¡åˆ†é…æ—¶çš„æ•ˆç‡ -Xms(memory start) åˆå§‹å †å€¼ï¼Œ-Xmx(memory max)æœ€å¤§å †å€¼ æ–¹æ³•åŒº å„ä¸ªçº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œå®ƒç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»å‹ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç¼“å­˜ç­‰æ•°æ® 1.8ä¹‹å‰è¢«HotSpotä½¿ç”¨ä¸€ä¸ªæ°¸ä¹…ä»£å®ç° å­—ç¬¦ä¸²å¸¸é‡ä½äºæ°¸ä¹…ä»£ FGCä¸ä¼šæ¸…ç† è¿™åŒºåŸŸçš„å†…å­˜å›æ”¶ç›®æ ‡ä¸»è¦æ˜¯é’ˆå¯¹å¸¸é‡æ± çš„å›æ”¶å’Œå¯¹ç±»å‹çš„å¸è½½ ä½†æ˜¯ç±»å‹å¸è½½æ¡ä»¶ååˆ†è‹›åˆ» å¤§å°å¯åŠ¨çš„æ—¶å€™æŒ‡å®šï¼Œä¸èƒ½å˜ Meta Space (>=1.8) å­—ç¬¦ä¸²å¸¸é‡ä½äºå † ä¼šè§¦å‘FGCæ¸…ç† ä¸è®¾å®šçš„è¯ï¼Œæœ€å¤§å°±æ˜¯ç‰©ç†å†…å­˜ è¿è¡Œæ—¶å¸¸é‡æ±  æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ† ç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡ä¸ç¬¦å·å¼•ç”¨ Javaè¯­è¨€å¹¶ä¸è¦æ±‚å¸¸é‡ä¸€å®šåªæœ‰ç¼–è¯‘æœŸæ‰èƒ½äº§ç”Ÿï¼Œè¿è¡ŒæœŸé—´ä¹Ÿå¯ä»¥å°†æ–°çš„å¸¸é‡æ”¾å…¥æ± ä¸­ï¼Œæ¯”å¦‚String.intern() ç›´æ¥å†…å­˜ JVMå¯ä»¥ç›´æ¥è®¿é—®çš„å†…æ ¸ç©ºé—´çš„å†…å­˜ (OS ç®¡ç†çš„å†…å­˜) NIO ï¼Œ æé«˜æ•ˆç‡ï¼Œå®ç°zero copy ä¸€äº›åœºæ™¯ä¸­æ˜¾è‘—æé«˜æ€§èƒ½ï¼Œå› ä¸ºé¿å…äº†åœ¨Javaå †å’ŒNativeå †ä¸­æ¥å›å¤åˆ¶æ•°æ® æœ¬æœºç›´æ¥å†…å­˜çš„åˆ†é…ä¸ä¼šå—åˆ°Javaå †å¤§å°çš„é™åˆ¶ å¯¹è±¡çš„åˆ›å»º å†…å­˜åˆ†é… æŠŠé‚£ä¸ªæŒ‡é’ˆå‘ç©ºé—²ç©ºé—´æ–¹å‘æŒªåŠ¨ä¸€æ®µä¸å¯¹è±¡å¤§å°ç›¸ç­‰çš„è·ç¦»ï¼Œè¿™ç§åˆ†é…æ–¹å¼ç§°ä¸ºâ€œæŒ‡é’ˆç¢°æ’â€ å¦‚æœæ²¡æœ‰ä¸€å—å®Œæ•´çš„ç©ºé—²å†…å­˜ å°±æ— æ³•ä½¿ç”¨è¿™ç§æ–¹æ³•äº† çº¿ç¨‹å®‰å…¨çš„ä¿è¯ åˆ†é…æ—¶ å¤šä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œ è™šæ‹Ÿæœºæ˜¯é‡‡ç”¨CASé…ä¸Šå¤±è´¥é‡è¯•çš„æ–¹å¼ä¿è¯æ›´æ–°æ“ä½œçš„åŸå­æ€§ å¦å¤–ä¸€ç§æ–¹å¼æ˜¯æ¯ä¸ªçº¿ç¨‹åœ¨Javaå †ä¸­é¢„å…ˆåˆ†é…ä¸€å°å—å†…å­˜ï¼Œç§°ä¸ºæœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²ï¼ˆTLABï¼‰ åªæœ‰è¿™ä¸ªç¼“å†²åŒºç”¨å®Œäº† æ‰ä¼šåœ¨å †ä¸­åˆ†é… å¯¹è±¡å†…å­˜å¸ƒå±€ ä»¥ä¸‹åˆ†æéƒ½æ˜¯åŸºäºHotSpotè™šæ‹Ÿæœº å¯¹è±¡å¤´ å¯¹è±¡æœ¬èº«è¿è¡Œæ—¶çš„æ•°æ® å“ˆå¸Œå— GCæ ‡è®° é”ä¿¡æ¯ç­‰ç­‰ ç±»å…ƒä¿¡æ¯ï¼šæŒ‡å‘Classçš„æŒ‡é’ˆ å®ä¾‹æ•°æ®ï¼šå®ä¾‹æˆå‘˜å˜é‡åŠæ‰€æœ‰å¯è§çš„çˆ¶ç±»æˆå‘˜å˜é‡ å¯¹é½å¡«å…… é”å‡çº§ï¼šæ— é”çŠ¶æ€ -> åå‘é” -> è‡ªæ—‹é” -> é‡é‡çº§é” 32ä½è™šæ‹Ÿæœºå¯¹è±¡å¤´ï¼š 64ä½è™šæ‹Ÿæœºå¯¹è±¡å¤´ï¼š Hotspotå¼€å¯å†…å­˜å‹ç¼©çš„è§„åˆ™ UseCompressedOopsClassPointers UseCompressedOops 4Gä»¥ä¸‹ï¼Œç›´æ¥ç æ‰é«˜32ä½ 4G - 32Gï¼Œé»˜è®¤å¼€å¯å†…å­˜å‹ç¼© ClassPointers Oops 32Gï¼Œå‹ç¼©æ— æ•ˆï¼Œä½¿ç”¨64ä½ å¯¹è±¡å®šä½ ä½¿ç”¨ç›´æ¥æŒ‡é’ˆæ¥è®¿é—®æœ€å¤§çš„å¥½å¤„å°±æ˜¯é€Ÿåº¦æ›´å¿«ï¼Œå®ƒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€ å¯¹è±¡å®ä¾‹åŒ– å­—èŠ‚ç è§’åº¦ Object ref = new Object() å¾—åˆ°å­—èŠ‚ç : stack=2, locals=2, args_size=1 0: new #2 // class java/lang/Object 3: dup 4: invokespecial #1 // Method java/lang/Object.\"\":()V 7: astore_1 8: return new: å¦‚æœç±»ä¸å­˜åœ¨ã€€å°±å…ˆè¿›è¡Œç±»åŠ è½½ ä¸ºæ‰€æœ‰å±æ€§å€¼åˆ†é…å†…å­˜ å¯¹æ‰€æœ‰å±æ€§å€¼è¿›è¡Œï¼å€¼åˆå§‹åŒ– æœ€åå°†æŒ‡å‘å®ä¾‹å¯¹è±¡çš„å¼•ç”¨å˜é‡å‹å…¥è™šæ‹Ÿæœºæ ˆé¡¶ dup: åœ¨æ ˆé¡¶å¤åˆ¶å®ä¾‹å¯¹è±¡çš„å¼•ç”¨å˜é‡ å¤åˆ¶å‡ºæ¥çš„è¿™ä¸ªå˜é‡ç”¨æ¥ä½œä¸ºå¥æŸ„è°ƒç”¨ç›¸å…³æ–¹æ³• æ—©ä¸€ç‚¹çš„é‚£ä¸ªå˜é‡åˆ™æ˜¯ç”¨æ¥èµ‹å€¼ invokespecial: é€šè¿‡ä¸Šé¢dupå¤åˆ¶çš„å˜é‡è°ƒç”¨å¯¹è±¡çš„ æ–¹æ³• ä»æ‰§è¡Œæ­¥éª¤ ç¡®è®¤ç±»ä¿¡æ¯æ˜¯å¦å­˜åœ¨äºmetaspace å¦åˆ™ä½¿ç”¨ç±»åŠ è½½å™¨åŠ è½½ç±»ã€€å¹¶ç”Ÿæˆç›¸å…³Classå¯¹è±¡ è®¡ç®—å¯¹è±¡å ç”¨çš„å†…å­˜ç©ºé—´(å®ä¾‹æ•°æ®) æ¥ä¸‹æ¥åœ¨å †å†…å­˜åˆ’åˆ†ä¸€å—ç©ºé—´è¿›è¡Œåˆ†é…ã€€ä¸ºå¯¹è±¡åˆ†é…å†…å­˜æ—¶ã€€éœ€è¦è¿›è¡ŒåŒæ­¥æ“ä½œ è®¾å®šæˆå‘˜å˜é‡çš„é»˜è®¤å€¼ è®¾ç½®å¯¹è±¡å¤´ã€€å“ˆå¸Œå—ã€€GCä¿¡æ¯ç­‰ç­‰ æ‰§è¡Œinitæ–¹æ³•ã€€åˆå§‹åŒ–æˆå‘˜å˜é‡ã€€æ‰§è¡Œåˆå§‹åŒ–ä»£ç å—ç­‰ç­‰ æŸ¥çœ‹å †å†…å­˜ä½¿ç”¨æƒ…å†µ ä½¿ç”¨jstatå‘½ä»¤ jstat -class pid # æŸ¥çœ‹åŠ è½½çš„ç±» jstat -gc pid # æŸ¥çœ‹åƒåœ¾å›æ”¶æƒ…å†µ å†…å­˜åˆ†æ jmapå‘½ä»¤ jmap -histo pid # æŸ¥çœ‹æ‰€æœ‰å¯¹è±¡ jmap -histo:live pid # æŸ¥çœ‹æ‰€æœ‰å­˜æ´»å¯¹è±¡ jmap -dump:format=b,file=filename pid # å¯¼å‡ºdumpæ–‡ä»¶ jhatåˆ†ædumpæ–‡ä»¶ JDK9ä»¥åä¸å†æä¾›ï¼Œè¢«Visual VMä»£æ›¿ jhat filename matåˆ†æ å†…å­˜æº¢å‡ºå®šä½ä¸åˆ†æ Java å †æº¢å‡º æ·»åŠ è¿è¡Œå‚æ•° java -Xmx8m -Xms8m -XX:+HeapDumpOnOutOfMemoryError List list = new ArrayList<>(); while (true){ list.add(new Object()); } åˆ†ædumpæ–‡ä»¶ å¦‚æœæ˜¯å†…å­˜æ³„æ¼ æ‰¾åˆ°æ³„æ¼å¯¹è±¡æ˜¯é€šè¿‡æ€æ ·çš„å¼•ç”¨è·¯å¾„ã€ä¸å“ªäº›GC Rootsç›¸å…³è”ï¼Œæ‰å¯¼è‡´åƒåœ¾æ”¶é›†å™¨æ— æ³•å›æ”¶å®ƒä»¬ å¦‚æœå†…å­˜ä¸­çš„å¯¹è±¡ç¡®å®éƒ½æ˜¯å¿…é¡»å­˜æ´»çš„ï¼Œé‚£å°±åº”å½“æ£€æŸ¥Javaè™šæ‹Ÿæœº çš„å †å‚æ•°ï¼ˆ-Xmxä¸-Xmsï¼‰è®¾ç½® è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆç§»é™¤ -Xss256k å‡å°‘æ ˆå†…å­˜å®¹é‡ å¼‚å¸¸å‡ºç°æ—¶è¾“å‡ºçš„å †æ ˆæ·±åº¦ç›¸åº”ç¼©å° public class JVMSOFWithMinStack { private int stackLength = 1; public void stackLeak() { stackLength++; stackLeak(); } public static void main(String[] args) throws Throwable { JVMSOFWithMinStack oom = new JVMSOFWithMinStack(); try { oom.stackLeak(); } catch (Throwable e) { System.out.println(\"stack length:\" + oom.stackLength); // 3183 throw e; } } } å®šä¹‰äº†å¤§é‡çš„æœ¬åœ°å˜é‡ å¼‚å¸¸å‡ºç°æ—¶è¾“å‡ºçš„å †æ ˆæ·±åº¦ç›¸åº”ç¼©å° public class JVMSOFWithMuchParams { private static int stackLength = 0; public static void test() { long unused1, unused2, unused3, unused4, unused5, unused6, unused7, unused8, unused9, unused10, unused11, unused12, unused13, unused14, unused15, unused16, unused17, unused18, unused19, unused20, unused21, unused22, unused23, unused24, unused25, unused26, unused27, unused28, unused29, unused30, unused31, unused32, unused33, unused34, unused35, unused36, unused37, unused38, unused39, unused40, unused41, unused42, unused43, unused44, unused45, unused46, unused47, unused48, unused49, unused50, unused51, unused52, unused53, unused54, unused55, unused56, unused57, unused58, unused59, unused60, unused61, unused62, unused63, unused64, unused65, unused66, unused67, unused68, unused69, unused70, unused71, unused72, unused73, unused74, unused75, unused76, unused77, unused78, unused79, unused80, unused81, unused82, unused83, unused84, unused85, unused86, unused87, unused88, unused89, unused90, unused91, unused92, unused93, unused94, unused95, unused96, unused97, unused98, unused99, unused100; stackLength++; test(); unused1 = unused2 = unused3 = unused4 = unused5 = unused6 = unused7 = unused8 = unused9 = unused10 = unused11 = unused12 = unused13 = unused14 = unused15 = unused16 = unused17 = unused18 = unused19 = unused20 = unused21 = unused22 = unused23 = unused24 = unused25 = unused26 = unused27 = unused28 = unused29 = unused30 = unused31 = unused32 = unused33 = unused34 = unused35 = unused36 = unused37 = unused38 = unused39 = unused40 = unused41 = unused42 = unused43 = unused44 = unused45 = unused46 = unused47 = unused48 = unused49 = unused50 = unused51 = unused52 = unused53 = unused54 = unused55 = unused56 = unused57 = unused58 = unused59 = unused60 = unused61 = unused62 = unused63 = unused64 = unused65 = unused66 = unused67 = unused68 = unused69 = unused70 = unused71 = unused72 = unused73 = unused74 = unused75 = unused76 = unused77 = unused78 = unused79 = unused80 = unused81 = unused82 = unused83 = unused84 = unused85 = unused86 = unused87 = unused88 = unused89 = unused90 = unused91 = unused92 = unused93 = unused94 = unused95 = unused96 = unused97 = unused98 = unused99 = unused100 = 0; } public static void main(String[] args) { try { test(); } catch (Error e) { System.out.println(\"stack length:\" + stackLength); // 127 throw e; } } } æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º åœ¨JDK7å’Œ7ä¹‹å‰å¦‚æœå¤§é‡åˆ›å»ºString.internæˆ–è€…åŠ¨æ€ç±» ç”±äºç±»çš„å›æ”¶æ¡ä»¶è‹›åˆ» ææœ‰å¯èƒ½é€ æˆOOM ä½†åœ¨JDK8ä¹‹å è¿™äº›é—®é¢˜å°±æ²¡æœ‰äº† æœ¬æœºç›´æ¥å†…å­˜æº¢å‡º -Xmx20M -XX:MaxDirectMemorySize=10M public class DirectMemoryOOM { private static final int _1MB = 1024 * 1024; public static void main(String[] args) throws Exception { Field unsafeField = Unsafe.class.getDeclaredFields()[0]; unsafeField.setAccessible(true); Unsafe unsafe = (Unsafe) unsafeField.get(null); while (true) { unsafe.allocateMemory(_1MB); } } } ç›´æ¥å†…å­˜å¯¼è‡´çš„å†…å­˜æº¢å‡ºï¼Œä¸€ä¸ªæ˜æ˜¾çš„ç‰¹å¾æ˜¯åœ¨Heap Dumpæ–‡ä»¶ä¸­ä¸ä¼šçœ‹è§æœ‰ä»€ä¹ˆæ˜æ˜¾çš„å¼‚å¸¸ åˆ†æçº¿ç¨‹æ‰§è¡Œæƒ…å†µ jstack pid æ­»é” ä¸¤ä¸ªè¿›ç¨‹äº’ç›¸ç­‰å¾…å¯¹æ–¹ï¼Œä¸€ç›´é˜»å¡ä¸‹å» Found one Java-level deadlock: ============================= \"Thread-0\": waiting to lock monitor 0x000002292014eb00 (object 0x00000000ffea7640, a java.lang.Object), which is held by \"Thread-1\" \"Thread-1\": waiting to lock monitor 0x000002292014ea00 (object 0x00000000ffea7630, a java.lang.Object), which is held by \"Thread-0\" Java stack information for the threads listed above: =================================================== \"Thread-0\": at Main.lambda$main$0(Main.java:24) - waiting to lock (a java.lang.Object) - locked (a java.lang.Object) at Main$$Lambda$14/0x0000000800ba4840.run(Unknown Source) at java.lang.Thread.run(java.base@13/Thread.java:830) \"Thread-1\": at Main.lambda$main$1(Main.java:37) - waiting to lock (a java.lang.Object) - locked (a java.lang.Object) at Main$$Lambda$15/0x0000000800ba4c40.run(Unknown Source) at java.lang.Thread.run(java.base@13/Thread.java:830) Found 1 deadlock. JMX MX(Java Management Extensions)æ˜¯ä¸€ä¸ªä¸ºåº”ç”¨ç¨‹åºæ¤å…¥ç®¡ç†åŠŸèƒ½çš„æ¡†æ¶ã€‚JMXæ˜¯ä¸€å¥—æ ‡å‡†çš„ä»£ç†å’ŒæœåŠ¡ï¼Œå®é™…ä¸Šï¼Œç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•Javaåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è¿™äº›ä»£ç†å’ŒæœåŠ¡å®ç°ç®¡ç† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-28 08:00:24 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/åƒåœ¾å›æ”¶.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/åƒåœ¾å›æ”¶.html","title":"åƒåœ¾å›æ”¶","keywords":"","body":"åƒåœ¾å›æ”¶ ä¸€ä¸ªè·Ÿè¸ªè¿‡ç¨‹ï¼Œå®ƒä¼ é€’æ€§åœ°è·Ÿè¸ªæŒ‡å‘å½“å‰ä½¿ç”¨çš„å¯¹è±¡çš„æ‰€æœ‰æŒ‡é’ˆï¼Œä»¥ä¾¿æ‰¾åˆ°å¯ä»¥å¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡ï¼Œç„¶åé‡æ–°ä½¿ç”¨åœ¨æ­¤è·Ÿè¸ªè¿‡ç¨‹ä¸­æœªæ‰¾åˆ°çš„ä»»ä½•å †å†…å­˜ã€‚å…¬å…±è¯­è¨€è¿è¡Œåº“åƒåœ¾å›æ”¶å™¨è¿˜å‹ç¼©ä½¿ç”¨ä¸­çš„å†…å­˜ï¼Œä»¥ç¼©å°å †æ‰€éœ€è¦çš„å·¥ä½œç©ºé—´ å›æ”¶ä»€ä¹ˆ ä½•æ—¶å›æ”¶ å¦‚ä½•å›æ”¶ JAVAå¯¹è±¡ç”Ÿå‘½å‘¨æœŸ å†…å­˜å›æ”¶API Objectçš„finalizeæ–¹æ³•ï¼Œåƒåœ¾æ”¶é›†å™¨åœ¨å›æ”¶å¯¹è±¡æ—¶è°ƒç”¨ï¼Œæœ‰ä¸”ä»…è¢«è°ƒç”¨ä¸€æ¬¡ å¦‚æœè¦†å†™äº†è¯¥æ–¹æ³•çš„å¯¹è±¡å°†ä¼šè¢«æ”¾ç½®åœ¨ä¸€ä¸ªåä¸ºF-Queueçš„é˜Ÿåˆ—ä¹‹ä¸­ï¼Œå¹¶åœ¨ç¨åç”±ä¸€æ¡ç”±è™šæ‹Ÿæœºè‡ªåŠ¨å»ºç«‹çš„ã€ä½è°ƒåº¦ä¼˜å…ˆçº§çš„Finalizerçº¿ç¨‹å»æ‰§è¡Œå®ƒä»¬çš„finalize() æ–¹æ³• Systemçš„gcæ–¹æ³•ã€‚ä¸é è°± å†…å­˜åˆ†é…ä¸å›æ”¶ Minor GC å’Œ Full GC Minor GCï¼ˆYoung GCï¼‰:å›æ”¶æ–°ç”Ÿä»£ï¼Œè¿™ç§ç±»å‹çš„GCæ‰§è¡Œå¾ˆé¢‘ç¹ï¼Œæ‰§è¡Œé€Ÿåº¦ä¹Ÿå¾ˆå¿« å½“ Eden ç©ºé—´æ»¡æ—¶ï¼Œå°±å°†è§¦å‘ä¸€æ¬¡ Minor GC Full GCï¼ˆMajor GCï¼‰ï¼šå›æ”¶è€å¹´ä»£å’Œæ–°ç”Ÿä»£ï¼Œè¿™ç§GCæ‰§è¡Œä¸€èˆ¬æ¯”è¾ƒå°‘ï¼Œæ‰§è¡Œé€Ÿåº¦æ…¢ System.gc()ä¼šå»ºè®®è™šæ‹Ÿæœºå»è§¦å‘Full GC,ä½†åªæ˜¯å»ºè®® è€å¹´ä»£ç©ºé—´ä¸è¶³çš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šè¿›è¡ŒFull GC CMS GC çš„è¿‡ç¨‹ä¸­åŒæ—¶æœ‰å¯¹è±¡è¦æ”¾å…¥è€å¹´ä»£ï¼Œè€Œæ­¤æ—¶è€å¹´ä»£ç©ºé—´ä¸è¶³ï¼Œä¼šè§¦å‘ Full GC å†…å­˜åˆ†é…ç­–ç•¥ å¯¹è±¡ä¼˜å…ˆåœ¨Edenä¸Šåˆ†é… // -verbose:gc -Xms20M -Xmx20M -Xmn10M -XX:+PrintGCDetails -XX:SurvivorRatio=8 public class AllocationWithEden { private static final int _1MB = 1024 * 1024; public static void main(String[] args) { byte[] allocation1, allocation2, allocation3, allocation4; allocation1 = new byte[2 * _1MB]; allocation2 = new byte[2 * _1MB]; allocation3 = new byte[2 * _1MB]; allocation4 = new byte[4 * _1MB]; // å‡ºç°ä¸€æ¬¡Minor GC } } ä¸ºé¿å…åœ¨ Eden å’Œ Survivor ä¹‹é—´çš„å¤§é‡å†…å­˜å¤åˆ¶ï¼Œå¤§å¯¹è±¡çš„å†…å­˜ç›´æ¥åœ¨è€å¹´ä»£ -XX:PretenureSizeThreshold /** * -verbose:gc -Xms20M -Xmx20M -Xmn10M -XX:+PrintGCDetails -XX:SurvivorRatio=8 */ public class LargeObjectWithOld { public static void main(String[] args) { byte[] allocation; allocation = new byte[8 * 1024*1024]; // //ç›´æ¥åˆ†é…åœ¨è€å¹´ä»£ä¸­ } } é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£ -XX:MaxTenuringThreshold ç”¨æ¥å®šä¹‰å¹´é¾„çš„é˜ˆå€¼ /** * -verbose:gc -Xms20M -Xmx20M -Xmn10M -XX:+PrintGCDetails -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=1 */ public class OldObjectWithOld { private static int _1MB = 1024*1024; public static void main(String[] args) { byte[] allocation1, allocation2, allocation3; allocation1 = new byte[_1MB / 4]; // ä»€ä¹ˆæ—¶å€™è¿›å…¥è€å¹´ä»£å†³å®šäºXX:MaxTenuring-Thresholdè®¾ç½® allocation2 = new byte[4 * _1MB]; allocation3 = new byte[4 * _1MB]; allocation3 = null; allocation3 = new byte[4 * _1MB]; } } åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š å¦‚æœåœ¨ Survivor ä¸­ç›¸åŒå¹´é¾„æ‰€æœ‰å¯¹è±¡å¤§å°çš„æ€»å’Œå¤§äº Survivor ç©ºé—´çš„ä¸€åŠï¼Œåˆ™å¹´é¾„å¤§äºæˆ–ç­‰äºè¯¥å¹´é¾„çš„å¯¹è±¡å¯ä»¥ç›´æ¥è¿›å…¥è€å¹´ä»£ï¼Œæ— éœ€ç­‰åˆ° MaxTenuringThreshold ä¸­è¦æ±‚çš„å¹´é¾„ /** * -verbose:gc -Xms20M -Xmx20M -Xmn10M -XX:+PrintGCDetails -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=15 -XX:+PrintTenuringDistribution */ public class OldObjectWithHalfSpace { private static int _1MB = 1024*1024; public static void main(String[] args) { byte[] allocation1, allocation2, allocation3, allocation4; allocation1 = new byte[_1MB / 4]; // allocation1+allocation2å¤§äºsurvivoç©ºé—´ä¸€åŠ allocation2 = new byte[_1MB / 4]; allocation3 = new byte[4 * _1MB]; allocation4 = new byte[4 * _1MB]; allocation4 = null; allocation4 = new byte[4 * _1MB]; } } ç©ºé—´åˆ†é…æ‹…ä¿ Minor GC ä¹‹å‰ï¼Œè™šæ‹Ÿæœºå…ˆæ£€æŸ¥è€å¹´ä»£æœ€å¤§å¯ç”¨çš„è¿ç»­ç©ºé—´æ˜¯å¦å¤§äºæ–°ç”Ÿä»£æ‰€æœ‰å¯¹è±¡æ€»ç©ºé—´ï¼Œå¦‚æœæ¡ä»¶æˆç«‹çš„è¯ï¼Œé‚£ä¹ˆ Minor GC å¯ä»¥ç¡®è®¤æ˜¯å®‰å…¨çš„ å¦åˆ™è™šæ‹Ÿæœºä¼šæŸ¥çœ‹ HandlePromotionFailure çš„å€¼æ˜¯å¦å…è®¸æ‹…ä¿å¤±è´¥ï¼Œå¦‚æœå…è®¸å¤±è´¥ å°±ä¼šç»§ç»­æ£€æŸ¥è€å¹´ä»£æœ€å¤§å¯ç”¨çš„è¿ç»­ç©ºé—´æ˜¯å¦å¤§äºå†æ¬¡æ™‹å‡åˆ°è€å¹´ä»£å¯¹è±¡çš„å¹³å‡å¤§å°ï¼Œå¦‚æœå¤§äºï¼Œå°†å°è¯•ç€è¿›è¡Œä¸€æ¬¡ Minor GC å¦åˆ™è¿›è¡ŒFull GC JDK 6 Update 24ä¹‹åçš„è§„åˆ™å˜ä¸ºåªè¦è€å¹´ä»£çš„è¿ç»­ç©ºé—´å¤§äºæ–°ç”Ÿä»£å¯¹è±¡æ€»å¤§å°æˆ–è€…å†æ¬¡æ™‹å‡çš„å¹³å‡å¤§å°ï¼Œå°±ä¼šè¿›è¡ŒMinor GCï¼Œå¦åˆ™å°†è¿›è¡ŒFull GC å¯¹è±¡å·²æ­» å¼•ç”¨è®¡æ•°ç®—æ³• ä¸ºå¯¹è±¡æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œå½“å¯¹è±¡å¢åŠ ä¸€ä¸ªå¼•ç”¨æ—¶è®¡æ•°å™¨åŠ  1ï¼Œå¼•ç”¨å¤±æ•ˆæ—¶è®¡æ•°å™¨å‡ 1ã€‚å¼•ç”¨è®¡æ•°ä¸º 0 çš„å¯¹è±¡å¯è¢«å›æ”¶ã€‚ åœ¨ä¸¤ä¸ªå¯¹è±¡å‡ºç°å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¸‹ï¼Œæ­¤æ—¶å¼•ç”¨è®¡æ•°å™¨æ°¸è¿œä¸ä¸º 0ï¼Œå¯¼è‡´æ— æ³•å¯¹å®ƒä»¬è¿›è¡Œå›æ”¶ è™½ç„¶å ç”¨äº†ä¸€äº›é¢å¤–çš„å†…å­˜ç©ºé—´æ¥è¿›è¡Œè®¡æ•°ï¼Œå®ƒçš„åŸç†ç®€å•ï¼Œåˆ¤å®šæ•ˆç‡ä¹Ÿå¾ˆé«˜ã€‚ä½†è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„ç®—æ³•æœ‰å¾ˆå¤šä¾‹å¤–æƒ…å†µè¦è€ƒè™‘ï¼Œå¿…é¡»è¦é…åˆå¤§é‡é¢å¤–å¤„ç†æ‰èƒ½ä¿è¯æ­£ç¡®åœ°å·¥ä½œ å¯è¾¾æ€§åˆ†æç®—æ³• åŸºæœ¬æ€è·¯å°±æ˜¯é€šè¿‡ä¸€ç³»åˆ—ç§°ä¸ºâ€œGC Rootsâ€çš„æ ¹å¯¹è±¡ä½œä¸ºèµ·å§‹èŠ‚ç‚¹é›†ï¼Œä»è¿™äº›èŠ‚ç‚¹å¼€å§‹ï¼Œå¯¹è±¡ä¹‹é—´çš„è”ç³»ç§°ä¸ºå¼•ç”¨é“¾ï¼Œå¦‚æœæŸä¸ªå¯¹è±¡æ— æ³•ä» GC Rootåˆ°è¾¾ï¼Œåˆ™è¯æ˜æ­¤å¯¹è±¡æ˜¯ä¸å¯èƒ½å†è¢«ä½¿ç”¨çš„ å¯ä»¥ä½œä¸ºGCRootsçš„å¯¹è±¡åŒ…æ‹¬ä¸‹é¢å‡ ç§ï¼š è™šæ‹Ÿæœºæ ˆï¼ˆæ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡åŒºï¼Œä¹Ÿå«åšå±€éƒ¨å˜é‡è¡¨ï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡ æ–¹æ³•åŒºä¸­çš„ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡ æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ æœ¬åœ°æ–¹æ³•æ ˆä¸­JNI(Nativeæ–¹æ³•)å¼•ç”¨çš„å¯¹è±¡ Javaè™šæ‹Ÿæœºå†…éƒ¨çš„å¼•ç”¨ï¼Œå¦‚åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„Classå¯¹è±¡ è¢«åŒæ­¥é”ï¼ˆsynchronizedå…³é”®å­—ï¼‰æŒæœ‰çš„å¯¹è±¡ åæ˜ Javaè™šæ‹Ÿæœºå†…éƒ¨æƒ…å†µçš„JMXBeanã€JVMTIä¸­æ³¨å†Œçš„å›è°ƒã€æœ¬åœ°ä»£ç ç¼“å­˜ç­‰ é™¤äº†è¿™äº›å›ºå®šçš„GC Rootsé›†åˆä»¥å¤–ï¼Œæ ¹æ®åƒåœ¾æ”¶é›†å™¨ä»¥åŠå½“å‰å›æ”¶çš„å†…å­˜åŒºåŸŸä¸åŒï¼Œè¿˜å¯ä»¥æœ‰å…¶ä»–å¯¹è±¡â€œä¸´æ—¶æ€§â€åœ°åŠ å…¥ï¼Œå…±åŒæ„æˆå®Œæ•´GC Rootsé›†åˆ å¼•ç”¨ åŸºäºå¯¹è±¡å¼•ç”¨åˆ¤å®šæ— ç”¨å¯¹è±¡ å¯¹è±¡å¼•ç”¨é“¾ å¼ºå¼•ç”¨ Object obj = new Object(); Object obj2 = obj; å¼ºå¼•ç”¨è¿˜å­˜åœ¨ï¼Œå¯¹è±¡å°±ä¸ä¼šè¢«å›æ”¶ï¼Œå“ªæ€•å‘ç”ŸOOMå¼‚å¸¸ è½¯å¼•ç”¨ Object obj = new Object(); SoftReference sf = new SoftReference(obj); obj = null; // ä½¿å¯¹è±¡åªè¢«è½¯å¼•ç”¨å…³è” æœ‰ç”¨ä½†å¹¶éå¿…éœ€çš„å¯¹è±¡ åœ¨ç³»ç»Ÿçš„å†…å­˜ä¸å¤Ÿæ—¶ï¼Œä¼šæŠŠè¿™äº›å¯¹è±¡åˆ—ä¸ºå¯å›æ”¶ åº”ç”¨åœºæ™¯ï¼šç¼“å­˜ å¼±å¼•ç”¨ Object obj = new Object(); WeakReference wf = new WeakReference(obj); obj = null; æ¯”è½¯å¼•ç”¨å¼ºåº¦æ›´å¼±äº› åªèƒ½ç”Ÿå­˜åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾æ”¶é›†å‘ç”Ÿä¹‹å‰ ä½œç”¨åœ¨äºå½“å¼ºå¼•ç”¨ä¸¢å¤±ä¹‹åï¼Œè¿™ä¸ªå¯¹è±¡å°±ä¼šè¢«å›æ”¶ è™šå¼•ç”¨ Object obj = new Object(); PhantomReference pf = new PhantomReference(obj, null); obj = null; ä¸ºä¸€ä¸ªå¯¹è±¡è®¾ç½®è™šå¼•ç”¨å…³è”çš„å”¯ä¸€ç›®çš„å°±æ˜¯èƒ½åœ¨è¿™ä¸ªå¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ï¼Œç”¨äºå¯¹è±¡å›æ”¶è·Ÿè¸ª åº”ç”¨åœºæ™¯ï¼šç®¡ç†å †å¤–å†…å­˜ æ€»ç»“ å¼•ç”¨ç±»å‹ å¼ºå¼•ç”¨ è½¯å¼•ç”¨ å¼±å¼•ç”¨ è™šå¼•ç”¨ ç±»å‹ æ­£å¸¸èµ‹å€¼ SoftReference WeakReference PhantomReference å›æ”¶æ—¶é—´ ä¸å›æ”¶ å†…å­˜ç´§å¼ æ—¶å›æ”¶ GCå°±å›æ”¶ éšæ—¶å¯èƒ½è¢«å›æ”¶ æ–¹æ³•åŒºçš„å›æ”¶ æ–¹æ³•åŒºä¸»è¦å­˜æ”¾æ°¸ä¹…ä»£å¯¹è±¡ï¼Œè€Œæ°¸ä¹…ä»£å¯¹è±¡çš„å›æ”¶ç‡æ¯”æ–°ç”Ÿä»£ä½å¾ˆå¤šï¼Œæ‰€ä»¥åœ¨æ–¹æ³•åŒºä¸Šè¿›è¡Œå›æ”¶æ€§ä»·æ¯”ä¸é«˜ã€‚ ä¸ºäº†é¿å…å†…å­˜æº¢å‡ºï¼Œåœ¨å¤§é‡ä½¿ç”¨åå°„å’ŒåŠ¨æ€ä»£ç†çš„åœºæ™¯éƒ½éœ€è¦è™šæ‹Ÿæœºå…·å¤‡ç±»å¸è½½åŠŸèƒ½ã€‚ å¸¸é‡å›æ”¶ï¼šå¦‚æœä¸€ä¸ªå¸¸é‡æ²¡æœ‰å†è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¢«å›æ”¶ ç±»çš„å¸è½½ï¼Œéœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶æ‰æœ‰å¯èƒ½è¢«å›æ”¶ï¼š è¯¥ç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç»è¢«å›æ”¶ åŠ è½½è¯¥ç±»çš„ç±»åŠ è½½å™¨å·²ç»è¢«å›æ”¶ è¯¥ç±»å¯¹åº”çš„java.lang.Classå¯¹è±¡æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨ å¯ä»¥æ§åˆ¶Xnoclassgcå‚æ•°è®©HotSpotè¿›è¡Œå›æ”¶ç±» åƒåœ¾å›æ”¶ç®—æ³• åƒåœ¾å›æ”¶ç±»å‹ï¼š éƒ¨åˆ†æ”¶é›†ï¼ˆPartial GCï¼‰ï¼šæŒ‡ç›®æ ‡ä¸æ˜¯å®Œæ•´æ”¶é›†æ•´ä¸ªJavaå †çš„åƒåœ¾æ”¶é›† æ–°ç”Ÿä»£æ”¶é›†ï¼ˆMinor GC/Young GCï¼‰ï¼šæŒ‡ç›®æ ‡åªæ˜¯æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›† è€å¹´ä»£æ”¶é›†ï¼ˆMajor GC/Old GCï¼‰ï¼šæŒ‡ç›®æ ‡åªæ˜¯è€å¹´ä»£çš„åƒåœ¾æ”¶é›† æ··åˆæ”¶é›†ï¼ˆMixed GCï¼‰ï¼šæŒ‡ç›®æ ‡æ˜¯æ”¶é›†æ•´ä¸ªæ–°ç”Ÿä»£ä»¥åŠéƒ¨åˆ†è€å¹´ä»£çš„åƒåœ¾æ”¶é›† åªæœ‰G1æ”¶é›†å™¨ä¼šæœ‰è¿™ç§è¡Œä¸º æ•´å †æ”¶é›†ï¼ˆFull GCï¼‰ï¼šæ”¶é›†æ•´ä¸ªJavaå †å’Œæ–¹æ³•åŒºçš„åƒåœ¾æ”¶é›† åˆ†ä»£æ”¶é›†ç†è®º å‰å•†ä¸šè™šæ‹Ÿæœºçš„åƒåœ¾æ”¶é›†å™¨ï¼Œå¤§å¤šæ•°éƒ½éµå¾ªäº†â€œåˆ†ä»£æ”¶é›†â€ï¼ˆGenerational Collectionï¼‰çš„ç†è®º å»ºç«‹åœ¨ä»¥ä¸‹ä¸¤ä¸ªåˆ†ä»£å‡è¯´ä¸Šï¼š å¼±åˆ†ä»£å‡è¯´ï¼šç»å¤§å¤šæ•°å¯¹è±¡éƒ½æ˜¯æœç”Ÿå¤•ç­çš„ å¼ºåˆ†ä»£å‡è¯´ï¼šç†¬è¿‡è¶Šå¤šæ¬¡åƒåœ¾æ”¶é›†è¿‡ç¨‹çš„å¯¹è±¡å°±è¶Šéš¾ä»¥æ¶ˆäº¡ æ ¹æ®ä¸Šé¢ä¸¤æ¡å‡è¯´å¾—åˆ° -> è·¨ä»£å¼•ç”¨å‡è¯´ï¼šè·¨ä»£å¼•ç”¨ç›¸å¯¹äºåŒä»£å¼•ç”¨æ¥è¯´ä»…å æå°‘æ•° æ ‡è®°-æ¸…é™¤ç®—æ³• GC æ ‡è®°-æ¸…é™¤ç®—æ³•ç”±æ ‡è®°é˜¶æ®µå’Œæ¸…é™¤é˜¶æ®µæ„æˆã€‚åœ¨æ ‡è®°é˜¶æ®µä¼šæŠŠæ‰€æœ‰çš„æ´»åŠ¨å¯¹è±¡éƒ½åšä¸Šæ ‡è®°ï¼Œç„¶ååœ¨æ¸…é™¤é˜¶æ®µä¼šæŠŠæ²¡æœ‰æ ‡è®°çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯éæ´»åŠ¨å¯¹è±¡å›æ”¶ï¼Œè¯¥ç®—æ³•ä¸€èˆ¬åº”ç”¨äºè€å¹´ä»£,å› ä¸ºè€å¹´ä»£çš„å¯¹è±¡ç”Ÿå‘½å‘¨æœŸæ¯”è¾ƒé•¿ åç»­çš„æ”¶é›†ç®—æ³•å¤§å¤šéƒ½æ˜¯ä»¥æ ‡è®°-æ¸…é™¤ç®—æ³•ä¸ºåŸºç¡€ï¼Œå¯¹å…¶ç¼ºç‚¹è¿›è¡Œæ”¹è¿›è€Œå¾—åˆ°çš„ å¯ä»¥è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ å¿…è¦æ—¶æ‰å›æ”¶(å†…å­˜ä¸è¶³æ—¶) å›æ”¶æ—¶ï¼Œåº”ç”¨éœ€è¦æŒ‚èµ·ï¼Œä¹Ÿå°±æ˜¯stop the worldã€‚ æ ‡è®°å’Œæ¸…é™¤çš„æ•ˆç‡ä¸é«˜ ä¼šé€ æˆå†…å­˜ç¢ç‰‡ æ ‡è®°-å¤åˆ¶ç®—æ³• æŠŠå†…å­˜åˆ†ä¸ºä¸¤ä¸ªç©ºé—´ä¸€ä¸ªæ˜¯Fromç©ºé—´ï¼Œä¸€ä¸ªæ˜¯Toç©ºé—´ï¼Œå¯¹è±¡ä¸€å¼€å§‹åªåœ¨Fromç©ºé—´åˆ†é…ï¼ŒToç©ºé—´æ˜¯ç©ºé—²çš„ã€‚GCæ—¶æŠŠå­˜æ´»çš„å¯¹è±¡ä»Fromç©ºé—´å¤åˆ¶ç²˜è´´åˆ°Toç©ºé—´ï¼Œä¹‹åæŠŠToç©ºé—´å˜æˆæ–°çš„Fromç©ºé—´ï¼ŒåŸæ¥çš„Fromç©ºé—´å˜æˆToç©ºé—´ï¼Œè¿™ä¹Ÿæ˜¯JVMå¹´è½»ä»£æ‰€ä½¿ç”¨çš„çš„å›æ”¶ç®—æ³• å•†ä¸šè™šæ‹Ÿæœºéƒ½é‡‡ç”¨è¿™ç§æ”¶é›†ç®—æ³•å›æ”¶æ–°ç”Ÿä»£ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œè€Œæ˜¯ä¸€å—è¾ƒå¤§çš„ Eden ç©ºé—´å’Œä¸¤å—è¾ƒå°çš„ Survivor ç©ºé—´ï¼Œæ¯æ¬¡ä½¿ç”¨ Eden å’Œå…¶ä¸­ä¸€å— Survivorã€‚ å½“è¿›è¡ŒGCæ—¶ï¼Œå°†Edenä¸ä½¿ç”¨è¿‡çš„Survivorä¸­å­˜æ´»çš„å¯¹è±¡ç§»åŠ¨åˆ°å¦å¤–ä¸€ä¸ªSurvivorä¸­ï¼Œç„¶åæ¸…é™¤Edenä¸ä½¿ç”¨è¿‡çš„Survivor HotSpot è™šæ‹Ÿæœºçš„ Eden å’Œ Survivor å¤§å°æ¯”ä¾‹é»˜è®¤ä¸º 8:1ï¼Œä¿è¯äº†å†…å­˜çš„åˆ©ç”¨ç‡è¾¾åˆ° 90% åœ¨å­˜æ´»å¯¹è±¡ä¸å¤šçš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½é«˜ï¼Œèƒ½è§£å†³å†…å­˜ç¢ç‰‡å’Œjavaåƒåœ¾å›æ”¶ç®—æ³•ä¹‹-æ ‡è®°æ¸…é™¤ ä¸­å¯¼è‡´çš„å¼•ç”¨æ›´æ–°é—®é¢˜ã€‚ ä¼šé€ æˆä¸€éƒ¨åˆ†çš„å†…å­˜æµªè´¹ã€‚ä¸è¿‡å¯ä»¥æ ¹æ®å®é™…æƒ…å†µï¼Œå°†å†…å­˜å—å¤§å°æ¯”ä¾‹é€‚å½“è°ƒæ•´ï¼›å¦‚æœå­˜æ´»å¯¹è±¡çš„æ•°é‡æ¯”è¾ƒå¤§ï¼Œcopingçš„æ€§èƒ½ä¼šå˜å¾—å¾ˆå·® æ ‡è®°-æ•´ç†ç®—æ³• å…¶ä¸­æ ‡è®°é˜¶æ®µè·Ÿæ ‡è®°-å¤åˆ¶ç®—æ³•ä¸­çš„æ ‡è®°é˜¶æ®µæ˜¯ä¸€æ ·çš„,è€Œå¯¹äºæ•´ç†é˜¶æ®µï¼Œå®ƒçš„å·¥ä½œå°±æ˜¯ç§»åŠ¨æ‰€æœ‰çš„å¯è¾¾å¯¹è±¡åˆ°å †å†…å­˜çš„åŒä¸€ä¸ªåŒºåŸŸä¸­ï¼Œä½¿ä»–ä»¬ç´§å‡‘çš„æ’åˆ—åœ¨ä¸€èµ·ï¼Œä»è€Œå°†æ‰€æœ‰éå¯è¾¾å¯¹è±¡é‡Šæ”¾å‡ºæ¥çš„ç©ºé—²å†…å­˜éƒ½é›†ä¸­åœ¨ä¸€èµ·ï¼Œé€šè¿‡è¿™æ ·çš„æ–¹å¼æ¥è¾¾åˆ°å‡å°‘å†…å­˜ç¢ç‰‡çš„ç›®çš„ ä½†è¿™ç§æ–¹å¼éœ€è¦ç§»åŠ¨å¤§é‡å¯¹è±¡ï¼Œå¤„ç†æ•ˆç‡æ¯”è¾ƒä½ï¼ŒåŒæ—¶ä¹Ÿä¼šSTW æ˜¯å¦ç§»åŠ¨å¯¹è±¡éƒ½å­˜åœ¨å¼Šç«¯ï¼Œç§»åŠ¨åˆ™å†…å­˜å›æ”¶æ—¶ä¼šæ›´å¤æ‚ï¼Œä¸ç§»åŠ¨åˆ™å†…å­˜åˆ†é…æ—¶ä¼šæ›´å¤æ‚ã€‚ä»åƒåœ¾æ”¶é›†çš„åœé¡¿æ—¶é—´æ¥çœ‹ï¼Œä¸ç§»åŠ¨å¯¹è±¡åœé¡¿æ—¶é—´ä¼šæ›´çŸ­ï¼Œç”šè‡³å¯ä»¥ä¸éœ€è¦åœé¡¿ï¼Œä½†æ˜¯ä»æ•´ä¸ªç¨‹åºçš„ååé‡æ¥çœ‹ï¼Œç§»åŠ¨å¯¹è±¡ä¼šæ›´åˆ’ç®— ä»»æ„é¡ºåº : å³ä¸è€ƒè™‘åŸå…ˆå¯¹è±¡çš„æ’åˆ—é¡ºåºï¼Œä¹Ÿä¸è€ƒè™‘å¯¹è±¡ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼Œéšæ„ç§»åŠ¨å¯¹è±¡ï¼› çº¿æ€§é¡ºåº : è€ƒè™‘å¯¹è±¡çš„å¼•ç”¨å…³ç³»ï¼Œä¾‹å¦‚aå¯¹è±¡å¼•ç”¨äº†bå¯¹è±¡ï¼Œåˆ™å°½å¯èƒ½å°†aå’Œbç§»åŠ¨åˆ°ä¸€å—ï¼› æ»‘åŠ¨é¡ºåº : æŒ‰ç…§å¯¹è±¡åŸæ¥åœ¨å †ä¸­çš„é¡ºåºæ»‘åŠ¨åˆ°å †çš„ä¸€ç«¯ã€‚ åˆ†ä»£æ”¶é›† é™¤Epsilon ZGC Shenandoahä¹‹å¤–çš„GCéƒ½æ˜¯ä½¿ç”¨é€»è¾‘åˆ†ä»£æ¨¡å‹ G1æ˜¯é€»è¾‘åˆ†ä»£ï¼Œç‰©ç†ä¸åˆ†ä»£ é™¤æ­¤ä¹‹å¤–ä¸ä»…é€»è¾‘åˆ†ä»£ï¼Œè€Œä¸”ç‰©ç†åˆ†ä»£ ä¸åŒå¯¹è±¡ä½¿ç”¨ä¸åŒçš„å›æ”¶ç®—æ³• æ–°ç”Ÿä»£ ä¸»è¦å­˜æ”¾çŸ­æš‚ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡ æ–°åˆ›å»ºçš„å¯¹è±¡éƒ½å…ˆæ”¾å…¥æ–°ç”Ÿä»£ï¼Œå¤§éƒ¨åˆ†æ–°å»ºå¯¹è±¡åœ¨ç¬¬ä¸€æ¬¡gcæ—¶è¢«å›æ”¶ æ–°ç”Ÿä»£ GCï¼ˆMinor GC/Young GCï¼‰ï¼šæŒ‡å‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†åŠ¨ä½œï¼Œå› ä¸º Java å¯¹è±¡å¤§å¤šéƒ½å…·å¤‡æœç”Ÿå¤•ç­çš„ç‰¹æ€§ï¼Œæ‰€ä»¥ Minor GC éå¸¸é¢‘ç¹ï¼Œä¸€èˆ¬å›æ”¶é€Ÿåº¦ä¹Ÿæ¯”è¾ƒå¿« ä½¿ç”¨å¤åˆ¶æ¸…é™¤ç®—æ³• è€å¹´ä»£ ä¸€ä¸ªå¯¹è±¡ç»è¿‡å‡ æ¬¡gcä»å­˜æ´»ï¼Œåˆ™æ”¾å…¥è€å¹´ä»£ å…·ä½“æ˜¯è¶…è¿‡XX:MaxTenuringThreshold è¿™äº›å¯¹è±¡å¯ä»¥æ´»å¾ˆé•¿æ—¶é—´ï¼Œæˆ–è€…ä¼´éšç¨‹åºä¸€ç”Ÿï¼Œéœ€è¦å¸¸é©»å†…å­˜çš„ï¼Œå¯ä»¥å‡å°‘å›æ”¶æ¬¡æ•° è€å¹´ä»£ GCï¼ˆMajor GC / Full GCï¼‰ï¼šæŒ‡å‘ç”Ÿåœ¨è€å¹´ä»£çš„ GC ä½¿ç”¨æ ‡è®°æ¸…é™¤ æˆ–è€…æ ‡è®°å‹ç¼©ç®—æ³• HotSportç®—æ³•ç»†èŠ‚å®ç° æ ¹èŠ‚ç‚¹æšä¸¾ è¿„ä»Šä¸ºæ­¢ï¼Œæ‰€æœ‰æ”¶é›†å™¨åœ¨æ ¹èŠ‚ç‚¹æšä¸¾è¿™ä¸€æ­¥éª¤æ—¶éƒ½æ˜¯å¿…é¡»æš‚åœç”¨æˆ·çº¿ç¨‹çš„ï¼Œæ ¹èŠ‚ç‚¹æšä¸¾å§‹ç»ˆè¿˜æ˜¯å¿…é¡»åœ¨ä¸€ä¸ªèƒ½ä¿éšœä¸€è‡´æ€§çš„å¿«ç…§ä¸­æ‰å¾—ä»¥è¿›è¡Œ åœ¨HotSpotçš„è§£å†³æ–¹æ¡ˆé‡Œï¼Œæ˜¯ä½¿ç”¨ä¸€ç»„ç§°ä¸ºOopMapçš„æ•°æ®ç»“æ„æ¥ä¿å­˜ç€å¯¹è±¡çš„å¼•ç”¨ å®‰å…¨ç‚¹ å¯¼è‡´OopMapå†…å®¹å˜åŒ–çš„æŒ‡ä»¤éå¸¸å¤šï¼Œå¦‚æœä¸ºæ¯ä¸€æ¡æŒ‡ä»¤éƒ½ç”Ÿæˆå¯¹åº”çš„OopMapï¼Œé‚£å°†ä¼šéœ€è¦å¤§é‡çš„é¢å¤–å­˜å‚¨ç©ºé—´ï¼ŒHotSpoté€šè¿‡åªè®°å½•ä½äºå®‰å…¨ç‚¹çš„æŒ‡ä»¤çš„æ–¹å¼æ¥è®©å…¶ä»–çº¿ç¨‹åœ¨è¿™ä¸ªç‚¹å¼€å§‹è¿›è¡Œåƒåœ¾å›æ”¶ çº¿ç¨‹ä¼šé€šè¿‡ä¸»åŠ¨å¼ä¸­æ–­ï¼Œå„ä¸ªçº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹æ—¶ä¼šä¸åœåœ°ä¸»åŠ¨å»è½®è¯¢è¿™ä¸ªæ ‡å¿—ï¼Œä¸€æ—¦å‘ç°ä¸­æ–­æ ‡å¿—ä¸ºçœŸæ—¶å°±è‡ªå·±åœ¨æœ€è¿‘çš„å®‰å…¨ç‚¹ä¸Šä¸»åŠ¨ä¸­æ–­æŒ‚èµ·ï¼Œè¿™ä¸ªæ—¶å€™çº¿ç¨‹å°±æ˜¯æš‚åœèµ·æ¥çš„ HotSpotå°†è¿™ä¸ªè½®è¯¢æ“ä½œç²¾ç®€åˆ°äº†ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤ å®‰å…¨åŒºåŸŸ å®‰å…¨åŒºåŸŸæ˜¯æŒ‡èƒ½å¤Ÿç¡®ä¿åœ¨æŸä¸€æ®µä»£ç ç‰‡æ®µä¹‹ä¸­ï¼Œå¼•ç”¨å…³ç³»ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¸ªåŒºåŸŸå¯ä»¥å®‰å…¨åœ°è¿›è¡Œåƒåœ¾å›æ”¶ å¦‚æœçº¿ç¨‹è¦ç¦»å¼€å®‰å…¨åŒºåŸŸï¼Œè¦æ£€æŸ¥è™šæ‹Ÿæœºæ˜¯å¦å·²ç»å®Œæˆäº†æ ¹èŠ‚ç‚¹æšä¸¾ï¼Œå¦‚æœå®Œæˆäº†æšä¸¾ï¼Œå°±å¯ä»¥ç¦»å¼€ï¼Œå¦åˆ™å°±è¦ä¸€ç›´ç­‰å¾… ç›´åˆ°æ”¶åˆ°äº†å¯ä»¥ç¦»å¼€çš„ä¿¡å· è®°å¿†é›†ä¸å¡è¡¨ åƒåœ¾æ”¶é›†å™¨åœ¨æ–°ç”Ÿä»£ä¸­å»ºç«‹äº†åä¸ºè®°å¿†é›†ï¼ˆRemembered Setï¼‰çš„æ•°æ®ç»“æ„ï¼Œç”¨ä»¥é¿å…æŠŠæ•´ä¸ªè€å¹´ä»£åŠ è¿›GC Rootsæ‰«æèŒƒå›´ è®°å¿†é›†çš„å®ç°ç²¾åº¦æœ‰ï¼š å­—é•¿ç²¾åº¦ ç²¾ç¡®åˆ°ä¸€ä¸ªæœºå™¨å­—é•¿ å¯¹è±¡ç²¾åº¦ ç²¾ç¡®åˆ°ä¸€ä¸ªå¯¹è±¡ å¡ç²¾åº¦ ç²¾ç¡®åˆ°ä¸€å—å†…å­˜åŒºåŸŸ é€šè¿‡å¡è¡¨å°±å¯ä»¥ä½¿ç”¨æ¯”è¾ƒå°‘çš„å†…å­˜æ¥è®°å½•ï¼Œä¸€ä¸ªå¡é¡µçš„å†…å­˜ä¸­é€šå¸¸åŒ…å«ä¸æ­¢ä¸€ä¸ªå¯¹è±¡ï¼Œåªè¦å¡é¡µå†…æœ‰ä¸€ä¸ªï¼ˆæˆ–æ›´å¤šï¼‰å¯¹è±¡çš„å­—æ®µå­˜åœ¨ç€è·¨ä»£æŒ‡é’ˆï¼Œé‚£å°±å°†å¯¹åº”å¡è¡¨çš„æ•°ç»„å…ƒç´ çš„å€¼æ ‡è¯†ä¸º1ï¼Œè„å¡é¡µåœ¨åƒåœ¾å›æ”¶æ—¶ä¹Ÿä¼šä¸€èµ·è¢«æ‰«æ å†™å±éšœ HotSpoté€šè¿‡å†™å±éšœï¼ˆå’Œå¹¶å‘æ“ä½œçš„å†…å­˜è¯»å†™å±éšœéåŒä¸€æ¦‚å¿µï¼‰ï¼Œè¿™é‡Œçš„å†™å±éšœç±»ä¼¼äºè™šæ‹Ÿæœºåœ¨è§£é‡Šå­—èŠ‚ç æ—¶çš„AOPç¯ç»•é€šçŸ¥ï¼Œé€šè¿‡è¿™ä¸ªå†™å±éšœæ¥æ›´æ–°å¡è¡¨ ä¸‰è‰²æ ‡è®° æŠŠéå†å¯¹è±¡å›¾è¿‡ç¨‹ä¸­é‡åˆ°çš„å¯¹è±¡ï¼ŒæŒ‰ç…§â€œæ˜¯å¦è®¿é—®è¿‡â€è¿™ä¸ªæ¡ä»¶æ ‡è®°æˆä»¥ä¸‹ä¸‰ç§é¢œè‰²ï¼š ç™½è‰²ï¼šè¡¨ç¤ºå¯¹è±¡å°šæœªè¢«åƒåœ¾æ”¶é›†å™¨è®¿é—®è¿‡ã€‚æ˜¾ç„¶åœ¨å¯è¾¾æ€§åˆ†æåˆšåˆšå¼€å§‹çš„é˜¶æ®µï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯ç™½è‰²çš„ï¼Œè‹¥åœ¨åˆ†æç»“æŸçš„é˜¶æ®µï¼Œä»ç„¶æ˜¯ç™½è‰²çš„å¯¹è±¡ï¼Œå³ä»£è¡¨ä¸å¯è¾¾ é»‘è‰²ï¼šè¡¨ç¤ºå¯¹è±¡å·²ç»è¢«åƒåœ¾æ”¶é›†å™¨è®¿é—®è¿‡ï¼Œä¸”è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨éƒ½å·²ç»æ‰«æè¿‡ ç°è‰²ï¼šè¡¨ç¤ºå¯¹è±¡å·²ç»è¢«åƒåœ¾æ”¶é›†å™¨è®¿é—®è¿‡ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä¸Šè‡³å°‘å­˜åœ¨ä¸€ä¸ªå¼•ç”¨è¿˜æ²¡æœ‰è¢«æ‰«æè¿‡ å½“ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶åŒæ—¶æ»¡è¶³ï¼Œåˆ™ä¼šå‡ºç°å°†åŸæœ¬åº”è¯¥æ˜¯é»‘è‰²çš„å¯¹è±¡è¢«è¯¯æ ‡ä¸ºç™½è‰²ï¼š èµ‹å€¼å™¨æ’å…¥äº†ä¸€æ¡æˆ–å¤šæ¡ä»é»‘è‰²å¯¹è±¡åˆ°ç™½è‰²å¯¹è±¡çš„æ–°å¼•ç”¨ èµ‹å€¼å™¨åˆ é™¤äº†å…¨éƒ¨ä»ç°è‰²å¯¹è±¡åˆ°è¯¥ç™½è‰²å¯¹è±¡çš„ç›´æ¥æˆ–é—´æ¥å¼•ç”¨ å¢é‡æ›´æ–°ç ´åç¬¬ä¸€ä¸ªæ¡ä»¶ï¼šé»‘è‰²å¯¹è±¡ä¸€æ—¦æ–°æ’å…¥äº†æŒ‡å‘ç™½è‰²å¯¹è±¡çš„å¼•ç”¨ä¹‹åï¼Œå®ƒå°±å˜å›ç°è‰²å¯¹è±¡äº† åŸå§‹å¿«ç…§ç ´åç¬¬äºŒä¸ªæ¡ä»¶ï¼šæ— è®ºå¼•ç”¨å…³ç³»åˆ é™¤ä¸å¦ï¼Œéƒ½ä¼šæŒ‰ç…§åˆšåˆšå¼€å§‹æ‰«æé‚£ä¸€åˆ»çš„å¯¹è±¡å›¾å¿«ç…§æ¥è¿›è¡Œæœç´¢ CMSæ˜¯åŸºäºå¢é‡æ›´æ–°æ¥åšå¹¶å‘æ ‡è®°çš„ï¼ŒG1ã€Shenandoahåˆ™æ˜¯ç”¨åŸå§‹å¿«ç…§æ¥å®ç° å†…å­˜åˆ†é… å†…å­˜é…ç½®å¸¸è§å‚æ•° -XX:+PrintGC æ¯æ¬¡è§¦å‘GCçš„æ—¶å€™æ‰“å°ç›¸å…³æ—¥å¿— -XX:+UseSerialGC ä¸²è¡Œå›æ”¶ -XX:+PrintGCDetails æ›´è¯¦ç»†çš„GCæ—¥å¿— -Xms å †åˆå§‹å€¼ -Xmx å †æœ€å¤§å¯ç”¨å€¼ -Xmn æ–°ç”Ÿä»£å †æœ€å¤§å¯ç”¨å€¼ -XX:SurvivorRatio ç”¨æ¥è®¾ç½®æ–°ç”Ÿä»£ä¸­edenç©ºé—´å’Œfrom/toç©ºé—´çš„æ¯”ä¾‹. -XX:NewRatio é…ç½®æ–°ç”Ÿä»£ä¸è€å¹´ä»£å æ¯” 1:2 å«ä»¥-XX:SurvivorRatio=eden/from=den/to æ€»ç»“:åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†åˆå§‹çš„å †å¤§å°ä¸æœ€å¤§å †å¤§å°ç›¸ç­‰ï¼Œ è¿™æ ·çš„å¥½å¤„æ˜¯å¯ä»¥å‡å°‘ç¨‹åºè¿è¡Œæ—¶åƒåœ¾å›æ”¶æ¬¡æ•°ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚ -XX:SurvivorRatio ç”¨æ¥è®¾ç½®æ–°ç”Ÿä»£ä¸­edenç©ºé—´å’Œfrom/toç©ºé—´çš„æ¯”ä¾‹. OutOfMemoryErrorå¼‚å¸¸ Javaå †æº¢å‡º java.lang.OutOfMemoryError: Java heap space å †å†…å­˜æº¢å‡º å› ä¸ºå †å†…å­˜æ— æ³•æ»¡è¶³å†…å­˜ç”³è¯·éœ€è¦ è®¾ç½®å †å†…å­˜å¤§å°è§£å†³-Xmx è™šæ‹Ÿæœºæ ˆæº¢å‡º java.lang.StackOverflowError æ ˆå†…å­˜æº¢å‡º ç”±äºæ–¹æ³•è°ƒç”¨æ ˆè¿‡æ·± è®¾ç½®çº¿ç¨‹æœ€å¤§è°ƒç”¨æ·±åº¦-Xss å†…å­˜æº¢å‡ºä¸å†…å­˜æ³„æ¼ å†…å­˜æº¢å‡ºå°±æ˜¯ç”³è¯·çš„å†…å­˜å¤§å°è¶…å‡ºäº†ç³»ç»Ÿæ‰€èƒ½æä¾›çš„ï¼Œç³»ç»Ÿä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œäºæ˜¯äº§ç”Ÿæº¢å‡º å†…å­˜æ³„æ¼æ˜¯ä½¿ç”¨è¿‡çš„å†…å­˜ç©ºé—´æ²¡æœ‰è¢«åŠæ—¶é‡Šæ”¾ï¼Œé•¿æ—¶é—´å ç”¨å†…å­˜ï¼Œæœ€ç»ˆå¯¼è‡´å†…å­˜ç©ºé—´ä¸è¶³ï¼Œè€Œå‡ºç°å†…å­˜æº¢å‡º åƒåœ¾æ”¶é›†å™¨ è¡¡é‡åƒåœ¾æ”¶é›†å™¨çš„ä¸‰é¡¹æœ€é‡è¦çš„æŒ‡æ ‡æ˜¯ï¼š å†…å­˜å ç”¨ï¼ˆFootprintï¼‰ ååé‡ï¼ˆThroughputï¼‰ å»¶è¿Ÿï¼ˆLatencyï¼‰ æˆªæ­¢åˆ°JDK14,å½“å‰JAVAå·²æœ‰çš„åƒåœ¾å›æ”¶å™¨ Serial å‡ åå…† PS ä¸Šç™¾å…† - å‡ ä¸ªG CMS - 20G G1 - ä¸Šç™¾G ZGC - 4T - 16Tï¼ˆJDK13ï¼‰ è¿çº¿è¡¨ç¤ºåƒåœ¾æ”¶é›†å™¨å¯ä»¥é…åˆä½¿ç”¨ åƒåœ¾å›æ”¶å™¨çš„å‘å±•è·¯çº¿æ˜¯éšç€å†…å­˜è¶Šæ¥è¶Šå¤§æ¼”è¿›ä»¥åŠä»åˆ†ä»£ç®—æ³•æ¼”åŒ–åˆ°ä¸åˆ†ä»£ç®—æ³• é™¤äº† CMS å’Œ G1 ä¹‹å¤–ï¼Œå…¶å®ƒåƒåœ¾æ”¶é›†å™¨éƒ½æ˜¯ä»¥ä¸²è¡Œçš„æ–¹å¼æ‰§è¡Œ ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨Serial ä¼šå¯¼è‡´STWï¼ˆstop the worldï¼‰ Client åœºæ™¯ä¸‹çš„é»˜è®¤æ–°ç”Ÿä»£æ”¶é›†å™¨ï¼Œå› ä¸ºåœ¨è¯¥åœºæ™¯ä¸‹å†…å­˜ä¸€èˆ¬æ¥è¯´ä¸ä¼šå¾ˆå¤§ è€Œä¸”æ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ FGCçš„æ—¶é—´è¾ƒé•¿ [120.792s][info ][gc ] GC(25) Pause Young (Allocation Failure) 10M->6M(15M) 0.936ms [120.792s][info ][gc,cpu ] GC(25) User=0.00s Sys=0.00s Real=**0.00s** é€šè¿‡JVMå‚æ•°-XX:+UseSerialGCå¯ä»¥ä½¿ç”¨ä¸²è¡Œåƒåœ¾å›æ”¶å™¨ ParNew å®ƒæ˜¯ Serial æ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ [GC (Allocation Failure) [ParNew: 4928K->512K(4928K), 0.0024282 secs] 7129K->3525K(15872K), 0.0024673 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] å‚æ•°æ§åˆ¶ï¼š-XX:+UseParNewGC æŒ‡å®šä½¿ç”¨ParNewæ”¶é›†å™¨ -XX:ParallelGCThreads é™åˆ¶çº¿ç¨‹æ•°é‡ Parallel Scavenge å…¶å®ƒæ”¶é›†å™¨ç›®æ ‡æ˜¯å°½å¯èƒ½ç¼©çŸ­åƒåœ¾æ”¶é›†æ—¶ç”¨æˆ·çº¿ç¨‹çš„åœé¡¿æ—¶é—´ï¼Œè€Œå®ƒçš„ç›®æ ‡æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡ï¼Œå› æ­¤å®ƒè¢«ç§°ä¸ºâ€œååé‡ä¼˜å…ˆâ€æ”¶é›†å™¨ ååé‡æŒ‡çš„æ˜¯CPUç”¨äºè¿è¡Œç”¨æˆ·ç¨‹åºçš„æ—¶é—´å æ€»æ—¶é—´çš„æ¯”å€¼ åœé¡¿æ—¶é—´çŸ­ï¼Œå›æ”¶æ•ˆç‡é«˜ï¼Œå¯¹ååé‡è¦æ±‚é«˜ -XX:-UseParallelGC(å¹´è½»ä»£) å’Œ -XX:+UseParallelOldGC(è€å¹´ä»£) Serial Old Serial æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œç»™ Client åœºæ™¯ä¸‹çš„è™šæ‹Ÿæœºä½¿ç”¨ å¦‚æœç”¨åœ¨Serverç«¯ï¼šæ˜¯ä½œä¸º CMS æ”¶é›†å™¨çš„åå¤‡é¢„æ¡ˆï¼Œåœ¨å¹¶å‘æ”¶é›†å‘ç”Ÿ Concurrent Mode Failure æ—¶ä½¿ç”¨ Parallel Old Parallel Scavenge æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ CMSåƒåœ¾æ”¶é›†å™¨ ï¼ˆConcurrent Mark Sweepï¼‰ CMSæ˜¯è€å¹´ä»£åƒåœ¾æ”¶é›†å™¨ï¼Œåœ¨æ”¶é›†è¿‡ç¨‹ä¸­å¯ä»¥ä¸ç”¨æˆ·çº¿ç¨‹å¹¶å‘æ“ä½œã€‚å®ƒå¯ä»¥ä¸Serialæ”¶é›†å™¨å’ŒParallel Newæ”¶é›†å™¨æ­é…ä½¿ç”¨ã€‚CMSç‰ºç‰²äº†ç³»ç»Ÿçš„ååé‡æ¥è¿½æ±‚æ”¶é›†é€Ÿåº¦ï¼Œé€‚åˆè¿½æ±‚åƒåœ¾æ”¶é›†é€Ÿåº¦çš„æœåŠ¡å™¨ä¸Š å“åº”æ—¶é—´ä¼˜å…ˆï¼Œå‡å°‘åƒåœ¾æ”¶é›†åœé¡¿æ—¶é—´ CMSé»˜è®¤å¯åŠ¨çš„å›æ”¶çº¿ç¨‹æ•°æ˜¯ï¼ˆå¤„ç†å™¨æ ¸å¿ƒæ•°é‡+3ï¼‰/4 ï¼Œå¦‚æœåœ¨CPUæ ¸æ•°è¾ƒä½çš„æƒ…å†µä¸‹ï¼Œå¯¹åº”ç”¨æœ¬èº«çš„æ€§èƒ½è¿˜æ˜¯æœ‰å½±å“çš„ é‡‡ç”¨çš„æ ‡è®°æ¸…é™¤ç®—æ³• ä¼šäº§ç”Ÿå¤§é‡ç©ºé—´ç¢ç‰‡ é€šè¿‡JVMå‚æ•° -XX:+UseConcMarkSweepGCè®¾ç½® G1åƒåœ¾æ”¶é›†å™¨ ä¸€æ¬¾é¢å‘æœåŠ¡ç«¯åº”ç”¨çš„åƒåœ¾æ”¶é›†å™¨ ç›®æ ‡æ˜¯æ›¿ä»£CMS JDK9é»˜è®¤å¼€å¯ æš‚åœæ—¶é—´æ›´åŠ å¯æ§ ä½¿ç”¨çš„æ ‡è®°å¤åˆ¶ç®—æ³• ä¸ä¼šäº§ç”Ÿå¤§é‡ç¢ç‰‡ ä¼˜å…ˆå›æ”¶åƒåœ¾æœ€å¤šçš„åŒºåŸŸ G1å°†å †ç©ºé—´åˆ’åˆ†æˆè‹¥å¹²ä¸ªç›¸åŒå¤§å°çš„åŒºåŸŸ ä¸åŒçš„åŒºåŸŸå­˜æ”¾ä¸åŒçš„å¯¹è±¡ å‡ ä¸ªé—®é¢˜ï¼š Regioné‡Œé¢å­˜åœ¨çš„è·¨Regionå¼•ç”¨å¯¹è±¡å¦‚ä½•è§£å†³ï¼Ÿé€šè¿‡è®°å¿†é›†è§£å†³ å¹¶å‘æ ‡è®°é˜¶æ®µå¦‚ä½•ä¿è¯æ”¶é›†çº¿ç¨‹ä¸ç”¨æˆ·çº¿ç¨‹äº’ä¸å¹²æ‰°åœ°è¿è¡Œï¼Ÿé€šè¿‡å¿«ç…§çš„æ–¹å¼ æ€æ ·å»ºç«‹èµ·å¯é çš„åœé¡¿é¢„æµ‹æ¨¡å‹ï¼Ÿé€šè¿‡æ”¶é›†ä¿¡æ¯æ¥å¾—åˆ°æœ€è¿‘ä¸€æ®µæ—¶é—´æ¥å¾—åˆ°ç»Ÿè®¡çŠ¶æ€ä»¥è¿›è¡Œåˆ†æï¼Œæ ¹æ®å›æ”¶ä»·å€¼æ’åºæ¥å¾—åˆ°å¯é¢„æµ‹çš„å›æ”¶æ—¶é—´ è¿‡ç¨‹: åˆå§‹æ ‡è®° STW æ ‡è®°GCæ ¹å¯è¾¾å¯¹è±¡ æ ¹åŒºåŸŸæ‰«æ ä»ä¸Šä¸€é˜¶æ®µæ ‡è®°çš„å­˜æ´»åŒºåŸŸæ‰«æè€å¹´ä»£å¯¹è±¡ å¹¶å‘æ ‡è®° å¯¹å †ä¸­å¯¹è±¡è¿›è¡Œå¯è¾¾æ€§åˆ†æï¼Œé€’å½’æ‰«ææ•´ä¸ªå †é‡Œçš„å¯¹è±¡å›¾ï¼Œæ‰¾å‡ºè¦å›æ”¶çš„å¯¹è±¡ æœ€ç»ˆæ ‡è®° STW å®Œæˆæœ€ç»ˆçš„æ ‡è®°å¤„ç† ç”¨äºå¤„ç†å¹¶å‘é˜¶æ®µç»“æŸåä»é—ç•™ä¸‹æ¥çš„æœ€åé‚£å°‘é‡çš„SATBè®°å½• æ¸…ç† STW ç»Ÿè®¡æ‰€æœ‰å­˜æ´»å¯¹è±¡ å¹¶å°†å›æ”¶åŒºåŸŸæ’åº ä¼˜å…ˆå›æ”¶åƒåœ¾æœ€å¤šçš„åŒºåŸŸ G1ä½¿ç”¨å»ºè®®ï¼š é¿å…è®¾ç½®å¹´è½»ä»£å¤§å° æš‚åœæ—¶é—´ä¸è¦å¤ªè‹›åˆ»(é»˜è®¤ä¸º200ms) é€šè¿‡JVMå‚æ•° -XX:+UseG1GC ä½¿ç”¨G1åƒåœ¾å›æ”¶å™¨ ä»G1å¼€å§‹ï¼Œæœ€å…ˆè¿›çš„åƒåœ¾æ”¶é›†å™¨çš„è®¾è®¡å¯¼å‘éƒ½ä¸çº¦è€ŒåŒåœ°å˜ä¸ºè¿½æ±‚èƒ½å¤Ÿåº”ä»˜åº”ç”¨çš„å†…å­˜åˆ†é…é€Ÿç‡ G1æ¯”CMSçš„å¼±é¡¹ï¼š G1çš„å¡è¡¨å®ç°æ›´ä¸ºå¤æ‚ï¼Œæ— è®ºæ‰®æ¼”çš„æ˜¯æ–°ç”Ÿä»£è¿˜æ˜¯è€å¹´ä»£è§’è‰²ï¼Œéƒ½å¿…é¡»æœ‰ä¸€ä»½å¡è¡¨ G1å¯¹å†™å±éšœçš„å¤æ‚æ“ä½œè¦æ¯”CMSæ¶ˆè€—æ›´å¤šçš„è¿ç®—èµ„æº Shenandoahæ”¶é›†å™¨ ç›®çš„æ˜¯æ¯æ¬¡åœé¡¿éƒ½åœ¨10mså†… ä½¿ç”¨äº†è¿æ¥çŸ©é˜µæ¥ç»´æŠ¤Regin ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼š è¿‡ç¨‹ï¼š åˆå§‹æ ‡è®° STW æ ‡è®°ä¸GC Rootsç›´æ¥å…³è”çš„å¯¹è±¡ åœé¡¿æ—¶é—´ä¸GC Rootsçš„æ•°é‡ç›¸å…³ å¹¶å‘æ ‡è®° éå†å¯¹è±¡å›¾ï¼Œæ ‡è®°å‡ºå…¨éƒ¨å¯è¾¾çš„å¯¹è±¡ æœ€ç»ˆæ ‡è®° STW å¤„ç†å¹¶å‘æ ‡è®°æ—¶äº§ç”Ÿçš„æ–°å…³ç³» å¹¶å‘å›æ”¶ æŠŠå›æ”¶é›†é‡Œé¢çš„å­˜æ´»å¯¹è±¡å…ˆå¤åˆ¶ä¸€ä»½åˆ°å…¶ä»–æœªè¢«ä½¿ç”¨çš„Regionä¹‹ä¸­ ä½¿ç”¨çš„è¯»å±éšœåŠè½¬å‘æŒ‡é’ˆå®ç° åˆå§‹å¼•ç”¨æ›´æ–° STW å¹¶å‘å›æ”¶é˜¶æ®µå¤åˆ¶å¯¹è±¡ç»“æŸåï¼Œè¿˜éœ€è¦æŠŠå †ä¸­æ‰€æœ‰æŒ‡ å‘æ—§å¯¹è±¡çš„å¼•ç”¨ä¿®æ­£åˆ°å¤åˆ¶åçš„æ–°åœ°å€ å¹¶å‘å¼•ç”¨æ›´æ–° æœ€ç»ˆå¼•ç”¨æ›´æ–° STW è§£å†³äº†å †ä¸­çš„å¼•ç”¨æ›´æ–°åï¼Œè¿˜è¦ä¿®æ­£å­˜åœ¨äºGC Roots ä¸­çš„å¼•ç”¨ å¹¶å‘æ¸…ç† è½¬å‘æŒ‡é’ˆ æœ‰ä¸¤ç‚¹é—®é¢˜éœ€è¦æ³¨æ„ï¼š å¹¶å‘æ›´æ–°é—®é¢˜ é€šè¿‡CASè§£å†³ å¢åŠ äº†ä¸€å±‚è½¬å‘è‚¯å®šä¼šå¸¦æ¥æ•ˆç‡çš„æŸå¤± ZGC ä¸€æ¬¾åŸºäºRegionå†…å­˜å¸ƒå±€çš„ï¼Œï¼ˆæš‚æ—¶ï¼‰ä¸è®¾åˆ†ä»£çš„ï¼Œä½¿ç”¨äº†è¯»å±éšœã€æŸ“è‰²æŒ‡é’ˆå’Œå†…å­˜å¤šé‡æ˜ å°„ç­‰æŠ€æœ¯æ¥å®ç°å¯å¹¶å‘çš„æ ‡è®°-æ•´ç†ç®—æ³•çš„ï¼Œä»¥ä½å»¶è¿Ÿä¸ºé¦–è¦ç›®æ ‡çš„ä¸€æ¬¾åƒåœ¾æ”¶é›†å™¨ ç›®çš„ä¹Ÿæ˜¯åœ¨ä»»æ„å †å†…å­˜å¤§å°ä¸‹éƒ½å¯ä»¥æŠŠåƒåœ¾æ”¶é›†çš„åœé¡¿æ—¶é—´é™åˆ¶åœ¨åæ¯«ç§’ä»¥å†…çš„ä½å»¶è¿Ÿ ä¼šå› ä¸ºGC Rootå¢å¤§è€Œå¢åŠ STWæ—¶é—´ ä¼šå°†å†…å­˜åˆ’åˆ†ä¸ºåŒºåŸŸå¤§ä¸åŒçš„åŒºåŸŸ å †å†…å­˜å¸ƒå±€ï¼š è¿‡ç¨‹ï¼š å¹¶å‘æ ‡è®° éå†å¯¹è±¡å›¾åšå¯è¾¾æ€§åˆ†æçš„é˜¶æ®µ å¹¶å‘é¢„å¤‡é‡åˆ†é… è¿™ä¸ªé˜¶æ®µéœ€è¦æ ¹æ®ç‰¹å®šçš„æŸ¥è¯¢æ¡ä»¶ç»Ÿè®¡å¾—å‡ºæœ¬æ¬¡æ”¶é›†è¿‡ç¨‹è¦æ¸…ç†å“ªäº›Regionï¼Œå°†è¿™äº›Regionç»„æˆé‡åˆ†é…é›† å¹¶å‘é‡åˆ†é… æŠŠé‡åˆ†é…é›†ä¸­çš„å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°æ–°çš„Regionä¸Šï¼Œå¹¶ä¸ºé‡åˆ†é…é›†ä¸­çš„æ¯ä¸ªRegionç»´æŠ¤ä¸€ä¸ªè½¬å‘è¡¨ï¼ˆForwardTableï¼‰ï¼Œè®°å½•ä»æ—§å¯¹è±¡åˆ°æ–°å¯¹è±¡çš„è½¬å‘å…³ç³» å¦‚æœç”¨æˆ·ä»£ç æ­¤æ—¶è®¿é—®äº†ä½äºé‡åˆ†é…é›†ä¸­çš„å¯¹è±¡ ä¼šè¿›è¡Œä¸€æ¬¡å¼•ç”¨ä¿®æ”¹ ä½¿å…¶æŒ‡å‘æ–°å¯¹è±¡ å¹¶å‘é‡æ˜ å°„ ä¿®æ­£æ•´ä¸ªå †ä¸­æŒ‡å‘é‡åˆ†é…é›†ä¸­æ—§å¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨ æŸ“è‰²æŒ‡é’ˆ å®ƒç›´æ¥æŠŠæ ‡è®°ä¿¡æ¯è®°åœ¨å¼•ç”¨å¯¹è±¡çš„æŒ‡é’ˆä¸Š ç”±äºåªæœ‰42ä½ä½œä¸ºå¯¹è±¡åœ°å€ æ‰€ä»¥ZGCæœ€é«˜èƒ½ç®¡ç†çš„å†…å­˜åªæœ‰4TB å¹¶ä¸”ä¸æ”¯æŒ32ä½å¹³å° ä¹Ÿä¸æ”¯æŒå‹ç¼©æŒ‡é’ˆ ä½†æ˜¯æŸ“è‰²æŒ‡é’ˆå¯ä»¥ä½¿å¾—ä¸€æ—¦æŸä¸ªRegionçš„å­˜æ´»å¯¹è±¡è¢«ç§»èµ°ä¹‹åï¼Œè¿™ä¸ªRegionç«‹å³å°±èƒ½å¤Ÿè¢«é‡Šæ”¾å’Œé‡ç”¨æ‰ï¼Œè€Œä¸å¿…ç­‰å¾…æ•´ä¸ªå †ä¸­æ‰€æœ‰æŒ‡å‘è¯¥Regionçš„å¼•ç”¨éƒ½è¢«ä¿®æ­£åæ‰èƒ½æ¸…ç† æŸ“è‰²æŒ‡é’ˆçš„æ“ä½œç³»ç»Ÿé—®é¢˜ï¼š é‡æ–°å®šä¹‰å†…å­˜ä¸­æŸäº›æŒ‡é’ˆçš„å…¶ä¸­å‡ ä½ï¼Œæ“ä½œç³»ç»Ÿæ˜¯å¦æ”¯æŒï¼Ÿå¤„ç†å™¨æ˜¯å¦æ”¯æŒï¼Ÿ Linux/x86-64å¹³å°ä¸Šçš„ZGCä½¿ç”¨äº†å¤šé‡æ˜ å°„ï¼ˆMulti-Mappingï¼‰å°†å¤šä¸ªä¸åŒçš„è™šæ‹Ÿå†…å­˜åœ°å€æ˜ å°„åˆ°åŒä¸€ä¸ªç‰©ç†å†…å­˜åœ°å€ä¸Š Epsilonæ”¶é›†å™¨ æ‰€è°“åƒåœ¾æ”¶é›†å™¨ å¹²çš„ä¸ä»…ä»…æ˜¯æ”¶é›†åƒåœ¾çš„æ´» å®ƒè¿˜è¦è´Ÿè´£å †çš„ç®¡ç†ä¸å¸ƒå±€ã€å¯¹è±¡çš„åˆ†é…ã€ä¸è§£é‡Šå™¨çš„åä½œã€ä¸ç¼–è¯‘å™¨çš„åä½œã€ä¸ç›‘æ§å­ç³»ç»Ÿåä½œç­‰èŒè´£ è¿™æ¬¾åƒåœ¾æ”¶é›†å™¨ä¸å¹²GCçš„æ´» å¯¹äºå¾®æœåŠ¡ ä½å†…å­˜ è¿è¡Œæ—¶é—´çŸ­çš„åº”ç”¨åŠæ—¶ä¸å›æ”¶åƒåœ¾ ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ GCæ—¥å¿—åˆ†æ ä¸€äº›å‚æ•°ï¼š çœ‹GCåŸºæœ¬ä¿¡æ¯ï¼Œåœ¨JDK 9ä¹‹å‰ä½¿ç”¨-XXï¼š+PrintGCï¼ŒJDK 9åä½¿ç”¨-Xlog:gc çœ‹GCè¯¦ç»†ä¿¡æ¯ï¼Œåœ¨JDK 9ä¹‹å‰ä½¿ç”¨-XXï¼š+PrintGCDetailsï¼Œåœ¨JDK 9ä¹‹åä½¿ç”¨-X-log:gc* æŸ¥çœ‹GCå‰åçš„å †ã€æ–¹æ³•åŒºå¯ç”¨å®¹é‡å˜åŒ–ï¼Œåœ¨JDK 9ä¹‹å‰ä½¿ç”¨-XXï¼š+PrintHeapAtGCï¼ŒJDK 9ä¹‹åä½¿ç”¨-Xlog:gc+heap=debug æŸ¥çœ‹GCè¿‡ç¨‹ä¸­ç”¨æˆ·çº¿ç¨‹å¹¶å‘æ—¶é—´ä»¥åŠåœé¡¿çš„æ—¶é—´ï¼Œåœ¨JDK 9ä¹‹å‰ä½¿ç”¨-XXï¼š+Print-GCApplicationConcurrentTimeä»¥åŠ-XX+PrintGCApplicationStoppedTimeï¼ŒJDK 9ä¹‹åä½¿ç”¨-Xlog:safepoint æŸ¥çœ‹æ”¶é›†å™¨Ergonomicsæœºåˆ¶ï¼ˆè‡ªåŠ¨è®¾ç½®å †ç©ºé—´å„åˆ†ä»£åŒºåŸŸå¤§å°ã€æ”¶é›†ç›®æ ‡ç­‰å†…å®¹ï¼Œä»Parallelæ”¶é›†å™¨å¼€å§‹æ”¯æŒï¼‰è‡ªåŠ¨è°ƒèŠ‚çš„ç›¸å…³ä¿¡æ¯ã€‚åœ¨JDK 9ä¹‹å‰ä½¿ç”¨-XXï¼š+PrintAdaptive-SizePolicyï¼ŒJDK 9ä¹‹åä½¿ç”¨-Xlogï¼šgc+ergo*=trace æŸ¥çœ‹ç†¬è¿‡æ”¶é›†åå‰©ä½™å¯¹è±¡çš„å¹´é¾„åˆ†å¸ƒä¿¡æ¯ï¼Œåœ¨JDK 9å‰ä½¿ç”¨-XXï¼š+PrintTenuring-Distributionï¼ŒJDK 9ä¹‹åä½¿ç”¨-Xlogï¼šgc+age=trace å¯è§†åŒ–GCæ—¥å¿—åˆ†æå·¥å…· gceasy MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-23 06:15:18 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/å·¥å…·.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/å·¥å…·.html","title":"å·¥å…·","keywords":"","body":"å·¥å…· å•†ä¸šæˆæƒå·¥å…· æ­£å¼æ”¯æŒå·¥å…· å®éªŒæ€§å·¥å…· æ•…éšœå¤„ç† jpsï¼šè¾“å‡ºæ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœºè¿›ç¨‹ -q åªè¾“å‡ºLVMID çœç•¥ä¸»ç±»çš„åç§° -m è¾“å‡ºè™šæ‹Ÿæœºè¿›ç¨‹å¯åŠ¨æ—¶ä¼ é€’ç»™ä¸»ç±»mainå‡½æ•°çš„å‚æ•° -l è¾“å‡ºä¸»ç±»çš„å…¨å å¦‚æœæ‰§è¡Œçš„jaråŒ… åˆ™è¾“å‡ºjarè·¯å¾„ -v è¾“å‡ºè™šæ‹Ÿæœºè¿›ç¨‹å¯åŠ¨æ—¶çš„JVMå‚æ•° jstatï¼šç”¨äºç›‘è§†è™šæ‹Ÿæœºå„ç§è¿è¡ŒçŠ¶æ€ä¿¡æ¯çš„å‘½ä»¤è¡Œå·¥å…· jstat -gcutil 39920 jinfo: å®æ—¶æŸ¥çœ‹å’Œè°ƒæ•´è™šæ‹Ÿæœºå„é¡¹å‚æ•° jmap: è·å–å †è½¬å‚¨å¿«ç…§ï¼Œå®ƒè¿˜å¯ä»¥æŸ¥è¯¢finalizeæ‰§è¡Œé˜Ÿåˆ—ã€Javaå †å’Œæ–¹æ³•åŒºçš„è¯¦ç»†ä¿¡æ¯ç­‰ jmap -histo 39920 jhat: åˆ†æjmapç”Ÿæˆçš„å †è½¬å‚¨å¿«ç…§ æ²¡æœ‰å¤ªå¤§å¿…è¦ä½¿ç”¨ jstackï¼šç”¨äºç”Ÿæˆè™šæ‹Ÿæœºå½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§ï¼ˆä¸€èˆ¬ç§°ä¸ºthreaddumpæˆ–è€…javacoreæ–‡ä»¶ï¼‰ æ€»ç»“ åç§° ä¸»è¦ä½œç”¨ appletviewer åœ¨ä¸ä½¿ç”¨Webæµè§ˆå™¨çš„æƒ…å†µä¸‹è¿è¡Œå’Œè°ƒè¯•Appletï¼ŒJDK11ä¸­è¢«ç§»é™¤ extcheck æ£€æŸ¥JARå†²çªçš„å·¥å…·ï¼Œä»JDK9ä¸­è¢«ç§»é™¤ jar åˆ›å»ºå’Œç®¡ç†JARæ–‡ä»¶ java Javaè¿è¡Œå·¥å…·ï¼Œç”¨äºè¿è¡ŒClassæ–‡ä»¶æˆ–JAR æ–‡ä»¶ javac ç”¨äºJavaç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨ javadoc Javaçš„APIæ–‡æ¡£ç”Ÿæˆå™¨ javah Cè¯­è¨€å¤´æ–‡ä»¶å’Œ Stubå‡½æ•°ç”Ÿæˆå™¨ï¼Œç”¨äºç¼–å†™JNIæ–¹æ³• javap Javaå­—èŠ‚ç åˆ†æå·¥å…· jlink å°† Moduleå’Œå®ƒçš„ä¾èµ–æ‰“åŒ…æˆä¸€ä¸ªè¿è¡Œæ—¶é•œåƒæ–‡ä»¶ jdb åŸºäºJPDAåè®®çš„è°ƒè¯•å™¨ï¼Œä»¥ç±»ä¼¼äºGDBçš„æ–¹å¼è¿›è¡Œè°ƒè¯•Javaä»£ç  jdeps Javaç±»ä¾èµ–æ€§åˆ†æå™¨ jdeprscan ç”¨äºæœç´¢JARåŒ…ä¸­ä½¿ç”¨äº†\"deprecated\"çš„ç±»ï¼Œä»JDK 9å¼€å§‹æä¾› keytool ç®¡ç†å¯†é’¥åº“å’Œè¯ä¹¦ã€‚ä¸»è¦ç”¨äºè·å–æˆ–ç¼“å­˜Kerberos åè®®çš„ç¥¨æ®æˆæƒç¥¨æ®ã€‚å…è®¸ç”¨æˆ·æŸ¥çœ‹æœ¬åœ°å‡­æ®ç¼“å­˜å’Œå¯†é’¥è¡¨ä¸­çš„æ¡ç›®ï¼ˆç”¨äºKerberosåè®®ï¼‰ jarsigner ç”Ÿæˆå¹¶éªŒè¯JARç­¾å policytool ç®¡ç†ç­–ç•¥æ–‡ä»¶çš„GUIå·¥å…·ï¼Œç”¨äºç®¡ç†ç”¨æˆ·ç­–ç•¥æ–‡ä»¶(java.policy)ï¼Œåœ¨JDK10ä¸­è¢«ç§»é™¤ å›½é™…åŒ–å·¥å…· - native2ascii æœ¬åœ°ç¼–ç åˆ°ASCIIç¼–ç çš„è½¬æ¢å™¨(Native-to-ASCII Converter)ï¼Œç”¨äº\"ä»»æ„å—æ”¯æŒçš„å­—ç¬¦ç¼–ç \"å’Œä¸ä¹‹å¯¹åº”çš„\"ASCIIç¼–ç å’Œ Unicodeè½¬ä¹‰\"ä¹‹é—´çš„ç›¸äº’è½¬æ¢ è¿œç¨‹æ–¹æ³•è°ƒç”¨å·¥å…· - rmic Java RMIç¼–è¯‘å™¨ï¼Œä¸ºä½¿ç”¨JRMPæˆ–IIOPåè®®çš„è¿œç¨‹å¯¹è±¡ç”ŸæˆStubã€Skeletonå’ŒTieç±»ï¼Œä¹Ÿç”¨äºç”ŸæˆOMG IDL rmiregistry è¿œç¨‹å¯¹è±¡æ³¨å†Œè¡¨æœåŠ¡ï¼Œç”¨äºåœ¨å½“å‰ä¸»æœºçš„æŒ‡å®šç«¯å£ä¸Šåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªè¿œç¨‹å¯¹è±¡æ³¨å†Œè¡¨ rmid å¯åŠ¨æ¿€æ´»ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹ï¼Œå…è®¸åœ¨è™šæ‹Ÿæœºä¸­æ³¨å†Œæˆ–æ¿€æ´»å¯¹è±¡ serialver ç”Ÿæˆå¹¶è¿”å›æŒ‡å®šç±»çš„åºåˆ—åŒ–ç‰ˆæœ¬ID tnameserv æä¾›å¯¹å‘½åæœåŠ¡çš„è®¿é—® idlj IDLè½¬Javaç¼–è¯‘å™¨ï¼ˆIDL-to-Java Compiler)ï¼Œç”Ÿæˆæ˜ å°„OMG IDL æ¥å£çš„Javaæºæ–‡ä»¶ï¼Œå¹¶å¯ç”¨ä»¥Javaç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ä½¿ç”¨CORBAåŠŸèƒ½çš„åº”ç”¨ç¨‹åºçš„Javaæºæ–‡ä»¶ã€‚IDLæ„å³æ¥å£å®šä¹‰è¯­è¨€(Interface Definition Language) orbd å¯¹è±¡è¯·æ±‚ä»£ç†å®ˆæŠ¤è¿›ç¨‹ï¼ˆObject Request Broker Daemon)ï¼Œæä¾›ä»å®¢æˆ·ç«¯æŸ¥æ‰¾å’Œè°ƒç”¨CORBAç¯å¢ƒæœåŠ¡ç«¯ä¸Šçš„æŒä¹…åŒ–å¯¹è±¡çš„åŠŸèƒ½ã€‚ä½¿ç”¨ORBDä»£æ›¿ç¬æ€å‘½åæœåŠ¡tnameservã€‚ORBDåŒ…æ‹¬ç¬æ€å‘½åæœåŠ¡å’ŒæŒä¹…å‘½åæœåŠ¡ã€‚ORBDå·¥å…·é›†æˆäº†æœåŠ¡å™¨ç®¡ç†å™¨ã€äº’æ“ä½œå‘½åæœåŠ¡å’Œå¼•å¯¼åç§°æœåŠ¡å™¨çš„åŠŸèƒ½ã€‚å½“å®¢æˆ·ç«¯æƒ³è¿›è¡ŒæœåŠ¡å™¨æ—¶å®šä½ã€æ³¨å†Œå’Œæ¿€æ´»åŠŸèƒ½æ—¶ï¼Œå¯ä»¥ä¸servertoolä¸€èµ·ä½¿ç”¨ servertool ä¸ºåº”ç”¨ç¨‹åºæ³¨å†Œã€æ³¨é”€ã€å¯åŠ¨å’Œå…³é—­æœåŠ¡å™¨æä¾›æ˜“ç”¨çš„æ¥å£ éƒ¨ç½²å·¥å…· - javapackager æ‰“åŒ…ã€ç­¾åJavaå’ŒJavaFXåº”ç”¨ç¨‹åºï¼Œåœ¨JDK11ä¸­è¢«ç§»é™¤ pack200 ä½¿ç”¨Java GZIPå‹ç¼©å™¨å°†JARæ–‡ä»¶è½¬æ¢ä¸ºå‹ç¼©çš„Pack200æ–‡ä»¶ã€‚å‹ç¼©çš„å‹ç¼©æ–‡ä»¶æ˜¯é«˜åº¦å‹ç¼©çš„JARï¼Œå¯ä»¥ç›´æ¥éƒ¨ç½²ï¼ŒèŠ‚çœå¸¦å®½å¹¶å‡å°‘ä¸‹è½½æ—¶é—´ unpack200 å°†Pack200ç”Ÿæˆçš„æ‰“åŒ…æ–‡ä»¶è§£å‹æå–ä¸ºJARæ–‡ä»¶ Java Web Start - javaws å¯åŠ¨Java Web Startå¹¶è®¾ç½®å„ç§é€‰é¡¹çš„å·¥å…·ã€‚åœ¨JDK11ä¸­è¢«ç§»é™¤ æ€§èƒ½ç›‘æ§å’Œæ•…éšœå¤„ç† - jps JVM Process Status Toolï¼Œæ˜¾ç¤ºæŒ‡å®šç³»ç»Ÿå†…æ‰€æœ‰çš„HotSpotè™šæ‹Ÿæœºè¿›ç¨‹ jstat JVM Statistics Monitoring Toolï¼Œç”¨äºæ”¶é›†Hotspotè™šæ‹Ÿæœºå„æ–¹é¢çš„è¿è¡Œæ•°æ® jstatd JVM Statistics Monitoring Tool Daemonï¼Œjstatçš„å®ˆæŠ¤ç¨‹åºï¼Œå¯åŠ¨ä¸€ä¸ªRMIæœåŠ¡å™¨åº”ç”¨ç¨‹åºï¼Œç”¨äºç›‘è§†æµ‹è¯•çš„HotSpotè™šæ‹Ÿæœºçš„åˆ›å»ºå’Œç»ˆæ­¢ï¼Œå¹¶æä¾›ä¸€ä¸ªç•Œé¢ï¼Œå…è®¸è¿œç¨‹ç›‘æ§å·¥å…·é™„åŠ åˆ°åœ¨æœ¬åœ°ç³»ç»Ÿä¸Šè¿è¡Œçš„è™šæ‹Ÿæœºã€‚åœ¨JDK 9ä¸­é›†æˆåˆ°äº†JHSDB ä¸­ jinfo Configuration Info for Javaï¼Œæ˜¾ç¤ºè™šæ‹Ÿæœºé…ç½®ä¿¡æ¯ã€‚åœ¨JDK9ä¸­é›†æˆåˆ°äº†JHSDBä¸­ jmap Mcmory Map for Javaï¼Œç”Ÿæˆè™šæ‹Ÿæœºçš„å†…å­˜è½¬å‚¨å¿«ç…§(heapdumpæ–‡ä»¶)ã€‚åœ¨JDK9ä¸­é›†æˆåˆ°äº†JHSDBä¸­ jhat JVM Heap Analysis Toolï¼Œç”¨äºåˆ†æå †è½¬å‚¨å¿«ç…§ï¼Œå®ƒä¼šå»ºç«‹ä¸€ä¸ªHTTP/WebæœåŠ¡å™¨ï¼Œè®©ç”¨æˆ·å¯ä»¥åœ¨æµè§ˆå™¨ä¸ŠæŸ¥çœ‹åˆ†æç»“æœã€‚åœ¨JDK9ä¸­è¢«JHSDBä»£æ›¿ jstack Stack Trace for Javaï¼Œæ˜¾ç¤ºè™šæ‹Ÿæœºçš„çº¿ç¨‹å¿«ç…§ã€‚åœ¨JDK9ä¸­é›†æˆåˆ°äº†JHSDBä¸­ jhsdb Java HotSpot Debuggerï¼Œä¸€ä¸ªåŸºäºServiceability Agentçš„HotSpotè¿›ç¨‹è°ƒè¯•å™¨ï¼Œä»JDK9å¼€å§‹æä¾› jsadebugd Java Serviceability Agent Debug Dacmonï¼Œé€‚ç”¨äºJavaçš„å¯ç»´æŠ¤æ€§ä»£ç†è°ƒè¯•å®ˆæŠ¤ç¨‹åºï¼Œä¸»è¦ç”¨äºé™„åŠ åˆ°æŒ‡å®šçš„Javaè¿›ç¨‹ã€æ ¸å¿ƒæ–‡ä»¶ï¼Œæˆ–å……å½“ä¸€ä¸ªè°ƒè¯•æœåŠ¡å™¨ jcmd JVM Commandï¼Œè™šæ‹Ÿæœºè¯Šæ–­å‘½ä»¤å·¥å…·ï¼Œå°†è¯Šæ–­å‘½ä»¤è¯·æ±‚å‘é€åˆ°æ­£åœ¨è¿è¡Œçš„Javaè™šæ‹Ÿæœºã€‚ä»JDK7å¼€å§‹æä¾› jconsole Java Consoleï¼Œç”¨äºç›‘æ§Javaè™šæ‹Ÿæœºçš„ä½¿ç”¨JMXè§„èŒƒçš„å›¾å½¢å·¥å…·ã€‚å®ƒå¯ä»¥ç›‘æ§æœ¬åœ°å’Œè¿œç¨‹Javaè™šæ‹Ÿæœºï¼Œè¿˜å¯ä»¥ç›‘æ§å’Œç®¡ç†åº”ç”¨ç¨‹åº jmc Java Mission Controlï¼ŒåŒ…å«ç”¨äºç›‘æ§å’Œç®¡ç†Javaåº”ç”¨ç¨‹åºçš„å·¥å…·ï¼Œè€Œä¸ä¼šå¼•å…¥ä¸è¿™äº›å·¥å…·ç›¸å…³è”çš„æ€§èƒ½å¼€é”€ã€‚å¼€å‘è€…å¯ä»¥ä½¿ç”¨jmcå‘½ä»¤æ¥åˆ›å»ºJMCå·¥å…·ï¼Œä»JDK 7 Update 40å¼€å§‹é›†æˆåˆ°OracleJDK ä¸­ jvisualvm Java VisualVMï¼Œä¸€ç§å›¾å½¢åŒ–å·¥å…·ï¼Œå¯åœ¨Javaè™šæ‹Ÿæœºä¸­è¿è¡Œæ—¶æä¾›æœ‰å…³åŸºäºJavaæŠ€æœ¯çš„åº”ç”¨ç¨‹åº(Javaåº”ç”¨ç¨‹åºï¼‰çš„è¯¦ç»†ä¿¡æ¯ã€‚Java VisualVMæä¾›å†…å­˜å’ŒCPUåˆ†æã€å †è½¬å‚¨åˆ†æã€å†…å­˜æ³„æ¼æ£€æµ‹ã€MBcanè®¿é—®å’Œåƒåœ¾æ”¶é›†ã€‚ä»JDK6 Update7å¼€å§‹æä¾›;ä»JDK9å¼€å§‹ä¸å†æ‰“åŒ…å…¥JDKä¸­ï¼Œä½†ä»ä¿æŒæ›´æ–°å‘å±•ï¼Œå¯ä»¥ç‹¬ç«‹ä¸‹è½½ schemagen ç”¨äº XML ç»‘å®šçš„Schemaç”Ÿæˆå™¨ï¼Œç”¨äºç”ŸæˆXML Schemaæ–‡ä»¶ wsgen XML Web Service 2.0çš„Java APIï¼Œç”Ÿæˆç”¨äºJAX-WS Web Serviceçš„JAX-WSä¾¿æºå¼äº§ç‰© wsimport XML Web Service 2.0çš„Java APIï¼Œä¸»è¦ç”¨äºæ ¹æ®æœåŠ¡ç«¯å‘å¸ƒçš„WSDLæ–‡ä»¶ç”Ÿæˆå®¢æˆ·ç«¯ xjc ä¸»è¦ç”¨äºæ ¹æ®XML Schema æ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„Javaç±» REPLå’Œè„šæœ¬å·¥å…· - jshell åŸºäºJavaçš„ Shell REPL (Read-Eval-Print Loopï¼‰äº¤äº’å·¥å…· ijs å¯¹Nashornå¼•æ“çš„è°ƒç”¨å…¥å£ã€‚Nashornæ˜¯åŸºäºJavaå®ç°çš„ä¸€ä¸ªè½»é‡çº§é«˜æ€§èƒ½JavaScriptè¿è¡Œç¯å¢ƒ jrunscript Javaå‘½ä»¤è¡Œè„šæœ¬å¤–å£³å·¥å…·ï¼ˆCommand Line Script Shell)ï¼Œä¸»è¦ç”¨äºè§£é‡Šæ‰§è¡ŒJavaScriptã€Groovy,Ruby ç­‰è„šæœ¬è¯­è¨€ å¯è§†åŒ–å·¥å…· jhsdb jconsole VisualVM jmc MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-23 06:15:18 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/è°ƒä¼˜.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/è°ƒä¼˜.html","title":"è°ƒä¼˜","keywords":"","body":"è°ƒä¼˜ è°ƒä¼˜æ–¹å‘ï¼š ååé‡ ç”¨æˆ·ä»£ç æ—¶é—´ /ï¼ˆç”¨æˆ·ä»£ç æ‰§è¡Œæ—¶é—´ + åƒåœ¾å›æ”¶æ—¶é—´ï¼‰ ã€PS+POã€‘ å“åº”æ—¶é—´ STWè¶ŠçŸ­ï¼Œå“åº”æ—¶é—´è¶Šå¥½ ã€CMS G1 ZGCã€‘ è§„åˆ’ä¸é¢„è°ƒä¼˜ è°ƒä¼˜ï¼Œä»ä¸šåŠ¡åœºæ™¯å¼€å§‹ï¼Œæ²¡æœ‰ä¸šåŠ¡åœºæ™¯çš„è°ƒä¼˜éƒ½æ˜¯è€æµæ°“ æ— ç›‘æ§ï¼ˆå‹åŠ›æµ‹è¯•ï¼Œèƒ½çœ‹åˆ°ç»“æœï¼‰ï¼Œä¸è°ƒä¼˜ æ­¥éª¤ï¼š ç†Ÿæ‚‰ä¸šåŠ¡åœºæ™¯ï¼ˆæ²¡æœ‰æœ€å¥½çš„åƒåœ¾å›æ”¶å™¨ï¼Œåªæœ‰æœ€åˆé€‚çš„åƒåœ¾å›æ”¶å™¨ï¼‰ å“åº”æ—¶é—´ã€åœé¡¿æ—¶é—´ [CMS G1 ZGC] ï¼ˆéœ€è¦ç»™ç”¨æˆ·ä½œå“åº”ï¼‰ ååé‡ = ç”¨æˆ·æ—¶é—´ /( ç”¨æˆ·æ—¶é—´ + GCæ—¶é—´) [PS+PO] é€‰æ‹©å›æ”¶å™¨ç»„åˆ è®¡ç®—å†…å­˜éœ€æ±‚ï¼ˆç»éªŒå€¼ 1.5G 16Gï¼‰ é€‰å®šCPUï¼ˆè¶Šé«˜è¶Šå¥½ï¼‰ è®¾å®šå¹´ä»£å¤§å°ã€å‡çº§å¹´é¾„ è®¾å®šæ—¥å¿—å‚æ•° -Xloggc:/opt/xxx/logs/xxx-xxx-gc-%t.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=20M -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCCause æˆ–è€…æ¯å¤©äº§ç”Ÿä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ è§‚å¯Ÿæ—¥å¿—æƒ…å†µ ä¼˜åŒ–è¿è¡Œç¯å¢ƒ ç³»ç»ŸCPUç»å¸¸100%ï¼Œå¦‚ä½•è°ƒä¼˜ï¼Ÿ(é¢è¯•é«˜é¢‘) CPU100%é‚£ä¹ˆä¸€å®šæœ‰çº¿ç¨‹åœ¨å ç”¨ç³»ç»Ÿèµ„æºï¼Œ æ‰¾å‡ºå“ªä¸ªè¿›ç¨‹cpué«˜ï¼ˆtopï¼‰ è¯¥è¿›ç¨‹ä¸­çš„å“ªä¸ªçº¿ç¨‹cpué«˜ï¼ˆtop -Hpï¼‰ å¯¼å‡ºè¯¥çº¿ç¨‹çš„å †æ ˆ (jstack) æŸ¥æ‰¾å“ªä¸ªæ–¹æ³•ï¼ˆæ ˆå¸§ï¼‰æ¶ˆè€—æ—¶é—´ (jstack) å·¥ä½œçº¿ç¨‹å æ¯”é«˜ | åƒåœ¾å›æ”¶çº¿ç¨‹å æ¯”é«˜ ç³»ç»Ÿå†…å­˜é£™é«˜ï¼Œå¦‚ä½•æŸ¥æ‰¾é—®é¢˜ï¼Ÿï¼ˆé¢è¯•é«˜é¢‘ï¼‰ å¯¼å‡ºå †å†…å­˜ (jmap) åˆ†æ (jhat jvisualvm mat jprofiler ... ) å¦‚ä½•ç›‘æ§JVM jstat jvisualvm jprofiler arthas top... æ¡ˆä¾‹åˆ†æ å¤§å†…å­˜ç¡¬ä»¶çš„éƒ¨ç½²ç­–ç•¥ ä¸€ä¸ªå•ç‹¬çš„JVMæ¥ç®¡ç†å¤§é‡çš„å †å†…å­˜ å¯¹äºç”¨æˆ·äº¤äº’æ€§å¼ºã€å¯¹åœé¡¿æ—¶é—´æ•æ„Ÿã€å†…å­˜åˆè¾ƒå¤§çš„ç³»ç»Ÿï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸€äº›ä»¥å»¶è¿Ÿä¸ºç›®æ ‡çš„åƒåœ¾æ”¶é›†å™¨ï¼ˆå¦‚ZGCï¼‰æ¥è§£å†³é—®é¢˜ ä½¿ç”¨è¿™ç§æ–¹å¼æœ‰å¦‚ä¸‹ç¼ºç‚¹ï¼š å¤§å†…å­˜å¿…é¡»æ˜¯64ä½JVM ç›¸åŒçš„ç¨‹åº64ä½JVMæ¶ˆè€—çš„å†…å­˜æ¯”32ä½çš„å¤š ä¸€æ—¦å‘ç”ŸOOMï¼Œå¤§å†…å­˜è½¬å‚¨ä¹Ÿå¾ˆéº»çƒ¦ å»ºç«‹è‹¥å¹²ä¸ªJVM é€šè¿‡é›†ç¾¤çš„æ–¹å¼æ¥åˆ©ç”¨ç¡¬ä»¶èµ„æº è¿™ç§æ–¹å¼é€šè¿‡è´Ÿè½½å‡è¡¡çš„æ–¹å¼æ¥è¾¾åˆ°å†…å­˜èµ„æºçš„å……åˆ†åˆ©ç”¨ï¼Œé¿å…äº†ä¸Šé¢çš„ä¸€äº›é—®é¢˜çš„åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸‹é¢çš„é—®é¢˜ï¼š 32ä½çš„çš„å†…å­˜é™åˆ¶ å¯¹äºä¸€äº›æœ¬åœ°èµ„æºï¼Œå¦‚è¿æ¥æ± æˆ–è€…ç¼“å­˜ï¼Œè¿™äº›èµ„æºå¯èƒ½ä¼šç”±äºçƒ­ç‚¹åŸå› å€¾æ–œï¼Œé€ æˆèµ„æºåˆ†é…ä¸å‡ é›†ç¾¤åŒæ­¥çš„å†…å­˜æº¢å‡ºé—®é¢˜ å¯¹äºä¸€äº›é›†ç¾¤ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œåŒæ­¥æ•°æ®ï¼Œå¦‚æœåŒæ­¥çš„æ•°æ®äº§ç”Ÿçš„é€Ÿåº¦å¤§äºç½‘ç»œé€Ÿç‡ï¼Œåˆ™å¤§é‡æ•°æ®åœ¨å†…å­˜é‡Œå †ç§¯ï¼Œå°±ä¼šå‘ç”Ÿæº¢å‡ºçš„é—®é¢˜ ç›´æ¥å†…å­˜æº¢å‡º JVMå¯¹ç›´æ¥å†…å­˜çš„å›æ”¶ä¸èƒ½åƒæ–°ç”Ÿä»£ã€è€å¹´ä»£é‚£æ ·ï¼Œå‘ç°ç©ºé—´ä¸è¶³äº†å°±ä¸»åŠ¨é€šçŸ¥æ”¶é›†å™¨è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå®ƒåªèƒ½ç­‰å¾…è€å¹´ä»£æ»¡åFull GCå‡ºç°åï¼Œâ€œé¡ºä¾¿â€å¸®å®ƒæ¸…ç†æ‰å†…å­˜çš„åºŸå¼ƒå¯¹è±¡ æ­¤æ—¶å¦‚æœç¨‹åºç”¨å®Œäº†ç›´æ¥å†…å­˜ï¼Œåªèƒ½çœ¼çççœ‹ç€å †ä¸­è¿˜æœ‰è®¸å¤šç©ºé—²å†…å­˜ï¼Œè‡ªå·±å´ä¸å¾—ä¸æŠ›å‡ºå†…å­˜æº¢å‡ºå¼‚å¸¸äº† å¤–éƒ¨å‘½ä»¤å¯¼è‡´ç³»ç»Ÿç¼“æ…¢ ä¸€äº›ç³»ç»Ÿè°ƒç”¨å¯¹äºJVMæ¥è¯´æ˜¯ååˆ†é‡çš„ï¼Œå¦‚æœé¢‘ç¹è°ƒç”¨ï¼Œç³»ç»Ÿèµ„æºçš„æ¶ˆè€—å¿…å®šå¾ˆå¤§ ä¸åˆé€‚çš„æ•°æ®ç»“æ„ å¦‚æœæ•°æ®å¾ˆå¤§ï¼Œä¸é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œç©ºé—´åˆ©ç”¨æ•ˆç‡ä¸é«˜ï¼Œå°±ä¼šè®©åŸæœ¬ä¸å¯Œè£•çš„å†…å­˜æ›´åŠ é›ªä¸ŠåŠ éœœ Windowsè™šæ‹Ÿå†…å­˜å¯¼è‡´çš„åœé¡¿ https://hllvm-group.iteye.com/group/topic/28745 è¯¥æ¡ˆä¾‹ç»™å‡ºäº†ä¸€ä¸ªç”±äºç¨‹åºæœ€å°åŒ–working setä¼šè¢«trimçš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å†…å­˜è¢«äº¤æ¢åˆ°äº†ç¡¬ç›˜ä¸­ï¼Œæ­¤æ—¶å‘ç”ŸGCçš„æ—¶å€™éœ€è¦èŠ±è´¹å¾ˆé•¿æ—¶é—´å°†å†…å­˜æ•°æ®å†äº¤æ¢åˆ°å†…å­˜ä¸­ï¼Œè¿™å°±å¯¼è‡´äº†æ˜æ˜å †å†…å­˜å¾ˆå°ï¼ŒGCæ—¶é—´å´éå¸¸é•¿ å®‰å…¨ç‚¹å¯¼è‡´çš„é•¿æ—¶é—´åœé¡¿ https://juejin.im/post/5d1b1fc46fb9a07ef7108d82 è¯¥æ¡ˆä¾‹ç»™å‡ºäº†ä¸€ä¸ªç”±äºéƒ¨åˆ†çº¿ç¨‹æ‰§è¡Œåˆ°å®‰å…¨ç‚¹éå¸¸æ…¢ä»è€Œå¯¼è‡´æ‹–æ…¢æ•´ä¸ªç”¨æˆ·çº¿ç¨‹åœé¡¿æ—¶é—´ æ–¹æ³•è°ƒç”¨ã€å¾ªç¯è·³è½¬ã€å¼‚å¸¸è·³è½¬è¿™äº›ä½ç½®éƒ½å¯èƒ½ä¼šè®¾ç½®æœ‰å®‰å…¨ç‚¹ï¼Œä½†æ˜¯HotSpotè™šæ‹Ÿæœºä¸ºäº†é¿å…å®‰å…¨ç‚¹è¿‡å¤šå¸¦æ¥è¿‡é‡çš„è´Ÿæ‹…ï¼Œå¯¹å¾ªç¯è¿˜æœ‰ä¸€é¡¹ä¼˜åŒ–æªæ–½ï¼Œè®¤ä¸ºå¾ªç¯æ¬¡æ•°è¾ƒå°‘çš„è¯ï¼Œæ‰§è¡Œæ—¶é—´åº”è¯¥ä¹Ÿä¸ä¼šå¤ªé•¿ï¼Œæ‰€ä»¥ä½¿ç”¨intç±»å‹æˆ–èŒƒå›´æ›´å°çš„æ•°æ®ç±»å‹ä½œä¸ºç´¢å¼•å€¼çš„å¾ªç¯é»˜è®¤æ˜¯ä¸ä¼šè¢«æ”¾ç½®å®‰å…¨ç‚¹çš„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-23 06:15:18 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/å­—èŠ‚ç .html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/å­—èŠ‚ç .html","title":"å­—èŠ‚ç ","keywords":"","body":"å­—èŠ‚ç  è™šæ‹Ÿæœºå®ç°çš„æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š å°†è¾“å…¥çš„Javaè™šæ‹Ÿæœºä»£ç åœ¨åŠ è½½æ—¶æˆ–æ‰§è¡Œæ—¶ç¿»è¯‘æˆå¦ä¸€ç§è™šæ‹Ÿæœºçš„æŒ‡ä»¤é›†ï¼› å°†è¾“å…¥çš„Javaè™šæ‹Ÿæœºä»£ç åœ¨åŠ è½½æ—¶æˆ–æ‰§è¡Œæ—¶ç¿»è¯‘æˆå®¿ä¸»æœºå¤„ç†ç¨‹åºçš„æœ¬åœ°æŒ‡ä»¤é›†ï¼ˆå³å³æ—¶ç¼–è¯‘å™¨ä»£ç ç”ŸæˆæŠ€æœ¯ï¼‰ã€‚ Class æ–‡ä»¶ JVMæ‰€æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè·¨å¹³å°çš„åŸºç¡€ æ»¡è¶³è¿™ç§è§„èŒƒçš„classæ–‡ä»¶éƒ½ä¼šè¢«JVMåŠ è½½è¿è¡Œ å¯ä»¥ç”±å…¶ä»–è¯­è¨€ç¼–è¯‘ç”Ÿæˆ ä¸åŒç‰ˆæœ¬çš„JDKç”Ÿæˆçš„ç±»æ–‡ä»¶ç•¥æœ‰ä¸åŒ æ„æˆ ç±»å‹ åç§° æ•°é‡ u4 magic 1 u2 minor_version 1 u2 major_version 1 u2 constant_pool_count 1 cp_info constant_pool constant_pool_count-1 u2 access_flags 1 u2 this_class 1 u2 super_class 1 u2 interfaces_count 1 u2 interfaces interfaces_count u2 fields_count 1 field_info fields fields_count u2 methods_count 1 method_info methods methods_count u2 attributes_count 1 attribute_info attributes attributes_count Class æ–‡ä»¶ä¸­çš„æ‰€æœ‰å­—èŠ‚å­˜å‚¨éƒ½æ˜¯ä½¿ç”¨å¤§ç«¯åº Classæ–‡ä»¶æ ¼å¼é‡‡ç”¨ä¸€ç§ç±»ä¼¼äºCè¯­è¨€ç»“æ„ä½“çš„ä¼ªç»“æ„æ¥å­˜å‚¨æ•°æ®ï¼Œè¿™ç§ä¼ªç»“æ„ä¸­åªæœ‰ä¸¤ç§æ•°æ®ç±»å‹ï¼š æ— ç¬¦å·æ•°ï¼šä»¥u1ã€u2ã€u4ã€u8æ¥åˆ†åˆ«ä»£è¡¨1ä¸ªå­—èŠ‚ã€2ä¸ªå­—èŠ‚ã€4ä¸ªå­—èŠ‚å’Œ8ä¸ªå­—èŠ‚çš„æ— ç¬¦å·æ•° ä»¥ç”¨æ¥æè¿°æ•°å­—ã€ç´¢å¼•å¼•ç”¨ã€æ•°é‡å€¼æˆ–è€…æŒ‰ç…§UTF-8ç¼–ç æ„æˆå­—ç¬¦ä¸²å€¼ è¡¨ï¼šç”±å¤šä¸ªæ— ç¬¦å·æ•°æˆ–è€…å…¶ä»–è¡¨ä½œä¸ºæ•°æ®é¡¹æ„æˆçš„å¤åˆæ•°æ®ç±»å‹ åç¼–è¯‘ï¼š javap -v classname é­”æ•°ä¸ Class æ–‡ä»¶ç‰ˆæœ¬ å‰4ä¸ªå­—èŠ‚ä¸ºé­”æ•°ï¼Œåå…­è¿›åˆ¶è¡¨ç¤ºä¸º0xCAFEBABEï¼Œæ ‡è¯†è¯¥æ–‡ä»¶ä¸ºclassæ–‡ä»¶ ç¬¬5ã€6å­—èŠ‚è¡¨ç¤ºæ¬¡ç‰ˆæœ¬å·ï¼ˆå°æ›´æ–°ï¼‰ ç¬¬7å’Œç¬¬8ä¸ªå­—èŠ‚æ˜¯ä¸»ç‰ˆæœ¬å·ï¼ˆä»45å¼€å§‹ï¼Œä¸€ä¸ªå¤§ç‰ˆæœ¬åŠ 1ï¼‰ å¸¸é‡æ±  å¸¸é‡æ± çš„å…¥å£æ”¾ç½®äº†ä¸€é¡¹u2ç±»å‹çš„æ•°æ®ï¼Œä»£è¡¨å¸¸é‡æ± å®¹é‡è®¡æ•°å€¼ï¼ˆconstant_pool_countï¼‰ï¼Œè¿™ä¸ªæ•°æ˜¯ä»1å¼€å§‹ å­—é¢é‡ï¼šæ¥è¿‘äºJavaè¯­è¨€å±‚é¢çš„å¸¸é‡æ¦‚å¿µï¼Œå¦‚æ–‡æœ¬å­—ç¬¦ä¸²ã€è¢«å£°æ˜ä¸ºfinalçš„å¸¸é‡å€¼ç­‰ ç¬¦å·å¼•ç”¨ è¢«æ¨¡å—å¯¼å‡ºæˆ–è€…å¼€æ”¾çš„åŒ…ï¼ˆPackageï¼‰ ç±»å’Œæ¥å£çš„å…¨é™å®šåï¼ˆFully Qualified Nameï¼‰ å­—æ®µçš„åç§°å’Œæè¿°ç¬¦ï¼ˆDescriptorï¼‰ æ–¹æ³•çš„åç§°å’Œæè¿°ç¬¦ æ–¹æ³•å¥æŸ„å’Œæ–¹æ³•ç±»å‹ï¼ˆMethod Handleã€Method Typeã€Invoke Dynamic åŠ¨æ€è°ƒç”¨ç‚¹å’ŒåŠ¨æ€å¸¸é‡ï¼ˆDynamically-Computed Call Siteã€Dynamically-Computed Constantï¼‰ è®¿é—®æ ‡å¿— å¸¸é‡æ± ç»“æŸä¹‹åçš„ä¸¤ä¸ªå­—èŠ‚ï¼Œæè¿°è¯¥Classæ˜¯ç±»è¿˜æ˜¯æ¥å£ï¼Œä»¥åŠæ˜¯å¦è¢«publicã€abstractã€finalç­‰ä¿®é¥°ç¬¦ä¿®é¥° æ ‡å¿—åç§° æ ‡å¿—å€¼ å«ä¹‰ ACC_PUBLIC 0x0001 æ˜¯å¦ä¸ºpublicç±»å‹ ACC_FINAL 0x0010 æ˜¯å¦è¢«å£°æ˜ä¸ºfinalï¼Œåªæœ‰ç±»å¯è®¾ç½® AcC_SUPER 0x0020 æ˜¯å¦å…è®¸ä½¿ç”¨invokespecialå­—èŠ‚ç æŒ‡ä»¤çš„æ–°è¯­ä¹‰ï¼ŒinvokespecialæŒ‡ä»¤çš„è¯­ä¹‰åœ¨JDK1.0.2å‘ç”Ÿè¿‡æ”¹å˜ï¼Œä¸ºäº†åŒºåˆ«è¿™æ¡æŒ‡ä»¤ä½¿ç”¨å“ªç§è¯­ä¹‰ï¼ŒJDK1.0.2ä¹‹åç¼–è¯‘å‡ºæ¥çš„ç±»çš„è¿™ä¸ªæ ‡å¿—éƒ½å¿…é¡»ä¸ºçœŸ ACC_INTERFACE 0x0200 æ ‡è¯†è¿™æ˜¯ä¸€ä¸ªæ¥å£ AcC_ABSTRACT Ox0400 æ˜¯å¦ä¸ºabstractç±»å‹ï¼Œå¯¹äºæ¥å£æˆ–è€…æŠ½è±¡ç±»æ¥è¯´ï¼Œæ­¤æ ‡å¿—å€¼ä¸ºçœŸï¼Œå…¶ä»–ç±»å‹å€¼ä¸ºå‡ AcC_SYNTHETIC Ox1000 æ ‡è¯†è¿™ä¸ªç±»å¹¶éç”±ç”¨æˆ·ä»£ç äº§ç”Ÿçš„ Acc_ANNOTATION 0x2000 æ ‡è¯†è¿™æ˜¯ä¸€ä¸ªæ³¨è§£ ACC_ENUM 0x4000 æ ‡è¯†è¿™æ˜¯ä¸€ä¸ªæšä¸¾ AcC_MODULE 0x8000 æ ‡è¯†è¿™æ˜¯ä¸€ä¸ªæ¨¡å— ç±»ç´¢å¼•ã€çˆ¶ç±»ç´¢å¼•ä¸æ¥å£ç´¢å¼•é›†åˆ ç±»ç´¢å¼•ä¸çˆ¶ç±»ç´¢å¼•éƒ½æ˜¯ä¸€ä¸ªu2ç±»å‹çš„æ•°æ® æ¥å£ç´¢å¼•å…¥å£çš„ç¬¬ä¸€é¡¹u2ç±»å‹çš„æ•°æ®ä¸ºæ¥å£è®¡æ•°å™¨ å­—æ®µè¡¨é›†åˆ ç”¨äºæè¿°ç±»å’Œæ¥å£ä¸­å£°æ˜çš„å˜é‡ï¼ˆåŒ…æ‹¬ç±»çº§ä»¥åŠå®ä¾‹çº§åˆ«ï¼‰ ç¬¬ä¸€éƒ¨åˆ†ä¸ºä¸¤ä¸ªå­—èŠ‚ï¼Œæè¿°å­—æ®µä¸ªæ•°ï¼›ç¬¬äºŒéƒ¨åˆ†æ˜¯æ¯ä¸ªå­—æ®µçš„è¯¦ç»†ä¿¡æ¯fields_infoã€‚ å­—æ®µè¡¨ç»“æ„ï¼š ç±»å‹ åç§° æ•°é‡ u2 access_flags 1 u2 name_index 1 u2 descriptor_index 1 u2 attributes_count 1 attribute_info attributes attributes_count å­—æ®µè®¿é—®æ ‡å¿—ï¼Œå­˜æ”¾åœ¨access_flagsé‡Œé¢ï¼š æ ‡å¿—åç§° æ ‡å¿—å€¼ å«ä¹‰ ACC_PUBLIC Ox0001 å­—æ®µæ˜¯å¦public ACC_PRIVATE Ox0002 å­—æ®µæ˜¯å¦ private ACC_PROTECTED ox0004 å­—æ®µæ˜¯å¦ protected ACC_STATIC Ox0008 å­—æ®µæ˜¯å¦static ACC FINAL 0x0010 å­—æ®µæ˜¯å¦final ACC_VOLATILE Ox0040 å­—æ®µæ˜¯å¦ volatile ACC_TRANSIENT ox0080 å­—æ®µæ˜¯å¦transient ACC_SYNTHETIC ox1000 å­—æ®µæ˜¯å¦ç”±ç¼–è¯‘å™¨è‡ªåŠ¨äº§ç”Ÿ ACC_ENUM Ox4000 å­—æ®µæ˜¯å¦ enum name_indexå’Œdescriptor_indexåˆ†åˆ«ä»£è¡¨ç€å­—æ®µçš„ç®€å•åç§°ä»¥åŠå­—æ®µå’Œæ–¹æ³•çš„æè¿°ç¬¦ ç®€å•åç§°åˆ™å°±æ˜¯æŒ‡æ²¡æœ‰ç±»å‹å’Œå‚æ•°ä¿®é¥°çš„æ–¹æ³•æˆ–è€…å­—æ®µåç§° æè¿°ç¬¦ï¼š æ ‡å¿—å­—ç¬¦ å«ä¹‰ B åŸºæœ¬ç±»å‹byte C åŸºæœ¬ç±»å‹char D åŸºæœ¬ç±»å‹double F åŸºæœ¬ç±»å‹float I åŸºæœ¬ç±»å‹int J åŸºæœ¬ç±»å‹1ong S åŸºæœ¬ç±»å‹short Z åŸºæœ¬ç±»å‹boolean V ç‰¹æ®Šç±»å‹void L å¯¹è±¡ç±»å‹ï¼Œå¦‚Ljava/lang/Object; å¯¹äºæ•°ç»„ç±»å‹ï¼Œæ¯ä¸€ç»´åº¦å°†ä½¿ç”¨ä¸€ä¸ªå‰ç½®çš„[å­—ç¬¦æ¥æè¿°ï¼Œï¼Œå¦‚ä¸€ä¸ªå®šä¹‰ä¸ºâ€œjava.lang.String[][]â€ç±»å‹çš„äºŒç»´æ•°ç»„å°†è¢«è®°å½•æˆâ€œ[[Ljava/lang/Stringï¼›â€ ç”¨æè¿°ç¬¦æ¥æè¿°æ–¹æ³•æ—¶ï¼ŒæŒ‰ç…§å…ˆå‚æ•°åˆ—è¡¨ã€åè¿”å›å€¼çš„é¡ºåºæè¿°ï¼Œå‚æ•°åˆ—è¡¨æŒ‰ç…§å‚æ•°çš„ä¸¥æ ¼é¡ºåºæ”¾åœ¨ä¸€ç»„å°æ‹¬å·â€œ()â€ä¹‹å†… æ–¹æ³•int indexOf(char[]sourceï¼Œint sourceOffsetï¼Œint sourceCountï¼Œchar[]targetï¼Œint targetOffsetï¼Œint targetCountï¼Œint fromIndex)çš„æè¿°ç¬¦ä¸ºâ€œ([CII[CIII)Iâ€ æ–¹æ³•è¡¨é›†åˆ æ–¹æ³•è¡¨çš„ç»“æ„åŒå­—æ®µè¡¨ æ–¹æ³•è®¿é—®æ ‡å¿—ï¼š æ ‡å¿—åç§° æ ‡å¿—å€¼ å«ä¹‰ ACC_PUBLIC Ox0001 æ–¹æ³•æ˜¯å¦ä¸ºpublic ACC_PRIVATE Ox0002 æ–¹æ³•æ˜¯å¦ä¸ºprivate ACC_PROTECTED Ox0004 æ–¹æ³•æ˜¯å¦ä¸ºprotected ACC_STATIC 0x0008 æ–¹æ³•æ˜¯å¦ä¸ºstatic ACC_FINAL 0x0010 æ–¹æ³•æ˜¯å¦ä¸ºfinal AcC_SYNCHRONIZED Ox0020 æ–¹æ³•æ˜¯å¦ä¸ºsynchronized ACC_BRIDGE Ox0040 æ–¹æ³•æ˜¯ä¸æ˜¯ç”±ç¼–è¯‘å™¨äº§ç”Ÿçš„æ¡¥æ¥æ–¹æ³• AcC_VARARGS Ox0080 æ–¹æ³•æ˜¯å¦æ¥å—ä¸å®šå‚æ•° ACC_NATIVE Ox0100 æ–¹æ³•æ˜¯å¦ä¸ºnative ACC_ABSTRACT 0x0400 æ–¹æ³•æ˜¯å¦ä¸ºabstract AcC_STRICT Ox0800 æ–¹æ³•æ˜¯å¦ä¸ºstrictfp ACC_SYNTHETIC Ox1000 æ–¹æ³•æ˜¯å¦ç”±ç¼–è¯‘å™¨è‡ªåŠ¨äº§ç”Ÿ æ–¹æ³•é‡Œçš„Javaä»£ç ï¼Œç»è¿‡Javacç¼–è¯‘å™¨ç¼–è¯‘æˆå­—èŠ‚ç æŒ‡ä»¤ä¹‹åï¼Œå­˜æ”¾åœ¨æ–¹æ³•å±æ€§è¡¨é›†åˆä¸­ä¸€ä¸ªåä¸ºâ€œCodeâ€çš„å±æ€§é‡Œé¢ å±æ€§è¡¨é›†åˆ Classæ–‡ä»¶ã€å­—æ®µè¡¨ã€æ–¹æ³•è¡¨éƒ½å¯ä»¥æºå¸¦è‡ªå·±çš„å±æ€§è¡¨é›†åˆï¼Œä»¥æè¿°æŸäº›åœºæ™¯ä¸“æœ‰çš„ä¿¡æ¯ å±æ€§åç§° ä½¿ç”¨ä½ç½® å«ä¹‰ Code æ–¹æ³•è¡¨ Javaä»£ç ç¼–è¯‘æˆçš„å­—èŠ‚ç æŒ‡ä»¤ ConstantValue å­—æ®µè¡¨ ç”±finalå…³é”®å­—å®šä¹‰çš„å¸¸é‡å€¼ Deprecated ç±»ã€æ–¹æ³•è¡¨ã€å­—æ®µè¡¨ è¢«å£°æ˜ä¸ºdeprecated çš„æ–¹æ³•å’Œå­—æ®µ Exceptions æ–¹æ³•è¡¨ æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ EnclosingMethod ç±»æ–‡ä»¶ ä»…å½“ä¸€ä¸ªç±»ä¸ºå±€éƒ¨ç±»æˆ–è€…åŒ¿åç±»æ—¶æ‰èƒ½æ‹¥æœ‰è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§ç”¨äºæ ‡ç¤ºè¿™ä¸ªç±»æ‰€åœ¨çš„å¤–å›´æ–¹æ³•ç±»æ–‡ä»¶ InncrClasses Codeå±æ€§ å†…éƒ¨ç±»åˆ—è¡¨ LineNumberTable Codcå±æ€§ Java æºç çš„è¡Œå·ä¸å­—èŠ‚ç æŒ‡ä»¤çš„å¯¹åº”å…³ç³» LocalVariableTable Codeå±æ€§ æ–¹æ³•çš„å±€éƒ¨å˜é‡æè¿° StackMapTable Codeå±æ€§ JDK6ä¸­æ–°å¢çš„å±æ€§ï¼Œä¾›æ–°çš„ç±»å‹æ£€æŸ¥éªŒè¯å™¨(Type Checkerï¼‰æ£€æŸ¥å’Œå¤„ç†ç›®æ ‡æ–¹æ³•çš„å±€éƒ¨å˜é‡å’Œæ“ä½œæ•°æ ˆæ‰€éœ€è¦çš„ç±»å‹æ˜¯å¦åŒ¹é… Signature ç±»ã€æ–¹æ³•è¡¨ã€å­—æ®µè¡¨ JDK 5ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºæ”¯æŒèŒƒå‹æƒ…å†µä¸‹çš„æ–¹æ³•ç­¾åã€‚åœ¨Javaè¯­è¨€ä¸­ï¼Œä»»ä½•ç±»ã€æ¥å£ã€åˆå§‹åŒ–æ–¹æ³•æˆ–æˆå‘˜çš„æ³›å‹ç­¾åå¦‚æœåŒ…å«äº†ç±»å‹å˜é‡ï¼ˆTypeVariablesï¼‰æˆ–å‚æ•°åŒ–ç±»å‹ï¼ˆParameterized Types)ï¼Œåˆ™Signatureå±æ€§ä¼šä¸ºå®ƒè®°å½•æ³›å‹ç­¾åä¿¡æ¯ã€‚ç”±äºJavaçš„èŒƒå‹é‡‡ç”¨æ“¦é™¤æ³•å®ç°ï¼Œä¸ºäº†é¿å…ç±»å‹ä¿¡æ¯è¢«æ“¦é™¤åå¯¼è‡´ç­¾åæ··ä¹±ï¼Œéœ€è¦è¿™ä¸ªå±æ€§è®°å½•èŒƒå‹ä¸­çš„ç›¸å…³ä¿¡æ¯ SourceFile ç±»æ–‡ä»¶ è®°å½•æºæ–‡ä»¶åç§° SourceDebugExtension ç±»æ–‡ä»¶ JDK 5ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºå­˜å‚¨é¢å¤–çš„è°ƒè¯•ä¿¡æ¯ã€‚è­¬å¦‚åœ¨è¿›è¡ŒJSPæ–‡ä»¶è°ƒè¯•æ—¶ï¼Œæ— æ³•é€šè¿‡Javaå †æ ˆæ¥å®šä½åˆ°JSPæ–‡ä»¶çš„è¡Œå·JSR 45ææ¡ˆä¸ºè¿™äº›éJavaç±»æ–‡ä»¶è¯­è¨€ç¼–å†™ï¼Œå´éœ€è¦ç¼–è¯‘æˆå­—èŠ‚ç å¹¶è¿è¡Œåœ¨Javaè™šæ‹Ÿæœºä¸­çš„ç¨‹åºæä¾›äº†ä¸€ä¸ªè¿›è¡Œè°ƒè¯•çš„æ ‡å‡†æœºåˆ¶ï¼Œä½¿ç”¨è¯¥å±æ€§å°±å¯ä»¥ç”¨äºå­˜å‚¨è¿™ä¸ªæ ‡å‡†æ‰€æ–°åŠ äººçš„è°ƒè¯•ä¿¡æ¯ Synthetic ç±»ã€æ–¹æ³•è¡¨ã€å­—æ®µè¡¨ æ ‡è¯†æ–¹æ³•æˆ–å­—æ®µä¸ºç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„ LocalVariablcTypeTable ç±» JDK 5ä¸­æ–°å¢çš„å±æ€§ï¼Œå®ƒä½¿ç”¨ç‰¹å¾ç­¾åä»£æ›¿æè¿°ç¬¦ï¼Œæ˜¯ä¸ºäº†å¼•äººæ³›å‹è¯­æ³•ä¹‹åèƒ½æè¿°æ³›å‹å‚æ•°åŒ–ç±»å‹è€Œæ·»åŠ  RuntimeVisibleAnnotations ç±»ã€æ–¹æ³•è¡¨ã€å­—æ®µè¡¨ JDK 5ä¸­æ–°å¢çš„å±æ€§ï¼Œä¸ºåŠ¨æ€æ³¨è§£æä¾›æ”¯æŒã€‚è¯¥å±æ€§ç”¨äºæŒ‡æ˜å“ªäº›æ³¨è§£æ˜¯è¿è¡Œæ—¶ï¼ˆå®é™…ä¸Šè¿è¡Œæ—¶å°±æ˜¯è¿›è¡Œåå°„è°ƒç”¨ï¼‰å¯è§çš„ RuntimcInvisiblcAnnotations ç±»ã€æ–¹æ³•è¡¨ã€å­—æ®µè¡¨ JDK 5ä¸­æ–°å¢çš„å±æ€§ï¼Œä¸RuntimeVisibleAnnota-tionså±æ€§ä½œç”¨åˆšå¥½ç›¸åº”ï¼Œç”¨äºæŒ‡æ˜å“ªäº›æ³¨è§£æ˜¯è¿è¡Œæ—¶ä¸å¯è§çš„ RuntimeVisibleParamcterAnnotations æ–¹æ³•è¡¨ JDK5ä¸­æ–°å¢çš„å±æ€§ï¼Œä½œç”¨ä¸RuntimeVisible-Annotationså±æ€§ç±»ä¼¼ï¼Œåªä¸è¿‡ä½œç”¨å¯¹è±¡ä¸ºæ–¹æ³•å‚æ•° RuntimelnvisibleParameterAnnotations æ–¹æ³•è¡¨ JDK 5ä¸­æ–°å¢çš„å±æ€§ï¼Œä½œç”¨ä¸ RuntimelnvisiblcAnnotationså±æ€§ç±»ä¼¼ï¼Œåªä¸è¿‡ä½œç”¨å¯¹è±¡ä¸ºæ–¹æ³•å‚æ•° AnnotationDefault æ–¹æ³•è¡¨ JDK 5ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºè®°å½•æ³¨è§£ç±»å…ƒç´ çš„é»˜è®¤å€¼ BootstrapMethods ç±»æ–‡ä»¶ JDK 7ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºä¿å­˜invokedynamicæŒ‡ä»¤å¼•ç”¨çš„å¼•å¯¼æ–¹æ³•é™å®šç¬¦ RuntimeVisibleTypeAnnotations ç±»ã€æ–¹æ³•è¡¨ã€å­—æ®µè¡¨ï¼ŒCodeå±æ€§ JDK 8ä¸­æ–°å¢çš„å±æ€§ï¼Œä¸ºå®ç°JSR 308ä¸­æ–°å¢çš„ç±»å‹æ³¨è§£æä¾›çš„æ”¯æŒï¼Œç”¨äºæŒ‡æ˜å“ªäº›ç±»æ³¨è§£æ˜¯è¿è¡Œæ—¶(å®é™…ä¸Šè¿è¡Œæ—¶å°±æ˜¯è¿›è¡Œåå°„è°ƒç”¨ï¼‰å¯è§çš„ RuntimelnvisibleTypeAnnotations ç±»ã€æ–¹æ³•è¡¨ã€å­—æ®µè¡¨,Codeå±æ€§ JDK 8ä¸­æ–°å¢çš„å±æ€§ï¼Œä¸ºå®ç°JSR 308ä¸­æ–°å¢çš„ç±»å‹æ³¨è§£æä¾›çš„æ”¯æŒï¼Œä¸RuntimeVisibleTypeAnnotationså±æ€§ä½œç”¨åˆšå¥½ç›¸åï¼Œç”¨äºæŒ‡æ˜å“ªäº›æ³¨è§£æ˜¯è¿è¡Œæ—¶ä¸å¯è§çš„ MethodParameters æ–¹æ³•è¡¨ JDK 8ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºæ”¯æŒï¼ˆç¼–è¯‘æ—¶åŠ ä¸Š-parameterså‚æ•°ï¼‰å°†æ–¹æ³•åç§°ç¼–è¯‘è¿› Classæ–‡ä»¶ä¸­ï¼Œå¹¶å¯è¿è¡Œæ—¶è·å–ã€‚æ­¤å‰è¦è·å–æ–¹æ³•åç§°ï¼ˆå…¸å‹çš„å¦‚IDEçš„ä»£ç æç¤ºï¼‰åªèƒ½é€šè¿‡JavaDocä¸­å¾—åˆ° Module ç±» JDK 9ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºè®°å½•ä¸€ä¸ªModuleçš„åç§°ä»¥åŠç›¸å…³ä¿¡æ¯ï¼ˆrequires.exports.opens, uses .provides) ModulePackages ç±» JDK9ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºè®°å½•ä¸€ä¸ªæ¨¡å—ä¸­æ‰€æœ‰è¢«exportsæˆ–è€…opens çš„åŒ… ModuleMainClass ç±» JDK9ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºæŒ‡å®šä¸€ä¸ªæ¨¡å—çš„ä¸»ç±» NestHost ç±» JDK 11ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºæ”¯æŒåµŒå¥—ç±»ï¼ˆJavaä¸­ç±»çš„å†…éƒ¨ç±»ï¼‰çš„åå°„å’Œè®¿é—®æ§åˆ¶çš„APIï¼Œä¸€ä¸ªå†…éƒ¨ç±»é€šè¿‡è¯¥å±æ€§å¾—çŸ¥è‡ªå·±çš„å®¿ä¸»ç±» NestMembers ç±» JDK 11ä¸­æ–°å¢çš„å±æ€§ï¼Œç”¨äºæ”¯æŒåµŒå¥—ç±»ï¼ˆJavaä¸­çš„å†…éƒ¨ç±»ï¼‰çš„åå°„å’Œè®¿é—®æ§åˆ¶çš„APIï¼Œä¸€ä¸ªå®¿ä¸»ç±»é€šè¿‡è¯¥å±æ€§å¾—çŸ¥è‡ªå·²å·±æœ‰å“ªäº›å†…éƒ¨ç±» å±æ€§è¡¨ç»“æ„ï¼š ç±»å‹ åç§° æ•°é‡ u2 attribute_name_index 1 u4 attribute_length 1 u1 info attribute_length 1.Codeå±æ€§ ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 attribute_name_index 1 attribute_name_indexæ˜¯ä¸€é¡¹æŒ‡å‘CONSTANT_Utf8_infoå‹å¸¸é‡çš„ç´¢å¼•ï¼Œæ­¤å¸¸é‡å€¼å›ºå®šä¸º\"Code\"ï¼Œå®ƒä»£è¡¨äº†è¯¥å±æ€§çš„å±æ€§åç§° u4 attribute_length l å±æ€§å€¼çš„é•¿åº¦ u2 max_stack l ä»£è¡¨äº†æ“ä½œæ•°æ ˆï¼ˆOperand Stackï¼‰æ·±åº¦çš„æœ€å¤§å€¼ u2 max_locals 1 ä»£è¡¨äº†å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å­˜å‚¨ç©ºé—´ï¼ˆ32ä½ä»¥ä¸‹ï¼ˆåŒ…å«ï¼‰çš„å˜é‡å ç”¨ä¸€ä¸ªæ§½ï¼‰ u4 code_length 1 æ‰§è¡Œçš„å­—èŠ‚ç é•¿åº¦ï¼ˆã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­æ˜ç¡®é™åˆ¶äº†ä¸€ä¸ªæ–¹æ³•ä¸å…è®¸è¶…è¿‡65535æ¡å­—èŠ‚ç æŒ‡ä»¤ï¼‰ u1 code code_length å­˜æ”¾æ‰§è¡Œçš„å­—èŠ‚ç  u2 exception_table_length 1 exception_info exception_table exception_table_length u2 attributes_count 1 u2 attributes_count 1 attribute_info attributes attributes_count public int inc() {return m + 1;} ä¸€ä¸ªæ–¹æ³•ç¼–è¯‘åï¼š public int inc(); descriptor: ()I flags: (0x0001) ACC_PUBLIC Code: stack=2, locals=1, args_size=1 //è¿™é‡Œçš„æ–¹æ³•è™½ç„¶æ²¡æœ‰å‚æ•°ï¼Œä½†æ˜¯å‚æ•°æ•°é‡ä¸º1,1å°±æ˜¯this 0: aload_0 1: getfield #2 // Field m:I 4: iconst_1 5: iadd 6: ireturn LineNumberTable: line 4: 0 å¼‚å¸¸è¡¨ï¼š ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 start_pc 1 å¼‚å¸¸æ•è·èµ·å§‹è¡Œ u2 end_pc 1 å¼‚å¸¸æ•è·ç»“æŸè¡Œï¼ˆä¸åŒ…å«æœ¬è¡Œï¼‰ u2 handler_pc 1 å‘ç”Ÿå¼‚å¸¸åè·³è½¬çš„ä½ç½® u2 catch_type 1 å¼‚å¸¸çš„ç±»å‹ 2.Exceptionså±æ€§ åˆ—ä¸¾å‡ºæ–¹æ³•ä¸­å¯èƒ½æŠ›å‡ºçš„å—æŸ¥å¼‚å¸¸ï¼ˆChecked Excepitonsï¼‰ ç±»å‹ åç§° æ•°é‡ u2 attribute_name_index 1 u4 attribute_length 1 u2 number_of_exceptions 1 u2 exception_index_table number_of_exceptions 3.LineNumberTableå±æ€§ ç±»å‹ åç§° æ•°é‡ u2 attribute_name_index 1 u4 attribute_length 1 u2 line_number_table_length 1 line_number_info line_number_table line_number_table_length 4.LocalVariableTableåŠLocalVariableTypeTableå±æ€§ LocalVariableTableå±æ€§ç”¨äºæè¿°æ ˆå¸§ä¸­å±€éƒ¨å˜é‡è¡¨çš„å˜é‡ä¸Javaæºç ä¸­å®šä¹‰çš„å˜é‡ä¹‹é—´çš„å…³ç³» ç±»å‹ åç§° æ•°é‡ u2 attribute_name_index 1 u4 attribute_length 1 u2 local_variable_table_length 1 local_variable_info local_variable_table local_variable_table_length local_variable_infoé¡¹ç›®ä»£è¡¨äº†ä¸€ä¸ªæ ˆå¸§ä¸æºç ä¸­çš„å±€éƒ¨å˜é‡çš„å…³è”: ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 start_pc 1 ç”Ÿå‘½å‘¨æœŸå¼€å§‹çš„å­—èŠ‚ç åç§»é‡ u2 length 1 ä½œç”¨èŒƒå›´è¦†ç›–çš„é•¿åº¦ u2 name_index 1 å±€éƒ¨å˜é‡çš„åç§° u2 descriptor_index 1 å±€éƒ¨å˜é‡çš„æè¿°ç¬¦ u2 index 1 å±€éƒ¨å˜é‡åœ¨æ ˆå¸§çš„å±€éƒ¨å˜é‡è¡¨ä¸­å˜é‡æ§½çš„ä½ç½® LocalVariableTypeTableã€‚è¿™ä¸ªæ–°å¢çš„å±æ€§ç»“æ„ä¸LocalVariableTableéå¸¸ç›¸ä¼¼ï¼Œä»…ä»…æ˜¯æŠŠè®°å½•çš„å­—æ®µæè¿°ç¬¦çš„descriptor_indexæ›¿æ¢æˆäº†å­—æ®µçš„ç‰¹å¾ç­¾åï¼ˆSignatureï¼‰ 5.SourceFileåŠSourceDebugExtensionå±æ€§ ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 attribute_name_index 1 u4 attribute_length 1 u2 sourcefile_index 1 æŒ‡å‘å¸¸é‡æ± ä¸­CONSTANT_Utf8_infoå‹å¸¸é‡çš„ç´¢å¼•ï¼Œå¸¸é‡å€¼æ˜¯æºç æ–‡ä»¶çš„æ–‡ä»¶å SourceDebugExtensionå±æ€§ç”¨äºå­˜å‚¨é¢å¤–çš„ä»£ç è°ƒè¯•ä¿¡æ¯: ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 attribute_name_index 1 u4 attribute_length 1 u1 debug_extension[attribute_length] 1 é¢å¤–çš„debugä¿¡æ¯ 6.ConstantValueå±æ€§ é€šçŸ¥è™šæ‹Ÿæœºè‡ªåŠ¨ä¸ºé™æ€å˜é‡èµ‹å€¼ã€‚ ç›®å‰Oracleå…¬å¸å®ç°çš„Javacç¼–è¯‘å™¨çš„é€‰æ‹©æ˜¯ï¼Œå¦‚æœåŒæ—¶ä½¿ç”¨finalå’Œstaticæ¥ä¿®é¥°ä¸€ä¸ªå˜é‡ï¼ˆæŒ‰ç…§ä¹ æƒ¯ï¼Œè¿™é‡Œç§°â€œå¸¸é‡â€æ›´è´´åˆ‡ï¼‰ï¼Œå¹¶ä¸”è¿™ä¸ªå˜é‡çš„æ•°æ®ç±»å‹æ˜¯åŸºæœ¬ç±»å‹æˆ–è€…java.lang.Stringçš„è¯ï¼Œå°±å°†ä¼šç”ŸæˆConstantValueå±æ€§æ¥è¿›è¡Œåˆå§‹åŒ– ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 attribute_name_index 1 u4 attribute_length 1 u2 constantvalue_index 1 æ‰€ä»¥è¿™é‡Œçš„å¸¸é‡æœ€å¤šåªèƒ½ä¸º64bit 7.InnerClasseså±æ€§ ç”¨äºè®°å½•å†…éƒ¨ç±»ä¸å®¿ä¸»ç±»ä¹‹é—´çš„å…³è” ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 attribute_name_index 1 u4 attribute_length 1 u2 number_of_classes 1 è¡¨éœ€è¦è®°å½•å¤šå°‘ä¸ªå†…éƒ¨ç±»ä¿¡æ¯ inner_class_info inner_classes number_of_classes è®°å½•çš„å†…éƒ¨ç±»ä¿¡æ¯ ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 inner_class_info_index 1 å†…éƒ¨ç±»çš„ç¬¦å·å¼•ç”¨ u2 outer_class_info_index 1 å®¿ä¸»ç±»çš„ç¬¦å·å¼•ç”¨ u2 inner_name_index 1 ä»£è¡¨è¿™ä¸ªå†…éƒ¨ç±»çš„åç§°ï¼Œå¦‚æœæ˜¯åŒ¿åå†…éƒ¨ç±»ï¼Œè¿™é¡¹å€¼ä¸º0 u2 inner_class_access flags 1 å†…éƒ¨ç±»çš„è®¿é—®æ ‡å¿— 8.DeprecatedåŠSyntheticå±æ€§ Deprecatedå±æ€§ç”¨äºè¡¨ç¤ºæŸä¸ªç±»ã€å­—æ®µæˆ–è€…æ–¹æ³•ï¼Œå·²ç»è¢«ç¨‹åºä½œè€…å®šä¸ºä¸å†æ¨èä½¿ç”¨ï¼Œå®ƒå¯ä»¥é€šè¿‡ä»£ç ä¸­ä½¿ç”¨â€œ@deprecatedâ€æ³¨è§£è¿›è¡Œè®¾ç½® Syntheticå±æ€§ä»£è¡¨æ­¤å­—æ®µæˆ–è€…æ–¹æ³•å¹¶ä¸æ˜¯ç”±Javaæºç ç›´æ¥äº§ç”Ÿçš„ å±æ€§ç»“æ„ï¼š ç±»å‹ åç§° æ•°é‡ u2 attribute_name_index 1 u4 attribute_length 1 9.StackMapTableå±æ€§ åœ¨ç¼–è¯‘é˜¶æ®µå°†ä¸€ç³»åˆ—çš„éªŒè¯ç±»å‹ï¼ˆVerification Typeï¼‰ç›´æ¥è®°å½•åœ¨Classæ–‡ä»¶ä¹‹ä¸­ï¼Œé€šè¿‡æ£€æŸ¥è¿™äº›éªŒè¯ç±»å‹ä»£æ›¿äº†ç±»å‹æ¨å¯¼è¿‡ç¨‹ï¼Œä»è€Œå¤§å¹…æå‡äº†å­—èŠ‚ç éªŒè¯çš„æ€§èƒ½ ç±»å‹ åç§° æ•°é‡ è¯´æ˜ u2 attribute_name_index 1 u4 attribute_length 1 u2 number_of_entries 1 stack_map_frame stack_map_frame_entries number_of_entries 10.Signatureå±æ€§ ä¸€ä¸ªå¯é€‰çš„å®šé•¿å±æ€§ï¼Œå¯ä»¥å‡ºç°äºç±»ã€å­—æ®µè¡¨å’Œæ–¹æ³•è¡¨ç»“æ„çš„å±æ€§è¡¨ä¸­,ç”¨æ¥è®°å½•æ³›å‹ä¿¡æ¯ ç±»å‹ åç§° æ•°é‡ u2 attribute_name_index 1 u4 attribute_length 1 u2 signature_index 1 11.BootstrapMethodså±æ€§ ä½äºç±»æ–‡ä»¶çš„å±æ€§è¡¨ä¸­ã€‚è¿™ä¸ªå±æ€§ç”¨äºä¿å­˜invokedynamicæŒ‡ä»¤å¼•ç”¨çš„å¼•å¯¼æ–¹æ³•é™å®šç¬¦ ç±»å‹ åç§° æ•°é‡ u2 attribute_name_index 1 u4 attribute_length 1 u2 num_bootstrap_methods 1 bootstrap_method bootstrap_methods num_bootstrap_methods 12.MethodParameterså±æ€§ ä¸€ä¸ªç”¨åœ¨æ–¹æ³•è¡¨ä¸­çš„å˜é•¿å±æ€§ã€‚MethodParametersçš„ä½œç”¨æ˜¯è®°å½•æ–¹æ³•çš„å„ä¸ªå½¢å‚åç§°å’Œä¿¡æ¯ 13.æ¨¡å—åŒ–ç›¸å…³å±æ€§ 14.è¿è¡Œæ—¶æ³¨è§£ç›¸å…³å±æ€§ å†…å­˜ç»“æ„ å­—èŠ‚ç æŒ‡ä»¤ ä¸è€ƒè™‘å¼‚å¸¸å¤„ç†çš„å­—èŠ‚ç æ‰§è¡Œï¼š do { è‡ªåŠ¨è®¡ç®—PCå¯„å­˜å™¨çš„å€¼åŠ 1; æ ¹æ®PCå¯„å­˜å™¨æŒ‡ç¤ºçš„ä½ç½®ï¼Œä»å­—èŠ‚ç æµä¸­å–å‡ºæ“ä½œç ; if (å­—èŠ‚ç å­˜åœ¨æ“ä½œæ•°) ä»å­—èŠ‚ç æµä¸­å–å‡ºæ“ä½œæ•°; æ‰§è¡Œæ“ä½œç æ‰€å®šä¹‰çš„æ“ä½œ; } while (å­—èŠ‚ç æµé•¿åº¦ > 0); å¤§éƒ¨åˆ†ä¸æ•°æ®ç±»å‹ç›¸å…³çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œå®ƒä»¬çš„æ“ä½œç åŠ©è®°ç¬¦ä¸­éƒ½æœ‰ç‰¹æ®Šçš„å­—ç¬¦æ¥è¡¨æ˜ä¸“é—¨ä¸ºå“ªç§æ•°æ®ç±»å‹æœåŠ¡ï¼šiä»£è¡¨å¯¹intç±»å‹çš„æ•°æ®æ“ä½œï¼Œlä»£è¡¨longï¼Œsä»£è¡¨shortï¼Œbä»£è¡¨byteï¼Œcä»£è¡¨charï¼Œfä»£è¡¨floatï¼Œdä»£è¡¨doubleï¼Œaä»£è¡¨reference oracle å®˜æ–¹ pdf åŸºäºå¯„å­˜å™¨çš„æŒ‡ä»¤é›† åŸºäºæ ˆçš„æŒ‡ä»¤é›† Hotspotä¸­çš„Local Variable Table = JVMä¸­çš„å¯„å­˜å™¨ åŠ è½½å’Œå­˜å‚¨æŒ‡ä»¤ ç”¨äºå°†æ•°æ®åœ¨æ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡è¡¨å’Œæ“ä½œæ•°æ ˆä¹‹é—´æ¥å›ä¼ è¾“ å°†ä¸€ä¸ªå±€éƒ¨å˜é‡åŠ è½½åˆ°æ“ä½œæ ˆï¼šiloadã€iload_ã€lloadã€lload_ã€floadã€fload_ã€dloadã€dload_ã€aloadã€aload_ å°†ä¸€ä¸ªæ•°å€¼ä»æ“ä½œæ•°æ ˆå­˜å‚¨åˆ°å±€éƒ¨å˜é‡è¡¨ï¼šistoreã€istore_ã€lstoreã€lstore_ã€fstoreã€fstore_ã€dstoreã€dstore_ã€astoreã€astore_ å°†ä¸€ä¸ªå¸¸é‡åŠ è½½åˆ°æ“ä½œæ•°æ ˆï¼šbipushã€sipushã€ldcã€ldc_wã€ldc2_wã€aconst_nullã€iconst_m1ã€iconst_ã€lconst_ã€fconst_ã€dconst_ iload_ä»£è¡¨äº†iload_0ã€iload_1ã€iload_2å’Œiload_3è¿™å‡ æ¡æŒ‡ä»¤ è¿™äº›æŒ‡ä»¤éƒ½æ˜¯iloadçš„ç‰¹æ®Šå½¢å¼ï¼Œè¿™äº›ç‰¹æ®Šçš„æŒ‡ä»¤çœç•¥æ‰äº†æ“ä½œæ•°ï¼Œä½†æ˜¯è¯­ä¹‰åŒiloadä¸€æ · è¿ç®—æŒ‡ä»¤ ç”¨äºå¯¹ä¸¤ä¸ªæ“ä½œæ•°æ ˆä¸Šçš„å€¼è¿›è¡ŒæŸç§ç‰¹å®šè¿ç®—ï¼Œå¹¶æŠŠç»“æœé‡æ–°å­˜å…¥åˆ°æ“ä½œæ ˆé¡¶ åŠ æ³•æŒ‡ä»¤ï¼šiaddã€laddã€faddã€dadd å‡æ³•æŒ‡ä»¤ï¼šisubã€lsubã€fsubã€dsub ä¹˜æ³•æŒ‡ä»¤ï¼šimulã€lmulã€fmulã€dmul é™¤æ³•æŒ‡ä»¤ï¼šidivã€ldivã€fdivã€ddiv æ±‚ä½™æŒ‡ä»¤ï¼širemã€lremã€fremã€drem å–åæŒ‡ä»¤ï¼šinegã€lnegã€fnegã€dneg ä½ç§»æŒ‡ä»¤ï¼šishlã€ishrã€iushrã€lshlã€lshrã€lushr æŒ‰ä½æˆ–æŒ‡ä»¤ï¼šiorã€lor æŒ‰ä½ä¸æŒ‡ä»¤ï¼šiandã€land æŒ‰ä½å¼‚æˆ–æŒ‡ä»¤ï¼šixorã€lxor å±€éƒ¨å˜é‡è‡ªå¢æŒ‡ä»¤ï¼šiinc æ¯”è¾ƒæŒ‡ä»¤ï¼šdcmpgã€dcmplã€fcmpgã€fcmplã€lcmp ç±»å‹è½¬æ¢æŒ‡ä»¤ Javaè™šæ‹Ÿæœºç›´æ¥æ”¯æŒï¼ˆå³è½¬æ¢æ—¶æ— é¡»æ˜¾å¼çš„è½¬æ¢æŒ‡ä»¤ï¼‰çš„å®½åŒ–ç±»å‹è½¬æ¢ çª„åŒ–è½¬æ¢ï¼ši2bã€i2cã€i2sã€l2iã€f2iã€f2lã€d2iã€d2lå’Œd2f å¯¹è±¡/æ•°ç»„åˆ›å»ºä¸è®¿é—®æŒ‡ä»¤ åˆ›å»ºç±»å®ä¾‹çš„æŒ‡ä»¤ï¼šnew åˆ›å»ºæ•°ç»„çš„æŒ‡ä»¤ï¼šnewarrayã€anewarrayã€multianewarray è®¿é—®ç±»å­—æ®µï¼ˆstaticå­—æ®µï¼Œæˆ–è€…ç§°ä¸ºç±»å˜é‡ï¼‰å’Œå®ä¾‹å­—æ®µï¼ˆéstaticå­—æ®µï¼Œæˆ–è€…ç§°ä¸ºå®ä¾‹å˜é‡ï¼‰çš„ æŒ‡ä»¤ï¼šgetfieldã€putfieldã€getstaticã€putstatic æŠŠä¸€ä¸ªæ•°ç»„å…ƒç´ åŠ è½½åˆ°æ“ä½œæ•°æ ˆçš„æŒ‡ä»¤ï¼šbaloadã€caloadã€saloadã€ialoadã€laloadã€faloadã€daloadã€aaload å°†ä¸€ä¸ªæ“ä½œæ•°æ ˆçš„å€¼å‚¨å­˜åˆ°æ•°ç»„å…ƒç´ ä¸­çš„æŒ‡ä»¤ï¼šbastoreã€castoreã€sastoreã€iastoreã€fastoreã€dastoreã€aastore å–æ•°ç»„é•¿åº¦çš„æŒ‡ä»¤ï¼šarraylength æ£€æŸ¥ç±»å®ä¾‹ç±»å‹çš„æŒ‡ä»¤ï¼šinstanceofã€checkcast æ“ä½œæ•°æ ˆç®¡ç†æŒ‡ä»¤ ç›´æ¥æ“ä½œæ“ä½œæ•°æ ˆçš„æŒ‡ä»¤ å°†æ“ä½œæ•°æ ˆçš„æ ˆé¡¶ä¸€ä¸ªæˆ–ä¸¤ä¸ªå…ƒç´ å‡ºæ ˆï¼špopã€pop2 å¤åˆ¶æ ˆé¡¶ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°å€¼å¹¶å°†å¤åˆ¶å€¼æˆ–åŒä»½çš„å¤åˆ¶å€¼é‡æ–°å‹å…¥æ ˆé¡¶ï¼šdupã€dup2ã€dup_x1ã€dup2_x1ã€dup_x2ã€dup2_x2 å°†æ ˆæœ€é¡¶ç«¯çš„ä¸¤ä¸ªæ•°å€¼äº’æ¢ï¼šswap æ§åˆ¶è½¬ç§»æŒ‡ä»¤ æœ‰æ¡ä»¶æˆ–æ— æ¡ä»¶åœ°ä»æŒ‡å®šä½ç½®æŒ‡ä»¤ï¼ˆè€Œä¸æ˜¯æ§åˆ¶è½¬ç§»æŒ‡ä»¤ï¼‰çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ç»§ç»­æ‰§è¡Œç¨‹åºï¼Œæ¦‚å¿µæ¨¡å‹ä¸Šç†è§£ï¼Œå¯ä»¥è®¤ä¸ºæ§åˆ¶æŒ‡ä»¤å°±æ˜¯åœ¨æœ‰æ¡ä»¶æˆ–æ— æ¡ä»¶åœ°ä¿®æ”¹PCå¯„å­˜å™¨çš„å€¼ æ¡ä»¶åˆ†æ”¯ï¼šifeqã€ifltã€ifleã€ifneã€ifgtã€ifgeã€ifnullã€ifnonnullã€if_icmpeqã€if_icmpneã€if_icmpltã€if_icmpgtã€if_icmpleã€if_icmpgeã€if_acmpeqå’Œif_acmpne å¤åˆæ¡ä»¶åˆ†æ”¯ï¼štableswitchã€lookupswitch æ— æ¡ä»¶åˆ†æ”¯ï¼šgotoã€goto_wã€jsrã€jsr_wã€ret æ–¹æ³•è°ƒç”¨å’Œè¿”å›æŒ‡ä»¤ invokevirtualæŒ‡ä»¤ï¼šç”¨äºè°ƒç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•ï¼Œæ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹è¿›è¡Œåˆ†æ´¾ï¼ˆè™šæ–¹æ³•åˆ†æ´¾ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯Javaè¯­è¨€ä¸­æœ€å¸¸è§çš„æ–¹æ³•åˆ†æ´¾æ–¹å¼ã€‚ invokeinterfaceæŒ‡ä»¤ï¼šç”¨äºè°ƒç”¨æ¥å£æ–¹æ³•ï¼Œå®ƒä¼šåœ¨è¿è¡Œæ—¶æœç´¢ä¸€ä¸ªå®ç°äº†è¿™ä¸ªæ¥å£æ–¹æ³•çš„å¯¹è±¡ï¼Œæ‰¾å‡ºé€‚åˆçš„æ–¹æ³•è¿›è¡Œè°ƒç”¨ã€‚ invokespecialæŒ‡ä»¤ï¼šç”¨äºè°ƒç”¨ä¸€äº›éœ€è¦ç‰¹æ®Šå¤„ç†çš„å®ä¾‹æ–¹æ³•ï¼ŒåŒ…æ‹¬å®ä¾‹åˆå§‹åŒ–æ–¹æ³•ã€ç§æœ‰æ–¹æ³•å’Œçˆ¶ç±»æ–¹æ³•ã€‚ invokestaticæŒ‡ä»¤ï¼šç”¨äºè°ƒç”¨ç±»é™æ€æ–¹æ³•ï¼ˆstaticæ–¹æ³•ï¼‰ã€‚ invokedynamicæŒ‡ä»¤ï¼šç”¨äºåœ¨è¿è¡Œæ—¶åŠ¨æ€è§£æå‡ºè°ƒç”¨ç‚¹é™å®šç¬¦æ‰€å¼•ç”¨çš„æ–¹æ³•ã€‚å¹¶æ‰§è¡Œè¯¥æ–¹æ³•ã€‚å‰é¢å››æ¡è°ƒç”¨æŒ‡ä»¤çš„åˆ†æ´¾é€»è¾‘éƒ½å›ºåŒ–åœ¨Javaè™šæ‹Ÿæœºå†…éƒ¨ï¼Œç”¨æˆ·æ— æ³•æ”¹å˜ï¼Œè€ŒinvokedynamicæŒ‡ä»¤çš„åˆ†æ´¾é€»è¾‘ æ˜¯ç”±ç”¨æˆ·æ‰€è®¾å®šçš„å¼•å¯¼æ–¹æ³•å†³å®šçš„ æ–¹æ³•è¿”å›æŒ‡ä»¤æ˜¯æ ¹æ®è¿”å›å€¼çš„ç±»å‹åŒºåˆ†çš„ï¼ŒåŒ…æ‹¬ireturnï¼ˆå½“è¿”å›å€¼æ˜¯booleanã€byteã€charã€shortå’Œintç±»å‹æ—¶ä½¿ç”¨ï¼‰ã€lreturnã€freturnã€dreturnå’Œareturnï¼Œå¦å¤–è¿˜æœ‰ä¸€æ¡returnæŒ‡ä»¤ä¾›å£°æ˜ä¸ºvoidçš„æ–¹æ³•ã€å®ä¾‹åˆå§‹åŒ–æ–¹æ³•ã€ç±»å’Œæ¥å£çš„ç±»åˆå§‹åŒ–æ–¹æ³•ä½¿ç”¨ å¼‚å¸¸å¤„ç†æŒ‡ä»¤ æ˜¾å¼æŠ›å‡ºå¼‚å¸¸çš„æ“ä½œï¼ˆthrowè¯­å¥ï¼‰éƒ½ç”±athrowæŒ‡ä»¤æ¥å®ç° å¼‚å¸¸æ•è·ç°åœ¨åˆ™æ˜¯ä½¿ç”¨äº†å¼‚å¸¸è¡¨çš„æ¥å®Œæˆ åŒæ­¥æ§åˆ¶æŒ‡ä»¤ ACC_SYNCHRONIZED æ ‡å¿—åŒæ­¥æ–¹æ³• MONITORENTER MONITOREXIT æ ‡è®°ä¸´ç•ŒåŒº ASM ASMæ˜¯ä¸€ä¸ªé€šç”¨çš„Javaå­—èŠ‚ç æ“ä½œå’Œåˆ†ææ¡†æ¶ Core API ä¸éœ€è¦è¯»å–ç±»çš„æ•´ä¸ªç»“æ„ï¼Œä½¿ç”¨æµå¼çš„æ–¹æ³•æ¥å¤„ç†å­—èŠ‚ç æ–‡ä»¶ ç¼–ç¨‹éš¾åº¦è¾ƒå¤§ Tree API æ¶ˆè€—å†…å­˜å¤šï¼Œä½†æ˜¯ç¼–ç¨‹æ¯”è¾ƒç®€å• é€šè¿‡å„ç§Nodeç±»æ¥æ˜ å°„å­—èŠ‚ç çš„å„ä¸ªåŒºåŸŸ å­—èŠ‚ç å¢å¼º java agent premainï¼šæ”¯æŒåœ¨mainå‡½æ•°ä¹‹å‰ï¼Œå¯¹ç±»çš„å­—èŠ‚ç è¿›è¡Œä¿®æ”¹/æ›¿æ¢ agentmainï¼šæ”¯æŒåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹å­—èŠ‚ç è¿›è¡Œæ›¿æ¢ å­—èŠ‚ç æ··æ·† ä½¿åç¼–è¯‘çš„ä»£ç å¯è¯»æ€§å˜å·® ProGuard javassist ç”Ÿæˆç±» ClassPool pool = ClassPool.getDefault(); // åˆ›å»ºç±» CtClass userClass = pool.makeClass(\"wang.ismy.test.User\"); // æ·»åŠ å±æ€§ userClass.addField(CtField.make(\"private String name;\",userClass)); userClass.addField(CtField.make(\"private Integer age;\",userClass)); // æ·»åŠ æ–¹æ³• userClass.addMethod(CtMethod.make(\"public String getName(){return name;}\",userClass)); userClass.addConstructor(new CtConstructor(new CtClass[]{pool.get(\"java.lang.String\"),pool.get(\"java.lang.Integer\")},userClass)); userClass.writeFile(\"./User.class\"); ä¿®æ”¹ç±» ClassPool pool = ClassPool.getDefault(); pool.appendClassPath(new ClassClassPath(Main.class)); CtClass userClass = pool.get(\"wang.ismy.assist.User\"); userClass.getDeclaredMethod(\"getName\").setBody(\"{return name + \\\"123\\\";}\"); Class aClass = userClass.toClass(); Object obj = aClass.newInstance(); System.out.println(aClass.getMethod(\"getName\").invoke(obj)); å­—èŠ‚ç çš„æ‰§è¡Œ è§£é‡Šæ‰§è¡Œ ç¼–è¯‘æ‰§è¡Œ JITç¼–è¯‘ä¸è§£é‡Šæ··åˆæ‰§è¡Œ è¿™æ ·å°±é€ æˆæœºå™¨åœ¨çƒ­æœºæ‰€æ‰¿è½½çš„è´Ÿè½½å¯èƒ½ä¼šæ¯”å†·æœºçš„é«˜ -Xmixed é»˜è®¤ä¸ºæ··åˆæ¨¡å¼ -Xint è§£é‡Šæ¨¡å¼ -Xcomp çº¯ç¼–è¯‘æ¨¡å¼ çƒ­ç‚¹ä»£ç æ£€æµ‹ å¤šæ¬¡è¢«è°ƒç”¨çš„æ–¹æ³• æ–¹æ³•è®¡æ•°å™¨ å¤šæ¬¡è¢«è¢«è°ƒç”¨çš„å¾ªç¯ å¾ªç¯è®¡æ•°å™¨ ä»£ç ä¼˜åŒ– ä½¿ç”¨å±€éƒ¨å˜é‡ å‡å°‘é‡å¤è®¡ç®— æ‡’åŠ è½½ å¼‚å¸¸å¯¹æ€§èƒ½ä¸åˆ© é¿å…åˆ›å»ºå¯¼å…¥ä¸ä½¿ç”¨çš„å¯¹è±¡å’Œç±» åå°„å¯¹æ€§èƒ½ä¸åˆ© è¿æ¥æ± å’Œçº¿ç¨‹æ± æœ‰åˆ©äºæé«˜æ€§èƒ½ å®¹å™¨åˆå§‹åŒ–æŒ‡å®šé•¿åº¦ ä¸åŒçš„æ•°æ®ç»“æ„åœ¨ä¸åŒæ“ä½œä¸‹çš„æ€§èƒ½è¡¨ç°ä¸åŒ ä½¿ç”¨é”®å€¼å¯¹éå†Map ä¸åº”æ‰‹åŠ¨è°ƒç”¨GC æ­£åˆ™è¡¨è¾¾å¼å¯¹æ€§èƒ½æœ‰å½±å“ æ—¥å¿—è¾“å‡ºæ³¨æ„çº§åˆ« èµ„æºcloseå¯ä»¥åˆ†å¼€ å®ä¾‹-åŠ¨æ€ä»£ç†å­—èŠ‚ç ç”Ÿæˆ public class DynamicProxyTest { public static void main(String[] args) { System.getProperties().put(\"sun.misc.ProxyGenerator.saveGeneratedFiles\", \"true\"); Run origin = new Run(); Runnable hello = (Runnable)Proxy.newProxyInstance(Run.class.getClassLoader(), new Class[]{Runnable.class}, new InvocationHandler() { @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { System.out.println(\"hello\"); return method.invoke(origin); } }); hello.run(); } } class Run implements Runnable{ @Override public void run() { System.out.println(\"world\"); } } è¿™é‡ŒnewProxyInstanceä¼šç”Ÿæˆè¿™ä¹ˆæ ·çš„ä¸€ä¸ªä»£ç†ç±»ï¼š public final class $Proxy0 extends Proxy implements Runnable { ... public final void run() throws { try { super.h.invoke(this, m3, (Object[])null); } catch (RuntimeException | Error var2) { throw var2; } catch (Throwable var3) { throw new UndeclaredThrowableException(var3); } } ... } ç”Ÿæˆçš„ä»£ç†ç±»runæ–¹æ³•ä¼šè°ƒç”¨æˆ‘ä»¬å†™çš„InvocationHandler æˆ‘ä»¬çš„InvocationHandleråˆä¼šæ‰§è¡Œä¸€äº›é™„å¸¦é€»è¾‘å¹¶æœ€åæ‰§è¡ŒçœŸå®å¯¹è±¡çš„æ–¹æ³• å®ä¾‹-Backportï¼šå›åˆ°æœªæ¥ æŠŠé«˜ç‰ˆæœ¬JDKä¸­ç¼–å†™çš„ä»£ç æ”¾åˆ°ä½ç‰ˆæœ¬JDKç¯å¢ƒä¸­å»éƒ¨ç½²ä½¿ç”¨ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€ç§åä¸ºâ€œJavaé€†å‘ç§»æ¤â€çš„å·¥å…·ï¼ˆJava Backporting Toolsï¼‰åº”è¿è€Œç”Ÿï¼ŒRetrotranslatorå’ŒRetrolambdaæ˜¯è¿™ç±»å·¥å…·ä¸­çš„æ°å‡ºä»£è¡¨ è¿™äº›å·¥å…·å¯ä»¥å¾ˆå¥½åœ°ç§»æ¤ä¸‹é¢ä¸¤ç§æƒ…å†µï¼š å¯¹Javaç±»åº“APIçš„ä»£ç å¢å¼º åœ¨å‰ç«¯ç¼–è¯‘å™¨å±‚é¢åšçš„æ”¹è¿›ã€‚è¿™ç§æ”¹è¿›è¢«ç§°ä½œè¯­æ³•ç³– å¯¹äºç¬¬ä¸€ç§æƒ…å†µ ä¸€äº›è¯¸å¦‚åªæœ‰é«˜ç‰ˆæœ¬æ‰æœ‰çš„ç±»åº“ç§»æ¤å·¥å…·å¯ä»¥å¾ˆæ–¹ä¾¿ç§»æ¤ ä½†å¯¹äºç¬¬äºŒç§æƒ…å†µï¼Œç§»æ¤å·¥å…·å°±éœ€è¦é€šè¿‡ä¿®æ”¹å­—èŠ‚ç çš„æ–¹å¼æ¥å®ç° MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-08 05:13:48 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/å­—èŠ‚ç æ‰§è¡Œå¼•æ“.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/å­—èŠ‚ç æ‰§è¡Œå¼•æ“.html","title":"å­—èŠ‚ç æ‰§è¡Œå¼•æ“","keywords":"","body":"å­—èŠ‚ç æ‰§è¡Œå¼•æ“ è¿è¡Œæ—¶æ ˆå¸§ç»“æ„ ç”¨äºæ”¯æŒè™šæ‹Ÿæœºè¿›è¡Œæ–¹æ³•è°ƒç”¨å’Œæ–¹æ³•æ‰§è¡ŒèƒŒåçš„æ•°æ®ç»“æ„ æ ˆå¸§å­˜å‚¨äº†æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€è¿æ¥å’Œæ–¹æ³•è¿”å›åœ°å€ç­‰ä¿¡æ¯ æ¯ä¸ªæ ˆå¸§çš„å¤§å°åœ¨ç¼–è¯‘æœŸå°±å·²ç»ç¡®å®šï¼ˆæ ¹æ®å±€éƒ¨å˜é‡è¡¨ æ“ä½œæ•°æ ˆç­‰ï¼‰ å±€éƒ¨å˜é‡è¡¨ ç”¨äºå­˜æ”¾æ–¹æ³•å‚æ•°å’Œæ–¹æ³•å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼Œæ–¹æ³•çš„Codeå±æ€§max_localsæ•°æ®é¡¹ç¡®å®šäº†å±€éƒ¨å˜é‡è¡¨çš„æœ€å¤§å®¹é‡ è§„èŒƒè¯´åˆ°æ¯ä¸ªå˜é‡æ§½éƒ½åº”è¯¥èƒ½å­˜æ”¾ä¸€ä¸ªbooleanã€byteã€charã€shortã€intã€floatã€referenceæˆ–returnAddressç±»å‹çš„æ•°æ® è™šæ‹Ÿæœºå®ç°è‡³å°‘éƒ½åº”å½“èƒ½é€šè¿‡referenceåšä¸¤ä»¶äº‹ï¼š æ ¹æ®å¼•ç”¨ç›´æ¥æˆ–é—´æ¥åœ°æŸ¥æ‰¾åˆ°å¯¹è±¡åœ¨Javaå †ä¸­çš„æ•°æ®å­˜æ”¾çš„èµ·å§‹åœ°å€æˆ–ç´¢å¼• æ ¹æ®å¼•ç”¨ç›´æ¥æˆ–é—´æ¥åœ°æŸ¥æ‰¾åˆ°å¯¹è±¡æ‰€å±æ•°æ®ç±»å‹åœ¨æ–¹æ³•åŒºä¸­çš„å­˜å‚¨çš„ç±»å‹ä¿¡æ¯ å¯¹äº64ä½çš„æ•°æ®ç±»å‹ï¼ŒJavaè™šæ‹Ÿæœºä¼šä»¥é«˜ä½å¯¹é½çš„æ–¹å¼ä¸ºå…¶åˆ†é…ä¸¤ä¸ªè¿ç»­çš„å˜é‡æ§½ç©ºé—´ å±€éƒ¨å˜é‡è¡¨ä¸­çš„å˜é‡æ§½æ˜¯å¯ä»¥é‡ç”¨çš„ï¼Œä½†æ˜¯è¿™ç§é‡ç”¨ä¼šå½±å“åˆ°åƒåœ¾å›æ”¶ï¼Œå¦‚æœåƒåœ¾æ”¶é›†å™¨å‘ç°å˜é‡è¡¨è¿˜å­˜åœ¨æŸä¸ªå˜é‡çš„å¼•ç”¨ å°±ä¸ä¼šè½»æ˜“å›æ”¶å®ƒï¼š byte[] bytes = new byte[1024 * 1024 * 128]; bytes = null; // ä¸åŠ ä¸Šè¿™è¡Œ bytesä¸ä¼šåœ¨gcè¢«è°ƒç”¨æ—¶è¢«å›æ”¶ System.gc(); æ“ä½œæ•°æ ˆ æ“ä½œæ•°æ ˆçš„æœ€å¤§æ·±åº¦ä¹Ÿåœ¨ç¼–è¯‘çš„æ—¶å€™è¢«å†™å…¥åˆ°Codeå±æ€§çš„max_stacksæ•°æ®é¡¹ä¹‹ä¸­ ç”¨æ¥æ”¯æŒå„ç§æŒ‡ä»¤æ“ä½œ åŠ¨æ€è¿æ¥ æ¯ä¸ªæ ˆå¸§éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± ä¸­è¯¥æ ˆå¸§æ‰€å±æ–¹æ³•çš„å¼•ç”¨ æ–¹æ³•è¿”å›åœ°å€ æ–¹æ³•æ‰§è¡Œå æœ‰ä¸¤ç§æ–¹å¼é€€å‡ºæ–¹æ³•ï¼š æ‰§è¡Œå¼•æ“é‡åˆ°ä»»æ„ä¸€ä¸ªæ–¹æ³•è¿”å›çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œè¿™æ—¶å€™å¯èƒ½ä¼šæœ‰è¿”å›å€¼ä¼ é€’ç»™ä¸Šå±‚çš„æ–¹æ³•è°ƒç”¨è€… æ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†å¼‚å¸¸ï¼Œå¹¶ä¸”è¿™ä¸ªå¼‚å¸¸æ²¡æœ‰åœ¨æ–¹æ³•ä½“å†…å¾—åˆ°å¦¥å–„å¤„ç† æ–¹æ³•é€€å‡ºæ—¶å¯èƒ½æ‰§è¡Œçš„æ“ä½œæœ‰ï¼šæ¢å¤ä¸Šå±‚æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨å’Œæ“ä½œæ•°æ ˆï¼ŒæŠŠè¿”å›å€¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å‹å…¥è°ƒç”¨è€…æ ˆå¸§çš„æ“ä½œæ•°æ ˆä¸­ é™„åŠ ä¿¡æ¯ ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹å…è®¸è™šæ‹Ÿæœºå®ç°å¢åŠ ä¸€äº›è§„èŒƒé‡Œæ²¡æœ‰æè¿°çš„ä¿¡æ¯åˆ°æ ˆå¸§ä¹‹ä¸­ï¼Œä¾‹å¦‚ä¸è°ƒè¯•ã€æ€§èƒ½æ”¶é›†ç›¸å…³çš„ä¿¡æ¯ æ–¹æ³•è°ƒç”¨ æ–¹æ³•è°ƒç”¨æ˜¯æœ€æ™®éã€æœ€é¢‘ç¹çš„æ“ä½œä¹‹ä¸€ æ–¹æ³•è°ƒç”¨çš„æŒ‡ä»¤ï¼š invokestaticï¼šç”¨äºè°ƒç”¨é™æ€æ–¹æ³•ã€‚ invokespecialï¼šç”¨äºè°ƒç”¨å®ä¾‹æ„é€ å™¨()æ–¹æ³•ã€ç§æœ‰æ–¹æ³•å’Œçˆ¶ç±»ä¸­çš„æ–¹æ³• invokevirtual:ç”¨äºè°ƒç”¨æ‰€æœ‰çš„è™šæ–¹æ³• invokeinterface:ç”¨äºè°ƒç”¨æ¥å£æ–¹æ³•ï¼Œä¼šåœ¨è¿è¡Œæ—¶å†ç¡®å®šä¸€ä¸ªå®ç°è¯¥æ¥å£çš„å¯¹è±¡ invokedynamic:å…ˆåœ¨è¿è¡Œæ—¶åŠ¨æ€è§£æå‡ºè°ƒç”¨ç‚¹é™å®šç¬¦æ‰€å¼•ç”¨çš„æ–¹æ³•ï¼Œç„¶åå†æ‰§è¡Œè¯¥æ–¹æ³• åªè¦èƒ½è¢«invokestaticå’ŒinvokespecialæŒ‡ä»¤è°ƒç”¨çš„æ–¹æ³•ï¼Œéƒ½å¯ä»¥åœ¨è§£æé˜¶æ®µä¸­ç¡®å®šå”¯ä¸€çš„è°ƒç”¨ç‰ˆæœ¬, è¿™äº›æ–¹æ³•è¢«ç§°ä¸ºéè™šæ–¹æ³• public static void say(){ System.out.println(\"hello world\"); } public static void main(String[] args) { say(); } public static void main(java.lang.String[]); descriptor: ([Ljava/lang/String;)V flags: (0x0009) ACC_PUBLIC, ACC_STATIC Code: stack=0, locals=1, args_size=1 0: invokestatic #21 // Method say:()V 3: return LineNumberTable: line 12: 0 line 13: 3 åˆ†æ´¾ é™æ€ç±»å‹ï¼šç¼–è¯‘æ—¶èƒ½ç¡®å®šçš„ç±»å‹ æ‰€æœ‰ä¾èµ–é™æ€ç±»å‹æ¥å†³å®šæ–¹æ³•æ‰§è¡Œç‰ˆæœ¬çš„åˆ†æ´¾åŠ¨ä½œï¼Œéƒ½ç§°ä¸ºé™æ€åˆ†æ´¾ã€‚é™æ€åˆ†æ´¾çš„æœ€å…¸å‹åº”ç”¨è¡¨ç°å°±æ˜¯æ–¹æ³•é‡è½½ static void f(Object obj){ System.out.println(\"obj\"); } static void f(CharSequence seq){ System.out.println(\"seq\"); } static void f(String str){ System.out.println(\"str\"); } public static void main(String[] args) { Object obj = \"str\"; CharSequence seq = \"str\"; String str = \"str\"; f(obj); // obj f(seq); // seq f(str); // str } åŠ¨æ€åˆ†æ´¾ æ–¹æ³•è¦†å†™çš„è¯ä¼šåœ¨è¿è¡Œæ—¶åŠ¨æ€å†³å®šåº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³• invokevirtualæŒ‡ä»¤æ‰§è¡Œçš„ç¬¬ä¸€æ­¥å°±æ˜¯åœ¨è¿è¡ŒæœŸç¡®å®šæ¥æ”¶è€…çš„å®é™…ç±»å‹ï¼Œåªæœ‰æ–¹æ³•æ‰ä¼šå‚ä¸å¤šæ€ å­—æ®µæ²¡æœ‰invokevirtualç›¸å…³æŒ‡ä»¤ æ‰€ä»¥å­—æ®µä¸ä¼šå¤šæ€ å•åˆ†æ´¾ä¸å¤šåˆ†æ´¾ é™æ€å¤šåˆ†æ´¾ï¼šæ ¹æ®å‚æ•°æ¥å†³å®š åŠ¨æ€å•åˆ†æ´¾ï¼šæ ¹æ®è¢«è°ƒç”¨çš„å¯¹è±¡å†³å®š è™šæ‹ŸæœºåŠ¨æ€åˆ†æ´¾çš„å®ç° ä¸ºäº†æ€§èƒ½ JVMä¸ä¼šé¢‘ç¹æœç´¢ç±»å…ƒæ•°æ® è€Œæ˜¯ä½¿ç”¨äº†ä¸€ä¸ªè™šæ–¹æ³•è¡¨ï¼š åŠ¨æ€ç±»å‹è¯­è¨€æ”¯æŒ invokedynamicæŒ‡ä»¤ åŠ¨æ€ç±»å‹è¯­è¨€ï¼šç±»å‹æ£€æŸ¥çš„ä¸»ä½“è¿‡ç¨‹æ˜¯åœ¨è¿è¡ŒæœŸè€Œä¸æ˜¯ç¼–è¯‘æœŸè¿›è¡Œçš„ java.lang.invoke æ¨¡æ‹Ÿinvokedynamic: // è¿”å›å€¼ç±»å‹ å‚æ•°ç±»å‹ MethodType methodType = MethodType.methodType(void.class, String.class); Object obj = System.out; MethodHandle methodHandle = MethodHandles.lookup() .findVirtual(obj.getClass(), \"println\", methodType).bindTo(obj); methodHandle.invoke(\"hello world\"); MethodHandleæ˜¯åœ¨æ¨¡æ‹Ÿå­—èŠ‚ç å±‚æ¬¡çš„æ–¹æ³•è°ƒç”¨ åå°„APIåªèƒ½ä¸ºJavaæœåŠ¡ ä½¿ç”¨invokeåŒ…å¯ä»¥ç”¨æ¥å¼€å‘åŠ¨æ€è¯­è¨€ å®æˆ˜ è‡ªå·±æ§åˆ¶æ–¹æ³•è°ƒç”¨ static class GrandFather { void thinking() { System.out.println(\"i am grandfather\"); } } static class Father extends GrandFather { void thinking() { System.out.println(\"i am father\"); } } static class Son extends Father { void thinking() { // åœ¨è¿™é‡Œå¡«å…¥é€‚å½“çš„ä»£ç ï¼ˆä¸èƒ½ä¿®æ”¹å…¶ä»–åœ°æ–¹çš„ä»£ç ï¼‰ // å®ç°è°ƒç”¨ç¥–çˆ¶ç±»çš„thinking()æ–¹æ³•ï¼Œæ‰“å°\"i am grandfather\" try { MethodType mt = MethodType.methodType(void.class); Field lookupImpl = MethodHandles.Lookup.class.getDeclaredField(\"IMPL_LOOKUP\"); lookupImpl.setAccessible(true); MethodHandle mh = ((MethodHandles.Lookup) lookupImpl.get(null)).findSpecial(GrandFather.class, \"thinking\", mt, GrandFather.class); try { mh.invoke(this); } catch (Throwable throwable) { throwable.printStackTrace(); } } catch (Exception e) { e.printStackTrace(); } } } æ‰§è¡Œå¼•æ“ è§£é‡Šæ‰§è¡Œ æ—©æœŸçš„JVMæ˜¯é€šè¿‡è§£é‡Šå­—èŠ‚ç æ¥æ‰§è¡Œçš„ ä½†åé¢ä¹Ÿå‡ºç°äº†ç¼–è¯‘ä¸ºæœ¬åœ°æœºå™¨ç çš„ç¼–è¯‘å™¨ æ‰€ä»¥ç°ä»£çš„Javaæ˜¯æ‹¥æœ‰ç¼–è¯‘æ¨¡å¼ä»¥åŠè§£é‡Šæ¨¡å¼äº¦æˆ–è€…æ··åˆæ¨¡å¼ åŸºäºæ ˆ å¯¹äºJVMæ¥è¯´ åŸºäºæ ˆç§»æ¤å®¹æ˜“ å®ç°å®¹æ˜“ æ ˆæ¶æ„æŒ‡ä»¤é›†çš„ç¼ºç‚¹åœ¨äºé€Ÿåº¦ç¨æ…¢ å®æˆ˜ï¼šåˆ†æä¸€æ®µç®€å•çš„å››åˆ™è¿ç®— public int calc(){ int a = 100; int b = 200; int c = 300; return (a + b) * c; } public int calc(); descriptor: ()I flags: (0x0001) ACC_PUBLIC Code: stack=2, locals=4, args_size=1 0: bipush 100 2: istore_1 3: sipush 200 6: istore_2 7: sipush 300 10: istore_3 11: iload_1 12: iload_2 13: iadd 14: iload_3 15: imul 16: ireturn LineNumberTable: line 9: 0 line 10: 3 line 11: 7 line 12: 11 javapæç¤ºè¿™æ®µä»£ç éœ€è¦æ·±åº¦ä¸º2çš„æ“ä½œæ•°æ ˆå’Œ4ä¸ªå˜é‡æ§½çš„å±€éƒ¨å˜é‡ç©ºé—´ 1.BipushæŒ‡ä»¤çš„ä½œç”¨æ˜¯å°†å•å­—èŠ‚çš„æ•´å‹å¸¸é‡å€¼ï¼ˆ-128ï½127ï¼‰æ¨å…¥æ“ä½œæ•°æ ˆé¡¶ å‚æ•°ä¸º100 2.istore_1æŒ‡ä»¤çš„ä½œç”¨æ˜¯å°†æ“ä½œæ•°æ ˆé¡¶çš„æ•´å‹å€¼å‡ºæ ˆå¹¶å­˜æ”¾åˆ°ç¬¬1ä¸ªå±€éƒ¨å˜é‡æ§½ä¸­ åé¢çš„istore ä»¥åŠxxpushéƒ½æ˜¯ä¸€æ · 3.iload_1æŒ‡ä»¤çš„ä½œç”¨æ˜¯å°†å±€éƒ¨å˜é‡è¡¨ç¬¬1ä¸ªå˜é‡æ§½ä¸­çš„æ•´å‹å€¼å¤åˆ¶åˆ°æ“ä½œæ•°æ ˆé¡¶ 4.load_2æŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ä¸iload_1ç±»ä¼¼ï¼ŒæŠŠç¬¬2ä¸ªå˜é‡æ§½çš„æ•´å‹å€¼å…¥æ ˆ 5.iaddæŒ‡ä»¤çš„ä½œç”¨æ˜¯å°†æ“ä½œæ•°æ ˆä¸­å¤´ä¸¤ä¸ªæ ˆé¡¶å…ƒç´ å‡ºæ ˆï¼Œåšæ•´å‹åŠ æ³•ï¼Œç„¶åæŠŠç»“æœé‡æ–°å…¥æ ˆ 6.iload_3æŒ‡ä»¤æŠŠå­˜æ”¾åœ¨ç¬¬3ä¸ªå±€éƒ¨å˜é‡æ§½ä¸­çš„300å…¥æ ˆåˆ°æ“ä½œæ•°æ ˆä¸­ 7.æŒ‡ä»¤imulæ˜¯å°†æ“ä½œæ•°æ ˆä¸­å¤´ä¸¤ä¸ªæ ˆé¡¶å…ƒç´ å‡ºæ ˆï¼Œåšæ•´å‹ä¹˜æ³•ï¼Œç„¶å æŠŠç»“æœé‡æ–°å…¥æ ˆï¼Œä¸iaddå®Œå…¨ç±»ä¼¼ 8.ireturnæŒ‡ä»¤æ˜¯æ–¹æ³•è¿”å›æŒ‡ä»¤ä¹‹ä¸€ï¼Œå®ƒå°†ç»“æŸæ–¹æ³•æ‰§è¡Œå¹¶å°†æ“ä½œæ•°æ ˆé¡¶çš„æ•´å‹å€¼è¿”å›ç»™è¯¥æ–¹æ³•çš„è°ƒç”¨è€… MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-02 08:15:39 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è¿è¡Œå‚æ•°.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è¿è¡Œå‚æ•°.html","title":"è¿è¡Œå‚æ•°","keywords":"","body":"è¿è¡Œå‚æ•° å‚æ•°ç±»å‹ æ ‡å‡†å‚æ•° -help -version -Xå‚æ•°ï¼ˆéæ ‡å‡†å‚æ•°ï¼‰ Xint Xcomp -XXå‚æ•° -XX:newSize -XX:+UseSerialGC -Då‚æ•° ç”¨æ¥è·å–å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•° System.out.println(System.getProperty(\"str\")); java -Dstr=123 Main.java # JDK13å¯ä»¥ç›´æ¥ç¼–è¯‘å¹¶è¿è¡Œ -Xå‚æ•° JDK13ä¸­çš„-Xå‚æ•° -Xbatch ç¦ç”¨åå°ç¼–è¯‘ -Xbootclasspath/a: é™„åŠ åœ¨å¼•å¯¼ç±»è·¯å¾„æœ«å°¾ -Xcheck:jni å¯¹ JNI å‡½æ•°æ‰§è¡Œå…¶ä»–æ£€æŸ¥ -Xcomp å¼ºåˆ¶åœ¨é¦–æ¬¡è°ƒç”¨æ—¶ç¼–è¯‘æ–¹æ³• -Xdebug ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚ä¸ºå®ç°å‘åå…¼å®¹è€Œæä¾›ã€‚ -Xdiag æ˜¾ç¤ºé™„åŠ è¯Šæ–­æ¶ˆæ¯ -Xfuture å¯ç”¨æœ€ä¸¥æ ¼çš„æ£€æŸ¥ï¼Œé¢„æœŸå°†æ¥çš„é»˜è®¤å€¼ã€‚ æ­¤é€‰é¡¹å·²è¿‡æ—¶ï¼Œå¯èƒ½ä¼šåœ¨ æœªæ¥å‘è¡Œç‰ˆä¸­åˆ é™¤ã€‚ -Xint ä»…è§£é‡Šæ¨¡å¼æ‰§è¡Œ -Xinternalversion æ˜¾ç¤ºæ¯” -version é€‰é¡¹æ›´è¯¦ç»†çš„ JVM ç‰ˆæœ¬ä¿¡æ¯ -Xlog: é…ç½®æˆ–å¯ç”¨é‡‡ç”¨ Java è™šæ‹Ÿ æœº (Java Virtual Machine, JVM) ç»Ÿä¸€è®°å½•æ¡†æ¶è¿›è¡Œäº‹ä»¶è®°å½•ã€‚ä½¿ç”¨ -Xlog:help å¯äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚ -Xloggc: å°† GC çŠ¶æ€è®°å½•åœ¨æ–‡ä»¶ä¸­ï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰ã€‚ æ­¤é€‰é¡¹å·²è¿‡æ—¶ï¼Œå¯èƒ½ä¼šåœ¨ å°†æ¥çš„å‘è¡Œç‰ˆä¸­åˆ é™¤ã€‚å®ƒå°†æ›¿æ¢ä¸º -Xlog:gc:ã€‚ -Xmixed æ··åˆæ¨¡å¼æ‰§è¡Œï¼ˆé»˜è®¤å€¼ï¼‰ -Xmn ä¸ºå¹´è½»ä»£ï¼ˆæ–°ç”Ÿä»£ï¼‰è®¾ç½®åˆå§‹å’Œæœ€å¤§å †å¤§å° ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ -Xms è®¾ç½®åˆå§‹ Java å †å¤§å° -Xmx è®¾ç½®æœ€å¤§ Java å †å¤§å° -Xnoclassgc ç¦ç”¨ç±»åƒåœ¾æ”¶é›† -Xrs å‡å°‘ Java/VM å¯¹æ“ä½œç³»ç»Ÿä¿¡å·çš„ä½¿ç”¨ï¼ˆè¯·å‚è§æ–‡æ¡£ï¼‰ -Xshare:auto åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ä½¿ç”¨å…±äº«ç±»æ•°æ®ï¼ˆé»˜è®¤å€¼ï¼‰ -Xshare:off ä¸å°è¯•ä½¿ç”¨å…±äº«ç±»æ•°æ® -Xshare:on è¦æ±‚ä½¿ç”¨å…±äº«ç±»æ•°æ®ï¼Œå¦åˆ™å°†å¤±è´¥ã€‚ è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é€‰é¡¹ï¼Œå¯èƒ½å¯¼è‡´é—´æ­‡æ€§ æ•…éšœã€‚ä¸åº”åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒã€‚ -XshowSettings æ˜¾ç¤ºæ‰€æœ‰è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:all æ˜¾ç¤ºæ‰€æœ‰è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:locale æ˜¾ç¤ºæ‰€æœ‰ä¸åŒºåŸŸè®¾ç½®ç›¸å…³çš„è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:properties æ˜¾ç¤ºæ‰€æœ‰å±æ€§è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:vm æ˜¾ç¤ºæ‰€æœ‰ä¸ vm ç›¸å…³çš„è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:system ï¼ˆä»… Linuxï¼‰æ˜¾ç¤ºä¸»æœºç³»ç»Ÿæˆ–å®¹å™¨ é…ç½®å¹¶ç»§ç»­ -Xss è®¾ç½® Java çº¿ç¨‹å †æ ˆå¤§å° -Xverify è®¾ç½®å­—èŠ‚ç éªŒè¯å™¨çš„æ¨¡å¼ è¯·æ³¨æ„ï¼Œé€‰é¡¹ -Xverify:none å·²è¿‡æ—¶ï¼Œ å¯èƒ½ä¼šåœ¨æœªæ¥å‘è¡Œç‰ˆä¸­åˆ é™¤ã€‚ -XXå‚æ•° booleanç±»å‹ -XX:+nameè¡¨ç¤ºå¯ç”¨ -XX:-nameè¡¨ç¤ºä¸å¯ç”¨ ébooleanç±»å‹ -XX:name=value -Xmsä¸-Xmx -Xmx2048m è®¾ç½®æœ€å¤§å †å†…å­˜ä¸º2048M -Xms523m è®¾ç½®åˆå§‹å †å†…å­˜ä¸º512M æŸ¥çœ‹JVMè¿è¡Œå‚æ•° -XX:+PrintCommandLineFlags æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„JVMå‚æ•° jinfo -flags pid å¯ä»¥é€šè¿‡jpså‘½ä»¤åˆ—å‡ºJAVAè¿›ç¨‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-09 03:29:47 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/ç±»åŠ è½½æœºåˆ¶.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/ç±»åŠ è½½æœºåˆ¶.html","title":"ç±»åŠ è½½æœºåˆ¶","keywords":"","body":"ç±»åŠ è½½æœºåˆ¶ ç±»åŠ è½½è¿‡ç¨‹ å°†.classå­—èŠ‚æµå®ä¾‹åŒ–æˆClasså¯¹è±¡å¹¶è¿›è¡Œç›¸å…³åˆå§‹åŒ–çš„è¿‡ç¨‹ åŠ è½½ é€šè¿‡ç±»çš„å®Œå…¨é™å®šåç§°è·å–è¯¥ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ å¯ä»zipåŒ…è¯»å–ï¼Œå¦‚jarã€war å¯ä»ç½‘ç»œè·å– è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆ å°†å­—èŠ‚æµè¡¨ç¤ºçš„é™æ€å­˜å‚¨ç»“æ„è½¬æ¢ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶å­˜å‚¨ç»“æ„ åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„ Class å¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­è¯¥ç±»å„ç§æ•°æ®çš„è®¿é—®å…¥å£ å¯¹äºæ•°ç»„ç±»çš„åˆ›å»ºï¼šæ•°ç»„ç±»æœ¬èº«ä¸é€šè¿‡ç±»åŠ è½½å™¨åˆ›å»ºï¼Œç”±Javaè™šæ‹Ÿæœºç›´æ¥åœ¨ å†…å­˜ä¸­åŠ¨æ€æ„é€ å‡ºæ¥çš„ éªŒè¯ ç›®çš„æ˜¯ç¡®ä¿Classæ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯ç¬¦åˆã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹çš„å…¨éƒ¨çº¦æŸè¦æ±‚ï¼ŒéªŒè¯é˜¶æ®µçš„å·¥ä½œé‡åœ¨è™šæ‹Ÿæœºçš„ç±»åŠ è½½è¿‡ç¨‹ä¸­å äº†ç›¸å½“å¤§çš„æ¯”é‡ æ–‡ä»¶æ ¼å¼éªŒè¯ éªŒè¯å­—èŠ‚æµæ˜¯å¦ç¬¦åˆClassæ–‡ä»¶æ ¼å¼çš„è§„èŒƒï¼Œå¹¶ä¸”èƒ½è¢«å½“å‰ç‰ˆæœ¬çš„è™šæ‹Ÿæœºå¤„ç†ã€‚ è¯¥éªŒè¯é˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯ä¿è¯è¾“å…¥çš„å­—èŠ‚æµèƒ½æ­£ç¡®åœ°è§£æå¹¶å­˜å‚¨äºæ–¹æ³•åŒºä¹‹å†… å…ƒæ•°æ®éªŒè¯ å¯¹å­—èŠ‚ç æè¿°çš„ä¿¡æ¯è¿›è¡Œè¯­ä¹‰åˆ†æï¼Œä¸»è¦ç›®çš„æ˜¯å¯¹ç±»çš„å…ƒæ•°æ®ä¿¡æ¯è¿›è¡Œè¯­ä¹‰æ ¡éªŒï¼Œä¿è¯ä¸å­˜åœ¨ä¸ã€ŠJavaè¯­è¨€è§„èŒƒã€‹å®šä¹‰ç›¸æ‚–çš„å…ƒæ•°æ®ä¿¡æ¯ å­—èŠ‚ç éªŒè¯ å¯¹ç±»çš„æ–¹æ³•ä½“ï¼ˆClassæ–‡ä»¶ä¸­çš„Codeå±æ€§ï¼‰è¿›è¡Œæ ¡éªŒåˆ†æï¼Œä¿è¯è¢«æ ¡éªŒç±»çš„æ–¹æ³•åœ¨è¿è¡Œæ—¶ä¸ä¼šåšå‡ºå±å®³è™šæ‹Ÿæœºå®‰å…¨çš„è¡Œä¸º ç¬¦å·å¼•ç”¨éªŒè¯ è¿™ä¸ªé˜¶æ®µæ£€æŸ¥è¯¥ç±»æ˜¯å¦ç¼ºå°‘æˆ–è€…è¢«ç¦æ­¢è®¿é—®å®ƒä¾èµ–çš„æŸäº›å¤–éƒ¨ç±»ã€æ–¹æ³•ã€å­—æ®µç­‰èµ„æº å‡†å¤‡ å‡†å¤‡é˜¶æ®µä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®åˆå§‹å€¼ï¼Œä½¿ç”¨çš„æ˜¯æ–¹æ³•åŒºçš„å†…å­˜ åŸºæœ¬æ•°æ®ç±»å‹çš„åˆå§‹å€¼ï¼š æ•°æ®ç±»å‹ é›¶å€¼ int 0 long 0L short (short)0 char '\\u0000' byte (byte)0 boolean false float 0.0f double 0.0d reference null è§£æ ç¡®ä¿ç±»ä¸ç±»ä¹‹é—´çš„ç›¸äº’å¼•ç”¨æ­£ç¡®æ€§ ç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referencesï¼‰ï¼šç¬¦å·å¼•ç”¨ä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ ç›´æ¥å¼•ç”¨ï¼ˆDirect Referencesï¼‰ï¼šç›´æ¥å¼•ç”¨æ˜¯å¯ä»¥ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–è€…æ˜¯ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ è§£æé˜¶æ®µæ˜¯å°†å¸¸é‡æ± çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ ç±»æˆ–æ¥å£çš„è§£æ åœ¨è§£æç±»çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰å¤„äºç±»Dï¼Œåˆ™åŠ è½½å…¶ä»–ç±»çš„èŒè´£ä¼šäº¤ç»™ç±»Dçš„ç±»åŠ è½½å™¨ï¼Œåœ¨åŠ è½½ç±»æ—¶ï¼Œä¼šæ£€æŸ¥ç±»Dæ˜¯å¦æœ‰è®¿é—®æƒé™ï¼ˆä¿®é¥°ç¬¦ä»¥åŠæ¨¡å—è®¿é—®æƒé™ï¼‰ å­—æ®µè§£æ å­—æ®µè§£æçš„è¿‡ç¨‹ä¸­ä¼šæŒ‰ç…§ç»§æ‰¿é“¾ä»ä¸‹å¾€ä¸Šè¿›è¡ŒæŸ¥æ‰¾ï¼Œå½“æŸ¥æ‰¾åˆ°å¼•ç”¨æ—¶ï¼Œä¹Ÿä¼šè¿›è¡Œæ£€æŸ¥æƒé™ ç±»æ–¹æ³•è§£æ æ–¹æ³•è§£æé¦–å…ˆä¼šåˆ¤æ–­æ˜¯å¦ä¸ºæ¥å£ï¼Œå¦‚æœæ˜¯æ¥å£ ç›´æ¥æŠ›å‡ºå¼‚å¸¸ å¦åˆ™è·Ÿå­—æ®µè§£æä¸€æ ·é€’å½’ä»ä¸‹å¾€ä¸ŠæŸ¥æ‰¾ï¼Œé€’å½’æŸ¥æ‰¾ä¸åˆ°å°±ä¼šæŸ¥æ‰¾çˆ¶æ¥å£ç­‰ï¼Œå†æ‰¾ä¸åˆ°å°±æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœæ‰¾åˆ°äº†åŒæ ·ä¹Ÿä¼šè¿›è¡Œæƒé™æ£€æŸ¥ æ¥å£æ–¹æ³•è§£æ å¦‚æœå‘ç°ä¸æ˜¯æ¥å£ æŠ›å‡ºå¼‚å¸¸ é€’å½’æŸ¥æ‰¾çˆ¶æ¥å£ ç›´åˆ°Object å¦åˆ™å°±æŸ¥æ‰¾å¤±è´¥ åŒæ ·å¦‚æœæŸ¥æ‰¾åˆ°ä¼šè¿›è¡Œæƒé™æ£€æŸ¥ åˆå§‹åŒ– åˆå§‹åŒ–é˜¶æ®µæ˜¯è™šæ‹Ÿæœºæ‰§è¡Œç±»æ„é€ å™¨ () æ–¹æ³•çš„è¿‡ç¨‹ () æ˜¯ç”±ç¼–è¯‘å™¨è‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€è¯­å¥å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„ï¼Œç¼–è¯‘å™¨æ”¶é›†çš„é¡ºåºæ˜¯ç”±è¯­å¥åœ¨æºæ–‡ä»¶ä¸­å‡ºç°çš„é¡ºåºå†³å®šçš„ é™æ€è¯­å¥å—ä¸­åªèƒ½è®¿é—®åˆ°å®šä¹‰åœ¨é™æ€è¯­å¥å—ä¹‹å‰çš„å˜é‡ï¼Œå®šä¹‰åœ¨å®ƒä¹‹åçš„å˜é‡ï¼Œåœ¨å‰é¢çš„é™æ€è¯­å¥å—å¯ä»¥èµ‹å€¼ï¼Œä½†æ˜¯ä¸èƒ½è®¿é—® static { i=1; // å¯ä»¥èµ‹å€¼ System.out.println(i); // æ— æ³•é€šè¿‡ç¼–è¯‘ } static int i =0; Javaè™šæ‹Ÿæœºä¼šä¿è¯åœ¨å­ç±»çš„()æ–¹æ³•æ‰§è¡Œå‰ï¼Œçˆ¶ç±»çš„()æ–¹æ³•å·²ç»æ‰§è¡Œå®Œæ¯• static class Father { static int a= 1; static { a=2; } } static class Son extends Father{ static int b = a; } public static void main(String[] args) { System.out.println(Son.a); // 2 } ()æ–¹æ³•å¯¹äºç±»æˆ–æ¥å£æ¥è¯´å¹¶ä¸æ˜¯å¿…éœ€çš„ï¼Œå¦‚æœä¸€ä¸ªç±»ä¸­æ²¡æœ‰é™æ€è¯­å¥å—ï¼Œä¹Ÿæ²¡æœ‰å¯¹å˜é‡çš„èµ‹å€¼æ“ä½œï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å¯ä»¥ä¸ä¸ºè¿™ä¸ªç±»ç”Ÿæˆ()æ–¹æ³• æ‰§è¡Œæ¥å£çš„()æ–¹æ³•ä¸éœ€è¦å…ˆæ‰§è¡Œçˆ¶æ¥å£çš„()æ–¹æ³• JVMä¼šä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è¿›å…¥clinitæ–¹æ³• ç±»åŠ è½½æ—¶æœº ä¸»åŠ¨å¼•ç”¨ é‡åˆ° newã€getstaticã€putstaticã€invokestatic è¿™å››æ¡å­—èŠ‚ç æŒ‡ä»¤æ—¶ï¼Œå¦‚æœç±»æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™å¿…é¡»å…ˆè§¦å‘å…¶åˆå§‹åŒ– newå…³é”®å­—å®ä¾‹åŒ–å¯¹è±¡ è¯»å–æˆ–è®¾ç½®ä¸€ä¸ªç±»å‹çš„é™æ€å­—æ®µ è°ƒç”¨ä¸€ä¸ªç±»å‹çš„é™æ€æ–¹æ³• å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨çš„æ—¶å€™ï¼Œå¦‚æœç±»æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶åˆå§‹åŒ– å§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ– è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œç”¨æˆ·éœ€è¦æŒ‡å®šä¸€ä¸ªè¦æ‰§è¡Œçš„ä¸»ç±»ï¼ˆåŒ…å« main() æ–¹æ³•çš„é‚£ä¸ªç±»ï¼‰ï¼Œè™šæ‹Ÿæœºä¼šå…ˆåˆå§‹åŒ–è¿™ä¸ªä¸»ç±» å¦‚æœä¸€ä¸ªjava.lang.invoke.MethodHandleå®ä¾‹æœ€åçš„è§£æç»“æœä¸ºREF_getStaticã€REF_putStaticã€REF_invokeStaticREF_newInvokeSpecialå››ç§ç±»å‹çš„æ–¹æ³•å¥æŸ„ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¥æŸ„å¯¹åº”çš„ç±»æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶åˆå§‹åŒ– ä¸€ä¸ªæ¥å£ä¸­å®šä¹‰äº†é»˜è®¤æ–¹æ³•ï¼Œå¦‚æœæœ‰è¿™ä¸ªæ¥å£çš„å®ç°ç±»å‘ç”Ÿäº†åˆå§‹åŒ–ï¼Œé‚£è¯¥æ¥å£è¦åœ¨å…¶ä¹‹å‰è¢«åˆå§‹åŒ– è¢«åŠ¨å¼•ç”¨ é™¤æ­¤ä¸»åŠ¨å¼•ç”¨å¤–ï¼Œæ‰€æœ‰å¼•ç”¨ç±»çš„æ–¹å¼éƒ½ä¸ä¼šè§¦å‘åˆå§‹åŒ–ï¼Œç§°ä¸ºè¢«åŠ¨å¼•ç”¨ é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ– static class Father { static { System.out.println(\"father init\"); } static int value = 123; } static class Son extends Father{ static { System.out.println(\"son init\"); } } public static void main(String[] args) { System.out.println(Son.value); // fatcher init ... } å®šä¹‰ä¸€ä¸ªè¯¥ç±»çš„æ•°ç»„ä¸ä¼šå¯¼è‡´è¯¥ç±»çš„åˆå§‹åŒ– static class Ref{ static { System.out.println(\"ref init\"); } } public static void main(String[] args) { //Ref[]è¿™ä¸ªç±»ç”±è™šæ‹Ÿæœºè‡ªåŠ¨ç”Ÿæˆï¼ŒåŒ…è£…äº†å¯¹çœŸæ­£æ•°ç»„çš„è®¿é—® Ref[] refs = new Ref[10]; // print nothing } å¼•ç”¨è¯¥ç±»çš„å¸¸é‡ä¸ä¼šå¯¼è‡´è¯¥ç±»åˆå§‹åŒ– static class Ref { static { System.out.println(\"ref init\"); } public static final int value = 123; } public static void main(String[] args) { // ç¼–è¯‘æœŸä¼˜åŒ–æ‰äº†ï¼Œè¿™ä¸ª123å­˜æ”¾åœ¨å¸¸é‡æ± é‡Œé¢ System.out.println(Ref.value); // only print 123 } ç±»åŠ è½½å™¨ ä¸¤ä¸ªç±»ç›¸ç­‰ï¼Œéœ€è¦ç±»æœ¬èº«ç›¸ç­‰ï¼Œå¹¶ä¸”ä½¿ç”¨åŒä¸€ä¸ªç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½ ClassLoader myLoader = new ClassLoader() { @Override public Class loadClass(String name) throws ClassNotFoundException { try { String fileName = name.substring(name.lastIndexOf(\".\") + 1)+\".class\"; InputStream is = getClass().getResourceAsStream(fileName); if (is == null) { return super.loadClass(name); } byte[] b = new byte[is.available()]; is.read(b); return defineClass(name, b, 0, b.length); } catch (IOException e) { throw new ClassNotFoundException(name); } } }; Object obj = myLoader.loadClass(\"wang.ismy.jvm.classload.ClassLoaderTest\").newInstance(); System.out.println(obj.getClass()); // objæ˜¯ä½¿ç”¨è‡ªå®šä¹‰åŠ è½½å™¨åŠ è½½çš„ System.out.println(obj instanceof wang.ismy.jvm.classload.ClassLoaderTest); // false åˆ†ç±» æŒ‰è™šæ‹Ÿæœºè§’åº¦ å¯åŠ¨ç±»åŠ è½½å™¨(bootstrap classloader)ï¼Œä½¿ç”¨ C++ å®ç°ï¼Œæ˜¯è™šæ‹Ÿæœºè‡ªèº«çš„ä¸€éƒ¨åˆ† ç”¨æ¥åŠ è½½æ ¸å¿ƒç±»åº“ å¦‚rt.jar å…¶ä»–ç±»åŠ è½½å™¨ï¼Œéƒ½æ˜¯JAVAä¸­ç»§æ‰¿è‡ªjava.lang.ClassLoaderçš„ç±»åŠ è½½å™¨ æŒ‰JAVAå¼€å‘äººå‘˜è§’åº¦ å¯åŠ¨ç±»åŠ è½½å™¨ è´Ÿè´£\\libç›®å½• æ‰©å±•ç±»åŠ è½½å™¨ è´Ÿè´£\\lib\\ext åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ ç¨‹åºè‡ªå®šä¹‰ è´Ÿè´£åŠ è½½ç”¨æˆ·ç±»è·¯å¾„ï¼ˆClassPathï¼‰ä¸Šæ‰€æœ‰çš„ç±»åº“ åŒäº²å§”æ´¾æ¨¡å‹ protected Class loadClass(String name, boolean resolve) throws ClassNotFoundException { synchronized (getClassLoadingLock(name)) { // é¦–å…ˆï¼Œæ£€æŸ¥è¯·æ±‚çš„ç±»æ˜¯å¦å·²ç»è¢«åŠ è½½è¿‡äº† Class c = findLoadedClass(name); if (c == null) { long t0 = System.nanoTime(); try { if (parent != null) { // å¦‚æœæœ‰çˆ¶åŠ è½½å™¨å°±ä»ä»çˆ¶åŠ è½½å™¨åŠ è½½ c = parent.loadClass(name, false); } else { // å¦åˆ™ä»å¯åŠ¨ç±»åŠ è½½å™¨åŠ è½½ c = findBootstrapClassOrNull(name); } } catch (ClassNotFoundException e) { // å¦‚æœä¸€ä¸ªç±»æ‰¾ä¸åˆ°å°±æŠ›å‡ºClassNotFoundException // è¯´æ˜çˆ¶ç±»å’Œå¯åŠ¨ç±»åŠ è½½å™¨éƒ½æ— æ³•æ»¡è¶³éœ€æ±‚ } if (c == null) { // ä¾æ—§æ‰¾ä¸åˆ°ï¼Œå°±è°ƒç”¨è‡ªèº«çš„findClass long t1 = System.nanoTime(); c = findClass(name); // ç”¨æ¥è®°å½•ç±»åŠ è½½æ—¶é—´ç­‰ç­‰ä¿¡æ¯çš„... sun.misc.PerfCounter.getParentDelegationTime().addTime(t1 - t0); sun.misc.PerfCounter.getFindClassTime().addElapsedTimeFrom(t1); sun.misc.PerfCounter.getFindClasses().increment(); } } if (resolve) { resolveClass(c); } return c; } } é¦–å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»åŠ è½½ è‹¥æ— ï¼Œæ‰¾çˆ¶åŠ è½½å™¨åŠ è½½ è‹¥å†æ— ï¼Œç”±å½“å‰åŠ è½½å™¨åŠ è½½ ä¸Šçº§ç±»åŠ è½½å™¨æ‰€åŠ è½½çš„ç±»ï¼Œæ— æ³•è®¿é—®ä¸‹çº§ç±»åŠ è½½å™¨æ‰€åŠ è½½çš„ç±» ä¸€ä¸ªç±»åŠ è½½å™¨é¦–å…ˆå°†ç±»åŠ è½½è¯·æ±‚è½¬å‘åˆ°çˆ¶ç±»åŠ è½½å™¨ï¼Œåªæœ‰å½“çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ—¶æ‰å°è¯•è‡ªå·±åŠ è½½ è¿™æ ·å°±ä½¿å¾— Java ç±»éšç€å®ƒçš„ç±»åŠ è½½å™¨ä¸€èµ·å…·æœ‰ä¸€ç§å¸¦æœ‰ä¼˜å…ˆçº§çš„å±‚æ¬¡å…³ç³»ï¼Œä»è€Œä½¿å¾—åŸºç¡€ç±»å¾—åˆ°ç»Ÿä¸€ æ‰€ä»¥ç³»ç»Ÿä¸­çš„Stringç±»åŠ è½½ä¼˜å…ˆçº§å°±ä¼šæ¯”åœ¨classpathæˆ–è€…ç”¨æˆ·è‡ªå®šä¹‰çš„Stringç±»ä¼˜å…ˆçº§æ›´é«˜ è‡ªå®šä¹‰ç±»åŠ è½½è·¯å¾„ ä½¿ç”¨URLClassLoader URL url = new URL(\"file:~/mysql-connector-java-5.1.44-bin.jar\"); URLClassLoader loader = new URLClassLoader(new URL[]{url}); Class klass = loader.loadClass(\"com.mysql.jdbc.Driver\"); System.out.println(klass); è·å–å½“å‰çº¿ç¨‹ç±»åŠ è½½å™¨ ClassLoader contextClassLoader = Thread.currentThread().getContextClassLoader(); çƒ­éƒ¨ç½² è‡ªå®šä¹‰ç±»åŠ è½½å™¨ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ findInCache -> parent.loadClass -> findClass() class MyClassLoader extends ClassLoader { @Override protected Class findClass(String name) throws ClassNotFoundException { if (\"wang.ismy.Main\".equals(name)){ byte[] bytes = new byte[0]; try { bytes = new FileInputStream(\"path\").readAllBytes(); } catch (IOException e) { e.printStackTrace(); } return defineClass(name,bytes,0,bytes.length); }else { return super.findClass(name); } } } è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„åœºæ™¯ï¼š éš”ç¦»åŠ è½½ç±» ç¡®ä¿ä¸­é—´ä»¶åº”ç”¨çš„jarä¸ä¼šå½±å“åˆ°ä¸­é—´ä»¶çš„jar ä¿®æ”¹åŠ è½½æ–¹å¼ ä»å…¶ä»–åœ°æ–¹è·å–classå­—èŠ‚æµ å­—èŠ‚ç åŠ è§£å¯† æ‰“ç ´åŒäº²å§”æ´¾æ¨¡å‹ JDK1.2ä¹‹å‰ è‡ªå®šä¹‰ClassLoaderå¿…é¡»é‡å†™loadClass ThreadContextClassLoaderå¯ä»¥å®ç°åŸºç¡€ç±»è°ƒç”¨å®ç°ç±»ä»£ç ï¼Œé€šè¿‡thread.setContextClassLoaderæŒ‡å®š OSGi çš„ç±»æŸ¥æ‰¾æ¨¡å‹ä¹Ÿä¸éµå®ˆåŒäº²å§”æ´¾ Tomcatçš„ç±»åŠ è½½ä¹Ÿä¸éµå®ˆ å®ä¾‹ Tomcat çš„æ­£ç»Ÿç±»åŠ è½½æœºåˆ¶ æ”¾ç½®åœ¨/commonç›®å½•ä¸­ã€‚ç±»åº“å¯è¢«Tomcatå’Œæ‰€æœ‰çš„Webåº”ç”¨ç¨‹åºå…±åŒä½¿ç”¨ã€‚ æ”¾ç½®åœ¨/serverç›®å½•ä¸­ã€‚ç±»åº“å¯è¢«Tomcatä½¿ç”¨ï¼Œå¯¹æ‰€æœ‰çš„Webåº”ç”¨ç¨‹åºéƒ½ä¸å¯è§ã€‚ æ”¾ç½®åœ¨/sharedç›®å½•ä¸­ã€‚ç±»åº“å¯è¢«æ‰€æœ‰çš„Webåº”ç”¨ç¨‹åºå…±åŒä½¿ç”¨ï¼Œä½†å¯¹Tomcatè‡ªå·±ä¸å¯è§ã€‚ æ”¾ç½®åœ¨/WebApp/WEB-INFç›®å½•ä¸­ã€‚ç±»åº“ä»…ä»…å¯ä»¥è¢«è¯¥Webåº”ç”¨ç¨‹åºä½¿ç”¨ Tomcat6ä¹‹å ç”¨æˆ·å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æŒ‡å®šserver.loaderå’Œshare.loaderçš„æ–¹å¼é‡æ–°å¯ç”¨åŸæ¥å®Œæ•´çš„åŠ è½½å™¨æ¶æ„ OSGi çµæ´»çš„ç±»åŠ è½½æœºåˆ¶ OSGiï¼ˆOpen Service Gateway Initiativeï¼‰æ˜¯OSGiè”ç›Ÿï¼ˆOSGi Allianceï¼‰åˆ¶è®¢çš„ä¸€ä¸ªåŸºäºJavaè¯­è¨€çš„åŠ¨æ€æ¨¡å—åŒ–è§„èŒƒ åœ¨OSGiä¸­ï¼ŒåŠ è½½å™¨ä¹‹é—´çš„å…³ç³»ä¸å†æ˜¯åŒäº²å§”æ´¾æ¨¡å‹çš„æ ‘å½¢ç»“æ„ï¼Œè€Œæ˜¯å·² ç»è¿›ä¸€æ­¥å‘å±•æˆä¸€ç§æ›´ä¸ºå¤æ‚çš„ã€è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šçš„ç½‘çŠ¶ç»“æ„ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-08 04:33:43 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/å‰ç«¯ç¼–è¯‘ä¸ä¼˜åŒ–.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/å‰ç«¯ç¼–è¯‘ä¸ä¼˜åŒ–.html","title":"å‰ç«¯ç¼–è¯‘ä¸ä¼˜åŒ–","keywords":"","body":"å‰ç«¯ç¼–è¯‘ä¸ä¼˜åŒ– å°†.javaç¼–è¯‘ä¸º.class ç¼–è¯‘è¿‡ç¨‹ initProcessAnnotations(processors, sourceFileObjects, classnames); // æ’å…¥æ³¨è§£å¤„ç†å™¨ ... processAnnotations( // æ³¨è§£å¤„ç† enterTrees( stopIfError(CompileState.PARSE,initModules(stopIfError(CompileState.PARSE, parseFiles(sourceFileObjects)))) ), classnames ); ... case BY_TODO: // åˆ†æåŠå­—èŠ‚ç ç”Ÿæˆ while (!todo.isEmpty()) generate(desugar(flow(attribute(todo.remove())))); break; å‡†å¤‡è¿‡ç¨‹ï¼šåˆå§‹åŒ–æ’å…¥å¼æ³¨è§£å¤„ç†å™¨ è§£æä¸å¡«å……ç¬¦å·è¡¨ è¯æ³•ã€è¯­æ³•åˆ†æ å°†æºä»£ç çš„å­—ç¬¦æµè½¬å˜ä¸ºæ ‡è®°é›†åˆï¼Œæ„é€ å‡ºæŠ½è±¡è¯­æ³•æ ‘ å¦‚int a = b è§£æå‡ºint,a,=,bå››ä¸ªç¬¦å· ç»è¿‡è¯æ³•å’Œè¯­æ³•åˆ†æç”Ÿæˆè¯­æ³•æ ‘ä»¥åï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šå†å¯¹æºç å­—ç¬¦æµè¿›è¡Œæ“ä½œäº†ï¼Œåç»­çš„æ“ä½œéƒ½å»ºç«‹åœ¨æŠ½è±¡è¯­æ³•æ ‘ä¹‹ä¸Š å¡«å……ç¬¦å·è¡¨ äº§ç”Ÿç¬¦å·åœ°å€å’Œç¬¦å·ä¿¡æ¯ ç¬¦å·è¡¨ä¸­æ‰€ç™»è®°çš„ä¿¡æ¯åœ¨ç¼–è¯‘çš„ä¸åŒé˜¶æ®µéƒ½è¦è¢«ç”¨åˆ° æ³¨è§£å¤„ç† æ’å…¥å¼æ³¨è§£å¤„ç†å™¨çš„æ‰§è¡Œé˜¶æ®µ å¯ä»¥æŠŠæ’å…¥å¼æ³¨è§£å¤„ç†å™¨çœ‹ä½œæ˜¯ä¸€ç»„ç¼–è¯‘å™¨çš„æ’ä»¶ï¼Œå½“è¿™äº›æ’ä»¶å·¥ä½œæ—¶ï¼Œå…è®¸è¯»å–ã€ä¿®æ”¹ã€æ·»åŠ æŠ½è±¡è¯­æ³•æ ‘ä¸­çš„ä»»æ„å…ƒç´ ã€‚å¦‚æœè¿™äº›æ’ä»¶åœ¨å¤„ç†æ³¨è§£æœŸé—´å¯¹è¯­æ³•æ ‘è¿›è¡Œè¿‡ä¿®æ”¹ï¼Œç¼–è¯‘å™¨å°†å›åˆ°è§£æåŠå¡«å……ç¬¦å·è¡¨çš„è¿‡ç¨‹é‡æ–°å¤„ç†ï¼Œç›´åˆ°æ‰€æœ‰æ’å…¥å¼æ³¨è§£å¤„ç†å™¨éƒ½æ²¡æœ‰å†å¯¹è¯­æ³•æ ‘è¿›è¡Œä¿®æ”¹ä¸ºæ­¢ åˆ†æä¸å­—èŠ‚ç ç”Ÿæˆ è¯­ä¹‰åˆ†æçš„ä¸»è¦ä»»åŠ¡åˆ™æ˜¯å¯¹ç»“æ„ä¸Šæ­£ç¡®çš„æºç¨‹åºè¿›è¡Œä¸Šä¸‹æ–‡ç›¸å…³æ€§è´¨çš„æ£€æŸ¥ï¼Œè­¬å¦‚è¿›è¡Œç±»å‹æ£€æŸ¥ã€æ§åˆ¶æµæ£€æŸ¥ã€æ•°æ®æµæ£€æŸ¥ æ ‡æ³¨æ£€æŸ¥ æ ‡æ³¨æ£€æŸ¥æ­¥éª¤è¦æ£€æŸ¥çš„å†…å®¹åŒ…æ‹¬è¯¸å¦‚å˜é‡ä½¿ç”¨å‰æ˜¯å¦å·²è¢«å£°æ˜ã€å˜é‡ä¸èµ‹å€¼ä¹‹é—´çš„æ•°æ®ç±»å‹æ˜¯å¦èƒ½å¤ŸåŒ¹é…ç­‰ç­‰ è¿™ä¸ªé˜¶æ®µä¼šå¯¹æºä»£ç åšä¸€ä¸ªå¸¸é‡æŠ˜å çš„ä»£ç ä¼˜åŒ– æ•°æ®æµåŠæ§åˆ¶æµåˆ†æ æ•°æ®æµåˆ†æå’Œæ§åˆ¶æµåˆ†ææ˜¯å¯¹ç¨‹åºä¸Šä¸‹æ–‡é€»è¾‘æ›´è¿›ä¸€æ­¥çš„éªŒè¯ï¼Œå®ƒå¯ä»¥æ£€æŸ¥å‡ºè¯¸å¦‚ç¨‹åºå±€éƒ¨å˜é‡åœ¨ä½¿ç”¨å‰æ˜¯å¦æœ‰èµ‹å€¼ã€æ–¹æ³•çš„æ¯æ¡è·¯å¾„æ˜¯å¦éƒ½æœ‰è¿”å›å€¼ã€æ˜¯å¦æ‰€æœ‰çš„å—æŸ¥å¼‚å¸¸éƒ½è¢«æ­£ç¡®å¤„ç†äº†ç­‰é—®é¢˜ æ¯”å¦‚finalå±€éƒ¨å˜é‡çš„ä¸å¯ä¿®æ”¹æ€§å°±æ˜¯åœ¨è¿™ä¸ªé˜¶æ®µè¿›è¡Œä¿è¯ è§£è¯­æ³•ç³– å°†ç®€åŒ–ä»£ç ç¼–å†™çš„è¯­æ³•ç³–è¿˜åŸä¸ºåŸæœ‰çš„å½¢å¼ å­—èŠ‚ç ç”Ÿæˆ å°†å‰é¢å„ä¸ªæ­¥éª¤æ‰€ç”Ÿæˆçš„ä¿¡æ¯è½¬åŒ–æˆå­—èŠ‚ç  å®ä¾‹æ„é€ å™¨()æ–¹æ³•å’Œç±»æ„é€ å™¨()æ–¹æ³•å°±æ˜¯åœ¨è¿™ä¸ªé˜¶æ®µè¢«æ·»åŠ åˆ°è¯­æ³•æ ‘ä¹‹ä¸­çš„ Java è¯­æ³•ç³– æ³›å‹ Java çš„æ³›å‹æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µè§£å†³çš„ ä¹Ÿå°±è¯´åœ¨è¿è¡Œé˜¶æ®µæ³›å‹çš„ç±»å‹éƒ½è¢«æ“¦é™¤äº†ï¼Œæ‰€ä»¥ä»¥ä¸‹å‡ ç§ç”¨æ³•éƒ½æœ‰é—®é¢˜ public class TypeErasureGenerics { public void doSomething(Object item) { if (item instanceof E) { // ä¸åˆæ³•ï¼Œæ— æ³•å¯¹æ³›å‹è¿›è¡Œå®ä¾‹åˆ¤æ–­ ... } E newItem = new E(); // ä¸åˆæ³•ï¼Œæ— æ³•ä½¿ç”¨æ³›å‹åˆ›å»ºå¯¹è±¡ E[] itemArray = new E[10]; // ä¸åˆæ³•ï¼Œæ— æ³•ä½¿ç”¨æ³›å‹åˆ›å»ºæ•°ç»„ } } Java ä¹‹æ‰€ä»¥è¦åœ¨ç¼–è¯‘ä¹‹åæŠ¹é™¤æ³›å‹ å¾ˆå¤§çš„ä¸€ä¸ªåŸå› å°±æ˜¯ä¸ºäº†ä¿è¯å‘åå…¼å®¹ ä¹Ÿå°±æ˜¯é«˜ç‰ˆæœ¬JVMå¯ä»¥è¿è¡Œä½ç‰ˆæœ¬Classæ–‡ä»¶ ç”±äºJava é‡‡ç”¨çš„æ˜¯é€šè¿‡åœ¨æŸäº›åœ°æ–¹æ’å…¥ç±»å‹è½¬æ¢å­—èŠ‚ç çš„æ–¹å¼æ¥å®ç°æ³›å‹ï¼Œæ‰€ä»¥æ“¦é™¤æ³›å‹å¸¦æ¥äº†ä¸€äº›é—®é¢˜ï¼š æ— æ³•æ”¯æŒåŸç”Ÿç±»å‹ å› ä¸ºåŸç”Ÿç±»å‹æ— æ³•è½¬æ¢ä¸ºObject è¿è¡ŒæœŸæ— æ³•è·å–åˆ°æ³›å‹ç±»å‹ï¼Œå¿…é¡»é€šè¿‡é¢å¤–çš„æ‰‹æ®µï¼ˆæ¯”å¦‚æ–¹æ³•ä¼ å…¥ä¸€ä¸ªClasså¯¹è±¡ï¼‰ åæ¥å¼•å…¥äº†è¯¸å¦‚Signatureã€LocalVariableTypeTableç­‰æ–°çš„å±æ€§ç”¨äºè§£å†³ä¼´éšæ³›å‹è€Œæ¥çš„å‚æ•°ç±»å‹çš„è¯†åˆ«é—®é¢˜ è‡ªåŠ¨è£…æ‹†ç®± éå†å¾ªç¯ public static void main(String[] args) { List list = Arrays.asList(1, 2, 3, 4); int sum = 0; for (int i : list) { sum += i; } System.out.println(sum); } ç¼–è¯‘ä¹‹åï¼š public static void main(String[] args) { List list = Arrays.asList( new Integer[] { Integer.valueOf(1), Integer.valueOf(2), Integer.valueOf(3), Integer.valueOf(4) }); int sum = 0; for (Iterator localIterator = list.iterator(); localIterator.hasNext(); ) { int i = ((Integer)localIterator.next()).intValue(); sum += i; } System.out.println(sum); } ä½†è¿˜æ˜¯éœ€è¦æ³¨æ„è‡ªåŠ¨è£…æ‹†ç®±çš„é™·é˜± æ¯”å¦‚è‘—åçš„Integer 1 = 1 é—®é¢˜ == åœ¨ä¸æ™•å€’ç®—æœ¯è¿ç®—çš„æƒ…å†µä¸‹ä¸ä¼šè‡ªåŠ¨è£…æ‹†ç®± ä»¥åŠåŒ…è£…ç±»çš„equalså¹¶ä¸ä¼šå¤„ç†è½¬å‹é—®é¢˜ æ¡ä»¶ç¼–è¯‘ ä½¿ç”¨å¸¸é‡ä½œä¸ºæ¡ä»¶ å¯ä»¥æ¡ä»¶ç¼–è¯‘ä»£ç å— ç¼–è¯‘æœŸç¼–è¯‘æœŸä¼šæŠŠæ­»ä»£ç æ¶ˆé™¤æ‰ if (condition){ ... } å®æˆ˜-è‡ªå®šä¹‰æ³¨è§£å¤„ç†å™¨ @SupportedAnnotationTypes(\"*\") @SupportedSourceVersion(SourceVersion.RELEASE_8) public class NameScanner extends AbstractProcessor { @Override public boolean process(Set annotations, RoundEnvironment roundEnv) { System.out.println(annotations); return false; } } è¿è¡Œæ—¶æŒ‡å®šå¤„ç†å™¨ï¼š javac -processor wang.ismy.jvm.annotation.NameScanner wang/ismy/jvm/Main.java MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-08 08:28:16 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/åç«¯ç¼–è¯‘ä¸ä¼˜åŒ–.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/åç«¯ç¼–è¯‘ä¸ä¼˜åŒ–.html","title":"åç«¯ç¼–è¯‘ä¸ä¼˜åŒ–","keywords":"","body":"åç«¯ç¼–è¯‘ä¸ä¼˜åŒ– å³æ—¶ç¼–è¯‘å™¨ è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨ åœ¨æ•´ä¸ªJavaè™šæ‹Ÿæœºæ‰§è¡Œæ¶æ„é‡Œï¼Œè§£é‡Šå™¨ä¸ç¼–è¯‘å™¨ç»å¸¸æ˜¯ç›¸è¾…ç›¸æˆåœ°é…åˆå·¥ä½œ HotSpotåœ¨JDK10ä¹‹å‰å­˜åœ¨ä¸¤ä¸ªç¼–è¯‘å™¨ï¼š C1:å®¢æˆ·ç«¯ç¼–è¯‘å™¨ é€šè¿‡ -client å‚æ•°æŒ‡å®šä½¿ç”¨è¿™ä¸ªç¼–è¯‘å™¨ C2:æœåŠ¡ç«¯ç¼–è¯‘å™¨ é€šè¿‡ -server å‚æ•°æŒ‡å®šä½¿ç”¨è¿™ä¸ªç¼–è¯‘å™¨ åœ¨JDK10ä¹‹å å‡ºç°äº†ä¸€ä¸ªGraalç¼–è¯‘å™¨ ç›®çš„æ˜¯ç”¨åœ°å–ä»£C2 æ— è®ºé‡‡ç”¨çš„ç¼–è¯‘å™¨æ˜¯C1è¿˜æ˜¯C2ï¼Œè§£é‡Šå™¨ä¸ç¼–è¯‘å™¨æ­é…ä½¿ç”¨çš„æ–¹å¼åœ¨è™šæ‹Ÿæœºä¸­è¢«ç§°ä¸ºâ€œæ··åˆæ¨¡å¼â€ å¯ä»¥ä½¿ç”¨å‚æ•°â€œ-Xintâ€å¼ºåˆ¶è™šæ‹Ÿæœºè¿è¡Œäºâ€œè§£é‡Šæ¨¡å¼ ä½¿ç”¨å‚æ•°â€œ-Xcompâ€å¼ºåˆ¶è™šæ‹Ÿæœºè¿è¡Œäºâ€œç¼–è¯‘æ¨¡å¼â€ åˆ†å±‚ç¼–è¯‘æ ¹æ®ç¼–è¯‘å™¨ç¼–è¯‘ã€ä¼˜åŒ–çš„è§„æ¨¡ä¸è€—æ—¶ï¼Œåˆ’åˆ†å‡ºä¸åŒçš„ç¼–è¯‘å±‚æ¬¡ï¼Œè™šæ‹Ÿæœºä¼šæ ¹æ®å®é™…æƒ…å†µåœ¨ä¸åŒå±‚çº§ä¹‹é—´è½¬æ¢ ç¼–è¯‘å¯¹è±¡ä¸è§¦å‘æ¡ä»¶ å¤šæ¬¡è°ƒç”¨çš„æ–¹æ³•ä»¥åŠå¤šæ¬¡æ‰§è¡Œçš„å¾ªç¯ä½“è¢«ç§°ä¸ºçƒ­ç‚¹ä»£ç  è¿™äº›çƒ­ç‚¹ä»£ç ä¼šè¢«è¿›è¡Œç¼–è¯‘ è¿™ä¸¤ç§æƒ…å†µç¼–è¯‘çš„ç›®æ ‡éƒ½ä¼šæ˜¯æ–¹æ³•ä½“ ç¬¬äºŒç§æƒ…å†µçš„ç¼–è¯‘æ–¹å¼å› ä¸ºç¼–è¯‘å‘ç”Ÿåœ¨æ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå› æ­¤è¢«å¾ˆå½¢è±¡åœ°ç§°ä¸ºâ€œæ ˆä¸Šæ›¿æ¢â€ JVM å¯¹äºçƒ­ç‚¹ä»£ç çš„åˆ¤æ–­ç§°ä¹‹ä¸ºçƒ­ç‚¹æ£€æµ‹ï¼Œç›®å‰æœ‰ä¸¤ç§æ–¹æ³•ï¼š åŸºäºé‡‡æ ·ï¼šé‡‡ç”¨è¿™ç§æ–¹æ³•çš„è™šæ‹Ÿæœºä¼šå‘¨æœŸæ€§åœ°æ£€æŸ¥å„ä¸ªçº¿ç¨‹çš„è°ƒç”¨æ ˆé¡¶ï¼Œå¦‚æœå‘ç°æŸä¸ªï¼ˆæˆ–æŸäº›ï¼‰æ–¹æ³•ç»å¸¸å‡ºç°åœ¨æ ˆé¡¶ï¼Œé‚£è¿™ä¸ªæ–¹æ³•å°±æ˜¯â€œçƒ­ç‚¹æ–¹æ³•â€ åŸºäºè®¡æ•°å™¨ï¼šé‡‡ç”¨è¿™ç§æ–¹æ³•çš„è™šæ‹Ÿæœºä¼šä¸ºæ¯ä¸ªæ–¹æ³•ï¼ˆç”šè‡³æ˜¯ä»£ç å—ï¼‰å»ºç«‹è®¡æ•°å™¨ï¼Œç»Ÿè®¡æ–¹æ³•çš„æ‰§è¡Œæ¬¡æ•°ï¼Œå¦‚æœæ‰§è¡Œæ¬¡æ•°è¶…è¿‡ä¸€å®šçš„é˜ˆå€¼å°±è®¤ä¸ºå®ƒæ˜¯â€œçƒ­ç‚¹æ–¹æ³•â€ HotSpot é‡‡ç”¨çš„æ˜¯è®¡æ•°å™¨æ–¹å¼ å¯ä»¥é€šè¿‡è™šæ‹Ÿæœºå‚æ•°-XXï¼šCompileThresholdæ¥äººä¸ºè®¾å®šè¿™ä¸ªè®¡æ•°å™¨çš„é˜ˆå€¼ é»˜è®¤è®¾ç½®ä¸‹ HotSpotçš„è®¡æ•°å™¨å¹¶ä¸æ˜¯ç»å¯¹æŠ€æœ¯ è€Œæ˜¯ä¸€æ®µæ—¶é—´å†…çš„ç›¸å¯¹è®¡æ•° å½“è¿™æ®µæ—¶é—´ä¸€è¿‡ è¯¥æ–¹æ³•çš„è°ƒç”¨è®¡æ•°å™¨å°±ä¼šè¢«å‡å°‘ä¸€åŠ ç§°ä¹‹ä¸ºåŠè¡°å‘¨æœŸ å¯ä»¥ä½¿ç”¨è™šæ‹Ÿæœºå‚æ•°-XXï¼š-UseCounterDecayæ¥å…³é—­çƒ­åº¦è¡°å‡ ä¸æ–¹æ³•è®¡æ•°å™¨ä¸åŒï¼Œå›è¾¹è®¡æ•°å™¨æ²¡æœ‰è®¡æ•°çƒ­åº¦è¡°å‡çš„è¿‡ç¨‹ï¼Œå› æ­¤è¿™ä¸ªè®¡æ•°å™¨ç»Ÿè®¡çš„å°±æ˜¯è¯¥æ–¹æ³•å¾ª ç¯æ‰§è¡Œçš„ç»å¯¹æ¬¡æ•° ç¼–è¯‘è¿‡ç¨‹ åœ¨ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œä¸€ä¸ªå¹³å°ç‹¬ç«‹çš„å‰ç«¯å°†å­—èŠ‚ç æ„é€ æˆä¸€ç§é«˜çº§ä¸­é—´ä»£ç è¡¨ç¤ºï¼ˆHigh-Level Intermediate Representationï¼ŒHIRï¼Œå³ä¸ç›®æ ‡æœºå™¨æŒ‡ä»¤é›†æ— å…³çš„ä¸­é—´è¡¨ç¤ºï¼‰ åœ¨ç¬¬äºŒä¸ªé˜¶æ®µï¼Œä¸€ä¸ªå¹³å°ç›¸å…³çš„åç«¯ä»HIRä¸­äº§ç”Ÿä½çº§ä¸­é—´ä»£ç è¡¨ç¤ºï¼ˆLow-Level Intermediate Representationï¼ŒLIRï¼Œå³ä¸ç›®æ ‡æœºå™¨æŒ‡ä»¤é›†ç›¸å…³çš„ä¸­é—´è¡¨ç¤ºï¼‰ æœ€åçš„é˜¶æ®µæ˜¯åœ¨å¹³å°ç›¸å…³çš„åç«¯ä½¿ç”¨çº¿æ€§æ‰«æç®—æ³•ï¼ˆLinear Scan Register Allocationï¼‰åœ¨LIRä¸Šåˆ†é…å¯„å­˜å™¨ï¼Œå¹¶åœ¨LIRä¸Šåšçª¥å­”ï¼ˆPeepholeï¼‰ä¼˜åŒ–ï¼Œç„¶åäº§ç”Ÿæœºå™¨ä»£ç  æå‰ç¼–è¯‘å™¨ GCJï¼ˆGNU Compiler for Javaï¼‰å‡ºç°åæå‰ç¼–è¯‘åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§è¿›å±•ï¼Œå› ä¸ºè¿™ä¸Javaä¸€æ¬¡ç¼–è¯‘åˆ°å¤„è¿è¡Œçš„ç†å¿µç›¸æ‚–ï¼Œç›´åˆ°Android çš„ARTçš„å‡ºç°ï¼Œä¹Ÿéœ‡æ’¼åˆ°äº† Java ä¸–ç•Œ æå‰ç¼–è¯‘çš„å¾—ä¸å¤± ä¼ ç»Ÿæå‰ç¼–è¯‘æ‰“ç ´çš„å°±æ˜¯å³æ—¶ç¼–è¯‘å ç”¨äº†åŸæœ¬ç»™ç¨‹åºè¿è¡Œæ—¶çš„èµ„æº æå‰ç¼–è¯‘çš„ç¬¬äºŒæ¡è·¯å°±æ˜¯åœ¨ç»™å³æ—¶ç¼–è¯‘åšåŠ é€Ÿ ä½†å³ä½¿ç¼–è¯‘åˆæœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š æ€§èƒ½åˆ†æåˆ¶å¯¼ä¼˜åŒ–ï¼ˆProfile-Guided Optimizationï¼ŒPGOï¼‰ï¼Œå¯ä»¥åœ¨è¿è¡Œé˜¶æ®µæ”¶é›†ç›‘æ§ä¿¡æ¯ ä»è€Œæ›´å¥½åœ°è¿›è¡Œä¼˜åŒ– æ¿€è¿›é¢„æµ‹æ€§ä¼˜åŒ–ï¼ˆAggressive Speculative Optimizationï¼‰ï¼Œå³ä½¿ç¼–è¯‘æ¿€è¿›ä¼˜åŒ–å¯ä»¥åšå‡ºä¸€äº›å‡è®¾ å¦‚æœå‡è®¾é”™äº† å¤§ä¸äº†å°±å›é€€åˆ°è§£é‡Šæ¨¡å¼ ä½†æ˜¯æå‰ç¼–è¯‘ä¸èƒ½åšè¿™äº›å‡è®¾ å®ƒå¿…é¡»ä¿è¯ç¨‹åºçš„å¤–éƒ¨å½±å“ä¼˜åŒ–å‰ä¼˜åŒ–åéƒ½æ˜¯ä¸€æ ·çš„ é“¾æ¥æ—¶ä¼˜åŒ–ï¼ˆLink-Time Optimizationï¼ŒLTOï¼‰ jaotc æå‰ç¼–è¯‘ javac Main.class jaotc --output Main.so Main.class # å°†classç¼–è¯‘ä¸ºé™æ€é“¾æ¥æ–‡ä»¶ java -XX:+UnlockExperimentalVMOptions -XX:AOTLibrary=./Main.so Main # è¿è¡Œå®ƒ ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€æœ¯ æ–¹æ³•å†…è” è¢«æˆç§°ä¸ºä¼˜åŒ–ä¹‹æ¯ é™¤äº†æ¶ˆé™¤æ–¹æ³•è°ƒç”¨çš„æˆæœ¬ä¹‹å¤–ï¼Œå®ƒæ›´é‡è¦çš„æ„ä¹‰æ˜¯ä¸ºå…¶ä»–ä¼˜åŒ–æ‰‹æ®µå»ºç«‹è‰¯å¥½çš„åŸºç¡€ åœ¨ Java ä¸­ï¼ŒåŸºæœ¬æ‰€æœ‰å¯¹è±¡çš„æ–¹æ³•éƒ½æ˜¯è™šæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¿™äº›æ–¹æ³•ç›´åˆ°è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šè¢«è°ƒç”¨çš„æ˜¯å“ªä¸€ä¸ªï¼Œè¿™ä½æ–¹æ³•å†…è”å¸¦æ¥äº†å›°éš¾ ä¸ºäº†è§£å†³è™šæ–¹æ³•çš„å†…è”é—®é¢˜ï¼ŒJavaè™šæ‹Ÿæœºé¦–å…ˆå¼•å…¥äº†ä¸€ç§åä¸ºç±»å‹ç»§æ‰¿å…³ç³»åˆ†æï¼ˆClass HierarchyAnalysisï¼ŒCHAï¼‰çš„æŠ€æœ¯ç”¨äºç¡®å®šåœ¨ç›®å‰å·²åŠ è½½çš„ç±»ä¸­ï¼ŒæŸä¸ªæ¥å£æ˜¯å¦æœ‰å¤šäºä¸€ç§çš„å®ç°ã€æŸä¸ªç±»æ˜¯å¦å­˜åœ¨å­ç±»ã€æŸä¸ªå­ç±»æ˜¯å¦è¦†ç›–äº†çˆ¶ç±»çš„æŸä¸ªè™šæ–¹æ³•ç­‰ å¦‚æœCHAä¹Ÿåˆ¤æ–­æ–¹æ³•æœ‰å¤šä¸ªç‰ˆæœ¬ é‚£ä¹ˆä¼šè¿›å…¥æœ€åä¸€æ¬¡å†…è”ç¼“å­˜ä¼˜åŒ–å°è¯• æ€»è€Œè¨€ä¹‹ï¼Œå¤šæ•°æƒ…å†µä¸‹Javaè™šæ‹Ÿæœºè¿›è¡Œçš„æ–¹æ³•å†…è”éƒ½æ˜¯ä¸€ç§æ¿€è¿›ä¼˜åŒ– é€ƒé€¸åˆ†æ æ˜¯ä¸ºå…¶ä»–ä¼˜åŒ–æªæ–½æä¾›ä¾æ®çš„åˆ†ææŠ€æœ¯ åˆ†æå¯¹è±¡åŠ¨æ€ä½œç”¨åŸŸï¼Œå½“ä¸€ä¸ªå¯¹è±¡åœ¨æ–¹æ³•é‡Œé¢è¢«å®šä¹‰åï¼Œå®ƒå¯èƒ½è¢«å¤–éƒ¨æ‰€å¼•ç”¨ é€ƒé€¸çº§åˆ«ä»ä½åˆ°é«˜ï¼š ä¸é€ƒé€¸ æ–¹æ³•é€ƒé€¸ï¼šé€šè¿‡æ–¹æ³•è¿”å›å€¼æˆ–è€…å‚æ•°é€ƒé€¸åˆ°å…¶ä»–æ–¹æ³• çº¿ç¨‹é€ƒé€¸ï¼šè¢«å…¶ä»–çº¿ç¨‹è®¿é—®åˆ° æ ¹æ®è¿™äº›é€ƒé€¸çº§åˆ«ï¼Œå¯ä»¥é‡‡å–ä¸åŒçš„ä¼˜åŒ–æ‰‹æ®µï¼š æ ˆä¸Šåˆ†é… å¦‚æœå¯¹è±¡ä¸ä¼šæ–¹æ³•é€ƒé€¸ é‚£å¯¹è±¡å¯åœ¨æ ˆå†…å­˜åˆ†é… éšç€æ–¹æ³•æ ˆå¼¹å‡ºï¼Œå†…å­˜ä¹Ÿè¢«å›æ”¶ å¤§å¤§å‡å°‘GCçš„å‹åŠ› æ ‡é‡æ›¿æ¢ å¦‚æœå¯¹è±¡ä¸ä¼šæ–¹æ³•é€ƒé€¸ï¼Œå°†å¯¹å¯¹è±¡çš„è®¿é—®è½¬æ¢ä¸ºå¯¹int longçš„æ ‡é‡ç±»å‹çš„è®¿é—® æˆ–è€…å°†å¯¹è±¡åˆ›å»ºæ‰“æ•£ä¸ºå„ç§åŸºæœ¬æ•°æ®ç±»å‹çš„åˆ›å»º åŒæ­¥æ¶ˆé™¤ å¦‚æœèƒ½ç¡®å®šä¸ä¼šçº¿ç¨‹é€ƒé€¸ é‚£å°±å¯ä»¥å»æ‰åŒæ­¥æœºåˆ¶ æé«˜æ€§èƒ½ å…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤ å¦‚æœä¸€ä¸ªè¡¨è¾¾å¼Eä¹‹å‰å·²ç»è¢«è®¡ç®—è¿‡äº†ï¼Œå¹¶ä¸”ä»å…ˆå‰çš„è®¡ç®—åˆ°ç°åœ¨Eä¸­æ‰€æœ‰å˜é‡çš„å€¼éƒ½æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆEçš„è¿™æ¬¡å‡ºç°å°±ç§°ä¸ºå…¬å…±å­è¡¨è¾¾å¼ã€‚å¯¹äºè¿™ç§è¡¨è¾¾å¼ï¼Œæ²¡æœ‰å¿…è¦èŠ±æ—¶é—´å†å¯¹å®ƒé‡æ–°è¿›è¡Œè®¡ç®—ï¼Œåªéœ€è¦ç›´æ¥ç”¨å‰é¢è®¡ç®—è¿‡çš„è¡¨è¾¾å¼ç»“æœä»£æ›¿E æ•°ç»„è¾¹ç•Œæ£€æŸ¥æ¶ˆé™¤ ä½¿ç”¨éšå¼å¼‚å¸¸æ¥ä¼˜åŒ–å¦‚æ•°ç»„è¾¹ç•Œæ£€æŸ¥ä»¥åŠNPEåˆ¤æ–­ç­‰æ¯æ¬¡æ“ä½œçš„æˆæœ¬ï¼Œç”¨Javaä¼ªä»£ç ä»£è¡¨å¦‚ä¸‹ï¼š try { return a[i] } catch(Exception e){ // ä½¿ç”¨è¿›ç¨‹çº§åˆ«çš„Segment Faultä¿¡å·çš„å¼‚å¸¸å¤„ç†å™¨å¤„ç†è¿™ä¸ªå¼‚å¸¸ } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-09 03:29:47 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/JAVAå†…å­˜æ¨¡å‹.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JVM/JAVAå†…å­˜æ¨¡å‹.html","title":"Java å†…å­˜æ¨¡å‹","keywords":"","body":"JAVAå†…å­˜æ¨¡å‹(JMM) Java è™šæ‹Ÿæœºè§„èŒƒé€šè¿‡æ¥å®šä¹‰ä¸€ä¸ªJMMæ¥å±è”½å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®ç°è®©Javaç¨‹åºåœ¨å„ç§å¹³å°ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å†…å­˜è®¿é—®æ•ˆæœ JMMä¸Javaå†…å­˜ç»“æ„ï¼š å¯¹æ¯”é¡¹ JMM å†…å­˜ç»“æ„ åŒºåˆ« æŠ½è±¡çš„ï¼Œæè¿°ä¸€ç»„è§„åˆ™æŒ‡æ˜çº¿ç¨‹å¦‚ä½•å¤„ç†å…±äº«å†…å­˜ä¸ç§æœ‰å†…å­˜ åˆ’åˆ†æ˜¯å…·ä½“çš„ï¼Œæ˜¯JVMè¿è¡ŒJavaç¨‹åºæ—¶ï¼Œå¿…è¦çš„å†…å­˜åˆ’åˆ† è”ç³» éƒ½å­˜åœ¨ç§æœ‰æ•°æ®åŒºåŸŸå’Œå…±äº«æ•°æ®åŒºåŸŸ ç¡¬ä»¶å±‚æ•°æ®ä¸€è‡´æ€§ ç”±äºè®¡ç®—æœºçš„å­˜å‚¨è®¾å¤‡ä¸å¤„ç†å™¨çš„è¿ç®—é€Ÿåº¦æœ‰ç€å‡ ä¸ªæ•°é‡çº§çš„å·®è·ï¼Œæ‰€ä»¥ç°ä»£è®¡ç®—æœºç³»ç»Ÿéƒ½ä¸å¾—ä¸åŠ å…¥ä¸€å±‚æˆ–å¤šå±‚è¯»å†™é€Ÿåº¦å°½å¯èƒ½æ¥è¿‘å¤„ç†å™¨è¿ç®—é€Ÿåº¦çš„é«˜é€Ÿç¼“å­˜ï¼ˆCacheï¼‰æ¥ä½œä¸ºå†…å­˜ä¸å¤„ç†å™¨ä¹‹é—´çš„ç¼“å†² è¿™æ ·åŠ å…¥ä¸€ä¸ªä¸­é—´ç¼“å†²åŒºå°±ä¼šå¯¼è‡´å½“æœ‰å¤šä¸ªå¤„ç†å™¨æ—¶ æ¯ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„é«˜é€Ÿç¼“å­˜ ä½†åˆå…±ç”¨ä¸€ä¸ªç¼“å­˜ ä¼šé€ æˆæ•°æ®çš„ä¸ä¸€è‡´æ€§ æ‰€ä»¥è¿™å°±éœ€è¦å„ä¸ªå¤„ç†å™¨åœ¨è¯»å†™æ—¶éµå®ˆä¸€äº›åè®®ï¼Œå¦‚æœ‰MSIã€MESIï¼ˆIllinois Protocolï¼‰ã€MOSIã€Synapseã€FireflyåŠDragon Protocolç­‰ ç°ä»£CPUçš„æ•°æ®ä¸€è‡´æ€§å®ç° = ç¼“å­˜é”(MESI ...) + æ€»çº¿é” ç¼“å­˜è¡Œ L1 L2ç¼“å­˜åœ¨æ ¸å†…ï¼ŒL3ç¼“å­˜æ ¸é—´å…±äº« CPUå¯ä»¥ä¸€æ¬¡è¯»å–æ•´ä¸ªç¼“å­˜è¡Œï¼Œæ‰€ä»¥åˆ©ç”¨ç¼“å­˜è¡Œçš„å¯¹é½èƒ½å¤Ÿæé«˜æ•ˆç‡ï¼ˆdisruptorï¼‰ ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜ Javaå†…å­˜æ¨¡å‹è§„å®šäº†æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜, æ¯æ¡çº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼ˆæœ¬åœ°å†…å­˜ï¼‰ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†è¢«è¯¥çº¿ç¨‹ä½¿ç”¨çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œï¼ˆè¯»å–ã€èµ‹å€¼ç­‰ï¼‰éƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ä¸­çš„æ•°æ®ï¼Œå„ä¸ªçº¿ç¨‹é—´å˜é‡çš„ä¼ é€’ä¹Ÿå¿…é¡»é€šè¿‡ä¸»å†…å­˜ è¿™é‡Œä¸»å†…å­˜/å·¥ä½œå†…å­˜çš„åˆ’åˆ†ä¸ä¸å †æ ˆç­‰åœ¨åŒä¸€å±‚æ¬¡ æ›´å¤šåœ° å·¥ä½œå†…å­˜æŒ‡çš„æ˜¯åº•å±‚CPUç¼“å­˜æˆ–è€…å¯„å­˜å™¨ ä¸»å†…å­˜æŒ‡çš„æ˜¯ç‰©ç†ä¸»å†…å­˜ ä¹±åºé—®é¢˜ CPUä¸ºäº†æé«˜æŒ‡ä»¤æ‰§è¡Œæ•ˆç‡ï¼Œé™¤äº†å¢åŠ ç¼“å­˜ä¹‹åï¼Œä¹Ÿä¼šåœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ˆæ¯”å¦‚å»å†…å­˜è¯»æ•°æ®ï¼ˆæ…¢100å€ï¼‰ï¼‰ï¼Œå»åŒæ—¶æ‰§è¡Œå¦ä¸€æ¡æŒ‡ä»¤ï¼Œå‰ææ˜¯ï¼Œä¸¤æ¡æŒ‡ä»¤æ²¡æœ‰ä¾èµ–å…³ç³» ç¡¬ä»¶çº§é˜²ä¹±åº X86 sfence: store| åœ¨sfenceæŒ‡ä»¤å‰çš„å†™æ“ä½œå½“å¿…é¡»åœ¨sfenceæŒ‡ä»¤åçš„å†™æ“ä½œå‰å®Œæˆã€‚ lfenceï¼šload | åœ¨lfenceæŒ‡ä»¤å‰çš„è¯»æ“ä½œå½“å¿…é¡»åœ¨lfenceæŒ‡ä»¤åçš„è¯»æ“ä½œå‰å®Œæˆã€‚ mfenceï¼šmodify/mix | åœ¨mfenceæŒ‡ä»¤å‰çš„è¯»å†™æ“ä½œå½“å¿…é¡»åœ¨mfenceæŒ‡ä»¤åçš„è¯»å†™æ“ä½œå‰å®Œæˆ åŸå­æŒ‡ä»¤ï¼Œå¦‚x86ä¸Šçš„â€lock â€¦â€ æŒ‡ä»¤æ˜¯ä¸€ä¸ªFull Barrierï¼Œæ‰§è¡Œæ—¶ä¼šé”ä½å†…å­˜å­ç³»ç»Ÿæ¥ç¡®ä¿æ‰§è¡Œé¡ºåºï¼Œç”šè‡³è·¨å¤šä¸ªCPUã€‚Software Locksé€šå¸¸ä½¿ç”¨äº†å†…å­˜å±éšœæˆ–åŸå­æŒ‡ä»¤æ¥å®ç°å˜é‡å¯è§æ€§å’Œä¿æŒç¨‹åºé¡ºåº JVMçº§é˜²ä¹±åº(JSR133) JVMå†…å­˜å±éšœ å±éšœä¸¤è¾¹çš„æŒ‡ä»¤ä¸å¯ä»¥é‡æ’åº LoadLoadå±éšœ: å¯¹äºè¿™æ ·çš„è¯­å¥Load1; LoadLoad; Load2, åœ¨Load2åŠåç»­è¯»å–æ“ä½œè¦è¯»å–çš„æ•°æ®è¢«è®¿é—®å‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯• StoreStoreå±éšœ: å¯¹äºè¿™æ ·çš„è¯­å¥Store1; StoreStore; Store2, åœ¨Store2åŠåç»­å†™å…¥æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™ å…¥æ“ä½œå¯¹å…¶å®ƒå¤„ç†å™¨å¯è§ã€‚ LoadStoreå±éšœ: å¯¹äºè¿™æ ·çš„è¯­å¥Load1; LoadStore; Store2, åœ¨Store2åŠåç»­å†™å…¥æ“ä½œè¢«åˆ·å‡ºå‰ï¼Œä¿è¯Load1è¦è¯»å–çš„æ•°æ®è¢«è¯»å–å®Œæ¯•ã€‚ StoreLoadå±éšœ:å¯¹äºè¿™æ ·çš„è¯­å¥Store1; StoreLoad; Load2, åœ¨Load2åŠåç»­æ‰€æœ‰è¯»å–æ“ä½œæ‰§è¡Œå‰ï¼Œä¿è¯Store1çš„å†™å…¥å¯¹æ‰€æœ‰å¤„ç†å™¨å¯è§ã€‚ å†ä½ä¸€å±‚ï¼Œè™šæ‹Ÿæœºçš„å®ç°æ˜¯å¯ä»¥ä¾èµ–äº lock æŒ‡ä»¤ volatileçš„ç»†èŠ‚ å½“ä¸€ä¸ªå˜é‡è¢«å®šä¹‰æˆvolatileä¹‹åï¼Œå®ƒå°†å…·å¤‡ä¸¤é¡¹ç‰¹æ€§ï¼šç¬¬ä¸€é¡¹æ˜¯ä¿è¯æ­¤å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§æ€§ï¼Œç¬¬äºŒä¸ªç‰¹æ€§æ˜¯ç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ– volatileå˜é‡è¯»æ“ä½œçš„æ€§èƒ½æ¶ˆè€—ä¸æ™®é€šå˜é‡å‡ ä¹æ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œä½†æ˜¯å†™æ“ä½œåˆ™å¯èƒ½ä¼šæ…¢ä¸Šä¸€äº›ï¼Œå› ä¸ºå®ƒéœ€è¦åœ¨æœ¬åœ°ä»£ç ä¸­æ’å…¥è®¸å¤šå†…å­˜å±éšœæŒ‡ä»¤æ¥ä¿è¯å¤„ç†å™¨ä¸å‘ç”Ÿä¹±åºæ‰§è¡Œ åº•å±‚å®ç° å­—èŠ‚ç å±‚é¢ ACC_VOLATILE ä¿®é¥°ç¬¦ JVMå±‚é¢ volatileå†…å­˜åŒºçš„è¯»å†™ éƒ½åŠ å±éšœ StoreStoreBarrier volatile å†™æ“ä½œ StoreLoadBarrier LoadLoadBarrier volatile è¯»æ“ä½œ LoadStoreBarrier ç¡¬ä»¶/OSå±‚é¢ å†…å­˜å±éšœ/LockæŒ‡ä»¤ synchronizedå®ç°ç»†èŠ‚ å­—èŠ‚ç å±‚é¢ ACC_SYNCHRONIZED monitorenter monitorexit JVMå±‚é¢ C C++ è°ƒç”¨äº†æ“ä½œç³»ç»Ÿæä¾›çš„åŒæ­¥æœºåˆ¶ OSå’Œç¡¬ä»¶å±‚é¢ X86 : lock cmpxchg / xxx å†…å­˜é—´çš„äº¤äº’æ“ä½œ lockï¼ˆé”å®šï¼‰ï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çš„çŠ¶æ€ã€‚ unlockï¼ˆè§£é”ï¼‰ï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå¤„äºé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åçš„å˜é‡æ‰å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹é”å®šã€‚ readï¼ˆè¯»å–ï¼‰ï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»ä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåçš„loadåŠ¨ä½œä½¿ç”¨ã€‚ loadï¼ˆè½½å…¥ï¼‰ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠreadæ“ä½œä»ä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­ã€‚ useï¼ˆä½¿ç”¨ï¼‰ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨å˜é‡çš„å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚ assignï¼ˆèµ‹å€¼ï¼‰ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªä»æ‰§è¡Œå¼•æ“æ¥æ”¶çš„å€¼èµ‹ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚ storeï¼ˆå­˜å‚¨ï¼‰ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåçš„writeæ“ä½œä½¿ç”¨ã€‚ writeï¼ˆå†™å…¥ï¼‰ï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠstoreæ“ä½œä»å·¥ä½œå†…å­˜ä¸­å¾—åˆ°çš„å˜é‡çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­ã€‚ åœ¨æœ€æ–°çš„JSR133ä¸­ï¼Œå°†è¿™8å¤§æ“ä½œç®€åŒ–ä¸ºreadã€writeã€lockå’Œunlockå››ç§ ä¸‰å¤§ç‰¹æ€§ Javaå†…å­˜æ¨¡å‹æ˜¯å›´ç»•ç€åœ¨å¹¶å‘è¿‡ç¨‹ä¸­å¦‚ä½•å¤„ç†åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§è¿™ä¸‰ä¸ªç‰¹å¾æ¥å»ºç«‹çš„ åŸå­æ€§ JAVAå†…å­˜æ¨¡å‹ä¿è¯äº†8ç§å†…å­˜æ“ä½œå…·æœ‰åŸå­æ€§ ä½†åœ¨æ¨¡å‹ä¸­ç‰¹åˆ«å®šä¹‰äº†ä¸€æ¡å®½æ¾çš„è§„å®šï¼šå…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢«volatileä¿®é¥°çš„64ä½æ•°æ®çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡32ä½çš„æ“ä½œæ¥è¿›è¡Œ ä½†å¯¹äºå¤§å¤šæ•°æƒ…å†µï¼Œé™¤éçŸ¥é“long æˆ–è€… doubleå˜é‡ä¼šæœ‰çº¿ç¨‹äº‰ç”¨ï¼Œå¦åˆ™æ²¡æœ‰å¿…è¦ä½¿ç”¨volatileä¿®é¥°å®ƒä»¬ è™šæ‹Ÿæœºæä¾›äº†monitorenter monitorexitæ¥æä¾›æ›´å¤§èŒƒå›´åŸå­æ€§çš„ä¿è¯ å¯¹åº”çš„è¯­è¨€å±‚é¢å°±æ˜¯synchronizedå…³é”®å­— å¯è§æ€§ å¯è§æ€§æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶å®ƒçº¿ç¨‹èƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ å˜é‡ä¿®æ”¹åå°†æ–°å€¼åŒæ­¥å›ä¸»å†…å­˜ï¼Œåœ¨å˜é‡è¯»å–å‰ä»ä¸»å†…å­˜åˆ·æ–°å˜é‡å€¼æ¥å®ç°å¯è§æ€§ å®ç°å¯è§æ€§çš„æ–¹å¼ï¼š è¢«volatileä¿®é¥°çš„å˜é‡ï¼Œå®ƒä¼šä¿è¯ä¿®æ”¹çš„å€¼ä¼šç«‹å³è¢«æ›´æ–°åˆ°ä¸»å­˜ synchronizedï¼Œå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œ unlock æ“ä½œä¹‹å‰ï¼Œå¿…é¡»æŠŠå˜é‡å€¼åŒæ­¥å›ä¸»å†…å­˜ finalï¼Œè¢« final å…³é”®å­—ä¿®é¥°çš„å­—æ®µåœ¨æ„é€ å™¨ä¸­ä¸€æ—¦åˆå§‹åŒ–å®Œæˆï¼Œé‚£ä¹ˆå…¶å®ƒçº¿ç¨‹å°±èƒ½çœ‹è§ final å­—æ®µçš„å€¼ æœ‰åºæ€§ åœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ‰åºçš„ã€‚åœ¨ä¸€ä¸ªçº¿ç¨‹è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æ— åºçš„ï¼Œæ— åºæ˜¯å› ä¸ºå‘ç”Ÿäº†æŒ‡ä»¤é‡æ’åº æŒ‡ä»¤é‡æ’åºï¼šJava å†…å­˜æ¨¡å‹ä¸­ï¼Œå…è®¸ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œé‡æ’åºè¿‡ç¨‹ä¸ä¼šå½±å“åˆ°å•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œï¼Œå´ä¼šå½±å“åˆ°å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„æ­£ç¡®æ€§ volatile å…³é”®å­—é€šè¿‡æ·»åŠ å†…å­˜å±éšœçš„æ–¹å¼æ¥ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œå³é‡æ’åºæ—¶ä¸èƒ½æŠŠåé¢çš„æŒ‡ä»¤æ”¾åˆ°å†…å­˜å±éšœä¹‹å‰ synchronized ä¹Ÿå¯ä»¥æ¥ä¿è¯æœ‰åºæ€§ï¼Œå®ƒä¿è¯æ¯ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œç›¸å½“äºæ˜¯è®©çº¿ç¨‹é¡ºåºæ‰§è¡ŒåŒæ­¥ä»£ç  æ•°æ®ä¾èµ–æ€§ å¦‚æœä¸¤ä¸ªæ“ä½œè®¿é—®åŒä¸€ä¸ªå˜é‡ï¼Œä¸”è¿™ä¸¤ä¸ªæ“ä½œä¸­æœ‰ä¸€ä¸ªä¸ºå†™æ“ä½œï¼Œæ­¤æ—¶è¿™ä¸¤ä¸ªæ“ä½œä¹‹é—´å°±å­˜åœ¨æ•°æ®ä¾èµ–æ€§ as-if-serialè¯­ä¹‰ as-if-serialè¯­ä¹‰çš„æ„æ€æŒ‡ï¼šä¸ç®¡æ€ä¹ˆé‡æ’åºï¼ˆç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ºäº†æé«˜å¹¶è¡Œåº¦ï¼‰ï¼Œï¼ˆå•çº¿ç¨‹ï¼‰ç¨‹åºçš„æ‰§è¡Œç»“æœä¸èƒ½è¢«æ”¹å˜ å…ˆè¡Œå‘ç”ŸåŸåˆ™ Javaå†…å­˜æ¨¡å‹ä¸‹ä¸€äº›â€œå¤©ç„¶çš„â€å…ˆè¡Œå‘ç”Ÿå…³ç³»ï¼Œè¿™äº›å…ˆè¡Œå‘ç”Ÿå…³ç³»æ— é¡»ä»»ä½•åŒæ­¥å™¨ååŠ©å°±å·²ç»å­˜åœ¨ æ—¶é—´å…ˆåé¡ºåºä¸å…ˆè¡Œå‘ç”ŸåŸåˆ™ä¹‹é—´åŸºæœ¬æ²¡æœ‰å› æœå…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬è¡¡é‡å¹¶å‘å®‰å…¨é—®é¢˜çš„æ—¶å€™ä¸è¦å—æ—¶é—´é¡ºåºçš„å¹²æ‰°ï¼Œä¸€åˆ‡å¿…é¡»ä»¥å…ˆè¡Œå‘ç”ŸåŸåˆ™ä¸ºå‡† å•ä¸€çº¿ç¨‹åŸåˆ™ ä¸€ä¸ªçº¿ç¨‹å†…ï¼Œåœ¨ç¨‹åºå‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢çš„æ“ä½œ ç®¡ç¨‹é”å®šè§„åˆ™ ä¸€ä¸ª unlock æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹åŒä¸€ä¸ªé”çš„ lock æ“ä½œ volatile å˜é‡è§„åˆ™ ä¸€ä¸ª volatile å˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œ çº¿ç¨‹å¯åŠ¨è§„åˆ™ Thread å¯¹è±¡çš„ start() æ–¹æ³•è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œ çº¿ç¨‹åŠ å…¥è§„åˆ™ Thread å¯¹è±¡çš„ç»“æŸå…ˆè¡Œå‘ç”Ÿäº join() æ–¹æ³•è¿”å› çº¿ç¨‹ä¸­æ–­è§„åˆ™ å¯¹çº¿ç¨‹ interrupt() æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿ å¯¹è±¡ç»ˆç»“è§„åˆ™ ä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆï¼ˆæ„é€ å‡½æ•°æ‰§è¡Œç»“æŸï¼‰å…ˆè¡Œå‘ç”Ÿäºå®ƒçš„ finalize() æ–¹æ³•çš„å¼€å§‹ ä¼ é€’æ€§ å¦‚æœæ“ä½œ A å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Bï¼Œæ“ä½œ B å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Cï¼Œé‚£ä¹ˆæ“ä½œ A å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ C MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-12 06:35:08 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/nav.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/nav.html","title":"Jakara EE","keywords":"","body":"Jakarta EE Java EEï¼ŒJavaå¹³å°ä¼ä¸šç‰ˆï¼ˆJava Platform Enterprise Editionï¼‰ï¼Œä¹‹å‰ç§°ä¸ºJava 2 Platform, Enterprise Edition (J2EE)ï¼Œ2018å¹´3æœˆæ›´åä¸ºJakarta EEã€‚æ˜¯Sunå…¬å¸ä¸ºä¼ä¸šçº§åº”ç”¨æ¨å‡ºçš„æ ‡å‡†å¹³å° Java EEå¹³å°ä¸ºæ¯ä¸ªå±‚ä¸­ä¸åŒçš„ç»„ä»¶å®šä¹‰äº†APIï¼ŒåŒæ—¶è¿˜æä¾›äº†ä¸€äº›é¢å¤–çš„æœåŠ¡ï¼Œæ¯”å¦‚å‘½åï¼ˆnamingï¼‰ã€æ³¨å…¥ï¼ˆinjectionï¼‰å’Œè·¨å¹³å°çš„èµ„æºç®¡ç†ç­‰ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-28 04:25:47 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/Servlet.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/Servlet.html","title":"Servlet","keywords":"","body":"Servlets server applet è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„å°ç¨‹åº WebServlet ä½¿ç”¨ å®ç°Servletæ¥å£ public class MyServlet implements Servlet{ ... @Override public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException { servletResponse.getWriter().println(\"hello world\"); } ... } åœ¨web.xmlé…ç½® MyServlet wang.ismy.web.MyServlet MyServlet /* åŸç† å½“æœåŠ¡å™¨æ¥å—åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨çš„è¯·æ±‚åï¼Œä¼šè§£æè¯·æ±‚URLè·¯å¾„ï¼Œè·å–è®¿é—®çš„Servletçš„èµ„æºè·¯å¾„ æŸ¥æ‰¾web.xmlæ–‡ä»¶ï¼Œæ˜¯å¦æœ‰å¯¹åº”çš„æ ‡ç­¾ä½“å†…å®¹ã€‚ å¦‚æœæœ‰ï¼Œåˆ™åœ¨æ‰¾åˆ°å¯¹åº”çš„å…¨ç±»å tomcatä¼šå°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œå¹¶ä¸”åˆ›å»ºå…¶å¯¹è±¡ è°ƒç”¨å…¶æ–¹æ³• ç”Ÿå‘½å‘¨æœŸæ–¹æ³• è¢«åˆ›å»ºï¼šæ‰§è¡Œinitæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ * Servletä»€ä¹ˆæ—¶å€™è¢«åˆ›å»ºï¼Ÿ * é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼ŒServletè¢«åˆ›å»º * å¯ä»¥é…ç½®æ‰§è¡ŒServletçš„åˆ›å»ºæ—¶æœºã€‚ * åœ¨æ ‡ç­¾ä¸‹é…ç½® 1\\. ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼Œåˆ›å»º * çš„å€¼ä¸ºè´Ÿæ•° 2\\. åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œåˆ›å»º * çš„å€¼ä¸º0æˆ–æ­£æ•´æ•° * Servletçš„initæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼Œè¯´æ˜ä¸€ä¸ªServletåœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒServletæ˜¯å•ä¾‹çš„ * å¤šä¸ªç”¨æˆ·åŒæ—¶è®¿é—®æ—¶ï¼Œå¯èƒ½å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ * è§£å†³ï¼šå°½é‡ä¸è¦åœ¨Servletä¸­å®šä¹‰æˆå‘˜å˜é‡ã€‚å³ä½¿å®šä¹‰äº†æˆå‘˜å˜é‡ï¼Œä¹Ÿä¸è¦å¯¹ä¿®æ”¹å€¼ æä¾›æœåŠ¡ï¼šæ‰§è¡Œserviceæ–¹æ³•ï¼Œæ‰§è¡Œå¤šæ¬¡ * æ¯æ¬¡è®¿é—®Servletæ—¶ï¼ŒServiceæ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ è¢«é”€æ¯ï¼šæ‰§è¡Œdestroyæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ * Servletè¢«é”€æ¯æ—¶æ‰§è¡Œã€‚æœåŠ¡å™¨å…³é—­æ—¶ï¼ŒServletè¢«é”€æ¯ * åªæœ‰æœåŠ¡å™¨æ­£å¸¸å…³é—­æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œdestroyæ–¹æ³•ã€‚ * destroyæ–¹æ³•åœ¨Servletè¢«é”€æ¯ä¹‹å‰æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºé‡Šæ”¾èµ„æº Servlet3.0 åŠ ä¸Šæ³¨è§£åä¸ç”¨é…ç½®web.xml @WebServlet(\"/*\") ä½“ç³»ç»“æ„ é…ç½® è·¯å¾„å®šä¹‰è§„åˆ™ï¼š /xxxï¼šè·¯å¾„åŒ¹é… /xxx/xxx:å¤šå±‚è·¯å¾„ï¼Œç›®å½•ç»“æ„ *.doï¼šæ‰©å±•ååŒ¹é… Request ä½“ç³»ç»“æ„ requestå¯¹è±¡ç»§æ‰¿ä½“ç³»ç»“æ„ï¼š ServletRequest -- æ¥å£ | ç»§æ‰¿ HttpServletRequest -- æ¥å£ | å®ç° org.apache.catalina.connector.RequestFacade ç±»(tomcat) æ–¹æ³• è·å–è¯·æ±‚è¡Œæ•°æ® String getMethod() String getContextPath() String getServletPath() String getQueryString() String getRequestURI() String getProtocol() String getRemoteAddr() è·å–è¯·æ±‚å¤´æ•°æ® String getHeader(String name) Enumeration string getHeaderNames() è·å–è¯·æ±‚ä½“æ•°æ® BufferedReader getReader() ServletInputStream getInputStream() å…¶ä»– String getParameter(String name) String[] getParameterValues(String name) Map getParameterMap() è¯·æ±‚è½¬å‘ req.getRequestDispatcher(\"/404\") .forward(req,resp); æµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸å‘ç”Ÿå˜åŒ– åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨å†…éƒ¨èµ„æºä¸­ã€‚ è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ å…±äº«æ•°æ® requeståŸŸï¼šä»£è¡¨ä¸€æ¬¡è¯·æ±‚çš„èŒƒå›´ï¼Œä¸€èˆ¬ç”¨äºè¯·æ±‚è½¬å‘çš„å¤šä¸ªèµ„æºä¸­å…±äº«æ•°æ® void setAttribute(String name,Object obj):å­˜å‚¨æ•°æ® Object getAttitude(String name):é€šè¿‡é”®è·å–å€¼ void removeAttribute(String name):é€šè¿‡é”®ç§»é™¤é”®å€¼å¯¹ Response æ–¹æ³• è®¾ç½®çŠ¶æ€ç ï¼šsetStatus(int sc) å­—ç¬¦è¾“å‡ºæµï¼šPrintWriter getWriter() å­—èŠ‚è¾“å‡ºæµï¼šServletOutputStream getOutputStream() * é‡å®šå‘çš„ç‰¹ç‚¹:redirect 1\\. åœ°å€æ å‘ç”Ÿå˜åŒ– 2\\. é‡å®šå‘å¯ä»¥è®¿é—®å…¶ä»–ç«™ç‚¹(æœåŠ¡å™¨)çš„èµ„æº 3\\. é‡å®šå‘æ˜¯ä¸¤æ¬¡è¯·æ±‚ã€‚ä¸èƒ½ä½¿ç”¨requestå¯¹è±¡æ¥å…±äº«æ•°æ® * è½¬å‘çš„ç‰¹ç‚¹ï¼šforward 1\\. è½¬å‘åœ°å€æ è·¯å¾„ä¸å˜ 2\\. è½¬å‘åªèƒ½è®¿é—®å½“å‰æœåŠ¡å™¨ä¸‹çš„èµ„æº 3\\. è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨requestå¯¹è±¡æ¥å…±äº«æ•°æ® ä¹±ç é—®é¢˜ PrintWriter pw = response.getWriter();è·å–çš„æµçš„é»˜è®¤ç¼–ç æ˜¯ISO-8859-1 //è®¾ç½®ç¼–ç ï¼Œæ˜¯åœ¨è·å–æµä¹‹å‰è®¾ç½® response.setContentType(\"text/html;charset=utf-8\"); ServletContext è·å–ï¼š é€šè¿‡requestå¯¹è±¡è·å– request.getServletContext(); é€šè¿‡HttpServletè·å– this.getServletContext(); è·å–MIMEç±»å‹ System.out.println(getServletContext().getMimeType(\"a.jpg\")); åŸŸå¯¹è±¡ï¼šå…±äº«æ•°æ® setAttribute(String name,Object value) getAttribute(String name) removeAttribute(String name) è·å–æ–‡ä»¶çœŸå®è·¯å¾„ String getRealPath(String path) Servlet è¿‡æ»¤å™¨(Filter) ä¸€èˆ¬ç”¨äºå®Œæˆé€šç”¨çš„æ“ä½œã€‚å¦‚ï¼šç™»å½•éªŒè¯ã€ç»Ÿä¸€ç¼–ç å¤„ç†ã€æ•æ„Ÿå­—ç¬¦è¿‡æ»¤ @WebFilter public class LoggingFilter implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { //... } } ä¹Ÿå¯ä»¥ä¸é€‚ç”¨æ³¨è§£ä½¿ç”¨å¦‚ä¸‹xmlé…ç½® demo1 wang.ismy.javaee.LoggingFilter demo1 /* æ‰§è¡Œæµç¨‹ æ‰§è¡Œè¿‡æ»¤å™¨ æ‰§è¡Œæ”¾è¡Œåçš„èµ„æº å›æ¥æ‰§è¡Œè¿‡æ»¤å™¨æ”¾è¡Œä»£ç ä¸‹è¾¹çš„ä»£ç  ç”Ÿå‘½å‘¨æœŸæ–¹æ³• init:åœ¨æœåŠ¡å™¨å¯åŠ¨åï¼Œä¼šåˆ›å»ºFilterå¯¹è±¡ï¼Œç„¶åè°ƒç”¨initæ–¹æ³•ã€‚åªæ‰§è¡Œä¸€æ¬¡ã€‚ç”¨äºåŠ è½½èµ„æº doFilter:æ¯ä¸€æ¬¡è¯·æ±‚è¢«æ‹¦æˆªèµ„æºæ—¶ï¼Œä¼šæ‰§è¡Œã€‚æ‰§è¡Œå¤šæ¬¡ destroy:åœ¨æœåŠ¡å™¨å…³é—­åï¼ŒFilterå¯¹è±¡è¢«é”€æ¯ã€‚å¦‚æœæœåŠ¡å™¨æ˜¯æ­£å¸¸å…³é—­ï¼Œåˆ™ä¼šæ‰§è¡Œdestroyæ–¹æ³•ã€‚åªæ‰§è¡Œä¸€æ¬¡ã€‚ç”¨äºé‡Šæ”¾èµ„æº æ‹¦æˆªæ–¹å¼é…ç½®ï¼šèµ„æºè¢«è®¿é—®çš„æ–¹å¼ REQUESTï¼šé»˜è®¤å€¼ã€‚æµè§ˆå™¨ç›´æ¥è¯·æ±‚èµ„æº FORWARDï¼šè½¬å‘è®¿é—®èµ„æº INCLUDEï¼šåŒ…å«è®¿é—®èµ„æº ERRORï¼šé”™è¯¯è·³è½¬èµ„æº ASYNCï¼šå¼‚æ­¥è®¿é—®èµ„æº @WebFilter(value = \"/*\",dispatcherTypes = DispatcherType.ERROR) è¿‡æ»¤å™¨é“¾ æ³¨è§£é…ç½® æŒ‰ç…§ç±»åå­—ç¬¦ä¸²æ’åº web.xmlé…ç½® æŒ‰ç…§filter-mappingæ’åº äº‹ä»¶ç›‘å¬å™¨(Listener) ServletContextListener HttpSessionListener ServletRequestListener å¼‚æ­¥æ”¯æŒ @WebServlet(urlPatterns = \"/hello\",asyncSupported = true) public class MyServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { AsyncContext async = req.startAsync(); async.addListener(new AsyncListener() { @Override public void onComplete(AsyncEvent asyncEvent) throws IOException { asyncEvent.getSuppliedResponse().getWriter().write(\"jntm\"); } //... }); new Thread(()->{ try { Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } async.complete(); }).start(); } } éé˜»å¡IO AsyncContext async = req.startAsync(); ServletInputStream inputStream = req.getInputStream(); inputStream.setReadListener(new ReadListener() { @Override public void onDataAvailable() throws IOException { byte[] bytes = new byte[1024]; while (inputStream.isReady() && inputStream.read(bytes)!=-1){ System.out.println(new String(bytes)); } async.complete(); } @Override public void onAllDataRead() throws IOException { async.complete(); } @Override public void onError(Throwable throwable) { throwable.printStackTrace(); async.complete(); } }); WebFragment å¯ä»¥å¯¹XMLé…ç½®è¿›è¡Œåˆ†åŒº å®‰å…¨ @ServletSecurity é”™è¯¯æ˜ å°„ 404 /404.html java.lang.RuntimeException /500.html æ–‡ä»¶ä¸Šä¼  @MultiPartConfig å·¥ä½œåŸç† Servlet ä½“ç³»ç»“æ„ï¼š ServletContexntï¼šè´¯ç©¿è¯·æ±‚çš„ä¸Šä¸‹æ–‡ ServletConfigï¼šä¼ é€’å‚æ•°é›†åˆ åˆ›å»º StandardWrapper.loadServlet() æ–¹æ³•åˆ›å»ºServletå®ä¾‹ InstanceManager instanceManager = ((StandardContext)getParent()).getInstanceManager(); try { servlet = (Servlet) instanceManager.newInstance(servletClass; ... åˆå§‹åŒ– StandardWrapper.initServlet() è°ƒç”¨Servlet.init() servlet.init(facade); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-06 03:06:46 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/JSP.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/JSP.html","title":"JSP","keywords":"","body":" Java Server Pagesï¼š javaæœåŠ¡å™¨ç«¯é¡µé¢ JSPæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServlet æŒ‡ä»¤ page:é…ç½®JSPé¡µé¢çš„ contentTypeï¼šç­‰åŒäºresponse.setContentType() importï¼šå¯¼åŒ… errorPageï¼šå½“å‰é¡µé¢å‘ç”Ÿå¼‚å¸¸åï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°æŒ‡å®šçš„é”™è¯¯é¡µé¢ isErrorPageï¼šæ ‡è¯†å½“å‰ä¹Ÿæ˜¯æ˜¯å¦æ˜¯é”™è¯¯é¡µé¢ã€‚ include:é¡µé¢åŒ…å«çš„ã€‚å¯¼å…¥é¡µé¢çš„èµ„æºæ–‡ä»¶ taglibå¯¼å…¥èµ„æº æ³¨é‡Š htmlæ³¨é‡Šï¼š :åªèƒ½æ³¨é‡Šhtmlä»£ç ç‰‡æ®µ jspæ³¨é‡Šï¼šæ¨èä½¿ç”¨ ï¼šå¯ä»¥æ³¨é‡Šæ‰€æœ‰ JSPè„šæœ¬ ï¼šå®šä¹‰çš„javaä»£ç ï¼Œåœ¨serviceæ–¹æ³•ä¸­ã€‚serviceæ–¹æ³•ä¸­å¯ä»¥å®šä¹‰ä»€ä¹ˆï¼Œè¯¥è„šæœ¬ä¸­å°±å¯ä»¥å®šä¹‰ä»€ä¹ˆ ï¼šå®šä¹‰çš„javaä»£ç ï¼Œåœ¨jspè½¬æ¢åçš„javaç±»çš„æˆå‘˜ä½ç½®ã€‚ ï¼šå®šä¹‰çš„javaä»£ç ï¼Œä¼šè¾“å‡ºåˆ°é¡µé¢ä¸Šã€‚è¾“å‡ºè¯­å¥ä¸­å¯ä»¥å®šä¹‰ä»€ä¹ˆï¼Œè¯¥è„šæœ¬ä¸­å°±å¯ä»¥å®šä¹‰ä»€ä¹ˆã€‚ å†…ç½®å¯¹è±¡ å˜é‡å çœŸå®ç±»å‹ ä½œç”¨ pageContext PageContext å½“å‰é¡µé¢å…±äº«æ•°æ®,è¿˜å¯ä»¥è·å–å…¶ä»–å…«ä¸ªå†…ç½®å¯¹è±¡ request HttpServletRequest ä¸€æ¬¡è¯·æ±‚è®¿é—®çš„å¤šä¸ªèµ„æº(è½¬å‘) session HttpSession ä¸€æ¬¡ä¼šè¯çš„å¤šä¸ªè¯·æ±‚é—´ application ServletContext æ‰€æœ‰ç”¨æˆ·é—´å…±äº«æ•°æ® response HttpServletResponse å“åº”å¯¹è±¡ page Object å½“å‰é¡µé¢(Servlet)çš„å¯¹è±¡ this out JspWriter è¾“å‡ºå¯¹è±¡ï¼Œæ•°æ®è¾“å‡ºåˆ°é¡µé¢ä¸Š config ServletConfig Servletçš„é…ç½®å¯¹è±¡ exception Throwable å¼‚å¸¸å¯¹è±¡ MVC è€¦åˆæ€§ä½ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼Œå¯ä»¥åˆ©äºåˆ†å·¥åä½œ é‡ç”¨æ€§é«˜ ä½¿å¾—é¡¹ç›®æ¶æ„å˜å¾—å¤æ‚ï¼Œå¯¹å¼€å‘äººå‘˜è¦æ±‚é«˜ ELè¡¨è¾¾å¼ Expression Language è¡¨è¾¾å¼è¯­è¨€ è¯­æ³•ï¼š${è¡¨è¾¾å¼} å¿½ç•¥ è®¾ç½®jspä¸­pageæŒ‡ä»¤ä¸­ï¼šisELIgnored=\"true\" å¿½ç•¥å½“å‰jspé¡µé¢ä¸­æ‰€æœ‰çš„elè¡¨è¾¾å¼ \\${è¡¨è¾¾å¼} ï¼šå¿½ç•¥å½“å‰è¿™ä¸ªelè¡¨è¾¾å¼ è¿ç®—ç¬¦ ç®—æœ¯è¿ç®—ç¬¦ æ¯”è¾ƒè¿ç®—ç¬¦ é€»è¾‘è¿ç®—ç¬¦ ç©ºè¿ç®—ç¬¦ ${empty list} è·å–å€¼ ${åŸŸåç§°.é”®å} pageScope requestScope sessionScope applicationScope ${é”®å}ï¼šè¡¨ç¤ºä¾æ¬¡ä»æœ€å°çš„åŸŸä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰è¯¥é”®å¯¹åº”çš„å€¼ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚ è·å–å¯¹è±¡ã€Listé›†åˆã€Mapé›†åˆçš„å€¼ å¯¹è±¡ï¼š${åŸŸåç§°.é”®å.å±æ€§å} Listé›†åˆï¼š${åŸŸåç§°.é”®å[ç´¢å¼•]} Mapé›†åˆï¼š ${åŸŸåç§°.é”®å.keyåç§°} ${åŸŸåç§°.é”®å[\"keyåç§°\"]} é€»è¾‘è§†å›¾ éšå¼å¯¹è±¡ JSTL JavaServer Pages Tag Library JSPæ ‡å‡†æ ‡ç­¾åº“ if choose forEach MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/Cookie&Session.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/Cookie&Session.html","title":"Cookie&Session","keywords":"","body":"Cookieä¸Session ä¸¤è€…éƒ½æ˜¯ä¸ºäº†ä¿æŒè®¿é—®ç”¨æˆ·ä¸åç«¯æœåŠ¡å™¨çš„äº¤äº’çŠ¶æ€ Cookie å®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯ï¼Œå°†æ•°æ®ä¿å­˜åˆ°å®¢æˆ·ç«¯ å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è®¿é—®æ—¶æœåŠ¡å™¨æ—¶ æœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªè®¾ç½®cookieçš„å“åº”å¤´ æ­¤ååœ¨cookieæœ‰æ•ˆæœŸå†… å¹¶ä¸”åœ¨cookieæ‰€å…è®¸çš„åŸŸåä¸‹ æµè§ˆå™¨å‘èµ·è¯·æ±‚æ—¶éƒ½ä¼šè‡ªåŠ¨æºå¸¦è¿™ä¸ªcookieè¯·æ±‚å¤´ Cookie[] cookies = req.getCookies(); for (Cookie cookie : cookies) { if (\"time\".equals(cookie.getName())){ resp.getWriter().println(cookie.getValue()); } } resp.addCookie(new Cookie(\"time\", LocalDateTime.now().toString())); å®ç°åŸç† åŸºäºå“åº”å¤´set-cookieå’Œè¯·æ±‚å¤´cookieå®ç° ç»†èŠ‚ æŒä¹…åŒ–å­˜å‚¨ï¼š setMaxAge(int seconds) å…±äº« è®¾ç½®å…±äº«è™šæ‹Ÿç›®å½•èŒƒå›´ï¼šsetPath(String path) è®¾ç½®å…±äº«åŸŸï¼šsetDomain(String path) ç‰¹ç‚¹ cookieå­˜å‚¨æ•°æ®åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ æµè§ˆå™¨å¯¹äºå•ä¸ªcookie çš„å¤§å°æœ‰é™åˆ¶(4kb) ä»¥åŠ å¯¹åŒä¸€ä¸ªåŸŸåä¸‹çš„æ€»cookieæ•°é‡ä¹Ÿæœ‰é™åˆ¶(20ä¸ª) cookie å‹ç¼© gzipåªèƒ½å¯¹bodyè¿›è¡Œå‹ç¼© cookieä½äºå¤´ä¸Š éœ€è¦æ‰‹åŠ¨ç¼–ç¨‹å¯¹http header è¿›è¡Œå¤„ç† ä½œç”¨ cookieä¸€èˆ¬ç”¨äºå­˜å‡ºå°‘é‡çš„ä¸å¤ªæ•æ„Ÿçš„æ•°æ® åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹ï¼Œå®ŒæˆæœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„èº«ä»½è¯†åˆ« æ³¨æ„äº‹é¡¹ Cookieçš„Nameä¸èƒ½å’Œå±æ€§å€¼ä¸€æ · æ¯”å¦‚Doamin MaxAgeç­‰å¾… Nameå’ŒValueä¸èƒ½è®¾ç½®æˆéASCIIå­—ç¬¦ ä¸åŒçš„æµè§ˆå™¨éƒ½ä¼šå¯¹Cookieçš„å¤§å°ä»¥åŠæ•°é‡è¿›è¡Œé™åˆ¶ éœ€è¦æ³¨æ„ Session æœåŠ¡å™¨ç«¯ä¼šè¯æŠ€æœ¯ï¼Œåœ¨ä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚é—´å…±äº«æ•°æ®ï¼Œå°†æ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯çš„å¯¹è±¡ä¸­ã€‚HttpSession Sessionç”¨æ¥è§£å†³Cookieæ•°é‡å¤šä¼ è¾“æµªè´¹çš„é—®é¢˜ Sessionçš„æœ¬è´¨å°±æ˜¯å°†ä¸€ä¸ªIDå­˜å‚¨åœ¨Cookieé‡Œ å½“ç”¨æˆ·è®¿é—®åç«¯æœåŠ¡å™¨ åç«¯æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªIDæŸ¥æ‰¾å…¶å¯¹åº”çš„æ•°æ® ä½¿ç”¨ è·å–HttpSessionå¯¹è±¡ï¼š HttpSession session = request.getSession(); ä½¿ç”¨HttpSessionå¯¹è±¡ï¼š Object getAttribute(String name) void setAttribute(String name, Object value) void removeAttribute(String name) åŸç† Sessionçš„å®ç°æ˜¯ä¾èµ–äºCookieçš„ã€‚ å¦‚æœåŸºäºCookieçš„Sessionä¸å¯ç”¨ æµè§ˆå™¨ä¼šè‡ªåŠ¨å°†å…¶é‡å†™åˆ°URLä¸­ sessionå¦‚ä½•å·¥ä½œï¼š sessionæŒä¹…åŒ–ï¼šSessionManager å…¶ä¼šå¤åˆ¶æŒä¹…åŒ–æ²¡æœ‰è¿‡æœŸçš„session sessionçš„è¿‡æœŸæ£€æŸ¥ï¼š Tomcatçš„ä¸€ä¸ªåå°çº¿ç¨‹ä¼šå®šæœŸæ£€æŸ¥æ¯ä¸ªsessionæ˜¯å¦å¤±æ•ˆ å€¼å¾—æ³¨æ„çš„æ˜¯ request.getSession()ä¹Ÿä¼šæ£€æŸ¥æ˜¯å¦è¿‡æœŸ å¦‚æœè¿‡æœŸå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„sessionå‡ºæ¥ ç»†èŠ‚ æŒä¹…åŒ–session Cookie c = new Cookie(\"JSESSIONID\",session.getId()); c.setMaxAge(60*60); response.addCookie(c); sessionåºåˆ—åŒ– tomcatè‡ªåŠ¨å®Œæˆ é”€æ¯æ—¶é—´ æœåŠ¡å™¨å…³é—­ sessionå¯¹è±¡è°ƒç”¨invalidate() sessioné»˜è®¤å¤±æ•ˆæ—¶é—´ 30åˆ†é’Ÿ 30 ç‰¹ç‚¹ sessionç”¨äºå­˜å‚¨ä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚çš„æ•°æ®ï¼Œå­˜åœ¨æœåŠ¡å™¨ç«¯ sessionå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹ï¼Œä»»æ„å¤§å°çš„æ•°æ® åˆ†å¸ƒå¼session å•ç‹¬ä½¿ç”¨sessionæˆ–è€…cookieæ˜¯æ— æ³•æ»¡è¶³éœ€æ±‚çš„ ä¸€äº›åˆ†å¸ƒå¼sessionæ¶æ„å°†ç‹¬ç«‹çš„æœåŠ¡å™¨ç”¨æ¥å­˜å‚¨session å°±å¯ä»¥è¾¾åˆ°sessionå…±äº«çš„ç›®çš„ å¤šç«¯sessionï¼š åªéœ€è¦ç»Ÿä¸€æ³¨å†Œç™»å½•æ¥å£å³å¯ å‰åç«¯åˆ†ç¦»çš„æ—¶ä»£è¿™ç‚¹å·²æ˜¯å¸¸æ€ å¤šç»ˆç«¯ç™»å½•çš„è¯åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘ Sessionä¸CookieåŒºåˆ« æ¯”è¾ƒç±»åˆ« Session Cookie å­˜å‚¨æ–¹å¼ æœåŠ¡ç«¯ å®¢æˆ·ç«¯ å¤§å°é™åˆ¶ æ—  æœ‰ å®‰å…¨ è¾ƒå®‰å…¨ è¾ƒä¸å®‰å…¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-07 06:46:26 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/JNDI.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/JNDI.html","title":"JNDI","keywords":"","body":" MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/JPA.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/JPA.html","title":"JPA","keywords":"","body":" JPAçš„å…¨ç§°æ˜¯Java Persistence APIï¼Œ å³Java æŒä¹…åŒ–APIï¼Œæ˜¯SUNå…¬å¸æ¨å‡ºçš„ä¸€å¥—åŸºäºORMçš„è§„èŒƒï¼Œå†…éƒ¨æ˜¯ç”±ä¸€ç³»åˆ—çš„æ¥å£å’ŒæŠ½è±¡ç±»æ„æˆ Persistenceå¯¹è±¡ Persistenceå¯¹è±¡ä¸»è¦ä½œç”¨æ˜¯ç”¨äºè·å–EntityManagerFactoryå¯¹è±¡çš„ EntityManagerFactory EntityManagerFactory æ¥å£ä¸»è¦ç”¨æ¥åˆ›å»º EntityManager å®ä¾‹ EntityManager åœ¨ JPA è§„èŒƒä¸­, EntityManageræ˜¯å®ŒæˆæŒä¹…åŒ–æ“ä½œçš„æ ¸å¿ƒå¯¹è±¡ getTransaction : è·å–äº‹åŠ¡å¯¹è±¡ persist ï¼š ä¿å­˜æ“ä½œ merge ï¼š æ›´æ–°æ“ä½œ remove ï¼š åˆ é™¤æ“ä½œ find/getReference ï¼š æ ¹æ®idæŸ¥è¯¢ EntityTransaction begin,commit,rollback ä½¿ç”¨ åˆ›å»ºclasspath:META-INF/persistence.xml org.hibernate.jpa.HibernatePersistenceProvider åˆ›å»ºå®ä½“ç±» @Entity @Table(name = \"cst_customer\") @Data public class Customer { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = \"cust_id\") /* * IDENTITYï¼šåº•å±‚æ•°æ®åº“å¿…é¡»æ”¯æŒè‡ªåŠ¨å¢é•¿ * SEQUENCE: åº•å±‚æ•°æ®åº“å¿…é¡»æ”¯æŒåºåˆ— * TABLE:jpaæä¾›çš„æœºåˆ¶ * AUTO:ç”±ç¨‹åºè‡ªåŠ¨é€‰æ‹©ç­–ç•¥ * */ private Long custId; @Column(name = \"cust_name\") private String custName; @Column(name = \"cust_source\") private String custSource; @Column(name = \"cust_level\") private String custLevel; @Column(name = \"cust_industry\") private String custIndustry; @Column(name = \"cust_phone\") private String custPhone; @Column(name = \"cust_address\") private String custAddress; } æ“ä½œ æ·»åŠ  EntityManager manager = Persistence .createEntityManagerFactory(\"jpa\").createEntityManager(); EntityTransaction tx = manager.getTransaction(); tx.begin(); Customer customer = new Customer(); customer.setCustName(\"è€ç‹\"); customer.setCustIndustry(\"éš”å£\"); manager.persist(customer); tx.commit(); manager.close(); æ ¹æ®IDæŸ¥è¯¢ Customer customer = entityManager.find(Customer.class, 1L); // ç«‹å³åŠ è½½ Customer customer = entityManager.getReference(Customer.class, 1L); // å»¶è¿ŸåŠ è½½ åˆ é™¤ Customer customer = entityManager.find(Customer.class, 1L); entityManager.remove(customer); æ›´æ–° Customer customer = entityManager.find(Customer.class, 2L); customer.setCustName(\"è€ç‹å…«\"); entityManager.merge(customer); JPQL åŸºäºé¦–æ¬¡åœ¨EJB2.0ä¸­å¼•å…¥çš„EJBæŸ¥è¯¢è¯­è¨€(EJB QL),JavaæŒä¹…åŒ–æŸ¥è¯¢è¯­è¨€(JPQL)æ˜¯ä¸€ç§å¯ç§»æ¤çš„æŸ¥è¯¢è¯­è¨€ï¼Œæ—¨åœ¨ä»¥é¢å‘å¯¹è±¡è¡¨è¾¾å¼è¯­è¨€çš„è¡¨è¾¾å¼ï¼Œå°†SQLè¯­æ³•å’Œç®€å•æŸ¥è¯¢è¯­ä¹‰ç»‘å®šåœ¨ä¸€èµ·Â·ä½¿ç”¨è¿™ç§è¯­è¨€ç¼–å†™çš„æŸ¥è¯¢æ˜¯å¯ç§»æ¤çš„ï¼Œå¯ä»¥è¢«ç¼–è¯‘æˆæ‰€æœ‰ä¸»æµæ•°æ®åº“æœåŠ¡å™¨ä¸Šçš„SQL æŸ¥è¯¢å…¨éƒ¨ String jpql = \"FROM Customer \"; List list = entityManager.createQuery(jpql).getResultList(); for (Object o : list) { System.out.println(o); } å€’åºæŸ¥è¯¢ FROM Customer ORDER BY custId DESC ç»Ÿè®¡æŸ¥è¯¢ SELECT COUNT(custId) FROM Customer åˆ†é¡µæŸ¥è¯¢ String jpql = \"FROM Customer\"; List list = entityManager.createQuery(jpql) .setFirstResult(0) .setMaxResults(2).getResultList(); æ¡ä»¶æŸ¥è¯¢ String jpql = \"FROM Customer WHERE custName LIKE ?1\"; List list = entityManager.createQuery(jpql) .setParameter(1,\"%æ%\") .getResultList(); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/Freemarker.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/JakartaEE/Freemarker.html","title":"Freemarker","keywords":"","body":"ä½¿ç”¨ org.springframework.boot spring-boot-starter-freemarker é…ç½® spring: freemarker: cache: false enabled: true suffix: .html content-type: text/html æŒ‡ä»¤ hello ${name} ç±»å‹ æ³¨é‡Šï¼Œå³ï¼Œä»‹äºå…¶ä¹‹é—´çš„å†…å®¹ä¼šè¢«freemarkerå¿½ç•¥ æ’å€¼ï¼ˆInterpolationï¼‰ï¼šå³${..}éƒ¨åˆ†,freemarkerä¼šç”¨çœŸå®çš„å€¼ä»£æ›¿${..} FTLæŒ‡ä»¤ï¼šå’ŒHTMLæ ‡è®°ç±»ä¼¼ï¼Œåå­—å‰åŠ #äºˆä»¥åŒºåˆ†ï¼ŒFreemarkerä¼šè§£ææ ‡ç­¾ä¸­çš„è¡¨è¾¾å¼æˆ–é€»è¾‘ã€‚ æ–‡æœ¬ï¼Œä»…æ–‡æœ¬ä¿¡æ¯ï¼Œè¿™äº›ä¸æ˜¯freemarkerçš„æ³¨é‡Šã€æ’å€¼ã€FTLæŒ‡ä»¤çš„å†…å®¹ä¼šè¢«freemarkerå¿½ç•¥è§£æï¼Œç›´æ¥è¾“å‡ºå†… å®¹ã€‚ listæŒ‡ä»¤ ${name} mapæ“ä½œ ${map['name']} ${map.name} éå†map ${map[key]} æ¡ä»¶æ¸²æŸ“ jntm ç©ºå€¼å¤„ç† å­˜åœ¨ ${map.class!\"default\"} å†…å»ºå‡½æ•° å†…å»ºå‡½æ•°è¯­æ³•æ ¼å¼ï¼š å˜é‡+?+å‡½æ•°åç§° ${time?time} ${time?date} ${time?datetime} MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/nav.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/nav.html","title":"Mybatis","keywords":"","body":"Mybatis æ¡†æ¶ æ¡†æ¶ï¼ˆFrameworkï¼‰æ˜¯æ•´ä¸ªæˆ–éƒ¨åˆ†ç³»ç»Ÿçš„å¯é‡ç”¨è®¾è®¡ï¼Œè¡¨ç°ä¸ºä¸€ç»„æŠ½è±¡æ„ä»¶åŠæ„ä»¶å®ä¾‹é—´äº¤äº’çš„æ–¹æ³•;å¦ä¸€ç§ å®šä¹‰è®¤ä¸ºï¼Œæ¡†æ¶æ˜¯å¯è¢«åº”ç”¨å¼€å‘è€…å®šåˆ¶çš„åº”ç”¨éª¨æ¶ã€‚å‰è€…æ˜¯ä»åº”ç”¨æ–¹é¢è€Œåè€…æ˜¯ä»ç›®çš„æ–¹é¢ç»™å‡ºçš„å®šä¹‰ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæ¡†æ¶å…¶å®å°±æ˜¯æŸç§åº”ç”¨çš„åŠæˆå“ï¼Œå°±æ˜¯ä¸€ç»„ç»„ä»¶ï¼Œä¾›ä½ é€‰ç”¨å®Œæˆä½ è‡ªå·±çš„ç³»ç»Ÿã€‚ç®€å•è¯´å°±æ˜¯ä½¿ç”¨åˆ« äººæ­å¥½çš„èˆå°ï¼Œä½ æ¥åšè¡¨æ¼”ã€‚è€Œä¸”ï¼Œæ¡†æ¶ä¸€èˆ¬æ˜¯æˆç†Ÿçš„ï¼Œä¸æ–­å‡çº§çš„è½¯ä»¶ã€‚ Mybatis æŒä¹…å±‚æ¡†æ¶ åŠ¨æ€sql ORM Mapper æ³¨å†Œä¸­å¿ƒ -> æ‰§è¡Œå™¨ -> StatementHadnler -> ResultsetHandler æ­å»º åˆ›å»ºmapperæ¥å£ public interface UserDao { List findAll(); } åˆ›å»ºæ€»é…ç½®æ–‡ä»¶ åˆ›å»ºæ˜ å°„é…ç½®æ–‡ä»¶ SELECT * FROM user ä½¿ç”¨ @Test public void findAll() throws IOException { SqlSessionFactory factory = new SqlSessionFactoryBuilder().build( Resources.getResourceAsStream(\"config.xml\")); SqlSession sqlSession = factory.openSession(); List list = sqlSession.getMapper(UserDao.class).findAll(); assertEquals(6,list.size()); } æ³¨è§£ public interface UserDao { @Select(\"SELECT * FROM user\") List findAll(); } åˆ†æ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-27 06:23:57 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/æºç è§£æ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/æºç è§£æ.html","title":"æºç è§£æ","keywords":"","body":"Mybatisæºç è§£æ è¯»æºç æŠ€å·§ï¼š çŒœï¼ˆå¦‚æœè®©ä½ è®¾è®¡ ä½ ä¼šå¦‚ä½•è®¾è®¡ï¼‰ è°ƒè¯•ï¼ˆå¸¦ç€é—®é¢˜ å…·ä½“çœ‹æŸä¸€æ“ä½œå¦‚ä½•å®ç°ï¼‰ éªŒè¯ æ•´ä½“æ¡†æ¶è¿‡ä¸€é ç»†èŠ‚ä¸å¿…å¤ªçº ç»“ æ ¸å¿ƒæ¥å£ï¼š SqlSession SqlSessionFactory ResultHandler XMLç›¸å…³ï¼š XMLConfigBuilderï¼šè¯»å–XMLé…ç½®æ–‡ä»¶ XPathParserï¼šæ ¹æ®XPathè§£æ é‡ç‚¹ï¼š MapperRegistryï¼šè´Ÿè´£Mapperæ¥å£å¤„ç† MapperAnnotationBuilder Configuration MapperProxy: invoke MapperMethod ParamNameResolver MappedStatement Executor StatementHandler MetaObjectï¼šæ‹¦æˆªå™¨å…ƒæ•°æ® MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-04 06:35:44 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/CURDæ“ä½œ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/CURDæ“ä½œ.html","title":"CURDæ“ä½œ","keywords":"","body":"æ ¹æ®æ¡ä»¶æŸ¥è¯¢ SELECT * FROM user WHERE id = #{id} ç»†èŠ‚ resultType å±æ€§ï¼š ç”¨äºæŒ‡å®šç»“æœé›†çš„ç±»å‹ã€‚ parameterType å±æ€§ï¼š ç”¨äºæŒ‡å®šä¼ å…¥å‚æ•°çš„ç±»å‹ã€‚ sql è¯­å¥ä¸­ä½¿ç”¨çš„#{}ï¼š å®ƒä»£è¡¨å ä½ç¬¦ï¼Œç›¸å½“äºåŸæ¥ jdbc éƒ¨åˆ†æ‰€å­¦çš„?ï¼Œéƒ½æ˜¯ç”¨äºæ‰§è¡Œè¯­å¥æ—¶æ›¿æ¢å®é™…çš„æ•°æ® #{}ä¸­çš„å†…å®¹ï¼šå› ä¸ºå‚æ•°åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥æ­¤å¤„å¯ä»¥éšæ„å†™ æ›´æ–° INSERT INTO user(username,address,sex,birthday) VALUES(#{username},#{address},#{sex},#{birthday}) int save(User user); éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œmybatisçš„SqlSessionå…³é—­äº†äº‹åŠ¡çš„é»˜è®¤æäº¤ï¼Œå½“è¿›è¡Œå®Œæ›´æ–°æ“ä½œåï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨sqlSession.commit(); æ¨¡ç³ŠæŸ¥è¯¢å­—ç¬¦ä¸²æ‹¼æ¥é—®é¢˜ SELECT * FROM user WHERE username LIKE '%' #{name} '%' æ’å…¥æ•°æ®åè¿”å›ID select last_insert_id(); INSERT INTO user(username,address,sex,birthday) VALUES(#{username},#{address},#{sex},#{birthday}) ä½¿ç”¨resultMap select * from user Propertiesæ ‡ç­¾ typeAliasesæ ‡ç­¾ mapper MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/è¿æ¥æ± ä¸äº‹åŠ¡.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/è¿æ¥æ± ä¸äº‹åŠ¡.html","title":"è¿æ¥æ± ä¸äº‹åŠ¡","keywords":"","body":"è¿æ¥æ±  UNPOOLED:ä¸ä½¿ç”¨è¿æ¥æ± çš„æ•°æ®æº POOLED:ä½¿ç”¨è¿æ¥æ± çš„æ•°æ®æº JNDI:ä½¿ç”¨ JNDI å®ç°çš„æ•°æ®æº äº‹åŠ¡ /*æäº¤äº‹åŠ¡*/ sqlSession.commit(); /*å›æ»šäº‹åŠ¡*/ sqlSession.rollback(); åŠ¨æ€SQL if #{username} 'abc' where æ ‡ç­¾ ... è¿™æ ·å°±ä¸ç”¨å†™where 1=1å‰ç¼€ foreachæ ‡ç­¾ collection:ä»£è¡¨è¦éå†çš„é›†åˆå…ƒç´ ï¼Œæ³¨æ„ç¼–å†™æ—¶ä¸è¦å†™#{} open:ä»£è¡¨è¯­å¥çš„å¼€å§‹éƒ¨åˆ† close:ä»£è¡¨ç»“æŸéƒ¨åˆ† item:ä»£è¡¨éå†é›†åˆçš„æ¯ä¸ªå…ƒç´ ï¼Œç”Ÿæˆçš„å˜é‡å sperator:ä»£è¡¨åˆ†éš”ç¬¦ #{uid} SQLé‡ç”¨ SELECT * FROM user WHERE id = #{id} MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/å¤šè¡¨æ“ä½œ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/å¤šè¡¨æ“ä½œ.html","title":"å¤šè¡¨æ“ä½œ","keywords":"","body":"å¤šè¡¨æŸ¥è¯¢ ä¸€å¯¹ä¸€ å®šä¹‰ç»“æœæ˜ å°„ å¤šè¡¨æŸ¥è¯¢è®¾ç½®ç»“æœæ˜ å°„ SELECT account.ID AS account_id, account.UID, account.MONEY, user.* FROM account,user WHERE account.UID = user.id å®ä½“ç±» @Data public class Account { private Integer id; private Integer uid; private Double money; private User user; } ä¸€å¯¹å¤š SELECT user.*, account.ID as account_id, account.uid, account.money FROM user LEFT OUTER JOIN account ON user.id = account.UID @Data public class User { private Integer id; private String username; private LocalDate birthday; private String sex; private String address; private List account; } å·¦å¤–è¿æ¥çš„ä½¿ç”¨ å¤šå¯¹å¤š å¤šå¯¹å¤šçš„æ˜ å°„å…³ç³»ï¼Œå¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªä¸€å¯¹å¤šçš„å…³ç³» MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/ç¼“å­˜.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/ç¼“å­˜.html","title":"ç¼“å­˜","keywords":"","body":"mybatis ç¼“å­˜ å»¶è¿ŸåŠ è½½ å°±æ˜¯åœ¨éœ€è¦ç”¨åˆ°æ•°æ®æ—¶æ‰è¿›è¡ŒåŠ è½½ï¼Œä¸éœ€è¦ç”¨åˆ°æ•°æ®æ—¶å°±ä¸åŠ è½½æ•°æ®ã€‚å»¶è¿ŸåŠ è½½ä¹Ÿç§°æ‡’åŠ è½½. å¼€å¯å»¶è¿ŸåŠ è½½ ä¿®æ”¹è¿æ¥ ä½¿ç”¨çš„åŠ¨æ€ä»£ç†å®ç°çš„å»¶è¿ŸåŠ è½½ ç¼“å­˜ ä¸€çº§ç¼“å­˜ ä¸€çº§ç¼“å­˜æ˜¯ SqlSession èŒƒå›´çš„ç¼“å­˜ï¼Œå½“è°ƒç”¨ SqlSession çš„ä¿®æ”¹ï¼Œæ·»åŠ ï¼Œåˆ é™¤ï¼Œcommit()ï¼Œclose()ç­‰æ–¹æ³•æ—¶ï¼Œå°±ä¼šæ¸…ç©ºä¸€çº§ç¼“å­˜ã€‚ å‘½ä¸­åŸåˆ™ï¼š statementIdç›¸åŒ æŸ¥è¯¢å‚æ•°ç›¸åŒï¼ˆhashçš„æ–¹å¼ï¼‰ åˆ†é¡µå‚æ•° sqlè¯­å¥ åŒä¸€ç¯å¢ƒï¼ˆenvironmentå±æ€§ï¼‰ ç”Ÿå‘½å‘¨æœŸï¼š ç¼“å­˜é”€æ¯ï¼š session close commit clearCacheä¸»åŠ¨æ¸…é™¤ è®¾è®¡ç†å¿µï¼š ä¸è¿‡æœŸ ä¸æ›´æ–° ä¸é™åˆ¶ äºŒçº§ç¼“å­˜ äºŒçº§ç¼“å­˜æ˜¯ mapper æ˜ å°„çº§åˆ«çš„ç¼“å­˜ï¼Œå¤šä¸ª SqlSession å»æ“ä½œåŒä¸€ä¸ª Mapper æ˜ å°„çš„ sql è¯­å¥ï¼Œå¤šä¸ª SqlSession å¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜æ˜¯è·¨ SqlSession çš„ã€‚ äºŒçº§ç¼“å­˜ä¸­å­˜æ”¾çš„æ˜¯æ•°æ®è€Œä¸æ˜¯å¯¹è±¡ å¼€å¯ ç¬¬ä¸€æ­¥ï¼šåœ¨ SqlMapConfig.xml æ–‡ä»¶å¼€å¯äºŒçº§ç¼“å­˜ ç¬¬äºŒæ­¥ï¼šé…ç½®ç›¸å…³çš„ Mapper æ˜ å°„æ–‡ä»¶ ç¬¬ä¸‰æ­¥ï¼šé…ç½® statement ä¸Šé¢çš„ useCache å±æ€§ SELECT * FROM user å‘½ä¸­åŸåˆ™ åŒä¸€ session factory statement id ç›¸åŒ å‚æ•°ç›¸åŒ environment ç¯å¢ƒç›¸åŒ sql session close æˆ– commit ç”Ÿå‘½å‘¨æœŸ åˆ›å»º: sql session close æˆ– commit é”€æ¯ï¼š sql session update ç¼“å­˜æ¸…é™¤ç­–ç•¥ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-05-18 03:18:33 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/æ³¨è§£å¼€å‘.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/æ³¨è§£å¼€å‘.html","title":"æ³¨è§£å¼€å‘","keywords":"","body":" æ³¨è§£ ä½œç”¨ @Insert å®ç°æ–°å¢ @Update å®ç°æ›´æ–° @Delete å®ç°åˆ é™¤ @Select å®ç°æŸ¥è¯¢ @Result å®ç°ç»“æœé›†å°è£… @Results å¯ä»¥ä¸@Result ä¸€èµ·ä½¿ç”¨ï¼Œå°è£…å¤šä¸ªç»“æœé›† @ResultMap å®ç°å¼•ç”¨@Results å®šä¹‰çš„å°è£… @One å®ç°ä¸€å¯¹ä¸€ç»“æœé›†å°è£… @Many å®ç°ä¸€å¯¹å¤šç»“æœé›†å°è£… @SelectProvider å®ç°åŠ¨æ€ SQL æ˜ å°„ @CacheNamespace å®ç°æ³¨è§£äºŒçº§ç¼“å­˜çš„ä½¿ç”¨ Resultæ³¨è§£ä½¿ç”¨ @Select(\"SELECT * FROM user\") @Results({ @Result(id=true,column = \"id\",property =\"id\"), @Result(column = \"username\",property =\"username\"), @Result(column = \"sex\",property =\"sex\"), @Result(column = \"address\",property =\"address\"), @Result(column = \"birthday\",property =\"birthday\") }) List find(); ä¸€å¯¹ä¸€æŸ¥è¯¢ @Select(\"SELECT * FROM account\") @Results({ @Result(id=true,column = \"id\",property = \"id\"), @Result(column = \"uid\",property = \"uid\"), @Result(column = \"money\",property = \"money\"), @Result(column = \"uid\",property = \"user\",one = @One(select = \"wang.ismy.mybatis.dao.UserDao.findById\",fetchType = FetchType.LAZY)) }) List findAll(); ä¸€å¯¹å¤šæŸ¥è¯¢ @Select(\"SELECT * FROM user\") @Results({ @Result(id=true,column = \"id\",property =\"id\"), @Result(column = \"username\",property =\"username\"), @Result(column = \"sex\",property =\"sex\"), @Result(column = \"address\",property =\"address\"), @Result(column = \"birthday\",property =\"birthday\"), @Result(column = \"id\",property = \"account\", many = @Many(select = \"wang.ismy.mybatis.dao.AccountDao.findById\",fetchType = FetchType.LAZY)) }) List find(); å¼€å¯äºŒçº§ç¼“å­˜ @CacheNamespace public interface UserDao {} MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/åˆ†é¡µæ’ä»¶.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis/åˆ†é¡µæ’ä»¶.html","title":"åˆ†é¡µæ’ä»¶","keywords":"","body":" å¼•å…¥ä¾èµ– com.github.pagehelper pagehelper 5.1.10 é…ç½® oracle true ä½¿ç”¨ @Override public List findAll() { PageHelper.startPage(1,5); return orderDao.findAll(); } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis-plus.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/mybatis-plus.html","title":"Mybatis-Plus","keywords":"","body":"åŸºæœ¬é…ç½® spring boot æ·»åŠ ä¾èµ– com.baomidou mybatis-plus-boot-starter 3.1.2 å®šä¹‰mapperæ¥å£ public interface UserMapper extends BaseMapper { } ä½¿ç”¨ @Autowired UserMapper userMapper; @Test public void test(){ User user = new User(); user.setUsername(\"root\"); user.setPassword(\"123\"); user.setAge(15); user.setCreateTime(LocalDate.now()); assertEquals(1,userMapper.insert(user)); } æŸ¥è¯¢ æ™®é€šæŸ¥è¯¢ æ¡ä»¶æ„é€ å™¨æŸ¥è¯¢ @Test public void test2(){ QueryWrapper queryWrapper = new QueryWrapper<>(); queryWrapper.like(\"username\",\"roo\") .lt(\"age\",50); var list = userMapper.selectList(queryWrapper); assertEquals(2,list.size()); assertEquals(\"root\",list.get(0).getUsername()); assertEquals(\"rood\",list.get(1).getUsername()); } è‡ªå®šä¹‰SQL æ³¨è§£ public interface UserMapper extends BaseMapper { @Select(\"SELECT * FROM user \") List selectAll(); } xml åŒmybatis åˆ†é¡µæŸ¥è¯¢ é…ç½®åˆ†é¡µæ’ä»¶ @Bean public PaginationInterceptor paginationInterceptor(){ return new PaginationInterceptor(); } æŸ¥è¯¢ @Test public void test4(){ Page page = new Page<>(1,2); var list = userMapper.selectPage(page,null).getRecords(); assertEquals(2,list.size()); } æ›´æ–° @Test public void test5(){ UpdateWrapper wrapper = new UpdateWrapper().eq(\"username\",\"root\"); User user = new User(); user.setPassword(\"5678\"); userMapper.update(user, wrapper); } åˆ é™¤ UpdateWrapper wrapper = new UpdateWrapper() .eq(\"username\",\"root\"); userMapper.delete(wrapper); ARæ¨¡å¼ å®ä½“ç±»ç»§æ‰¿Model @Data public class User extends Model { private String username; private String password; private Integer age; private LocalDate createTime; } @Test public void test6(){ User user = new User(); user.setUsername(\"20190716\"); user.setPassword(\"123\"); user.setCreateTime(LocalDate.now()); user.setAge(111); assertTrue(user.insert()); } ä¸»é”®ç­–ç•¥ è®¾ç½®ç­–ç•¥ @TableId(type = IdType.UUID) private String username; User user = new User(); user.setPassword(\"1111\"); assertTrue(user.insert()); é€šè¿‡Service MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Hibernate.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Hibernate.html","title":"Hibernate","keywords":"","body":"Hibernate Hibernate æ˜¯ç”± Gavin King äº 2001 å¹´åˆ›å»ºçš„å¼€æ”¾æºä»£ç çš„å¯¹è±¡å…³ç³»æ¡†æ¶ã€‚å®ƒå¼ºå¤§ä¸”é«˜æ•ˆçš„æ„å»ºå…·æœ‰å…³ç³»å¯¹è±¡æŒä¹…æ€§å’ŒæŸ¥è¯¢æœåŠ¡çš„ Java åº”ç”¨ç¨‹åºã€‚ Hibernate å°† Java ç±»æ˜ å°„åˆ°æ•°æ®åº“è¡¨ä¸­ï¼Œä» Java æ•°æ®ç±»å‹ä¸­æ˜ å°„åˆ° SQL æ•°æ®ç±»å‹ä¸­ æ¶æ„ é…ç½® ORMå…ƒæ•°æ®é…ç½® --> ä¸»é…ç½® com.mysql.cj.jdbc.Driver jdbc:mysql:///hibernate?characterEncoding=utf8 root 123 org.hibernate.dialect.MySQLDialect true true update ä½¿ç”¨ // åŠ è½½é…ç½®æ–‡ä»¶ Configuration cfg = new Configuration().configure(\"hibernate.cfg.xml\"); // åˆ›å»ºæ ¸å¿ƒå¯¹è±¡sessionçš„å·¥å‚ SessionFactory factory = cfg.buildSessionFactory(); // è·å¾—session Session session = factory.openSession(); // å¼€å¯äº‹åŠ¡ Transaction tx = session.beginTransaction(); Book book = new Book(); book.setBname(\"JAVASCRIPT hight level program\"); book.setBauthor(\"nigolas\"); // ä¿å­˜å¯¹è±¡ session.save(book); // æäº¤äº‹åŠ¡ tx.commit(); // å…³é—­ä¼šè¯ session.close(); factory.close(); // æ ¹æ®IDæŸ¥è¯¢ session.get(Book.class, 6) // æ ¹æ®IDä¿®æ”¹ Book book = session.get(Book.class, 6); book.setBauthor(\"cxk\"); session.update(book); // æ ¹æ®IDåˆ é™¤ Book book = session.get(Book.class, 6); session.delete(book); // å›æ»šäº‹åŠ¡ tx.rollback(); å®ä½“ å®ä½“ç±»æ³¨æ„äº‹é¡¹ æŒä¹…ç±»æä¾›æ— å‚æ•°æ„é€ æ–¹æ³• æˆå‘˜å˜é‡ç§æœ‰,æä¾›æœ‰get/setæ–¹æ³•è®¿é—®.éœ€æä¾›å±æ€§ æŒä¹…åŒ–ç±»ä¸­çš„å±æ€§,åº”å°½é‡ä½¿ç”¨åŒ…è£…ç±»å‹ æŒä¹…åŒ–ç±»éœ€è¦æä¾›id.ä¸æ•°æ®åº“ä¸­çš„ä¸»é”®åˆ—å¯¹åº” ä¸è¦ç”¨finalä¿®é¥°class ä¸»é”®ç±»å‹ è‡ªç„¶ä¸»é”® è¡¨çš„ä¸šåŠ¡åˆ—ä¸­,æœ‰æŸä¸šåŠ¡åˆ—ç¬¦åˆ,å¿…é¡»æœ‰,å¹¶ä¸”ä¸é‡å¤çš„ç‰¹å¾æ—¶,è¯¥åˆ—å¯ä»¥ä½œä¸ºä¸»é”®ä½¿ç”¨. ä»£ç†ä¸»é”® è¡¨çš„ä¸šåŠ¡åˆ—ä¸­,æ²¡æœ‰æŸä¸šåŠ¡åˆ—ç¬¦åˆ,å¿…é¡»æœ‰,å¹¶ä¸”ä¸é‡å¤çš„ç‰¹å¾æ—¶,åˆ›å»ºä¸€ä¸ªæ²¡æœ‰ä¸šåŠ¡æ„ä¹‰çš„åˆ—ä½œä¸ºä¸»é”® ä¸»é”®ç”Ÿæˆç­–ç•¥ ä»£ç†ä¸»é”® identity : ä¸»é”®è‡ªå¢.ç”±æ•°æ®åº“æ¥ç»´æŠ¤ä¸»é”®å€¼.å½•å…¥æ—¶ä¸éœ€è¦æŒ‡å®šä¸»é”®. sequence: Oracleä¸­çš„ä¸»é”®ç”Ÿæˆç­–ç•¥. increment(äº†è§£): ä¸»é”®è‡ªå¢.ç”±hibernateæ¥ç»´æŠ¤.æ¯æ¬¡æ’å…¥å‰ä¼šå…ˆæŸ¥è¯¢è¡¨ä¸­idæœ€å¤§å€¼.+1ä½œä¸ºæ–°ä¸»é”®å€¼. hilo(äº†è§£): é«˜ä½ä½ç®—æ³•.ä¸»é”®è‡ªå¢.ç”±hibernateæ¥ç»´æŠ¤.å¼€å‘æ—¶ä¸ä½¿ç”¨. native:hilo+sequence+identity è‡ªåŠ¨ä¸‰é€‰ä¸€ç­–ç•¥. uuid: äº§ç”Ÿéšæœºå­—ç¬¦ä¸²ä½œä¸ºä¸»é”®. ä¸»é”®ç±»å‹å¿…é¡»ä¸ºstring ç±»å‹. è‡ªç„¶ä¸»é”® assigned:è‡ªç„¶ä¸»é”®ç”Ÿæˆç­–ç•¥. hibernateä¸ä¼šç®¡ç†ä¸»é”®å€¼.ç”±å¼€å‘äººå‘˜è‡ªå·±å½•å…¥. å¯¹è±¡çŠ¶æ€ ç¬æ—¶çŠ¶æ€ æ²¡æœ‰IDï¼Œæ²¡æœ‰åœ¨sessionç¼“å­˜ä¸­ æŒä¹…åŒ–çŠ¶æ€ æœ‰id,åœ¨sessionç¼“å­˜ä¸­ æŒä¹…åŒ–å¯¹è±¡çš„å˜åŒ–ä¼šåŒæ­¥åˆ°æ•°æ®åº“ä¸­ æ¸¸ç¦»|æ‰˜ç®¡çŠ¶æ€ æœ‰id,æ²¡æœ‰åœ¨sessionç¼“å­˜ä¸­ Book book = new Book(); // ç¬æ—¶çŠ¶æ€ book.setBauthor(\"unknown\"); // ç¬æ—¶çŠ¶æ€ session.save(book); // æŒä¹…åŒ–çŠ¶æ€ tx.commit(); // å…³é—­ä¼šè¯ session.close(); // æ¸¸ç¦»|æ‰˜ç®¡çŠ¶æ€ ä¸€çº§ç¼“å­˜ Book book = session.get(Book.class, 1); Book book1 = session.get(Book.class, 1); System.out.println(book == book1); // true å¿«ç…§ Book book = session.get(Book.class, 1); book.setBname(\"java learning\"); tx.commit(); // ä¸å¿«ç…§ä¸­å¯¹è±¡è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœå¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œåˆ™æ›´æ–°å¯¹è±¡ äº‹åŠ¡ è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ« 4 åœ¨é¡¹ç›®ä¸­ç®¡ç†äº‹åŠ¡ è·å–çº¿ç¨‹ç»‘å®šsession thread // è·å–çº¿ç¨‹ç»‘å®šsession // æ³¨æ„ï¼Œçº¿ç¨‹ç»‘å®šçš„sessionäº‹åŠ¡æäº¤åä¼šè‡ªåŠ¨å…³é—­ Session session = factory.getCurrentSession(); å…¶ä»–æ–¹å¼æŸ¥è¯¢ HQLæŸ¥è¯¢ String hql = \"FROM Book\"; Query query = session.createQuery(hql,Book.class); System.out.println(query.list()); -- æ¡ä»¶æŸ¥è¯¢ FROM Book where bauthor='unknown' -- æ’åº FROM Book ORDER BY bid DESC -- æŠ•å½± SELECT bname FROM Book -- æŠ•å½±å°è£…å¯¹è±¡ SELECT new Book(bname) FROM Book -- è¿æ¥Bookä¸Author FROM Book b INNER JOIN fetch b.authors // èšåˆå‡½æ•° String hql = \"SELECT max(bid) FROM Book\"; Query query = session.createQuery(hql); Number number = (Number) query.uniqueResult(); // å ä½ç¬¦ String hql = \"FROM Book where bauthor=:name\"; Query query = session.createQuery(hql,Book.class); query.setParameter(\"name\",\"unknown\"); // åˆ†é¡µ ç¬¬ä¸€é¡µï¼Œæ¯é¡µ10æ¡ query.setFirstResult(0); query.setMaxResults(10); CriteriaæŸ¥è¯¢(å•è¡¨æ¡ä»¶æŸ¥è¯¢) Criteria criteria = session.createCriteria(Book.class); System.out.println(criteria.list()); // æ ¹æ®IDæŸ¥è¯¢ criteria.add(Restrictions.idEq(2)); // æ¡ä»¶æŸ¥è¯¢ criteria.add(Restrictions.eq(\"bname\",\"clean code\")); // æ’åº criteria.addOrder(Order.asc(\"bname\")); // èšåˆå‡½æ•° criteria.setProjection(Projections.max(\"bid\")); ç¦»çº¿æŸ¥è¯¢ DetachedCriteria criteria = DetachedCriteria.forClass(Book.class); criteria.add(Restrictions.eq(\"bname\",\"clean code\")); List list = criteria.getExecutableCriteria(session).list(); åŸç”ŸsqlæŸ¥è¯¢ String sql = \"SELECT * FROM tb_book WHERE bid = ?\"; NativeQuery query = session.createSQLQuery(sql).addEntity(Book.class); query.setParameter(1,1); å¤šè¡¨æŸ¥è¯¢ ä¸€å¯¹å¤š|å¤šå¯¹ä¸€ æ“ä½œ // æ–°å¢ Book book = new Book(); book.setBname(\"java\"); Author author1 = new Author(); author1.setName(\"author1\"); author1.setBook(book); Author author2 = new Author(); author2.setName(\"author2\"); author2.setBook(book); book.setAuthors(Set.of(author1,author2)); session.save(book); session.save(author1); session.save(author2); // è¿½åŠ ä¸€ä¸ªå¤š Book book = session.get(Book.class,1); Author author3 = new Author(); author3.setName(\"author3\"); author3.setBook(book); book.getAuthors().add(author3); session.save(author3); // ç§»é™¤ä¸€ä¸ªå¤š Book book = session.get(Book.class,1); book.getAuthors().removeIf(a-> \"author1\".equals(a.getName())); çº§è”æ“ä½œ Book book = new Book(); book.setBname(\"python\"); Author author1 = new Author(); author1.setName(\"authorx\"); author1.setBook(book); book.setAuthors(Set.of(author1)); session.save(book); å¤šå¯¹å¤š æ“ä½œ Book book1 = new Book(); book1.setBname(\"clean code\"); Book book2 = new Book(); book2.setBname(\"clean coder\"); Author author1 = new Author(); author1.setName(\"martin flower\"); Author author2 = new Author(); author2.setName(\"robert c\"); book1.setAuthors(Set.of(author1,author2)); book2.setAuthors(Set.of(author1,author2)); author1.setBook(Set.of(book1,book2)); author2.setBook(Set.of(book1,book2)); session.save(book1); session.save(book2); session.save(author1); session.save(author2); åŠ è½½ç­–ç•¥ ç±»çº§åˆ« // ç«‹å³åŠ è½½ Book book = session.get(Book.class, 1); // å»¶è¿ŸåŠ è½½ ä½¿ç”¨æ—¶æ‰å»æ•°æ®åº“æŸ¥è¯¢ï¼ˆåŠ¨æ€ä»£ç†ï¼‰ // ä½¿ç”¨æ‡’åŠ è½½æ—¶è¦ç¡®ä¿,è°ƒç”¨å±æ€§åŠ è½½æ•°æ®æ—¶,sessionè¿˜æ˜¯æ‰“å¼€çš„.ä¸ç„¶ä¼šæŠ›å‡ºå¼‚å¸¸ Book book = session.load(Book.class, 2); å…³è”çº§åˆ« é›†åˆ å…³è”å±æ€§ ä¸ºäº†æé«˜æ•ˆç‡.fetchçš„é€‰æ‹©ä¸Šåº”é€‰æ‹©select. lazyçš„å–å€¼åº”é€‰æ‹© true. å…¨éƒ¨ä½¿ç”¨é»˜è®¤å€¼. æ‰¹é‡æŠ“å– batch-size MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-04 06:52:13 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Dubbo.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Dubbo.html","title":"Dubbo","keywords":"","body":"Dubbo ä¸€æ¬¾åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ é«˜æ€§èƒ½å’Œé€æ˜åŒ–çš„RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æ–¹æ¡ˆ SOAæœåŠ¡æ²»ç†æ–¹æ¡ˆ éœ€æ±‚ å½“æœåŠ¡è¶Šæ¥è¶Šå¤šæ—¶ï¼ŒæœåŠ¡ URL é…ç½®ç®¡ç†å˜å¾—éå¸¸å›°éš¾ï¼ŒF5 ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨çš„å•ç‚¹å‹åŠ›ä¹Ÿè¶Šæ¥è¶Šå¤§ å½“è¿›ä¸€æ­¥å‘å±•ï¼ŒæœåŠ¡é—´ä¾èµ–å…³ç³»å˜å¾—é”™è¸ªå¤æ‚ï¼Œç”šè‡³åˆ†ä¸æ¸…å“ªä¸ªåº”ç”¨è¦åœ¨å“ªä¸ªåº”ç”¨ä¹‹å‰å¯åŠ¨ï¼Œæ¶æ„å¸ˆéƒ½ä¸èƒ½å®Œæ•´çš„æè¿°åº”ç”¨çš„æ¶æ„å…³ç³» æ¥ç€ï¼ŒæœåŠ¡çš„è°ƒç”¨é‡è¶Šæ¥è¶Šå¤§ï¼ŒæœåŠ¡çš„å®¹é‡é—®é¢˜å°±æš´éœ²å‡ºæ¥ï¼Œè¿™ä¸ªæœåŠ¡éœ€è¦å¤šå°‘æœºå™¨æ”¯æ’‘ï¼Ÿä»€ä¹ˆæ—¶å€™è¯¥åŠ æœºå™¨ æ¶æ„ èŠ‚ç‚¹ è§’è‰²è¯´æ˜ Provider æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ Consumer è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ Registry æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ Monitor ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ Container å®¹å™¨. DubboæŠ€æœ¯çš„æœåŠ¡ç«¯(Provider), åœ¨å¯åŠ¨æ‰§è¡Œçš„æ—¶å€™, å¿…é¡»ä¾èµ–å®¹å™¨æ‰èƒ½æ­£å¸¸å¯åŠ¨. å·¥ä½œæµç¨‹ start: å¯åŠ¨Springå®¹å™¨æ—¶,è‡ªåŠ¨å¯åŠ¨Dubboçš„Provider register: Dubboçš„Provideråœ¨å¯åŠ¨åè‡ªåŠ¨ä¼šå»æ³¨å†Œä¸­å¿ƒæ³¨å†Œå†…å®¹.æ³¨å†Œçš„å†…å®¹åŒ…æ‹¬: Providerçš„ IP Provider çš„ç«¯å£. Provider å¯¹å¤–æä¾›çš„æ¥å£åˆ—è¡¨.å“ªäº›æ–¹æ³•.å“ªäº›æ¥å£ç±» Dubbo çš„ç‰ˆæœ¬. è®¿é—®Providerçš„åè®®. subscribe: è®¢é˜….å½“Consumerå¯åŠ¨æ—¶,è‡ªåŠ¨å»Registryè·å–åˆ°æ‰€å·²æ³¨å†Œçš„æœåŠ¡çš„ä¿¡æ¯. notify: é€šçŸ¥.å½“Providerçš„ä¿¡æ¯å‘ç”Ÿå˜åŒ–æ—¶, è‡ªåŠ¨ç”±Registryå‘Consumeræ¨é€é€šçŸ¥. invoke: è°ƒç”¨. Consumer è°ƒç”¨Providerä¸­æ–¹æ³• åŒæ­¥è¯·æ±‚.æ¶ˆè€—ä¸€å®šæ€§èƒ½.ä½†æ˜¯å¿…é¡»æ˜¯åŒæ­¥è¯·æ±‚,å› ä¸ºéœ€è¦æ¥æ”¶è°ƒç”¨æ–¹æ³•åçš„ç»“æœ. count:æ¬¡æ•°. æ¯éš”2åˆ†é’Ÿ,provoiderå’Œconsumerè‡ªåŠ¨å‘Monitorå‘é€è®¿é—®æ¬¡æ•°.Monitorè¿›è¡Œç»Ÿè®¡. æ³¨å†Œä¸­å¿ƒ Dubboæ”¯æŒMulticastï¼ŒZookeeperï¼ŒRedisï¼ŒSimpleæ³¨å†Œä¸­å¿ƒ ZooKeeper æœåŠ¡æä¾›è€…å¯åŠ¨æ—¶: å‘ /dubbo/com.foo.BarService/providers ç›®å½•ä¸‹å†™å…¥è‡ªå·±çš„ URL åœ°å€ æœåŠ¡æ¶ˆè´¹è€…å¯åŠ¨æ—¶: è®¢é˜… /dubbo/com.foo.BarService/providers ç›®å½•ä¸‹çš„æä¾›è€… URL åœ°å€ã€‚å¹¶å‘ /dubbo/com.foo.BarService/consumers ç›®å½•ä¸‹å†™å…¥è‡ªå·±çš„ URL åœ°å€ï¼Œå½“æä¾›è€…å‘ç”Ÿå˜åŒ–æ—¶ï¼Œzkä¼šé€šçŸ¥æ¶ˆè´¹è€… ç›‘æ§ä¸­å¿ƒå¯åŠ¨æ—¶: è®¢é˜… /dubbo/com.foo.BarService ç›®å½•ä¸‹çš„æ‰€æœ‰æä¾›è€…å’Œæ¶ˆè´¹è€… URL åœ°å€ åè®® Dubbo é»˜è®¤åè®®é‡‡ç”¨å•ä¸€é•¿è¿æ¥å’Œ NIO å¼‚æ­¥é€šè®¯ï¼Œé€‚åˆäºå°æ•°æ®é‡å¤§å¹¶å‘çš„æœåŠ¡è°ƒç”¨ï¼Œä»¥åŠæœåŠ¡æ¶ˆè´¹è€…æœºå™¨æ•°è¿œå¤§äºæœåŠ¡æä¾›è€…æœºå™¨æ•°çš„æƒ…å†µã€‚ åä¹‹ï¼ŒDubbo é»˜è®¤åè®®ä¸é€‚åˆä¼ é€å¤§æ•°æ®é‡çš„æœåŠ¡ï¼Œæ¯”å¦‚ä¼ æ–‡ä»¶ï¼Œä¼ è§†é¢‘ç­‰ï¼Œé™¤éè¯·æ±‚é‡å¾ˆä½ ç¼ºçœåè®®ï¼Œä½¿ç”¨åŸºäº mina 1.1.7 å’Œ hessian 3.2.1 çš„ tbremoting äº¤äº’ã€‚ è¿æ¥ä¸ªæ•°ï¼šå•è¿æ¥ è¿æ¥æ–¹å¼ï¼šé•¿è¿æ¥ ä¼ è¾“åè®®ï¼šTCP ä¼ è¾“æ–¹å¼ï¼šNIO å¼‚æ­¥ä¼ è¾“ åºåˆ—åŒ–ï¼šHessian äºŒè¿›åˆ¶åºåˆ—åŒ– é€‚ç”¨èŒƒå›´ï¼šä¼ å…¥ä¼ å‡ºå‚æ•°æ•°æ®åŒ…è¾ƒå°ï¼ˆå»ºè®®å°äº100Kï¼‰ï¼Œæ¶ˆè´¹è€…æ¯”æä¾›è€…ä¸ªæ•°å¤šï¼Œå•ä¸€æ¶ˆè´¹è€…æ— æ³•å‹æ»¡ æä¾›è€…ï¼Œå°½é‡ä¸è¦ç”¨ dubbo åè®®ä¼ è¾“å¤§æ–‡ä»¶æˆ–è¶…å¤§å­—ç¬¦ä¸²ã€‚ é€‚ç”¨åœºæ™¯ï¼šå¸¸è§„è¿œç¨‹æœåŠ¡æ–¹æ³•è°ƒç”¨ Protocol Buffer Protocol Buffer å…¶å®æ˜¯ Google å‡ºå“çš„ä¸€ç§è½»é‡å¹¶ä¸”é«˜æ•ˆçš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œæ€§èƒ½æ¯” JSONã€XML è¦é«˜å¾ˆå¤š åºåˆ—åŒ–å’Œååºåˆ—éå¸¸å¿« å‹ç¼©åä½“ç§¯å¾ˆå° è´Ÿè½½å‡è¡¡ç­–ç•¥ random loadbalance éšæœºè°ƒç”¨å®ç°è´Ÿè½½å‡è¡¡ï¼Œå¯ä»¥å¯¹ provider ä¸åŒå®ä¾‹è®¾ç½®ä¸åŒçš„æƒé‡ï¼Œä¼šæŒ‰ç…§æƒé‡æ¥è´Ÿè½½å‡è¡¡ roundrobin loadbalance é»˜è®¤å°±æ˜¯å‡åŒ€åœ°å°†æµé‡æ‰“åˆ°å„ä¸ªæœºå™¨ä¸Šå»ï¼Œä½†æ˜¯å¦‚æœå„ä¸ªæœºå™¨çš„æ€§èƒ½ä¸ä¸€æ ·ï¼Œå®¹æ˜“å¯¼è‡´æ€§èƒ½å·®çš„æœºå™¨è´Ÿè½½è¿‡é«˜ã€‚æ‰€ä»¥æ­¤æ—¶éœ€è¦è°ƒæ•´æƒé‡ leastactive loadbalance ç»™ä¸æ´»è·ƒçš„æ€§èƒ½å·®çš„æœºå™¨æ›´å°‘çš„è¯·æ±‚ consistanthash loadbalance ç›¸åŒå‚æ•°çš„è¯·æ±‚ä¸€å®šåˆ†å‘åˆ°ä¸€ä¸ª provider ä¸Šå»ï¼Œprovider æŒ‚æ‰çš„æ—¶å€™ï¼Œä¼šåŸºäºè™šæ‹ŸèŠ‚ç‚¹å‡åŒ€åˆ†é…å‰©ä½™çš„æµé‡ å»ºè®®åœ¨ Provider ç«¯é…ç½®çš„ Consumer ç«¯å±æ€§ timeoutï¼šæ–¹æ³•è°ƒç”¨çš„è¶…æ—¶æ—¶é—´ retriesï¼šå¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œç¼ºçœæ˜¯ 2 loadbalanceï¼šè´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œç¼ºçœæ˜¯éšæœº random + æƒé‡ã€‚è¿˜å¯ä»¥é…ç½®è½®è¯¢ roundrobinã€æœ€ä¸æ´»è·ƒä¼˜å…ˆ leastactive å’Œä¸€è‡´æ€§å“ˆå¸Œ consistenthash ç­‰ activesï¼šæ¶ˆè´¹è€…ç«¯çš„æœ€å¤§å¹¶å‘è°ƒç”¨é™åˆ¶ï¼Œå³å½“ Consumer å¯¹ä¸€ä¸ªæœåŠ¡çš„å¹¶å‘è°ƒç”¨åˆ°ä¸Šé™åï¼Œæ–°è°ƒç”¨ä¼šé˜»å¡ç›´åˆ°è¶…æ—¶ï¼Œåœ¨æ–¹æ³•ä¸Šé…ç½® dubbo:method åˆ™é’ˆå¯¹è¯¥æ–¹æ³•è¿›è¡Œå¹¶å‘é™åˆ¶ï¼Œåœ¨æ¥å£ä¸Šé…ç½® dubbo:serviceï¼Œåˆ™é’ˆå¯¹è¯¥æœåŠ¡è¿›è¡Œå¹¶å‘é™åˆ¶ executesæœåŠ¡æä¾›æ–¹å¯ä»¥ä½¿ç”¨çš„æœ€å¤§çº¿ç¨‹æ•° åœ¨ Provider ç«¯é…ç½®åˆç†çš„ Provider ç«¯å±æ€§ å»ºè®®åœ¨ Provider ç«¯é…ç½®çš„ Provider ç«¯å±æ€§æœ‰ï¼š threadsï¼šæœåŠ¡çº¿ç¨‹æ± å¤§å° executesï¼šä¸€ä¸ªæœåŠ¡æä¾›è€…å¹¶è¡Œæ‰§è¡Œè¯·æ±‚ä¸Šé™ï¼Œå³å½“ Provider å¯¹ä¸€ä¸ªæœåŠ¡çš„å¹¶å‘è°ƒç”¨è¾¾åˆ°ä¸Šé™åï¼Œæ–°è°ƒç”¨ä¼šé˜»å¡ï¼Œæ­¤æ—¶ Consumer å¯èƒ½ä¼šè¶…æ—¶ã€‚åœ¨æ–¹æ³•ä¸Šé…ç½® dubbo:method åˆ™é’ˆå¯¹è¯¥æ–¹æ³•è¿›è¡Œå¹¶å‘é™åˆ¶ï¼Œåœ¨æ¥å£ä¸Šé…ç½® dubbo:serviceï¼Œåˆ™é’ˆå¯¹è¯¥æœåŠ¡è¿›è¡Œå¹¶å‘é™åˆ¶ é›†ç¾¤å®¹é”™ç­–ç•¥ failover cluster æ¨¡å¼ å¤±è´¥è‡ªåŠ¨åˆ‡æ¢ï¼Œè‡ªåŠ¨é‡è¯•å…¶ä»–æœºå™¨ï¼Œé»˜è®¤å°±æ˜¯è¿™ä¸ª failfast cluster æ¨¡å¼ ä¸€æ¬¡è°ƒç”¨å¤±è´¥å°±ç«‹å³å¤±è´¥ failsafe cluster æ¨¡å¼ å‡ºç°å¼‚å¸¸æ—¶å¿½ç•¥æ‰ failback cluster æ¨¡å¼ å¤±è´¥äº†åå°è‡ªåŠ¨è®°å½•è¯·æ±‚ï¼Œç„¶åå®šæ—¶é‡å‘ forking cluster æ¨¡å¼ å¹¶è¡Œè°ƒç”¨å¤šä¸ª providerï¼Œåªè¦ä¸€ä¸ªæˆåŠŸå°±ç«‹å³è¿”å› broadcacst cluster é€ä¸ªè°ƒç”¨æ‰€æœ‰çš„ providerã€‚ä»»ä½•ä¸€ä¸ª provider å‡ºé”™åˆ™æŠ¥é”™ spi service provider interface å½“æŸä¸ªæ¥å£æœ‰å¤šä¸ªå®ç°ï¼Œéœ€è¦æ ¹æ®æŒ‡å®šçš„é…ç½®æˆ–è€…æ˜¯é»˜è®¤çš„é…ç½®ï¼Œé€‰æ‹©ç›¸å¯¹åº”çš„å®ç° æœåŠ¡æ²»ç† è°ƒç”¨é“¾è·¯è‡ªåŠ¨ç”Ÿæˆ å¯¹å„ä¸ªæœåŠ¡ä¹‹é—´çš„è°ƒç”¨è‡ªåŠ¨è®°å½•ä¸‹æ¥ï¼Œç„¶åè‡ªåŠ¨å°†å„ä¸ªæœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»å’Œè°ƒç”¨é“¾è·¯ç”Ÿæˆå‡ºæ¥ï¼Œåšæˆä¸€å¼ å›¾ æœåŠ¡è®¿é—®å‹åŠ›ä»¥åŠæ—¶é•¿ç»Ÿè®¡ æ¯ä¸ªæœåŠ¡çš„æ¯ä¸ªæ¥å£æ¯å¤©è¢«è°ƒç”¨å¤šå°‘æ¬¡ ä»æºå¤´å…¥å£å¼€å§‹ï¼Œä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚é“¾è·¯ç»è¿‡å‡ åä¸ªæœåŠ¡ä¹‹åï¼Œå®Œæˆä¸€æ¬¡è¯·æ±‚ï¼Œæ¯å¤©å…¨é“¾è·¯èµ°å¤šå°‘æ¬¡ è®¾è®¡ä¸€ä¸ªrpcæ¡†æ¶ æ³¨å†Œä¸­å¿ƒ è¦èƒ½æ³¨å†Œã€æ‹‰å–æœåŠ¡ä¿¡æ¯ ç½‘ç»œè¯·æ±‚çš„å‘é€ä¸æ¥æ”¶ ä½¿ç”¨åŠ¨æ€ä»£ç†æ¥å°è£… å¤šä¸ªæœåŠ¡æœ¬åœ°è´Ÿè½½å‡è¡¡ è¯·æ±‚æ•°æ®å“åº”æ•°æ®çš„åºåˆ—åŒ–ä¸ååºåˆ— SpringCloudä¸Dubbo SpringCloud å’ŒDubboéƒ½å¯ä»¥å®ç°RPCè¿œç¨‹è°ƒç”¨å’ŒæœåŠ¡æ²»ç† SpringCloudæ˜¯ä¸€å¥—ç›®å‰æ¯”è¾ƒå®Œå–„çš„å¾®æœåŠ¡æ¡†æ¶ï¼Œæ•´åˆäº†åˆ†å¸ƒå¼å¸¸ç”¨è§£å†³æ–¹æ¡ˆé‡åˆ°äº†é—®é¢˜ï¼ŒDubboåªæ˜¯å®ç°æœåŠ¡æ²»ç† æ•´åˆspring boot provider compile group: 'org.apache.dubbo', name: 'dubbo-spring-boot-starter', version: '2.7.7' compile group: 'org.apache.curator', name: 'curator-recipes', version: '4.2.0' spring.application.name=dubbo-provider dubbo.scan.base-packages=wang.ismy.dubbo dubbo.protocol.name=dubbo dubbo.protocol.port=666 dubbo.protocol.host=192.168.1.109 dubbo.registry.address=zookeeper://local:2181 @DubboService(version = \"1.0.0\",timeout = 10000,interfaceClass = HelloService.class) @Service public class HelloServiceImpl implements HelloService{...} consumer ä¾èµ–é…ç½®åŒä¸Š @DubboReference(version = \"1.0.0\") HelloService helloService; dubbo-admin å¯è§†åŒ–ç®¡ç†æœåŠ¡ å¯åŠ¨admin-server é…ç½®admin-ui server ip npm run dev MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-16 06:23:22 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Junit.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Junit.html","title":"JUnit","keywords":"","body":"JUint 4 ç™½ç›’æµ‹è¯• é»‘ç›’æµ‹è¯• @Test public void test(){ Assert.assertEquals(1,1); } @Before @After 5 ç»„æˆï¼š JUint Platform ç”¨äºåœ¨JVMä¸Šå¯åŠ¨æµ‹è¯•æ¡†æ¶ JUint Jupiter 5ç‰ˆæœ¬çš„å…¨æ–°ç¼–ç¨‹æ¨¡å‹ä¸æ‰©å±•æœºåˆ¶ JUint Vintage å…¼å®¹3å’Œ4 æ³¨è§£ é‡Šä¹‰ @Test æ³¨æ˜ä¸€ä¸ªæ–¹æ³•æ˜¯æµ‹è¯•æ–¹æ³•ï¼ŒJUnit æ¡†æ¶ä¼šåœ¨æµ‹è¯•é˜¶æ®µè‡ªåŠ¨æ‰¾å‡ºæ‰€æœ‰ä½¿ç”¨è¯¥æ³¨è§£æ ‡æ˜çš„æµ‹è¯•æ–¹æ³•å¹¶è¿è¡Œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨JUnit5ç‰ˆæœ¬ä¸­ï¼Œå–æ¶ˆäº†è¯¥æ³¨è§£çš„timeoutå‚æ•°çš„æ”¯æŒ @TestFactory æ³¨æ˜ä¸€ä¸ªæ–¹æ³•æ˜¯åŸºäºæ•°æ®é©±åŠ¨çš„åŠ¨æ€æµ‹è¯•æ•°æ®æº @ParameterizedTest æ³¨æ˜ä¸€ä¸ªæ–¹æ³•æ˜¯æµ‹è¯•æ–¹æ³•ï¼Œè¿™ä¸€ç‚¹åŒ@Testæ³¨è§£ä½œç”¨ä¸€æ ·ã€‚æ­¤å¤–ï¼Œè¯¥æ³¨è§£è¿˜å¯ä»¥è®©ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ä½¿ç”¨ä¸åŒçš„å…¥å‚è¿è¡Œå¤šæ¬¡ @RepeatedTest ä»å­—é¢æ„æ€å°±å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªæ³¨é‡Šå¯ä»¥è®©æµ‹è¯•æ–¹æ³•è‡ªå®šä¹‰é‡å¤è¿è¡Œæ¬¡æ•° @BeforeEach ä¸JUnit4ä¸­çš„@Beforeç±»ä¼¼ï¼Œå¯ä»¥åœ¨æ¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•è¿è¡Œå‰ï¼Œ éƒ½è¿è¡Œä¸ªæŒ‡å®šçš„æ–¹æ³•ã€‚åœ¨JUnit5ä¸­ï¼Œé™¤äº†è¿è¡Œ@Testæ³¨è§£çš„æ–¹æ³•ï¼Œè¿˜é¢å¤–æ”¯æŒè¿è¡Œ@ParameterizedTestå’Œ@RepeatedTestæ³¨è§£çš„æ–¹æ³• @AfterEach ä¸JUnit4ä¸­çš„@Aferç±»ä¼¼ï¼Œå¯ä»¥åœ¨æ¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•è¿è¡Œåï¼Œéƒ½è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„æ–¹æ³•ã€‚åœ¨JUnit5ä¸­ï¼Œé™¤äº†è¿è¡Œ@Testæ³¨è§£çš„æ–¹æ³•ï¼Œè¿˜é¢å¤–æ”¯æŒè¿è¡Œ@ParameterizedTest å’Œ@ RepeatedTestæ³¨è§£çš„æ–¹æ³• @BeforeAll ä¸JUni4ä¸­çš„@BeforeClass ç±»ä¼¼ï¼Œå¯ä»¥åœ¨æ¯ä¸€ä¸ªæµ‹è¯•ç±»è¿è¡Œå‰ï¼Œéƒ½è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„æ–¹æ³• @AfterAll ä¸JUnit4ä¸­çš„@AfterClass ç±»ä¼¼ï¼Œå¯ä»¥åœ¨æ¯ä¸€ä¸ªæµ‹è¯•ç±»è¿è¡Œåï¼Œ éƒ½è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„æ–¹æ³• @Disabled ä¸JUnit4ä¸­çš„@lgnore ç±»ä¼¼ï¼Œæ³¨æ˜ä¸€ä¸ªæµ‹è¯•çš„ç±»æˆ–æ–¹æ³•ä¸å†è¿è¡Œ @Nested ä¸ºæµ‹è¯•æ·»åŠ åµŒå¥—å±‚çº§ï¼Œä»¥ä¾¿ç»„ç»‡ç”¨ä¾‹ç»“æ„ @Tag ä¸ºæµ‹è¯•ç±»æˆ–æ–¹æ³•æ·»åŠ æ ‡ç­¾ï¼Œä»¥ä¾¿æœ‰é€‰æ‹©æ€§åœ°æ‰§è¡Œ å‘½åï¼š shoud...when... æµå¼æ–­è¨€ï¼š AssertJ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-05 12:12:26 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/JavaScript.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/JavaScript.html","title":"JavaScript","keywords":"","body":"ä¸htmlç»“åˆæ–¹å¼ å†…éƒ¨js å¤–éƒ¨js æ³¨é‡Š æ•°æ®ç±»å‹ åŸå§‹æ•°æ®ç±»å‹ number string null undefined å¼•ç”¨æ•°æ®ç±»å‹ å˜é‡ var a = 5; typeof è¿ç®—ç¬¦ ä¸€å…ƒè¿ç®—ç¬¦ ++ -- + - ç®—æœ¯è¿ç®—ç¬¦ + - * / % ... èµ‹å€¼è¿ç®—ç¬¦ = += -+.... æ¯”è¾ƒè¿ç®—ç¬¦ > = é€»è¾‘è¿ç®—ç¬¦ && || ! å…¶ä»–å¯¹è±¡è½¬boolean numberï¼š0æˆ–NaNä¸ºå‡ï¼Œå…¶ä»–ä¸ºçœŸ stringï¼šé™¤äº†ç©ºå­—ç¬¦ä¸²(\"\")ï¼Œå…¶ä»–éƒ½æ˜¯true null&undefined:éƒ½æ˜¯false å¯¹è±¡ï¼šæ‰€æœ‰å¯¹è±¡éƒ½ä¸ºtrue ä¸‰å…ƒè¿ç®—ç¬¦ JSç‰¹æ®Šè¯­æ³• æµç¨‹æ§åˆ¶è¯­å¥ if..else... switch while do...while for åŸºæœ¬å¯¹è±¡ Function function f(x){ ... } var f = function(){ ... } Array åˆ›å»º new Array(å…ƒç´ åˆ—è¡¨); new Array(é•¿åº¦); [1,2,3,4]; ç‰¹ç‚¹ å…ƒç´ ç±»å‹å¯å˜ é•¿åº¦å¯å˜ æ–¹æ³• joinï¼šæ‹¼æ¥æˆå­—ç¬¦ä¸² push Date å¸¸ç”¨æ–¹æ³• Math å¸¸ç”¨æ–¹æ³• Gloal encodeURI decodeURI encodeURIComponent:ç¼–ç èŒƒå›´æ›´å¹¿ parseInt isNaN eval ç«‹å³æ‰§è¡Œå‡½æ•° ( function(){ //... } )() window æ–¹æ³• ä¸å¼¹å‡ºæ¡†æœ‰å…³çš„æ–¹æ³•ï¼š alert() æ˜¾ç¤ºå¸¦æœ‰ä¸€æ®µæ¶ˆæ¯å’Œä¸€ä¸ªç¡®è®¤æŒ‰é’®çš„è­¦å‘Šæ¡†ã€‚ confirm() æ˜¾ç¤ºå¸¦æœ‰ä¸€æ®µæ¶ˆæ¯ä»¥åŠç¡®è®¤æŒ‰é’®å’Œå–æ¶ˆæŒ‰é’®çš„å¯¹è¯æ¡†ã€‚ å¦‚æœç”¨æˆ·ç‚¹å‡»ç¡®å®šæŒ‰é’®ï¼Œåˆ™æ–¹æ³•è¿”å›true å¦‚æœç”¨æˆ·ç‚¹å‡»å–æ¶ˆæŒ‰é’®ï¼Œåˆ™æ–¹æ³•è¿”å›false prompt() æ˜¾ç¤ºå¯æç¤ºç”¨æˆ·è¾“å…¥çš„å¯¹è¯æ¡†ã€‚ è¿”å›å€¼ï¼šè·å–ç”¨æˆ·è¾“å…¥çš„å€¼ ä¸æ‰“å¼€å…³é—­æœ‰å…³çš„æ–¹æ³•ï¼š close() å…³é—­æµè§ˆå™¨çª—å£ã€‚ è°è°ƒç”¨æˆ‘ ï¼Œæˆ‘å…³è° open() æ‰“å¼€ä¸€ä¸ªæ–°çš„æµè§ˆå™¨çª—å£ è¿”å›æ–°çš„Windowå¯¹è±¡ åŠ¨ç”»å‡½æ•°å°è£… æ ¸å¿ƒåŸç†ï¼šé€šè¿‡å®šæ—¶å™¨ setInterval() ä¸æ–­ç§»åŠ¨ç›’å­ä½ç½®ã€‚ åˆ©ç”¨ JS æ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç»™å½“å‰å¯¹è±¡æ·»åŠ å±æ€§æ¥å°†å®šæ—¶å™¨æ·»åŠ åˆ°å¯¹è±¡ä¸­ ç¼“åŠ¨æ•ˆæœ æ ¸å¿ƒç®—æ³•ï¼š (ç›®æ ‡å€¼ - ç°åœ¨çš„ä½ç½®) / 10 åšä¸ºæ¯æ¬¡ç§»åŠ¨çš„è·ç¦»æ­¥é•¿ åŠ¨å‡½æ•°æ·»åŠ å›è°ƒå‡½æ•° å›è°ƒå‡½æ•°åŸç†ï¼šå‡½æ•°å¯ä»¥ä½œä¸ºä¸€ä¸ªå‚æ•°ã€‚å°†è¿™ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ åˆ°å¦ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œå½“é‚£ä¸ªå‡½æ•°æ‰§è¡Œå®Œä¹‹åï¼Œå†æ‰§è¡Œä¼ è¿›å»çš„è¿™ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«åšå›è°ƒ å®Œæ•´ä»£ç  function animate(obj,target,callback){ clearInterval(obj.timer); obj.timer = setInterval(() => { var step = Math.ceil((target - obj.offsetLeft)/10); if (obj.offsetLeft >= target){ clearInterval(obj.timer); callback(); } obj.style.left = obj.offsetLeft + step + 'px'; }, 15); } JSON è¯­æ³• æ•°æ®åœ¨åç§°/å€¼å¯¹ä¸­ï¼šjsonæ•°æ®æ˜¯ç”±é”®å€¼å¯¹æ„æˆçš„ æ•°æ®ç”±é€—å·åˆ†éš”ï¼šå¤šä¸ªé”®å€¼å¯¹ç”±é€—å·åˆ†éš” èŠ±æ‹¬å·ä¿å­˜å¯¹è±¡ï¼šä½¿ç”¨{}å®šä¹‰json æ ¼å¼ æ–¹æ‹¬å·ä¿å­˜æ•°ç»„ï¼š[] è·å–æ•°æ® jsonå¯¹è±¡.é”®å jsonå¯¹è±¡[\"é”®å\"] æ•°ç»„å¯¹è±¡[ç´¢å¼•] è½¬æ¢ JSON.stringify({username:'name'}) // to text JSON.parse(str) // to obj åç«¯è§£æ å¸¸è§çš„è§£æå™¨ï¼šJsonlibï¼ŒGsonï¼Œfastjsonï¼Œjackson ç§»åŠ¨ç«¯å¸¸ç”¨æ’ä»¶ Swiper æ’ä»¶ï¼šè½®æ’­å›¾æ’ä»¶ lsuperslideï¼šå¸¸ç”¨ç‰¹æ•ˆæ’ä»¶ l iscrollï¼šå¹³æ»‘æ»šåŠ¨ zy.media.jsï¼šç§»åŠ¨ç«¯è§†é¢‘æ’ä»¶ ç§»åŠ¨ç«¯å¸¸ç”¨æ¡†æ¶ bootstrap æœ¬åœ°å­˜å‚¨ ç‰¹æ€§ 1ã€æ•°æ®å­˜å‚¨åœ¨ç”¨æˆ·æµè§ˆå™¨ä¸­ 2ã€è®¾ç½®ã€è¯»å–æ–¹ä¾¿ã€ç”šè‡³é¡µé¢åˆ·æ–°ä¸ä¸¢å¤±æ•°æ® 3ã€å®¹é‡è¾ƒå¤§ï¼ŒsessionStorageçº¦5Mã€localStorageçº¦20M 4ã€åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼Œå¯ä»¥å°†å¯¹è±¡JSON.stringify() ç¼–ç å sessionStorage 1ã€ç”Ÿå‘½å‘¨æœŸä¸ºå…³é—­æµè§ˆå™¨çª—å£ 2ã€åœ¨åŒä¸€ä¸ªçª—å£(é¡µé¢)ä¸‹æ•°æ®å¯ä»¥å…±äº« 3ã€ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨ä½¿ç”¨ // å­˜å‚¨ sessionStorage.setItem(key, value); // è·å– sessionStorage.getItem(key); // åˆ é™¤ sessionStorage.removeItem(key); // æ¸…é™¤æ‰€æœ‰ sessionStorage.clear(); localStorage ç”Ÿå‘½å‘¨æœŸæ°¸ä¹…ï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ å¤šçª—å£å…±äº« ä½¿ç”¨æ–¹å¼åŒsessionStorage MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-29 04:22:36 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/DOM.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/DOM.html","title":"DOM","keywords":"","body":"DOM DOMæ˜¯W3Cç»„ç»‡åˆ¶å®šçš„ä¸€å¥—å¤„ç† htmlå’Œxmlæ–‡æ¡£çš„è§„èŒƒ DOMæ ‘ æ ¸å¿ƒDOM Documentï¼šæ–‡æ¡£å¯¹è±¡ Elementï¼šå…ƒç´ å¯¹è±¡ Attributeï¼šå±æ€§å¯¹è±¡ Textï¼šæ–‡æœ¬å¯¹è±¡ Comment:æ³¨é‡Šå¯¹è±¡ Nodeï¼šèŠ‚ç‚¹å¯¹è±¡ï¼Œå…¶ä»–5ä¸ªçš„çˆ¶å¯¹è±¡ XML DOM HTML DOM è·å–å…ƒç´  æ ¹æ®IDè·å– è¯­æ³•ï¼šdocument.getElementById(id) ä½œç”¨ï¼šæ ¹æ®IDè·å–å…ƒç´ å¯¹è±¡ å‚æ•°ï¼šidå€¼ï¼ŒåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ä¸² è¿”å›å€¼ï¼šå…ƒç´ å¯¹è±¡ æˆ– null æ ¹æ®æ ‡ç­¾åè·å–å…ƒç´  è¯­æ³•ï¼šdocument.getElementsByTagName('æ ‡ç­¾å') æˆ–è€… element.getElementsByTagName('æ ‡ç­¾å') ä½œç”¨ï¼šæ ¹æ®æ ‡ç­¾åè·å–å…ƒç´ å¯¹è±¡ å‚æ•°ï¼šæ ‡ç­¾å è¿”å›å€¼ï¼šå…ƒç´ å¯¹è±¡é›†åˆï¼ˆä¼ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ æ˜¯å…ƒç´ å¯¹è±¡ï¼‰ æ ¹æ®nameå±æ€§è·å– document.getElementsByName('name'); H5æ–°å¢è·å–å…ƒç´ æ–¹å¼ document.getElementsByClassName('className'); document.querySelector('selector'); // æ ¹æ®æŒ‡å®šé€‰æ‹©å™¨è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´  document.querySelectorAll('selector'); // æ ¹æ®æŒ‡å®šé€‰æ‹©å™¨è¿”å›å…¨éƒ¨ è·å–ç‰¹æ®Šå…ƒç´  document.body; // è¿”å›bodyå¯¹è±¡ document.documentElement; // è¿”å›htmlå¯¹è±¡ æ“ä½œå…ƒç´  è·å–/æ”¹å˜å…ƒç´ å†…å®¹ element.innerText; // ä¸åŒ…æ‹¬htmlæ ‡ç­¾ä¸ç©ºæ ¼å’Œæ¢è¡Œ element.innerHTML; // åŒ…æ‹¬htmlæ ‡ç­¾ä¸ç©ºæ ¼æ¢è¡Œ è¡¨å•å…ƒç´ çš„å±æ€§æ“ä½œ type/value/checked/selected/disabled æ ·å¼å±æ€§æ“ä½œ element.style.backgroundColor; // ç›´æ¥ä¿®æ”¹æ ·å¼ element.className; // ä¿®æ”¹ç±»å±æ€§ è‡ªå®šä¹‰å±æ€§æ“ä½œ element.getAttribute('name'); // è·å–è‡ªå®šä¹‰å±æ€§ element.removeAttribute('name'); // ç§»é™¤è‡ªå®šä¹‰å±æ€§ element.setAttribute('name','value'); // è®¾ç½®è‡ªå®šä¹‰å±æ€§ HTML5è‡ªå®šä¹‰å±æ€§ è·å–æ–¹æ³• // å¯ä»¥ä½¿ç”¨è·å–è‡ªå®šä¹‰å±æ€§çš„æ–¹å¼è·å– console.log(div.getAttribute('data-index')); console.log(div.getAttribute('data-list-name')); // ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸“ç”¨API console.log(div.dataset.index); console.log(div.dataset['index']); // éœ€è¦ä½¿ç”¨é©¼å³°å‘½å console.log(div.dataset.listName); console.log(div.dataset['listName']); classList å±æ€§ element.classList.add('current'); element.classList.remove('current'); element.classList.toggle('current'); èŠ‚ç‚¹æ“ä½œ ç½‘é¡µä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯èŠ‚ç‚¹ï¼ˆæ ‡ç­¾ã€å±æ€§ã€æ–‡æœ¬ã€æ³¨é‡Šç­‰ï¼‰ï¼Œåœ¨DOM ä¸­ï¼ŒèŠ‚ç‚¹ä½¿ç”¨ node æ¥è¡¨ç¤º HTML DOM æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å‡å¯é€šè¿‡ JavaScript è¿›è¡Œè®¿é—®ï¼Œæ‰€æœ‰ HTML å…ƒç´ ï¼ˆèŠ‚ç‚¹ï¼‰å‡å¯è¢«ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºæˆ–åˆ é™¤ èŠ‚ç‚¹è‡³å°‘æ‹¥æœ‰nodeTypeï¼ˆèŠ‚ç‚¹ç±»å‹ï¼‰ã€nodeNameï¼ˆèŠ‚ç‚¹åç§°ï¼‰å’ŒnodeValueï¼ˆèŠ‚ç‚¹å€¼ï¼‰è¿™ä¸‰ä¸ªåŸºæœ¬å±æ€§ å…ƒç´ èŠ‚ç‚¹ nodeType=1 å±æ€§èŠ‚ç‚¹ nodeType=2 æ–‡æœ¬èŠ‚ç‚¹ nodeType=3ï¼ˆåŒ…æ‹¬æ–‡å­— ç©ºæ ¼ æ¢è¡Œï¼‰ çˆ¶èŠ‚ç‚¹ // è·å–è¯¥èŠ‚ç‚¹æœ€è¿‘çš„çˆ¶èŠ‚ç‚¹ node.parentNode; å­èŠ‚ç‚¹ // è·å–æ‰€æœ‰å­èŠ‚ç‚¹ï¼ŒåŒ…å« å…ƒç´ èŠ‚ç‚¹ æ–‡æœ¬èŠ‚ç‚¹ç­‰ç­‰ node.childNodes; // åªè¿”å›å…ƒç´ èŠ‚ç‚¹ node.children; // è¿”å›å­èŠ‚ç‚¹ï¼ŒåŒ…å« å…ƒç´ èŠ‚ç‚¹ æ–‡æœ¬èŠ‚ç‚¹ç­‰ç­‰ node.firstChild; node.lastChild; // è¿”å›å…ƒç´ å­èŠ‚ç‚¹ node.firstElementChild; node.lastElementChild; å…„å¼ŸèŠ‚ç‚¹ // ä¸‹ä¸€ä¸ª node.nextSibling; // å‰ä¸€ä¸ª node.previousSibling; node.nextElementSibling; node.previousElementSibling; åˆ›å»ºå…ƒç´  document.write(); // åˆ›å»ºå…ƒç´  å¦‚æœé¡µé¢æ–‡æ¡£æµåŠ è½½å®Œæ¯•ï¼Œå†è°ƒç”¨è¿™å¥è¯ä¼šå¯¼è‡´é¡µé¢é‡ç»˜ node.innerHTML(); // ç›´æ¥å†™HTMLæ¥åˆ›å»ºå…ƒç´  document.createElement('tagName');// åˆ›å»ºæˆåŠŸå°†è¿”å›ä¸€ä¸ªèŠ‚ç‚¹ èŠ‚ç‚¹æ–°å¢ node.appendChild() node.insertBefore(child,æŒ‡å®šå…ƒç´ ) document.replaceChild() èŠ‚ç‚¹åˆ é™¤ // ä» nodeèŠ‚ç‚¹ä¸­åˆ é™¤ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè¿”å›åˆ é™¤çš„èŠ‚ç‚¹ node.removeChild(childNode) èŠ‚ç‚¹å¤åˆ¶ // å‚æ•°trueæ·±æ‹·è´ï¼Œfalseæµ…æ‹·è´ node.cloneNode(); å…ƒç´ åç§»é‡ offset ç³»åˆ— offset offset å¯ä»¥å¾—åˆ°ä»»æ„æ ·å¼è¡¨ä¸­çš„æ ·å¼å€¼ offset ç³»åˆ—è·å¾—çš„æ•°å€¼æ˜¯æ²¡æœ‰å•ä½çš„ offsetWidth åŒ…å«padding+border+width offsetWidth ç­‰å±æ€§æ˜¯åªè¯»å±æ€§ï¼Œåªèƒ½è·å–ä¸èƒ½èµ‹å€¼ style style åªèƒ½å¾—åˆ°è¡Œå†…æ ·å¼è¡¨ä¸­çš„æ ·å¼å€¼ style.width è·å¾—çš„æ˜¯å¸¦æœ‰å•ä½çš„å­—ç¬¦ä¸² style.width è·å¾—ä¸åŒ…å«paddingå’Œborder çš„å€¼ style.width æ˜¯å¯è¯»å†™å±æ€§ï¼Œå¯ä»¥è·å–ä¹Ÿå¯ä»¥èµ‹å€¼ å…ƒç´ å¯è§†åŒº client ç³»åˆ— å…ƒç´ æ»šåŠ¨ scroll ç³»åˆ— ä½¿ç”¨ scroll ç³»åˆ—çš„ç›¸å…³å±æ€§å¯ä»¥åŠ¨æ€çš„å¾—åˆ°è¯¥å…ƒç´ çš„å¤§å°ã€æ»šåŠ¨è·ç¦»ç­‰ å¦‚æœæµè§ˆå™¨çš„é«˜ï¼ˆæˆ–å®½ï¼‰åº¦ä¸è¶³ä»¥æ˜¾ç¤ºæ•´ä¸ªé¡µé¢æ—¶ï¼Œä¼šè‡ªåŠ¨å‡ºç°æ»šåŠ¨æ¡ã€‚å½“æ»šåŠ¨æ¡å‘ä¸‹æ»šåŠ¨æ—¶ï¼Œé¡µé¢ä¸Šé¢è¢«éšè—æ‰çš„é«˜åº¦ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºé¡µé¢è¢«å·å»çš„å¤´éƒ¨ã€‚æ»šåŠ¨æ¡åœ¨æ»šåŠ¨æ—¶ä¼šè§¦å‘ onscrolläº‹ä»¶ ä¸‰å¤§ç³»åˆ—æ€»ç»“ offsetç³»åˆ— ç»å¸¸ç”¨äºè·å¾—å…ƒç´ ä½ç½® offsetLeft offsetTop clientç»å¸¸ç”¨äºè·å–å…ƒç´ å¤§å° clientWidth clientHeight scroll ç»å¸¸ç”¨äºè·å–æ»šåŠ¨è·ç¦» scrollTop scrollLeft æ³¨æ„é¡µé¢æ»šåŠ¨çš„è·ç¦»é€šè¿‡ window.pageXOffset è·å¾— MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/äº‹ä»¶.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/äº‹ä»¶.html","title":"äº‹ä»¶","keywords":"","body":"äº‹ä»¶ äº‹ä»¶ä¸‰è¦ç´  äº‹ä»¶æºï¼ˆè°ï¼‰ï¼šè§¦å‘äº‹ä»¶çš„å…ƒç´  äº‹ä»¶ç±»å‹ï¼ˆä»€ä¹ˆäº‹ä»¶ï¼‰ï¼š ä¾‹å¦‚ click ç‚¹å‡»äº‹ä»¶ äº‹ä»¶å¤„ç†ç¨‹åºï¼ˆåšä»€ä¹ˆï¼‰ï¼šäº‹ä»¶è§¦å‘åè¦æ‰§è¡Œçš„ä»£ç (å‡½æ•°å½¢å¼)ï¼Œäº‹ä»¶å¤„ç†å‡½æ•° æ‰§è¡Œäº‹ä»¶çš„æ­¥éª¤ è·å–äº‹ä»¶æº æ³¨å†Œäº‹ä»¶ æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åº æ³¨å†Œäº‹ä»¶ ä¼ ç»Ÿæ³¨å†Œæ–¹å¼ button.onclick = function(){} åŒä¸€ä¸ªå…ƒç´ åŒä¸€ä¸ªäº‹ä»¶åªèƒ½è®¾ç½®ä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œåæ³¨å†Œçš„ä¼šè¦†ç›–å…ˆæ³¨å†Œçš„ ç›‘å¬æ³¨å†Œæ–¹å¼ button.addEventListener('click',function(e){}) åŒä¸€ä¸ªå…ƒç´ å¯ä»¥æ³¨å†Œå¤šä¸ªå¤„ç†å‡½æ•°ï¼ŒæŒ‰æ³¨å†Œé¡ºåºä¾æ¬¡æ‰§è¡Œ åˆ é™¤äº‹ä»¶ // ä¼ ç»Ÿæ–¹å¼ button.onclick = null; button.removeEventListener('click',fn); DOMäº‹ä»¶æµ äº‹ä»¶å†’æ³¡ï¼šäº‹ä»¶å¼€å§‹æ—¶æœ‰æœ€å…·ä½“çš„å…ƒç´ æ¥æ”¶ï¼Œç„¶åé€çº§å‘ä¸Šä¼ æ’­åˆ°DOMæœ€é¡¶å±‚èŠ‚ç‚¹çš„è¿‡ç¨‹ äº‹ä»¶æ•è·ï¼šç”±DOMæœ€é¡¶å±‚èŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åä¸»æœºå‘ä¸‹ä¼ æ’­åˆ°æœ€å…·ä½“çš„å…ƒç´ æ¥æ”¶çš„è¿‡ç¨‹ DOM äº‹ä»¶æµä¼šç»å†3ä¸ªé˜¶æ®µï¼š æ•è·é˜¶æ®µ å½“å‰ç›®æ ‡é˜¶æ®µ å†’æ³¡é˜¶æ®µ addEventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°å¦‚æœæ˜¯trueè¡¨ç¤ºåœ¨äº‹ä»¶æ•è·é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œåä¹‹åˆ™æ˜¯åœ¨äº‹ä»¶å†’æ³¡é˜¶æ®µè°ƒç”¨ äº‹ä»¶å¯¹è±¡ äº‹ä»¶å‘ç”Ÿåï¼Œè·Ÿäº‹ä»¶ç›¸å…³çš„ä¸€ç³»åˆ—ä¿¡æ¯æ•°æ®çš„é›†åˆéƒ½æ”¾åˆ°è¿™ä¸ªå¯¹è±¡é‡Œé¢ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯äº‹ä»¶å¯¹è±¡ åœ¨ IE6~8 ä¸­ï¼Œæµè§ˆå™¨ä¸ä¼šç»™æ–¹æ³•ä¼ é€’å‚æ•°ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œéœ€è¦åˆ° window.event ä¸­è·å–æŸ¥æ‰¾ å¸¸è§å±æ€§å’Œæ–¹æ³• å¸¸æƒ…å†µä¸‹terget å’Œ thisæ˜¯ä¸€è‡´çš„ï¼Œ ä½†æœ‰ä¸€ç§æƒ…å†µä¸åŒï¼Œé‚£å°±æ˜¯åœ¨äº‹ä»¶å†’æ³¡æ—¶ï¼ˆçˆ¶å­å…ƒç´ æœ‰ç›¸åŒäº‹ä»¶ï¼Œå•å‡»å­å…ƒç´ ï¼Œçˆ¶å…ƒç´ çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¹Ÿä¼šè¢«è§¦å‘æ‰§è¡Œï¼‰ï¼Œ è¿™æ—¶å€™thisæŒ‡å‘çš„æ˜¯çˆ¶å…ƒç´ ï¼Œå› ä¸ºå®ƒæ˜¯ç»‘å®šäº‹ä»¶çš„å…ƒç´ å¯¹è±¡ï¼Œ è€ŒtargetæŒ‡å‘çš„æ˜¯å­å…ƒç´ ï¼Œå› ä¸ºä»–æ˜¯è§¦å‘äº‹ä»¶çš„é‚£ä¸ªå…·ä½“å…ƒç´ å¯¹è±¡ã€‚ é˜»æ­¢é»˜è®¤è¡Œä¸º a.onclick = function(e) { // æ™®é€šæµè§ˆå™¨ e.preventDefault(); æ–¹æ³• e.preventDefault(); // ä½ç‰ˆæœ¬æµè§ˆå™¨ ie678 returnValue å±æ€§ e.returnValue = false; // æˆ‘ä»¬å¯ä»¥åˆ©ç”¨return false ä¹Ÿèƒ½é˜»æ­¢é»˜è®¤è¡Œä¸º æ²¡æœ‰å…¼å®¹æ€§é—®é¢˜ return false; } é˜»æ­¢å†’æ³¡ // é˜»æ­¢äº‹ä»¶ç»§ç»­å‘ä¸Šä¼ é€’ç»™çˆ¶ç»„ä»¶ son.addEventListener('click', function(e) { alert('son'); e.stopPropagation(); // stop åœæ­¢ Propagation ä¼ æ’­ window.event.cancelBubble = true; // éæ ‡å‡† cancel å–æ¶ˆ bubble æ³¡æ³¡ }, false); äº‹ä»¶å§”æ‰˜ ç»™çˆ¶å…ƒç´ æ³¨å†Œäº‹ä»¶ï¼Œåˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œå½“å­å…ƒç´ çš„äº‹ä»¶è§¦å‘ï¼Œä¼šå†’æ³¡åˆ°çˆ¶å…ƒç´ ï¼Œç„¶åå»æ§åˆ¶ç›¸åº”çš„å­å…ƒç´  æˆ‘ä»¬åªæ“ä½œäº†ä¸€æ¬¡ DOM ï¼Œæé«˜äº†ç¨‹åºçš„æ€§èƒ½ã€‚ åŠ¨æ€æ–°åˆ›å»ºçš„å­å…ƒç´ ï¼Œä¹Ÿæ‹¥æœ‰äº‹ä»¶ã€‚ å¸¸è§äº‹ä»¶ é¼ æ ‡äº‹ä»¶ é¼ æ ‡äº‹ä»¶å¯¹è±¡ é”®ç›˜äº‹ä»¶ é”®ç›˜äº‹ä»¶ è§¦å‘æ¡ä»¶ onkeyup æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æ¾å¼€æ—¶è§¦å‘ onkeydown æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹æ—¶è§¦å‘ onkeypress æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹æ—¶è§¦å‘ï¼Œä½†æ˜¯ä¸è¯†åˆ«åŠŸèƒ½é”® é”®ç›˜äº‹ä»¶å¯¹è±¡ keyCodeï¼šè¿”å›è¯¥é”®çš„ASCIIå€¼ mouseenter å’Œmouseoverçš„åŒºåˆ« å½“é¼ æ ‡ç§»åŠ¨åˆ°å…ƒç´ ä¸Šæ—¶å°±ä¼šè§¦å‘mouseenter äº‹ä»¶ï¼Œ- mouseover é¼ æ ‡ç»è¿‡è‡ªèº«ç›’å­ä¼šè§¦å‘ï¼Œç»è¿‡å­ç›’å­è¿˜ä¼šè§¦å‘ã€‚mouseenter åªä¼šç»è¿‡è‡ªèº«ç›’å­è§¦å‘ï¼Œä¹‹æ‰€ä»¥è¿™æ ·ï¼Œå°±æ˜¯å› ä¸ºmouseenterä¸ä¼šå†’æ³¡ï¼Œè·Ÿmouseenteræ­é…é¼ æ ‡ç¦»å¼€ mouseleave åŒæ ·ä¸ä¼šå†’æ³¡ è§¦å±äº‹ä»¶ ç§»åŠ¨ç«¯æµè§ˆå™¨å…¼å®¹æ€§è¾ƒå¥½ï¼Œæˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘ä»¥å‰ JS çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¯ä»¥æ”¾å¿ƒçš„ä½¿ç”¨åŸç”Ÿ JS ä¹¦å†™æ•ˆæœï¼Œä½†æ˜¯ç§»åŠ¨ç«¯ä¹Ÿæœ‰è‡ªå·±ç‹¬ç‰¹çš„åœ°æ–¹ã€‚æ¯”å¦‚è§¦å±äº‹ä»¶ touchï¼ˆä¹Ÿç§°è§¦æ‘¸äº‹ä»¶ï¼‰ï¼ŒAndroidå’Œ IOS éƒ½æœ‰ å¸¸è§çš„è§¦å±äº‹ä»¶ è§¦å±äº‹ä»¶ è¯´æ˜ touchstart æ‰‹æŒ‡è§¦æ‘¸åˆ°ä¸€ä¸ªDOMå…ƒç´ æ—¶è§¦å‘ touchmove æ‰‹æŒ‡åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šæ»‘åŠ¨æ—¶è§¦å‘ touchend æ‰‹æŒ‡ä»ä¸€ä¸ªDOMå…ƒç´ ä¸Šç§»å¼€æ—¶è§¦å‘ è§¦æ‘¸äº‹ä»¶å¯¹è±¡ï¼ˆTouchEventï¼‰ è§¦æ‘¸åˆ—è¡¨ è¯´æ˜ touches æ­£åœ¨è§¦å‘å±å¹•çš„æ‰€æœ‰æ‰‹æŒ‡çš„ä¸€ä¸ªåˆ—è¡¨ targetTouches æ­£åœ¨è§¦å‘å½“å‰DOMå…ƒç´ ä¸Šçš„æ‰‹æŒ‡çš„ä¸€ä¸ªåˆ—è¡¨ changedTouches æ‰‹æŒ‡çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜çš„åˆ—è¡¨ï¼Œä»æ— åˆ°æœ‰ï¼Œä»æœ‰åˆ°æ— çš„å˜åŒ– click å»¶æ—¶è§£å†³æ–¹æ¡ˆ ç§»åŠ¨ç«¯ click äº‹ä»¶ä¼šæœ‰ 300ms çš„å»¶æ—¶ï¼ŒåŸå› æ˜¯ç§»åŠ¨ç«¯å±å¹•åŒå‡»ä¼šç¼©æ”¾(double tap to zoom) é¡µé¢ ç¦ç”¨ç¼©æ”¾ åˆ©ç”¨touchäº‹ä»¶å°è£…äº‹ä»¶è§£å†³300ms å»¶è¿Ÿ å½“æˆ‘ä»¬æ‰‹æŒ‡è§¦æ‘¸å±å¹•ï¼Œè®°å½•å½“å‰è§¦æ‘¸æ—¶é—´ å½“æˆ‘ä»¬æ‰‹æŒ‡ç¦»å¼€å±å¹•ï¼Œ ç”¨ç¦»å¼€çš„æ—¶é—´å‡å»è§¦æ‘¸çš„æ—¶é—´ å¦‚æœæ—¶é—´å°äº150msï¼Œå¹¶ä¸”æ²¡æœ‰æ»‘åŠ¨è¿‡å±å¹•ï¼Œ é‚£ä¹ˆæˆ‘ä»¬å°±å®šä¹‰ä¸ºç‚¹å‡» fastclick æ’ä»¶ if ('addEventListener' in document) { document.addEventListener('DOMContentLoaded', function() { FastClick.attach(document.body); }, false); } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/BOM.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/BOM.html","title":"BOM","keywords":"","body":"BOM BOMï¼ˆBrowser Object Modelï¼‰å³æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œå®ƒæä¾›äº†ç‹¬ç«‹äºå†…å®¹è€Œä¸æµè§ˆå™¨çª—å£è¿›è¡Œäº¤äº’çš„å¯¹è±¡ï¼Œå…¶æ ¸å¿ƒå¯¹è±¡æ˜¯ window ç»„æˆ window document location navigator screen history window äº‹ä»¶ window.onload æ˜¯çª—å£ (é¡µé¢ï¼‰åŠ è½½äº‹ä»¶ï¼Œå½“æ–‡æ¡£å†…å®¹å®Œå…¨åŠ è½½å®Œæˆä¼šè§¦å‘è¯¥äº‹ä»¶(åŒ…æ‹¬å›¾åƒã€è„šæœ¬æ–‡ä»¶ã€CSS æ–‡ä»¶ç­‰), å°±è°ƒç”¨çš„å¤„ç†å‡½æ•° window.onresize æ˜¯è°ƒæ•´çª—å£å¤§å°åŠ è½½äº‹ä»¶, å½“è§¦å‘æ—¶å°±è°ƒç”¨çš„å¤„ç†å‡½æ•°.ç»å¸¸åˆ©ç”¨è¿™ä¸ªäº‹ä»¶å®Œæˆå“åº”å¼å¸ƒå±€ã€‚ window.innerWidth å½“å‰å±å¹•çš„å®½åº¦ å®šæ—¶å™¨ setTimeout() åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°åè°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚ clearTimeout() å–æ¶ˆç”± setTimeout() æ–¹æ³•è®¾ç½®çš„ timeoutã€‚ setInterval() æŒ‰ç…§æŒ‡å®šçš„å‘¨æœŸï¼ˆä»¥æ¯«ç§’è®¡ï¼‰æ¥è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚ clearInterval() å–æ¶ˆç”± setInterval() è®¾ç½®çš„ timeoutã€‚ thisæŒ‡å‘é—®é¢˜ å…¨å±€ä½œç”¨åŸŸæˆ–è€…æ™®é€šå‡½æ•°ä¸­thisæŒ‡å‘å…¨å±€å¯¹è±¡windowï¼ˆæ³¨æ„å®šæ—¶å™¨é‡Œé¢çš„thisæŒ‡å‘windowï¼‰ æ–¹æ³•è°ƒç”¨ä¸­è°è°ƒç”¨thisæŒ‡å‘è° æ„é€ å‡½æ•°ä¸­thisæŒ‡å‘æ„é€ å‡½æ•°çš„å®ä¾‹ location å±æ€§ å±æ€§ æè¿° hash è®¾ç½®æˆ–è¿”å›ä»äº•å· (#) å¼€å§‹çš„ URLï¼ˆé”šï¼‰ã€‚ host è®¾ç½®æˆ–è¿”å›ä¸»æœºåå’Œå½“å‰ URL çš„ç«¯å£å·ã€‚ hostname è®¾ç½®æˆ–è¿”å›å½“å‰ URL çš„ä¸»æœºåã€‚ href è®¾ç½®æˆ–è¿”å›å®Œæ•´çš„ URLã€‚ pathname è®¾ç½®æˆ–è¿”å›å½“å‰ URL çš„è·¯å¾„éƒ¨åˆ†ã€‚ port è®¾ç½®æˆ–è¿”å›å½“å‰ URL çš„ç«¯å£å·ã€‚ protocol è®¾ç½®æˆ–è¿”å›å½“å‰ URL çš„åè®®ã€‚ search è®¾ç½®æˆ–è¿”å›ä»é—®å· (?) å¼€å§‹çš„ URLï¼ˆæŸ¥è¯¢éƒ¨åˆ†ï¼‰ã€‚ æ–¹æ³• å±æ€§ æè¿° assign() åŠ è½½æ–°çš„æ–‡æ¡£ã€‚ reload() é‡æ–°åŠ è½½å½“å‰æ–‡æ¡£ã€‚ replace() ç”¨æ–°çš„æ–‡æ¡£æ›¿æ¢å½“å‰æ–‡æ¡£ï¼ˆä¸åœ¨å†å²è®°å½•ä¸­ï¼Œæ— æ³•åé€€ï¼‰ã€‚ navigator å±æ€§ å±æ€§ æè¿° appCodeName è¿”å›æµè§ˆå™¨çš„ä»£ç åã€‚ appMinorVersion è¿”å›æµè§ˆå™¨çš„æ¬¡çº§ç‰ˆæœ¬ã€‚ appName è¿”å›æµè§ˆå™¨çš„åç§°ã€‚ appVersion è¿”å›æµè§ˆå™¨çš„å¹³å°å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚ browserLanguage è¿”å›å½“å‰æµè§ˆå™¨çš„è¯­è¨€ã€‚ cookieEnabled è¿”å›æŒ‡æ˜æµè§ˆå™¨ä¸­æ˜¯å¦å¯ç”¨ cookie çš„å¸ƒå°”å€¼ã€‚ cpuClass è¿”å›æµè§ˆå™¨ç³»ç»Ÿçš„ CPU ç­‰çº§ã€‚ onLine è¿”å›æŒ‡æ˜ç³»ç»Ÿæ˜¯å¦å¤„äºè„±æœºæ¨¡å¼çš„å¸ƒå°”å€¼ã€‚ platform è¿”å›è¿è¡Œæµè§ˆå™¨çš„æ“ä½œç³»ç»Ÿå¹³å°ã€‚ systemLanguage è¿”å› OS ä½¿ç”¨çš„é»˜è®¤è¯­è¨€ã€‚ userAgent è¿”å›ç”±å®¢æˆ·æœºå‘é€æœåŠ¡å™¨çš„ user-agent å¤´éƒ¨çš„å€¼ã€‚ userLanguage è¿”å› OS çš„è‡ªç„¶è¯­è¨€è®¾ç½®ã€‚ history å±æ€§ æè¿° length è¿”å›æµè§ˆå™¨å†å²åˆ—è¡¨ä¸­çš„ URL æ•°é‡ã€‚ æ–¹æ³• æè¿° back() åŠ è½½ history åˆ—è¡¨ä¸­çš„å‰ä¸€ä¸ª URLã€‚ forward() åŠ è½½ history åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ª URLã€‚ go() åŠ è½½ history åˆ—è¡¨ä¸­çš„æŸä¸ªå…·ä½“é¡µé¢ã€‚ screen å±æ€§ æè¿° availHeight è¿”å›æ˜¾ç¤ºå±å¹•çš„é«˜åº¦ (é™¤ Windows ä»»åŠ¡æ ä¹‹å¤–)ã€‚ availWidth è¿”å›æ˜¾ç¤ºå±å¹•çš„å®½åº¦ (é™¤ Windows ä»»åŠ¡æ ä¹‹å¤–)ã€‚ bufferDepth è®¾ç½®æˆ–è¿”å›è°ƒè‰²æ¿çš„æ¯”ç‰¹æ·±åº¦ã€‚ colorDepth è¿”å›ç›®æ ‡è®¾å¤‡æˆ–ç¼“å†²å™¨ä¸Šçš„è°ƒè‰²æ¿çš„æ¯”ç‰¹æ·±åº¦ã€‚ deviceXDPI è¿”å›æ˜¾ç¤ºå±å¹•çš„æ¯è‹±å¯¸æ°´å¹³ç‚¹æ•°ã€‚ deviceYDPI è¿”å›æ˜¾ç¤ºå±å¹•çš„æ¯è‹±å¯¸å‚ç›´ç‚¹æ•°ã€‚ fontSmoothingEnabled è¿”å›ç”¨æˆ·æ˜¯å¦åœ¨æ˜¾ç¤ºæ§åˆ¶é¢æ¿ä¸­å¯ç”¨äº†å­—ä½“å¹³æ»‘ã€‚ height è¿”å›æ˜¾ç¤ºå±å¹•çš„é«˜åº¦ã€‚ logicalXDPI è¿”å›æ˜¾ç¤ºå±å¹•æ¯è‹±å¯¸çš„æ°´å¹³æ–¹å‘çš„å¸¸è§„ç‚¹æ•°ã€‚ logicalYDPI è¿”å›æ˜¾ç¤ºå±å¹•æ¯è‹±å¯¸çš„å‚ç›´æ–¹å‘çš„å¸¸è§„ç‚¹æ•°ã€‚ pixelDepth è¿”å›æ˜¾ç¤ºå±å¹•çš„é¢œè‰²åˆ†è¾¨ç‡ï¼ˆæ¯”ç‰¹æ¯åƒç´ ï¼‰ã€‚ updateInterval è®¾ç½®æˆ–è¿”å›å±å¹•çš„åˆ·æ–°ç‡ã€‚ width è¿”å›æ˜¾ç¤ºå™¨å±å¹•çš„å®½åº¦ã€‚ JSæ‰§è¡Œæœºåˆ¶ JSæ˜¯å•çº¿ç¨‹ å•çº¿ç¨‹å¯¼è‡´çš„é—®é¢˜å°±æ˜¯åé¢çš„ä»»åŠ¡ç­‰å¾…å‰é¢ä»»åŠ¡å®Œæˆï¼Œå¦‚æœå‰é¢ä»»åŠ¡å¾ˆè€—æ—¶ï¼Œåé¢ä»»åŠ¡ä¸å¾—ä¸ä¸€ç›´ç­‰å¾…ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆ©ç”¨å¤šæ ¸ CPU çš„è®¡ç®—èƒ½åŠ›ï¼ŒHTML5 æå‡º Web Worker æ ‡å‡†ï¼Œå…è®¸ JavaScript è„šæœ¬åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ã€‚äºæ˜¯ï¼ŒJS ä¸­å‡ºç°äº†åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ JSæ‰§è¡Œæœºåˆ¶ï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ ç”±äºä¸»çº¿ç¨‹ä¸æ–­çš„é‡å¤è·å¾—ä»»åŠ¡ã€æ‰§è¡Œä»»åŠ¡ã€å†è·å–ä»»åŠ¡ã€å†æ‰§è¡Œï¼Œæ‰€ä»¥è¿™ç§æœºåˆ¶è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯(event loop) MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/é¢å‘å¯¹è±¡.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/é¢å‘å¯¹è±¡.html","title":"é¢å‘å¯¹è±¡","keywords":"","body":"é¢å‘å¯¹è±¡ å¯¹è±¡ å±æ€§ æ–¹æ³• åˆ›å»ºå¯¹è±¡ // å­—é¢é‡åˆ›å»ºå¯¹è±¡ var man = { name: 'cxk', play:function(){ console.log('jntm') } } // å®ä¾‹åŒ–å¯¹è±¡ var man = new Man() man.play() æ„é€ å‡½æ•° // æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ function Man(){ this.name = 'cxk'; this.play=function(){ console.log('jntm') } } // å®ä¾‹åŒ–å¯¹è±¡ var man = new Man() man.play() æˆå‘˜ å®ä¾‹æˆå‘˜ // åœ¨å‡½æ•°å†…å®¹é€šè¿‡thisè®¿é—®çš„æ˜¯å®ä¾‹æˆå‘˜ this.name = 'cxk'; é™æ€æˆå‘˜ // é™æ€æˆå‘˜åªèƒ½é€šè¿‡æ„é€ å‡½æ•°è®¿é—® Man.people='70äº¿' console.log(Man.people) æ„é€ å‡½æ•°çš„é—®é¢˜ æ„é€ å‡½æ•°åŸå‹prototype æ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototype å±æ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚æ³¨æ„è¿™ä¸ªprototypeå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«æ„é€ å‡½æ•°æ‰€æ‹¥æœ‰ æˆ‘ä»¬å¯ä»¥æŠŠé‚£äº›ä¸å˜çš„æ–¹æ³•ï¼Œç›´æ¥å®šä¹‰åœ¨ prototype å¯¹è±¡ä¸Šï¼Œè¿™æ ·æ‰€æœ‰å¯¹è±¡çš„å®ä¾‹å°±å¯ä»¥å…±äº«è¿™äº›æ–¹æ³• Man.prototype.people='70äº¿' var man = new Man() console.log(man.people) å¯¹è±¡åŸå‹ å¯¹è±¡éƒ½ä¼šæœ‰ä¸€ä¸ªå±æ€§ __proto__ æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype åŸå‹å¯¹è±¡ï¼Œä¹‹æ‰€ä»¥æˆ‘ä»¬å¯¹è±¡å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•° prototype åŸå‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œå°±æ˜¯å› ä¸ºå¯¹è±¡æœ‰ __proto__ åŸå‹çš„å­˜åœ¨ man.__proto__ == Man.prototype // true constructoræ„é€ å‡½æ•° ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¹è±¡çš„æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¸­è®¾ç½®ã€‚å¦‚æœæœ‰å¤šä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç»™åŸå‹å¯¹è±¡é‡‡å–å¯¹è±¡å½¢å¼èµ‹å€¼ï¼Œä½†æ˜¯è¿™æ ·å°±ä¼šè¦†ç›–æ„é€ å‡½æ•°åŸå‹å¯¹è±¡åŸæ¥çš„å†…å®¹ï¼Œè¿™æ ·ä¿®æ”¹åçš„åŸå‹å¯¹è±¡ constructor å°±ä¸å†æŒ‡å‘å½“å‰æ„é€ å‡½æ•°äº†ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¿®æ”¹åçš„åŸå‹å¯¹è±¡ä¸­ï¼Œæ·»åŠ ä¸€ä¸ª constructor æŒ‡å‘åŸæ¥çš„æ„é€ å‡½æ•° Man.prototype = { constructor:Man, play:function(){ console.log('çœŸé¦™') } } åŸå‹é“¾ å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼ˆåŒ…æ‹¬æ–¹æ³•ï¼‰æ—¶ï¼Œé¦–å…ˆæŸ¥æ‰¾è¿™ä¸ªå¯¹è±¡è‡ªèº«æœ‰æ²¡æœ‰è¯¥å±æ€§ å¦‚æœæ²¡æœ‰å°±æŸ¥æ‰¾å®ƒçš„åŸå‹ï¼ˆä¹Ÿå°±æ˜¯ protoæŒ‡å‘çš„ prototype åŸå‹å¯¹è±¡ï¼‰ å¦‚æœè¿˜æ²¡æœ‰å°±æŸ¥æ‰¾åŸå‹å¯¹è±¡çš„åŸå‹ï¼ˆObjectçš„åŸå‹å¯¹è±¡ï¼‰ï¼Œä¾æ­¤ç±»æ¨ä¸€ç›´æ‰¾åˆ° Object ä¸ºæ­¢ï¼ˆnullï¼‰ã€‚ thisæŒ‡å‘ æ„é€ å‡½æ•°ä¸­çš„thiså’ŒåŸå‹å¯¹è±¡çš„this,éƒ½æŒ‡å‘æˆ‘ä»¬newå‡ºæ¥çš„å®ä¾‹å¯¹è±¡ ç»§æ‰¿ æ„é€ å‡½æ•°ç»§æ‰¿ function Animal(){ this.run = function(){ console.log('animal run') } } function Dog(){ // è®©çˆ¶æ„é€ å‡½æ•°çš„thisæŒ‡å‘å½“å‰çš„this Animal.call(this) this.bark = function(){ console.log('wolf wolf') } } var dog = new Dog(); dog.run() dog.bark() åŸå‹ç»§æ‰¿ function Animal() { } Animal.prototype.run = function () { console.log('animal run') } function Dog() { } Dog.prototype = new Animal() Dog.prototype.constructor = Dog; Dog.prototype.bark = function () { console.log('wolf wolf') } var dog = new Dog() dog.run() dog.bark() ç±» åœ¨ ES6 ä¸­æ–°å¢åŠ äº†ç±»çš„æ¦‚å¿µï¼Œå¯ä»¥ä½¿ç”¨ class å…³é”®å­—å£°æ˜ä¸€ä¸ªç±»ï¼Œä¹‹åä»¥è¿™ä¸ªç±»æ¥å®ä¾‹åŒ–å¯¹è±¡ åˆ›å»ºç±» // åˆ›å»ºä¸€ä¸ªManç±» class Man{ // æ„é€ å™¨ constructor(){ this.name = 'cxk' } // å®ä¾‹æ–¹æ³• play(){ console.log('jntm') } } // å®ä¾‹åŒ– var man = new Man() man.play() ç±»ç»§æ‰¿ class Animal { constructor(){ console.log('animal create') } run(){ console.log('animal run') } } class Dog extends Animal { // åˆ›å»ºå­ç±»å‰ä¼šè°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ constructor(){ // å¿…é¡»åœ¨ç¬¬ä¸€è¡Œæ‰‹åŠ¨è°ƒç”¨ super() console.log('dog create') } // è¦†å†™çˆ¶ç±»çš„æ–¹æ³• run(){ // è°ƒç”¨çˆ¶ç±»çš„runæ–¹æ³• super.run() console.log('dog run') } // å®šä¹‰æ–°æ–¹æ³• bark(){ console.log('wolf wolf') } } var dog = new Dog() dog.run() dog.bark() æ³¨æ„äº‹é¡¹ ES6 ä¸­ç±»æ²¡æœ‰å˜é‡æå‡ï¼Œæ‰€ä»¥å¿…é¡»å…ˆå®šä¹‰ç±»ï¼Œæ‰èƒ½é€šè¿‡ç±»å®ä¾‹åŒ–å¯¹è±¡ æ³¨æ„thisçš„æŒ‡å‘é—®é¢˜,ç±»é‡Œé¢çš„å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ä¸€å®šè¦åŠ thisä½¿ç”¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-28 06:31:46 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/å‡½æ•°.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/å‡½æ•°.html","title":"å‡½æ•°","keywords":"","body":"å‡½æ•° å®šä¹‰ // å‘½åå‡½æ•° function fn(){} // åŒ¿åå‡½æ•° var fn = function(){} // å‡½æ•°å¯¹è±¡ é‡Œé¢å‚æ•°éƒ½å¿…é¡»æ˜¯å­—ç¬¦ä¸²æ ¼å¼ var fn = new Function('å‚æ•°1','å‚æ•°2'..., 'å‡½æ•°ä½“') è°ƒç”¨ // æ™®é€šè°ƒç”¨ fn() // å¯¹è±¡çš„æ–¹æ³• obj.fn() // æ„é€ æ–¹æ³• new Object() // äº‹ä»¶ç»‘å®š btn.onclick = function(){} // å®šæ—¶å™¨å‡½æ•° setInterval(function(){}, 1000); // ç«‹å³æ‰§è¡Œå‡½æ•° (function(){})(); this æ”¹å˜thisæŒ‡å‘ call() function fn(arg1){ console.log(this) // string cxk } // ä¿®æ”¹fnå‡½æ•°é‡Œé¢çš„thisæŒ‡å‘'cxk' fn.call('cxk','arg1') apply() function fn(a, b) { console.log(a, b) console.log(this) // obj } var obj = { name: 'cxk' } // å‚æ•°ä½¿ç”¨æ•°ç»„ä¼ é€’ fn.apply(obj, [1, 2]) call å’Œ apply ä¼ é€’çš„å‚æ•°ä¸ä¸€æ ·,callä¼ é€’å‚æ•°ä½¿ç”¨é€—å·éš”å¼€,applyä½¿ç”¨æ•°ç»„ä¼ é€’ bind() // è¿”å›ä¸€ä¸ªåŒ…è£…å‡½æ•° var f = fn.bind(obj, 1, 2) f()// è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼ŒthisæŒ‡å‘obj ä¸¥æ ¼æ¨¡å¼ JavaScript é™¤äº†æä¾›æ­£å¸¸æ¨¡å¼å¤–ï¼Œè¿˜æä¾›äº†ä¸¥æ ¼æ¨¡å¼ï¼ˆstrict modeï¼‰ã€‚ES5 çš„ä¸¥æ ¼æ¨¡å¼æ˜¯é‡‡ç”¨å…·æœ‰é™åˆ¶æ€§ JavaScriptå˜ä½“çš„ä¸€ç§æ–¹å¼ï¼Œå³åœ¨ä¸¥æ ¼çš„æ¡ä»¶ä¸‹è¿è¡Œ JS ä»£ç  æ¶ˆé™¤äº† Javascript è¯­æ³•çš„ä¸€äº›ä¸åˆç†ã€ä¸ä¸¥è°¨ä¹‹å¤„ï¼Œå‡å°‘äº†ä¸€äº›æ€ªå¼‚è¡Œä¸º æ¶ˆé™¤ä»£ç è¿è¡Œçš„ä¸€äº›ä¸å®‰å…¨ä¹‹å¤„ï¼Œä¿è¯ä»£ç è¿è¡Œçš„å®‰å…¨ æé«˜ç¼–è¯‘å™¨æ•ˆç‡ï¼Œå¢åŠ è¿è¡Œé€Ÿåº¦ ç¦ç”¨äº†åœ¨ ECMAScript çš„æœªæ¥ç‰ˆæœ¬ä¸­å¯èƒ½ä¼šå®šä¹‰çš„ä¸€äº›è¯­æ³• å¼€å¯ä¸¥æ ¼æ¨¡å¼ // ä¸ºæ•´ä¸ªè„šæœ¬å¼€å¯ä¸¥æ ¼æ¨¡å¼ \"use strict\"; ... // åœ¨å‡½æ•°ä¸­å¼€å¯ä¸¥æ ¼æ¨¡å¼ function fn(){ \"use strict\"; } ä¸¥æ ¼æ¨¡å¼ä¸­çš„å˜åŒ– // å˜é‡æœªå£°æ˜ä¸èƒ½ä½¿ç”¨ num = 10 // å˜é‡ä¸èƒ½åˆ é™¤ delete num // ä¸¥æ ¼æ¨¡å¼ä¸‹å…¨å±€ä½œç”¨åŸŸä¸­å‡½æ•°ä¸­çš„ this æ˜¯ undefined function fn() { console.log(this); } // ä¸¥æ ¼æ¨¡å¼ä¸‹,å¦‚æœ æ„é€ å‡½æ•°ä¸åŠ newè°ƒç”¨, this æŒ‡å‘çš„æ˜¯undefined å¦‚æœç»™ä»–èµ‹å€¼åˆ™ ä¼šæŠ¥é”™ Object(); //ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå®šæ—¶å™¨ this è¿˜æ˜¯æŒ‡å‘ window setTimeout(function() { console.log(this); }, 2000); // ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸èƒ½æœ‰é‡åçš„å‡½æ•° function a(){} function a(){} // ä¸å…è®¸åœ¨éå‡½æ•°çš„ä»£ç å—å†…å£°æ˜å‡½æ•° if (condition){ function(){} } æ›´å¤šå˜åŒ–å‚è€ƒ:https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode é«˜é˜¶å‡½æ•° å½“å‚æ•°çš„ç±»å‹æˆ–è€…è¿”å›å€¼ç±»å‹æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•° é—­åŒ… é—­åŒ…ï¼ˆclosureï¼‰æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•° ä½œç”¨ï¼šå»¶ä¼¸å˜é‡çš„ä½œç”¨èŒƒå›´ function fn(){ var num=1; return function(){ console.log(num); } } fn()() æ‹·è´ æµ…æ‹·è´ var obj = {name:'cxk'} var o ={} Object.assign(o,obj) æ·±æ‹·è´ function deepCopy(newObj,oldObj){ for (var k in oldObj){ if (oldObj[k] instanceof Array){ newObj[k]=[] deepCopy(newObj[k],oldObj[k]) }else if(oldObj[k] instanceof Object){ newObj[k]={} deepCopy(newObj[k],oldObj[k]) }else{ newObj[k]=oldObj[k] } } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-28 06:31:46 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/æ­£åˆ™è¡¨è¾¾å¼.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/æ­£åˆ™è¡¨è¾¾å¼.html","title":"æ­£åˆ™è¡¨è¾¾å¼","keywords":"","body":"æ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™è¡¨é€šå¸¸è¢«ç”¨æ¥æ£€ç´¢ã€æ›¿æ¢é‚£äº›ç¬¦åˆæŸä¸ªæ¨¡å¼ï¼ˆè§„åˆ™ï¼‰çš„æ–‡æœ¬ å‚è€ƒèµ„æ–™ ä½¿ç”¨ åˆ›å»º // å¯¹è±¡åˆ›å»º var reg = new RegExp(\"æ­£åˆ™è¡¨è¾¾å¼\"); // å­—é¢é‡åˆ›å»º var reg = /æ­£åˆ™è¡¨è¾¾å¼/; ä½¿ç”¨ reg.test('some text'); ç»„æˆ è¾¹ç•Œç¬¦ è¾¹ç•Œç¬¦ è¯´æ˜ ^ è¡¨ç¤ºåŒ¹é…è¡Œé¦–çš„æ–‡æœ¬ï¼ˆä»¥è°å¼€å§‹ï¼‰ $ è¡¨ç¤ºåŒ¹é…è¡Œå°¾çš„æ–‡æœ¬ï¼ˆä»¥è°ç»“æŸï¼‰ /^abc/.test('abcdefg') // true /abc$/.test('xxabc') // true å­—ç¬¦ç±» []æ–¹æ‹¬å· ä¸€ç³»åˆ—å­—ç¬¦å¯ä¾›é€‰æ‹©ï¼Œåªè¦åŒ¹é…å…¶ä¸­ä¸€ä¸ªå°±å¯ä»¥äº† /[abc]/.test('a') // true // åŒ¹é…a-zä¹‹é—´çš„ä»»æ„å­—æ¯ /[a-z]/.test('h') // true // a-zä¸åŒºåˆ†å¤§å°å†™ /[a-zA-Z]/.test('H') // true // a-cä¹‹å¤–çš„ /[^a-c]/.test('c') // false é‡è¯ç¬¦ é‡è¯ è¯´æ˜ * é‡å¤0æ¬¡æˆ–æ›´å¤šæ¬¡ + é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡ ? é‡å¤0æ¬¡æˆ–1æ¬¡ {n} é‡å¤næ¬¡ {n,} é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡ {n,m} é‡å¤nåˆ°mæ¬¡ /[a-zA-Z]*/.test('HHHH') // true /[a-zA-Z]+/.test('') // false /[a-zA-Z]{2}/.test('xx') // true /[a-zA-Z]{2,}/.test('xxxx') // true /^a${2,6}/.test('aaaaaaa') // false é¢„å®šä¹‰ç±» /^\\d{3,4}-\\d{7,8}$/.test('0596-3766183') // true æ­£åˆ™æ›¿æ¢ 'æˆ‘çš„ç”µè¯:0596-3766183'.replace(/\\d{3,4}-\\d{7,8}/,'****') // æˆ‘çš„ç”µè¯:**** æ­£åˆ™è¡¨è¾¾å¼å‚æ•° /reg/[g] // å…¨å±€åŒ¹é… /reg/[i] // å¿½ç•¥å¤§å°å†™ /reg/[gi] // å…¨å±€åŒ¹é…+å¿½ç•¥å¤§å°å†™ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-29 04:22:36 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/AJAX.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/AJAX.html","title":"AJAX","keywords":"","body":"AJAX ä¼ ç»Ÿç½‘ç«™çš„å¼Šç«¯ åº”ç”¨åœºæ™¯ åŠ¨æ€æ•°æ®åŠ è½½ è¡¨å•éªŒè¯ å®ç° åŸç”Ÿæ–¹å¼ let xhr = new XMLHttpRequest(); // å‘é€getè¯·æ±‚ é€šè¿‡urlä¼ é€’å‚æ•° xhr.open('get',\"/home\"); xhr.send(); xhr.onload = function(){ console.log(xhr.responseText); } post xhr.open('post',\"/home\"); xhr.setRequestHeader('Content-Type',\"application/json\"); xhr.send('{\"name\":\"jntm\"}'); ajaxçŠ¶æ€ç  0ï¼šè¯·æ±‚æœªåˆå§‹åŒ–(è¿˜æ²¡æœ‰è°ƒç”¨open()) 1ï¼šè¯·æ±‚å·²ç»å»ºç«‹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å‘é€(è¿˜æ²¡æœ‰è°ƒç”¨send()) 2ï¼šè¯·æ±‚å·²ç»å‘é€ 3ï¼šè¯·æ±‚æ­£åœ¨å¤„ç†ä¸­ï¼Œé€šå¸¸å“åº”ä¸­å·²ç»æœ‰éƒ¨åˆ†æ•°æ®å¯ä»¥ç”¨äº† 4ï¼šå“åº”å·²ç»å®Œæˆï¼Œå¯ä»¥è·å–å¹¶ä½¿ç”¨æœåŠ¡å™¨çš„å“åº”äº† xhr.onreadystatechange = function(){ console.log(xhr.readyState); } åŒºåˆ«æè¿° onloadäº‹ä»¶ onreadystatechangeäº‹ä»¶ æ˜¯å¦å…¼å®¹IEä½ç‰ˆæœ¬ ä¸å…¼å®¹ å…¼å®¹ æ˜¯å¦éœ€è¦åˆ¤æ–­AjaxçŠ¶æ€ç  ä¸éœ€è¦ éœ€è¦ è¢«è°ƒç”¨æ¬¡æ•° ä¸€æ¬¡ å¤šæ¬¡ é”™è¯¯å¤„ç† åç«¯èƒ½è°ƒé€šï¼Œä½†æ˜¯è¿”å›é”™è¯¯ xhr.status ç½‘ç»œä¸­æ–­ï¼Œåç«¯æ— æ³•è°ƒé€š ä¼šè§¦å‘xhrå¯¹è±¡ä¸‹é¢çš„onerroräº‹ä»¶ï¼Œåœ¨onerroräº‹ä»¶å¤„ç†å‡½æ•°ä¸­å¯¹é”™è¯¯è¿›è¡Œå¤„ç† ä½ç‰ˆæœ¬ieå­˜åœ¨ajaxç¼“å­˜é—®é¢˜ ajaxå°è£… function ajax(req) { let xhr = new XMLHttpRequest(); let params = \"\"; for (let attr in req.data) { params += attr + \"=\" + req.data[attr] + \"&\"; } params = params.substr(0, params.length - 1); xhr.open(req.type, req.type != 'get' ? req.url:req.url + \"?\" + params); for(let attr in req.headers){ xhr.setRequestHeader(attr,req.headers[attr]); } if (req.type == 'get'){ xhr.send(); }else{ if (req.headers['Content-Type']=='application/json'){ xhr.send(JSON.stringify(req.data)); }else{ xhr.send(params); } } xhr.onload = function () { let contentType = xhr.getResponseHeader(\"Content-Type\"); let responseText = xhr.responseText; if (contentType.includes(\"application/json\")){ responseText = JSON.parse(responseText); } if (xhr.status === 200) { req.success && req.success(responseText); } else { req.error && req.error(responseText); } }; } ajax({ url: '/home', type: 'get', data: {name: \"cxk\", age: 18}, headers:{ \"Content-Type\":\"application/json\" }, success: function (res) { console.log('normal res', res); }, error: function (res) { console.error('error res', res); } }) JQueryå®ç°æ–¹å¼ ajax $.ajax({ url:\"./\" , // è¯·æ±‚è·¯å¾„ type:\"POST\" , //è¯·æ±‚æ–¹å¼ //data: \"username=jack&age=23\",//è¯·æ±‚å‚æ•° data:{\"username\":\"jack\",\"age\":23}, success:function (data) { alert(data); },//å“åº”æˆåŠŸåçš„å›è°ƒå‡½æ•° error:function () { alert(\"å‡ºé”™å•¦...\") },//è¡¨ç¤ºå¦‚æœè¯·æ±‚å“åº”å‡ºç°é”™è¯¯ï¼Œä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•° }); å‘é€jsonpè¯·æ±‚ $.ajax({ url: 'http://www.example.com', // æŒ‡å®šå½“å‰å‘é€jsonpè¯·æ±‚ dataType: 'jsonp', // ä¿®æ”¹callbackå‚æ•°åç§° jsonp: 'cb', // æŒ‡å®šå‡½æ•°åç§° jsonCallback: 'fnName', success: function (response) {} }) $.get $.post serialize $(\"#form\").serialize(); // å°†è¡¨å•è¾“å…¥çš„å†…å®¹è½¬æ¢æˆå¦‚k=v&a=bè¿™ç§å½¢å¼ å…¨å±€äº‹ä»¶ .ajaxStart() // å½“è¯·æ±‚å¼€å§‹å‘é€æ—¶è§¦å‘ .ajaxComplete() // å½“è¯·æ±‚å®Œæˆæ—¶è§¦å‘ é…åˆnprogressæ¥å®ç°é¡µé¢åŠ è½½è¿›åº¦æ¡ FormData è¡¨å•ä¸Šä¼  äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šä¼  ç®€å•ä½¿ç”¨ let form = document.querySelector(\"#form\"); let formData = new FormData(form); let xhr = new XMLHttpRequest(); xhr.open('post','/formData'); xhr.send(formData); å®ä¾‹æ–¹æ³• // è·å–è¡¨å•å¯¹è±¡å±æ€§ formData.get('username'); // è®¾ç½®è¡¨å•å¯¹è±¡å±æ€§ formData.set(\"username\",\"cxk\"); // åˆ é™¤è¡¨å•å¯¹è±¡å±æ€§ formData.delete(\"username\"); // è¿½åŠ è¡¨å•å¯¹è±¡å±æ€§,å±æ€§åå·²å­˜åœ¨çš„æƒ…å†µä¸‹,setä¼šè¦†ç›–,appendä¼šä¿ç•™ formData.append(\"username\",\"cxk\"); æ–‡ä»¶ä¸Šä¼ è¿›åº¦å±•ç¤º xhr.upload.onprogress = function (ev) { console.log(ev.loaded / ev.total) } å›¾ç‰‡ä¸Šä¼ å®æ—¶é¢„è§ˆ var file = document.querySelector('#file'); file.onchange = function(){ var reader = new FileReader(); reader.readAsDataURL(this.files[0]); reader.onload = function(){ document.querySelector('.img-thumbnail').src = reader.result; } } ä½¿ç”¨Promiseå‘é€ajax function query() { return new Promise((resolve, reject) => { let xhr = new XMLHttpRequest(); xhr.onreadystatechange = () => { if (xhr.readyState != 4) { return; } if (xhr.readyState == 4 && xhr.status == 200) { resolve(xhr.responseText); } else { reject(xhr.status); } }; xhr.open('get', '/home'); xhr.send(); }); } query().then(r => console.log(r)).catch(r => console.error(r)) fetch Fetch APIæ˜¯æ–°çš„ajaxè§£å†³æ–¹æ¡ˆ fetchä¸æ˜¯ajaxçš„è¿›ä¸€æ­¥å°è£…ï¼Œè€Œæ˜¯åŸç”Ÿjsï¼Œæ²¡æœ‰ä½¿ç”¨XMLHttpRequestå¯¹è±¡ fetch('/home').then(data=>{ return data.text(); }) .then(data=>{ console.log(data); }); dataæ˜¯ä¸€ä¸ªresponseå¯¹è±¡ï¼Œå…¶ä¸­åŒ…æ‹¬è¿”å›çš„ä¸€å †åŸå§‹å­—èŠ‚ï¼Œè¿™äº›å­—èŠ‚éœ€è¦åœ¨æ”¶åˆ°åï¼Œéœ€è¦æˆ‘ä»¬é€šè¿‡è°ƒç”¨æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºç›¸åº”æ ¼å¼çš„æ•°æ®ï¼Œæ¯”å¦‚JSONï¼ŒBLOBæˆ–è€…TEXTç­‰ç­‰ ä¼ é€’å‚æ•° let formData = new FormData(); formData.append('username','cxk'); formData.append('password','jntm'); fetch('/formData',{ method:'post', body:formData }) axios axios.get('/home') .then(res=>{ console.log(res); }) let formData = new FormData(); formData.append('username','cxk'); formData.append('password','jntm'); // é»˜è®¤ä¼ é€’çš„æ˜¯json axios.post('/formData',formData) .then(res=>{ console.log(res); }) åŒæ­¥è°ƒç”¨ async function f(){ let res = await axios.post('/formData',formData); console.log(res); } å…¨å±€å‚æ•° // é…ç½®å…¬å…±çš„è¯·æ±‚å¤´ axios.defaults.baseURL = 'https://api.example.com'; // é…ç½® è¶…æ—¶æ—¶é—´ axios.defaults.timeout = 2500; // é…ç½®å…¬å…±çš„è¯·æ±‚å¤´ axios.defaults.headers.common['Authorization'] = AUTH_TOKEN; // é…ç½®å…¬å…±çš„ post çš„ Content-Type axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'; æ‹¦æˆªå™¨ // è¯·æ±‚æ‹¦æˆªå™¨ axios.interceptors.request.use(function(config) { console.log(config.url) // è¿™é‡Œä¸€å®šè¦return å¦åˆ™é…ç½®ä¸æˆåŠŸ return config; }, function(err){ // å¯¹è¯·æ±‚é”™è¯¯åšç‚¹ä»€ä¹ˆ console.log(err) }) // å“åº”æ‹¦æˆªå™¨ axios.interceptors.response.use(function(res) { console.log(res.data); return res.data; }, function(err){ console.log(err) }); åŒæºç­–ç•¥ ajaxå—åŒæºç­–ç•¥é™åˆ¶ JSONP åŸç†ï¼š å®¢æˆ·ç«¯å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š function fn (data) { // æ¥æ”¶åˆ°æœåŠ¡å™¨dataåçš„ä¸€äº›å¤„ç† } æœåŠ¡ç«¯è¿”å›ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼š const data = 'fn({name: \"å¼ ä¸‰\", age: \"20\"})'; å®¢æˆ·ç«¯ä½¿ç”¨scriptå¯ä»¥è·¨åŸŸåŠ è½½æ•°æ® è¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥è·å–æœåŠ¡ç«¯çš„æ•°æ® function fn(data){ console.log('server res',data); } let script = document.createElement('script'); script.src = '/jsonp?v=1'; document.body.appendChild(script); @GetMapping(\"/jsonp\") public String jsonp(){ return \"fn({name:'cxk',age:18})\"; } ä¼˜åŒ– å›è°ƒå‡½æ•°åç§°å‚æ•°åŒ– å›è°ƒå‡½æ•°å‚æ•°åŒ– æ³¨æ„å›è°ƒå‡½æ•°è¦†ç›–é—®é¢˜ urlå‚æ•°åŒ– æ¥æ”¶åˆ°å›è°ƒååˆ é™¤scriptæ ‡ç­¾ CORS å…¨ç§°ä¸º Cross-origin resource sharingï¼Œå³è·¨åŸŸèµ„æºå…±äº«ï¼Œå®ƒå…è®¸æµè§ˆå™¨å‘è·¨åŸŸæœåŠ¡å™¨å‘é€ Ajax è¯·æ±‚ï¼Œå…‹æœäº† Ajax åªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ é€šè¿‡è®¾ç½®Access-Control-Allow-Originå’ŒAccess-Control-Allow-Methodså“åº”å¤´æ¥å…è®¸å“ªäº›æºå¯ä»¥ä½¿ç”¨å“ªäº›æ–¹æ³•è®¿é—® @RestController @CrossOrigin(\"*\") public class Controller {...} withCredentialsï¼šæŒ‡å®šåœ¨æ¶‰åŠåˆ°è·¨åŸŸè¯·æ±‚æ—¶ï¼Œæ˜¯å¦æºå¸¦cookieä¿¡æ¯ï¼Œé»˜è®¤å€¼ä¸ºfalse ä½¿ç”¨åç«¯æœåŠ¡å™¨è¾…åŠ©è®¿é—® MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-21 01:00:46 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/ES5.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/ES5.html","title":"ES5","keywords":"","body":"ES5 æ•°ç»„æ–¹æ³• // éå†æ•°ç»„ [1, 2, 3, 4, 5].forEach(function (v, i, a) { console.log(\"index:\" + i + \",value:\" + v) }) // å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å› var a = [1, 2, 3, 4, 5].map(function (v, i, a) { return v = v*v; }) // filterè¿‡æ»¤æ•°ç»„ var a = [1, 2, 3, 4, 5].filter(function (v, i, a) { return i % 2 == 0; }) // æ˜¯å¦æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ (any) var flag = [1, 2, 3, 4, 5].some(function (v, i, a) { // å½“æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ åï¼Œå°±åœæ­¢å¾ªç¯äº† return v 0; }) å­—ç¬¦ä¸²æ–¹æ³• // å»é™¤å‰åç©ºæ ¼ \" das \".trim() å¯¹è±¡æ–¹æ³• // è·å–å¯¹è±¡å±æ€§ååˆ—è¡¨ Object.keys({name:'cxk',age:'18'}) Object.defineProperty Object.defineProperty(å¯¹è±¡ï¼Œä¿®æ”¹æˆ–æ–°å¢çš„å±æ€§åï¼Œ{ value:ä¿®æ”¹æˆ–æ–°å¢çš„å±æ€§çš„å€¼, writable:true/false,//å¦‚æœå€¼ä¸ºfalse ä¸å…è®¸ä¿®æ”¹è¿™ä¸ªå±æ€§å€¼ enumerable: false,//enumerable å¦‚æœå€¼ä¸ºfalse åˆ™ä¸å…è®¸éå† configurable: false //configurable å¦‚æœä¸ºfalse åˆ™ä¸å…è®¸åˆ é™¤è¿™ä¸ªå±æ€§ å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤æˆ–æ˜¯å¦å¯ä»¥å†æ¬¡ä¿®æ”¹ç‰¹æ€§ }) var obj = { name:'cxk' } Object.defineProperty(obj,'name',{ writable:false, enumerable:true, configurable:false }) obj.name= 'jntm'; //æ— æ•ˆ for (let i in obj){ // æ— æ³•æšä¸¾åˆ°name console.log(i) } // æ— æ³•å†é‡æ–°ä¿®æ”¹ç‰¹æ€§ Object.defineProperty(obj,'name',{ configurable:true }) MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-27 06:32:32 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/ES6.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/ES6.html","title":"ES6","keywords":"","body":"ES6 let æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ { let a = 10; // æš‚æ—¶æ€§æ­»åŒº var b = 1; } b = 1 // 1 a = 1 // ReferenceError: a is not defined. ä¸å­˜åœ¨å˜é‡æå‡ console.log(a); // Cannot access 'a' before initialization let a = 20; const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚ å…·æœ‰å—çº§ä½œç”¨åŸŸ { const PI = 3; } console.log(PI); // PI is not defined å£°æ˜æ—¶å¿…é¡»èµ‹å€¼ const PI; // Missing initializer in const declaration ä¸èƒ½é‡æ–°èµ‹å€¼ const PI = 3.1415; PI = 3; // TypeError: Assignment to constant variable. varã€letã€const var let const å‡½æ•°çº§ä½œç”¨åŸŸ å—çº§ä½œç”¨åŸŸ å—çº§ä½œç”¨åŸŸ å˜é‡æå‡ ä¸å­˜åœ¨å˜é‡æå‡ ä¸å­˜åœ¨å˜é‡æå‡ å€¼å¯æ›´æ”¹ å€¼å¯æ›´æ”¹ å€¼ä¸å¯æ›´æ”¹ æ¨¡æ¿å­—ç¬¦ä¸² let name = \"cxk\" // æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å¯ä»¥è§£æå˜é‡ console.log(`your name is ${name}`) const fn = ()=>'fn function '; // æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥è°ƒç”¨å‡½æ•° let text = `fn call: ${fn()}`; // æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥æ¢è¡Œ let info =`123 456 789` è§£æ„èµ‹å€¼ è§£æ„èµ‹å€¼å°±æ˜¯æŠŠæ•°æ®ç»“æ„åˆ†è§£ï¼Œç„¶åç»™å˜é‡è¿›è¡Œèµ‹å€¼ å¦‚æœè§£æ„ä¸æˆåŠŸï¼Œå˜é‡è·Ÿæ•°å€¼ä¸ªæ•°ä¸åŒ¹é…çš„æ—¶å€™ï¼Œå˜é‡çš„å€¼ä¸ºundefined æ•°ç»„ let [a, b, c] = [1, 2, 3]; // a=1 b=2 c=3 const color = [1,2] const color2=[...color,3,4] // color2 = [1,2,3,4],åŒæ ·èƒ½ç”¨äºå¯¹è±¡ å¯¹è±¡ let {name,age} = {name:\"123\",age:15} // name = \"123\" age = 15 let {name:myName,age:myAge} = {name:\"123\",age:15} // myName = \"123\" myAge = 15 å‡½æ•°é»˜è®¤å€¼ function a(a = 2){ console.log(a); } å‰©ä½™å‚æ•° function f(...args){ console.log(args); // [1,2,3,4] } f(1,2,3,4); ç®­å¤´å‡½æ•° // å‡½æ•°ä½“ä¸­åªæœ‰ä¸€å¥ä»£ç ï¼Œä¸”ä»£ç çš„æ‰§è¡Œç»“æœå°±æ˜¯è¿”å›å€¼ï¼Œå¯ä»¥çœç•¥å¤§æ‹¬å· let sum = (a,b) => a+b; // å¦‚æœå½¢å‚åªæœ‰ä¸€ä¸ªï¼Œå¯ä»¥çœç•¥å°æ‹¬å· let f = res => res.data; // ç®­å¤´å‡½æ•°ä¸ç»‘å®šthiså…³é”®å­—ï¼Œç®­å¤´å‡½æ•°ä¸­çš„thisï¼ŒæŒ‡å‘çš„æ˜¯å‡½æ•°å®šä¹‰ä½ç½®çš„ä¸Šä¸‹æ–‡this var obj = { f: () => { console.log(this); // Window } } obj.f(); Arrayæ–°å¢æ–¹æ³• Arrat.from //å®šä¹‰ä¸€ä¸ªé›†åˆ let arrayLike = { '0': 'a', '1': 'b', '2': 'c', length: 3 }; //è½¬æˆæ•°ç»„ let arr2 = Array.from(arrayLike); // ['a', 'b', 'c'] let arrayLike = { \"0\": 1, \"1\": 2, \"length\": 2 } let newAry = Array.from(arrayLike, item => item *2)//[2,4] Arrayå®ä¾‹æ–¹æ³•:find [1,2,3].find(i=>i/2==1) // 2 Arrayå®ä¾‹æ–¹æ³•:findIndex [1,2,3].findIndex(i=>i/2==1) // 1 Arrayå®ä¾‹æ–¹æ³•:includes [1,2,3].includes(4) // false Stringæ–°å¢æ–¹æ³• å®ä¾‹æ–¹æ³•:startsWith,endsWith 'javascript'.startsWith('java') // true 'javascript'.endsWith('script') // true å®ä¾‹æ–¹æ³•:repeat 'x'.repeat(3) // xxx æ•°æ®ç»“æ„Set ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æ„ Setã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ const set = new Set([1,2,3,4,4]) // set = {1,2,3,4} ä¸€äº›æ–¹æ³• set.add(1); // æ·»åŠ å…ƒç´  set.delete(1) // åˆ é™¤å…ƒç´  set.has(1) // åˆ¤æ–­æ˜¯å¦æœ‰è¿™ä¸ªå…ƒç´  set.clear() // æ¸…ç©ºé›†åˆ set.forEach(v => console.log(v)) MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-22 03:39:28 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Node/NodeJs.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Node/NodeJs.html","title":"NodeJS","keywords":"","body":"node ç»„æˆ ECMAScript Nodeæ¨¡å—API è¿è¡Œjsæ–‡ä»¶ node xxx æ¨¡å—åŒ–å¼€å‘ Node.jsè§„å®šä¸€ä¸ªJavaScriptæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—å†…éƒ¨å®šä¹‰çš„å˜é‡å’Œå‡½æ•°é»˜è®¤æƒ…å†µä¸‹åœ¨å¤–éƒ¨æ— æ³•å¾—åˆ° æ¨¡å—å†…éƒ¨å¯ä»¥ä½¿ç”¨exportså¯¹è±¡è¿›è¡Œæˆå‘˜å¯¼å‡ºï¼Œ ä½¿ç”¨requireæ–¹æ³•å¯¼å…¥å…¶ä»–æ¨¡å— jså¼€å‘å¼Šç«¯ æ–‡ä»¶ä¾èµ– å‘½åå†²çª æ¨¡å—å¯¼å‡º // module.js exports.add= (a,b) => a+b // å¦å¤–ä¸€ç§å¯¼å‡ºæ–¹å¼ module.exports.add = (a,b) => a+b; // exportsæ˜¯module.exportsçš„åˆ«å(åœ°å€å¼•ç”¨å…³ç³»)ï¼Œå½“å®ƒä»¬æŒ‡å‘çš„éƒ¨ç½²åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯¼å‡ºå¯¹è±¡æœ€ç»ˆä»¥module.exportsä¸ºå‡† æ¨¡å—å¯¼å…¥ // other.js let demo = require('./module'); demo.add(1,2); ç³»ç»Ÿæ¨¡å— fs const fs = require('fs') // è¯»å–æ–‡ä»¶ fs.readFile('./index.html',(err,doc)=>{ if (!err){ console.log(doc.toString()) } }) // æ–‡ä»¶å†™å…¥ fs.writeFile('test.txt','run it',error => { console.log(error); }) path const path = require('path') // æ‹¼æ¥è·¯å¾„ console.log(path.join(__dirname,'TMP','MY')) // windows: C:\\Users\\MY\\TMP\\web\\TMP\\MY // å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå› ä¸ºç›¸å¯¹è·¯å¾„æœ‰æ—¶å€™ç›¸å¯¹çš„æ˜¯å‘½ä»¤è¡Œå·¥å…·çš„å½“å‰å·¥ä½œç›®å½• ç¬¬ä¸‰æ–¹æ¨¡å— http://npmjs.com npm install xx # å®‰è£…æ¨¡å—ï¼ˆæœ¬åœ°å®‰è£…ï¼‰ npm uninstall xx # å¸è½½æ¨¡å— npm install xx -g # å…¨å±€å®‰è£… nodemon èƒ½ç›‘æ§æ–‡ä»¶çš„å˜åŒ–ï¼Œå˜åŒ–æ—¶è‡ªåŠ¨è¿è¡Œå®ƒ npm install nodemon -g # å®‰è£… nodemon test # ä½¿ç”¨nodemonä»£æ›¿nodeæ‰§è¡Œjsæ–‡ä»¶ï¼Œå½“jsæ–‡ä»¶å‘ç”Ÿå˜æ›´åï¼Œä¼šè‡ªåŠ¨é‡æ–°è¿è¡Œjsæ–‡ä»¶ nrm npmä¸‹è½½åœ°å€åˆ‡æ¢å·¥å…· nrm ls # åˆ—å‡ºå¯ç”¨æº nrm use xx # ä½¿ç”¨æŸä¸ªæº gulp npm install gulp npm install gulp-cli -g // æ‰§è¡Œ gulp first const gulp = require('gulp'); gulp.task('first', () => { return gulp.src('./src/index.html') .pipe(gulp.dest('./dist')) }) æ’ä»¶ ä½¿ç”¨ // å‹ç¼©html const htmlmin = require('gulp-htmlmin') gulp.task('htmlmin', () => { return gulp.src('./src/*.html') .pipe(htmlmin({collapseWhitespace:true})) .pipe(gulp.dest('./dist')) }) å…¨å±€å¯¹è±¡ global package.json é¡¹ç›®æè¿°æ–‡ä»¶,è®°å½•äº†å½“å‰é¡¹ç›®ä¿¡æ¯ï¼Œä¾‹å¦‚é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€ä½œè€…ã€githubåœ°å€ã€ å½“å‰é¡¹ç›®ä¾èµ–äº†å“ªäº›ç¬¬ä¸‰æ–¹æ¨¡å—ç­‰ã€‚ ä½¿ç”¨npm init -yå‘½ä»¤ç”Ÿæˆã€‚ dependencies devDependencies package-lock.json é”å®šåŒ…çš„ç‰ˆæœ¬ è®°å½•äº†åŒ…ä»¥åŠä¾èµ–çš„ä¸‹è½½åœ°å€ script \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\", \"build\":\"nodemon a.js\" } npm run build æ¨¡å—åŠ è½½æœºåˆ¶ // å¦‚æœæ¨¡å—åç¼€çœç•¥,å…ˆæ‰¾åŒåJSæ–‡ä»¶å†æ‰¾åŒåJSæ–‡ä»¶å¤¹ // å¦‚æœæ‰¾åˆ°äº†åŒåæ–‡ä»¶å¤¹ï¼Œæ‰¾æ–‡ä»¶å¤¹ä¸­çš„index.js // å¦‚æœæ–‡ä»¶å¤¹ä¸­æ²¡æœ‰index.jså°±ä¼šå»å½“å‰æ–‡ä»¶å¤¹ä¸­çš„package.jsæ–‡ä»¶ä¸­æŸ¥æ‰¾mainé€‰é¡¹ä¸­çš„å…¥å£æ–‡ä»¶ // å¦‚æœå†æ‰¾ä¸åˆ°å°±æŠ›å‡ºå¼‚å¸¸ require('./xx') // Node.jsä¼šå‡è®¾å®ƒæ˜¯ ç³»ç»Ÿæ¨¡å— // Node.jsä¼šå»node_ modulesæ–‡ä»¶å¤¹ä¸­ // é¦–å…ˆçœ‹æ˜¯å¦æœ‰è¯¥åå­—çš„JSæ–‡ä»¶ // å†çœ‹æ˜¯å¦æœ‰è¯¥åå­—çš„æ–‡ä»¶å¤¹ // å¦‚æœæ˜¯æ–‡ä»¶å¤¹çœ‹é‡Œé¢æ˜¯å¦æœ‰index.js // å¦‚æœæ²¡æœ‰index.jsæŸ¥çœ‹ è¯¥æ–‡ä»¶å¤¹ä¸­çš„package.jsonä¸­çš„mainé€‰é¡¹ç¡®å®šæ¨¡å—å…¥å£æ–‡ä»¶ // å¦åˆ™æ‰¾ä¸åˆ°æŠ¥é”™ require('xx') å¼‚æ­¥ç¼–ç¨‹ åŒæ­¥api ä¼šé˜»å¡ ä»è¿”å›å€¼æ‹¿æ‰§è¡Œç»“æœ å¼‚æ­¥api ä¸ä¼šé˜»å¡ ä»å›è°ƒå‡½æ•°æ‹¿æ‰§è¡Œç»“æœ ä»£ç æ‰§è¡Œé¡ºåº console.log('ä»£ç å¼€å§‹æ‰§è¡Œ'); setTimeout(() => { console.log('2ç§’åæ‰§è¡Œçš„ä»£ç '); }, 2000); setTimeout(() => { console.log('\"0ç§’\"åæ‰§è¡Œçš„ä»£ç '); }, 0); console.log('ä»£ç ç»“æŸæ‰§è¡Œ'); Promise è§£å†³å¼‚æ­¥ç¼–ç¨‹é—®é¢˜ Promise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆæˆ–è€…å¤±è´¥ var promise = new Promise((resolve, reject) => { setTimeout(function () { let condition = true; if (condition) { resolve('foo'); // å›è°ƒthené‡Œçš„å‡½æ•° } else { reject('error'); // å›è°ƒcatché‡Œçš„å‡½æ•° } }, 300); }); promise .then(value => { console.log(value); }) .catch(error => { console.log(error) }) è§£å†³å›è°ƒåœ°ç‹± promise .then(v=>{ // å¦‚æœè¿”å›Promiseï¼Œåˆ™è¿™ä¸ªpromiseæ˜¯è°ƒç”¨ä¸‹ä¸€ä¸ªthençš„promise // å¦‚æœä¸æ˜¯promiseï¼Œåˆ™å°±æ˜¯ä¸‹ä¸€ä¸ªthençš„å›è°ƒå‡½æ•°å‚æ•°v return new Promise() }) .then(v=>{ return new Promise() }) allä¸race // æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆæ‰è¿”å›ç»“æœ Promise.all([query(),query(),query()]).then(()=>console.log('all mission complete')); // ä»»ä¸€ä»»åŠ¡éƒ½å®Œæˆå°±è¿”å›ç»“æœ Promise.race([query(),query(),query()]).then(()=>console.log('mission complete')); å¼‚æ­¥å‡½æ•° // ä½¿ç”¨asyncä¿®é¥°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªPromise const fn = async () => {}; async function fn () {} async function f() { return 11; } f() .then(v=>console.log(v)) await awaitå…³é”®å­—åªèƒ½å‡ºç°åœ¨å¼‚æ­¥å‡½æ•°ä¸­ await promise awaitåé¢åªèƒ½å†™promiseå¯¹è±¡ å†™å…¶ä»–ç±»å‹çš„APIæ˜¯ä¸ä¸å¯ä»¥çš„ awaitå…³é”®å­—å¯æ˜¯æš‚åœå¼‚æ­¥å‡½æ•°å‘ä¸‹æ‰§è¡Œ ç›´åˆ°promiseè¿”å›ç»“æœ async function f1() { return 11; } async function f2(){ return 22; } async function f(){ // å¯ä»¥é€šè¿‡awaitå…³é”®å­—å°†å¼‚æ­¥å‡½æ•°è½¬åŒæ­¥æ‰§è¡Œ let i1 = await f1(); let i2 = await f2(); console.log(i1,i2) } f() webæœåŠ¡å™¨ åˆ›å»º var http = require('http') http.createServer((request,response)=>{ const body = \"hello world\"; response.writeHead(200,{ 'Content-Length':Buffer.byteLength(body), 'Content-Type':'text/plain' }); response.end(body); }).listen(8888); è¯·æ±‚æŠ¥æ–‡ const body = `request method:${request.method} request url:${request.url} request headers ua:${request.headers[\"user-agent\"]} ` å“åº”æŠ¥æ–‡ response.writeHead(200,{ 'Content-Type':'application/json' }) response.end('{\"result\":\"25\"}') è¯·æ±‚å‚æ•° get const url = require('url') let { query } = url.parse(request.url, true) // è¾“å‡ºnameå‚æ•°ä¸ageå‚æ•° response.end(query.name + \",\" + query.age) post let postData = '' request.on('data',params=>{ postData += params }) request.on('end',()=>{ let i = querystring.parse(postData) response.end(`name: ${i.name} address: ${i.address}`) }) è·¯ç”± let { pathname } = url.parse(req.url); if (pathname == '/' || pathname == '/index') { response.end('æ¬¢è¿æ¥åˆ°é¦–é¡µ'); } else if (pathname == '/list') { response.end('æ¬¢è¿æ¥åˆ°åˆ—è¡¨é¡µé¡µ'); } else { response.end('æŠ±æ­‰, æ‚¨è®¿é—®çš„é¡µé¢å‡ºæ¸¸äº†'); } é™æ€èµ„æº fs.readFile(__dirname+'/static'+pathname,(error,data)=>{ if (!error){ let type = pathname.substring(pathname.lastIndexOf('.')+1) response.writeHead(200,{ \"Content-Type\":mime.getType(pathname) }) response.end(data) }else{ response.writeHead(404,{ \"Content-Type\":\"text/html;charset=utf8\" }) response.end('404 NOT FOUND') } }) MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-20 12:15:33 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Node/art-template.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Node/art-template.html","title":"art-template","keywords":"","body":"art-template ä½¿ç”¨ const template = require('art-template') const view = path.join(__dirname,'views','index.art') let ret = template(view,{ name:'cxk', age:18 }) å§“å:{{name}} å¹´é¾„:{{age}} æ¨¡æ¿è¯­æ³• æ ‡å‡†è¯­æ³•ï¼š åŸå§‹è¯­æ³•ï¼š è¾“å‡º {{value}} {{a ? b : c}} {{a + b}} åŸæ–‡è¾“å‡º {{@ value }} æ¡ä»¶ {{if age==18}} æ²‰é±¼è½é› {{else if age == 20}} é—­æœˆç¾èŠ± {{/if}} æ²‰é±¼è½é› é—­æœˆç¾èŠ± å¾ªç¯ let ret = template(view,{ name:'cxk', age:20, skills:['å”±','è·³','rap','ç¯®çƒ'] }) {{each skills}} æŠ€èƒ½{{$index}}:{{$value}} {{/each}} æŠ€èƒ½: å­æ¨¡æ¿ {{include './header.art'}} æ¨¡æ¿ç»§æ‰¿ HTMLéª¨æ¶æ¨¡æ¿ {{block 'head'}}{{/block}} {{block 'content'}}{{/block}} å…¶ä»–æ¨¡æ¿å¯ä»¥ç»§æ‰¿è¿™ä¸ªæ¨¡æ¿ï¼Œå¡«å……å ä½ç¬¦é‡Œçš„å†…å®¹ {{extend './layout.art'}} {{block 'head'}} {{/block}} {{block 'content'}} test {{/block}} æ¸²æŸ“ç»“æœ HTMLéª¨æ¶æ¨¡æ¿ test æ¨¡æ¿é…ç½® å¯¼å…¥å˜é‡ template.defaults.imports.random = ()=>{ return Math.random() } {{random()}} è®¾ç½®æ¨¡æ¿æ ¹ç›®å½• template.defaults.root = æ¨¡æ¿ç›®å½• è®¾ç½®æ¨¡æ¿é»˜è®¤åç¼€ template.defaults.extname = '.art' MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-07 06:38:35 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Node/Express.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Node/Express.html","title":"Express","keywords":"","body":"Express Expressæ˜¯ä¸€ä¸ªåŸºäºNodeå¹³å°çš„webåº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„å¼ºå¤§ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§Webåº”ç”¨ ç‰¹æ€§ æä¾›äº†æ–¹ä¾¿ç®€æ´çš„è·¯ç”±å®šä¹‰æ–¹å¼ å¯¹è·å–HTTPè¯·æ±‚å‚æ•°è¿›è¡Œäº†ç®€åŒ–å¤„ç† å¯¹æ¨¡æ¿å¼•æ“æ”¯æŒç¨‹åº¦é«˜ï¼Œæ–¹ä¾¿æ¸²æŸ“åŠ¨æ€HTMLé¡µé¢ æä¾›äº†ä¸­é—´ä»¶æœºåˆ¶æœ‰æ•ˆæ§åˆ¶HTTPè¯·æ±‚ æ‹¥æœ‰å¤§é‡ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶å¯¹åŠŸèƒ½è¿›è¡Œæ‰©å±• å¼€å§‹ const express = require('express') const app = express() app.listen(80) app.get('/',(req,res)=>{ // è‡ªåŠ¨è®¾ç½®å“åº”å†…å®¹ç±»å‹ res.send({name:'cxk',age:18}) }) ä¸­é—´ä»¶ next ä½¿ç”¨nextç»§ç»­ä¼ é€’è¯·æ±‚ app.get('/',(req,res,next)=>{ req.name = 'cxk' next() }) app.get('/',(req,res)=>{ res.send({name:req.name,age:18}) }) use ä½¿ç”¨useæ¥æ”¶ä»»ä½•ç±»å‹æ–¹æ³•çš„è¯·æ±‚ app.use('/any',(req,res,next)=>{ res.end('ok') }) å¯ä»¥ç”¨ä½œè¿‡æ»¤å™¨ 404å¤„ç†: app.use((req,res,next)=>{ res.status(404).send('not found') }) é”™è¯¯å¤„ç†ï¼š app.use('/any',(req,res,next)=>{ throw Error('RuntimeException') }) app.use((error,req,res,next)=>{ res.status(500).send(\"SERVER INTERNAL ERROR:\"+error) }) å½“å‘ç”Ÿé”™è¯¯çš„ä¸­é—´ä»¶æ˜¯å¼‚æ­¥å‡½æ•°æ˜¯ï¼Œéœ€è¦æ‰‹åŠ¨æ•æ‰é”™è¯¯ï¼Œè°ƒç”¨next app.use('/any',async (req,res,next)=>{ try{ throw Error('RuntimeException') }catch(e){ next(e) } }) æ¨¡å—åŒ–è·¯ç”± const home = express.Router() const admin = express.Router() app.use('/home',home) app.use('/admin',admin) home.get('/index',(req,res)=>{ res.send('å‰å°é¦–é¡µ') }) admin.get('/index',(req,res)=>{ res.send('åå°é¦–é¡µ') }) å‚æ•°è·å– getè¯·æ±‚ req.query postè¯·æ±‚ const bodyParser = require('body-parser') app.use(bodyParser.urlencoded({extended:false})) app.post('/',(req,res)=>{ res.send(req.body) }) è·¯ç”±å‚æ•° è¯·æ±‚:http://localhost/1 app.get('/:id',(req,res)=>{ res.send(req.params) // {id:1} }) é™æ€èµ„æºå¤„ç† app.use(express.static('static')) æ•´åˆart-template // app.use(express.static('static')) // å½“æ¸²æŸ“åç¼€ä¸ºartçš„æ¨¡æ¿æ—¶ï¼Œä½¿ç”¨express-art-template app.engine('art',require('express-art-template')) // è®¾ç½®æ¨¡æ¿ç›®å½• app.set('views',path.join(__dirname,'views')) // è®¾ç½®æ¨¡æ¿åç¼€ app.set('view engine','art') app.get('/',(req,res)=>{ // æ¸²æŸ“æ¨¡æ¿ res.render('index',{ content:'jntm' }) }) æ¨¡æ¿å…¬å…±æ•°æ® app.locals.common = { name: 'site' } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-08 05:49:13 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/æ¨¡å—åŒ–.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/æ¨¡å—åŒ–.html","title":"æ¨¡å—åŒ–","keywords":"","body":"æ¨¡å—åŒ– è§„èŒƒ æµè§ˆå™¨æ¨¡å—åŒ– AMD CMD æœåŠ¡ç«¯æ¨¡å—åŒ– NODEjs ES6æ¨¡å—åŒ– ES6æ¨¡å—åŒ– å®‰è£…babel npm install --save-dev @babel/core @babel/cli @babel/preset-env @babel/node npm install --save @babel/polyfill å¯¼å‡º // export default åªèƒ½ç”¨ä¸€æ¬¡ export { firstName, lastName, year }; export function multiply(x, y) { return x * y; }; å¯¼å…¥ import { stat, exists, readFile } from 'fs'; // ä¸€äº›æ··ç”¨ import m1, {a as x,c} from './m1.js'; // ç›´æ¥æŒ‡å‘å¯¼å…¥æ¨¡å—çš„ä»£ç  import './m2.js' MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-22 03:39:28 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Jquery.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Jquery.html","title":"jQuery","keywords":"","body":"jQuery jå°±æ˜¯ JavaScriptï¼›Query æŸ¥è¯¢ï¼› æ„æ€å°±æ˜¯æŸ¥è¯¢jsï¼ŒæŠŠjsä¸­çš„DOMæ“ä½œåšäº†å°è£… ç‰ˆæœ¬ä»‹ç» 1x ï¼šå…¼å®¹ IE 678 ç­‰ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œ å®˜ç½‘ä¸å†æ›´æ–° 2x ï¼šä¸å…¼å®¹ IE 678 ç­‰ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œ å®˜ç½‘ä¸å†æ›´æ–° 3x ï¼šä¸å…¼å®¹ IE 678 ç­‰ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œ æ˜¯å®˜æ–¹ä¸»è¦æ›´æ–°ç»´æŠ¤çš„ç‰ˆæœ¬ åŸºæœ¬æ“ä½œ å…¥å£å‡½æ•° $(function () { .... }); ä¸åŒäºåŸç”Ÿ js ä¸­çš„ load äº‹ä»¶æ˜¯ç­‰é¡µé¢æ–‡æ¡£ã€å¤–éƒ¨çš„ js æ–‡ä»¶ã€cssæ–‡ä»¶ã€å›¾ç‰‡åŠ è½½å®Œæ¯•æ‰æ‰§è¡Œå†…éƒ¨ä»£ç  window.onload å’Œ $(function) åŒºåˆ« window.onload åªèƒ½å®šä¹‰ä¸€æ¬¡,å¦‚æœå®šä¹‰å¤šæ¬¡ï¼Œåè¾¹çš„ä¼šå°†å‰è¾¹çš„è¦†ç›–æ‰ $(function)å¯ä»¥å®šä¹‰å¤šæ¬¡çš„ã€‚ jQueryä¸­çš„é¡¶çº§å¯¹è±¡$ $æ˜¯ jQuery çš„åˆ«ç§°ï¼Œåœ¨ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ jQuery ä»£æ›¿ $æ˜¯jQueryçš„é¡¶çº§å¯¹è±¡ï¼Œç›¸å½“äºåŸç”ŸJavaScriptä¸­çš„ window ç”¨åŸç”Ÿ JS è·å–æ¥çš„å¯¹è±¡å°±æ˜¯ DOM å¯¹è±¡ jQuery æ–¹æ³•è·å–çš„å…ƒç´ å°±æ˜¯ jQuery å¯¹è±¡ã€‚ jQuery å¯¹è±¡æœ¬è´¨æ˜¯ï¼š åˆ©ç”¨$å¯¹DOM å¯¹è±¡åŒ…è£…åäº§ç”Ÿçš„å¯¹è±¡ï¼ˆä¼ªæ•°ç»„å½¢å¼å­˜å‚¨ï¼‰ jqå¯¹è±¡ -- > domå¯¹è±¡ : jqå¯¹è±¡[ç´¢å¼•] æˆ–è€… jqå¯¹è±¡.get(ç´¢å¼•) var domObject1 = $('div')[0] var domObject2 = $('div').get(0) domå¯¹è±¡ -- > jqå¯¹è±¡ : $(jså¯¹è±¡) var jQueryObject = $(box); äº‹ä»¶ç»‘å®š $(\"div\").click(function () { alert(\"click\"); }); é€‰æ‹©å™¨ ç±»å‹ è¯­æ³• ä½œç”¨ - åŸºç¡€é€‰æ‹©å™¨ - æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆå…ƒç´ é€‰æ‹©å™¨ï¼‰ $(\"htmlæ ‡ç­¾å\") è·å¾—æ‰€æœ‰åŒ¹é…æ ‡ç­¾åç§°çš„å…ƒç´  IDé€‰æ‹©å™¨ $(\"#idçš„å±æ€§å€¼\") è·å¾—ä¸æŒ‡å®šidå±æ€§å€¼åŒ¹é…çš„å…ƒç´  ç±»é€‰æ‹©å™¨ $(\".classçš„å±æ€§å€¼\") è·å¾—ä¸æŒ‡å®šçš„classå±æ€§å€¼åŒ¹é…çš„å…ƒç´  å¹¶é›†é€‰æ‹©å™¨ $(\"é€‰æ‹©å™¨1,é€‰æ‹©å™¨2....\") è·å–å¤šä¸ªé€‰æ‹©å™¨é€‰ä¸­çš„æ‰€æœ‰å…ƒç´  äº¤é›†é€‰æ‹©å™¨ $(\"li.current\") äº¤é›†å…ƒç´  - å±‚çº§é€‰æ‹©å™¨ - åä»£é€‰æ‹©å™¨ $(\"A B \") é€‰æ‹©Aå…ƒç´ å†…éƒ¨çš„æ‰€æœ‰Bå…ƒç´  å­é€‰æ‹©å™¨ $(\"A > B\") é€‰æ‹©Aå…ƒç´ å†…éƒ¨çš„æ‰€æœ‰Bå­å…ƒç´  - å±æ€§é€‰æ‹©å™¨ - å±æ€§åç§°é€‰æ‹©å™¨ $(\"A[å±æ€§å]\") åŒ…å«æŒ‡å®šå±æ€§çš„é€‰æ‹©å™¨ å±æ€§é€‰æ‹©å™¨ $(\"A[å±æ€§å='å€¼']\") åŒ…å«æŒ‡å®šå±æ€§ç­‰äºæŒ‡å®šå€¼çš„é€‰æ‹©å™¨ ç¬¦åˆå±æ€§é€‰æ‹©å™¨ $(\"A[å±æ€§å='å€¼'][]...\") åŒ…å«å¤šä¸ªå±æ€§æ¡ä»¶çš„é€‰æ‹©å™¨ - ç­›é€‰é€‰æ‹©å™¨ - è¿‡æ»¤é€‰æ‹©å™¨ :first è·å¾—é€‰æ‹©çš„å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´  å°¾é€‰æ‹©å™¨ :last è·å¾—é€‰æ‹©çš„å…ƒç´ ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´  éå…ƒç´ é€‰æ‹©å™¨ :not(selector) ä¸åŒ…æ‹¬æŒ‡å®šå†…å®¹çš„å…ƒç´  å¶æ•°é€‰æ‹©å™¨ :even å¶æ•°ï¼Œä» 0 å¼€å§‹è®¡æ•° å¥‡æ•°é€‰æ‹©å™¨ :odd å¥‡æ•°ï¼Œä» 0 å¼€å§‹è®¡æ•° ç­‰äºç´¢å¼•é€‰æ‹©å™¨ :eq(index) æŒ‡å®šç´¢å¼•å…ƒç´  å¤§äºç´¢å¼•é€‰æ‹©å™¨ :gt(index) å¤§äºæŒ‡å®šç´¢å¼•å…ƒç´  å°äºç´¢å¼•é€‰æ‹©å™¨ :lt(index) å°äºæŒ‡å®šç´¢å¼•å…ƒç´  æ ‡é¢˜é€‰æ‹©å™¨ :header è·å¾—æ ‡é¢˜ï¼ˆh1~h6ï¼‰å…ƒç´ ï¼Œå›ºå®šå†™æ³• å¯ç”¨å…ƒç´ é€‰æ‹©å™¨ :enabled è·å¾—å¯ç”¨å…ƒç´  ä¸å¯ç”¨å…ƒç´ é€‰æ‹©å™¨ :disabled è·å¾—ä¸å¯ç”¨å…ƒç´  é€‰ä¸­é€‰æ‹©å™¨ :checked è·å¾—å•é€‰/å¤é€‰æ¡†é€‰ä¸­çš„å…ƒç´  é€‰ä¸­é€‰æ‹©å™¨ :selected è·å¾—ä¸‹æ‹‰æ¡†é€‰ä¸­çš„å…ƒç´  ä¸€äº›èŠ‚ç‚¹é€‰æ‹©çš„è¾…åŠ©æ–¹æ³•ï¼š éšå¼è¿­ä»£ $('div').hide(); // é¡µé¢ä¸­æ‰€æœ‰çš„divå…¨éƒ¨éšè—ï¼Œä¸ç”¨å¾ªç¯æ“ä½œ æ ·å¼æ§åˆ¶ ä¿®æ”¹ç®€å•å…ƒç´ æ ·å¼ // 1.å‚æ•°åªå†™å±æ€§åï¼Œåˆ™æ˜¯è¿”å›å±æ€§å€¼ var strColor = $(this).css('color'); // 2. å‚æ•°æ˜¯å±æ€§åï¼Œå±æ€§å€¼ï¼Œé€—å·åˆ†éš”ï¼Œæ˜¯è®¾ç½®ä¸€ç»„æ ·å¼ï¼Œå±æ€§å¿…é¡»åŠ å¼•å·ï¼Œå€¼å¦‚æœæ˜¯æ•°å­—å¯ä»¥ä¸ç”¨è·Ÿå•ä½å’Œå¼•å· $(this).css(\"color\", \"red\"); // 3. å‚æ•°å¯ä»¥æ˜¯å¯¹è±¡å½¢å¼ï¼Œæ–¹ä¾¿è®¾ç½®å¤šç»„æ ·å¼ã€‚å±æ€§åå’Œå±æ€§å€¼ç”¨å†’å·éš”å¼€ï¼Œ å±æ€§å¯ä»¥ä¸ç”¨åŠ å¼•å· $(this).css({ \"color\":\"white\",\"font-size\":\"20px\"}); è®¾ç½®ç±»æ ·å¼ åŸç”Ÿ JS ä¸­ className ä¼šè¦†ç›–å…ƒç´ åŸå…ˆé‡Œé¢çš„ç±»åï¼ŒjQuery é‡Œé¢ç±»æ“ä½œåªæ˜¯å¯¹æŒ‡å®šç±»è¿›è¡Œæ“ä½œï¼Œä¸å½±å“åŸå…ˆçš„ç±»å // 1.æ·»åŠ ç±» $(\"div\").addClass(\"current\"); // 2.åˆ é™¤ç±» $(\"div\").removeClass(\"current\"); // 3.åˆ‡æ¢ç±» $(\"div\").toggleClass(\"current\"); DOMæ“ä½œ å†…å®¹æ“ä½œ html(): è·å–/è®¾ç½®å…ƒç´ çš„æ ‡ç­¾ä½“å†…å®¹ å†…å®¹ $(\"a\").html(); // å†…å®¹ text(): è·å–/è®¾ç½®å…ƒç´ çš„æ ‡ç­¾ä½“çº¯æ–‡æœ¬å†…å®¹ å†…å®¹ $(\"a\").text(); // å†…å®¹ val()ï¼š è·å–/è®¾ç½®å…ƒç´ çš„valueå±æ€§å€¼ å±æ€§æ“ä½œ attr(): è·å–/è®¾ç½®å…ƒç´ çš„å±æ€§(åªèƒ½æ“ä½œè‡ªå®šä¹‰å±æ€§) var link = $(\"div\").prop('index'); // è·å–è‡ªå®šä¹‰å±æ€§ $(\"div\").prop('index','xx'); // è®¾ç½®è‡ªå®šä¹‰å±æ€§ removeAttr():åˆ é™¤å±æ€§ï¼Œå¦‚æœæ“ä½œçš„æ˜¯å…ƒç´ è‡ªå®šä¹‰çš„å±æ€§ï¼Œåˆ™å»ºè®®ä½¿ç”¨attr prop():è·å–/è®¾ç½®å…ƒç´ çš„å±æ€§ï¼ˆåªèƒ½æ“ä½œå›ºæœ‰å±æ€§ï¼‰ var link = $(\"div\").prop('href'); // è·å–å±æ€§ $(\"div\").prop('href','xx'); // è®¾ç½®å±æ€§ removeProp():åˆ é™¤è‡ªå®šä¹‰å±æ€§ æ•°æ®ç¼“å­˜ data()ï¼Œå¯ä»¥åœ¨æŒ‡å®šçš„å…ƒç´ ä¸Šå­˜å–æ•°æ®ï¼Œå¹¶ä¸ä¼šä¿®æ”¹ DOM å…ƒç´ ç»“æ„ $(\"div\").data(\"key\",\"value\") //å‘å…ƒç´ æ·»åŠ æ•°æ® $(\"div\").data(\"key\") //è·å–æ·»åŠ çš„æ•°æ® èŠ‚ç‚¹æ“ä½œ append():çˆ¶å…ƒç´ å°†å­å…ƒç´ è¿½åŠ åˆ°æœ«å°¾ å¯¹è±¡1.append(å¯¹è±¡2): å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1å…ƒç´ å†…éƒ¨ï¼Œå¹¶ä¸”åœ¨æœ«å°¾ prepend():çˆ¶å…ƒç´ å°†å­å…ƒç´ è¿½åŠ åˆ°å¼€å¤´ å¯¹è±¡1.prepend(å¯¹è±¡2):å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1å…ƒç´ å†…éƒ¨ï¼Œå¹¶ä¸”åœ¨å¼€å¤´ after():æ·»åŠ åœ¨ç›®æ ‡å…ƒç´ åé¢ before():æ·»åŠ åœ¨ç›®æ ‡å…ƒç´ å‰é¢ appendTo(): å¯¹è±¡1.appendTo(å¯¹è±¡2):å°†å¯¹è±¡1æ·»åŠ åˆ°å¯¹è±¡2å†…éƒ¨ï¼Œå¹¶ä¸”åœ¨æœ«å°¾ prependTo(): å¯¹è±¡1.prependTo(å¯¹è±¡2):å°†å¯¹è±¡1æ·»åŠ åˆ°å¯¹è±¡2å†…éƒ¨ï¼Œå¹¶ä¸”åœ¨å¼€å¤´ after():æ·»åŠ å…ƒç´ åˆ°å…ƒç´ åè¾¹ å¯¹è±¡1.after(å¯¹è±¡2)ï¼š å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1åè¾¹ã€‚å¯¹è±¡1å’Œå¯¹è±¡2æ˜¯å…„å¼Ÿå…³ç³» before():æ·»åŠ å…ƒç´ åˆ°å…ƒç´ å‰è¾¹ å¯¹è±¡1.before(å¯¹è±¡2)ï¼š å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1å‰è¾¹ã€‚å¯¹è±¡1å’Œå¯¹è±¡2æ˜¯å…„å¼Ÿå…³ç³» insertAfter() å¯¹è±¡1.insertAfter(å¯¹è±¡2)ï¼šå°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1åè¾¹ã€‚å¯¹è±¡1å’Œå¯¹è±¡2æ˜¯å…„å¼Ÿå…³ç³» insertBefore() å¯¹è±¡1.insertBefore(å¯¹è±¡2)ï¼š å°†å¯¹è±¡2æ·»åŠ åˆ°å¯¹è±¡1å‰è¾¹ã€‚å¯¹è±¡1å’Œå¯¹è±¡2æ˜¯å…„å¼Ÿå…³ç³» remove():ç§»é™¤å…ƒç´ ï¼ˆè‡ªèº«ï¼‰ empty():æ¸…ç©ºå…ƒç´ çš„æ‰€æœ‰åä»£å…ƒç´  åŠ¨ç”» å‚æ•°ï¼š speedï¼šåŠ¨ç”»çš„é€Ÿåº¦ã€‚ä¸‰ä¸ªé¢„å®šä¹‰çš„å€¼(\"slow\",\"normal\", \"fast\")æˆ–è¡¨ç¤ºåŠ¨ç”»æ—¶é•¿çš„æ¯«ç§’æ•°å€¼(å¦‚ï¼š1000) easingï¼šç”¨æ¥æŒ‡å®šåˆ‡æ¢æ•ˆæœï¼Œé»˜è®¤æ˜¯\"swing\"ï¼Œå¯ç”¨å‚æ•°\"linear\" swingï¼šåŠ¨ç”»æ‰§è¡Œæ—¶æ•ˆæœæ˜¯ å…ˆæ…¢ï¼Œä¸­é—´å¿«ï¼Œæœ€ååˆæ…¢ linearï¼šåŠ¨ç”»æ‰§è¡Œæ—¶é€Ÿåº¦æ˜¯åŒ€é€Ÿçš„ fnï¼šåœ¨åŠ¨ç”»å®Œæˆæ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œæ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ã€‚ æ˜¾ç¤ºéšè— show([speed,[easing],[fn]]) æ˜¾ç¤º hide([speed,[easing],[fn]]) å¼•æ“ toggle([speed],[easing],[fn]) åˆ‡æ¢ æ»‘å…¥æ»‘å‡º slideDown([speed],[easing],[fn]) ä¸‹æ‹‰ slideUp([speed,[easing],[fn]]) ä¸Šæ‹‰ slideToggle([speed],[easing],[fn]) åˆ‡æ¢ æ·¡å…¥æ·¡å‡º fadeIn([speed],[easing],[fn]) fadeOut([speed],[easing],[fn]) fadeToggle([speed,[easing],[fn]]) fadeTo([speed],opacity,[easing],[fn]) è‡ªå®šä¹‰åŠ¨ç”» animate(params,[speed],[easing],[fn]) paramsä»£è¡¨è¦å˜åŒ–çš„cssæ ·å¼ $(\"div\").animate({height:200}) åŠ¨ç”»æ’é˜Ÿ åŠ¨ç”»æˆ–è€…æ•ˆæœä¸€æ—¦è§¦å‘å°±ä¼šæ‰§è¡Œï¼Œå¦‚æœå¤šæ¬¡è§¦å‘ï¼Œå°±é€ æˆå¤šä¸ªåŠ¨ç”»æˆ–è€…æ•ˆæœæ’é˜Ÿæ‰§è¡Œ stop() å†™åˆ°åŠ¨ç”»æˆ–è€…æ•ˆæœçš„å‰é¢ï¼Œ ç›¸å½“äºåœæ­¢ç»“æŸä¸Šä¸€æ¬¡çš„åŠ¨ç”» å…ƒç´ æ“ä½œ éå† jqå¯¹è±¡.each(callback) $(\"div\").each(function (index,element) { console.table(index,element); }); å›è°ƒæ–¹æ³•ä¼ å…¥çš„elementæ˜¯domå…ƒç´  å¦‚æœå½“å‰functionè¿”å›ä¸ºfalseï¼Œåˆ™ç»“æŸå¾ªç¯(break)ã€‚ å¦‚æœå½“å‰functionè¿”å›ä¸ºtrueï¼Œåˆ™ç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­ä¸‹æ¬¡å¾ªç¯(continue) $.each(object, [callback]) $.each($(\"div\"),function (i, e) { console.table(i,e); }) for..of ES6è¯­æ³• for (let i of $(\"div\")){ console.log(i); } äº‹ä»¶ äº‹ä»¶ç»‘å®š æ ‡å‡†ç»‘å®š jqå¯¹è±¡.äº‹ä»¶æ–¹æ³•(å›è°ƒå‡½æ•°)ï¼Œå¦‚æœè°ƒç”¨äº‹ä»¶æ–¹æ³•ï¼Œä¸ä¼ é€’å›è°ƒå‡½æ•°ï¼Œåˆ™ä¼šè§¦å‘æµè§ˆå™¨é»˜è®¤è¡Œä¸ºã€‚ onç»‘å®š jqå¯¹è±¡.on(\"äº‹ä»¶åç§°\",å›è°ƒå‡½æ•°) æˆ–è€… jqå¯¹è±¡.on({ äº‹ä»¶1:å¤„ç†å‡½æ•°, äº‹ä»¶2:å¤„ç†å‡½æ•° }) // äº‹ä»¶è§¦å‘ä¸€æ¬¡åå¤±æ•ˆ jqå¯¹è±¡.one('click',fn) äº‹ä»¶å§”æ‰˜ $(\"div\").on(\"click\",\"p\",function(){ // å°†å­å…ƒç´ å‘ç”Ÿçš„äº‹ä»¶å§”æ‰˜ç»™çˆ¶å…ƒç´ ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°ç»™åŠ¨æ€åˆ›å»ºçš„å…ƒç´ åˆ›å»ºç‚¹å‡»äº‹ä»¶ alert('på…ƒç´ è§¦å‘'); }) äº‹ä»¶è§£ç»‘ // è§£ç»‘æŸä¸ªäº‹ä»¶ jqå¯¹è±¡.off(\"äº‹ä»¶åç§°\") // è§£ç»‘æ‰€æœ‰äº‹ä»¶ jqå¯¹è±¡.off() // è§£ç»‘äº‹ä»¶å§”æ‰˜ jqå¯¹è±¡.off('click','a') äº‹ä»¶è§¦å‘ jqå¯¹è±¡.trigger(\"click\") // ä¸ä¼šè§¦å‘å…ƒç´ çš„é»˜è®¤è¡Œä¸ºï¼ˆæ¯”å¦‚input focusä¹‹åä¼šå…‰æ ‡é—ªçƒï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•å…‰æ ‡å°±ä¸ä¼šé—ªçƒï¼‰ jqå¯¹è±¡.triggerHandler(\"click\") äº‹ä»¶å¯¹è±¡ ä¸DOMä¸­çš„eventåŸºæœ¬ä¸€è‡´ å¯¹è±¡æ‹·è´ $.extend([deep],target,sourceObject,[sourceObjectN]) å¤šåº“å…±å­˜ // è®©jquery é‡Šæ”¾å¯¹$ æ§åˆ¶æƒ è®©ç”¨è‡ªå·±å†³å®š var $x = jQuery.noConflict(); å°ºå¯¸å’Œä½ç½®æ“ä½œ å°ºå¯¸ // width height è·å–æˆ–è€…è®¾ç½® $(\"div\").width(); // innerWidth innerHeight åŒ…å«padding $(\"div\").outerWidth(); // outerWidth outerHeight åŒ…å«paddingã€border,åŠ ä¸Šå‚æ•°trueå°±åŒ…å«margin $(\"div\").outerWidth(); ä½ç½® // ç»å¯¹å®šä½çš„åç§» $(\"div\").offset() // è®¾ç½® $(\"div\").offset({ top:0, left:0 }) // è·å–ç›¸å¯¹äºçˆ¶çº§å®šä½ç›’å­çš„åç§»,åªèƒ½è·å–ä¸èƒ½è®¾ç½® $(\"div\").position() // è®¾ç½®æˆ–è€…è·å–è¢«å·å»çš„å¤´éƒ¨ $(\"div\").scrollTop() // è®¾ç½®æˆ–è€…è·å–è¢«å·å»çš„å·¦éƒ¨ $(\"div\").scrollLeft() MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-25 05:52:00 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/nav.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/nav.html","title":"Vue","keywords":"","body":"VUE ä¸¤ç§è§†å›¾æ¨¡å¼ MVP ä¸MVCä¸åŒçš„æ˜¯ï¼ŒMVPä¸­çš„Mä¸Væ²¡æœ‰ç›´æ¥äº¤äº’ MVVM vueå®ä¾‹ æ¯ä¸ª Vue åº”ç”¨éƒ½æ˜¯é€šè¿‡ç”¨ Vue å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ Vue å®ä¾‹å¼€å§‹çš„ var vm = new Vue({ // é€‰é¡¹ }) æ ¹å®ä¾‹ â””â”€ TodoList â”œâ”€ TodoItem â”‚ â”œâ”€ DeleteTodoButton â”‚ â””â”€ EditTodoButton â””â”€ TodoListFooter â”œâ”€ ClearTodosButton â””â”€ TodoListStatistics å®ä¾‹ç”Ÿå‘½å‘¨æœŸ vue-cli Vueè„šæ‰‹æ¶å¯ä»¥å¿«é€Ÿç”ŸæˆVueé¡¹ç›®åŸºç¡€çš„æ¶æ„ å®‰è£… npm install -g @vue/cli åˆ›å»ºé¡¹ç›® vue create project-name å·¥ç¨‹ç»“æ„ é…ç½® // vue.config.js module.exports = { devServer:{ port:9001 } } é›†æˆvue å•é¡µé¢ã€å¤šé¡µé¢ vue.js å¤æ‚å•é¡µé¢ vue-cli MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-22 08:15:09 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/æ•°æ®æ¸²æŸ“.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/æ•°æ®æ¸²æŸ“.html","title":"æ•°æ®æ¸²æŸ“","keywords":"","body":"æ•°æ®æ¸²æŸ“ æ’å€¼è¡¨è¾¾å¼ {{ number + 1 }} {{ ok ? 'YES' : 'NO' }} ... ... è¡¨å•ç»‘å®š è¯·é€‰æ‹©èŒä¸š... æ•™å¸ˆ è½¯ä»¶å·¥ç¨‹å¸ˆ å¾‹å¸ˆ ä¿®é¥°ç¬¦ åˆ—è¡¨æ¸²æŸ“ æ¸²æŸ“list {{value}} and {{index}} æ¸²æŸ“å¯¹è±¡ {{key}} : {{ value }} æ¡ä»¶æ¸²æŸ“ v-if --> content v-else 0.5\"> Now you see me Now you don't v-else-if A B C Not A/B/C v-show --> content æ ·å¼ç»‘å®š ç»‘å®šclass home home æ•°ç»„è¯­æ³• data: { activeClass: 'active', errorClass: 'text-danger' } æ¸²æŸ“ä¸º ç»‘å®šstyle æ‹¼æ¥å­—ç¬¦ä¸² data: { activeColor: 'red', fontSize: 30 } æ ·å¼å¯¹è±¡ data: { styleObject: { color: 'red', fontSize: '13px' } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-19 01:38:36 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/å±æ€§æ“ä½œ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/å±æ€§æ“ä½œ.html","title":"å±æ€§æ“ä½œ","keywords":"","body":"å±æ€§ è®¡ç®—å±æ€§ new Vue({ el:\"#app\", data:{ msg:\"123\", birthday:158536 } , computed:{ birth(){ return new Date(this.birthday); } } }); ä¸æ–¹æ³•çš„åŒºåˆ« ä¸åŒçš„æ˜¯è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ã€‚åªåœ¨ç›¸å…³å“åº”å¼ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶å®ƒä»¬æ‰ä¼šé‡æ–°æ±‚å€¼ getterä¸setter // ... computed: { fullName: { // getter get: function () { return this.firstName + ' ' + this.lastName }, // setter set: function (newValue) { var names = newValue.split(' ') this.firstName = names[0] this.lastName = names[names.length - 1] } } } // ... ä¾¦å¬å±æ€§ var vm = new Vue({ el: '#demo', data: { firstName: 'Foo', lastName: 'Bar', fullName: 'Foo Bar' }, watch: { // å½“firstNameå±æ€§å‘ç”Ÿæ”¹å˜ï¼Œè¯¥æ–¹æ³•ä¼šè¢«è°ƒç”¨ firstName: function (val) { this.fullName = val + ' ' + this.lastName }, lastName: function (val) { this.fullName = this.firstName + ' ' + val } } }) è¿‡æ»¤å™¨ å®šä¹‰è¿‡æ»¤å™¨ // å…¨å±€è¿‡æ»¤å™¨ Vue.filter('upper',function(v){ return v.toUpperCase(); }); ä½¿ç”¨ {{msg | upper}} ä¼ é€’å‚æ•° {{msg | f('a')}} Vue.filter('f',function(v,a){ return v + a; }); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-19 03:13:55 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/ç³»ç»ŸæŒ‡ä»¤.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/ç³»ç»ŸæŒ‡ä»¤.html","title":"ç³»ç»ŸæŒ‡ä»¤","keywords":"","body":"æŒ‡ä»¤ v-onäº‹ä»¶ç»‘å®š v-on:click vueçš„onclick new Vue({ el:\"#app\", data:{ message:\"hello world\"//model }, methods:{ fun:function(msg){ //alert(msg); this.message = msg; } } }); v-on:keydown v-on:mouseover è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶åŸŸ @mouseover == v-on:mouseover äº‹ä»¶ä¿®é¥°ç¬¦ ... ... æŒ‰é”®ä¿®é¥°ç¬¦ .enter .tab .delete ( \"åˆ é™¤\" å’Œ \"é€€æ ¼\" ) .esc .space .up .down .left .right .ctrl .alt .shift .meta è‡ªå®šä¹‰æŒ‡ä»¤ // å®šä¹‰ä¸€ä¸ªå…¨å±€æŒ‡ä»¤ Vue.directive('focus',{ inserted:function(el){ el.focus(); } }) // æºå¸¦å‚æ•° Vue.directive('color',{ inserted:function(el,bingding){ // è¿™é‡Œçš„valueæ˜¯dataé‡Œé¢çš„ï¼Œè€Œä¸æ˜¯åŒå¼•å·é‡Œé¢çš„ el.style.backgroundColor = bingding.value; } }) å±€éƒ¨æŒ‡ä»¤ var vm = new Vue({ el: '#app', //å±€éƒ¨æŒ‡ä»¤ï¼Œéœ€è¦å®šä¹‰åœ¨ directives çš„é€‰é¡¹ directives: { focus: { inserted: function(el) { el.focus(); } } } }); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-19 03:13:55 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/ç»„ä»¶.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/ç»„ä»¶.html","title":"ç»„ä»¶","keywords":"","body":"ç»„ä»¶ ç»„ä»¶åŒ– åˆ©ç”¨ç»„ä»¶åŒ–å¼€å‘ï¼Œæ‹†åˆ†åŠŸèƒ½ï¼Œå°è£…ç»„ä»¶ï¼Œå•ç‹¬ç»´æŠ¤ ç»„ä»¶æ³¨å†Œ // å®šä¹‰ä¸€ä¸ªåä¸º button-counter çš„å…¨å±€ç»„ä»¶ Vue.component('button-counter', { data: function () { // dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœdataæ˜¯ä¸€ä¸ªå¯¹è±¡çš„è¯ï¼Œé‚£ä¹ˆæ‰€æœ‰button-counteréƒ½ä¼šå…±äº«åŒä¸€ä»½æ•°æ® return { count: 0 } }, template: 'You clicked me {{ count }} times.' }); new Vue({ el: '#app' }); å±€éƒ¨æ³¨å†Œ new Vue({ el: '#app' , components:{ 'compomenta':{ template:` componenta ` } } }); ç»„ä»¶é€šä¿¡ çˆ¶å­ç»„ä»¶é€šä¿¡ const introduce = { template:'{{msg}}', methods: { fun() { // è§¦å‘ä¸Šä¸€å±‚äº‹ä»¶,ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶åç§°,ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¼ é€’ç»™çˆ¶ç»„ä»¶çš„å‚æ•° this.$emit('delete',\"delete it\"); } }, props:['msg'] // å­ç»„ä»¶éœ€è¦å£°æ˜è¦æ¥æ”¶çš„å‚æ•° } new Vue({ el: '#app', data:{ msg:'å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ¸£æ¸£è¾‰' }, methods: { handleDelete(args) { console.log(args); } }, components:{ introduce } }); å…„å¼Ÿç»„ä»¶é€šä¿¡ ä½¿ç”¨ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒï¼Œè¿™ä¸ªäº‹ä»¶ä¸­å¿ƒå¯ä»¥ç›‘å¬äº‹ä»¶ã€è§¦å‘äº‹ä»¶ var hub = new Vue(); // æ³¨å†Œäº‹ä»¶ hub.$on('event', (val) => { this.num += val; }); // è§¦å‘äº‹ä»¶ hub.$emit('event', 2); // é”€æ¯äº‹ä»¶ hub.$off('event'); ç»„ä»¶å‚æ•°æ ¡éªŒ //... props: { // è¦æ±‚ä¼ é€’è¿‡æ¥çš„msgå¿…é¡»æ˜¯Stringç±»å‹ msg: String, id: [Number,String], // å¯ä»¥æ˜¯æ•°å­—æˆ–è€…å­—ç¬¦ä¸²ç±»å‹ content: { type: String, required: false, // éå¿…ä¼  defaultValue: 'cxk', // requiredå¿…é¡»ä¸ºfalseè¿™ä¸ªå€¼æ‰ä¼šç”Ÿæ•ˆ validator: function(val) { // è‡ªå®šä¹‰æ ¡éªŒå™¨ retrun val.length === 3; } } } épropsç‰¹æ€§ çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å‚æ•°ï¼Œä½†æ˜¯å­ç»„ä»¶æ²¡åœ¨propså£°æ˜æ¥æ”¶ï¼Œæ‰€ä»¥å­ç»„ä»¶å°±æ— æ³•ä½¿ç”¨ épropsç‰¹æ€§çš„å±æ€§å£°æ˜ä¼šåœ¨domä¸­æ˜¾ç¤º æ’æ§½ header footer no name 'child':{ template: ` default value ` } åŠ¨æ€ç»„ä»¶ æ·»åŠ v-onceæ¥æé«˜æ€§èƒ½ ç»„ä»¶äº‹ä»¶ å½“å®šä¹‰å­ç»„ä»¶æ—¶ï¼Œé»˜è®¤çš„åŸç”Ÿäº‹ä»¶ç›‘å¬@xxxä¸ä¼šç”Ÿæ•ˆï¼Œå¯ä»¥åŠ ä¸Š.nativeä¿®é¥°ç¬¦ ç»„ä»¶ä½¿ç”¨ä¸­çš„ç»†èŠ‚ ä½¿ç”¨is='componentName'æ¥è§£å†³htmlç»“æ„é—®é¢˜ å­ç»„ä»¶çš„dataåº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœæ˜¯å¯¹è±¡çš„è¯ï¼Œåˆ™æ‰€æœ‰çš„å­ç»„ä»¶çš„dataéƒ½æ˜¯å…±äº«çš„ å¯ä»¥é€šè¿‡refæ¥è·å–åˆ°å­ç»„ä»¶çš„å¼•ç”¨ ç»„ä»¶åŒ–å¸¦æ¥çš„é—®é¢˜ ç»„ä»¶çŠ¶æ€ç®¡ç†(vuex) å¤šç»„ä»¶æ··åˆä½¿ç”¨(vue-router) ç»„ä»¶é—´çš„åˆä½œ(props,emit/on,bus) vue-router å¼•å…¥vueç»„ä»¶ import Info from '../views/Info.vue'; åœ¨routerä¸­æ·»åŠ  const routes = [ //... { path: '/info', name: 'info', component: Info, }, ]; å•æ–‡ä»¶ç»„ä»¶ // jsä»£ç åŒºåŸŸ export default { ... } /* æ ·å¼ä»£ç åŒºåŸŸ */ å®‰è£… npm install vue-loader vue-template-compiler vue -D é…ç½® const VueLoaderPlugin = require(\"vue-loader/lib/plugin\"); const vuePlugin = new VueLoaderPlugin(); module.exports = { .... plugins:[ ... new vueLoader() ], module : { rules:[ ... { test:/\\.vue$/, loader:\"vue-loader\" } ] } } ä½¿ç”¨ import Vue from 'vue'; import App from './App.vue'; const vm = new Vue({ el:'#app', render:h=>h(App) }) MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-31 09:02:52 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/åŠ¨ç”».html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/åŠ¨ç”».html","title":"åŠ¨ç”»","keywords":"","body":"åŠ¨ç”» CSSåŠ¨ç”»è¿‡æ¸¡ hello .fade-enter { opacity: 0; } .fade-enter-active { transition: opacity 3s; } .fade-leave-to { opacity: 0; } .fade-leave-active { transition: opacity 3s; } ä½¿ç”¨animate.css main.jså¼•å…¥ import animated from 'animate.css' // npm install animate.css --saveå®‰è£…ï¼Œåœ¨å¼•å…¥ Vue.use(animated) transitionä½¿ç”¨ hello åŠ¨ç”»é’©å­ å½“åªç”¨ JavaScript è¿‡æ¸¡çš„æ—¶å€™ï¼Œåœ¨ enter å’Œ leave ä¸­å¿…é¡»ä½¿ç”¨ done è¿›è¡Œå›è°ƒã€‚å¦åˆ™ï¼Œå®ƒä»¬å°†è¢«åŒæ­¥è°ƒç”¨ï¼Œè¿‡æ¸¡ä¼šç«‹å³å®Œæˆ å¤šä¸ªç»„ä»¶è¿‡æ¸¡ ä½¿ç”¨åŠ¨æ€ç»„ä»¶ åˆ—è¡¨è¿‡æ¸¡ {{ item }} å°è£…åŠ¨ç”» Vue.component('my-special-transition', { template: '\\ \\ \\ \\ ', methods: { beforeEnter: function (el) { // ... }, afterEnter: function (el) { // ... } } }) MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/å‰ç«¯è·¯ç”±.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/å‰ç«¯è·¯ç”±.html","title":"å‰ç«¯è·¯ç”±","keywords":"","body":"å‰ç«¯è·¯ç”± æ ¹æ®ä¸åŒçš„äº‹ä»¶æ¥æ˜¾ç¤ºä¸åŒçš„é¡µé¢å†…å®¹ï¼Œå³äº‹ä»¶ä¸äº‹ä»¶å¤„ç†å‡½æ•°ä¹‹é—´çš„å¯¹åº”å…³ç³» å‰ç«¯è·¯ç”±æ˜¯åŸºäºhashå€¼çš„å˜åŒ–è¿›è¡Œå®ç°çš„ vue router ç®€å•ä½¿ç”¨ user register // ä¸¤ä¸ªç»„ä»¶ let user = { template: 'user' }; let register = { template: 'register' }; // å®šä¹‰è·¯ç”±ç»„ä»¶æ˜ å°„è§„åˆ™ let router = new VueRouter({ routes: [ { path: '/user', component: user }, { path: '/register', component: register } ] }) let vm = new Vue({ el: '#app', // å°†è·¯ç”±æŒ‚è½½åˆ°vueå®ä¾‹ router }) è·¯ç”±é‡å®šå‘ { path:\"/\",redirect:\"/user\"} åµŒå¥—è·¯ç”± let User = { template: ` user user add user delete ` }; let UserAdd = { template: `this is user add page` }; let UserDelete = { template: `this is user delete page` }; { path: '/user', component: User, children: [ { path: '/user/add', component: UserAdd }, { path: '/user/delete', component: UserDelete }, ] } åŠ¨æ€è·¯ç”± register1 register2 { path: '/register/:id', component: register } è·å–è·¯å¾„ä¼ é€’çš„å‚æ•° register id:{{$route.params.id}} ä½¿ç”¨propsè·å–è·¯å¾„å‚æ•° let register = { props:['id'], template: 'register id:{{id}}' }; // å¦‚æœpropsè®¾ç½®ä¸ºtrueï¼Œroute.paramså°†ä¼šè¢«è®¾ç½®ä¸ºç»„ä»¶å±æ€§ { path: '/register/:id', component: register,props:true } // å¯ä»¥å°†propsè®¾ç½®ä¸ºå¯¹è±¡ï¼Œé‚£ä¹ˆå°±ç›´æ¥å°†å¯¹è±¡çš„æ•°æ®ä¼ é€’ç»™ç»„ä»¶è¿›è¡Œä½¿ç”¨ { path: '/register/:id', component: register,props:{name:'cxk',age:18} } // propsè®¾ç½®ä¸ºå‡½æ•°å½¢å¼,è¯¥å‡½æ•°èƒ½è®¿é—®router.params { path: \"/user/:id\", component: User,props:(route)=>{ return {username:\"jack\",pwd:123,id:route.params.id} } å‘½åè·¯ç”± user { name:'user', path: '/user', ... } ç¼–ç¨‹å¼å¯¼èˆª å£°æ˜å¼å¯¼èˆªï¼šé€šè¿‡ç‚¹å‡»é“¾æ¥çš„æ–¹å¼å®ç°çš„å¯¼èˆª ç¼–ç¨‹å¼å¯¼èˆªï¼šä½¿ç”¨jsæ§åˆ¶å¯¼èˆªè·³è½¬ this.$router.push('/register/1'); this.$router.go(-1); // åé€€ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-21 10:50:23 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/Vuex.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/Vue/Vuex.html","title":"Vuex","keywords":"","body":"Vuex Vuexæ˜¯å®ç°ç»„ä»¶å…¨å±€çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®ç°ç»„ä»¶ä¹‹é—´çš„æ•°æ®å…±äº« ä½¿ç”¨vuexæ¥ç®¡ç†å…¨å±€çŠ¶æ€ è®¿é—®å…±äº«æ•°æ® this.$store.state.count import { mapState } from 'vuex' export default { data () { return {} }, computed: { ...mapState(['count']) } } æ›´æ–°å…±äº«æ•°æ® å‘storeè§¦å‘ä¸€ä¸ªäº‹ä»¶ import store from '@/store'; export default { name: 'info', store, methods: { add() { console.log('add'); store.commit('add'); }, }, }; vuexæ›´æ–°çŠ¶æ€ //... export default new Vuex.Store({ state: { count: 0 }, mutations: { add() { this.state.count++; }, } // ... }); ä¼ é€’å‚æ•° this.$store.commit('add', 1) mutations: { add (state, step) { state.count += step } } import { mapMutations } from 'vuex' export default { ... methods: { ...mapMutations(['sub']), handleClick () { this.sub() } } } ä½¿ç”¨actionå¼‚æ­¥æ›´æ–°æ•°æ® actions: { addAsync (context) { setTimeout(() => { // actionä¸èƒ½ç›´æ¥ä¿®æ”¹å…±äº«æ•°æ® context.commit('add', 1) }, 1000) } } // è§¦å‘action this.$store.dispatch('addAsync') // actionåŒMutationä¸€æ ·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡mapå¼•å…¥vueå®ä¾‹ aboutç»„ä»¶é€šè¿‡vuexæ¥è·å–çŠ¶æ€ import store from '@/store'; export default { name: 'about', store, data() { return { count: store.state.count }; }, }; getter getters: { showNum (state) { return 'current val:' + state.count } } {{$store.getters.showNum}} MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-31 09:02:52 "},"ç¼–ç¨‹è¯­è¨€/JavaScript/ReactJS.html":{"url":"ç¼–ç¨‹è¯­è¨€/JavaScript/ReactJS.html","title":"ReactJS","keywords":"","body":"å‰ç«¯å¼€å‘çš„æ¼”å˜ é™æ€é¡µé¢-AJAX-å‰ç«¯MVC-SPA ReactJS ReactJSæŠŠå¤æ‚çš„é¡µé¢ï¼Œæ‹†åˆ†æˆä¸€ä¸ªä¸ªçš„ç»„ä»¶ï¼Œå°†è¿™äº›ç»„ä»¶ä¸€ä¸ªä¸ªçš„æ‹¼è£…èµ·æ¥ï¼Œå°±ä¼šå‘ˆç°å¤šæ ·çš„é¡µé¢ã€‚ReactJSå¯ä»¥ç”¨äº MVC æ¶æ„ï¼Œä¹Ÿå¯ä»¥ç”¨äº MVVM æ¶æ„ï¼Œæˆ–è€…åˆ«çš„æ¶æ„ JSXè¯­æ³• JSXè¯­æ³•å°±æ˜¯ï¼Œå¯ä»¥åœ¨jsæ–‡ä»¶ä¸­æ’å…¥htmlç‰‡æ®µï¼Œæ˜¯Reactè‡ªåˆ›çš„ä¸€ç§è¯­æ³• åœ¨JSXè¯­æ³•ä¸­ï¼Œåªèƒ½æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ï¼Œä¸èƒ½æœ‰å¤šä¸ª const div1 = right; const div2 = errorerror; å‡½æ•°è°ƒç”¨ {f()} // fæ˜¯å‡½æ•°å ç»„ä»¶ ç»„ä»¶å®šä¹‰ import React from 'react'; class HelloWorld extends React.Component{ render() { // é‡å†™æ¸²æŸ“æ–¹æ³• return cxkï¼šjntm } } export default HelloWorld; // å¯¼å‡ºè¯¥ç±» ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ import React from 'react'; import HelloWorld from \"./HelloWorld\"; class Show extends React.Component{ render() { return } } export default Show; ç»„ä»¶å‚æ•°ä¼ é€’ // å±æ€§ä¼ é€’ æ ‡ç­¾åŒ…è£¹ä¼ é€’ è”¡å¾å¤ // æ¥æ”¶ {this.props.name}ï¼š{this.props.children} ç»„ä»¶çŠ¶æ€ æ¯ä¸€ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªçŠ¶æ€ï¼Œå…¶ä¿å­˜åœ¨this.stateä¸­ï¼Œå½“çŠ¶æ€å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReactæ¡†æ¶ä¼šè‡ªåŠ¨è°ƒç”¨render()æ–¹æ³•ï¼Œé‡æ–°æ¸²æŸ“é¡µé¢ this.stateå€¼çš„è®¾ç½®è¦åœ¨æ„é€ å‚æ•°ä¸­å®Œæˆ è¦ä¿®æ”¹this.stateçš„å€¼ï¼Œéœ€è¦è°ƒç”¨this.setState()å®Œæˆï¼Œä¸èƒ½ç›´æ¥å¯¹å…¶è¿›è¡Œä¿®æ”¹ class HelloWorld extends React.Component{ constructor(props, context) { super(props, context); this.state = { dataList : [1,2,3] }; } render() { // é‡å†™æ¸²æŸ“æ–¹æ³• return { this.state.dataList.map((value,index)=>{ return {value} }) } { let list = this.state.dataList; list.push(Math.random()); this.setState({dataList:list}) }}>click } } ç”Ÿå‘½å‘¨æœŸ æ·»åŠ é’©å­æ–¹æ³• class HelloWorld extends React.Component{ // ç»„ä»¶æŒ‚è½½åè°ƒç”¨ componentDidMount() { console.log(\"ç»„ä»¶æŒ‚è½½å...\"); } // çœç•¥å…¶ä»– } å‰ç«¯ä»£ç åˆ†å±‚ Page è´Ÿè´£ä¸ç”¨æˆ·ç›´æ¥æ‰“äº¤é“ï¼šæ¸²æŸ“é¡µé¢ã€æ¥å—ç”¨æˆ·çš„æ“ä½œè¾“å…¥ï¼Œä¾§é‡äºå±•ç¤ºå‹äº¤äº’ æ€§é€»è¾‘ Model è´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œä¸º Page åšæ•°æ®ã€çŠ¶æ€çš„è¯»å†™ã€å˜æ¢ã€æš‚å­˜ç­‰ Service è´Ÿè´£ä¸ HTTP æ¥å£å¯¹æ¥ï¼Œè¿›è¡Œçº¯ç²¹çš„æ•°æ®è¯»å†™ ä½¿ç”¨DVAè¿›è¡Œæ•°æ®åˆ†å±‚ç®¡ç† æ·»åŠ models export default { namespace : 'list', state:{ data:[1,2,3] } } ä½¿ç”¨æ•°æ® import React from 'react' import {connect} from 'dva' const namespace = 'list' const map = (state)=>{ const list = state[namespace].data; return { list } }; @connect(map) class List extends React.Component{ render() { return { this.props.list.map((v,i)=>{ return {v} }) } } } export default List; ä¿®æ”¹æ•°æ® export default { namespace: 'list', state: { data: [1, 2, 3] } , reducers: { addNewData(state){ let list = [...state.data,Math.random()]; console.log(list); return { data:list } } } } // çœç•¥å¯¼å…¥ // çœç•¥map1 const map1 = (dispatch)=>{ return { addNewData:()=>{ dispatch( { type:namespace+\"/addNewData\" } ) } } } @connect(map,map1) class List extends React.Component{ render() { return { this.props.list.map((v,i)=>{ return {v} }) } { this.props.addNewData() }}> ç‚¹å‡» } } export default List; MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"ç¼–ç¨‹è¯­è¨€/python.html":{"url":"ç¼–ç¨‹è¯­è¨€/python.html","title":"python","keywords":"","body":"Python æ•°æ®ç±»å‹ æ•´æ•°å‹ æµ®ç‚¹å‹ å­—ç¬¦ä¸² å¸ƒå°”å‹ None æ•°æ®ç»“æ„ åˆ—è¡¨ # åˆ—è¡¨ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ list = [1,'2',3.0] # é€šè¿‡ä¸‹æ ‡æ¥è·å–/ä¿®æ”¹å…ƒç´  list[0]='a' print(list[0]) # é€šè¿‡lenå‡½æ•°æ¥è·å–åˆ—è¡¨é•¿åº¦ print(len(list)) # é€šè¿‡listçš„appendå‡½æ•°æ¥æ·»åŠ å…ƒç´  list.append('xx') # æŸ¥çœ‹å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ä¸‹æ ‡ print(list.index(3.0)) # æŸ¥çœ‹å…ƒç´ æ˜¯å¦åœ¨åˆ—è¡¨ä¸­ print('2' in list) # ç»Ÿè®¡åˆ—è¡¨ä¸­æŸå…ƒç´ çš„æ•°é‡ print(list.count(1)) # å‘æŸä½ç½®æ’å…¥å…ƒç´ ,å¦‚æœæä¾›çš„ä¸‹æ ‡è¶…å‡ºåˆ—è¡¨çš„å¤§å°ï¼Œä¼šæ’åœ¨æœ€å list.insert(0,'x') # æ·»åŠ ä¸€ä¸ªåˆ—è¡¨ list.extend([5,5,5]) # æ ¹æ®ä¸‹æ ‡åˆ é™¤å…ƒç´ å¹¶è¿”å› x = list.pop(0) # ç›´æ¥åˆ é™¤æŒ‡å®šä¸‹æ ‡ä½ç½®çš„å…ƒç´  del list[0] # åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´  x = list.pop() # ç›´æ¥åˆ é™¤å…ƒç´  list.remove('2') # åè½¬åˆ—è¡¨ list.reverse() # æ’åº list.sort() # æ¸…ç©ºåˆ—è¡¨ list.clear() å…ƒç»„ å…ƒç»„åˆ›å»ºå®Œæˆåï¼Œä¾¿ä¸èƒ½å‘å…¶ä¸­æ·»åŠ å…ƒç´ ï¼Œä¹Ÿä¸èƒ½ä¿®æ”¹å’Œåˆ é™¤å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªå…ƒç´  # ç©ºå…ƒç¥– items = () # ä¸€ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œéœ€è¦åœ¨æœ€ååŠ ä¸€ä¸ª(,)ï¼Œå¦‚æœæ‹¬å·ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆ Python ä¼šå°†è¿™ä¸ªæ‹¬å·å½“ä½œä¼˜å…ˆçº§ç¬¦å·è¿›è¡Œå¤„ç† items=(1,) # å¤šä¸ªå…ƒç´ çš„å…ƒç»„ items=(1,2,3) # è·å–å…ƒç´  print(items[2]) # è·å–ä¸‹æ ‡ print(items.index(2)) # æ˜¯å¦å­˜åœ¨ print(2 in items) # ç»Ÿè®¡å…ƒç´ ä¸ªæ•° print(items.count(1)) å­—ç¬¦ä¸² å­—ç¬¦ä¸²æ˜¯å­—ç¬¦çš„æœ‰åºåºåˆ—ï¼Œæ‰€ä»¥ä¹Ÿå…·æœ‰ç´¢å¼•ã€‚ä¹Ÿå¯ä»¥æ ¹æ®ç´¢å¼•å–å‡ºå…¶ä¸­æŸä¸€ä¸ªå­—ç¬¦ print('cxk'[2]) # å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡ä¸‹æ ‡ä¿®æ”¹ # 'cxk'[2]='b' # åŒæ ·å¯ä»¥ç”¨lenè·å–é•¿åº¦ print(len('cxk')) str = 'java language' # æŸ¥æ‰¾å­ä¸² print(str.find('ang')) # åˆ¤æ–­å­ä¸² print('ava' in str) # ç»Ÿè®¡å­ä¸²æ•° print(str.count('a')) # æ˜¯å¦ä»¥æŸå­ä¸²å¼€å¤´ print(str.startswith('ja')) # æ˜¯å¦ä»¥æŸå­ä¸²ç»“å°¾ print(str.endswith('ge')) # å­—ç¬¦ä¸²æ›¿æ¢ print(str.replace('java','python')) # å»é™¤å­—ç¬¦ä¸²å‰åç©ºç™½å­—ç¬¦ print(str.strip()) # åˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›list print(str.split(' ')) # æ‹¼æ¥å­—ç¬¦ä¸² print(str.join(['so','good'])) # è½¬æˆå¤§å†™å½¢å¼ print(str.upper()) # è½¬æˆå°å†™å½¢å¼ print(str.lower()) å­—ç¬¦è½¬ä¹‰ å¸¸ç”¨çš„è½¬ä¹‰å­—ç¬¦ å«ä¹‰ \\' å•å¼•å· \\\" åŒå¼•å· \\\\ åæ–œæ  \\n æ¢è¡Œç¬¦ \\t åˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰ \\r å›è½¦ åŸå§‹å­—ç¬¦ä¸² # åŸå§‹å­—ç¬¦ä¸²ï¼Œæœ‰å•¥å°±æ˜¯å•¥ print(r'java \\t no.1') å¤šè¡Œå­—ç¬¦ä¸² # å¤šè¡Œå­—ç¬¦ä¸²ï¼Œè¾“å‡ºçš„å­—ç¬¦ä¸²ä¸æ¢è¡Œ print('java no.1\\ yes!\\ ') # è¾“å‡ºçš„å­—ç¬¦ä¸²æ¢è¡Œ print(\"\"\" java no.1 \"\"\") åˆ—è¡¨ã€å…ƒç»„ã€å­—ç¬¦ä¸²çš„é€šç”¨æ“ä½œ # é•¿åº¦ print(len(str)) # è·å–å­åºåˆ— print(str[1:10]) # æ‹¼æ¥å­åºåˆ— print(str + '?') # é‡å¤åºåˆ—ä¸­çš„å…ƒç´  print(str*3) å­—å…¸ ä¹Ÿå°±æ˜¯map,æ˜¾è‘—ä¼˜åŠ¿æ˜¯å¯ä»¥é€šè¿‡é”®å¿«é€Ÿåœ°æŸ¥è¯¢æ•°æ® # åˆ›å»ºç©ºå­—å…¸ map = {} # åˆ›å»ºæœ‰å†…å®¹çš„å­—å…¸ map = {'key1': 1, 'key2': 2} # å¢åŠ é”®å€¼å¯¹/ä¿®æ”¹é”®æ‰€å¯¹åº”çš„å€¼ map['key3'] = 3 # é€šè¿‡é”®è·å–å€¼,è‹¥é”®ä¸å­˜åœ¨åˆ™å°†æŠ›å‡º KeyError å¼‚å¸¸ print(map['key2']) # é€šè¿‡æ–¹æ³•æ¥è·å–ï¼Œä¸å­˜åœ¨è¿”å›None print(map.get('key1')) # ä¸å­˜åœ¨è¿”å›é»˜è®¤å€¼0 print(map.get('keyx', 0)) # æ˜¯å¦åŒ…å«æŸä¸ªé”® print('x' in map) # è·å–æ‰€æœ‰é”®ï¼Œè¿”å›è¿­ä»£å™¨ print(map.keys()) # è·å–æ‰€æœ‰å€¼ï¼Œè¿”å›è¿­ä»£å™¨ print(map.values()) # è·å–é”®å€¼å¯¹è¿­ä»£å™¨ï¼Œæ¯ä¸€å¯¹éƒ½æ˜¯å…ƒç»„ print(map.items()) # æ ¹æ®é”®åˆ é™¤,è¿”å›å€¼ï¼Œå¦‚æœé”®ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ›å‡º KeyError å¼‚å¸¸ map.pop('key1') # é”®ä¸å­˜åœ¨è¿”å›é»˜è®¤å€¼ï¼Œä¸ä¼šæŠ›å¼‚å¸¸ map.pop('key1', 'x') # é”®ä¸å­˜åœ¨ä¼šæŠ›å¼‚å¸¸ del map['key2'] # éšæœºå¼¹å‡ºä¸€ä¸ªé”®å€¼å¯¹ print(map.popitem()) # ç”¨å­—å…¸æ›´æ–°å­—å…¸ map = {'key1': 'x'} map.update({'key1': 1}) é›†åˆ å…¶ä¸­çš„å…ƒç´ æ²¡æœ‰é¡ºåºå…³ç³»ã€‚é›†åˆä¸­çš„å…ƒç´ æ²¡æœ‰é‡å¤ï¼Œé‡å¤çš„å…ƒç´ å°†è¢«è‡ªåŠ¨å‰”é™¤æœ€ç»ˆåªç•™ä¸‹ä¸€ä¸ªï¼Œé›†åˆä¹Ÿæ˜¯ç”¨èŠ±æ‹¬å·ï¼ˆ{}ï¼‰æ¥è¡¨ç¤ºï¼Œä¸åŒäºå­—å…¸çš„æ˜¯ï¼ŒèŠ±æ‹¬å·ä¸­æ”¾çš„æ˜¯ä¸€ä¸ªä¸ªæ•°æ®ï¼Œè€Œä¸æ˜¯é”®å€¼å¯¹ # åˆ›å»ºç©ºé›†åˆ s = set() # åˆ›å»ºé›†åˆ s = {1, 2, 3, 4, 5} # æ·»åŠ å…ƒç´  s.add(0) # å¹¶é›† s.update({7, 8, 9}) # æŸ¥çœ‹å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ print(0 in s) # å¼¹å‡ºä¸€ä¸ªå…ƒç´  print(s.pop()) # åˆ é™¤æŒ‡å®šå…ƒç´ ,å¦‚æœè¦åˆ é™¤çš„å…ƒç´ ä¸å­˜åœ¨ï¼Œåˆ™æŠ›å‡º KeyError å¼‚å¸¸ s.remove(1) # åˆ é™¤ï¼Œä½†ä¸æŠ›å‡ºå¼‚å¸¸ s.discard(1) # æ±‚äº¤é›† print({1, 2, 3}.intersection({3, 4, 5})) print({1, 2, 3} & {3, 4, 5}) # æ±‚å¹¶é›† print({1, 2, 3}.union({3, 4, 5})) print({1, 2, 3} | {3, 4, 5}) # æ±‚å·®é›† print({1, 2, 3}.difference({3, 4, 5})) print({1, 2, 3} - {3, 4, 5}) # æ˜¯å¦ä¸ºå­é›† print({1, 2}.issubset({1, 2, 3})) # æ˜¯å¦ä¸ºè¶…é›† print({1, 2, 3}.issuperset({1, 2})) # æ¸…ç©ºé›†åˆ s.clear() æ•°å€¼è¿ç®— # åŠ æ³• print(33+725) # å‡æ³• print(33-11) # ä¹˜æ³• print(33*25) # é™¤æ³• print(33/22) # å–ä½™ print(33 % 11) # æ¬¡æ–¹ print(33**2) # æ•´é™¤ print(33//22) æ¯”è¾ƒè¿ç®— print(2>3) print(2==3) print(2 å˜é‡ä¸èµ‹å€¼ a=5 å‡½æ•° æŠ½è±¡ ä»£ç å¤ç”¨ å‡½æ•°å®šä¹‰ def sum(a,b): return a+b å‰¯ä½œç”¨ å‡½æ•°åŒ…å«ä¸€äº›ä¼šå¼•èµ·ç¨‹åºæˆ–ç³»ç»ŸçŠ¶æ€å˜åŒ–çš„æ“ä½œï¼Œå¦‚ä¿®æ”¹å…¨å±€å˜é‡ã€å‘½ä»¤è¡Œè¾“å…¥è¾“å‡ºã€è¯»å†™æ–‡ä»¶ç­‰ï¼Œè¿™æ ·çš„å˜åŒ–å«åšå‡½æ•°çš„å‰¯ä½œç”¨ å‡ ä¸ªå†…ç½®å‡½æ•° # è·å–ç»ˆç«¯çš„ä¸€ä¸ªè¾“å…¥ str = input('input str') # å°†strè½¬ä¸ºintç±»å‹ a = int(str) # è¾“å‡º print(a) pythonå†…ç½®å‡½æ•° æ•°æ®ç±»å‹ç›¸å…³ å†…ç½®å‡½æ•° åŠŸèƒ½ ç¤ºä¾‹ ç¤ºä¾‹ç»“æœ dict() å°†å‚æ•°è½¬æ¢ä¸ºå­—å…¸ç±»å‹ dict(a=1, b=2, c=3) {'a': 1, 'b': 2, 'c': 3} float() å°†å­—ç¬¦ä¸²æˆ–æ•°å­—è½¬æ¢ä¸ºæµ®ç‚¹å‹ float('0.22') 0.22 int() å°†å­—ç¬¦ä¸²æˆ–æ•°å­—è½¬æ¢ä¸ºæ•´æ•°å‹ int(1.23) 1 list() å°†å…ƒç»„ã€å­—ç¬¦ä¸²ç­‰å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºåˆ—è¡¨ list('abc') ['a', 'b', 'c'] tuple() å°†åˆ—è¡¨ã€å­—ç¬¦ä¸²ç­‰å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºå…ƒç»„ tuple([1, 2, 3]) (1, 2, 3) set() 1.åˆ›å»ºç©ºé›†åˆï¼›2.å°†å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºåˆ—è¡¨é›†åˆ set('abc') {'b', 'a', 'c'} str() å°†å‚æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸² str(3.14) '3.14' bytes() å°†å‚æ•°è½¬æ¢ä¸ºå­—èŠ‚åºåˆ— bytes(4) b'\\x00\\x00\\x00\\x00 æ•°å€¼è®¡ç®—ç›¸å…³ å†…ç½®å‡½æ•° åŠŸèƒ½ ç¤ºä¾‹ ç¤ºä¾‹ç»“æœ max() æ±‚æœ€å¤§å€¼ max([13, 2, 0.6, -51, 7]) 13 min() æ±‚æœ€å°å€¼ min([13, 2, 0.6, -51, 7]) -51 sum() æ±‚å’Œ sum([13, 2, 0.6, -51, 7]) -28.4 abs() æ±‚ç»å¯¹å€¼ abs(-51) 51 pow() æ±‚æ¬¡æ–¹ pow(2, 10) 1024 bin() è½¬æ¢ä¸ºäºŒè¿›åˆ¶ bin(77) '0b1001101' ï¼ˆæ³¨æ„ç»“æœä¸ºå­—ç¬¦ä¸²ï¼‰ hex() è½¬æ¢ä¸ºåå…­è¿›åˆ¶ hex(77) '0x4d' ï¼ˆæ³¨æ„ç»“æœä¸ºå­—ç¬¦ä¸²ï¼‰ round() æµ®ç‚¹æ•°å››èˆäº”å…¥ round(4.5678, 2) ï¼ˆç¬¬äºŒä¸ªå‚æ•°ä¸ºå°æ•°ç²¾åº¦ï¼‰ 4.57 bool å€¼åˆ¤æ–­ç›¸å…³ å†…ç½®å‡½æ•° åŠŸèƒ½ bool() åˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºçœŸï¼Œä¸ºçœŸåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ã€Œä¸ºçœŸã€æŒ‡çš„æ˜¯ï¼Œè¡¨è¾¾å¼çš„ç»“æœä¸ºå¸ƒå°”å€¼ Trueï¼Œæˆ–éé›¶æ•°å­—ï¼Œæˆ–éç©ºå­—ç¬¦ä¸²ï¼Œæˆ–éç©ºåˆ—è¡¨ all() å¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸­çš„æ‰€æœ‰å€¼ï¼Œåœ¨é€ä¸€åº”ç”¨ bool(å€¼) åç»“æœéƒ½ä¸º Trueï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False any() å¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸­çš„ä»»æ„ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼Œåœ¨åº”ç”¨ bool(å€¼) åç»“æœä¸º Trueï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False IO ç›¸å…³ å†…ç½®å‡½æ•° åŠŸèƒ½ input() ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–å­—ç¬¦ä¸² print() å°†å†…å®¹å†™å…¥æ ‡å‡†è¾“å‡ºä¸­ open() æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚ä¹‹åä¾¿å¯ä»¥å¯¹æ–‡ä»¶åšè¯»å†™æ“ä½œ å…ƒæ•°æ®ç›¸å…³ å†…ç½®å‡½æ•° åŠŸèƒ½ type() è·å–å¯¹è±¡çš„ç±»å‹ isinstance() åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»ï¼ˆæˆ–å…¶å­ç±»ï¼‰çš„å¯¹è±¡ dir() è·å–ç±»æˆ–å¯¹è±¡ä¸­çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ï¼›æ— å‚æ•°æ—¶è·å–å½“å‰ä½œç”¨åŸŸä¸‹çš„æ‰€æœ‰åå­— id() è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å”¯ä¸€æ ‡è¯†ã€‚åœ¨æˆ‘ä»¬æ‰€ä½¿ç”¨çš„ CPython ä¸­è¿™ä¸ªå”¯ä¸€æ ‡è¯†å®é™…ä¸ºè¯¥å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€ help # å¾—åˆ°æœ‰å…³intå‡½æ•°çš„ç›¸å…³ä¿¡æ¯ help(int) sorted # æ’åº print(sorted([3,5,7,1])) range # è·å–ä¸€ä¸ªæ•´æ•°åºåˆ— print(range(100)) å‡½æ•°è¿›é˜¶ å‚æ•°é»˜è®¤å€¼ # å¦‚æœçœç•¥aï¼Œåˆ™açš„é»˜è®¤å€¼ä¸º10 def f(a=10): print(a) å…³é”®å­—å‚æ•° def f(x,y): print(x) print(y) # è¿™é‡Œé€šè¿‡æŒ‡å®šå‚æ•°åï¼Œå¯ä»¥é¢ å€’å‚æ•°çš„é¡ºåº f(y=1,x=2) # ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œkwèƒ½æŠŠæ¥æ”¶åˆ°å‚æ•°ç»„åˆæˆä¸€ä¸ªmap def f(**kw): print(kw) f(x=1,y=2,z=3) ä»»æ„å‚æ•°åˆ—è¡¨ # ç±»ä¼¼äºjavaçš„å¯å˜å‚æ•° def f(*kw): print(kw) f(1,2,3) å¤šè¿”å›å€¼ def f(): x=1 y=2 return x,y a,b=f() é€»è¾‘å…³é”®å­— and or not åˆ†æ”¯è¯­å¥ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œpythonä½¿ç”¨çš„ç¼©è¿›æ¥ä»£è¡¨c/javaä¸­çš„èŠ±æ‹¬å· if a=18 and a å¾ªç¯è¯­å¥ whileå¾ªç¯ while a>=0: print(a) a = a-1 forå¾ªç¯ list = [1,2,3] for i in list: print(i) é”™è¯¯å¤„ç†ä¸å¼‚å¸¸æœºåˆ¶ å¼‚å¸¸æ•è· # æ•è·æ‰€æœ‰å¼‚å¸¸ try: b=a/0 except: print('catch exception') # æ•è·æŸä¸ªå¼‚å¸¸ try: b=a/0 except ZeroDivisionError as e: print('catch exception:',e) # æ•è·å¤šä¸ªå¼‚å¸¸ try: b=a/0 except (ZeroDivisionError,IndexError) as e: print('catch exception:',e) # å¢åŠ finallyè¯­å¥ï¼Œfinallyè¯­å¥æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ try: b=a/0 except: print('catch exception') finally: print(\"finally\") pythonå¸¸è§çš„å†…ç½®å¼‚å¸¸ å¼‚å¸¸å å«ä¹‰ Exception å¤§å¤šæ•°å¼‚å¸¸çš„åŸºç±» SyntaxError æ— æ•ˆè¯­æ³• NameError åå­—ï¼ˆå˜é‡ã€å‡½æ•°ã€ç±»ç­‰ï¼‰ä¸å­˜åœ¨ ValueError ä¸åˆé€‚çš„å€¼ IndexError ç´¢å¼•è¶…è¿‡èŒƒå›´ ImportError æ¨¡å—ä¸å­˜åœ¨ IOError I/O ç›¸å…³é”™è¯¯ TypeError ä¸åˆé€‚çš„ç±»å‹ AttributeError å±æ€§ä¸å­˜åœ¨ KeyError å­—å…¸çš„é”®å€¼ä¸å­˜åœ¨ ZeroDivisionError é™¤æ³•ä¸­è¢«é™¤æ•°ä¸º 0 æŠ›å‡ºå¼‚å¸¸ try: raise ValueError(\"å‚æ•°é”™è¯¯\") except ValueError as e: print('catch exception:',e) é¢å‘å¯¹è±¡ æŸ¥çœ‹æ•°æ®ç±»å‹ print(type('')) ç±»çš„å®šä¹‰ class Person: pass # passæ˜¯å ä½ç¬¦ å®ä¾‹åŒ– p = Person() å±æ€§ class Person: # å¢åŠ æ„é€ å™¨å‚æ•°,selfï¼Œå®šä¹‰æ—¶å¿…é¡»æœ‰è¿™ä¸ªå‚æ•°ï¼Œä½†æ˜¯è°ƒç”¨æ—¶ä¸å¿…ä¼ é€’ï¼Œç­‰åŒäºthis def __init__(self,firstName,lastName): self.firstName = firstName self.lastName = lastName # åˆ›å»ºå¯¹è±¡æ—¶ä¼ å…¥å‚æ•° p = Person('c','xk') # è®¿é—®å±æ€§ print(p.firstName) æ–¹æ³• class Person: # çœç•¥... def say(self): print(self.firstName+self.lastName) # è°ƒç”¨æ–¹æ³• p.say() è¿›é˜¶ ç±»å±æ€§ä¸ç±»æ–¹æ³• class Person: # å®šä¹‰ä¸€ä¸ªç±»å˜é‡ people = '70äº¿' # å®šä¹‰ä¸€ä¸ªç±»æ–¹æ³• @classmethod def go(klass): print(str(klass)+'go') # ä½¿ç”¨ print(Person.people) Person.go() é™æ€æ–¹æ³• class Person: ... # å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³•ï¼ŒåŒºåˆ«åœ¨äºä¸ç”¨ä¼ å…¥klass @staticmethod def go0(): print('static go') ç§æœ‰å±æ€§ class Person: # å®šä¹‰ä¸€ä¸ªç±»ç§æœ‰å±æ€§ __people = '70' @classmethod def f(klass): print(Person.__people) def f1(self): # ç§æœ‰æˆå‘˜å˜é‡ self.__age=15 return self.__age Person.f() p = Person() print(p.f1()) # ä¼šæŠ›å¼‚å¸¸ p.__age # ä¼šæŠ›å‡ºå¼‚å¸¸ print(Person._people) ç‰¹æ®Šæ–¹æ³• å¤´å°¾æœ‰åŒä¸‹åˆ’çº¿çš„æ–¹æ³•éƒ½æ˜¯ç‰¹æ®Šæ–¹æ³• __init__()ç”¨äºå¯¹è±¡çš„åˆå§‹åŒ–ã€‚åœ¨å®ä¾‹åŒ–ç±»çš„è¿‡ç¨‹ä¸­ï¼Œè¢«è‡ªåŠ¨è°ƒç”¨,å°±æ˜¯æ„é€ å™¨ __next__() å¯¹è¿­ä»£å™¨è°ƒç”¨ next() å‡½æ•°ï¼Œä¾¿èƒ½ç”Ÿæˆä¸‹ä¸€ä¸ªå€¼ã€‚è¿™ä¸ªè¿‡ç¨‹çš„èƒŒåï¼Œnext() è°ƒç”¨äº†è¿­ä»£å™¨çš„ __next__() æ–¹æ³• __len__() å®ç°äº† __len__() æ–¹æ³•ï¼Œè°ƒç”¨ len() å‡½æ•°æ—¶å°†è‡ªåŠ¨è°ƒç”¨å®¹å™¨çš„__len__()æ–¹æ³• __str__() åœ¨ä½¿ç”¨ print() å‡½æ•°æ—¶å°†è‡ªåŠ¨è°ƒç”¨ç±»çš„ __str__() æ–¹æ³•,toString() __getitem__() 'abc'[2] å³ç­‰åŒäº 'abc'.__getitem__(2) ç±»ç»§æ‰¿ class Animal: def run(self): print('animal run') class Dog(Animal): def __init__(self): # è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ super().__init__() # è¦†å†™çˆ¶ç±»çš„æ–¹æ³• def run(self): print('dog run') def bark(self): print('wolf wolf') dog = Dog() dog.run() dog.bark() å¤šç»§æ‰¿ class MachineDog: def kill(self): print('machine dog kill you') class Dog(Animal): ... class KillingMachineDog(Dog,MachineDog): pass superDog = KillingMachineDog() superDog.bark() superDog.kill() æ¨¡å—å’ŒåŒ… æ¨¡å—çš„å¯¼å…¥ # å¯¼å…¥æ¨¡å— import random # ä½¿ç”¨æ¨¡å— print(random.randint(1,9)) åŒ… åŒ…/ â”œâ”€â”€ __init__.py â”œâ”€â”€ æ¨¡å—1.py â”œâ”€â”€ æ¨¡å—2.py â”œâ”€â”€ å­åŒ…1/ â”œâ”€â”€ __init__.py â”œâ”€â”€ æ¨¡å—3.py â””â”€â”€ æ¨¡å—4.py â””â”€â”€ å­åŒ…2/ â”œâ”€â”€ __init__.py â”œâ”€â”€ æ¨¡å—5.py â””â”€â”€ å­™å­åŒ…1/ â”œâ”€â”€ __init__.py â””â”€â”€ æ¨¡å—6.py åŒ…çš„å¯¼å…¥ import package.subpackage.module è¿­ä»£å™¨ è¿­ä»£æŒ‡çš„æ˜¯é€šè¿‡é‡å¤æ‰§è¡ŒæŸä¸ªæ“ä½œï¼Œä¸æ–­è·å–è¢«è¿­ä»£å¯¹è±¡ä¸­çš„æ•°æ®ã€‚è¿™æ ·çš„æ¯ä¸€æ¬¡æ“ä½œå°±æ˜¯å°±æ˜¯ä¸€æ¬¡ è¿­ä»£ è¿­ä»£å™¨å¯ä»¥æä¾›è¿­ä»£åŠŸèƒ½ï¼Œå½“æˆ‘ä»¬éœ€è¦é€ä¸€è·å–æ•°æ®é›†åˆä¸­çš„æ•°æ®æ—¶ï¼Œä½¿ç”¨è¿­ä»£å™¨å¯ä»¥è¾¾æˆè¿™ä¸ªç›®çš„ è¿­ä»£å™¨å¯ä»¥ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒçš„æ•°æ®å¯ä»¥åœ¨éœ€è¦æ—¶è¢«è®¡ç®—å‡ºæ¥ï¼ˆè¿™ä¸€ç‰¹æ€§ä¹Ÿå«åšæƒ°æ€§è®¡ç®—ï¼‰ # å°†å®¹å™¨åŒ…è£…æˆä¸€ä¸ªè¿­ä»£å™¨ iterator = iter([1,2,3,4]) # ä¸æ–­è¿­ä»£ï¼Œç›´è‡³è¿­ä»£å®ŒæŠ›å‡ºå¼‚å¸¸ while True: print(next(iterator)) pythonçš„forå¾ªç¯è¿­ä»£å°±æ˜¯é€šè¿‡ä½¿ç”¨è¿­ä»£å™¨å®Œæˆçš„ å¯¹ä¸€ä¸ªå®¹å™¨è°ƒç”¨ iter() å‡½æ•°ï¼Œè·å–åˆ°è¯¥å®¹å™¨çš„è¿­ä»£å™¨ æ¯æ¬¡å¾ªç¯æ—¶å¯¹è¿­ä»£å™¨è°ƒç”¨ next() å‡½æ•°ï¼Œä»¥è·å–ä¸€ä¸ªå€¼ è‹¥æ•è·åˆ° StopIteration å¼‚å¸¸åˆ™ç»“æŸå¾ªç¯ å¯è¿­ä»£ å®šä¹‰äº† __iter__() æ–¹æ³•çš„ç±»å¯¹è±¡å°±æ˜¯å¯è¿­ä»£çš„ã€‚å½“è¿™ä¸ªç±»å¯¹è±¡è¢« iter() å‡½æ•°ä½¿ç”¨æ—¶ï¼Œå°†è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ è‡ªå®šä¹‰è¿­ä»£å™¨ class MyIterator: # å®šä¹‰äº†è¿™ä¸ªæ–¹æ³•å°±ä»£è¡¨æ˜¯å¯è¿­ä»£çš„ def __iter__(self): self.count=0 return self # å®ç°å¯è¿­ä»£å¯¹è±¡çš„æ¥å£ def __next__(self): self.count = self.count+1 return self.count # ä½¿ç”¨ i = MyIterator() for i in i: print(i) ç”Ÿæˆå™¨ yield è¯­å¥çš„ä½œç”¨å’Œ return è¯­å¥æœ‰å‡ åˆ†ç›¸ä¼¼ï¼Œéƒ½å¯ä»¥å°†ç»“æœè¿”å›ã€‚ä¸åŒåœ¨äºï¼Œç”Ÿæˆå™¨å‡½æ•°æ‰§è¡Œè‡³ yield è¯­å¥ï¼Œè¿”å›ç»“æœçš„åŒæ—¶è®°å½•ä¸‹å‡½æ•°å†…çš„çŠ¶æ€ï¼Œä¸‹æ¬¡æ‰§è¡Œè¿™ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œå°†ä»ä¸Šæ¬¡é€€å‡ºçš„ä½ç½®ï¼ˆyield çš„ä¸‹ä¸€å¥ä»£ç ï¼‰ç»§ç»­æ‰§è¡Œ # å¦å¤–ä¸€ç§å®šä¹‰è¿­ä»£å™¨çš„æ–¹å¼ def f(): for i in range(10): yield i # ä½¿ç”¨ i = f() for j in i: print(j) ç”Ÿæˆå™¨è¡¨è¾¾å¼ ç”Ÿæˆå™¨ = (é’ˆå¯¹é¡¹çš„æ“ä½œ for é¡¹ in å¯è¿­ä»£å¯¹è±¡) # è¾“å‡º0-9æ¯ä¸ªæ•°çš„å¹³æ–¹ for i in (j**2 for j in range(10)): print(i) ä¹Ÿå¯ä»¥åŠ ä¸Šifè¯­å¥ # è¾“å‡º0-100ä¸­å¶æ•°çš„å¹³æ–¹ for i in (j**2 for j in range(100) if j%2==0): print(i) å­—å…¸ç”Ÿæˆå¼ {é”®: å€¼ for é¡¹ in å¯è¿­ä»£å¯¹è±¡} # ç”Ÿæˆ0-10çš„é”®ä¸ºiï¼Œå€¼ä¸ºiçš„å¹³æ–¹çš„map map = {i:i**2 for i in range(10)} é›†åˆç”Ÿæˆå¼ # ç”Ÿæˆ0-10çš„é›†åˆ set = {i for i in range(10)} å‡½æ•°å¼ç¼–ç¨‹ def say(): print('say') # å‡½æ•°å¯èµ‹å€¼ç»™å˜é‡å¹¶è°ƒç”¨ f = say f() å‡½æ•°ä½œä¸ºå‚æ•° def f(callback): callback('date') def f1(x): print(x) f(f1) lambdaè¡¨è¾¾å¼ # ä¸Šé¢çš„å‡½æ•°è°ƒç”¨ä¹Ÿå¯ä»¥ç¼©å†™æˆ f(lambda x: print(x)) å‡½æ•°ä½œä¸ºè¿”å›å€¼ def f(): return lambda x,y: x+y print(f()(1,2)) mapä¸filter # filterå‡½æ•°å¯å¯¹ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡åšè¿‡æ»¤ï¼Œç¬¦åˆè¿‡æ»¤lambdaçš„å…ƒç´ ä¼šè¢«è¿”å› l = filter(lambda x: x%2==0,[1,2,3,4,5]) print(list(l)) l = [1,2,3,4,5] # mapå‡½æ•°åˆ™æ˜¯å¯¹å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ åšå¤„ç†ï¼Œç„¶åè¿”å› ret = map(lambda x: x**2,l) print(list(ret)) è£…é¥°å™¨ è‡ªå®šä¹‰è£…é¥°å™¨ def aop(fun): # å¯¹funè¿›è¡ŒåŒ…è£…ï¼Œåœ¨å…¶å¤–å±‚æ‹¦æˆªå‚æ•° def wrapper(*args,**kw): print(\"aopæ‹¦æˆªå‚æ•°:\",args,kw) fun(*args,**kw) return wrapper class A: # åŠ ä¸Šè¿™ä¸€è¡Œç­‰äº m = aop(m) @aop def m(self): print('method invoke') a = A() a.m() ä¸€äº›è¯­è¨€ç‰¹æ€§ åˆ‡ç‰‡ l = [1,2,3,4,5] # è´Ÿæ•°ä»£è¡¨å€’æ•°ç¬¬å‡ ä¸ª print(l[-2]) # èµ·å§‹ç´¢å¼•è·Ÿç»“æŸç´¢å¼•é»˜è®¤ä¸å†™å°±ä»£è¡¨æ˜¯ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ª print(l[:]) # ä»£è¡¨ä»0åˆ°æœ€åä¸€ä¸ªï¼Œæ­¥é•¿ä¸º2å–ä¸€ä¸ªå…ƒç´  print(l[0:-1:2]) èµ‹å€¼ # è¿ç»­èµ‹å€¼ a = b = c = 1 # æ‹†åŒ… x, y = 1, 2 # æ‹†åŒ…ä¸€æ¬¡æ¥æ”¶å¤šä¸ªå…ƒç´  x, *y = 1, 2, 3, 4 # äº¤æ¢ä¸¤ä¸ªå…ƒç´  x, y = y, x # orçš„ä½¿ç”¨ print('' or '1') # ç»“æœä¸º'1' ç±»ä¼¼äºjs æ§åˆ¶è¯­å¥ # ä¸‰å…ƒè¡¨è¾¾å¼ # å¦‚æœ1=1,ret=1 å¦åˆ™ret=2 ret = 1 if 1==1 else 2 # for...else # å¦‚æœå¯è¿­ä»£å¯¹è±¡å…¨éƒ¨éƒ½è¢«è¿­ä»£äº†ï¼Œå°±ä¼šæ‰§è¡Œelseè¯­å¥ï¼Œå¦åˆ™ä¸æ‰§è¡Œelseè¯­å¥ï¼Œwhile...elseåŒç† for i in range(5): print(i) else: print('all used') # try except else,æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œelseè¯­å¥ä¼šè¢«è°ƒç”¨ try: pass except: print('å‘ç”Ÿå¼‚å¸¸') else: print('æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸') ç±» # è‡ªå®šä¹‰å¼‚å¸¸ class BussinessException(Exception): pass å‡½æ•° # å‚æ•°ç±»å‹æ ‡æ³¨ è¿”å›å€¼ç±»å‹æ ‡æ³¨ def f(name:str) -> str: return 'hello' IO æ‰“å¼€æ–‡ä»¶ f = open('test.py','r') # æŒ‡å®šç¼–ç  f = open('test.py','r',encoding='gbk') è¯»å†™æ¨¡å¼ 'r'ï¼šåªè¯»ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™æŠ›å‡º FileNotFoundError å¼‚å¸¸ 'rb': ä»¥äºŒè¿›åˆ¶çš„å½¢å¼ 'w'ï¼šåªå†™ï¼Œå°†è¦†ç›–æ‰€æœ‰åŸæœ‰å†…å®¹ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ 'a'ï¼šåªå†™ï¼Œä»¥è¿½åŠ çš„å½¢å¼å†™å…¥å†…å®¹ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ 'r+'ï¼šå¯è¯»å¯å†™ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™æŠ›å‡º FileNotFoundError å¼‚å¸¸ 'w+'ï¼šå¯è¯»å¯å†™ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ 'a+'ï¼šå¯è¯»å¯å†™ï¼Œå†™å…¥æ—¶ä½¿ç”¨è¿½åŠ æ¨¡å¼ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ æ–‡ä»¶å†™å…¥ f = open('a.txt','w') f.write('a dog') æ–‡ä»¶è¯»å– f = open('test.py','r',encoding='utf8') # è¯»å‡ºå…¨éƒ¨å†…å®¹ print(f.read()) # è¯»å‡ºæ–‡ä»¶è¡Œçš„åˆ—è¡¨ print(f.readlines()) æ–‡ä»¶å…³é—­ f.close() æ–‡ä»¶ç³»ç»Ÿæ“ä½œ import os # åˆ›å»ºç›®å½• os.mkdir('./test') # æšä¸¾ç›®å½•ä¸‹çš„æ–‡ä»¶ for i in os.listdir('./'): print(i) # åˆ é™¤ç›®å½• os.rmdir('./test') # åˆ é™¤æ–‡ä»¶ os.remove('a.txt') # é‡å‘½åæ–‡ä»¶ os.rename('test.py','test1.py') åºåˆ—åŒ– pickle(pythonç‹¬æœ‰) import pickle # åºåˆ—åŒ–æˆäºŒè¿›åˆ¶ ret = pickle.dumps([1,2,3]) print(ret) # ååºåˆ—åŒ– print(pickle.loads(ret)) json import json # åºåˆ—åŒ–æˆjson str = json.dumps({'a':1,'b':2}) print(str) # ååºåˆ—åŒ– print(json.loads(str)) è¿›ç¨‹ä¸çº¿ç¨‹ è¿›ç¨‹ import multiprocessing import os def f(): print('å­è¿›ç¨‹') print('pid',os.getpid()) print('ppid',os.getppid()) # åªæœ‰ä¸»è¿›ç¨‹æ‰åˆ›å»ºå­è¿›ç¨‹ if __name__ == '__main__': # åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ p = multiprocessing.Process(target=f) p.start() # ç­‰å¾…å­çº¿ç¨‹è¿è¡Œå®Œæ¯•æ‰ä¼šç»§ç»­å¾€ä¸‹èµ° p.join() çº¿ç¨‹ import threading def f(): print('sub thread') # åˆ›å»ºçº¿ç¨‹å¹¶å¯åŠ¨ t = threading.Thread(target=f) t.start() # ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•æ‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œ t.join() print('main thread') é” import threading count = 0 # åˆ›å»ºä¸€ä¸ªé” lock = threading.Lock() def add(): for i in range(2000000): global count # è·å–é” lock.acquire() count = count+1 # é‡Šæ”¾é” lock.release() print('æ‰§è¡Œå®Œæˆï¼šå½“å‰ç»“æœ:',count) for i in range(10): threading.Thread(target=add).start() å®‰è£…ç¬¬ä¸‰æ–¹åŒ… pip install requests --user pythonç¼–ç é£æ ¼ å˜é‡å’Œå‡½æ•° ã€Œå…¨å°å†™+ä¸‹åˆ’çº¿ã€ max_capacity = 10 ç±»å ã€Œé©¼å³°å†™æ³•ã€ class CodeGenerator: pass å¼‚å¸¸å ã€Œé©¼å³°å†™æ³•ã€ ValueError å¸¸é‡ ã€Œå…¨å¤§å†™+ä¸‹åˆ’çº¿ã€ MAX_VALUE=100 æ¨¡å—åå’ŒåŒ…å æ¨¡å—å¯ä½¿ç”¨ã€Œå°å†™ + ä¸‹åˆ’çº¿ã€ open_api åŒ…åä»…ä½¿ç”¨å°å†™å­—æ¯å‘½å requests ç¼©è¿› æ¯çº§ç¼©è¿›åº”ä½¿ç”¨ 4 ä¸ªç©ºæ ¼ æ¢è¡Œ æ¯è¡Œä»£ç çš„æœ€å¤§å­—ç¬¦æ•°ä¸º 79ã€‚è‹¥æŸä¸€è¡Œä»£ç è¿‡é•¿ï¼Œå¯ä»¥å°†å…¶æ¢è¡Œä¹¦å†™ å®šä¹‰å‡½æ•°å’Œç±»æ—¶ï¼Œå¤šä¸ªå‡½æ•°æˆ–ç±»ä¹‹é—´ä½¿ç”¨ä¸¤ä¸ªç©ºè¡Œè¿›è¡Œåˆ†éš” å¯¼å…¥ import æŒ‰ä¸‹åˆ—ç±»å‹å’Œé¡ºåºä½¿ç”¨ï¼š æ ‡å‡†åº“å¯¼å…¥ ç¬¬ä¸‰æ–¹åº“å¯¼å…¥ æœ¬åœ°åº“å¯¼å…¥ æ³¨é‡Š æ³¨é‡Šä»¥ # åŠä¸€ä¸ªç©ºæ ¼å¼€å§‹ è¡Œå†…æ³¨é‡Šå’Œä»£ç é—´è‡³å°‘è¦æœ‰ä¸¤ä¸ªç©ºæ ¼åˆ†éš” MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-29 04:47:26 "},"ç¼–ç¨‹è¯­è¨€/go.html":{"url":"ç¼–ç¨‹è¯­è¨€/go.html","title":"go","keywords":"","body":"go é™æ€ç±»å‹ã€ç¼–è¯‘å‹ æ”¯æŒä¸¤ç§èŒƒå¼ ç‰¹ç‚¹ åŸç”Ÿå¹¶å‘æ”¯æŒ æ¦‚å¿µ package åŸºæœ¬çš„åˆ†å‘å•ä½ã€ä¾èµ–å…³ç³»çš„ä½“ç° æ¯ä¸ªæºç æ–‡ä»¶éƒ½å¿…é¡»å£°æ˜package è¦ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºï¼Œå¿…é¡»è¦æœ‰mainçš„packageï¼Œå¹¶ä¸”è¿˜éœ€è¦æœ‰mainå‡½æ•° åŒä¸€ä¸ªè·¯å¾„ä¸‹åªèƒ½å­˜åœ¨ä¸€ä¸ªpackage æºç æ–‡ä»¶ å‘½ä»¤æºç æ–‡ä»¶ã€åº“æºç æ–‡ä»¶ æµ‹è¯•æºç æ–‡ä»¶ å‘½ä»¤è¡Œå·¥å…· go build ç¼–è¯‘ go run ç¼–è¯‘å¹¶è¿è¡Œ go getè·å–è¿œç¨‹ä»£ç åŒ… è¯­æ³• æ³¨é‡Š // single row /* multi row */ åŸºç¡€ç»“æ„ package main // ç¨‹åºæ‰€å±åŒ… import \"fmt\" // å¯¼å…¥ä¾èµ–åŒ… const NAME = \"cxk\" // å¸¸é‡å®šä¹‰ type myInt int // ä¸€èˆ¬ç±»å‹å£°æ˜ // ç»“æ„ä½“å£°æ˜ type user struct { } // æ¥å£å£°æ˜ type UserService interface { } // å…¥å£å‡½æ•° func main(){ var a = \"cxk\" fmt.Println(a+NAME) } import ä¸èƒ½å¯¼å…¥æºç ä¸­æ²¡æœ‰ä½¿ç”¨çš„package // å¦å¤–ä¸€ç§è¯­æ³• import ( \"fmt\" \"time\" ) åŸç† å¦‚æœä¸€ä¸ªmainå¯¼å…¥å…¶ä»–åŒ…,åŒ…å°†è¢«é¡ºåºå¯¼å…¥; å¦‚æœå¯¼å…¥çš„åŒ…ä¸­ä¾èµ–å…¶å®ƒåŒ…(åŒ…B) ,ä¼šé¦–å…ˆå¯¼å…¥BåŒ…,ç„¶ååˆå§‹åŒ–BåŒ…ä¸­å¸¸é‡å’Œå˜é‡,æœ€åå¦‚æœBåŒ…ä¸­æœ‰init ,ä¼šè‡ªåŠ¨æ‰§è¡Œinit() ; æ‰€æœ‰åŒ…å¯¼å…¥å®Œæˆåæ‰ä¼šå¯¹mainä¸­å¸¸é‡å’Œå˜é‡è¿›è¡Œåˆå§‹åŒ–,ç„¶åæ‰§è¡Œmainä¸­çš„initå‡½æ•°(å¦‚æœå­˜åœ¨) , æœ€åæ‰§è¡Œmainå‡½æ•°; å¦‚æœä¸€ä¸ªåŒ…è¢«å¯¼å…¥å¤šæ¬¡åˆ™è¯¥åŒ…åªä¼šè¢«å¯¼å…¥ä¸€æ¬¡; åˆ«å åˆ«åæ“ä½œçš„å«ä¹‰æ˜¯:å°†å¯¼å…¥çš„åŒ…å‘½åä¸ºå¦- -ä¸ªå®¹æ˜“è®°å¿†çš„åˆ«å; import pk \"awesomeProject/pkg1\" pk.F() ç‚¹(.)æ“ä½œçš„å«ä¹‰æ˜¯:ç‚¹(.)æ ‡è¯†çš„åŒ…å¯¼å…¥å,è°ƒç”¨è¯¥åŒ…ä¸­å‡½æ•°æ—¶å¯ä»¥çœç•¥å‰ç¼€åŒ…å; import . \"awesomeProject/pkg1\" F() ä¸‹åˆ’çº¿( )æ“ä½œçš„å«ä¹‰æ˜¯:å¯¼å…¥è¯¥åŒ…,ä½†ä¸å¯¼å…¥æ•´ä¸ªåŒ…,è€Œæ˜¯æ‰§è¡Œè¯¥åŒ…ä¸­çš„initå‡½æ•°,å› æ­¤æ— æ³•é€šè¿‡åŒ…åæ¥è°ƒç”¨åŒ…ä¸­çš„å…¶ä»–å‡½æ•°ã€‚ä½¿ç”¨ä¸‹åˆ’çº¿( ) æ“ä½œå¾€å¾€æ˜¯ä¸ºäº†æ³¨å†ŒåŒ…é‡Œçš„å¼•æ“,è®©å¤–éƒ¨å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨; import _ \"awesomeProject/pkg1\" æ•°æ®ç±»å‹ æ•°å€¼ç±»å‹,å­—ç¬¦ä¸²ç±»å‹å’Œå¸ƒå°”å‹; æ´¾ç”Ÿç±»å‹; var i uint32 = 2 fmt.Println(unsafe.Sizeof(i)) // 4 var i1 int = 2 fmt.Println(unsafe.Sizeof(i1)) // 8 var i2 float32 = 1.0 fmt.Println(unsafe.Sizeof(i2)) // 4 var i3 bool = true fmt.Println(unsafe.Sizeof(i3)) // 1 var i4 byte = 1 fmt.Println(unsafe.Sizeof(i4)) // 1 å˜é‡ å˜é‡çš„å£°æ˜æ ¼å¼: var [å˜é‡ç±»å‹] å˜é‡çš„èµ‹å€¼æ ¼å¼: = å£°æ˜å’Œèµ‹å€¼åŒæ—¶è¿›è¡Œ: var [å˜é‡ç±»å‹]= åˆ†ç»„å£°æ˜æ ¼å¼: var( i int j float32 name string ) åŒä¸€è¡Œå£°æ˜å¤šä¸ªå˜é‡å’Œèµ‹å€¼ var a, b, c int = 1,2,3 // æˆ–è€… var a,b,c = 1,2,3 // çœç•¥var a,b,c := 1,2,3 å…¨å±€å˜é‡çš„å£°æ˜å¿…é¡»ä½¿ç”¨varå…³é”®è¯ï¼Œå±€éƒ¨å˜é‡åˆ™å¯ä»¥çœç•¥ var a=1 func main(){ b:=2 fmt.Println(a,b) } ç‰¹æ®Šå˜é‡ä¸‹åˆ’çº¿ â€_â€ var _ = 2 // æ— æ³•ä½¿ç”¨_ Goä¸­ä¸å­˜åœ¨éšå¼è½¬æ¢,ç±»å‹è½¬æ¢å¿…é¡»æ˜¯æ˜¾å¼çš„; var a =1 var b = float32(a) ç±»å‹è½¬æ¢åªèƒ½å‘ç”Ÿåœ¨ä¸¤ç§å…¼å®¹ç±»å‹ä¹‹é—´; å¤§å†™å­—æ¯å¼€å¤´çš„å˜é‡æ˜¯å¯å¯¼å‡ºçš„,ä¹Ÿå°±æ˜¯å…¶å®ƒåŒ…å¯ä»¥è¯»å–çš„,æ˜¯å…¬ç”¨å˜é‡; å°å†™å­—æ¯å¼€å¤´çš„å°±æ˜¯ä¸å¯å¯¼å‡ºçš„,æ˜¯ç§æœ‰å˜é‡ã€‚ // pkg1 func F1(){} func f1(){} // main func main(){ pkg1.F1() //pkg1.f1() æ— æ³•è®¿é—® } å¸¸é‡ æ˜¾å¼: const identifier [type] = value éšå¼: const identifier = value ( é€šå¸¸å«æ— ç±»å‹å¸¸é‡) const name = \"cxk\" const age int = 18 const ( habbit1 = \"sing\" habbit2 = \"rap\" ) å¸¸é‡å¯ä»¥ä½¿ç”¨å†…ç½®è¡¨è¾¾å¼å®šä¹‰,ä¾‹å¦‚: len()ï¼Œunsafe.Sizeof()ç­‰ ; å¸¸é‡èŒƒå›´ç›®å‰åªæ”¯æŒå¸ƒå°”å‹ã€æ•°å­—å‹(æ•´æ•°å‹ã€æµ®ç‚¹å‹å’Œå¤æ•°)å’Œå­—ç¬¦ä¸²å‹; ç‰¹æ®Šå¸¸é‡iota iotaåœ¨constå…³é”®å­—å‡ºç°æ—¶å°†è¢«é‡ç½®ä¸º0 constä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡ å£°æ˜å°†ä½¿iotaè®¡æ•°è‡ªå¢1æ¬¡ const a = iota const b = iota const ( c = iota d = iota ) func main(){ fmt.Println(a,b) // 0 0 fmt.Println(c,d) // 0 1 } iotaå¸¸è§ä½¿ç”¨æ³•: 1)è·³å€¼ä½¿ç”¨æ³•; const ( c = iota _ = iota d = iota ) func main(){ fmt.Println(c,d) // 0 2 } 2)æ’é˜Ÿä½¿ç”¨æ³•; const ( c = iota d = 3 e = iota ) func main(){ fmt.Println(c,d,e) // 0 3 2 } 3 )è¡¨è¾¾å¼éšå¼ä½¿ç”¨æ³•; const ( c = iota *2 d // æ²¡æœ‰æŒ‡å®šå€¼ï¼Œé»˜è®¤ä¼šç»§æ‰¿ä¹‹å‰çš„è¡¨è¾¾å¼ e ) func main(){ fmt.Println(c,d,e) // 0 2 4 } 4)å•è¡Œä½¿ç”¨æ³•; const ( a ,b = iota,iota+3 c,d ) func main(){ fmt.Println(a,b,c,d) // 0 3 1 4 } è¿ç®—ç¬¦ a := 1 b := 2 a++ // ++è¿ç®—ç¬¦åªèƒ½è¿™æ ·ç”¨ println(a) b-- // --è¿ç®—ç¬¦åªèƒ½è¿™æ ·ç”¨ println(b) æ§åˆ¶è¯­å¥ æ¡ä»¶æ§åˆ¶ a := 0 if a>=1 { println(\"true\") }else if a é€‰æ‹©è¯­å¥ a := 10 switch a { case 1: { println(\"1\") } case 2: { println(\"2\") } default: { println(\"default\") } } å¾ªç¯è¯­å¥ // æ­»å¾ªç¯ for { println(\"run\") time.Sleep(1*time.Second) } // ç»å…¸forå¾ªç¯ for i:=1;i goto if true { goto label2 }else { goto label1 } label1: println(\"label1\") label2: println(\"label2\") break a := []string{\"cxk\", \"jntm\"} for key, value := range a { println(key, value) if key == 0 { break } } å†…å»ºæ–¹æ³• make // sliceç±»ä¼¼äºæ•°ç»„ slice := make([]string,3) slice[0] = \"cxk\" slice[1] = \"cxk2\" slice[2] = \"cxk3\" for k,v := range slice { println(k,v) } println(\"---\") // map aMap := make(map[string]string,3) aMap[\"a\"]=\"1\" aMap[\"b\"]=\"2\" for k,v := range aMap { println(k,v) } println(\"---\") // channel ç±»ä¼¼ç¼“å†²åŒº aChan := make(chan int,3) close(aChan) new // è¿”å›ä¸€ä¸ªæŒ‡é’ˆ aMap := new(map[string]string) fmt.Println(reflect.TypeOf(aMap)) // *map[string]string append & copy & delete slice :=make ([]string,2) slice[0]=\"1\" slice[1]=\"2\" slice = append(slice,\"3\") fmt.Println(slice) // 1 2 3 slice1 :=make ([]string,2) slice1[0]=\"1\" slice1[1]=\"2\" slice2 :=make([]string,2) copy(slice2,slice1) fmt.Println(slice2) // 1 2 aMap := make(map[string]string) aMap[\"1\"]=\"a\" aMap[\"2\"]=\"b\" delete(aMap,\"1\") fmt.Println(aMap) // 2:b å¼‚å¸¸ func main() { defer func() { // å¼‚å¸¸å¤„ç† msg := recover() fmt.Println(\"msg:\",msg) }() // æŠ›å‡ºå¼‚å¸¸ panic(\"å¼‚å¸¸\") } len && cap && close slice := make([]int,3,5) println(len(slice)) // 3 println(cap(slice)) // 5 aChan := make(chan int,1) aChan ç»“æ„ä½“ // å®šä¹‰ç»“æ„ä½“ type Person struct { Name string Age int } func main(){ var p Person // å£°æ˜ç»“æ„ä½“å˜é‡ p.Age = 18 // ç»“æ„ä½“æˆå‘˜èµ‹å€¼ p1 := Person{Name: \"cxk\"} // å¦å¤–ä¸€ç§æ–¹å¼ p2 := new(Person) // è¿”å›ä¸€ä¸ªPersonæŒ‡é’ˆ p.Name = \"cxk\" fmt.Println(p) } å±æ€§åŠå‡½æ•° ä¸¤ç§ä½œç”¨åŸŸï¼Œå¤§å†™å¼€å¤´ä¸ºå…¬å¼€ï¼Œå°å†™å¼€å¤´ä¸ºç§æœ‰ // å®šä¹‰Personçš„ä¸€ä¸ªå…¬å¼€æˆå‘˜æ–¹æ³• func (p *Person)Say(){ fmt.Println(\"person say\") } ç»„åˆ type Animal struct { Type string } type Dog struct { Animal // ç»„åˆanimalï¼ŒDogç»§æ‰¿Animalçš„å±æ€§ Name string } æ¥å£ // å®šä¹‰æ¥å£ type Service interface { GetUser() string } // å®ç°ç±» type UserService struct {} // éšå¼å®ç°æ¥å£æ–¹æ³• func (us *UserService)GetUser() string{ return \"user\" } func main(){ // å¤šæ€ var service Service = new(UserService) fmt.Println(service.GetUser()) } å¹¶å‘ åç¨‹ func main(){ go run() go run() time.Sleep(time.Second*5) } func run(){ for i:=1;i åç¨‹é€šè®¯ var chanInt = make(chan int,10) func main(){ go send() go receive() time.Sleep(5*time.Second) } func send(){ chanInt ä½¿ç”¨select var chanInt = make(chan int,10) var chan1 = make(chan int,10) func send(){ for i:=0;i selectå¯ä»¥éšæœºåœ¨å¤šä¸ªchannelä¸­å–æ•°æ® åŒæ­¥ func main(){ makeFood(10) go eatFood(10) waitGroup.Wait() } var waitGroup sync.WaitGroup func makeFood(i int){ for j:=0;j æŒ‡é’ˆ i:=20 var pi *int=&i // piæŒ‡å‘i fmt.Println(*pi) // è¯»å–piæ‰€æŒ‡å‘çš„å†…å®¹ fmt.Println(pi == nil) // åˆ¤æ–­æ˜¯å¦ä¸ºç©º a,b :=1,2 pa := [...]*int{&a,&b} // æŒ‡é’ˆæ•°ç»„(å…ƒç´ ä¸ºæŒ‡é’ˆçš„æ•°ç»„) fmt.Println(pa) arr := [...]int{1,2,3} ap := &arr // æ•°ç»„æŒ‡é’ˆï¼ˆæŒ‡å‘ä¸€ä¸ªæ•°ç»„çš„æŒ‡é’ˆï¼‰ fmt.Println(ap) json åºåˆ—åŒ– setting := Setting{Menu:\"menu\",Count: 15} byte,err:=json.Marshal(setting) if err!=nil { fmt.Println(err) }else { fmt.Println(string(byte)) } tag type Setting struct { Menu string `json:\"menu\"` // æŒ‡å®šåºåˆ—åçš„å­—æ®µåå­— Count int } ååºåˆ—åŒ– str := \"{\\\"menu\\\":\\\"menu\\\",\\\"Count\\\":15}\\n\" var setting Setting err := json.Unmarshal([]byte(str),&setting) if err != nil { fmt.Println(err) }else { fmt.Println(setting) } module åˆå§‹åŒ–é¡¹ç›® go mod init è¾“å‡ºé¡¹ç›®ä¾èµ– go mod graph MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-27 05:25:34 "},"ç¼–ç¨‹è¯­è¨€/typescript.html":{"url":"ç¼–ç¨‹è¯­è¨€/typescript.html","title":"typescript","keywords":"","body":"typescript ESæ–°è§„èŒƒæ”¯æŒ IDEæ”¯æŒ ç±»å‹ var myname: string = \"cxk\"; // å­—ç¬¦ä¸² var alias: any = 1 // å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ var age: number = 13 // æ•°å­—ç±»å‹ var gender: boolean = true // å¸ƒå°” function test(name: string): void { } // å‡½æ•°å‚æ•°ä»¥åŠå‡½æ•°è¿”å›å€¼ // è‡ªå®šä¹‰ç±»å‹ class Person { name: string age: number } // åˆ›å»ºå¯¹è±¡ var cxk = new Person() cxk.name = \"cxk\" cxk.age = 18 å‚æ•° é»˜è®¤å€¼ function test(a: string = \"default\") { } å¯é€‰å‚æ•° // è°ƒç”¨å‡½æ•°testæ—¶ï¼Œå¯ä¸ä¼ é€’b function test(a: string,b?: string) { } ä¸å®šé¡¹å‚æ•° function test(...args) { } å‡½æ•° generator function* test() { console.log(\"start\"); yield; console.log(\"finish\"); } var f1 = test(); f1.next();//è¾“å‡ºstart f1.next(); // è¾“å‡º finish è§£æ„ function test() { return { pname: 'cxk', age: 18 } } const {pname,age} = test() ç®­å¤´å‡½æ•° for for of for (let n of arr) { // å¯ä»¥ç”¨åœ¨æ•°ç»„ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ } é¢å‘å¯¹è±¡ class Person { name; run() { } } const p1 = new Person() p1.name = \"cxk1\" const p2 = new Person() p2.name=\"cxk2\" æƒé™æ§åˆ¶ private run() { } æ³›å‹ const list: Array = [] list[0]=\"1\" // åªèƒ½å­˜æ”¾string æ¥å£ interface Runnable { run(); } class Thread implements Runnable { run () {} } æ¨¡å— æš´éœ² export var prop1; export function data () { console.log('data') } export class Thread{ run():void{ console.log('run') } } å¼•å…¥ä½¿ç”¨ import {data} from './module1' data() MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-28 05:48:42 "},"ç¼–ç¨‹è¯­è¨€/HasKell.html":{"url":"ç¼–ç¨‹è¯­è¨€/HasKell.html","title":"HasKell","keywords":"","body":"HashKell ç¼–ç¨‹ç¯å¢ƒ ghcæ˜¯ç”Ÿæˆå¿«é€Ÿæœ¬åº•ä»£ç çš„ä¼˜åŒ–ç¼–è¯‘å™¨ã€‚ ghciæ˜¯ä¸€ä¸ªäº¤äº’è§£æå™¨å’Œè°ƒè¯•å™¨ã€‚ runghcæ˜¯ä¸€ä¸ªä»¥è„šæœ¬å½¢å¼(å¹¶ä¸è¦é¦–å…ˆç¼–è¯‘)è¿è¡ŒHaskellä»£ç çš„ç¨‹åº åŸºæœ¬æ“ä½œ ç™»å…¥è§£é‡Šå™¨ ghci ç®—æœ¯è¿ç®— Prelude> 2+2 é€»è¾‘è¿ç®— Prelude> True && False ä¸ç­‰äº Prelude> 1/=2 True if (5 /= 4) then \"got it\" else \"oh no\" å˜é‡å®šä¹‰ Prelude> let name = \"cxk\" Prelude> name \"cxk\" åˆ—è¡¨ Prelude> [\"1\",\"2\"] [\"1\",\"2\"] åˆ—è¡¨ä¸­çš„é¡¹å¿…é¡»æ˜¯ç›¸åŒç±»å‹ åˆ—ä¸¾ Prelude> [1..10] [1,2,3,4,5,6,7,8,9,10] åˆ—è¡¨ç›¸åŠ  Prelude> [1..5] ++ [6..10] [1,2,3,4,5,6,7,8,9,10] å¢åŠ å…ƒç´ åˆ°åˆ—è¡¨å¤´ Prelude> 1 : [2..5] [1,2,3,4,5] åˆ¤æ–­ç±»å‹ Prelude> :type 'a' 'a' :: Char ç¬¬ä¸€ä¸ªHaskellç¨‹åº main = putStrLn \"hello world\" runghc Helloworld.hs ç±»å‹ç³»ç»Ÿ å¼ºç±»å‹ ä¸ä¼šè¿›è¡Œè‡ªåŠ¨è½¬æ¢ é™æ€ å¯ä»¥åœ¨ç¼–è¯‘æœŸï¼ˆè€Œä¸æ˜¯æ‰§è¡ŒæœŸï¼‰çŸ¥é“æ¯ä¸ªå€¼å’Œè¡¨è¾¾å¼çš„ç±»å‹ è‡ªåŠ¨æ¨å¯¼ Haskell ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨æ¨æ–­å‡ºç¨‹åºä¸­å‡ ä¹æ‰€æœ‰è¡¨è¾¾å¼çš„ç±»å‹ å‡½æ•°ä¸ç±»å‹ä¸å¯åˆ†ç¦» ä¸€äº›å¸¸ç”¨ç±»å‹ Char å•ä¸ª Unicode å­—ç¬¦ã€‚ Bool è¡¨ç¤ºä¸€ä¸ªå¸ƒå°”é€»è¾‘å€¼ Int åœ¨ 32 ä½æœºå™¨é‡Œï¼Œ Int ä¸º 32 ä½å®½ï¼Œåœ¨ 64 ä½æœºå™¨é‡Œï¼Œ Int ä¸º 64 ä½å®½ Integer ä¸é™é•¿åº¦çš„å¸¦ç¬¦å·æ•´æ•°ï¼Œåœ¨ç¼–å†™RSAåŠ å¯†ï¼Œå¤§æ•°è¿ç®—æ—¶å¾ˆé‡è¦ Double ç”¨äºè¡¨ç¤ºæµ®ç‚¹æ•°ã€‚é•¿åº¦ç”±æœºå™¨å†³å®š å…ƒç»„ (1,\"cxk\") :type (18, \"cxk\") å®šä¹‰ç±»å‹ data Person = Person String Int -- å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹ï¼Œ= åé¢çš„Personæ˜¯æ„é€ å‡½æ•° let man = Person \"cxk\" 1 ç±»å‹åˆ«å type Age = Int ä»£æ•°ç±»å‹ data Name = String String | String let name = Name \"c\" \"xk\" let name1 = Name \"cxk\" æšä¸¾ data Color = Red | Blue | Yellow :type Red -- Red :: Color å‚æ•°åŒ–ç±»å‹ -- å®šä¹‰ä¸€ä¸ªå¸¦æœ‰æ³›å‹aå‚æ•°çš„ç±»å‹ data Optional a = Just a | Nothing å‡½æ•° ä½¿ç”¨å‡½æ•° -- è°ƒç”¨compareå‡½æ•° å‚æ•°åˆ†åˆ«ä¸º1ï¼Œ2 compare 1 2 -- åµŒå¥—è°ƒç”¨ sqrt (sqrt 81) å‡½æ•°ç±»å‹ :type sqrt -- sqrt :: Floating a => a -> a çº¯åº¦ æˆ‘ä»¬å°†å¸¦å‰¯ä½œç”¨çš„å‡½æ•°ç§°ä¸ºâ€œä¸çº¯ï¼ˆimpureï¼‰å‡½æ•°â€ï¼Œè€Œå°†ä¸å¸¦å‰¯ä½œç”¨çš„å‡½æ•°ç§°ä¸ºâ€œçº¯ï¼ˆpureï¼‰å‡½æ•°â€ã€‚ å‡½æ•°å®šä¹‰ add :: (Int, Int) -> Int add (x,y) = x+y éæŸ¯é‡ŒåŒ–å‡½æ•°ï¼šå½“å‡½æ•°æœ‰å¤šä¸ªå‚æ•°ï¼Œå¿…é¡»é€šè¿‡å…ƒç»„ä¸€æ¬¡æ€§ä¼ å…¥ï¼ŒæŸ“å›è¿”å›ç»“æœ å½“å‡½æ•°æœ‰å¤šä¸ªå‚æ•°æ—¶ï¼Œå‚æ•°å¯ä»¥ä¸€ä¸ªä¸€ä¸ªåœ°ä¾æ¬¡è¾“å…¥ï¼Œå¦‚æœå‚æ•°ä¸è¶³ï¼Œå°†è¿”å›ä¸€ä¸ªå‡½æ•°ä½œä¸ºç»“æœï¼Œè¿™æ ·çš„å‡½æ•°å°±æ˜¯æŸ¯é‡ŒåŒ–çš„å‡½æ•°ã€‚ åˆ†æ”¯ if age æƒ°æ€§æ±‚å€¼ isOdd (1+2) -- 1+2åªæœ‰åœ¨çœŸæ­£éœ€è¦æ—¶ï¼Œæ‰ä¼šè¢«è®¡ç®— å¤šæ€ :type last -- last :: [a] -> a -- è¾“å…¥ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨çš„å…ƒç´ ç±»å‹ä¸ºaï¼Œè¿”å›ä¸€ä¸ªç±»å‹ä¸ºaçš„å…ƒç´  è½¯ä»¶çš„å¤§éƒ¨åˆ†é£é™©ï¼Œéƒ½æ¥è‡ªäºä¸å¤–éƒ¨ä¸–ç•Œè¿›è¡Œäº¤äº’ æ¨¡å¼åŒ¹é… -- Haskell å…è®¸å°†å‡½æ•°å®šä¹‰ä¸ºä¸€ç³»åˆ—ç­‰å¼ -- æ‰§è¡Œå‡½æ•°æ—¶ï¼Œä¼šé€ä¸ªè¿›è¡ŒåŒ¹é… myNot True = False myNot False = True MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-12-01 06:55:26 "},"ç¼–ç¨‹è¯­è¨€/Ruby.html":{"url":"ç¼–ç¨‹è¯­è¨€/Ruby.html","title":"Ruby","keywords":"","body":"Ruby èµ·æ­¥ ä½¿ç”¨irbè¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ puts 'hello world' name = 'world' puts \"hello #{name}\" ç¼–ç¨‹æ¨¡å‹ Ruby æ˜¯ä¸€é—¨çº¯é¢å‘å¯¹è±¡è¯­è¨€ puts 4.class # Integer puts 4.methods åˆ¤æ–­ x = 6 if x > 5 # singleif puts 'great than 5' end unless x é™¤äº†nilå’Œfalseä¹‹å¤– å…¶ä»–å€¼éƒ½ä»£è¡¨true puts 'hello' && true # true rubyçš„é€»è¾‘è¿ç®—å¯ä»¥ä¸ºand or æˆ–è€… && || puts true && false # false puts true and false # true ç±»å‹ Rubyæ˜¯å¼ºç±»å‹è¯­è¨€ ä¼šå¯¹æŸäº›æ“ä½œè¿›è¡Œç±»å‹æ£€æŸ¥ Rubyæ˜¯åœ¨è¿è¡Œæ—¶æ‰æ£€æŸ¥ puts 4 + 'hello' å‡½æ•° def say_sth puts 'bark' end say_sth æ•°ç»„ list = [1,2,3,4] puts list[0] puts list[-1] # desc order first puts list[0..-1] # 0-end list.push(5) puts list.pop list[10] = [1,2,3] æ•£åˆ—è¡¨ map = {1 => 'cxk', 2 => 'k'} puts map[1] map = {:string => 'string', :array => 'array'} # symbol è¡¨ç¤ºä¸€ç§ç‰¹æ®Šå¯¹è±¡ puts map[:string] puts map[:array] ä»£ç å—ä¸yield ä»£ç å—å°±æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•° 3.times {puts 'hello world'} # ä¼ ç»™timesä¸€ä¸ªä»£ç å— 3.times {|i| puts i} # ä¼ ç»™ä»£ç å—ä¸€ä¸ªå‚æ•°i ä½¿ç”¨yieldå®ç°ï¼š def f i = 0 while i 5 # æ¡ä»¶æ‰§è¡Œ end end condition_yeild {puts 'ddd'} ç±» class Animal attr_accessor :name def initialize(name) @name = name end end dog = Animal.new('dog') puts dog.name method_missionæ–¹æ³• å½“è°ƒç”¨çš„æ–¹æ³•æ‰¾ä¸åˆ° è¯¥æ–¹æ³•ä¼šè¢«è°ƒç”¨ class Man def self.method_missing name, *args puts \"oh, no such method:${name}\" end end puts Man.go Mixin é€šè¿‡æ··å…¥æ¨¡å—çš„æ–¹å¼éšå¼å®ç°ä¸€äº›åŠŸèƒ½ module Human def go puts 'gogogo' end end class Person include Human end p = Person.new p.go é›†åˆçš„å¯æšä¸¾ å¯æ¯”è¾ƒ list = [1,2,3,4,5] puts list.sort puts list.any? {|i| i> 6} puts list.all? {|i| i> 6} puts list.collect {|i| i * 2} # å¯¹æ¯ä¸€å…ƒç´ è¿›è¡Œæ­¤æ“ä½œ puts list.select {|i| i > 2} # æ”¶é›†ç¬¦åˆè¿™ä¸ªæ¡ä»¶çš„å…ƒç´  puts list.member?(2) # å­˜åœ¨ä¸€ä¸ª2 puts list.inject {|sum,i| sum * i} # æ±‚ä¹˜ç§¯ åº”ç”¨åœºæ™¯ è„šæœ¬ webå¼€å‘ ä¸è¶³ æ€§èƒ½ å¹¶å‘ä¸OOP ç±»å‹å®‰å…¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-28 12:11:52 "},"ç¼–ç¨‹è¯­è¨€/Io.html":{"url":"ç¼–ç¨‹è¯­è¨€/Io.html","title":"Io","keywords":"","body":"Io ä¼˜åŠ¿ï¼šå¤§é‡å¯å®šåˆ¶è¯­æ³•å’Œå‡½æ•° å¼ºå¤§çš„å¹¶å‘æ¨¡å‹ èµ·æ­¥ \"hello world\" print # æ‰“å° Vehicle := Object clone # å¤åˆ¶ç°æœ‰å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ Vehicle print Vehicle desc := \"a vehicle\" # ç»™ä¸€ä¸ªæ§½èµ‹å€¼ Vehicle desc print # è¾“å‡ºæ§½ Vehicle slotNames print # è·å–æ‰€æœ‰æ§½ åŸå‹ä¸å¯¹è±¡ Vehicle := Object clone car := Vehicle clone # Vehicleçš„å®ä¾‹ Bike := Vehicle clone # åˆ›å»ºä¸€ä¸ªç»§æ‰¿äºVehicleçš„Bike car name := \"terrbyte\" car name print æ–¹æ³• obj := Object clone obj say := method(\"go out\" println) # å®šä¹‰ä¸€ä¸ªæ–¹æ³• obj say obj proto print # æ‰“å°åŸå‹ list å’Œ map list := list(1,2,3) list average println list sum println list at(1) println list append(1) list pop println list isEmpty println map := Map clone map atPut(\"name\",\"cxk\") map at(\"name\") println true false true and false println false or true println æ³¨æ„ï¼š0ä»£è¡¨true å•ä¾‹ true clone println // itself Vehicle := Object clone Vehicle clone := Vehicle # åˆ›å»ºè‡ªå·±çš„å•ä¾‹ (Vehicle clone == Vehicle clone) println å¾ªç¯ä¸æ¡ä»¶ #loop(\"cxk\" println) # æ­»å¾ªç¯ i := 1; while(i è¿ç®—ç¬¦ OperatorTable addOperator(\"xor\", 11) true xor := method(bool, if(bool, true, false)) # å®šä¹‰xorç»“æœä¸ºtrueçš„è¿ç®—å‡½æ•° false xor := method(bool, if(bool, false, true)) # å®šä¹‰xorç»“æœä¸ºfalseçš„è¿ç®—å‡½æ•° true xor false println æ¶ˆæ¯ åå°„ DSL é€šè¿‡IOçš„è¿ç®—ç¬¦å®šä¹‰ å¯ä»¥å®ç°DSL forward ç±»ä¼¼äºrubyä¸­çš„method_missiing object := Object clone object forward := method(call message name println) object unknow å¹¶å‘ åç¨‹ thread1 := Object clone thread2 := Object clone thread1 run := method( for(i,1,10, i println;yield) ) thread2 run := method( for(i,11,20, i println;yield) ) thread1 @@run; thread2 @@run Coroutine currentCoroutine pause actor future æ ¸å¿ƒä¼˜åŠ¿ å ç”¨ç©ºé—´å° ç”¨åœ¨åµŒå…¥å¼é¢†åŸŸ è¯­æ³•ç®€å• ååˆ†çµæ´» å¯ä»¥é€šè¿‡æ”¹å˜å„ç§æ§½æ¥ä¿®æ”¹è¯­è¨€ å¹¶å‘ ä¸è¶³ è¯­æ³•ç®€å•å¯¼è‡´çš„è¡¨è¾¾èƒ½åŠ›å¼± ç¤¾åŒºä¸æ´»è·ƒ æ€§èƒ½ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-08 11:49:45 "},"ç¼–ç¨‹è¯­è¨€/Prolog.html":{"url":"ç¼–ç¨‹è¯­è¨€/Prolog.html","title":"Prolog","keywords":"","body":"Prolog äº‹å® è§„åˆ™ æŸ¥è¯¢ èµ·æ­¥ likes(wallace, cheese). likes(grommit, cheese). likes(wendolene, sheep). friend(X,Y) : - \\+(X = Y), likes(X, Z), likes(Y, Z). å‰é¢ä¸‰è¡Œå®šä¹‰äº‹å® æœ€åä¸€è¡Œå®šä¹‰è§„åˆ™ plä¼šé€šè¿‡æ ¹æ®è§„åˆ™å¹¶ä¸”æ‰«æçŸ¥è¯†çš„æ–¹å¼å¾—å‡ºyesæˆ–noçš„å›ç­” MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-10 09:02:54 "},"ç¼–ç¨‹è¯­è¨€/Scala.html":{"url":"ç¼–ç¨‹è¯­è¨€/Scala.html","title":"Scala","keywords":"","body":"Scala ç±»å‹ object Hello extends App { println(\"hello world\") println(1 + 1) println(5 + 3*4) println((5). + (3).*(4)) println(\"abc\".size) println(\"abc\" + 4) } å¼ºç±»å‹è¯­è¨€ è¡¨è¾¾å¼ä¸æ¡ä»¶ object ExpressionAndCondition extends App { println(1 while å¾ªç¯ var i = 1 while (i for å¾ªç¯ for(i println(str)) // å‡½æ•°å¼ èŒƒå›´ val r1 = 1 to 10 by 2 // æ­¥é•¿ä¸º2 val r2 = 1 to 10 // æ­¥é•¿ä¸º1 val r3 = 1 until 10 by 2 // æ­¥é•¿ä¸º2 ä¸åŒ…æ‹¬10 å…ƒç»„ val name = (\"c\", \"xk\") println(name._1 + name._2) val (x, y) = (1, 2) println(x+y) ç±» class User(username: String, password: String) // pojoç±» class UserService { val user = new User(\"cxk\", \"123\") def printUser(){ println(user) } } new UserService().printUser æ„é€ å™¨ class User(username: String){ def this(username: String, password: String){ this(username) println(password) } } æ‰©å±•ç±» å•ä¾‹ object singleton { // å•ä¾‹å¯¹è±¡ def print = println(\"he\") // ç±»æ–¹æ³• } singleton.print ç»§æ‰¿ class Father(val name: String){ def say = println(\"i am f\") } class Son(override val name: String, val age: Int) extends Father(name){ override def say: Unit = { super.say println(\"i am s\") } } new Son(\"cx\",1).say trait trait Part { def say = println(\"i am say\") } class Person extends Object with Part{} new Person().say å‡½æ•°å®šä¹‰ def add(a: Int, b: Int): Int = a+b println(add(1,2)) é›†åˆ list val list = List(1,2,3) println(list(2)) println(list == List(1,2,3)) set val set = Set(1,2,3) println(set - 2) // é›†åˆè¿ç®— println(set + 5) println(set -- Set(1,2)) // é›†åˆé—´è¿ç®— println(set ++ Set(5,6)) println(set == Set(1,2,3)) map val map = Map(\"name\" -> \"cxk\",\"age\" -> 18) // ä¸å¯å˜map println(map(\"name\")) val mMap = new mutable.HashMap[String, Any] // å¯å˜map mMap += \"name\" -> \"cxk\" mMap += \"age\" -> 18 é›†åˆå‡½æ•° é«˜é˜¶å‡½æ•°ï¼šä»¥å‡½æ•°ä½œä¸ºè¾“å…¥æˆ–ä»¥å‡½æ•°ä½œä¸ºè¾“å‡º val list = List(1,2,3) println(list.isEmpty) println(list.length) println(list.size) println(list.head) println(list.tail) // è¿”å›å»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ çš„list println(list.last) println(list.init) // è¿”å›å»é™¤æœ€åä¸€ä¸ªå…ƒç´ çš„list println(list.reverse) // éƒ½ä¸ä¼šä¿®æ”¹åŸåˆ—è¡¨ println(list.drop(1)) println(list.count(i => i >= 2)) // è®¡ç®—ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ä¸ªæ•° println(list.filter(i => i >=2)) // å°†ç¬¦åˆæ¡ä»¶çš„å…ƒç´ æ‹¿å‡ºæ¥ println(list.map(i => i *2)) println(list.exists(i => i > 2)) // æ˜¯å¦å­˜åœ¨è¿™ä¸€çš„ä¸€ä¸ªå…ƒç´  println(list.sortWith((a,b) => a > b)) println((0 /: list){(sum, i) => sum+i}) // ä»åˆå§‹å€¼0å¼€å§‹ç´¯åŠ  println(list.foldLeft(0)((sum,i) => sum + i)) list.foreach(i => println(i)) val map = Map(\"name\" -> \"cxk\", \"age\" -> 18) map.foreach(entry => println(entry._1 + entry._2)) Any å’Œ Nothing Anyæ˜¯æ‰€æœ‰ç±»å‹çš„çˆ¶ç±» Nothingæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±» Nullæ˜¯ä¸€ä¸ªTrait nullæ˜¯Nullçš„å®ä¾‹ æ¨¡å¼åŒ¹é… switch def switch(i: String): String = i match { case \"1\" => \"one\" case \"2\" => \"two\" case _ => \"none\" } println(switch(\"1\")) println(switch(\"ss\")) æ­£åˆ™è¡¨è¾¾å¼ val reg = \"\"\"\\w\"\"\".r // åˆ›å»ºä¸€ä¸ªæ­£åˆ™ println(reg.findFirstIn(\"i am your\")) å¹¶å‘ ... æ ¸å¿ƒä¼˜åŠ¿ å¹¶å‘ ç»§æ‰¿äº† Java çš„ç”Ÿæ€ è¯­æ³•çµæ´» æœ‰æœ›è‡ªå®šä¹‰ä¸ºDSL å†…ç½®çš„XMLæ”¯æŒ ä¸è¶³ é™æ€ç±»å‹ä¸é€‚åˆOOP è™½ç„¶ç»§æ‰¿äº† Java ï¼Œä½†æŸäº›è¯­æ³•è¿˜æ˜¯å¾ˆå¥‡æ€ª å¼•å…¥äº†å¯å˜æ€§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-13 01:01:27 "},"ç¼–ç¨‹è¯­è¨€/Erlang.html":{"url":"ç¼–ç¨‹è¯­è¨€/Erlang.html","title":"Erlang","keywords":"","body":"Erlang æ— çº¿ç¨‹ è½»é‡çº§çº¿ç¨‹ çƒ­æ‹”æ’ èµ·æ­¥ % æ³¨é‡Š 2 + 2.0. \"str\". [1, 2, 3]. Var = 1. % å®šä¹‰å˜é‡ åŸå­ åˆ—è¡¨ å…ƒç»„ Color = red. % redæ˜¯ä¸€ä¸ªåŸå­ èµ‹å€¼ç»™Color [1,2,\"ds\"]. % åˆ—è¡¨æ˜¯å¼‚è´¨å˜é•¿çš„ {1, 2 , \"3\"}. % å…ƒç»„æ˜¯å˜é•¿çš„ æ¨¡å¼åŒ¹é… {X, Y} = {1, 2}. [One|Two = [1,2,3,4]. % Two åŒ¹é…å‰©ä¸‹çš„é‚£äº› All = >. % ä½åŒ¹é… > = All. å‡½æ•° -module(basic). -export([mirror/1, number/1]). -export([sum/1]). mirror(Anything) -> Anything. number(one) -> 1. % æ¨¡å¼åŒ¹é… sum(0) -> 0; sum(1) -> 1; sum(N) -> N + sum(N-1). % é€’å½’ æ§åˆ¶ç»“æ„ case Animal = \"dog\". case Animal of \"dog\" -> \"bark\"; \"cat\" -> \"mow\"; _ -> \"unknow\" end. if X = 0. if X >=0 -> positive; X negative end. åŒ¿åå‡½æ•° Add = fun(A, B) -> A+B end. Add(1,2). åˆ—è¡¨ä¸é«˜é˜¶å‡½æ•° Numbers = [1,2,3]. lists:foreach(fun(I) -> io:format(\"~p~n\",[I]) end, Numbers). % è¿­ä»£ lists:map(fun(I) -> I * I end, Numbers). % æ˜ å°„\\ lists:filter(fun(I) -> I > 1 end, Numbers). lists:all(fun(I) -> I > 1 end, Numbers). lists:any(fun(I) -> I > 1 end, Numbers). lists:foldl(fun(I,SUM) -> I + SUM end, 0, [1,2,3,4,5]). % reduce å¹¶å‘ åŸºæœ¬çš„æ¥æ”¶å¾ªç¯ -module(translate). -export([loop/0]). loop() -> receive % æ¥æ”¶æ¶ˆæ¯ \"chinese\" -> io:format(\"ä¸­æ–‡\"), loop(); \"dog\" -> io:format(\"ç‹—\"), loop(); _ -> io:format(\"æœªçŸ¥\"), loop end. ä½¿ç”¨ Pid = spawn(fun translate:loop/0). % å¯åŠ¨è½»é‡çº§è¿›ç¨‹ Pid ! \"chinese\". % å‘é€æ¶ˆæ¯ åŒæ­¥å‘é€ä¸æ¥æ”¶ -module(translate). -export([loop/0,translate/2]). loop() -> receive { Form, \"chinese\"} -> Form ! \"ccc\", loop(); { Form, \"dog\"} -> Form ! \"ddd\", loop(); { Form, _ } -> Form ! \"uuu\", % å‘é€ loop end. translate(Pid, Word) -> Pid ! {self(), Word}, % åŒæ­¥å‘é€ receive Trans -> Trans end. translate:translate(Pid, \"dog\"). æ ¸å¿ƒä¼˜åŠ¿ å¯é  è½»é‡ æ— å…±äº«çš„è¿›ç¨‹ OTP ä¼ä¸šçº§åˆ«çš„åº“ éšä»–å´©æºƒ ä¸è¶³ è¯­æ³• ç»§æ‰¿äºprolog MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-19 06:32:46 "},"ç¼–ç¨‹è¯­è¨€/Clojure.html":{"url":"ç¼–ç¨‹è¯­è¨€/Clojure.html","title":"Clojure","keywords":"","body":"Clojure JVM Lispæ–¹è¨€ åŸºæœ¬è¿ç®—ä¸å‡½æ•°è°ƒç”¨ (println (- 1)) (println (+ 1 1)) (println (+ 1 1 1)) ; ä½¿ç”¨ä¸€ä¸ªè¿ç®—ç¬¦è¿ç®— (println (+ 3.0 5)) ; è‡ªåŠ¨ç±»å‹è½¬æ¢ (println (= 1 1 1)) (println (* 10 10)) (println (/ 6 3)) (println (class (/ 6 3))) å­—ç¬¦ä¸å­—ç¬¦ä¸² (println \\a) ;; å­—ç¬¦ (println (str 1 2 \\a)) ;; è½¬ä¸ºå­—ç¬¦ä¸² å¸ƒå°”å€¼ä¸è¡¨è¾¾å¼ (println (= 1 1)) (if (= 1 1) (println \"hello world\")) 0 å’Œ \"\" éƒ½ä»£è¡¨true æ•°æ®ç»“æ„ åˆ—è¡¨ Clojure åˆ—è¡¨æ˜¯ä»£ç  ;(println (1,2,3)) ; é”™è¯¯ (println (list 1 2 3)) ; ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ ; åˆ—è¡¨æ“ä½œ (println (first (list 1 2 3))) (println (last (list 1 2 3))) (println (rest (list 1 2 3))) ; é™¤å¤´å…ƒç´  å‘é‡ (println [1 2 3]) (println (first [1 2 3])) (println (nth [1 2 3] 2)) (println (last [1 2 3])) (println ([1 2 3] 2)) ; å‘é‡ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•° å¯ä»¥æ‰§è¡Œå‚æ•°ä¸º2 é›†åˆ (println #{1 2 3}) (def s #{1 2 3}) ; é›†åˆèµ‹å€¼ (println (count s)) (println (sort s)) (println (sorted-set 3 1 2)) ; åˆ›å»ºä¸€ä¸ªæœ‰åºé›†åˆ (println s 2) ; åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ æ˜ å°„è¡¨ (def suffix {\"js\" \"javascript\", \"py\" \"python\", \"java\" \"java\"}) (println (suffix \"js\")) (println (merge {\"js\" 1, \"java\" 1} { \"py\" 1, \"java\" 1})) ; åˆå¹¶ é‡å¤ç›´æ¥è¦†ç›– (println (merge-with + {\"js\" 1, \"java\" 1} { \"py\" 1, \"java\" 1})) ; åˆå¹¶ æä¾›ä¸€ä¸ªæ“ä½œå½“é‡å¤æ—¶æ‰§è¡Œè¯¥æ“ä½œ (println (assoc {\"js\" 1} \"java\" 1)) ; å¢åŠ KV å‡½æ•°å®šä¹‰ (defn say [] (println \"hello world\")) ; å®šä¹‰ (say) è§£æ„ (defn center [[_ c _]] c) (println (center [1,2,3])) ; 2 (println (let [[_ c _] [1 2 3]] c)) ;2 åŒ¿åå‡½æ•° ; apply (defn kiss [man] (println \"kiss\" man)) (apply kiss '(\"people\")) ; è°ƒç”¨æŒ‡å®šå‡½æ•°ä½¿ç”¨æŒ‡å®šå‚æ•° ; filter (defn gt2 [i] (> i 2)) (println (filter gt2 [1 2 3])) ; ä½¿ç”¨æŒ‡å®šå‡½æ•°è¿‡æ»¤å…ƒç´  é€’å½’ ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼ (defn size [v] (if (empty? v) 0 (inc (size (rest v)))) ) (println (size [1 2 3])) ä½¿ç”¨loopå’Œrecur (defn size1 [v] (loop [l v, c 0] (if (empty? l) c (recur (rest l) (inc c)) ) ) ) (println (size1 [1 2 3])) åºåˆ— ä¸€ä¸ªä¸å…·ä½“å®ç°æ— å…³çš„æŠ½è±¡å±‚ ; æµ‹è¯• (println (some nil? [1 2 3])) (println (every? number? [1 2 3])) ; ä¿®æ”¹ (println (map (fn [x] (* x x)) [1 2 3 4])) (println (filter (fn [x] (> x 2)) [1 2 3 4])) ; åˆ—è¡¨è§£æ (def people [\"è”¡å¾å¤\" \"å¾é›ªè‰\" \"å¼ æ— å¿Œ\"]) (def object [\"ç¯®çƒ\" \"è›‹ç³•\" \"æ¸¸æˆ\"]) (println (for [x people, y object] (str x \"å–œæ¬¢\" y))) ; åˆ—è¡¨è§£æè¿‡æ»¤ (println (for [x people, y object, :when(= y \"ç¯®çƒ\")] (str x \"å–œæ¬¢\" y))) ; reduce (println (reduce + [1 2 3 4])) (println (reduce * [1 2 3 4])) ; æ’åº ( println ( sort-by (fn [x] (if ( å»¶è¿Ÿè®¡ç®— æœ‰ç©·åºåˆ— (println (range 1 10)) ; [1,10) (println (range 10)) ; [0,10) æ— ç©·åºåˆ— (println (take 3 (repeat 100))) ; ä»æ— é™é‡å¤100çš„åºåˆ—å–å‡º3ä¸ª (println (take 5 (cycle [\"å¾å·¥\" \"å¼ æ— å¿Œ\" \"ä½ä¿®\"]))) ; ä»è¿™ä¸ªåˆ—è¡¨çš„æ— é™å¾ªç¯å–5ä¸ª (println (take 5 (interpose \"å’Œ\" (cycle [\"å¾å·¥\" \"å¼ æ— å¿Œ\" \"ä½ä¿®\"])))) ; å…ƒç´ ä¹‹é—´åŠ å…¥åˆ†éš”ç¬¦ (defn sum [x] (+ x 1)) (println (take 100 (iterate sum 0))) ; ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•° åè®® defrecordå’Œprotocol å® (defmacro unless [test body] (list 'if(list 'not test) body) ) ; å®šä¹‰å® (unless (= 1 2) (println \"done\")) å¹¶å‘ å¼•ç”¨ä¸äº‹åŠ¡ ; å¼•ç”¨ (def name (ref \"cxk\")) ; å®šä¹‰ (println @name) ; ä½¿ç”¨ (dosync (ref-set name \"jntm\")) ; åªèƒ½åœ¨äº‹åŠ¡(dosync)é‡Œé¢ä¿®æ”¹ (println @name) åŸå­ (def person (atom \"ç”µå½±äºº\")) ; å®šä¹‰ (println person) (reset! person \"æ‰“å·¥äºº\") ; è®¾ç½®æ–°åŸå­ (println person) ä»£ç† (defn calc [x] (* 2 2)) (def proxy (agent 1)) (send proxy calc) ; è®©ä»£ç†å»è°ƒç”¨å‡½æ•° (println @proxy) ; è¿™é‡Œè¯»å–ä¼šå¾ˆå¿«è¿”å› å³ä½¿calcå‡½æ•°é˜»å¡ future ; future åŸºæœ¬è·Ÿä»£ç†ä¸€æ · (def result (future (Thread/sleep 1000) \"got it\")) (println @result) ; åªæœ‰ç»“æœè¿”å›æ‰èƒ½è·å– å¦åˆ™å°±é˜»å¡ä½äº† æ ¸å¿ƒä¼˜åŠ¿ æ‹¬å·ç›¸æ¯”å…¶ä»–Lispæ–¹è¨€å°‘ åºå¤§çš„Javaç”Ÿæ€ç³»ç»Ÿæ”¯æŒ é™åˆ¶äº†å®çš„éƒ¨åˆ†èƒ½åŠ› å¹¶å‘ å»¶è¿Ÿè®¡ç®— åˆ—è¡¨å³ä»£ç  ä¸è¶³ è¯­æ³• å‰ç¼€è¡¨è¾¾å¼ æ‹¬å·å¸¦æ¥çš„å¯è¯»æ€§é—®é¢˜ å­¦ä¹ æ›²çº¿é™¡ åœ¨JVMä¸Š å—åˆ°äº†ä¸€äº›é™åˆ¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-25 03:14:54 "},"ç¼–ç¨‹è¯­è¨€/Rust.html":{"url":"ç¼–ç¨‹è¯­è¨€/Rust.html","title":"Rust","keywords":"","body":"Rust cargo é¡¹ç›®ç®¡ç†å·¥å…· new build check ç¬¬ä¸€ä¸ªç¨‹åº: fn main(){ println!(\"hello world\"); } å˜é‡ const MAX: u32 = 100; // å¸¸é‡å®šä¹‰ fn main() { println!(\"MAX = {}\", MAX); //å˜é‡å®šä¹‰ let a = 1; let b: u32 = 1; // æ˜¾å¼æŒ‡å®šç±»å‹ println!(\"a = {}\", a); println!(\"b = {}\", b); // b = 2; ç¼–è¯‘æŠ¥é”™ï¼šä¸èƒ½å¯¹ä¸å¯å˜å˜é‡èµ‹å€¼ä¸¤æ¬¡ let mut c: u32 = 2; // å£°æ˜å¯å˜å˜é‡ c = 3; println!(\"c = {}\", c); let a: f32 = 1.1; // å˜é‡éšè—ï¼ˆå˜é‡é®è”½ï¼‰ println!(\"a = {}\", a); } æ•°æ®ç±»å‹ fn main() { let success: bool = true; // å¸ƒå°”ç±»å‹ println!(\"success: {}\", success); let name = 'èœ'; // charæ˜¯32ä½çš„ println!(\"{}\", name); // æ•°å­—ç±»å‹ï¼ši8,i16,i32,i64 u8 u32 u64 f32 f64 let i: i8 = 127; println!(\"{}\", i); // è‡ªé€‚åº”ç±»å‹ï¼šå–å†³äºå¹³å° isize usize println!(\"{} {}\", isize::max_value(), usize::max_value()); // æ•°ç»„å®šä¹‰ æ•°ç»„é•¿åº¦ä¹Ÿæ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼ˆé•¿åº¦ä¸åŒ ç±»å‹ä¸åŒï¼Ÿï¼‰ let arr: [u32; 5] = [1, 2, 3, 4, 5]; println!(\"{}\", arr[0]); // print(arr); ç¼–è¯‘é”™è¯¯ï¼šé•¿åº¦ä¸åŒ¹é… // å…ƒç»„ let person: (i32, char) = (18, 'å¼ '); println!(\"{} {}\", person.0, person.1); let person = (18, 'å¼ '); println!(\"{} {}\", person.0, person.1); let (age, name) = person; // è§£æ„ println!(\"{} {}\", name, age); } fn print(arr:[u32;3]){} å‡½æ•° fn say_hello(name: char) -> i32{ println!(\"hello, {}\", name); return 0; } fn add() -> i32{ // è¯­å¥æ‰§è¡Œä¸€äº›æ“ä½œ ä½†æ²¡æœ‰è¿”å›å€¼ ä¾‹å¦‚let x= 1 // è¡¨è¾¾å¼ä¼šè¿”å›ä¸€äº›å€¼ å¦‚a+b è¡¨è¾¾å¼å°±å¯ä»¥ä¸åŠ returnç›´æ¥è¿”å› 0 // è¿™æ ·ä¹Ÿå¯ä»¥è¿”å› } fn main() { println!(\"{}\", say_hello('ä½ ')); println!(\"{}\", add()); } æ§åˆ¶æµ fn main() { let x = 0; if x == 0 { println!(\"0\"); }else if x == 1{ println!(\"1\"); }else { println!(\"unknow\"); } // åœ¨letè¯­å¥ä¸­ä½¿ç”¨if ä¸¤ä¸ªåˆ†æ”¯çš„è¿”å›å€¼éœ€è¦ä¸ºåŒä¸€ç±»å‹ let name = if x == 0 { 'é™ˆ' }else { 'ç”°' }; println!(\"{}\", name); let mut i = 0; loop { if i >= 10 { break; } println!(\"{}\", i); i = i + 1; } // loop å¸¦è¿”å›å€¼ let res = loop { if i >= 30 { break i * 2; } i = i+1; }; println!(\"{}\", res); // whileå¾ªç¯ while i != 0 { i -=1; }; // forå¾ªç¯éå†æ•°ç»„ let arr:[u32; 5] = [1,2 ,3, 4, 5]; for i in arr.iter() { println!(\"{}\", i); } } æ‰€æœ‰æƒ Rust é€šè¿‡æ‰€æœ‰æƒæœºåˆ¶ç®¡ç†å†…å­˜ ç¼–è¯‘å™¨ä¼šæ ¹æ®æ‰€æœ‰æƒè§„åˆ™å¯¹å†…å­˜çš„ä½¿ç”¨è¿›è¡Œæ£€æŸ¥ å †æ ˆ ç¼–è¯‘æ—¶å¤§å°å›ºå®šåœ¨æ ˆ å¦åˆ™åœ¨å †ä¸Š Stringçš„å†…å­˜å›æ”¶ Stringç±»å‹åœ¨ç¦»å¼€ä½œç”¨åŸŸçš„æ—¶å€™å›è°ƒç”¨dropæ–¹æ³• let s1 = String::from(\"hello\"); let s2 =s1; // -- value moved here æ‰€æœ‰æƒè½¬ç§» s1æ— æ•ˆäº† println!(\"{}\", s2); // println!(\"{}\", s1); // æ— æ³•æ‰“å° } deep clone // éœ€è¦ç±»å‹å®ç°clone trait let s3 = s2.clone(); println!(\"{}\", s3); copy // éœ€è¦ç±»å‹å®ç°copy trait // åŸºæœ¬ç±»å‹+å…ƒç»„éƒ½å®ç°äº†copy trait let x = 1; let y = x; // æ ˆä¸Šå¤åˆ¶ println!(\"{} {}\", x, y); // æ­£å¸¸ä½¿ç”¨y å¼•ç”¨ // ä½¿ç”¨å¼•ç”¨å¹¶ä¸æ‹¥æœ‰è¿™ä¸ªå€¼ ç¦»å¼€è¿™ä¸ªä½œç”¨åŸŸåä¹Ÿä¸ä¼šè¢«ä¸¢å¼ƒ fn length(s: &String) -> usize{ s.len() } fn modify_str(s: &mut String) { s.push_str(\"kkk\"); } fn main() { let s = String::from(\"jntm\"); println!(\"{}\", length(&s)); println!(\"{}\", s); // ä»ç„¶èƒ½ç»§ç»­ä½¿ç”¨ let mut s1 = String::from(\"jntm\"); modify_str(&mut s1); // å¼•ç”¨ä¸èƒ½ç›´æ¥ä¿®æ”¹å€¼ ä½¿ç”¨å€Ÿç”¨ï¼ˆå€Ÿç”¨çš„å˜é‡å¿…é¡»ä¸º mutï¼‰ let mut s = String::from(\"jntm\"); let r1 = &s; let r2 = &mut s; // åœ¨ä»»æ„æ—¶å€™ åªèƒ½å‡ºç°ä¸€ä¸ªå¯å˜å¼•ç”¨ è¿è¡Œå¤šä¸ªä¸å¯å˜å¼•ç”¨ //println!(\"{} {}\", r1 ,r2); // ä¸å…è®¸å¼•ç”¨åå‡ºç°å€Ÿç”¨ } slice fn main() { let s = String::from(\"disa\"); println!(\"{}\", &s[0..2]); println!(\"{}\", &s[0..=2]); println!(\"{}\", &s[..=2]); // é»˜è®¤ä»0å¼€å§‹ // println!(\"{}\", \"ä½ å¥½\"[..1]); // ç´¢å¼•è¦æ³¨æ„UTF8å­—èŠ‚è¾¹ç•Œ åˆ‡ç‰‡æ˜¯åŸºäºå­—èŠ‚çš„ // å…¶ä»–ç±»å‹çš„slice let a = [1, 2, 3, 4]; println!(\"{}\", &a[1..2][0]); } ç»“æ„ä½“ fn main() { // å®šä¹‰ #[derive(Debug)] // åŠ äº†è¿™ä¸ªå¯ä»¥æ‰“å° struct User { name: String, age: u8, } // åˆ›å»º let mut cxk = User {name: String::from(\"cxk\"), age: 18}; println!(\"{:?}\", cxk); // æ‰“å° // ä¿®æ”¹ cxk.age = 24; // å­—æ®µåä¸å‚æ•°ååŒåç®€å†™ let name = String::from(\"bili\"); let age = 15; let bili = User {name, age}; // ä»å…¶ä»–ç»“æ„ä½“åˆ›å»º let jame = User{name: String::from(\"jame\"), ..cxk}; // åŒ¿åå‚æ•°ç»“æ„ä½“ struct Point(i32, i32); let p = Point(5, 5); println!(\"{} {}\", p.0, p.1); // ç©ºç»“æ„ä½“ struct Null{}; } æ–¹æ³• struct Dog { name: String } impl Dog { fn bark(&self) -> &Dog{ println!(\"{} wolf wolf\", self.name); &self } } fn main() { let dog = Dog{name: String::from(\"boy\")}; dog.bark(); } æšä¸¾ä¸åŒ¹é… enum MsgInfo { ERROR, SUCCESS, UNKNOW } impl MsgInfo { // åŒ¹é… fn print(&self) { match *self { MsgInfo::ERROR => println!(\"error\"), MsgInfo::SUCCESS => println!(\"success\"), _ => println!(\"unknow\") } } } fn main() { struct Response { status: MsgInfo, msg: String } let response = Response {status: MsgInfo::SUCCESS, msg: String::from(\"æˆåŠŸ\")}; // å®˜æ–¹æ¨èçš„å®šä¹‰æ–¹å¼ enum Ip { V4(u8,u8,u8,u8), V6(String) } let ip = Ip::V4(127,0,0,1); } Option æ ‡å‡†åº“å®šä¹‰çš„æšä¸¾ fn main() { let some_number: Option = Some(5); let null_str: Option = None; // æ‰“å°someé‡Œé¢çš„å€¼ match some_number { Some(i) => println!(\"{}\", i), _ => {}, } match incr(some_number){ None => {}, Some(x) => println!(\"{}\", x) } // ä½¿ç”¨ifå¤„ç† if let Some(value) = incr(some_number) { println!(\"{}\", value); } } fn incr(x: Option) -> Option { match x { None => None, Some(x) => Some(x + 1) } } Vector let mut v: Vec = Vec::new(); v.push(1); let v = vec![1, 2, 3]; // åˆ›å»ºå¸¦æœ‰åˆå§‹å€¼çš„vector println!(\"{}\", &v[0]); // å¼•ç”¨è®¿é—® match v.get(1) { // matchè®¿é—® Some(value) => println!(\"{}\", value), None => {} } let mut v = Vec::new(); v.push(1);v.push(2);v.push(3); // ä¸å¯å˜éå† for i in &v { println!(\"{}\", i); } // å¯å˜éå† for i in &mut v { *i += 1; // å¯¹æ¯ä¸ªå€¼åŠ 1 } å­—ç¬¦ä¸² let mut s = String::new(); // ç©ºå­—ç¬¦ä¸² s.push_str(\"hello \"); // æ›´æ–° let s = String::from(\"init\"); // å­—é¢é‡ let mut s = \"123\".to_string(); let ss = \"123\".to_string(); s.push_str(&ss); println!(\"{}\", ss); // ä»ç„¶å¯ä»¥ä½¿ç”¨ s.push('m'); // push åªèƒ½æ·»åŠ å­—ç¬¦ let s1 = String::from(\"hello\"); let s2 = String::from(\" world\"); let s3 = s1 + &s2; // å­—ç¬¦ä¸²åˆå¹¶ s1ä¸èƒ½å†ä½¿ç”¨ let str = format!(\"{} {}\", s2, s3); // å­—ç¬¦ä¸²æ ¼å¼åŒ– let length = \"ä½ å¥½\".to_string().len(); // ç¼–ç ä¸ºutf8 é•¿åº¦ä¸º6 for c in str.chars() { // éå† println!(\"{}\", c); } for b in str.bytes() { println!(\"{}\", b); } HashMap use std::collections::HashMap; fn main() { let mut map = HashMap::new(); map.insert(\"name\", \"cxk\"); // ä½¿ç”¨ä¸¤ä¸ªvectoråˆ›å»ºhashmap let keys = vec![\"name\",\"age\"]; let values = vec![\"cxk\",\"18\"]; let map:HashMap = keys.iter().zip(values.iter()).collect(); let mut map:HashMap = HashMap::new(); map.insert(String::from(\"name\"), String::from(\"cxk\")); map.insert(String::from(\"age\"), String::from(\"18\")); // è¯»å–å…ƒç´  match map.get(&String::from(\"name\")) { Some(v) => println!(\"{}\", v), None => {} } // éå†å…ƒç´  for (k,v) in &map { println!(\"{} {}\",k,v); } // putIfAbsent map.entry(String::from(\"name\")).or_insert(String::from(\"kd\")); } æ¨¡å— åˆ›å»ºæ¨¡å— cargo new --lib mylib åœ¨mylib/srcåˆ›å»ºfactory.rs mod factory { pub mod socket_produder { pub fn new_socket(){ println!(\"socket new\"); } } mod log_producer { fn new_log(){ println!(\"log new\"); } } } -lib.rså¯¼å‡º pub mod factory; main.rså¼•ç”¨ [dependencies] mylib = {path = \"./mylib\"} use mylib::factory::socket_produder; MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-10 05:49:54 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/springæ¦‚è§ˆ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/springæ¦‚è§ˆ.html","title":"ğŸƒSpring","keywords":"","body":"Spring æ¦‚è§ˆ å…³é”®ç­–ç•¥ åŸºäºPOJOå’Œæœ€å°ä¾µå…¥æ€§ç¼–ç¨‹ é€šè¿‡ä¾èµ–å’Œé¢å‘æ¥å£å®ç°æ¾è€¦åˆ åŸºäºåˆ‡é¢å’Œæƒ¯ä¾‹è¿›è¡Œå£°æ˜å¼ç¼–ç¨‹ é€šè¿‡åˆ‡é¢å’Œæ¨¡æ¿å‡å°‘æ ·æ¿ä»£ç  ç®€åŒ–JAVAå¼€å‘ ä¾èµ–æ³¨å…¥ åº”ç”¨åˆ‡é¢ å„ç§æ¨¡æ¿ å®¹çº³ä½ çš„Bean å¸¸ç”¨ä¸Šä¸‹æ–‡ï¼š AnnotationConfigApplicationContext AnnotationConfigWebApplicationContext ClassPathXmlApplicationContext FileSystemXmlApplicationContext XmlWebApplicationContext ApplicationContextç«‹å³åŠ è½½ BeanFactoryå»¶è¿ŸåŠ è½½ beançš„ç”Ÿå‘½å‘¨æœŸ Spring æ¨¡å— Springæ¡†æ¶çš„æ ¸å¿ƒ DI å’Œ AOP è§£è€¦ åå°„ å·¥å‚æ¨¡å¼è§£è€¦ æ§åˆ¶åè½¬-Inversion Of Control MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-11 00:55:56 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/Beanæ³¨å†Œ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/Beanæ³¨å†Œ.html","title":"Beanæ³¨å†Œ","keywords":"","body":"Bean æ³¨å†Œ Springçš„é…ç½®æ–¹æ¡ˆ XML JAVA è‡ªåŠ¨è£…é… è‡ªåŠ¨åŒ–è£…é… è‡ªåŠ¨åŒ–è£…é…æŒ‡çš„æ˜¯é€šè¿‡ä¸€ç³»åˆ—æè¿°æ€§ä»£ç ï¼Œæè¿°Beanå¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä»è€Œäº¤ç”±Springè‡ªåŠ¨ç»„è£…å‡ºæ¥ï¼Œç›®å‰æœ‰ä¸¤ç§æ–¹å¼ï¼š ç»„ä»¶æ‰«æ è‡ªåŠ¨è£…é… @Componentæ³¨è§£ @Component // å°†å½“å‰ç±»å¯¹è±¡å­˜å…¥å®¹å™¨ public class Tea {...} Springè‡ªåŠ¨æ³¨å…¥ @Component public class Cup { private Tea tea; @Autowired public Cup(Tea tea) { this.tea = tea; } } å…¶ä»–åŠŸèƒ½ä¸€æ ·ï¼Œä½†è¯­ä¹‰ä¸åŒçš„æ³¨è§£ï¼š @Controller @Service @Repository @ComponentScanæ³¨è§£ åˆ›å»ºä¸€ä¸ªç»„ä»¶æ‰«æé…ç½®ï¼š @ComponentScan(basePackages = \"wang.ismy.spring\") public class Config {} æŒ‡å®šæ‰«æç­–ç•¥ @ComponentScan(value = \"*\", excludeFilters = { @Filter(type = FilterType.ANNOTATION, classes = {Controller.class, Repository.class}), @Filter(type = FilterType.ASSIGNABLE_TYPE, classes = User.class) }) æ ¹æ®æ³¨è§£æ¥æ’é™¤ï¼ˆtype = FilterType.ANNOTATIONï¼‰,è¿™äº›æ³¨è§£çš„ç±»å‹ä¸ºclasses = {Controller.class, Repository.class}ã€‚å³Controllerå’ŒRepositoryæ³¨è§£æ ‡æ³¨çš„ç±»ä¸å†è¢«çº³å…¥åˆ°IOCå®¹å™¨ä¸­ã€‚ æ ¹æ®æŒ‡å®šç±»å‹ç±»æ’é™¤ï¼ˆtype = FilterType.ASSIGNABLE_TYPEï¼‰ï¼Œæ’é™¤ç±»å‹ä¸ºUser.classï¼Œå…¶å­ç±»ï¼Œå®ç°ç±»éƒ½ä¼šè¢«æ’é™¤ã€‚ è‡ªå®šä¹‰æ‰«æç­–ç•¥ @ComponentScan(value = \"*\", excludeFilters = { @Filter(type = FilterType.CUSTOM, classes = MyTypeFilter.class) }) ... public class MyTypeFilter implements TypeFilter { @Override public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {...} } è·å–contextä½¿ç”¨bean AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(Config.class); context.getBean(Bean.class).say(); å¤„ç†è‡ªåŠ¨è£…é…æ­§ä¹‰æ€§ @Resourceæ³¨è§£ï¼šä½¿ç”¨è¯¥æ³¨è§£å¯ä»¥ç›´æ¥æŒ‡å®šbean nameï¼Œè¯¥æ³¨è§£éspringæä¾› æ ‡ç¤ºé¦–é€‰bean @Primaryæ³¨è§£ @Bean @Primary // å½“æœ‰å¤šä¸ªå¯é€‰é¡¹æ—¶ï¼Œå°†ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªbean public Bean1 bean1(){ Bean1 bean1 = new Bean1(); bean1.setName(\"pro\"); return bean1; } é™å®šè‡ªåŠ¨è£…é…çš„bean @Autowired @Qualifier(\"bean1f\") // å½“æœ‰å¤šä¸ªå¯é€‰é¡¹æ—¶ï¼Œå°†ä½¿ç”¨åä¸ºbean1fçš„bean public void setBean1(Bean1 bean1){} @Qualifierä¹Ÿå¯ä»¥ç”¨åœ¨æ–¹æ³•å‚æ•°ä¸Š å¯¼å…¥ @ImportResource(\"classpath:spring.xml\") // å¯¼å…¥xmlé…ç½® @Import(Config.class) // å¯¼å…¥javaä»£ç é…ç½® @Import(MyImportSelector.class) // è‡ªå®šä¹‰å¯¼å…¥ç­–ç•¥ public class Config {} public class MyImportSelector implements ImportSelector { @Override public String[] selectImports(AnnotationMetadata importingClassMetadata) { return new String[]{ \"*\", \"*\", \"*\" }; } } ä½¿ç”¨FactoryBeanæ³¨å†Œç»„ä»¶ public class CherryFactoryBean implements FactoryBean { @Override public Cherry getObject() { return new Cherry(); } @Override public Class getObjectType() { return Cherry.class; } @Override public boolean isSingleton() { return false; } } å¦‚æœæˆ‘ä»¬è¦è·å–cherryFactoryBeanæœ¬èº«ï¼Œåˆ™å¯ä»¥è¿™æ ·åšï¼š context.getBean(\"&cherryFactoryBean\"); @Profile é€šè¿‡ç¼–å†™ä¸åŒçš„profileï¼Œä»¥æ­¤è¾¾åˆ°åˆ‡æ¢ä¸åŒçš„profileï¼Œè£…é…ä¸åŒBeançš„åŠŸèƒ½ æ‰‹åŠ¨ç¼–å†™ä¸åŒprofileçš„é…ç½® @Configuration @Profile(\"pro\") public class Config1 { @Bean public Bean1 bean1(){ Bean1 bean1 = new Bean1(); bean1.setName(\"pro\"); return bean1; } } @Configuration @Profile(\"dev\") public class Config { @Bean public Bean1 bean1(){ Bean1 bean1 = new Bean1(); bean1.setName(\"dev\"); return bean1; } } æ¿€æ´»profile System.setProperty(\"spring.profiles.active\",\"pro\"); AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MasterConfig.class); context.getBean(Bean1.class).run(); æ¡ä»¶åŒ–è£…é… @Conditionalæ³¨è§£ @Bean @Conditional(MyConditional.class) public Bean1 bean1(){ Bean1 bean1 = new Bean1(); bean1.setName(\"pro\"); return bean1; } åªè¦è‡ªå®šå®ç°Conditionæ¥å£ï¼Œå°±å¯ä»¥æ§åˆ¶beançš„è£…é…ï¼š public class MyConditional implements Condition { @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) { // ... return true; } } JAVAä»£ç è£…é… ç”±äºæŸäº›ç±»æ¥æºäºå¤–éƒ¨ï¼Œæˆ‘ä»¬æ— æ³•ä¿®æ”¹å…¶æºç å¦‚åœ¨ç±»ä¸ŠåŠ ä¸Š@Componentæ³¨è§£æ¥æ³¨å…¥å®¹å™¨ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨javaä»£ç çš„æ–¹å¼åˆ›å»ºåæ³¨å…¥ @Configuration public class Config { @Bean // é»˜è®¤å€¼æ˜¯æ–¹æ³•åç§° public wang.ismy.spring.Bean bean(Bean1 bean1){return new wang.ismy.spring.Bean(bean1);} @Bean public Bean1 bean1(){return new Bean1();} } ä½œç”¨åŸŸ singletonï¼šå•ä¾‹ prototypeï¼šæ¯æ¬¡è·å–éƒ½ä¼šåˆ›å»ºå®ä¾‹ sessionï¼šæ¯ä¸ªä¼šè¯ä¸€ä¸ªbean requestï¼šæ¯ä¸ªè¯·æ±‚ä¸€ä¸ªbean global sessionï¼šåº”ç”¨åœ¨Portletç¯å¢ƒ.å¦‚æœæ²¡æœ‰Portletç¯å¢ƒé‚£ä¹ˆglobalSessionç›¸å½“äºsession ä½¿ç”¨ @Component @Scope(\"prototype\") public class Bean { } æ‡’åŠ è½½@Lazy ä½¿ç”¨è¯¥æ³¨è§£åï¼ŒBeanåªæœ‰åœ¨çœŸæ­£éœ€è¦æ—¶æ‰ä¼šè¢«åˆå§‹åŒ–ï¼Œè€Œéåœ¨å®¹å™¨å¯åŠ¨åå°±è¢«åˆå§‹åŒ– ä½¿ç”¨XMLé…ç½® ç”±äºspringæ—©æœŸå¤§é‡ä½¿ç”¨xmlæ¥é…ç½®ï¼Œæ‰€ä»¥è¿™èŠ‚çš„å†…å®¹è¿˜æ˜¯éœ€è¦äº†è§£ä¸€ä¸‹çš„ã€‚ ä¸è¿‡å¯¹äºæ–°é¡¹ç›®ï¼Œè¿˜æ˜¯æ¨èä½¿ç”¨æ³¨è§£æˆ–è€…javaé…ç½® åˆ›å»ºä¸€ä¸ªxml åˆ›å»ºä¸€ä¸ªbean ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å›è°ƒ å±æ€§æ³¨å…¥ public class Bean1 { private String name; public void setName(String name){ this.name = name;} } æ„é€ å™¨æ³¨å…¥ constructor-argæ ‡ç­¾ index:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°å‚æ•°åˆ—è¡¨çš„ç´¢å¼•ä½ç½® type:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„æ•°æ®ç±»å‹ name:æŒ‡å®šå‚æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„åç§° value:å®ƒèƒ½èµ‹çš„å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹ ref:å®ƒèƒ½èµ‹çš„å€¼æ˜¯å…¶ä»–beanç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»å¾—æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è¿‡çš„bean é›†åˆæ³¨å…¥ AAA BBB CCC AAA BBB CCC AAA BBB CCC a b ä½¿ç”¨xmlé…ç½®è¿è¡Œï¼š ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(\"classpath:spring.xml\"); context.getBean(Bean1.class).run(); è¿è¡Œæ—¶å€¼æ³¨å…¥ @Configuration @ComponentScan(basePackages = \"wang.ismy.spring\") @PropertySource(\"classpath:config.properties\") public class Config { } config.properties name=my @Component public class Bean { @Value(\"${name}\") String name; } Spring ELè¡¨è¾¾å¼ ä½¿ç”¨ @Component public class Bean { @Value(\"#{T(System).currentTimeMillis()}\") long time; public void run(){ System.out.println(time); } } å¾ªç¯ä¾èµ– å½“ä¸€ä¸ªå¯¹è±¡ä¾èµ–çš„å¯¹è±¡é—´æ¥æˆ–ç›´æ¥åˆä¾èµ–å…¶æœ¬èº«æ—¶ï¼Œå°±æ˜¯å¾ªç¯ä¾èµ–ã€‚ é’ˆå¯¹äºè¿™ç§ä¾èµ–æƒ…å†µï¼Œå¯¹äºå±æ€§æ³¨å…¥æˆ–è€…æ–¹æ³•æ³¨å…¥ï¼ŒSpringé€šè¿‡å…ˆåˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œåå¡«å……å…¶å±æ€§çš„æ–¹å¼æ¥è§£å†³å¾ªç¯ä¾èµ–ï¼Œä½†å¯¹äºé€šè¿‡æ„é€ å™¨æ³¨å…¥çš„æƒ…å†µï¼ŒSpringåˆ™æ— æ³•è§£å†³ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-31 01:41:46 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/Beanç”Ÿå‘½å‘¨æœŸ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/Beanç”Ÿå‘½å‘¨æœŸ.html","title":"Beanç”Ÿå‘½å‘¨æœŸ","keywords":"","body":"Bean ç”Ÿå‘½å‘¨æœŸ åˆå§‹åŒ–ä¸é”€æ¯ ä½¿ç”¨@Beanæ—¶æŒ‡å®š æŒ‡å®šinitMethod å’Œ destroyMethod æ¥æŒ‡å®šç›¸å¯¹åº”çš„åˆå§‹åŒ–æ–¹æ³•è·Ÿé”€æ¯æ–¹æ³•ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé”€æ¯æ–¹æ³•åªæœ‰åœ¨Beanæ˜¯å•ä¾‹çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚ InitializingBean&DisposableBeanæ¥å£ public class Man implements InitializingBean, DisposableBean { public Man() { System.out.println(\"è°ƒç”¨æ— å‚æ„é€ å™¨åˆ›å»ºMan\"); } @Override public void destroy() { System.out.println(\"é”€æ¯Man\"); } @Override public void afterPropertiesSet() { System.out.println(\"åˆå§‹åŒ–Man\"); } } @PostConstruct&@PreDestroy è¿™ä¸¤ä¸ªæ³¨è§£éSpringæä¾›ï¼Œç”±JSR250å®šä¹‰ @Component public class Bean { //åˆ›å»ºåæ‰§è¡Œ @PostConstruct public void init(){ System.out.println(\"init\"); } //é”€æ¯å‰æ‰§è¡Œ @PreDestroy public void destroy(){ System.out.println(\"destroy\"); } } BeanPostProcessor è¯¥æ¥å£å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸ºSpringå®šä¹‰çš„æ‰©å±•ç‚¹ï¼Œå®ç°è¯¥æ¥å£ï¼Œæ‰€æœ‰Beanåœ¨åˆå§‹åŒ–å‰åéƒ½ä¼šè°ƒç”¨è¿™ä¸ªé’©å­ï¼Œæˆ‘ä»¬å¯æ ¹æ®è‡ªå®šä¹‰å¤„ç† @Component public class MyBeanPostProcessor implements BeanPostProcessor { @Override public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException { System.out.println(beanName + \" åˆå§‹åŒ–ä¹‹å‰è°ƒç”¨\"); return bean; } @Override public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException { System.out.println(beanName + \" åˆå§‹åŒ–ä¹‹åè°ƒç”¨\"); return bean; } } InstantiationAwareBeanPostProcessor Beanå®ä¾‹åŒ–é’©å­ public interface InstantiationAwareBeanPostProcessor extends BeanPostProcessor { // å¯åœ¨è¯¥æ–¹æ³•è‡ªå®šä¹‰Beanå®ä¾‹åŒ–è¿‡ç¨‹ è‹¥è¿”å›nullå°±ä»£è¡¨èµ°é»˜è®¤çš„å®ä¾‹åŒ–è¿‡ç¨‹ default Object postProcessBeforeInstantiation(Class beanClass, String beanName) throws BeansException { return null; } // è‹¥ä¸Šæ–¹çš„æ–¹æ³•ä¸è¿”å›null è¯¥æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ // è¯¥æ–¹æ³•è‹¥è¿”å›false ä¸ä¼šè°ƒç”¨ä¸‹é¢çš„å±æ€§å€¼å¤„ç†æ–¹æ³• default boolean postProcessAfterInstantiation(Object bean, String beanName) throws BeansException { return true; } @Nullable default PropertyValues postProcessProperties(PropertyValues pvs, Object bean, String beanName) throws BeansException { return null; } } BeanFactoryPostProcessor è¯¥é’©å­ä¼šåœ¨Beanå®šä¹‰åŠ è½½å®Œæˆåã€Beanå®ä¾‹åŒ–å‰è¢«è°ƒç”¨ï¼Œé€šå¸¸ç”¨äºä¿®æ”¹beançš„å®šä¹‰ï¼ŒBeançš„å±æ€§å€¼ç­‰ã€‚ BeanDefinitionRegistryPostProcessor BeanDefinitionRegistryPostProcessorçš„postProcessBeanDefinitionRegistryæ–¹æ³•æ‰§è¡Œæ—¶æœºå…ˆäºBeanFactoryPostProcessorçš„postProcessBeanFactoryæ–¹æ³• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-27 07:44:42 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/AOP.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/AOP.html","title":"AOP","keywords":"","body":"AOP åŠ¨æ€ä»£ç† åŸºäºæ¥å£ JDK åŸºäºå­ç±» public class Main { public static void main(String[] args) { Bean bean = (Bean) Enhancer.create(Bean.class, new MethodInterceptor() { private Bean bean = new Bean(); @Override public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable { System.out.println(method); return method.invoke(bean,objects); } }); bean.run(); } } class Bean{ public void run(){ System.out.println(\"bean run\"); } } AOPç®€ä»‹ AOPæœ¯è¯­: é€šçŸ¥(Advice):æ‰€è°“é€šçŸ¥æ˜¯æŒ‡æ‹¦æˆªåˆ°Joinpointä¹‹åæ‰€è¦åšçš„äº‹æƒ…å°±æ˜¯é€šçŸ¥ å‰ç½®é€šçŸ¥ï¼ˆbeforeï¼‰:æ‰§è¡Œå‰æ‰§è¡Œ åç½®é€šçŸ¥ï¼ˆafterï¼‰ï¼šæ‰§è¡Œåæ‰§è¡Œ è¿”å›é€šçŸ¥ï¼ˆafter returningï¼‰ å¼‚å¸¸é€šçŸ¥ï¼ˆafter throwingï¼‰ ç¯ç»•é€šçŸ¥ï¼ˆaroundï¼‰ ä½¿ç”¨xmlæ—¶ï¼Œåç½®é€šçŸ¥ä¸è¿”å›é€šçŸ¥ä»¥åŠå¼‚å¸¸é€šçŸ¥çš„æ‰§è¡Œé¡ºåºå–å†³äºé…ç½®é¡ºåº è¿æ¥ç‚¹(Joinpoint):æ‰€è°“è¿æ¥ç‚¹æ˜¯æŒ‡é‚£äº›è¢«æ‹¦æˆªåˆ°çš„ç‚¹ã€‚åœ¨springä¸­,è¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•,å› ä¸ºspringåªæ”¯æŒæ–¹æ³•ç±»å‹çš„è¿æ¥ç‚¹ã€‚ åˆ‡ç‚¹(Pointcut):æ‰€è°“åˆ‡å…¥ç‚¹æ˜¯æŒ‡æˆ‘ä»¬è¦å¯¹å“ªäº›Joinpointè¿›è¡Œæ‹¦æˆªçš„å®šä¹‰ã€‚ åˆ‡é¢(Aspect):æ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥ï¼ˆå¼•ä»‹ï¼‰çš„ç»“åˆã€‚ å¼•å…¥(Introduction):å¼•ä»‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„é€šçŸ¥åœ¨ä¸ä¿®æ”¹ç±»ä»£ç çš„å‰æä¸‹, Introductionå¯ä»¥åœ¨è¿è¡ŒæœŸä¸ºç±»åŠ¨æ€åœ°æ·»åŠ ä¸€äº›æ–¹æ³•æˆ–Fieldã€‚ ç»‡å…¥(Weaving):æ˜¯æŒ‡æŠŠå¢å¼ºåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚ ç¼–å†™åˆ‡ç‚¹ AspectJæŒ‡ç¤ºå™¨ Springå€ŸåŠ©AspectJçš„åˆ‡ç‚¹è¡¨è¾¾å¼è¯­è¨€æ¥å®šä¹‰åˆ‡é¢ AspectJæŒ‡ç¤ºå™¨ æè¿° arg() é™åˆ¶è¿æ¥ç‚¹åŒ¹é…å‚æ•°ä¸ºæŒ‡å®šç±»å‹çš„æ‰§è¡Œæ–¹æ³• @args() é™åˆ¶è¿æ¥ç‚¹åŒ¹é…å‚æ•°ç”±æŒ‡å®šæ³¨è§£æ ‡æ³¨çš„æ‰§è¡Œæ–¹æ³• execution() ç”¨äºåŒ¹é…æ˜¯è¿æ¥ç‚¹çš„æ‰§è¡Œæ–¹æ³• this() é™åˆ¶è¿æ¥ç‚¹åŒ¹é…AOPä»£ç†çš„Beanå¼•ç”¨ä¸ºæŒ‡å®šç±»å‹çš„ç±» target() é™åˆ¶è¿æ¥ç‚¹åŒ¹é…ç›®æ ‡å¯¹è±¡ä¸ºæŒ‡å®šç±»å‹çš„ç±» @target () é™åˆ¶è¿æ¥ç‚¹åŒ¹é…ç‰¹å®šçš„æ‰§è¡Œå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯¹åº”çš„ç±»è¦å…·å¤‡æŒ‡å®šç±»å‹çš„æ³¨è§£ within() é™åˆ¶è¿æ¥ç‚¹åŒ¹é…æŒ‡å®šçš„ç±»å‹ @within() é™åˆ¶è¿æ¥ç‚¹åŒ¹é…æŒ‡å®šæ³¨è§£æ‰€æ ‡æ³¨çš„ç±»å‹( å½“ä½¿ç”¨Spring AOPæ—¶ï¼Œæ–¹æ³•å®šä¹‰åœ¨ç”±æŒ‡å®šçš„æ³¨è§£æ‰€æ ‡æ³¨çš„ç±»é‡Œ) @annotation é™åˆ¶åŒ¹é…å¸¦æœ‰æŒ‡å®šæ³¨è§£è¿æ¥ç‚¹ ä¸€ä¸ªç®€å•çš„åˆ‡ç‚¹å®ä¾‹ execution(* wang.ismy.spring.service.Service.doSth(..)) execution åˆ›å»ºåˆ‡é¢ @Aspect @Component @Slf4j public class ErrorPageAspect { @Pointcut(\"@annotation(wang.ismy.zbq.annotations.ErrorPage)\") public void pointCut(){} @Around(\"pointCut()\") public Object around(ProceedingJoinPoint joinPoint){ try { return joinPoint.proceed(); } catch (Throwable throwable) { ModelAndView modelAndView = new ModelAndView(); modelAndView.setViewName(\"error\"); modelAndView.addObject(\"error\",throwable.getMessage()); return modelAndView; } } } ä½¿ç”¨xml AOP åŸç† AbstractAutoProxyCreator å®ç°äº†BeanPostProcessor é€šè¿‡åœ¨Bean å®ä¾‹åŒ–åï¼Œé€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼ createProxy å¯¹ Beanè¿›è¡Œä¸€å±‚åŒ…è£¹ è¿”å›ä»£ç†å®Œæˆåçš„Bean AopProxy ç›®å‰Spring æœ‰2ç§æ–¹å¼ ... MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-28 03:07:02 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/äº‹åŠ¡.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/äº‹åŠ¡.html","title":"äº‹åŠ¡","keywords":"","body":"äº‹åŠ¡ å±æ€§ read-onlyï¼šæ˜¯å¦æ˜¯åªè¯»äº‹åŠ¡ã€‚é»˜è®¤falseï¼Œä¸åªè¯»ã€‚ isolationï¼šæŒ‡å®šäº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚é»˜è®¤å€¼æ˜¯ä½¿ç”¨æ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«ã€‚ propagationï¼šæŒ‡å®šäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºã€‚ timeoutï¼šæŒ‡å®šè¶…æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼ä¸ºï¼š-1ã€‚æ°¸ä¸è¶…æ—¶ã€‚ rollback-forï¼šç”¨äºæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå½“æ‰§è¡Œäº§ç”Ÿè¯¥å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡å›æ»šã€‚äº§ç”Ÿå…¶ä»–å¼‚å¸¸ï¼Œäº‹åŠ¡ä¸å›æ»šã€‚æ²¡æœ‰é»˜è®¤å€¼ï¼Œä»»ä½•å¼‚å¸¸éƒ½å›æ»šã€‚ no-rollback-forï¼šç”¨äºæŒ‡å®šä¸€ä¸ªå¼‚å¸¸ï¼Œå½“äº§ç”Ÿè¯¥å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡ä¸å›æ»šï¼Œäº§ç”Ÿå…¶ä»–å¼‚å¸¸æ—¶ï¼Œäº‹åŠ¡å›æ»šã€‚æ²¡æœ‰é»˜è®¤å€¼ï¼Œä»»ä½•å¼‚å¸¸éƒ½å›æ»šã€‚ ä¼ æ’­è¡Œä¸º ä¼ æ’­è¡Œä¸º å«ä¹‰ PROPAGATION_REQUIRED è¡¨ç¤ºå½“å‰æ–¹æ³•å¿…é¡»è¿è¡Œåœ¨äº‹åŠ¡ä¸­ã€‚å¦‚æœå½“å‰äº‹åŠ¡å­˜åœ¨ï¼Œæ–¹æ³•å°†ä¼šåœ¨è¯¥äº‹åŠ¡ä¸­è¿è¡Œã€‚å¦åˆ™ï¼Œä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„äº‹åŠ¡ PROPAGATION_SUPPORTS è¡¨ç¤ºå½“å‰æ–¹æ³•ä¸éœ€è¦äº‹åŠ¡ä¸Šä¸‹æ–‡ï¼Œä½†æ˜¯å¦‚æœå­˜åœ¨å½“å‰äº‹åŠ¡çš„è¯ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•ä¼šåœ¨è¿™ä¸ªäº‹åŠ¡ä¸­è¿è¡Œ PROPAGATION_PROPAGATION è¡¨ç¤ºè¯¥æ–¹æ³•å¿…é¡»åœ¨äº‹åŠ¡ä¸­è¿è¡Œï¼Œå¦‚æœå½“å‰äº‹åŠ¡ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ PROPAGATION_REQUIRED_NEW è¡¨ç¤ºå½“å‰æ–¹æ³•å¿…é¡»è¿è¡Œåœ¨å®ƒè‡ªå·±çš„äº‹åŠ¡ä¸­ã€‚ä¸€ä¸ªæ–°çš„äº‹åŠ¡å°†è¢«å¯åŠ¨ã€‚å¦‚æœå­˜åœ¨å½“å‰äº‹åŠ¡ï¼Œåœ¨è¯¥æ–¹æ³•æ‰§è¡ŒæœŸé—´ï¼Œå½“å‰äº‹åŠ¡ä¼šè¢«æŒ‚èµ·ã€‚å¦‚æœä½¿ç”¨JTATransactionManagerçš„è¯ï¼Œåˆ™éœ€è¦è®¿é—®TransactionManager PROPAGATIONNOT SUPPORTED è¡¨ç¤ºè¯¥æ–¹æ³•ä¸åº”è¯¥è¿è¡Œåœ¨äº‹åŠ¡ä¸­ã€‚å¦‚æœå­˜åœ¨å½“å‰äº‹åŠ¡ï¼Œåœ¨è¯¥æ–¹æ³•è¿è¡ŒæœŸé—´ï¼Œå½“å‰äº‹åŠ¡å°†è¢«æŒ‚èµ·ã€‚å¦‚æœä½¿ç”¨JTATransactionManagerçš„è¯ï¼Œåˆ™éœ€è¦è®¿é—®TransactionManager PROPAGATION_NEVER è¡¨ç¤ºå½“å‰æ–¹æ³•ä¸åº”è¯¥è¿è¡Œåœ¨äº‹åŠ¡ä¸Šä¸‹æ–‡ä¸­ã€‚å¦‚æœå½“å‰æ­£æœ‰ä¸€ä¸ªäº‹åŠ¡åœ¨è¿è¡Œï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ PROPAGATION_NESTED è¡¨ç¤ºå¦‚æœå½“å‰å·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•å°†ä¼šåœ¨åµŒå¥—äº‹åŠ¡ä¸­è¿è¡Œã€‚åµŒå¥—çš„äº‹åŠ¡å¯ä»¥ç‹¬ç«‹äºå½“å‰äº‹åŠ¡è¿›è¡Œå•ç‹¬åœ°æäº¤æˆ–å›æ»šã€‚å¦‚æœå½“å‰äº‹åŠ¡ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå…¶è¡Œä¸ºä¸PROPAGATION_ REQUIRED- -æ ·. æ³¨æ„å„å‚å•†å¯¹è¿™ç§ä¼ æ’­è¡Œä¸ºçš„æ”¯æŒæ˜¯æœ‰æ‰€å·®å¼‚çš„ã€‚å¯ä»¥å‚è€ƒèµ„æºç®¡ç†å™¨çš„æ–‡æ¡£æ¥ç¡®è®¤å®ƒä»¬æ˜¯å¦æ”¯æŒåµŒå¥—äº‹åŠ¡ å£°æ˜å¼äº‹åŠ¡ å£°æ˜å¼äº‹åŠ¡éƒ½æ˜¯åŸºäºç¼–ç¨‹äº‹åŠ¡ XML é…ç½® public class Dao { private JdbcTemplate jdbcTemplate; public Dao(JdbcTemplate jdbcTemplate) { this.jdbcTemplate = jdbcTemplate; } public void transfer(){ String sql = \"UPDATE account SET money = money -200 WHERE uid = 41\"; String sql1 = \"UPDATE account SET money = money +200 WHERE uid = 45\"; jdbcTemplate.update(sql); jdbcTemplate.update(sql1); } } æ³¨è§£é…ç½® @Configuration @EnableTransactionManagement public class Config { @Bean public DataSource dataSource(){ DriverManagerDataSource dataSource = new DriverManagerDataSource(); dataSource.setUsername(\"root\"); dataSource.setPassword(\"123\"); dataSource.setDriverClassName(\"com.mysql.cj.jdbc.Driver\"); dataSource.setUrl(\"jdbc:mysql:///mybatis\"); return dataSource; } @Bean public JdbcTemplate jdbcTemplate(DataSource dataSource){ return new JdbcTemplate(dataSource); } @Bean public PlatformTransactionManager transactionManager(DataSource dataSource){ return new DataSourceTransactionManager(dataSource); } } @Service public class Dao { private JdbcTemplate jdbcTemplate; public Dao(JdbcTemplate jdbcTemplate) { this.jdbcTemplate = jdbcTemplate; } @Transactional(rollbackFor = Exception.class) public void transfer(){ String sql = \"UPDATE account SET money = money -200 WHERE uid = 41\"; String sql1 = \"UPDATE account SET money = money +200 WHERE uid = 45\"; jdbcTemplate.update(sql); jdbcTemplate.update(sql1); } } äº‹åŠ¡å®ç°åŸç† æ¯ä¸ªè¢«äº‹åŠ¡æ”¯æŒçš„æ–¹æ³•éƒ½ä¼šè¢«åˆ‡é¢å¢å¼ºï¼Œ é€šè¿‡è¯¥æ–¹æ³• TransactionAspectSupport.invokeWithinTransaction å®ç°äº‹åŠ¡çš„æäº¤ã€å›æ»šç­‰å¾…ã€‚ æ ¹æ®è¿™ä¸ªäº‹åŠ¡çš„å®ç°åŸç†ï¼Œå¯ä»¥æ¨æ–­è‹¥æ˜¯é€šè¿‡æ–¹æ³•å†…éƒ¨è°ƒç”¨è€Œéé€šè¿‡å¯¹è±¡è°ƒç”¨çš„æ–¹å¼ï¼Œäº‹åŠ¡å°†ä¸ä¼šç”Ÿæ•ˆã€‚ ç¼–ç¨‹å¼äº‹åŠ¡ @Bean public TransactionTemplate transactionTemplate(PlatformTransactionManager manager){ return new TransactionTemplate(manager); } @Service public class Dao { private JdbcTemplate jdbcTemplate; private TransactionTemplate transactionTemplate; public Dao(JdbcTemplate jdbcTemplate) { this.jdbcTemplate = jdbcTemplate; } public void transfer(){ transactionTemplate.execute((TransactionCallback) status -> { String sql = \"UPDATE account SET money = money -200 WHERE uid = 41\"; String sql1 = \"UPDATE account SET money = money +200 WHERE uid = 45\"; jdbcTemplate.update(sql); jdbcTemplate.update(sql1); return null; }); } @Autowired public void setTransactionTemplate(TransactionTemplate transactionTemplate) { this.transactionTemplate = transactionTemplate; } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-28 03:17:10 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/äº‹ä»¶.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/äº‹ä»¶.html","title":"äº‹ä»¶","keywords":"","body":"äº‹ä»¶ è‡ªå®šä¹‰äº‹ä»¶ public class LogEvent extends ApplicationEvent { .... } å‘å¸ƒäº‹ä»¶ è·å–ApplicationEventPublisherçš„å®ç°ç±»ï¼ˆå¦‚ApplicationContextï¼‰.publishEvent ç›‘å¬äº‹ä»¶ æ³¨è§£ç›‘å¬ @EventListener @Async // å¼‚æ­¥ç›‘å¬ï¼ˆéœ€è¦å¼€å¯å¼‚æ­¥é…ç½®ï¼‰ public void accept(LogEvent event){} // å¤šäº‹ä»¶ç›‘å¬ @EventListener(classes = {MyEvent.class, ContextRefreshedEvent.class, ContextClosedEvent.class}) public void onMyEventPublished(ApplicationEvent event) {...} ç¼–ç¨‹å¼ç›‘å¬ public class LogListener implements ApplicationListener { @Async @Override public void onApplicationEvent(LogEvent logEvent) { ... } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-31 01:21:42 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringMVC/SpringMVCèµ·æ­¥.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringMVC/SpringMVCèµ·æ­¥.html","title":"SpringMVC","keywords":"","body":"Spring MVC è¯·æ±‚å¤„ç†æµç¨‹ Step 1: è¯·æ±‚ä¼šè¢« DispatcherServlet æ¥æ”¶. Step 2: DispatcherServlet æ ¹æ® HandlerMapping æŸ¥æ‰¾ Controller ç±»åä¸ ç›¸å¯¹åº”è¯·æ±‚è·¯å¾„çš„æ˜ å°„. Step 3: è¯·æ±‚è¢«è½¬å‘åˆ° Controller, controllerä¼šå¤„ç†è¯·æ±‚æ‰§è¡Œç›¸å¯¹åº”çš„æ–¹æ³•å¹¶è¿”å›ModelAndView object (åŒ…å« Model data å’Œè§†å›¾åç§°)è¿”å› DispatcherServlet. Step 4: DispatcherServletå‘é€model objectç»™ ViewResolver è·å–å®é™…çš„é¡µé¢. Step 5: æœ€ç»ˆ DispatcherServlet é€šè¿‡ Model object æ¸²æŸ“é¡µé¢å±•ç¤ºç»“æœ. DispatcherServletï¼šå‰ç«¯æ§åˆ¶å™¨ ç”¨æˆ·è¯·æ±‚åˆ°è¾¾å‰ç«¯æ§åˆ¶å™¨ï¼Œå®ƒå°±ç›¸å½“äºmvcæ¨¡å¼ä¸­çš„cï¼ŒdispatcherServletæ˜¯æ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒï¼Œç”±å®ƒè°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ŒdispatcherServletçš„å­˜åœ¨é™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ã€‚ HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨ HandlerMappingè´Ÿè´£æ ¹æ®ç”¨æˆ·è¯·æ±‚æ‰¾åˆ°Handlerå³å¤„ç†å™¨ï¼ŒSpringMVCæä¾›äº†ä¸åŒçš„æ˜ å°„å™¨å®ç°ä¸åŒçš„æ˜ å°„æ–¹å¼ï¼Œä¾‹å¦‚ï¼šé…ç½®æ–‡ä»¶æ–¹å¼ï¼Œå®ç°æ¥å£æ–¹å¼ï¼Œæ³¨è§£æ–¹å¼ç­‰ã€‚ Handlerï¼šå¤„ç†å™¨ å®ƒå°±æ˜¯æˆ‘ä»¬å¼€å‘ä¸­è¦ç¼–å†™çš„å…·ä½“ä¸šåŠ¡æ§åˆ¶å™¨ã€‚ç”±DispatcherServletæŠŠç”¨æˆ·è¯·æ±‚è½¬å‘åˆ°Handlerã€‚ç”±Handlerå¯¹å…·ä½“çš„ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚ View Resolverï¼šè§†å›¾è§£æå™¨ View Resolverè´Ÿè´£å°†å¤„ç†ç»“æœç”ŸæˆViewè§†å›¾ï¼ŒView Resolveré¦–å…ˆæ ¹æ®é€»è¾‘è§†å›¾åè§£ææˆç‰©ç†è§†å›¾åå³å…·ä½“çš„é¡µé¢åœ°å€ï¼Œå†ç”ŸæˆViewè§†å›¾å¯¹è±¡ï¼Œæœ€åå¯¹Viewè¿›è¡Œæ¸²æŸ“å°†å¤„ç†ç»“æœé€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚ Viewï¼šè§†å›¾ SpringMVCæ¡†æ¶æä¾›äº†å¾ˆå¤šçš„Viewè§†å›¾ç±»å‹çš„æ”¯æŒï¼ŒåŒ…æ‹¬ï¼šjstlViewã€freemarkerViewã€pdfViewç­‰ã€‚æˆ‘ä»¬æœ€å¸¸ç”¨çš„è§†å›¾å°±æ˜¯jspã€‚ ä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦é€šè¿‡é¡µé¢æ ‡ç­¾æˆ–é¡µé¢æ¨¡ç‰ˆæŠ€æœ¯å°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ï¼Œéœ€è¦ç”±ç¨‹åºå‘˜æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¼€å‘å…·ä½“çš„é¡µé¢ã€‚ é…ç½®SpringMVC é…ç½®DispatcherServlet public class Initalizer extends AbstractAnnotationConfigDispatcherServletInitializer { @Override protected Class[] getRootConfigClasses() { return new Class[0]; } @Override protected Class[] getServletConfigClasses() { return new Class[]{MVCConfig.class}; } @Override protected String[] getServletMappings() { return new String[]{\"/\"}; } } // å¯ç”¨web mvc ä»¥åŠé…ç½®è§†å›¾è§£æå™¨ @Configuration @EnableWebMvc @ComponentScan(\"wang.ismy.spring\") public class MVCConfig extends WebMvcConfigurationSupport { @Bean public ViewResolver viewResolver() { InternalResourceViewResolver viewResolver = new InternalResourceViewResolver(); viewResolver.setPrefix(\"/WEB-INF/classes/views/\"); viewResolver.setSuffix(\".jsp\"); viewResolver.setViewClass(JstlView.class); return viewResolver; } @Override protected void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) { configurer.enable(); } } ä½¿ç”¨ä»¥ä¸Šä»£ç å¯ä»¥ä½¿ç”¨javaä»£ç é…ç½®dispatcherServlet åŸå› ï¼šservlet3.0ä¸­ï¼Œå®¹å™¨ä¼šåœ¨ç±»è·¯å¾„æŸ¥æ‰¾å®ç°äº†ServletContainerInitializerçš„ç±» Springæä¾›äº†è¯¥å®ç°ï¼Œå«åšSpringServletContainerInitializer æ­¤ç±»ä¼šåè¿‡æ¥æŸ¥æ‰¾WebApplicationInitializerçš„å®ç°,è€ŒAbstractAnnotationConfigDispatcherServletInitializerå°±æ˜¯å®ƒçš„ä¸€ä¸ªå®ç° æ§åˆ¶å™¨ç¼–å†™ @org.springframework.stereotype.Controller public class Controller { @RequestMapping(\"/home\") public String hello(){ return \"home\"; } } @RequestMapping å¯ç”¨åœ¨ç±»ä¸Šä»¥åŠæ–¹æ³•ä¸Š æœ€ç»ˆæ˜ å°„è·¯å¾„=ç±»ä¸Šçš„è·¯å¾„+æ–¹æ³•ä¸Šçš„è·¯å¾„ public @interface RequestMapping { // æ§åˆ¶å™¨åç§°ï¼Œä¸€èˆ¬ä¸ç”¨ String name() default \"\"; // åŒpath @AliasFor(\"path\") String[] value() default {}; // æ˜ å°„è·¯å¾„ @AliasFor(\"value\") String[] path() default {}; // è¯·æ±‚æ–¹æ³• RequestMethod[] method() default {}; // é™å®šè¯·æ±‚å‚æ•°æ¡ä»¶ String[] params() default {}; // é™å®šè¯·æ±‚å¤´ String[] headers() default {}; String[] consumes() default {}; String[] produces() default {}; } å‘è§†å›¾ä¼ é€’æ•°æ® @RequestMapping(\"/home\") public String hello(ModelAndView modelAndView){ modelAndView.addObject(\"time\", LocalDate.now()); return \"home\"; } æ¥æ”¶è¯·æ±‚çš„è¾“å…¥ @RequestParam @PathVariable è¡¨å•å¤„ç† æ¥æ”¶æ•°æ® @PostMapping(\"/form\") public String form(Person person){ System.out.println(person); return \"home\"; } ç»‘å®šé›†åˆ ### è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨ ```java public class LocalDateConvert implements Converter { @Override public LocalDate convert(String source) { return LocalDate.parse(source); } } è¡¨å•æ ¡éªŒ public class Person { @NotBlank private String username; @NotBlank private String password; } @PostMapping(\"/form\") public String form(@Valid Person person, Errors errors){ if (errors.hasErrors()){ throw new RuntimeException(errors.getAllErrors().get(0).getDefaultMessage()); } System.out.println(person); return \"home\"; } ` valid api: è·å–servlet api @RequestMapping(\"/hello\") public String hello(HttpServletRequest request, HttpServletResponse response){ System.out.println(request+\"\"+response); return \"hello\"; } æ³¨è§£ @RequestParam @RequestBody @PathVaribale @RequestHeader @CookieValue @ModelAttribute @SessionAttribute XMLé…ç½® é…ç½®å‰ç«¯æ§åˆ¶å™¨ dispatcher org.springframework.web.servlet.DispatcherServlet contextConfigLocation classpath:spring-mvc.xml dispatcher / springé…ç½®æ–‡ä»¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-11 05:21:04 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringMVC/æ¸²æŸ“WEBè§†å›¾.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringMVC/æ¸²æŸ“WEBè§†å›¾.html","title":"æ¸²æŸ“WEBè§†å›¾","keywords":"","body":"è§†å›¾è§£æ ViewResolveræ¥å£ public interface ViewResolver { View resolveViewName(String viewName, Locale locale) throws Exception; } Viewæ¥å£ public interface View { @Nullable default String getContentType() { return null; } void render(@Nullable Map model, HttpServletRequest request, HttpServletResponse response) throws Exception; } è§†å›¾è§£æå™¨çš„å·¥ä½œåŸç†å¾ˆç®€å•ï¼Œå¤–éƒ¨ä¼šä¼ ç»™è§†å›¾è§£æå™¨ä¸€ä¸ªè§†å›¾åå’Œåœ°åŒºå¯¹è±¡ï¼Œ è§£ææ ¹æ®ä¸¤ä¸ªå‚æ•°è¿”å›ä¸€ä¸ªè§†å›¾ã€‚ è§†å›¾åšçš„å·¥ä½œå°±æ˜¯æ ¹æ®å¤–éƒ¨ä¼ å…¥çš„æ¨¡å‹ï¼Œæ¥æ¸²æŸ“å‡ºhtmlé¡µé¢ã€‚ Springæä¾›çš„è§†å›¾è§£æå™¨ åˆ›å»ºJSPè§†å›¾ é…ç½®è§†å›¾è§£æå™¨ @Bean public ViewResolver viewResolver() { InternalResourceViewResolver viewResolver = new InternalResourceViewResolver(); viewResolver.setPrefix(\"/WEB-INF/views/\"); viewResolver.setSuffix(\".jsp\"); viewResolver.setViewClass(JstlView.class); return viewResolver; } è®¿é—®homeå°±ç›¸å½“äºè®¿é—®/WEB-INF/views/home.jsp ä½¿ç”¨ Thymeleaf ä¸‰ä¸ªä¸springé›†æˆçš„bean é…ç½® thymeleaf @Bean public ViewResolver viewResolver() { ThymeleafViewResolver resolver = new ThymeleafViewResolver(); resolver.setTemplateEngine((ISpringTemplateEngine) templateEngine()); resolver.setCharacterEncoding(\"UTF-8\"); return resolver; } @Bean public TemplateEngine templateEngine() { SpringTemplateEngine engine = new SpringTemplateEngine(); engine.setEnableSpringELCompiler(true); engine.setTemplateResolver(templateResolver()); return engine; } private ITemplateResolver templateResolver() { SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver(); resolver.setApplicationContext(applicationContext); resolver.setPrefix(\"/WEB-INF/views/\"); resolver.setTemplateMode(TemplateMode.HTML); return resolver; } ä½¿ç”¨thymeleaf å“åº” è¿”å›Stringç±»å‹ è¿”å›å­—ç¬¦ä¸²å¯ä»¥æŒ‡å®šé€»è¾‘è§†å›¾åï¼Œé€šè¿‡è§†å›¾è§£æå™¨è§£æä¸ºç‰©ç†è§†å›¾åœ°å€ return \"redirect:http://baidu.com\"; // é‡å®šå‘(æµè§ˆå™¨åœ°å€æ å‘ç”Ÿå˜åŒ–) return \"forward:/index.jsp\"; // è½¬å‘(åœ°å€æ ä¸å˜åŒ–) è¿”å›voidç±»å‹ æ“ä½œservlet api è¿”å›ModelAndViewç±»å‹ é™æ€èµ„æºé…ç½® å“åº”json @ResponseBody MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringMVC/SpringMVCé«˜çº§ç‰¹æ€§.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringMVC/SpringMVCé«˜çº§ç‰¹æ€§.html","title":"SpringMVCé«˜çº§ç‰¹æ€§","keywords":"","body":"æ›´å¤šçš„é…ç½® é…ç½®DispatcherServlet @Override protected void customizeRegistration(ServletRegistration.Dynamic registration) { registration.setMultipartConfig( new MultipartConfigElement(\"./\") ); } é…ç½®Servletä¸Filter @Override public void onStartup(ServletContext servletContext) throws ServletException { super.onStartup(servletContext); var a=servletContext.addServlet(\"my-servlet\",MyServlet.class); a.addMapping(\"/my\"); var b= servletContext.addFilter(\"my-fliter\",MyFliter.class); b.addMappingForUrlPatterns(null,false,\"/*\"); } å¤„ç†multipart æ•°æ® å¿…è¦å‰æ formè¡¨å•çš„enctypeå–å€¼å¿…é¡»æ˜¯ï¼šmultipart/form-data methodå±æ€§å–å€¼å¿…é¡»æ˜¯Post æä¾›ä¸€ä¸ªæ–‡ä»¶é€‰æ‹©åŸŸ ä½¿ç”¨ é…ç½®multipartè§£æå™¨ StandardServletMultipartResolver CommonsMultipartResolver @Bean public MultipartResolver multipartResolver(){ return new StandardServletMultipartResolver(); } å¤„ç†multipart è¯·æ±‚ @RequestMapping(\"/upload\") @ResponseBody public String upload(@RequestPart(\"file\")MultipartFile file) throws IOException { FileUtils.writeByteArrayToFile(new File(\"d:/\"+file.getOriginalFilename()),file.getBytes()); return \"ä¸Šä¼ å®Œæˆ\"; } å¤„ç†å¼‚å¸¸ è‡ªå®šä¹‰å¼‚å¸¸ @ResponseStatus(value = HttpStatus.NOT_FOUND,reason = \"æœªæ‰¾åˆ°\") public class MyException extends RuntimeException{ } @RequestMapping(\"/home\") public String hello(Model model){ model.addAttribute(\"time\", LocalDate.now()); if (true) throw new MyException(); return \"home.html\"; } å®šä¹‰å¼‚å¸¸å¤„ç† public class MyExceptionHandler implements HandlerExceptionResolver { @Override public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) { try { response.getWriter().println(ex.getMessage()); } catch (IOException e) { e.printStackTrace(); } return null; } } å¼‚å¸¸å¤„ç†å™¨@ExceptionHandler(Exception.class) @ResponseBody public Object handler(Exception e){ return e.getMessage(); } æ§åˆ¶å™¨é€šçŸ¥ æœ¬è´¨ï¼šå¯¹Controllerè¿›è¡ŒAOP // æ‰€æœ‰çš„controllerå‘ç”Ÿå¼‚å¸¸éƒ½ä¼šé€šè¿‡è¿™ä¸ªç±»è¿›è¡Œå¤„ç† @ControllerAdvice public class MyControllerAdvice { @ExceptionHandler(Exception.class) @ResponseBody public Object handler(Exception e){ return e.getMessage(); } } è¯·æ±‚é‡å®šå‘è½¬å‘æ•°æ® forward(æœåŠ¡å™¨è½¬å‘)ä¸redirect(å®¢æˆ·ç«¯é‡å®šå‘) é‡å®šå‘ä¼ é€’æ•°æ®çš„æ–¹æ³• urlä¼ é€’ flashå±æ€§ä¼ é€’ æ‹¦æˆªå™¨ public class MyInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(\"è¿›å…¥controllerå‰æ‰§è¡Œ\"); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(\"å®Œæˆcontrolleræ–¹æ³•åæ‰§è¡Œ\"); } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(\"è¯·æ±‚å®Œæˆæ‰§è¡Œ\"); } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringData/æ¦‚è§ˆ.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringData/æ¦‚è§ˆ.html","title":"SpringData","keywords":"","body":"Spring Data Springçš„æ•°æ®è®¿é—®å“²å­¦ Springçš„æ•°æ®è®¿é—®å¼‚å¸¸ä½“ç³» SQLException æä¾›äº†æŒºå¤šçš„å¼‚å¸¸ æ•°æ®è®¿é—®æ¨¡æ¿åŒ– é…ç½®æ•°æ®æº ä½¿ç”¨JNDI ä½¿ç”¨æ•°æ®æºè¿æ¥æ±  @Bean public DataSource dataSource(){ DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(\"com.mysql.cj.jdbc.Driver\"); dataSource.setUsername(\"root\"); dataSource.setPassword(\"Root@@715711877\"); dataSource.setUrl(\"jdbc:mysql:///manage\"); return dataSource; } ä½¿ç”¨åµŒå…¥å¼æ•°æ®æº ä½¿ç”¨profileé€‰æ‹©æ•° @Profile(\"product\") @Bean public DataSource dataSource(){ DruidDataSource dataSource = new DruidDataSource(); dataSource.setUrl(\"jdbc:h2:~/test\"); return dataSource; } @Profile(\"dev\") @Bean public DataSource dataSourceDev(){ DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(\"com.mysql.cj.jdbc.Driver\"); dataSource.setUsername(\"root\"); dataSource.setPassword(\"Root@@715711877\"); dataSource.setUrl(\"jdbc:mysql:///manage\"); return dataSource; } åœ¨Spring å½“ä¸­ä½¿ç”¨JDBC JDBCæ¨¡æ¿ JdbcDaoSupport update():æ‰§è¡ŒDMLè¯­å¥ã€‚å¢ã€åˆ ã€æ”¹è¯­å¥ queryForMap():æŸ¥è¯¢ç»“æœå°†ç»“æœé›†å°è£…ä¸ºmapé›†åˆï¼Œå°†åˆ—åä½œä¸ºkeyï¼Œå°†å€¼ä½œä¸ºvalue å°†è¿™æ¡è®°å½•å°è£…ä¸ºä¸€ä¸ªmapé›†åˆ æ³¨æ„ï¼šè¿™ä¸ªæ–¹æ³•æŸ¥è¯¢çš„ç»“æœé›†é•¿åº¦åªèƒ½æ˜¯1 queryForList():æŸ¥è¯¢ç»“æœå°†ç»“æœé›†å°è£…ä¸ºlisté›†åˆ æ³¨æ„ï¼šå°†æ¯ä¸€æ¡è®°å½•å°è£…ä¸ºä¸€ä¸ªMapé›†åˆï¼Œå†å°†Mapé›†åˆè£…è½½åˆ°Listé›†åˆä¸­ query():æŸ¥è¯¢ç»“æœï¼Œå°†ç»“æœå°è£…ä¸ºJavaBeanå¯¹è±¡ queryçš„å‚æ•°ï¼šRowMapper ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨BeanPropertyRowMapperå®ç°ç±»ã€‚å¯ä»¥å®Œæˆæ•°æ®åˆ°JavaBeançš„è‡ªåŠ¨å°è£… new BeanPropertyRowMapper(ç±»å‹.class) queryForObjectï¼šæŸ¥è¯¢ç»“æœï¼Œå°†ç»“æœå°è£…ä¸ºå¯¹è±¡ ä¸€èˆ¬ç”¨äºèšåˆå‡½æ•°çš„æŸ¥è¯¢ é…ç½®æ¨¡æ¿ @Bean public JdbcTemplate jdbcTemplate(){ JdbcTemplate jdbcTemplate = new JdbcTemplate(); jdbcTemplate.setDataSource(dataSourceDev()); return jdbcTemplate; } æ‰§è¡Œæ“ä½œ @org.springframework.stereotype.Service public class Service { @Autowired private JdbcTemplate jdbcTemplate; public void insert(Admin admin){ jdbcTemplate.update(\"INSERT INTO admin(username,password) VALUES(?,?)\", admin.getUsername(), admin.getPassword()); } } ä½¿ç”¨Lambdaè¡¨è¾¾å¼ jdbcTemplate.query(\"select * from admin\",r->{ do{ System.out.println( r.getString(\"username\")+\"||\"+r.getString(\"password\") ); }while (r.next()); }); ä½¿ç”¨å‘½åå‚æ•° public void insert(Admin admin){ jdbcTemplate.update(\"INSERT INTO admin(username,password) VALUES(:username,:password)\", Map.of(\"username\",admin.getUsername(), \"password\",admin.getPassword())); } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-11 01:20:46 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringData/ORM.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringData/ORM.html","title":"ORM","keywords":"","body":" ORMï¼ˆObject-Relational Mappingï¼‰ è¡¨ç¤ºå¯¹è±¡å…³ç³»æ˜ å°„ã€‚åœ¨é¢å‘å¯¹è±¡çš„è½¯ä»¶å¼€å‘ä¸­ï¼Œé€šè¿‡ORMï¼Œå°±å¯ä»¥æŠŠå¯¹è±¡æ˜ å°„åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­ã€‚åªè¦æœ‰ä¸€å¥—ç¨‹åºèƒ½å¤Ÿåšåˆ°å»ºç«‹å¯¹è±¡ä¸æ•°æ®åº“çš„å…³è”ï¼Œæ“ä½œå¯¹è±¡å°±å¯ä»¥ç›´æ¥æ“ä½œæ•°æ®åº“æ•°æ®ï¼Œå°±å¯ä»¥è¯´è¿™å¥—ç¨‹åºå®ç°äº†ORMå¯¹è±¡å…³ç³»æ˜ å°„ JPA éœ€è¦çš„ä¸€äº›å¤æ‚ç‰¹æ€§ å»¶è¿ŸåŠ è½½ é¢„å…ˆæŠ“å– çº§è” é›†æˆ Hibernate Springä¸JAVAæŒä¹…åŒ–API é…ç½®å®ä½“ç®¡ç†å™¨å·¥å‚ @Configuration @ComponentScan(\"wang.ismy.spring\") @EnableJpaRepositories(basePackages = \"wang.ismy.spring\",entityManagerFactoryRef = \"entityManagerFactoryBean\") public class Config { @Bean public DataSource dataSourceDev(){ DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(\"com.mysql.cj.jdbc.Driver\"); dataSource.setUsername(\"root\"); dataSource.setPassword(\"Root@@715711877\"); dataSource.setUrl(\"jdbc:mysql:///manage\"); return dataSource; } @Bean public LocalContainerEntityManagerFactoryBean entityManagerFactoryBean(DataSource dataSource, JpaVendorAdapter adapter){ LocalContainerEntityManagerFactoryBean bean = new LocalContainerEntityManagerFactoryBean(); bean.setDataSource(dataSource); bean.setJpaVendorAdapter(adapter); bean.setPackagesToScan(\"wang.ismy.spring\"); return bean; } @Bean public JpaVendorAdapter jpaVendorAdapter(){ HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter(); adapter.setDatabase(Database.MYSQL); adapter.setGenerateDdl(false); adapter.setDatabasePlatform(\"org.hibernate.dialect.MySQL5InnoDBDialect\"); return adapter; } @Bean(name = \"transactionManager\") public PlatformTransactionManager transactionManager(EntityManagerFactory bean, DataSource dataSource) { JpaTransactionManager tm = new JpaTransactionManager(); tm.setEntityManagerFactory(bean); tm.setDataSource(dataSource); return tm; } } ä»JNDIä¸­è·å–å®ä½“ç®¡ç†å™¨å·¥å‚ ç¼–å†™åŸºäºJPAçš„Repository å®ä½“ç±» @Data @Entity @Table(name = \"admin\") public class Admin { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Integer id; private String username; private String password; } Repositoryç±» public interface AdminRepository extends JpaRepository { } ä½¿ç”¨ adminRepository.findAll(); è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³• public interface AdminRepository extends JpaRepository { Admin findbyUsername(String username); } ä¸€äº›å…³é”®è¯ Keyword Sample JPQL And findByLastnameAndFirstname ... where x.lastname = ?1 and x.firstname = ?2 Or findByLastnameOrFirstname ... where x.lastname = ?1 or x.firstname = ?2 Is,Equals findByFirstnameIs,findByFirstnameEquals ... where x.firstname = ?1 Between findByStartDateBetween ... where x.startDate between ?1 and ?2 LessThan findByAgeLessThan ... where x.age LessThanEqual findByAgeLessThanEqual ... where x.age â‡ ?1 GreaterThan findByAgeGreaterThan ... where x.age > ?1 GreaterThanEqual findByAgeGreaterThanEqual ... where x.age >= ?1 After findByStartDateAfter ... where x.startDate > ?1 Before findByStartDateBefore ... where x.startDate IsNull findByAgeIsNull ... where x.age is null IsNotNull,NotNull findByAge(Is)NotNull ... where x.age not null Like findByFirstnameLike ... where x.firstname like ?1 NotLike findByFirstnameNotLike ... where x.firstname not like ?1 StartingWith findByFirstnameStartingWith ... where x.firstname like ?1 (parameter bound with appended %) EndingWith findByFirstnameEndingWith ... where x.firstname like ?1 (parameter bound with prepended %) Containing findByFirstnameContaining ... where x.firstname like ?1 (parameter bound wrapped in %) OrderBy findByAgeOrderByLastnameDesc ... where x.age = ?1 order by x.lastname desc Not findByLastnameNot ... where x.lastname <> ?1 In findByAgeIn(Collection ages) ... where x.age in ?1 NotIn findByAgeNotIn(Collection age) ... where x.age not in ?1 TRUE findByActiveTrue() ... where x.active = true FALSE findByActiveFalse() ... where x.active = false IgnoreCase findByFirstnameIgnoreCase ... where UPPER(x.firstame) = UPPER(?1) ä½¿ç”¨SQL @Query(value = \"SELECT * FROM admin WHERE username = 'admin'\",nativeQuery = true) Admin selfCondition(); ä½¿ç”¨JPQL @Query(\"FROM Customer WHERE custName = ?1\") List findByJPQL(String name); // æ›´æ–°æ“ä½œ @Query(\"UPDATE Customer SET custName = ?2 WHERE custId = ?1\") @Modifying int update(Long id,String name); åŠ¨æ€æŸ¥è¯¢ JpaSpecificationExecutor Specification ç¤ºä¾‹ Specification spec = (Specification) (root/*æ¯”è¾ƒçš„å±æ€§*/, query, cb/*æŸ¥è¯¢æ–¹å¼*/) -> { Path custName = root.get(\"custName\"); return cb.equal(custName,\"è€ç‹å…«\"); }; Optional one = repository.findOne(spec); System.out.println(one.get()); æ¡ä»¶æ‹¼æ¥ Specification spec = (Specification) (root/*æ¯”è¾ƒçš„å±æ€§*/, query, cb/*æŸ¥è¯¢æ–¹å¼*/) -> { Path custName = root.get(\"custName\"); Path custIndustry = root.get(\"custIndustry\"); var p1 = cb.equal(custName,\"è€ç‹å…«\"); var p2 = cb.equal(custIndustry,\"éš”å£\"); return cb.and(p1,p2); }; æ¨¡ç³ŠæŸ¥è¯¢ Specification spec = (Specification) (root/*æ¯”è¾ƒçš„å±æ€§*/, query, cb/*æŸ¥è¯¢æ–¹å¼*/) -> { Path custName = root.get(\"custName\"); return cb.like(custName.as(String.class),\"%è€%\"); }; repository.findAll(spec).forEach(System.out::println); æ’åº repository.findAll(spec, new Sort(Sort.Direction.DESC,\"custId\")).forEach(System.out::println); åˆ†é¡µ repository.findAll(PageRequest.of(0,3)).forEach(System.out::println); Pageæ¥å£ public interface Page extends Slice { static Page empty() { return empty(Pageable.unpaged()); } static Page empty(Pageable pageable) { return new PageImpl<>(Collections.emptyList(), pageable, 0); } int getTotalPages(); long getTotalElements(); Page map(Function converter); } å¤šè¡¨æ“ä½œ ä¸€å¯¹å¤š ä¸»è¡¨ @OneToMany(targetEntity = LinkMan.class) @JoinColumn(name = \"lkm_cust_id\",referencedColumnName = \"cust_id\") private Set linkMan = new HashSet<>(0); ä»è¡¨ @ManyToOne(targetEntity = Customer.class) @JoinColumn(name = \"lkm_cust_id\",referencedColumnName = \"cust_id\") private Customer customer; æ“ä½œ Customer customer = new Customer(); customer.setCustName(\"20190908\"); LinkMan man = new LinkMan(); man.setLkmName(\"å°å©Šç ¸\"); man.setCustomer(customer); customerRepository.save(customer); linkManRepository.save(man); æ”¾å¼ƒå¤–é”®ç»´æŠ¤ @OneToMany(mappedBy = \"customer\") çº§è”æ·»åŠ  @OneToMany(mappedBy = \"customer\",cascade = CascadeType.ALL) Customer customer = new Customer(); customer.setCustName(\"20190908\"); LinkMan man = new LinkMan(); man.setLkmName(\"å°å©Šç ¸\"); man.setCustomer(customer); customer.getLinkMans().add(man); customerRepository.save(customer); çº§è”åˆ é™¤ Optional cus = customerRepository.findById(1L); customerRepository.delete(cus.get()); å¤šå¯¹å¤š @ManyToMany(targetEntity = Role.class) @JoinTable(name = \"user_role\",joinColumns = {@JoinColumn(name = \"user_id\",referencedColumnName = \"user_id\")}, inverseJoinColumns = {@JoinColumn(name = \"role_id\",referencedColumnName = \"role_id\")}) private Set roleSet = new HashSet<>(); @ManyToMany(targetEntity = User.class) @JoinTable(name = \"user_role\",joinColumns ={@JoinColumn(name = \"role_id\",referencedColumnName = \"role_id\")}, inverseJoinColumns = {@JoinColumn(name = \"user_id\",referencedColumnName = \"user_id\")}) private Set userSet = new HashSet<>(); User user = new User(); user.setUsername(\"è€ç‹\"); Role role = new Role(); role.setRoleName(\"éš”å£\"); user.getRoleSet().add(role); userDao.save(user); roleDao.save(role); çº§è” å¯¹è±¡å¯¼èˆª public enum FetchType { LAZY,EAGER } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringData/ç¼“å­˜æ•°æ®.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringData/ç¼“å­˜æ•°æ®.html","title":"ç¼“å­˜æ•°æ®","keywords":"","body":"å¯ç”¨ç¼“å­˜æ”¯æŒ @Configuration @ComponentScan(\"wang.ismy.spring\") @EnableCaching public class Config { @Bean public CacheManager cacheManager(){ return new ConcurrentMapCacheManager(); } } Spring æä¾›çš„å‡ ä¸ªç¼“å­˜ç®¡ç†å™¨ è®©æ–¹æ³•æ”¯æŒç¼“å­˜ @Cacheable(value = \"find\",key = \"#id\") public String find(Integer id){ System.out.println(\"real find\"); return \"hello world\"+id; } å°†å€¼æ”¾åˆ°ç¼“å­˜å½“ä¸­ /** * è¯¥æ–¹æ³•è‚¯å®šä¼šè¢«æ‰§è¡Œï¼Œä½†æ˜¯è¿”å›ç»“æœä¼šæ”¾åˆ°ç¼“å­˜å½“ä¸­ */ @CachePut(value = \"find\",key = \"#id\") public String put(Integer id){ return \"new\"+id; } æ¡ä»¶åŒ–ç¼“å­˜ unless : é˜»æ­¢å°†å¯¹è±¡æ”¾å…¥ç¼“å­˜ï¼Œä½†æ˜¯è¿˜ä¼šè¿›è¡Œç¼“å­˜æŸ¥æ‰¾ condition : ä¸ä¼šè¿›è¡Œç¼“å­˜æŸ¥æ‰¾ï¼Œä¹Ÿä¸ä¼šå°†ç»“æœæ”¾å…¥ç¼“å­˜ åœ¨idç­‰äº10æ—¶ä¸ä¼šè¿›è¡Œç¼“å­˜ @Cacheable(value = \"find\",key = \"#id\",condition = \"#id != 10\") public String find(Integer id){ System.out.println(\"real find\"); return \"hello world\"+id; } ç§»é™¤ç¼“å­˜ @CacheEvict(value = \"find\",key = \"#id\") public void remove(Integer id){ } ä½¿ç”¨xmlæ·»åŠ ç¼“å­˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringData/elasticsearch.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringData/elasticsearch.html","title":"Elasticsearch","keywords":"","body":"é…ç½® @Document(indexName = \"index1\",type = \"article\") @Data public class Article { @Id @Field(type = FieldType.Long,store = true) private long id; @Field(type = FieldType.Text,store = true) private String title; @Field(type = FieldType.Text,store = true) private String content; } @Repository public interface ArticleDao extends ElasticsearchRepository { } åˆ›å»ºç´¢å¼• ElasticsearchTemplate template = context.getBean(ElasticsearchTemplate.class); template.createIndex(Article.class); æ·»åŠ æ–‡æ¡£ Article article = new Article(); article.setId(1L); article.setTitle(\"ã€ä¸­å›½ç¨³å¥å‰è¡Œã€‘â€œä¸­å›½ä¹‹æ²»â€çš„æ”¿æ²»ä¿è¯\"); article.setContent(\"æ–°ä¸­å›½æˆç«‹70å¹´æ¥ï¼Œåœ¨ä¸­å›½å…±äº§å…šçš„åšå¼ºé¢†å¯¼ä¸‹ï¼Œ...\"); articleDao.save(article); åˆ é™¤æ–‡æ¡£ articleDao.deleteById(1L); articleDao.deleteAll(); // å…¨éƒ¨åˆ é™¤ ä¿®æ”¹æ–‡æ¡£ åŒæ·»åŠ æ–‡æ¡£ æŸ¥è¯¢ æŸ¥è¯¢å…¨éƒ¨ articleDao.findAll().forEach(System.out::println); æ ¹æ®ID System.out.println(articleDao.findById(2L).get()); è‡ªå®šä¹‰æŸ¥è¯¢ @Repository public interface ArticleDao extends ElasticsearchRepository { List findAllByTitle(String title); } åˆ†é¡µæŸ¥è¯¢ List findAllByTitle(String title, Pageable pageable); articleDao.findAllByTitle(\"ä¸­\", PageRequest.of(0,5)).forEach(System.out::println); åŸç”ŸæŸ¥è¯¢ NativeSearchQuery query = new NativeSearchQueryBuilder() .withQuery(QueryBuilders.queryStringQuery(\"ä¸­å›½\").defaultField(\"title\")) .withPageable(PageRequest.of(0,5)) .build(); template.queryForList(query,Article.class).forEach(System.out::println); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringSecurity/springSecurity.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringSecurity/springSecurity.html","title":"SpringSecurity","keywords":"","body":"SpringSecurity Spring Securityæ˜¯ä¸€ä¸ªèƒ½å¤Ÿä¸ºåŸºäºSpringçš„ä¼ä¸šåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶è§£å†³æ–¹æ¡ˆçš„å®‰å…¨æ¡†æ¶ ç»„æˆæ¨¡å— é…ç½® æ·»åŠ spring security æ‹¦æˆªé“¾ @Override public void onStartup(ServletContext servletContext) throws ServletException { var a= servletContext.addFilter(\"springSecurityFilterChain\", DelegatingFilterProxy.class); a.addMappingForUrlPatterns(null,false,\"/*\"); } åˆ›å»ºç›¸å…³å®‰å…¨æ€§é…ç½® @Configuration @EnableWebSecurity public class SecurityConfig extends WebSecurityConfigurerAdapter { @Override protected void configure(HttpSecurity http) throws Exception { http.authorizeRequests() .anyRequest().authenticated() .and() .formLogin().and().httpBasic(); } } æ·»åŠ ç”¨æˆ· åŸºäºå†…å­˜ @Override @Bean public UserDetailsService userDetailsService() { User.UserBuilder users = User.builder(); InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager(); manager.createUser(users.username(\"user\") .password(new BCryptPasswordEncoder().encode(\"123\")).roles(\"USER\") .authorities(\"play\") .build() ); manager.createUser(users.username(\"admin\").password(new BCryptPasswordEncoder().encode(\"123\")).roles(\"USER\", \"ADMIN\").build()); return manager; } åŸºäºæ•°æ®åº“ åŸºäºLDAP é™åˆ¶è®¿é—® @Override protected void configure(HttpSecurity http) throws Exception { http .authorizeRequests() .antMatchers(\"/\").hasAnyAuthority(\"play\") .and() .httpBasic(); } è‡ªå®šä¹‰é”™è¯¯é¡µé¢ @Configuration public class WebServerAutoConfiguration { @Bean public ConfigurableServletWebServerFactory configurableServletWebServerFactory(){ TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory(); factory.addErrorPages(new ErrorPage(HttpStatus.FORBIDDEN,\"/error/403\")); return factory; } } è‡ªå®šä¹‰ç™»å½•é¡µé¢ .formLogin().loginPage(\"/login\").and().csrf().disable(); è‡ªå®šä¹‰è®¤è¯æˆåŠŸå¤±è´¥å¤„ç† AuthenticationFailureHandler è®¤è¯å¤±è´¥æ¥å£ AuthenticationSuccessHandler è®¤è¯æˆåŠŸæ¥å£ æ·»åŠ è‡ªå®šä¹‰ç”¨æˆ·æœåŠ¡ å®ç°è¯¥æ¥å£ public interface UserDetailsService { UserDetails loadUserByUsername(String username) throws UsernameNotFoundException; } UserDetailséœ€è¦å®ç°çš„å†…å®¹ public interface UserDetails extends Serializable { Collection getAuthorities(); String getPassword(); String getUsername(); boolean isAccountNonExpired(); boolean isAccountNonLocked(); boolean isCredentialsNonExpired(); boolean isEnabled(); } è‡ªå®šä¹‰æ‹¦æˆªè¯·æ±‚ @Override protected void configure(HttpSecurity http) throws Exception { System.out.println(\"auth pro run\"); http .authorizeRequests() .antMatchers(\"/home\").hasRole(\"ADMIN\").and().formLogin().and() .authorizeRequests() .anyRequest().permitAll(); } ä½¿ç”¨Springè¡¨è¾¾å¼ @Override protected void configure(HttpSecurity http) throws Exception { System.out.println(\"auth pro run\"); http .authorizeRequests() .antMatchers(\"/home\").access(\"hasRole('ADMIN') and hasIpAddress('::1')\").and().formLogin().and() .authorizeRequests() .anyRequest().permitAll(); } å¼ºåˆ¶ä½¿ç”¨Https @Override protected void configure(HttpSecurity http) throws Exception { System.out.println(\"auth pro run\"); http .authorizeRequests() .antMatchers(\"/home\").access(\"hasRole('ADMIN') and hasIpAddress('::1')\").and().formLogin().and() .authorizeRequests() .anyRequest().permitAll().and().requiresChannel().anyRequest().requiresSecure(); } CSRFé˜²å¾¡ ä½¿ç”¨HTTP Basicè®¤è¯ http .authorizeRequests() .antMatchers(\"/home\").access(\"hasRole('ADMIN') and hasIpAddress('::1')\").and().httpBasic().and() .authorizeRequests() .anyRequest().permitAll(); å¯ç”¨è®°ä½æˆ‘åŠŸèƒ½ .and().httpBasic().and().rememberMe() ä¿æŠ¤è§†å›¾ Spring Securityçš„jspæ ‡ç­¾åº“ ä½¿ç”¨thymeleafçš„spring security æ–¹è¨€ ä¿æŠ¤æ–¹æ³•è°ƒç”¨ ä½¿ç”¨æ³¨è§£ä¿æŠ¤æ–¹æ³• é…ç½® @Configuration @EnableGlobalMethodSecurity(securedEnabled = true) class Config1 extends GlobalMethodSecurityConfiguration{ } @Secured @Secured(\"ROLE_ADMIN\") @RequestMapping(\"/home\") @ResponseBody public String home(){ return \"home\"; } ä½¿ç”¨è¡¨è¾¾å¼ä¿æŠ¤æ–¹æ³• å¯ç”¨ç›¸å…³é…ç½®æ”¯æŒ @EnableGlobalMethodSecurity(prePostEnabled = true) ç›¸å…³æ³¨è§£ @PreAuthorize :åœ¨æ–¹æ³•è°ƒç”¨å‰è¿›è¡ŒéªŒè¯ @PostAuthorizeï¼šåœ¨æ–¹æ³•è°ƒç”¨åè¿›è¡ŒéªŒè¯ @PreFilter :è°ƒç”¨å‰å¯¹å‚æ•°è¿›è¡Œè¿‡æ»¤ @PostFilter ï¼šè°ƒç”¨åå¯¹è¿”å›ç»“æœè¿›è¡Œè¿‡æ»¤ @PreAuthorize(\"#id == 10\") public void invoke(Integer id){ } å®šä¹‰è®¸å¯è®¡ç®—å™¨ å®ç°è¯¥æ¥å£ public interface PermissionEvaluator extends AopInfrastructureBean { boolean hasPermission(Authentication authentication, Object targetDomainObject, Object permission); boolean hasPermission(Authentication authentication, Serializable targetId, String targetType, Object permission); } æ³¨å†Œåˆ°Spring Security ä¸­ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-18 00:37:15 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringSecurity/ç”¨æˆ·è®¤è¯.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringSecurity/ç”¨æˆ·è®¤è¯.html","title":"ç”¨æˆ·è®¤è¯","keywords":"","body":" è®¤è¯ä¸æˆæƒ å•ç‚¹ç™»å½• å•ç‚¹ç™»å½•ï¼ˆSingle Sign Onï¼‰ï¼Œç®€ç§°ä¸º SSOï¼Œæ˜¯ç›®å‰æ¯”è¾ƒæµè¡Œçš„ä¼ä¸šä¸šåŠ¡æ•´åˆçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚SSOçš„å®šä¹‰æ˜¯åœ¨å¤šä¸ªåº”ç”¨ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·åªéœ€è¦ç™»å½•ä¸€æ¬¡å°±å¯ä»¥è®¿é—®æ‰€æœ‰ç›¸äº’ä¿¡ä»»çš„åº”ç”¨ç³»ç»Ÿ æˆæƒæ¨¡å¼ æˆæƒç æ¨¡å¼ å¯†ç æ¨¡å¼ Bcrypt bcryptæ˜¯ä¸€ä¸ªç”±Niels Provosä»¥åŠDavid MaziÃ¨resæ ¹æ®BlowfishåŠ å¯†ç®—æ³•æ‰€è®¾è®¡çš„å¯†ç æ•£åˆ—å‡½æ•°ï¼Œäº1999å¹´åœ¨USENIXä¸­å±•ç¤ºã€‚å®ç°ä¸­bcryptä¼šä½¿ç”¨ä¸€ä¸ªåŠ ç›çš„æµç¨‹ä»¥é˜²å¾¡å½©è™¹è¡¨æ”»å‡»ï¼ŒåŒæ—¶bcryptè¿˜æ˜¯é€‚åº”æ€§å‡½æ•°ï¼Œå®ƒå¯ä»¥å€Ÿç”±å¢åŠ è¿­ä»£ä¹‹æ¬¡æ•°æ¥æŠµå¾¡æ—¥ç›Šå¢è¿›çš„ç”µè„‘è¿ç®—èƒ½åŠ›é€è¿‡æš´åŠ›æ³•ç ´è§£ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-16 07:58:17 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringSecurity/RBAC.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/SpringSecurity/RBAC.html","title":"RBAC","keywords":"","body":"RBAC MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-18 02:18:05 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/Springé›†æˆ/nav.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/Springé›†æˆ/nav.html","title":"Springé›†æˆ","keywords":"","body":"NAV MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/Springé›†æˆ/è¿œç¨‹æœåŠ¡.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/Spring/Springé›†æˆ/è¿œç¨‹æœåŠ¡.html","title":"ä½¿ç”¨è¿œç¨‹æœåŠ¡","keywords":"","body":"è¿œç¨‹è°ƒç”¨çš„ä¸€äº›æŠ€æœ¯ RMI Hessian å’Œ Burlap HTTP JAX-WS å’Œ Web Service Spring çš„è¿œç¨‹è°ƒç”¨ RMI å¯¼å‡ºæœåŠ¡ @Bean public RmiServiceExporter rmiServiceExporter(Service service){ RmiServiceExporter exporter = new RmiServiceExporter(); exporter.setService(service); exporter.setServiceName(\"service\"); exporter.setServiceInterface(Service.class); exporter.setRegistryHost(\"ismy.wang\"); exporter.setRegistryPort(1999); return exporter; } è£…é…æœåŠ¡ Hessian å’Œ Burlap HttpInvoker ä½¿ç”¨webæœåŠ¡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/SpringBoot/nav.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/SpringBoot/nav.html","title":"SpringBoot","keywords":"","body":"Spring Boot å†…åµŒå¼å®¹å™¨ç®€åŒ–Webé¡¹ç›® æ²¡æœ‰å†—ä½™ä»£ç ç”Ÿæˆå’ŒXMLé…ç½®çš„è¦æ±‚ ä¸å’ŒSpringCloud SpringCloudä¾èµ–äºSpringBootç»„ä»¶ï¼Œä½¿ç”¨SpringMVCç¼–å†™HTTPæ¥å£ï¼ŒåŒæ—¶SpringCloudæ˜¯ä¸€å¥—å®Œæ•´çš„å¾®æœåŠ¡è§£å†³æ¡†æ¶ ç¯å¢ƒæ­å»º org.springframework.boot spring-boot-starter-parent 2.1.8.RELEASE org.springframework.boot spring-boot-starter-web @SpringBootApplication public class Application{ public static void main(String[] args) { SpringApplication.run(Application.class); } } çƒ­éƒ¨ç½² org.springframework.boot spring-boot-devtools true IDEAéœ€è¦å¼€å¯è‡ªåŠ¨ç¼–è¯‘ é…ç½® YMLè¯­æ³• # æ™®é€šæ•°æ®é…ç½® name: hello # å¯¹è±¡é…ç½® person: name: kb age: 3 # é…ç½®æ•°ç»„ã€é›†åˆ(å­—ç¬¦ä¸²) city: - beijing - tianjing - chongqing # é…ç½®æ•°ç»„ã€é›†åˆ(å¯¹è±¡) student: - name: tom age: 3 - name: ll age: 2 å±æ€§æ³¨å…¥ @Value @Value(\"${name}\") private String name; @ConfigurationProperties @RestController @ConfigurationProperties(prefix = \"person\") public class Controller { private String name; private Integer age; @RequestMapping(\"/hi\") public String hello(){ return name+age; } // çœç•¥setter } å…¨å±€å¼‚å¸¸æ•è· @ControllerAdvice public class ErrorHandler { @ResponseBody @ExceptionHandler(Throwable.class) public String error(Exception e){ return e.getMessage(); } } å¼‚æ­¥è°ƒç”¨ æ·»åŠ @EnableAsync åœ¨éœ€è¦å¼‚æ­¥è°ƒç”¨çš„æ–¹æ³•ä¸Šé¢æ·»åŠ @Async å¤šç¯å¢ƒé…ç½® spring.profiles.active=dev æ·»åŠ å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶application-dev.properties äº‹åŠ¡ç®¡ç† ä¾èµ– javax.transaction javax.transaction-api 1.3 æ·»åŠ @Transactional å¤šæ•°æ®æº é…ç½®å¤šä¸ªDataSourceï¼Œä¸€ä¸ªDataSourceé…ç½®ä¸€ä¸ªäº‹åŠ¡ç®¡ç†å™¨ï¼Œå£°æ˜äº‹åŠ¡æ—¶æŒ‡å®šäº‹åŠ¡ç®¡ç†å™¨ï¼Œ ä¸åŒçš„ORMæ¡†æ¶æœ‰ä¸åŒçš„æŒ‡å®šæ•°æ®æºçš„æ–¹å¼ jta-atomikos é€šè¿‡æŠŠå¤šä¸ªDataSourceäº¤ç»™jtaäº‹åŠ¡ç®¡ç†å™¨ç®¡ç†ï¼Œä½¿ç”¨jtaäº‹åŠ¡ç®¡ç†å™¨æ¥è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ æ‰“åŒ… jar æ·»åŠ æ’ä»¶ org.springframework.boot spring-boot-maven-plugin æ‰§è¡Œmvn package war æ·»åŠ æ‰“åŒ…æ’ä»¶ è®¾ç½®æ‰“åŒ…æ–¹å¼ war æ‰§è¡Œæ‰“åŒ…å‘½ä»¤ æ€§èƒ½ ç»„ä»¶è‡ªåŠ¨æ‰«æå¸¦æ¥çš„é—®é¢˜ ä½¿ç”¨ @SpringBootApplication æ³¨è§£åï¼Œä¼šè§¦å‘è‡ªåŠ¨é…ç½®ï¼ˆ auto-configuration ï¼‰å’Œ ç»„ä»¶æ‰«æ ï¼ˆ component scanning ï¼‰ JVMå‚æ•°è°ƒæ•´ å°†tomcatæ”¹ä¸ºundertow org.springframework.boot spring-boot-starter-web org.springframework.boot spring-boot-starter-tomcat org.springframework.boot spring-boot-starter-undertow ç›‘æ§ä¸­å¿ƒ Actuatoræ˜¯spring bootçš„ä¸€ä¸ªé™„åŠ åŠŸèƒ½,å¯åœ¨åº”ç”¨ç¨‹åºç”Ÿäº§ç¯å¢ƒæ—¶ç›‘è§†å’Œç®¡ç†åº”ç”¨ç¨‹åº æ·»åŠ ä¾èµ– org.springframework.boot spring-boot-starter-actuator æ·»åŠ é…ç½® # æš´éœ²å‡ºæ‰€æœ‰ç›‘æ§æ¥å£ management: endpoints: web: exposure: include: \"*\" è·¯å¾„ ä½œç”¨ /actuator/beans æ˜¾ç¤ºåº”ç”¨ç¨‹åºä¸­æ‰€æœ‰Spring beançš„å®Œæ•´åˆ—è¡¨ã€‚ /actuator/configprops æ˜¾ç¤ºæ‰€æœ‰é…ç½®ä¿¡æ¯ã€‚ /actuator/env é™ˆåˆ—æ‰€æœ‰çš„ç¯å¢ƒå˜é‡ã€‚ /actuator/mappings æ˜¾ç¤ºæ‰€æœ‰@RequestMappingçš„urlæ•´ç†åˆ—è¡¨ã€‚ /actuator/health æ˜¾ç¤ºåº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µä¿¡æ¯ upè¡¨ç¤ºæˆåŠŸ downå¤±è´¥ /actuator/info è¿”å›é…ç½®ä¸­å‰ç¼€ä¸ºinfoçš„é…ç½®é¡¹ é›†æˆå…¶ä»–æ¡†æ¶ é›†æˆfreemarker å¼•å…¥ä¾èµ– org.springframework.boot spring-boot-starter-freemarker é…ç½® spring.freemarker.allow-request-override=false spring.freemarker.cache=true spring.freemarker.check-template-location=true spring.freemarker.charset=UTF-8 spring.freemarker.content-type=text/html spring.freemarker.expose-request-attributes=false spring.freemarker.expose-session-attributes=false spring.freemarker.expose-spring-macro-helpers=false spring.freemarker.suffix=.ftl spring.freemarker.template-loader-path=classpath:/templates/ åˆ›å»ºController @Controller public class HelloController { @RequestMapping(\"hello\") public String index(ModelMap map){ map.put(\"hello\",\"java\"); return \"index\"; } } åœ¨templateç›®å½•ä¸‹åˆ›å»ºindex.ftl ${hello} é›†æˆMybatis å¼•å…¥ä¾èµ– org.mybatis.spring.boot mybatis-spring-boot-starter 2.1.0 é…ç½®æ•°æ®åº“ä¿¡æ¯å’Œmybatisé…ç½® # æ•°æ®åº“è¿æ¥ä¿¡æ¯ spring.datasource.username=root spring.datasource.password=123 spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.url=jdbc:mysql:///ssm # mybatisç›¸å…³é…ç½® mybatis.mapper-locations=mappers/*.xml mybatis.configuration.map-underscore-to-camel-case=true é…ç½®mybatisåŒ…æ‰«æè·¯å¾„ @MapperScan(basePackages = \"wang.ismy.springmybatis.mapper\") public class SpringMybatisApplication { public static void main(String[] args) { SpringApplication.run(SpringMybatisApplication.class, args); } } æ•´åˆPageHelper å¼•å…¥ä¾èµ– com.github.pagehelper pagehelper-spring-boot-starter 1.2.13 é…ç½® pagehelper.helperDialect=mysql pagehelper.reasonable=true pagehelper.supportMethodsArguments=true pagehelper.params=count=countSql pagehelper.page-size-zero=true é›†æˆJunit å¯¼å…¥ä¾èµ– org.springframework.boot spring-boot-starter-test test å»ºç«‹æµ‹è¯• @SpringBootTest @RunWith(SpringRunner.class) public class ControllerTest{ @Autowired UserMapper mapper; @Test public void test(){ assertNotNull(mapper); } } é›†æˆSpring data jpa ä¾èµ– org.springframework.boot spring-boot-starter-data-jpa é…ç½® # æ•°æ®åº“è¿æ¥ä¿¡æ¯ spring.datasource.username=root spring.datasource.password=123 spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.url=jdbc:mysql:///ssm # spring data jpaç›¸å…³é…ç½® spring.jpa.database=mysql spring.jpa.show-sql=true spring.jpa.generate-ddl=true spring.jpa.hibernate.ddl-auto=update ä½¿ç”¨é€šç”¨Mapper ä¾èµ– tk.mybatis mapper-spring-boot-starter 2.1.5 ç»§æ‰¿ public interface UserMapper extends BaseMapper { } @MapperScanæ³¨è§£éœ€è¦ä½¿ç”¨tk.mybatisåŒ… é›†æˆRedis ä¾èµ– org.springframework.boot spring-boot-starter-data-redis é…ç½® # redisç›¸å…³é…ç½® spring.redis.host=127.0.0.1 spring.redis.port=6379 ä½¿ç”¨ @RunWith(SpringRunner.class) @SpringBootTest public class RedisTest { @Autowired RedisTemplate redisTemplate; @Test public void test(){ String name = redisTemplate.boundValueOps(\"name\").get(); Assert.assertEquals(\"my\",name); } } é›†æˆswagger ä¾èµ– com.spring4all swagger-spring-boot-starter 1.9.1.RELEASE é…ç½® swagger.base-package=wang.ismy.consume @EnableSwagger2Doc zuulæ•´åˆå„ä¸ªå¾®æœåŠ¡æ–‡æ¡£ ä¾èµ– com.spring4all swagger-spring-boot-starter 1.9.1.RELEASE é…ç½® @Component @Primary @EnableSwagger2Doc class DocumentationConfig implements SwaggerResourcesProvider { @Override public List get() { List resources = new ArrayList<>(); resources.add(swaggerResource(\"consumer\", \"/api-consumer/v2/api-docs\", \"2.0\")); return resources; } private SwaggerResource swaggerResource(String name, String location, String version) { SwaggerResource swaggerResource = new SwaggerResource(); swaggerResource.setName(name); swaggerResource.setLocation(location); swaggerResource.setSwaggerVersion(version); return swaggerResource; } } é«˜çº§ @ConditionOnXX æ¡ä»¶åŒ–æ³¨å…¥bean åˆ‡æ¢å†…ç½®æœåŠ¡å™¨ æ’é™¤tomcatä¾èµ– å¼•å…¥å…¶ä»–å†…ç½®æœåŠ¡å™¨ä¾èµ– @EnableXXåŸç† æ­¤ç±»æ³¨è§£ä½¿ç”¨äº†@Importä¿®é¥°ï¼Œé€šè¿‡@Importæ³¨è§£æ¥å¯¼å…¥ä¸€äº›é…ç½®ç±» @Importä½¿ç”¨ï¼š å¯¼å…¥Bean å¯¼å…¥é…ç½®ç±» ImportSelectorçš„å®ç°ç±» è‡ªå®šä¹‰éœ€è¦å¯¼å…¥çš„ç±»é€»è¾‘ï¼ˆè¿”å›å…¨é™å®šç±»åï¼‰ ImportBeanDefinitionRegistrar å®ç°ç±» è‡ªå®šä¹‰ï¼ˆç¼–ç¨‹å¼å‘IOCå®¹å™¨æ³¨å†Œï¼‰ @EnableAutoConfigurationåŸç† @Import AutoConfigurationImportSelector åŠ è½½é…ç½®ç±» AutoConfigurationImportSelectorè¯»å–META-INF/spring.factories åŠ è½½é…ç½®ç±» è‡ªå®šä¹‰starter å®šä¹‰autoconfigureæ¨¡å— å®šä¹‰starteræ¨¡å—ä¾èµ–autoconfigureæ¨¡å— åœ¨autoconfigureæ¨¡å—å®šä¹‰META-INF/spring.factories äº‹ä»¶ç›‘å¬ SpringApplicationRunListener CommandLineRunner é¡¹ç›®å¯åŠ¨åæ‰§è¡Œï¼ˆæ”¾å…¥iocå®¹å™¨å³å¯è¢«è¯†åˆ«ï¼‰ ApplicationRunner é¡¹ç›®å¯åŠ¨åæ‰§è¡Œï¼ˆæ”¾å…¥iocå®¹å™¨å³å¯è¢«è¯†åˆ«ï¼‰ ä¸ºäº†åœ¨åº”ç”¨å¯åŠ¨æˆåŠŸä¹‹åæ‰§è¡ŒæŸäº›æ“ä½œï¼ŒæŸäº›æƒ…å†µä¸‹ä½¿ç”¨InitializingBeanæ¥å£å¹¶ä¸èƒ½æ»¡è¶³è¯·æ±‚ï¼Œå…¶å›è°ƒæ–¹æ³•afterPropertiesSetåœ¨Beanå±æ€§è¢«è®¾ç½®åè¢«è°ƒç”¨ï¼Œæ­¤æ—¶ç³»ç»Ÿçš„éƒ¨åˆ†ç»„ä»¶å¯èƒ½ä»å¤„äºæœªåˆå§‹åŒ–çŠ¶æ€ã€‚ ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä½¿ç”¨Springçš„äº‹ä»¶ç›‘å¬æœºåˆ¶ï¼Œç›‘å¬SpringBootçš„AvailabilityChangeEvent å½“çŠ¶æ€ä¸ºReadinessState.ACCEPTING_TRAFFICï¼Œè¡¨ç¤ºåº”ç”¨å¯ä»¥å¼€å§‹å‡†å¤‡æ¥æ”¶è¯·æ±‚äº†ï¼Œæ­¤æ—¶å†å¯åŠ¨æ‰€éœ€è¦çš„æ“ä½œ @EventListener public void onSystemReady(AvailabilityChangeEvent event) { if (event.getState().equals(ReadinessState.ACCEPTING_TRAFFIC)) { // do something } } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-06-10 03:18:22 "},"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/SpringWebFlux.html":{"url":"ç¼–ç¨‹è¯­è¨€/JAVA/æ¡†æ¶/SpringWebFlux.html","title":"SpringWebFlux","keywords":"","body":"WebFlux éé˜»å¡ï¼Œæ›´é«˜çš„æ€§èƒ½ å‡½æ•°å¼ç¼–ç¨‹ å“åº”å¼ï¼šåŒºåˆ«äºä¼ ç»Ÿç¼–ç¨‹æ¨¡å‹ï¼Œæ˜¯å¼‚æ­¥çš„ å›´ç»•å“åº”å˜åŒ–è€Œæ„å»ºçš„ç¼–ç¨‹æ¨¡å‹-ç½‘ç»œç»„ä»¶å“åº”I / Oäº‹ä»¶ æ¦‚å¿µ å“åº”å¼api æ¥æ”¶Publisherä½œä¸ºè¾“å…¥ Fluxæˆ–è€…Monoä½œä¸ºè¾“å‡º ç¼–ç¨‹æ¨¡å‹ web fluxæä¾›äº†ä¸¤ç§ç¼–ç¨‹æ¨¡å‹ï¼š å¸¦æ³¨é‡Šçš„controllerï¼šå’Œç»å…¸çš„web mvcä¸€æ · åŠŸèƒ½ç«¯ç‚¹ï¼šä»åˆ°åˆ°å°¾ç”±åº”ç”¨ç¨‹åºè‡ªå·±è·¯ç”±ã€å¤„ç†è¯·æ±‚ã€‚å’Œnodejsä¸€æ · web mvc or web fluxï¼Ÿ æœåŠ¡å™¨ åœ¨ web fluxä¸­ï¼Œå¯ä»¥è·¨tomcatã€jettyç­‰å®¹å™¨ä½¿ç”¨ æ€§èƒ½ éé˜»å¡æ–¹å¼è¿›è¡Œæ“ä½œéœ€è¦æ›´å¤šçš„å·¥ä½œï¼Œè¿™å¯èƒ½ä¼šç¨å¾®å¢åŠ æ‰€éœ€çš„å¤„ç†æ—¶é—´ ä½¿ç”¨å“åº”å¼çš„å¥½å¤„åœ¨äºèƒ½å¤Ÿä»¥è¾ƒå°‘çš„å›ºå®šæ•°é‡çº¿ç¨‹ä»¥åŠæ›´å°‘çš„å†…å­˜èµ„æºè¿›è¡Œæ›´å¥½çš„æ‰©å±• å¹¶å‘æ¨¡å‹ è°ƒç”¨é˜»å¡apiï¼šè™½ç„¶ä¸€äº›æ–¹æ³•å¯ä»¥åœ¨å“åº”å¼ç¼–ç¨‹ä¸­ä½¿ç”¨ï¼Œä½†ä¼šå¼•å…¥ä¸€äº›é¢å¤–çš„é—®é¢˜ å¯å˜çŠ¶æ€ï¼šé€šè¿‡è¿ç®—ç¬¦ï¼Œå½¢æˆä¸€ä¸ªå“åº”å¼ç®¡é“ï¼Œåœ¨ä¸åŒçš„é˜¶æ®µå¤„ç†æ•°æ® çº¿ç¨‹æ¨¡å‹ åŸå§‹çº¿ç¨‹æ¨¡å‹ äº‹ä»¶å¾ªç¯ è°ƒåº¦ç¨‹åº é…ç½® ä¸åŒçš„æœåŠ¡å™¨çš„é…ç½®éœ€è¦ä½¿ç”¨å„è‡ªæœåŠ¡å™¨çš„api å“åº”å¼æ ¸å¿ƒ HttpHandler ä¸€ä¸ªå¯ä»¥å¤„ç†è¯·æ±‚å¹¶ä¸”å“åº”çš„å•ä¸€æ–¹æ³• ä¸åŒçš„æœåŠ¡å™¨å…·æœ‰ä¸åŒçš„api WebHandler spring webåŸºäºhttphandlerå°è£…äº†WebHandler Filters å¯ä»¥ä½¿ç”¨ WebFilter å¤„ç†è¯·æ±‚ Exceptions å¯ä»¥ä½¿ç”¨ExceptionHandleræ¥å¤„ç†è¯·æ±‚ä¸å“åº”ä¸­çš„å¼‚å¸¸ Codecs web flux æä¾›äº†ä¸€äº›å°è£…æ¥è´Ÿè´£æ•°æ®çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– DispatcherHandler ç±»ä¼¼äºmvcä¸­çš„DispatcherServlet è´Ÿè´£å¯¹è¯·æ±‚çš„ç»Ÿä¸€æ§åˆ¶ä¸è½¬å‘ ä½¿ç”¨ ä¼ ç»Ÿæ–¹å¼ è·ŸMVCä¸€æ · å¯ä»¥ä½¿ç”¨controllerç­‰ç›¸å…³æ³¨è§£è¿›è¡Œä½¿ç”¨ å‡½æ•°å¼ç«¯ç‚¹ æ¦‚è§ˆ class Handler { public Mono listPeople(ServerRequest request) { // ... } public Mono createPerson(ServerRequest request) { // ... } public Mono getPerson(ServerRequest request) { // ... } } Handler handler = new Handler(); // å®šä¹‰è·¯ç”±æ˜ å°„ RouterFunction route = route() .GET(\"/person/{id}\", accept(APPLICATION_JSON), handler::getPerson) .GET(\"/person\", accept(APPLICATION_JSON), handler::listPeople) .POST(\"/person\", handler::createPerson) .build(); ServerRequest æä¾›äº†ä¸€ä¸ªè®¿é—®è¯·æ±‚æ•°æ®çš„ä¸œè¥¿ Mono string = request.bodyToMono(String.class); ServerResponse è¿™ç©æ„æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æ¥åˆ›å»º public Mono listPeople(ServerRequest request) { return ok().body(Mono.just(\"people list\"), String.class); } è·¯ç”±åˆ¤æ–­ // åªæœ‰person/1æ‰ä¼šè¢«å¤„ç† route() .GET(\"/person/{id}\", accept(APPLICATION_JSON).and(request-> \"1\".equals(request.pathVariable(\"id\"))), handler::getPerson) è·¯ç”±ä¼˜å…ˆçº§ RouterFunction route = route() .GET(\"/person/{id}\", accept(APPLICATION_JSON), handler::getPerson) //1 .GET(\"/person\", accept(APPLICATION_JSON), handler::listPeople) // 2 .POST(\"/person\", handler::createPerson) // 3 .add(otherRoute) // æ·»åŠ å…¶ä»–è·¯ç”± .build(); åµŒå¥—è·¯ç”± RouterFunction route = route() .path(\"/person\", builder -> builder .GET(\"/{id}\", accept(APPLICATION_JSON), handler::getPerson) .GET(\"\", accept(APPLICATION_JSON), handler::listPeople) .POST(\"/person\", handler::createPerson)) .build(); è¿è¡Œ spring boot @EnableWebFlux @Bean RouterFunction routerFunction(){ ... } è¿‡æ»¤å™¨ route() .before(req->{ System.out.println(req.path()+\"before\"); return req; }) .GET(\"/person/{id}\", accept(APPLICATION_JSON).and(request-> \"1\".equals(request.pathVariable(\"id\"))), handler::getPerson) .GET(\"/person\", accept(APPLICATION_JSON), handler::listPeople) .POST(\"/person\", handler::createPerson) .after((req,res)->{ System.out.println(req.path()+\"after\"); return res; }) .build(); æˆ–è€…å¦å¤–ä¸€ç§æ–¹å¼ï¼š route() .GET(\"/person/{id}\", accept(APPLICATION_JSON).and(request-> \"1\".equals(request.pathVariable(\"id\"))), handler::getPerson) .GET(\"/person\", accept(APPLICATION_JSON), handler::listPeople) .POST(\"/person\", handler::createPerson) .filter((req,res)->{ System.out.println(req.path()+\"before\"); return res.handle(req); }) .build(); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-21 08:05:19 "},"DSL/nav.html":{"url":"DSL/nav.html","title":"ğŸ”¨DSL","keywords":"","body":"DSL MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 12:40:15 "},"DSL/HTML.html":{"url":"DSL/HTML.html","title":"HTML","keywords":"","body":" é™æ€èµ„æº åŠ¨æ€èµ„æº è¶…æ–‡æœ¬ æ ‡è®°è¯­è¨€ æ ‡ç­¾ å›´å µæ ‡ç­¾ è‡ªé—­æ ‡ç­¾ åŸºæœ¬æ ‡ç­¾ æ–‡ä»¶æ ‡ç­¾ html head title body æ–‡æœ¬æ ‡ç­¾ h1 ~ h6 p br hr b i font å›¾ç‰‡æ ‡ç­¾ src alt åˆ—è¡¨æ ‡ç­¾ ulï¼šæ— åº olï¼šæœ‰åº é“¾æ¥æ ‡ç­¾ å—æ ‡ç­¾ div span è¯­ä¹‰åŒ–æ ‡ç­¾ header footer nav è¡¨æ ¼æ ‡ç­¾ ç¼–å· å§“å 1 lisi è¡¨å•æ ‡ç­¾ input select option textarea label HTML5 HTML5 æ‹“å±•äº†å“ªäº›å†…å®¹ è¯­ä¹‰åŒ–æ ‡ç­¾ æœ¬åœ°å­˜å‚¨ å…¼å®¹ç‰¹æ€§ 2Dã€3D åŠ¨ç”»ã€è¿‡æ¸¡ CSS3 ç‰¹æ€§ æ€§èƒ½ä¸é›†æˆ è¯­ä¹‰åŒ–æ ‡ç­¾ header --- å¤´éƒ¨æ ‡ç­¾ nav --- å¯¼èˆªæ ‡ç­¾ article --- å†…å®¹æ ‡ç­¾ section --- å—çº§æ ‡ç­¾ aside --- ä¾§è¾¹æ æ ‡ç­¾ footer --- å°¾éƒ¨æ ‡ç­¾ è¯­ä¹‰åŒ–æ ‡ç­¾ä¸»è¦é’ˆå¯¹æœç´¢å¼•æ“ æ–°æ ‡ç­¾å¯ä»¥ä½¿ç”¨ä¸€æ¬¡æˆ–è€…å¤šæ¬¡ åœ¨ IE9 æµè§ˆå™¨ä¸­ï¼Œéœ€è¦æŠŠè¯­ä¹‰åŒ–æ ‡ç­¾éƒ½è½¬æ¢ä¸ºå—çº§å…ƒç´  è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œåœ¨ç§»åŠ¨ç«¯æ”¯æŒæ¯”è¾ƒå‹å¥½ å¤šåª’ä½“æ ‡ç­¾ éŸ³é¢‘ -- audio è§†é¢‘ -- video audio éŸ³é¢‘æ ¼å¼ Chrome Firefox IE9 Opera Safari OGG æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ MP3 æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ WAV ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ å±æ€§ å±æ€§å€¼ æ³¨é‡Š src url æ’­æ”¾çš„éŸ³ä¹çš„urlåœ°å€ preload preload é¢„åŠ è½½ï¼ˆåœ¨é¡µé¢è¢«åŠ è½½æ—¶è¿›è¡ŒåŠ è½½æˆ–è€…è¯´ç¼“å†²éŸ³é¢‘ï¼‰ï¼Œå¦‚æœä½¿ç”¨äº†autoplayçš„è¯é‚£ä¹ˆè¯¥å±æ€§å¤±æ•ˆã€‚ loop loop å¾ªç¯æ’­æ”¾ controls controls æ˜¯å¦æ˜¾ç¤ºé»˜è®¤æ§åˆ¶æ¡ï¼ˆæ§åˆ¶æŒ‰é’®ï¼‰ autoplay autoplay è‡ªåŠ¨æ’­æ”¾ video æµè§ˆå™¨ MP4 WebM Ogg Internet Explorer YES NO NO Chrome YES YES YES Firefox YES YES YES Safari YES NO NO Opera YES (ä» Opera 25 èµ·) YES YES éŸ³é¢‘æ ‡ç­¾ä¸è§†é¢‘æ ‡ç­¾ä½¿ç”¨åŸºæœ¬ä¸€è‡´ å¤šåª’ä½“æ ‡ç­¾åœ¨ä¸åŒæµè§ˆå™¨ä¸‹æƒ…å†µä¸åŒï¼Œå­˜åœ¨å…¼å®¹æ€§é—®é¢˜ è°·æ­Œæµè§ˆå™¨æŠŠéŸ³é¢‘å’Œè§†é¢‘æ ‡ç­¾çš„è‡ªåŠ¨æ’­æ”¾éƒ½ç¦æ­¢äº† è°·æ­Œæµè§ˆå™¨ä¸­è§†é¢‘æ·»åŠ  muted æ ‡ç­¾å¯ä»¥è‡ªå·±æ’­æ”¾ æ–°å¢ input æ ‡ç­¾ æ–°å¢è¡¨å•å±æ€§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"DSL/CSS/nav.html":{"url":"DSL/CSS/nav.html","title":"CSS","keywords":"","body":"CSS å±‚å æ ·å¼è¡¨ï¼ˆè‹±è¯­ï¼šCascading Style Sheetsï¼Œç¼©å†™ï¼šCSSï¼›åˆç§°ä¸²æ ·å¼åˆ—è¡¨ã€çº§è”æ ·å¼è¡¨ã€ä¸²æ¥æ ·å¼è¡¨ã€é˜¶å±‚å¼æ ·å¼è¡¨ï¼‰æ˜¯ä¸€ç§ç”¨æ¥ä¸ºç»“æ„åŒ–æ–‡æ¡£ï¼ˆå¦‚HTMLæ–‡æ¡£æˆ–XMLåº”ç”¨ï¼‰æ·»åŠ æ ·å¼ï¼ˆå­—ä½“ã€é—´è·å’Œé¢œè‰²ç­‰ï¼‰çš„è®¡ç®—æœºè¯­è¨€ï¼Œç”±W3Cå®šä¹‰å’Œç»´æŠ¤ã€‚å½“å‰æœ€æ–°ç‰ˆæœ¬æ˜¯CSS2.1ï¼Œä¸ºW3Cçš„æ¨èæ ‡å‡†ã€‚CSS3ç°åœ¨å·²è¢«å¤§éƒ¨åˆ†ç°ä»£æµè§ˆå™¨æ”¯æŒï¼Œè€Œä¸‹ä¸€ç‰ˆçš„CSS4ä»åœ¨å¼€å‘ä¸­ã€‚ ä¹¦å†™è§„èŒƒ ç©ºæ ¼è§„èŒƒ /* é€‰æ‹©å™¨ ä¸ { ä¹‹é—´å¿…é¡»åŒ…å«ç©ºæ ¼ã€‚ */ .selector { /* å±æ€§å ä¸ä¹‹åçš„ : ä¹‹é—´ä¸å…è®¸åŒ…å«ç©ºæ ¼ï¼Œ : ä¸ å±æ€§å€¼ ä¹‹é—´å¿…é¡»åŒ…å«ç©ºæ ¼ */ font-size: 12px; } é€‰æ‹©å™¨è§„èŒƒ /* å¹¶é›†é€‰æ‹©å™¨ï¼Œæ¯ä¸ªé€‰æ‹©å™¨å£°æ˜å¿…é¡»ç‹¬å ä¸€è¡Œ */ .post, .page, .comment { line-height: 1.5; } ä¸€èˆ¬æƒ…å†µæƒ…å†µä¸‹ï¼Œé€‰æ‹©å™¨çš„åµŒå¥—å±‚çº§åº”ä¸å¤§äº 3 çº§ï¼Œä½ç½®é åçš„é™å®šæ¡ä»¶åº”å°½å¯èƒ½ç²¾ç¡® å±æ€§è§„èŒƒ /* å±æ€§å®šä¹‰å¿…é¡»å¦èµ·ä¸€è¡Œã€‚ */ .selector { margin: 0; padding: 0; /* å±æ€§å®šä¹‰åå¿…é¡»ä»¥åˆ†å·ç»“å°¾ã€‚ */ } ä½¿ç”¨æ–¹å¼ å†…è” å†…å®¹ å†…åµŒ é€‰æ‹©å™¨ï¼ˆé€‰æ‹©çš„æ ‡ç­¾ï¼‰ { å±æ€§1: å±æ€§å€¼1; å±æ€§2: å±æ€§å€¼2; å±æ€§3: å±æ€§å€¼3; } å¤–è” å±æ€§ ä½œç”¨ rel å®šä¹‰å½“å‰æ–‡æ¡£ä¸è¢«é“¾æ¥æ–‡æ¡£ä¹‹é—´çš„å…³ç³»ï¼Œåœ¨è¿™é‡Œéœ€è¦æŒ‡å®šä¸º\"stylesheet\"ï¼Œè¡¨ç¤ºè¢«é“¾æ¥çš„æ–‡æ¡£æ˜¯ä¸€ä¸ªæ ·å¼è¡¨æ–‡ä»¶ã€‚ type å®šä¹‰æ‰€é“¾æ¥æ–‡æ¡£çš„ç±»å‹ï¼Œåœ¨è¿™é‡Œéœ€è¦æŒ‡å®šä¸º\"text/CSS\"ï¼Œè¡¨ç¤ºé“¾æ¥çš„å¤–éƒ¨æ–‡ä»¶ä¸ºCSSæ ·å¼è¡¨ã€‚æˆ‘ä»¬éƒ½å¯ä»¥çœç•¥ href å®šä¹‰æ‰€é“¾æ¥å¤–éƒ¨æ ·å¼è¡¨æ–‡ä»¶çš„URLï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚ æ¯”è¾ƒ æ ·å¼è¡¨ ä¼˜ç‚¹ ç¼ºç‚¹ ä½¿ç”¨æƒ…å†µ æ§åˆ¶èŒƒå›´ è¡Œå†…æ ·å¼è¡¨ ä¹¦å†™æ–¹ä¾¿ï¼Œæƒé‡é«˜ æ²¡æœ‰å®ç°æ ·å¼å’Œç»“æ„ç›¸åˆ†ç¦» è¾ƒå°‘ æ§åˆ¶ä¸€ä¸ªæ ‡ç­¾ï¼ˆå°‘ï¼‰ å†…éƒ¨æ ·å¼è¡¨ éƒ¨åˆ†ç»“æ„å’Œæ ·å¼ç›¸åˆ†ç¦» æ²¡æœ‰å½»åº•åˆ†ç¦» è¾ƒå¤š æ§åˆ¶ä¸€ä¸ªé¡µé¢ï¼ˆä¸­ï¼‰ å¤–éƒ¨æ ·å¼è¡¨ å®Œå…¨å®ç°ç»“æ„å’Œæ ·å¼ç›¸åˆ†ç¦» éœ€è¦å¼•å…¥ æœ€å¤šï¼Œå¼ºçƒˆæ¨è æ§åˆ¶æ•´ä¸ªç«™ç‚¹ï¼ˆå¤šï¼‰ ä¸‰å¤§ç‰¹æ€§ å±‚å æ€§ æ‰€è°“å±‚å æ€§æ˜¯æŒ‡å¤šç§CSSæ ·å¼çš„å åŠ ã€‚ æ ·å¼å†²çªï¼Œéµå¾ªçš„åŸåˆ™æ˜¯å°±è¿‘åŸåˆ™ã€‚ é‚£ä¸ªæ ·å¼ç¦»ç€ç»“æ„è¿‘ï¼Œå°±æ‰§è¡Œé‚£ä¸ªæ ·å¼ã€‚ ç»§æ‰¿æ€§ å­å…ƒç´ å¯ä»¥ç»§æ‰¿çˆ¶å…ƒç´ çš„æ ·å¼ï¼ˆtext-ï¼Œfont-ï¼Œline-è¿™äº›å…ƒç´ å¼€å¤´çš„å¯ä»¥ç»§æ‰¿ï¼Œä»¥åŠcolorå±æ€§ï¼‰ ä¼˜å…ˆçº§ æ ‡ç­¾é€‰æ‹©å™¨ è®¡ç®—æƒé‡å…¬å¼ ç»§æ‰¿æˆ–è€… * 0,0,0,0 æ¯ä¸ªå…ƒç´ ï¼ˆæ ‡ç­¾é€‰æ‹©å™¨ï¼‰ 0,0,0,1 æ¯ä¸ªç±»ï¼Œä¼ªç±» 0,0,1,0 æ¯ä¸ªID 0,1,0,0 æ¯ä¸ªè¡Œå†…æ ·å¼ style=\"\" 1,0,0,0 æ¯ä¸ª!important é‡è¦çš„ âˆ æ— ç©·å¤§ æƒé‡å åŠ  div ul li ------> 0,0,0,3 .nav ul li ------> 0,0,1,2 a:hover -----â€”> 0,0,1,1 .nav a ------> 0,0,1,1 MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/é€‰æ‹©å™¨.html":{"url":"DSL/CSS/é€‰æ‹©å™¨.html","title":"é€‰æ‹©å™¨","keywords":"","body":"CSSé€‰æ‹©å™¨ é€‰æ‹©å™¨çš„ä½œç”¨ æ‰¾åˆ°ç‰¹å®šçš„HTMLé¡µé¢å…ƒç´  åŸºç¡€é€‰æ‹©å™¨ æ ‡ç­¾é€‰æ‹©å™¨ æ ‡ç­¾å{å±æ€§1:å±æ€§å€¼1; å±æ€§2:å±æ€§å€¼2; å±æ€§3:å±æ€§å€¼3; } p { font-size:14px; } ç±»é€‰æ‹©å™¨ .ç±»å { å±æ€§1:å±æ€§å€¼1; å±æ€§2:å±æ€§å€¼2; å±æ€§3:å±æ€§å€¼3; } å¤šç±»å IDé€‰æ‹©å™¨ #idå {å±æ€§1:å±æ€§å€¼1; å±æ€§2:å±æ€§å€¼2; å±æ€§3:å±æ€§å€¼3; } IDé€‰æ‹©å™¨ä¸ç±»é€‰æ‹©å™¨ ç±»é€‰æ‹©å™¨æˆ‘ä»¬åœ¨ä¿®æ”¹æ ·å¼ä¸­ï¼Œç”¨çš„æœ€å¤šã€‚ idé€‰æ‹©å™¨ä¸€èˆ¬ç”¨äºé¡µé¢å”¯ä¸€æ€§çš„å…ƒç´ èº«ä¸Šï¼Œç»å¸¸å’Œæˆ‘ä»¬åé¢å­¦ä¹ çš„javascript æ­é…ä½¿ç”¨ã€‚ é€šé…ç¬¦é€‰æ‹©å™¨ * { å±æ€§1:å±æ€§å€¼1; å±æ€§2:å±æ€§å€¼2; å±æ€§3:å±æ€§å€¼3; } * { margin: 0; /* å®šä¹‰å¤–è¾¹è·*/ padding: 0; /* å®šä¹‰å†…è¾¹è·*/ } åŸºç¡€é€‰æ‹©å™¨æ€»ç»“ é€‰æ‹©å™¨ ä½œç”¨ ç¼ºç‚¹ ä½¿ç”¨æƒ…å†µ ç”¨æ³• æ ‡ç­¾é€‰æ‹©å™¨ å¯ä»¥é€‰å‡ºæ‰€æœ‰ç›¸åŒçš„æ ‡ç­¾ï¼Œæ¯”å¦‚p ä¸èƒ½å·®å¼‚åŒ–é€‰æ‹© è¾ƒå¤š p { colorï¼šred;} ç±»é€‰æ‹©å™¨ å¯ä»¥é€‰å‡º1ä¸ªæˆ–è€…å¤šä¸ªæ ‡ç­¾ å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹© éå¸¸å¤š .nav { color: red; } idé€‰æ‹©å™¨ ä¸€æ¬¡åªèƒ½é€‰æ‹©å™¨1ä¸ªæ ‡ç­¾ åªèƒ½ä½¿ç”¨ä¸€æ¬¡ ä¸æ¨èä½¿ç”¨ #nav {color: red;} é€šé…ç¬¦é€‰æ‹©å™¨ é€‰æ‹©æ‰€æœ‰çš„æ ‡ç­¾ é€‰æ‹©çš„å¤ªå¤šï¼Œæœ‰éƒ¨åˆ†ä¸éœ€è¦ ä¸æ¨èä½¿ç”¨ * {color: red;} MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/å­—ä½“æ ·å¼.html":{"url":"DSL/CSS/å­—ä½“æ ·å¼.html","title":"å­—ä½“æ ·å¼","keywords":"","body":"å­—ä½“æ ·å¼ å•ä½ å­—ä½“æ ·å¼ font-size:å¤§å° p { font-size:20px; } font-family:å­—ä½“ p{ font-family:\"å¾®è½¯é›…é»‘\";} /* å¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªå­—ä½“ï¼ŒæŒ‰ä»å·¦åˆ°å³é€‰æ‹© */ p{font-family: Arial,\"Microsoft Yahei\", \"å¾®è½¯é›…é»‘\";} CSS Unicodeå­—ä½“ /* è¡¨ç¤ºè®¾ç½®å­—ä½“ä¸ºâ€œå¾®è½¯é›…é»‘â€ã€‚ */ font-family: \"\\5FAE\\8F6F\\96C5\\9ED1\"; font-weight:å­—ä½“ç²—ç»† å±æ€§å€¼ æè¿° normal é»˜è®¤å€¼ï¼ˆä¸åŠ ç²—çš„ï¼‰ bold å®šä¹‰ç²—ä½“ï¼ˆåŠ ç²—çš„ï¼‰ 100~900 400 ç­‰åŒäº normalï¼Œè€Œ 700 ç­‰åŒäº bold æˆ‘ä»¬é‡ç‚¹è®°ä½è¿™å¥è¯ font-style:å­—ä½“é£æ ¼ å±æ€§ ä½œç”¨ normal é»˜è®¤å€¼ï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤ºæ ‡å‡†çš„å­—ä½“æ ·å¼ font-style: normal; italic æµè§ˆå™¨ä¼šæ˜¾ç¤ºæ–œä½“çš„å­—ä½“æ ·å¼ã€‚ font:ç»¼åˆè®¾ç½®å­—ä½“æ ·å¼ font: åŠ ç²— å­—å·/è¡Œé«˜/ å­—ä½“ font: 400 14px/24px \"å®‹ä½“\"; å­—ä½“æ€»ç»“ å±æ€§ è¡¨ç¤º æ³¨æ„ç‚¹ font-size å­—å· æˆ‘ä»¬é€šå¸¸ç”¨çš„å•ä½æ˜¯px åƒç´ ï¼Œä¸€å®šè¦è·Ÿä¸Šå•ä½ font-family å­—ä½“ å®é™…å·¥ä½œä¸­æŒ‰ç…§å›¢é˜Ÿçº¦å®šæ¥å†™å­—ä½“ font-weight å­—ä½“ç²—ç»† è®°ä½åŠ ç²—æ˜¯ 700 æˆ–è€… bold ä¸åŠ ç²— æ˜¯ normal æˆ–è€… 400 è®°ä½æ•°å­—ä¸è¦è·Ÿå•ä½ font-style å­—ä½“æ ·å¼ è®°ä½å€¾æ–œæ˜¯ italic ä¸å€¾æ–œ æ˜¯ normal å·¥ä½œä¸­æˆ‘ä»¬æœ€å¸¸ç”¨ normal font å­—ä½“è¿å†™ 1. å­—ä½“è¿å†™æ˜¯æœ‰é¡ºåºçš„ ä¸èƒ½éšæ„æ¢ä½ç½® 2. å…¶ä¸­å­—å· å’Œ å­—ä½“ å¿…é¡»åŒæ—¶å‡ºç° å­—ä½“å¤–è§‚ é¢œè‰² è¡¨ç¤ºè¡¨ç¤º å±æ€§å€¼ é¢„å®šä¹‰çš„é¢œè‰²å€¼ redï¼Œgreenï¼Œblueï¼Œè¿˜æœ‰æˆ‘ä»¬çš„å¾¡ç”¨è‰² pink åå…­è¿›åˆ¶ #FF0000ï¼Œ#FF6600ï¼Œ#29D794 RGBä»£ç  rgb(255,0,0)æˆ–rgb(100%,0%,0%) color:æ–‡æœ¬é¢œè‰² text-align:æ–‡æœ¬æ°´å¹³å¯¹é½æ–¹å¼ å±æ€§ è§£é‡Š left å·¦å¯¹é½ï¼ˆé»˜è®¤å€¼ï¼‰ right å³å¯¹é½ center å±…ä¸­å¯¹é½ line-height:è¡Œé—´è· /* ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¡Œè·æ¯”å­—å·å¤§7.8åƒç´ å·¦å³å°±å¯ä»¥äº†ã€‚ */ line-height: 24px; text-indent:é¦–è¡Œç¼©è¿› /*é¦–è¡Œç¼©è¿›2ä¸ªå­— em 1ä¸ªem å°±æ˜¯1ä¸ªå­—çš„å¤§å°*/ text-indent: 2em; text-decoration æ–‡æœ¬çš„è£…é¥° å€¼ æè¿° none é»˜è®¤ã€‚å®šä¹‰æ ‡å‡†çš„æ–‡æœ¬ã€‚ å–æ¶ˆä¸‹åˆ’çº¿ï¼ˆæœ€å¸¸ç”¨ï¼‰ underline å®šä¹‰æ–‡æœ¬ä¸‹çš„ä¸€æ¡çº¿ã€‚ä¸‹åˆ’çº¿ ä¹Ÿæ˜¯æˆ‘ä»¬é“¾æ¥è‡ªå¸¦çš„ï¼ˆå¸¸ç”¨ï¼‰ overline å®šä¹‰æ–‡æœ¬ä¸Šçš„ä¸€æ¡çº¿ã€‚ï¼ˆä¸ç”¨ï¼‰ line-through å®šä¹‰ç©¿è¿‡æ–‡æœ¬ä¸‹çš„ä¸€æ¡çº¿ã€‚ï¼ˆä¸å¸¸ç”¨ï¼‰ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/å¤åˆé€‰æ‹©å™¨.html":{"url":"DSL/CSS/å¤åˆé€‰æ‹©å™¨.html","title":"å¤åˆé€‰æ‹©å™¨","keywords":"","body":"å¤åˆé€‰æ‹©å™¨ åä»£é€‰æ‹©å™¨ åä»£é€‰æ‹©å™¨åˆç§°ä¸ºåŒ…å«é€‰æ‹©å™¨ çˆ¶çº§ å­çº§{å±æ€§:å±æ€§å€¼;å±æ€§:å±æ€§å€¼;} .class h3{color:red;font-size:16px;} å­å…ƒç´ é€‰æ‹©å™¨ å­å…ƒç´ é€‰æ‹©å™¨åªèƒ½é€‰æ‹©ä½œä¸ºæŸå…ƒç´ å­å…ƒç´ (ç›´æ¥å­å…ƒç´ )çš„å…ƒç´  .class>h3{color:red;font-size:14px;} äº¤é›†é€‰æ‹©å™¨ /* é€‰æ‹©æ ‡ç­¾æ˜¯pä¸”ç±»åæ˜¯oneçš„å…ƒç´  */ p.one{color:red} å¹¶é›†é€‰æ‹©å™¨ /* .one å’Œ p å’Œ #test è¿™ä¸‰ä¸ªé€‰æ‹©å™¨éƒ½ä¼šæ‰§è¡Œé¢œè‰²ä¸ºçº¢è‰²ã€‚ */ .one, p , #test {color: #F00;} é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨ a:link /* æœªè®¿é—®çš„é“¾æ¥ */ a:visited /* å·²è®¿é—®çš„é“¾æ¥ */ a:hover /* é¼ æ ‡ç§»åŠ¨åˆ°é“¾æ¥ä¸Š */ a:active /* é€‰å®šçš„é“¾æ¥ */ å†™çš„æ—¶å€™ï¼Œä»–ä»¬çš„é¡ºåºå°½é‡ä¸è¦é¢ å€’ æŒ‰ç…§ lvha çš„é¡ºåºã€‚å¦åˆ™å¯èƒ½å¼•èµ·é”™è¯¯ æ€»ç»“ é€‰æ‹©å™¨ ä½œç”¨ ç‰¹å¾ ä½¿ç”¨æƒ…å†µ éš”å¼€ç¬¦å·åŠç”¨æ³• åä»£é€‰æ‹©å™¨ ç”¨æ¥é€‰æ‹©å…ƒç´ åä»£ æ˜¯é€‰æ‹©æ‰€æœ‰çš„å­å­™åä»£ è¾ƒå¤š ç¬¦å·æ˜¯ç©ºæ ¼ .nav a å­ä»£é€‰æ‹©å™¨ é€‰æ‹© æœ€è¿‘ä¸€çº§å…ƒç´  åªé€‰äº²å„¿å­ è¾ƒå°‘ ç¬¦å·æ˜¯ > .nav>p äº¤é›†é€‰æ‹©å™¨ é€‰æ‹©ä¸¤ä¸ªæ ‡ç­¾äº¤é›†çš„éƒ¨åˆ† æ—¢æ˜¯ åˆæ˜¯ è¾ƒå°‘ æ²¡æœ‰ç¬¦å· p.one å¹¶é›†é€‰æ‹©å™¨ é€‰æ‹©æŸäº›ç›¸åŒæ ·å¼çš„é€‰æ‹©å™¨ å¯ä»¥ç”¨äºé›†ä½“å£°æ˜ è¾ƒå¤š ç¬¦å·æ˜¯é€—å· .nav, .header é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨ ç»™é“¾æ¥æ›´æ”¹çŠ¶æ€ è¾ƒå¤š é‡ç‚¹è®°ä½ a{} å’Œ a:hover å®é™…å¼€å‘çš„å†™æ³• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/æ ‡ç­¾æ˜¾å¼æ¨¡å¼.html":{"url":"DSL/CSS/æ ‡ç­¾æ˜¾å¼æ¨¡å¼.html","title":"æ ‡ç­¾æ˜¾å¼æ¨¡å¼","keywords":"","body":"æ ‡ç­¾æ˜¾å¼æ¨¡å¼ æ ‡ç­¾ä»¥ä»€ä¹ˆæ–¹å¼è¿›è¡Œæ˜¾ç¤ºï¼Œæ¯”å¦‚div è‡ªå·±å ä¸€è¡Œï¼Œ æ¯”å¦‚span ä¸€è¡Œå¯ä»¥æ”¾å¾ˆå¤šä¸ª å—çº§å…ƒç´ (block-level) å¸¸è§çš„å—å…ƒç´ æœ‰~ã€ã€ã€ã€ã€ç­‰ï¼Œå…¶ä¸­æ ‡ç­¾æ˜¯æœ€å…¸å‹çš„å—å…ƒç´ ã€‚ ï¼ˆ1ï¼‰æ¯”è¾ƒéœ¸é“ï¼Œè‡ªå·±ç‹¬å ä¸€è¡Œ ï¼ˆ2ï¼‰é«˜åº¦ï¼Œå®½åº¦ã€å¤–è¾¹è·ä»¥åŠå†…è¾¹è·éƒ½å¯ä»¥æ§åˆ¶ã€‚ ï¼ˆ3ï¼‰å®½åº¦é»˜è®¤æ˜¯å®¹å™¨ï¼ˆçˆ¶çº§å®½åº¦ï¼‰çš„100% ï¼ˆ4ï¼‰æ˜¯ä¸€ä¸ªå®¹å™¨åŠç›’å­ï¼Œé‡Œé¢å¯ä»¥æ”¾è¡Œå†…æˆ–è€…å—çº§å…ƒç´ ã€‚ æ–‡å­—ç±»å—æ ‡ç­¾é‡Œé¢ä¸èƒ½æ”¾å…¶ä»–å—å…ƒç´  è¡Œå†…å…ƒç´ (inline-level) å¸¸è§çš„è¡Œå†…å…ƒç´ æœ‰ã€ã€ã€ã€ã€ã€ã€ã€ã€ç­‰ï¼Œå…¶ä¸­æ ‡ç­¾æœ€å…¸å‹çš„è¡Œå†…å…ƒç´ ã€‚æœ‰çš„åœ°æ–¹ä¹Ÿæˆå†…è”å…ƒç´  ï¼ˆ1ï¼‰ç›¸é‚»è¡Œå†…å…ƒç´ åœ¨ä¸€è¡Œä¸Šï¼Œä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ªã€‚ ï¼ˆ2ï¼‰é«˜ã€å®½ç›´æ¥è®¾ç½®æ˜¯æ— æ•ˆçš„ã€‚ ï¼ˆ3ï¼‰é»˜è®¤å®½åº¦å°±æ˜¯å®ƒæœ¬èº«å†…å®¹çš„å®½åº¦ã€‚ ï¼ˆ4ï¼‰è¡Œå†…å…ƒç´ åªèƒ½å®¹çº³æ–‡æœ¬æˆ–åˆ™å…¶ä»–è¡Œå†…å…ƒç´ ã€‚ è¡Œå†…å—å…ƒç´ ï¼ˆinline-blockï¼‰ åœ¨è¡Œå†…å…ƒç´ ä¸­æœ‰å‡ ä¸ªç‰¹æ®Šçš„æ ‡ç­¾â€”â€”ã€ã€ï¼Œå¯ä»¥å¯¹å®ƒä»¬è®¾ç½®å®½é«˜å’Œå¯¹é½å±æ€§ï¼Œæœ‰äº›èµ„æ–™å¯èƒ½ä¼šç§°å®ƒä»¬ä¸ºè¡Œå†…å—å…ƒç´ ã€‚ ï¼ˆ1ï¼‰å’Œç›¸é‚»è¡Œå†…å…ƒç´ ï¼ˆè¡Œå†…å—ï¼‰åœ¨ä¸€è¡Œä¸Š,ä½†æ˜¯ä¹‹é—´ä¼šæœ‰ç©ºç™½ç¼éš™ã€‚ä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ª ï¼ˆ2ï¼‰é»˜è®¤å®½åº¦å°±æ˜¯å®ƒæœ¬èº«å†…å®¹çš„å®½åº¦ã€‚ ï¼ˆ3ï¼‰é«˜åº¦ï¼Œè¡Œé«˜ã€å¤–è¾¹è·ä»¥åŠå†…è¾¹è·éƒ½å¯ä»¥æ§åˆ¶ã€‚ æ ‡ç­¾æ˜¾ç¤ºæ¨¡å¼è½¬æ¢ display å—è½¬è¡Œå†…ï¼šdisplay:inline; è¡Œå†…è½¬å—ï¼šdisplay:block; å—ã€è¡Œå†…å…ƒç´ è½¬æ¢ä¸ºè¡Œå†…å—ï¼š display: inline-block; æ€»ç»“ å…ƒç´ æ¨¡å¼ å…ƒç´ æ’åˆ— è®¾ç½®æ ·å¼ é»˜è®¤å®½åº¦ åŒ…å« å—çº§å…ƒç´  ä¸€è¡Œåªèƒ½æ”¾ä¸€ä¸ªå—çº§å…ƒç´  å¯ä»¥è®¾ç½®å®½åº¦é«˜åº¦ å®¹å™¨çš„100% å®¹å™¨çº§å¯ä»¥åŒ…å«ä»»ä½•æ ‡ç­¾ è¡Œå†…å…ƒç´  ä¸€è¡Œå¯ä»¥æ”¾å¤šä¸ªè¡Œå†…å…ƒç´  ä¸å¯ä»¥ç›´æ¥è®¾ç½®å®½åº¦é«˜åº¦ å®ƒæœ¬èº«å†…å®¹çš„å®½åº¦ å®¹çº³æ–‡æœ¬æˆ–åˆ™å…¶ä»–è¡Œå†…å…ƒç´  è¡Œå†…å—å…ƒç´  ä¸€è¡Œæ”¾å¤šä¸ªè¡Œå†…å—å…ƒç´  å¯ä»¥è®¾ç½®å®½åº¦å’Œé«˜åº¦ å®ƒæœ¬èº«å†…å®¹çš„å®½åº¦ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/è¡Œé«˜.html":{"url":"DSL/CSS/è¡Œé«˜.html","title":"è¡Œé«˜","keywords":"","body":"è¡Œé«˜ è¡Œé«˜çš„æµ‹é‡ å®ç°æ–‡æœ¬å‚ç›´å±…ä¸­ å¦‚æœ è¡Œé«˜ ç­‰ é«˜åº¦ æ–‡å­—ä¼š å‚ç›´å±…ä¸­ å¦‚æœè¡Œé«˜ å¤§äº é«˜åº¦ æ–‡å­—ä¼š åä¸‹ å¦‚æœè¡Œé«˜å°äºé«˜åº¦ æ–‡å­—ä¼š åä¸Š MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/èƒŒæ™¯.html":{"url":"DSL/CSS/èƒŒæ™¯.html","title":"èƒŒæ™¯","keywords":"","body":"èƒŒæ™¯ èƒŒæ™¯é¢œè‰² /* é»˜è®¤çš„å€¼æ˜¯ transparent é€æ˜çš„ */ background-color:é¢œè‰²å€¼; èƒŒæ™¯å›¾ç‰‡(image) å‚æ•° ä½œç”¨ none æ— èƒŒæ™¯å›¾ï¼ˆé»˜è®¤çš„ï¼‰ url ä½¿ç”¨ç»å¯¹æˆ–ç›¸å¯¹åœ°å€æŒ‡å®šèƒŒæ™¯å›¾åƒ background-image : url(images/demo.png); èƒŒæ™¯å¹³é“ºï¼ˆrepeatï¼‰ å‚æ•° ä½œç”¨ repeat èƒŒæ™¯å›¾åƒåœ¨çºµå‘å’Œæ¨ªå‘ä¸Šå¹³é“ºï¼ˆé»˜è®¤çš„ï¼‰ no-repeat èƒŒæ™¯å›¾åƒä¸å¹³é“º repeat-x èƒŒæ™¯å›¾åƒåœ¨æ¨ªå‘ä¸Šå¹³é“º repeat-y èƒŒæ™¯å›¾åƒåœ¨çºµå‘å¹³é“º èƒŒæ™¯ä½ç½®(position)-é‡ç‚¹ background-position : length || length background-position : position || position å‚æ•° å€¼ length ç™¾åˆ†æ•° \\ ç”±æµ®ç‚¹æ•°å­—å’Œå•ä½æ ‡è¯†ç¬¦ç»„æˆçš„é•¿åº¦å€¼ position top \\ center \\ bottom \\ left \\ center \\ right æ–¹ä½åè¯ å¿…é¡»å…ˆæŒ‡å®šbackground-imageå±æ€§ position åé¢æ˜¯xåæ ‡å’Œyåæ ‡ã€‚ å¯ä»¥ä½¿ç”¨æ–¹ä½åè¯æˆ–è€… ç²¾ç¡®å•ä½ã€‚ å¦‚æœæŒ‡å®šä¸¤ä¸ªå€¼ï¼Œä¸¤ä¸ªå€¼éƒ½æ˜¯æ–¹ä½åå­—ï¼Œåˆ™ä¸¤ä¸ªå€¼å‰åé¡ºåºæ— å…³ï¼Œæ¯”å¦‚left topå’Œtop leftæ•ˆæœä¸€è‡´ å¦‚æœåªæŒ‡å®šäº†ä¸€ä¸ªæ–¹ä½åè¯ï¼Œå¦ä¸€ä¸ªå€¼é»˜è®¤å±…ä¸­å¯¹é½ã€‚ å¦‚æœposition åé¢æ˜¯ç²¾ç¡®åæ ‡ï¼Œ é‚£ä¹ˆç¬¬ä¸€ä¸ªï¼Œè‚¯å®šæ˜¯ x ç¬¬äºŒçš„ä¸€å®šæ˜¯y å¦‚æœåªæŒ‡å®šä¸€ä¸ªæ•°å€¼,é‚£è¯¥æ•°å€¼ä¸€å®šæ˜¯xåæ ‡ï¼Œå¦ä¸€ä¸ªé»˜è®¤å‚ç›´å±…ä¸­ å¦‚æœæŒ‡å®šçš„ä¸¤ä¸ªå€¼æ˜¯ ç²¾ç¡®å•ä½å’Œæ–¹ä½åå­—æ··åˆä½¿ç”¨ï¼Œåˆ™ç¬¬ä¸€ä¸ªå€¼æ˜¯xåæ ‡ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯yåæ ‡ èƒŒæ™¯é™„ç€ background-attachment : scroll | fixed å‚æ•° ä½œç”¨ scroll èƒŒæ™¯å›¾åƒæ˜¯éšå¯¹è±¡å†…å®¹æ»šåŠ¨ fixed èƒŒæ™¯å›¾åƒå›ºå®š èƒŒæ™¯ç®€å†™ background: èƒŒæ™¯é¢œè‰² èƒŒæ™¯å›¾ç‰‡åœ°å€ èƒŒæ™¯å¹³é“º èƒŒæ™¯æ»šåŠ¨ èƒŒæ™¯ä½ç½®; èƒŒæ™¯é€æ˜(CSS3) background: rgba(0, 0, 0, 0.3); æ€»ç»“ å±æ€§ ä½œç”¨ å€¼ background-color èƒŒæ™¯é¢œè‰² é¢„å®šä¹‰çš„é¢œè‰²å€¼/åå…­è¿›åˆ¶/RGBä»£ç  background-image èƒŒæ™¯å›¾ç‰‡ url(å›¾ç‰‡è·¯å¾„) background-repeat æ˜¯å¦å¹³é“º repeat/no-repeat/repeat-x/repeat-y background-position èƒŒæ™¯ä½ç½® length/position åˆ†åˆ«æ˜¯x å’Œ yåæ ‡ï¼Œ åˆ‡è®° å¦‚æœæœ‰ ç²¾ç¡®æ•°å€¼å•ä½ï¼Œåˆ™å¿…é¡»æŒ‰ç…§å…ˆX åY çš„å†™æ³• background-attachment èƒŒæ™¯å›ºå®šè¿˜æ˜¯æ»šåŠ¨ scroll/fixed èƒŒæ™¯ç®€å†™ æ›´ç®€å• èƒŒæ™¯é¢œè‰² èƒŒæ™¯å›¾ç‰‡åœ°å€ èƒŒæ™¯å¹³é“º èƒŒæ™¯æ»šåŠ¨ èƒŒæ™¯ä½ç½®; ä»–ä»¬æ²¡æœ‰é¡ºåº èƒŒæ™¯é€æ˜ è®©ç›’å­åŠé€æ˜ background: rgba(0,0,0,0.3); åé¢å¿…é¡»æ˜¯ 4ä¸ªå€¼ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/ç›’å­æ¨¡å‹.html":{"url":"DSL/CSS/ç›’å­æ¨¡å‹.html","title":"ç›’å­æ¨¡å‹","keywords":"","body":"ç›’å­æ¨¡å‹ ç›’å­è¾¹æ¡†ï¼ˆborderï¼‰ border : border-width || border-style || border-color å±æ€§ ä½œç”¨ border-width å®šä¹‰è¾¹æ¡†ç²—ç»†ï¼Œå•ä½æ˜¯px border-style è¾¹æ¡†çš„æ ·å¼ border-color è¾¹æ¡†é¢œè‰² è¾¹æ¡†å†™æ³•æ€»ç»“ ä¸Šè¾¹æ¡† ä¸‹è¾¹æ¡† å·¦è¾¹æ¡† å³è¾¹æ¡† border-top-style:æ ·å¼; border-bottom-style:æ ·å¼; border-left-style:æ ·å¼; border-right-style:æ ·å¼; border-top-width:å®½åº¦; border- bottom-width:å®½åº¦; border-left-width:å®½åº¦; border-right-width:å®½åº¦; border-top-color:é¢œè‰²; border- bottom-color:é¢œè‰²; border-left-color:é¢œè‰²; border-right-color:é¢œè‰²; border-top:å®½åº¦ æ ·å¼ é¢œè‰²; border-bottom:å®½åº¦ æ ·å¼ é¢œè‰²; border-left:å®½åº¦ æ ·å¼ é¢œè‰²; border-right:å®½åº¦ æ ·å¼ é¢œè‰²; è¾¹æ¡†åˆå¹¶ border-collapse:collapse; å†…è¾¹è·ï¼ˆpaddingï¼‰ paddingå±æ€§ç”¨äºè®¾ç½®å†…è¾¹è·ã€‚ æ˜¯æŒ‡ è¾¹æ¡†ä¸å†…å®¹ä¹‹é—´çš„è·ç¦»ã€‚ å±æ€§ ä½œç”¨ padding-left å·¦å†…è¾¹è· padding-right å³å†…è¾¹è· padding-top ä¸Šå†…è¾¹è· padding-bottom ä¸‹å†…è¾¹è· ç›’å­ä¼šå˜å¤§ ç®€å†™ å€¼çš„ä¸ªæ•° è¡¨è¾¾æ„æ€ 1ä¸ªå€¼ paddingï¼šä¸Šä¸‹å·¦å³å†…è¾¹è·; 2ä¸ªå€¼ padding: ä¸Šä¸‹å†…è¾¹è· å·¦å³å†…è¾¹è· ï¼› 3ä¸ªå€¼ paddingï¼šä¸Šå†…è¾¹è· å·¦å³å†…è¾¹è· ä¸‹å†…è¾¹è·ï¼› 4ä¸ªå€¼ padding: ä¸Šå†…è¾¹è· å³å†…è¾¹è· ä¸‹å†…è¾¹è· å·¦å†…è¾¹è· ï¼› å†…ç›’å°ºå¯¸è®¡ç®—ï¼ˆå…ƒç´ å®é™…å¤§å°ï¼‰ ç›’å­çš„å®é™…çš„å¤§å° = å†…å®¹çš„å®½åº¦å’Œé«˜åº¦ + å†…è¾¹è· + è¾¹æ¡† Element Width = content width + padding + border Element Height = content height + padding + border å†…è¾¹è·äº§ç”Ÿçš„é—®é¢˜ ä¼šæ’‘å¤§åŸæ¥çš„ç›’å­ é€šè¿‡ç»™è®¾ç½®äº†å®½é«˜çš„ç›’å­ï¼Œå‡å»ç›¸åº”çš„å†…è¾¹è·çš„å€¼ï¼Œç»´æŒç›’å­åŸæœ‰çš„å¤§å° å¦‚æœæ²¡æœ‰ç»™ä¸€ä¸ªç›’å­æŒ‡å®šå®½åº¦ï¼Œ æ­¤æ—¶ï¼Œå¦‚æœç»™è¿™ä¸ªç›’å­æŒ‡å®špaddingï¼Œ åˆ™ä¸ä¼šæ’‘å¼€ç›’å­ã€‚ å¤–è¾¹è·ï¼ˆmarginï¼‰ marginå±æ€§ç”¨äºè®¾ç½®å¤–è¾¹è·ã€‚ marginå°±æ˜¯æ§åˆ¶ç›’å­å’Œç›’å­ä¹‹é—´çš„è·ç¦» å±æ€§ ä½œç”¨ margin-left å·¦å¤–è¾¹è· margin-right å³å¤–è¾¹è· margin-top ä¸Šå¤–è¾¹è· margin-bottom ä¸‹å¤–è¾¹è· marginå€¼çš„ç®€å†™ ï¼ˆå¤åˆå†™æ³•ï¼‰ä»£è¡¨æ„æ€ è·Ÿ padding å®Œå…¨ç›¸åŒã€‚ å—çº§ç›’å­æ°´å¹³å±…ä¸­ ç›’å­å¿…é¡»æŒ‡å®šäº†å®½åº¦ï¼ˆwidthï¼‰ ç„¶åå°±ç»™å·¦å³çš„å¤–è¾¹è·éƒ½è®¾ç½®ä¸ºauto div { width:600px; height: 500px; background-color: skyblue; margin: 0 auto; } æ–‡å­—å±…ä¸­å’Œç›’å­å±…ä¸­åŒºåˆ« text-align: center; /* æ–‡å­— è¡Œå†…å…ƒç´  è¡Œå†…å—å…ƒç´ æ°´å¹³å±…ä¸­ */ margin: 10px auto; /* å—çº§ç›’å­æ°´å¹³å±…ä¸­ å·¦å³margin æ”¹ä¸º auto å°±å¯ä»¥äº† ä¸Šä¸‹marginéƒ½å¯ä»¥ */ æ’å…¥å›¾ç‰‡å’ŒèƒŒæ™¯å›¾ç‰‡åŒºåˆ« æ’å…¥å›¾ç‰‡ æˆ‘ä»¬ç”¨çš„æœ€å¤š æ¯”å¦‚äº§å“å±•ç¤ºç±» ç§»åŠ¨ä½ç½®åªèƒ½é ç›’æ¨¡å‹ padding margin èƒŒæ™¯å›¾ç‰‡æˆ‘ä»¬ä¸€èˆ¬ç”¨äºå°å›¾æ ‡èƒŒæ™¯ æˆ–è€… è¶…å¤§èƒŒæ™¯å›¾ç‰‡ èƒŒæ™¯å›¾ç‰‡ åªèƒ½é€šè¿‡ background-position æ¸…é™¤å…ƒç´ çš„é»˜è®¤å†…å¤–è¾¹è· * { padding:0; /* æ¸…é™¤å†…è¾¹è· */ margin:0; /* æ¸…é™¤å¤–è¾¹è· */ } å¤–è¾¹è·åˆå¹¶ ä½¿ç”¨marginå®šä¹‰å—å…ƒç´ çš„å‚ç›´å¤–è¾¹è·æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¤–è¾¹è·çš„åˆå¹¶ã€‚ åµŒå¥—å—å…ƒç´ å‚ç›´å¤–è¾¹è·çš„åˆå¹¶ï¼ˆå¡Œé™·ï¼‰ å¯ä»¥ä¸ºçˆ¶å…ƒç´ å®šä¹‰ä¸Šè¾¹æ¡†ã€‚ å¯ä»¥ä¸ºçˆ¶å…ƒç´ å®šä¹‰ä¸Šå†…è¾¹è· å¯ä»¥ä¸ºçˆ¶å…ƒç´ æ·»åŠ overflow:hiddenã€‚ å­å…ƒç´ å°†çˆ¶å…ƒç´ æ‹‰äº†ä¸‹æ¥ å½“ä¸ºå­å…ƒç´ æŒ‡å®šmargin-topæ—¶ï¼Œçˆ¶å…ƒç´ ä¹Ÿè¢«å¸¦ä¸‹æ¥äº† è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹å¼å¯ä»¥ä¸ºçˆ¶å…ƒç´ æŒ‡å®šoverflow:auto ç›’å­æ¨¡å‹å¸ƒå±€ç¨³å®šæ€§ ä½¿ç”¨ä¼˜å…ˆçº§ width > padding > margin åœ†è§’è¾¹æ¡†(CSS3) border-radius:length; ç›’å­é˜´å½±(CSS3) box-shadow:æ°´å¹³é˜´å½± å‚ç›´é˜´å½± æ¨¡ç³Šè·ç¦»ï¼ˆè™šå®ï¼‰ é˜´å½±å°ºå¯¸ï¼ˆå½±å­å¤§å°ï¼‰ é˜´å½±é¢œè‰² å†…/å¤–é˜´å½±ï¼› MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-15 14:05:05 "},"DSL/CSS/æµ®åŠ¨.html":{"url":"DSL/CSS/æµ®åŠ¨.html","title":"æµ®åŠ¨","keywords":"","body":"æµ®åŠ¨ å…ƒç´ çš„æµ®åŠ¨æ˜¯æŒ‡è®¾ç½®äº†æµ®åŠ¨å±æ€§çš„å…ƒç´ ä¼š è„±ç¦»æ ‡å‡†æ™®é€šæµçš„æ§åˆ¶ ç§»åŠ¨åˆ°æŒ‡å®šä½ç½® ä½œç”¨ è®©å¤šä¸ªç›’å­(div)æ°´å¹³æ’åˆ—æˆä¸€è¡Œï¼Œä½¿å¾—æµ®åŠ¨æˆä¸ºå¸ƒå±€çš„é‡è¦æ‰‹æ®µã€‚ å¯ä»¥å®ç°ç›’å­çš„å·¦å³å¯¹é½ç­‰ç­‰.. æµ®åŠ¨æœ€æ—©æ˜¯ç”¨æ¥æ§åˆ¶å›¾ç‰‡ï¼Œå®ç°æ–‡å­—ç¯ç»•å›¾ç‰‡çš„æ•ˆæœã€‚ è¯­æ³• é€‰æ‹©å™¨ { float: å±æ€§å€¼; } å±æ€§å€¼ æè¿° none å…ƒç´ ä¸æµ®åŠ¨ï¼ˆé»˜è®¤å€¼ï¼‰ left å…ƒç´ å‘å·¦æµ®åŠ¨ right å…ƒç´ å‘å³æµ®åŠ¨ ç‰¹æ€§ float å±æ€§ä¼šè®©ç›’å­æ¼‚æµ®åœ¨æ ‡å‡†æµçš„ä¸Šé¢,å¹¶ä¸”ä¸å æœ‰åŸæ¥ä½ç½® ä»»ä½•å…ƒç´ éƒ½å¯ä»¥æµ®åŠ¨ã€‚æµ®åŠ¨å…ƒç´ ä¼šç”Ÿæˆä¸€ä¸ªå—çº§æ¡†ï¼Œç”Ÿæˆçš„å—çº§æ¡†å’Œæˆ‘ä»¬å‰é¢çš„è¡Œå†…å—æå…¶ç›¸ä¼¼ ä½¿ç”¨æµ®åŠ¨çš„æ ¸å¿ƒç›®çš„----è®©å¤šä¸ªå—çº§ç›’å­åœ¨åŒä¸€è¡Œæ˜¾ç¤º ç‰¹ç‚¹ è¯´æ˜ æµ® åŠ äº†æµ®åŠ¨çš„ç›’å­æ˜¯æµ®èµ·æ¥çš„ï¼Œæ¼‚æµ®åœ¨å…¶ä»–æ ‡å‡†æµç›’å­çš„ä¸Šé¢ã€‚ æ¼ åŠ äº†æµ®åŠ¨çš„ç›’å­æ˜¯ä¸å ä½ç½®çš„ï¼Œå®ƒåŸæ¥çš„ä½ç½®æ¼ç»™äº†æ ‡å‡†æµçš„ç›’å­ã€‚ ç‰¹ ç‰¹åˆ«æ³¨æ„ï¼šæµ®åŠ¨å…ƒç´ ä¼šæ”¹å˜displayå±æ€§ï¼Œ ç±»ä¼¼è½¬æ¢ä¸ºäº†è¡Œå†…å—ï¼Œä½†æ˜¯å…ƒç´ ä¹‹é—´æ²¡æœ‰ç©ºç™½ç¼éš™ æ‰©å±• å­ç›’å­çš„æµ®åŠ¨å‚ç…§çˆ¶ç›’å­å¯¹é½ ä¸ä¼šä¸çˆ¶ç›’å­çš„è¾¹æ¡†é‡å ï¼Œä¹Ÿä¸ä¼šè¶…è¿‡çˆ¶ç›’å­çš„å†…è¾¹è· æµ®åŠ¨åªä¼šå½±å“å½“å‰çš„æˆ–è€…æ˜¯åé¢çš„æ ‡å‡†æµç›’å­ï¼Œä¸ä¼šå½±å“å‰é¢çš„æ ‡å‡†æµ æ¸…é™¤æµ®åŠ¨ çˆ¶çº§ç›’å­å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸æ–¹ä¾¿ç»™é«˜åº¦ï¼Œä½†æ˜¯å­ç›’å­æµ®åŠ¨å°±ä¸å æœ‰ä½ç½®ï¼Œæœ€åçˆ¶çº§ç›’å­é«˜åº¦ä¸º0ï¼Œå¯¼è‡´æ’ç‰ˆå‡ºç°é—®é¢˜ æ¸…é™¤æµ®åŠ¨ä¸»è¦ä¸ºäº†è§£å†³çˆ¶çº§å…ƒç´ å› ä¸ºå­çº§æµ®åŠ¨å¼•èµ·å†…éƒ¨é«˜åº¦ä¸º0 çš„é—®é¢˜ã€‚æ¸…é™¤æµ®åŠ¨ä¹‹åï¼Œ çˆ¶çº§å°±ä¼šæ ¹æ®æµ®åŠ¨çš„å­ç›’å­è‡ªåŠ¨æ£€æµ‹é«˜åº¦ã€‚çˆ¶çº§æœ‰äº†é«˜åº¦ï¼Œå°±ä¸ä¼šå½±å“ä¸‹é¢çš„æ ‡å‡†æµäº† é€‰æ‹©å™¨{clear:å±æ€§å€¼;} å±æ€§å€¼ æè¿° left ä¸å…è®¸å·¦ä¾§æœ‰æµ®åŠ¨å…ƒç´ ï¼ˆæ¸…é™¤å·¦ä¾§æµ®åŠ¨çš„å½±å“ï¼‰ right ä¸å…è®¸å³ä¾§æœ‰æµ®åŠ¨å…ƒç´ ï¼ˆæ¸…é™¤å³ä¾§æµ®åŠ¨çš„å½±å“ï¼‰ both åŒæ—¶æ¸…é™¤å·¦å³ä¸¤ä¾§æµ®åŠ¨çš„å½±å“ é¢å¤–æ ‡ç­¾æ³• çˆ¶çº§æ·»åŠ overflow afterä¼ªå…ƒç´  .clearfix:after { content: \"\"; display: block; height: 0; clear: both; visibility: hidden; } .clearfix {*zoom: 1;} /* IE6ã€7 ä¸“æœ‰ */ åŒä¼ªå…ƒç´  .clearfix:before,.clearfix:after { content:\"\"; display:table; } .clearfix:after { clear:both; } .clearfix { *zoom:1; } æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼ ä¼˜ç‚¹ ç¼ºç‚¹ é¢å¤–æ ‡ç­¾æ³•ï¼ˆéš”å¢™æ³•ï¼‰ é€šä¿—æ˜“æ‡‚ï¼Œä¹¦å†™æ–¹ä¾¿ æ·»åŠ è®¸å¤šæ— æ„ä¹‰çš„æ ‡ç­¾ï¼Œç»“æ„åŒ–è¾ƒå·®ã€‚ çˆ¶çº§overflow:hidden; ä¹¦å†™ç®€å• æº¢å‡ºéšè— çˆ¶çº§afterä¼ªå…ƒç´  ç»“æ„è¯­ä¹‰åŒ–æ­£ç¡® ç”±äºIE6-7ä¸æ”¯æŒ:afterï¼Œå…¼å®¹æ€§é—®é¢˜ çˆ¶çº§åŒä¼ªå…ƒç´  ç»“æ„è¯­ä¹‰åŒ–æ­£ç¡® ç”±äºIE6-7ä¸æ”¯æŒ:afterï¼Œå…¼å®¹æ€§é—®é¢˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/å®šä½.html":{"url":"DSL/CSS/å®šä½.html","title":"å®šä½","keywords":"","body":"å®šä½ å°†ç›’å­å®šåœ¨æŸä¸€ä¸ªä½ç½® è‡ªç”±çš„æ¼‚æµ®åœ¨å…¶ä»–ç›’å­(åŒ…æ‹¬æ ‡å‡†æµå’Œæµ®åŠ¨)çš„ä¸Šé¢ å®šä½ = å®šä½æ¨¡å¼ + è¾¹åç§» è¾¹åç§» è¾¹åç§»å±æ€§ ç¤ºä¾‹ æè¿° top top: 80px é¡¶ç«¯åç§»é‡ï¼Œå®šä¹‰å…ƒç´ ç›¸å¯¹äºå…¶çˆ¶å…ƒç´ ä¸Šè¾¹çº¿çš„è·ç¦»ã€‚ bottom bottom: 80px åº•éƒ¨åç§»é‡ï¼Œå®šä¹‰å…ƒç´ ç›¸å¯¹äºå…¶çˆ¶å…ƒç´ ä¸‹è¾¹çº¿çš„è·ç¦»ã€‚ left left: 80px å·¦ä¾§åç§»é‡ï¼Œå®šä¹‰å…ƒç´ ç›¸å¯¹äºå…¶çˆ¶å…ƒç´ å·¦è¾¹çº¿çš„è·ç¦»ã€‚ right right: 80px å³ä¾§åç§»é‡ï¼Œå®šä¹‰å…ƒç´ ç›¸å¯¹äºå…¶çˆ¶å…ƒç´ å³è¾¹çº¿çš„è·ç¦» å®šä½æ¨¡å¼ é€‰æ‹©å™¨ { position: å±æ€§å€¼; } å€¼ è¯­ä¹‰ static é™æ€å®šä½ relative ç›¸å¯¹å®šä½ absolute ç»å¯¹å®šä½ fixed å›ºå®šå®šä½ é™æ€å®šä½(static) é™æ€å®šä½æ˜¯å…ƒç´ çš„é»˜è®¤å®šä½æ–¹å¼ ç›¸å¯¹å®šä½(relative) ç›¸å¯¹å®šä½æ˜¯å…ƒç´ ç›¸å¯¹äºå®ƒåŸæ¥åœ¨æ ‡å‡†æµä¸­çš„ä½ç½®æ¥è¯´çš„ åŸæ¥åœ¨æ ‡å‡†æµçš„åŒºåŸŸç»§ç»­å æœ‰ï¼Œåé¢çš„ç›’å­ä»ç„¶ä»¥æ ‡å‡†æµçš„æ–¹å¼å¯¹å¾…å®ƒ ç»å¯¹å®šä½(absolute) ç»å¯¹å®šä½æ˜¯å…ƒç´ ä»¥å¸¦æœ‰å®šä½çš„çˆ¶çº§å…ƒç´ æ¥ç§»åŠ¨ä½ç½® å®Œå…¨è„±æ ‡ ---- å®Œå…¨ä¸å ä½ç½® çˆ¶å…ƒç´ æ²¡æœ‰å®šä½ï¼Œåˆ™å…ƒç´ ä¾æ®æœ€è¿‘çš„å·²ç»å®šä½ï¼ˆç»å¯¹ã€å›ºå®šæˆ–ç›¸å¯¹å®šä½ï¼‰çš„çˆ¶å…ƒç´ ï¼ˆç¥–å…ˆï¼‰è¿›è¡Œå®šä½ å­ç»çˆ¶ç›¸ ---- å­çº§æ˜¯ç»å¯¹å®šä½ï¼Œçˆ¶çº§è¦ç”¨ç›¸å¯¹å®šä½ã€‚ å›ºå®šå®šä½(fixed) å®Œå…¨è„±æ ‡ ---- å®Œå…¨ä¸å ä½ç½® åªè®¤æµè§ˆå™¨çš„å¯è§†çª—å£ ---- æµè§ˆå™¨å¯è§†çª—å£ + è¾¹åç§»å±æ€§ æ¥è®¾ç½®å…ƒç´ çš„ä½ç½® ä¸éšæ»šåŠ¨æ¡æ»šåŠ¨ æ‰©å±• å±…ä¸­ ç»å¯¹å®šä½/å›ºå®šå®šä½çš„ç›’å­ä¸èƒ½é€šè¿‡è®¾ç½® margin: auto è®¾ç½®æ°´å¹³å±…ä¸­ã€‚ left: 50%;ï¼šè®©ç›’å­çš„å·¦ä¾§ç§»åŠ¨åˆ°çˆ¶çº§å…ƒç´ çš„æ°´å¹³ä¸­å¿ƒä½ç½®ï¼› margin-left: -100px;ï¼šè®©ç›’å­å‘å·¦ç§»åŠ¨è‡ªèº«å®½åº¦çš„ä¸€åŠã€‚ å †å é¡ºåºï¼ˆz-indexï¼‰ åŠ äº†å®šä½çš„ç›’å­ï¼Œé»˜è®¤åæ¥è€…å±…ä¸Šï¼Œ åé¢çš„ç›’å­ä¼šå‹ä½å‰é¢çš„ç›’å­ selector { z-index: value; } å±æ€§å€¼ï¼šæ­£æ•´æ•°ã€è´Ÿæ•´æ•°æˆ– 0ï¼Œé»˜è®¤å€¼æ˜¯ 0ï¼Œæ•°å€¼è¶Šå¤§ï¼Œç›’å­è¶Šé ä¸Š z-index åªèƒ½åº”ç”¨äºç›¸å¯¹å®šä½ã€ç»å¯¹å®šä½å’Œå›ºå®šå®šä½çš„å…ƒç´ ï¼Œå…¶ä»–æ ‡å‡†æµã€æµ®åŠ¨å’Œé™æ€å®šä½æ— æ•ˆ å®šä½æ”¹å˜displayå±æ€§ ä¸€ä¸ªè¡Œå†…çš„ç›’å­ï¼Œå¦‚æœåŠ äº†æµ®åŠ¨ã€å›ºå®šå®šä½å’Œç»å¯¹å®šä½ï¼Œä¸ç”¨è½¬æ¢ï¼Œå°±å¯ä»¥ç»™è¿™ä¸ªç›’å­ç›´æ¥è®¾ç½®å®½åº¦å’Œé«˜åº¦ç­‰ ç»™ç›’å­æ”¹ä¸ºäº†æµ®åŠ¨æˆ–è€…å®šä½ï¼Œå°±ä¸ä¼šæœ‰å‚ç›´å¤–è¾¹è·åˆå¹¶çš„é—®é¢˜äº† æ€»ç»“ å®šä½æ¨¡å¼ æ˜¯å¦è„±æ ‡å æœ‰ä½ç½® ç§»åŠ¨ä½ç½®åŸºå‡† æ¨¡å¼è½¬æ¢ï¼ˆè¡Œå†…å—ï¼‰ ä½¿ç”¨æƒ…å†µ é™æ€static ä¸è„±æ ‡ï¼Œæ­£å¸¸æ¨¡å¼ æ­£å¸¸æ¨¡å¼ ä¸èƒ½ å‡ ä¹ä¸ç”¨ ç›¸å¯¹å®šä½relative ä¸è„±æ ‡ï¼Œå æœ‰ä½ç½® ç›¸å¯¹è‡ªèº«ä½ç½®ç§»åŠ¨ ä¸èƒ½ åŸºæœ¬å•ç‹¬ä½¿ç”¨ ç»å¯¹å®šä½absolute å®Œå…¨è„±æ ‡ï¼Œä¸å æœ‰ä½ç½® ç›¸å¯¹äºå®šä½çˆ¶çº§ç§»åŠ¨ä½ç½® èƒ½ è¦å’Œå®šä½çˆ¶çº§å…ƒç´ æ­é…ä½¿ç”¨ å›ºå®šå®šä½fixed å®Œå…¨è„±æ ‡ï¼Œä¸å æœ‰ä½ç½® ç›¸å¯¹äºæµè§ˆå™¨ç§»åŠ¨ä½ç½® èƒ½ å•ç‹¬ä½¿ç”¨ï¼Œä¸éœ€è¦çˆ¶çº§ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/é«˜çº§æŠ€å·§.html":{"url":"DSL/CSS/é«˜çº§æŠ€å·§.html","title":"é«˜çº§æŠ€å·§","keywords":"","body":"é«˜çº§æŠ€å·§ å…ƒç´ çš„æ˜¾ç¤ºä¸éšè— display æ˜¾ç¤º /* éšè—å¯¹è±¡ */ display: none ç‰¹ç‚¹ï¼š éšè—ä¹‹åï¼Œä¸å†ä¿ç•™ä½ç½®ã€‚ é…åˆåé¢jsåšç‰¹æ•ˆï¼Œæ¯”å¦‚ä¸‹æ‹‰èœå•ï¼ŒåŸå…ˆæ²¡æœ‰ï¼Œé¼ æ ‡ç»è¿‡ï¼Œæ˜¾ç¤ºä¸‹æ‹‰èœå•ï¼Œ åº”ç”¨æä¸ºå¹¿æ³› visibility å¯è§æ€§ /* å¯¹è±¡å¯è§† */ visibilityï¼švisible ; ã€€ /* å¯¹è±¡éšè— */ visibilityï¼šhidden; ç‰¹ç‚¹ï¼š éšè—ä¹‹åï¼Œç»§ç»­ä¿ç•™åŸæœ‰ä½ç½®ã€‚ overflow æº¢å‡º æ£€ç´¢æˆ–è®¾ç½®å½“å¯¹è±¡çš„å†…å®¹è¶…è¿‡å…¶æŒ‡å®šé«˜åº¦åŠå®½åº¦æ—¶å¦‚ä½•ç®¡ç†å†…å®¹ å±æ€§å€¼ æè¿° visible ä¸å‰ªåˆ‡å†…å®¹ä¹Ÿä¸æ·»åŠ æ»šåŠ¨æ¡ hidden ä¸æ˜¾ç¤ºè¶…è¿‡å¯¹è±¡å°ºå¯¸çš„å†…å®¹ï¼Œè¶…å‡ºçš„éƒ¨åˆ†éšè—æ‰ scroll ä¸ç®¡è¶…å‡ºå†…å®¹å¦ï¼Œæ€»æ˜¯æ˜¾ç¤ºæ»šåŠ¨æ¡ auto è¶…å‡ºè‡ªåŠ¨æ˜¾ç¤ºæ»šåŠ¨æ¡ï¼Œä¸è¶…å‡ºä¸æ˜¾ç¤ºæ»šåŠ¨æ¡ åº”ç”¨ï¼š æ¸…é™¤æµ®åŠ¨ éšè—è¶…å‡ºå†…å®¹ï¼Œéšè—æ‰, ä¸å…è®¸å†…å®¹è¶…è¿‡çˆ¶ç›’å­ã€‚ æ€»ç»“ å±æ€§ åŒºåˆ« ç”¨é€” display éšè—å¯¹è±¡ï¼Œä¸ä¿ç•™ä½ç½® é…åˆåé¢jsåšç‰¹æ•ˆï¼Œæ¯”å¦‚ä¸‹æ‹‰èœå•ï¼ŒåŸå…ˆæ²¡æœ‰ï¼Œé¼ æ ‡ç»è¿‡ï¼Œæ˜¾ç¤ºä¸‹æ‹‰èœå•ï¼Œ åº”ç”¨æä¸ºå¹¿æ³› visibility éšè—å¯¹è±¡ï¼Œä¿ç•™ä½ç½® ä½¿ç”¨è¾ƒå°‘ overflow åªæ˜¯éšè—è¶…å‡ºå¤§å°çš„éƒ¨åˆ† 1. å¯ä»¥æ¸…é™¤æµ®åŠ¨ 2. ä¿è¯ç›’å­é‡Œé¢çš„å†…å®¹ä¸ä¼šè¶…å‡ºè¯¥ç›’å­èŒƒå›´ CSSç”¨æˆ·ç•Œé¢æ ·å¼ é¼ æ ‡æ ·å¼cursor è®¾ç½®æˆ–æ£€ç´¢åœ¨å¯¹è±¡ä¸Šç§»åŠ¨çš„é¼ æ ‡æŒ‡é’ˆé‡‡ç”¨ä½•ç§ç³»ç»Ÿé¢„å®šä¹‰çš„å…‰æ ‡å½¢çŠ¶ a:hover { cursor: value; } å±æ€§å€¼ æè¿° default å°ç™½ é»˜è®¤ pointer å°æ‰‹ move ç§»åŠ¨ text æ–‡æœ¬ not-allowed ç¦æ­¢ è½®å»“çº¿ outline outline : outline-color ||outline-style || outline-width outline : outline-color ||outline-style || outline-width ä¸€èˆ¬éƒ½ç›´æ¥å»æ‰: outline: 0; outline: none; é˜²æ­¢æ‹–æ‹½æ–‡æœ¬åŸŸresize vertical-align å‚ç›´å¯¹é½ vertical-align : baseline |top |middle |bottom vertical-align ä¸å½±å“å—çº§å…ƒç´ ä¸­çš„å†…å®¹å¯¹é½ï¼Œå®ƒåªé’ˆå¯¹äºè¡Œå†…å…ƒç´ æˆ–è€…è¡Œå†…å—å…ƒç´  è¡Œå†…å—å…ƒç´ ï¼Œ é€šå¸¸ç”¨æ¥æ§åˆ¶å›¾ç‰‡/è¡¨å•ä¸æ–‡å­—çš„å¯¹é½ å›¾ç‰‡ã€è¡¨å•å’Œæ–‡å­—å¯¹é½ å»é™¤å›¾ç‰‡åº•ä¾§ç©ºç™½ç¼éš™ å›¾ç‰‡æˆ–è€…è¡¨å•ç­‰è¡Œå†…å—å…ƒç´ ï¼Œä»–çš„åº•çº¿ä¼šå’Œçˆ¶çº§ç›’å­çš„åŸºçº¿å¯¹é½ ç»™img vertical-align:middle | top| bottomç­‰ç­‰ã€‚ è®©å›¾ç‰‡ä¸è¦å’ŒåŸºçº¿å¯¹é½ ç»™img æ·»åŠ  displayï¼šblock; è½¬æ¢ä¸ºå—çº§å…ƒç´ å°±ä¸ä¼šå­˜åœ¨é—®é¢˜äº† æº¢å‡ºçš„æ–‡å­—çœç•¥å·æ˜¾ç¤º /*1. å…ˆå¼ºåˆ¶ä¸€è¡Œå†…æ˜¾ç¤ºæ–‡æœ¬*/ white-space: nowrap; /*2. è¶…å‡ºçš„éƒ¨åˆ†éšè—*/ overflow: hidden; /*3. æ–‡å­—ç”¨çœç•¥å·æ›¿ä»£è¶…å‡ºçš„éƒ¨åˆ†*/ text-overflow: ellipsis; CSSç²¾çµæŠ€æœ¯ï¼ˆsprite) CSS ç²¾çµå…¶å®æ˜¯å°†ç½‘é¡µä¸­çš„ä¸€äº›èƒŒæ™¯å›¾åƒæ•´åˆåˆ°ä¸€å¼ å¤§å›¾ä¸­ï¼ˆç²¾çµå›¾ï¼‰ æ»‘åŠ¨é—¨ æ‰©å±• marginè´Ÿå€¼ è´Ÿè¾¹è·+å®šä½ï¼šæ°´å¹³å‚ç›´å±…ä¸­ å‹ä½ç›’å­ç›¸é‚»è¾¹æ¡† éœ€è¦æ·»åŠ æµ®åŠ¨ CSSä¸‰è§’ å°†ç›’å­å®½é«˜è®¾ç½®ä¸º0ï¼Œç„¶åè®¾ç½®å››ä¸ªè¾¹æ¡† div { width: 0; height: 0; border-style: solid; border-width: 20px; border-color: pink skyblue deepskyblue darkcyan; } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/CSS3.html":{"url":"DSL/CSS/CSS3.html","title":"CSS3","keywords":"","body":"CSS3 é€‰æ‹©å™¨ å±æ€§é€‰æ‹©å™¨ input[type=search] { color: skyblue; } ç»“æ„ä¼ªç±»é€‰æ‹©å™¨ nth-child è¯¦è§£ n å¯ä»¥æ˜¯æ•°å­—ã€å…³é”®å­—ã€å…¬å¼ n å¦‚æœæ˜¯æ•°å­—ï¼Œå°±æ˜¯é€‰ä¸­ç¬¬å‡ ä¸ª å¸¸è§çš„å…³é”®å­—æœ‰ even å¶æ•°ã€odd å¥‡æ•° å¸¸è§çš„å…¬å¼å¦‚ä¸‹(å¦‚æœ n æ˜¯å…¬å¼ï¼Œåˆ™ä» 0 å¼€å§‹è®¡ç®—) ä½†å¦‚æœæ˜¯ç¬¬ 0 ä¸ªå…ƒç´ æˆ–è€…è¶…å‡ºäº†å…ƒç´ çš„ä¸ªæ•°ä¼šè¢«å¿½ç•¥ nth-child å’Œ nt-of-type çš„åŒºåˆ« nth-child é€‰æ‹©çˆ¶å…ƒç´ é‡Œé¢çš„ç¬¬å‡ ä¸ªå­å…ƒç´ ï¼Œä¸ç®¡æ˜¯ç¬¬å‡ ä¸ªç±»å‹ nt-of-type é€‰æ‹©æŒ‡å®šç±»å‹çš„å…ƒç´  ä¼ªå…ƒç´ é€‰æ‹©å™¨ ::before åœ¨å…ƒç´ å†…éƒ¨çš„å‰é¢æ’å…¥å†…å®¹ ::after åœ¨å…ƒç´ å†…éƒ¨çš„åé¢æ’å…¥å†…å®¹ æ³¨æ„äº‹é¡¹ before å’Œ after å¿…é¡»æœ‰ content å±æ€§ before åœ¨å†…å®¹å‰é¢ï¼Œafter åœ¨å†…å®¹åé¢ before å’Œ after åˆ›å»ºçš„æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯å±äºè¡Œå†…å…ƒç´  åˆ›å»ºå‡ºæ¥çš„å…ƒç´ åœ¨ Dom ä¸­æŸ¥æ‰¾ä¸åˆ°ï¼Œæ‰€ä»¥ç§°ä¸ºä¼ªå…ƒç´  ä¼ªå…ƒç´ å’Œæ ‡ç­¾é€‰æ‹©å™¨ä¸€æ ·ï¼Œæƒé‡ä¸º 1 2Dè½¬æ¢ 2Dè½¬æ¢translate x å°±æ˜¯ x è½´ä¸Šæ°´å¹³ç§»åŠ¨ y å°±æ˜¯ y è½´ä¸Šæ°´å¹³ç§»åŠ¨ transform: translate(x, y) transform: translateX(n) transfrom: translateY(n) 2D çš„ç§»åŠ¨ä¸»è¦æ˜¯æŒ‡ æ°´å¹³ã€å‚ç›´æ–¹å‘ä¸Šçš„ç§»åŠ¨ translate æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ä¸å½±å“å…¶ä»–å…ƒç´ çš„ä½ç½® translate ä¸­çš„100%å•ä½ï¼Œæ˜¯ç›¸å¯¹äºæœ¬èº«çš„å®½åº¦å’Œé«˜åº¦æ¥è¿›è¡Œè®¡ç®—çš„ è¡Œå†…æ ‡ç­¾æ²¡æœ‰æ•ˆæœ 2Dæ—‹è½¬rotate 2D æ—‹è½¬æŒ‡çš„æ˜¯è®©å…ƒç´ åœ¨äºŒç»´å¹³é¢å†…é¡ºæ—¶é’ˆæˆ–è€…é€†æ—¶é’ˆæ—‹è½¬ transform: rotate(åº¦æ•°) rotateé‡Œé¢è·Ÿåº¦æ•°ï¼Œå•ä½æ˜¯deg` è§’åº¦ä¸ºæ­£æ—¶ï¼Œé¡ºæ—¶é’ˆï¼Œè§’åº¦ä¸ºè´Ÿæ—¶ï¼Œé€†æ—¶é’ˆ é»˜è®¤æ—‹è½¬çš„ä¸­å¿ƒç‚¹æ˜¯å…ƒç´ çš„ä¸­å¿ƒç‚¹ è®¾ç½®å…ƒç´ æ—‹è½¬ä¸­å¿ƒç‚¹(transform-origin) transform-origin: x y; æ³¨æ„åé¢çš„å‚æ•° x å’Œ y ç”¨ç©ºæ ¼éš”å¼€ x y é»˜è®¤æ—‹è½¬çš„ä¸­å¿ƒç‚¹æ˜¯å…ƒç´ çš„ä¸­å¿ƒ (50% 50%)ï¼Œç­‰ä»·äº center center è¿˜å¯ä»¥ç»™ x y è®¾ç½®åƒç´ æˆ–è€…æ–¹ä½åè¯(topã€bottomã€leftã€rightã€center) 2D è½¬æ¢ä¹‹ scale ç”¨æ¥æ§åˆ¶å…ƒç´ çš„æ”¾å¤§ä¸ç¼©å° transform: scale(x, y) æ³¨æ„ï¼Œx ä¸ y ä¹‹é—´ä½¿ç”¨é€—å·è¿›è¡Œåˆ†éš” transform: scale(1, 1): å®½é«˜éƒ½æ”¾å¤§ä¸€å€ï¼Œç›¸å½“äºæ²¡æœ‰æ”¾å¤§ transform: scale(2, 2): å®½å’Œé«˜éƒ½æ”¾å¤§äº†äºŒå€ transform: scale(2): å¦‚æœåªå†™äº†ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±å’Œç¬¬ä¸€ä¸ªå‚æ•°ä¸€è‡´ transform:scale(0.5, 0.5): ç¼©å° scale æœ€å¤§çš„ä¼˜åŠ¿ï¼šå¯ä»¥è®¾ç½®è½¬æ¢ä¸­å¿ƒç‚¹ç¼©æ”¾ï¼Œé»˜è®¤ä»¥ä¸­å¿ƒç‚¹ç¼©æ”¾ï¼Œè€Œä¸”ä¸å½±å“å…¶ä»–ç›’å­ ç»¼åˆå†™æ³• åŒæ—¶ä½¿ç”¨å¤šä¸ªè½¬æ¢ï¼Œå…¶æ ¼å¼ä¸º transform: translate() rotate() scale() é¡ºåºä¼šå½±å“åˆ°è½¬æ¢çš„æ•ˆæœ(å…ˆæ—‹è½¬ä¼šæ”¹å˜åæ ‡è½´æ–¹å‘) ä½†æˆ‘ä»¬åŒæ—¶æœ‰ä½ç½®æˆ–è€…å…¶ä»–å±æ€§çš„æ—¶å€™ï¼Œè¦å°†ä½ç§»æ”¾åˆ°æœ€å‰é¢ åŠ¨ç”» åŠ¨ç”»æ˜¯ CSS3 ä¸­æœ€å…·é¢ è¦†æ€§çš„ç‰¹å¾ä¹‹ä¸€ï¼Œå¯é€šè¿‡è®¾ç½®å¤šä¸ªèŠ‚ç‚¹æ¥ç²¾ç¡®çš„æ§åˆ¶ä¸€ä¸ªæˆ–è€…ä¸€ç»„åŠ¨ç”»ï¼Œä»è€Œå®ç°å¤æ‚çš„åŠ¨ç”»æ•ˆæœ å®šä¹‰åŠ¨ç”» @keyframes motion { 0% { transform: translateX(0); } 100% { transform: translateX(1000px); } } ä½¿ç”¨åŠ¨ç”» div { width: 200px; height: 200px; background-color: skyblue; animation: motion 5s; } 0% æ˜¯åŠ¨ç”»çš„å¼€å§‹ï¼Œ100 % æ˜¯åŠ¨ç”»çš„å®Œæˆï¼Œè¿™æ ·çš„è§„åˆ™å°±æ˜¯åŠ¨ç”»åºåˆ— åœ¨ @keyframs ä¸­è§„å®šæŸé¡¹ CSS æ ·å¼ï¼Œå°±ç”±åˆ›å»ºå½“å‰æ ·å¼é€æ¸æ”¹ä¸ºæ–°æ ·å¼çš„åŠ¨ç”»æ•ˆæœ åŠ¨ç”»æ˜¯ä½¿å…ƒç´ ä»ä¸€ä¸ªæ ·å¼é€æ¸å˜åŒ–ä¸ºå¦ä¸€ä¸ªæ ·å¼çš„æ•ˆæœï¼Œå¯ä»¥æ”¹å˜ä»»æ„å¤šçš„æ ·å¼ä»»æ„å¤šçš„æ¬¡æ•° ç”¨ç™¾åˆ†æ¯”æ¥è§„å®šå˜åŒ–å‘ç”Ÿçš„æ—¶é—´ï¼Œæˆ–ç”¨ from å’Œ toï¼Œç­‰åŒäº 0% å’Œ 100% åœºæ™¯å±æ€§ div { width: 100px; height: 100px; background-color: aquamarine; /* åŠ¨ç”»åç§° */ animation-name: move; /* åŠ¨ç”»èŠ±è´¹æ—¶é•¿ */ animation-duration: 2s; /* åŠ¨ç”»é€Ÿåº¦æ›²çº¿ */ animation-timing-function: ease-in-out; /* åŠ¨ç”»ç­‰å¾…å¤šé•¿æ—¶é—´æ‰§è¡Œ */ animation-delay: 2s; /* è§„å®šåŠ¨ç”»æ’­æ”¾æ¬¡æ•° infinite: æ— é™å¾ªç¯ */ animation-iteration-count: infinite; /* æ˜¯å¦é€†è¡Œæ’­æ”¾ */ animation-direction: alternate; /* åŠ¨ç”»ç»“æŸä¹‹åçš„çŠ¶æ€ */ animation-fill-mode: forwards; } ç®€å†™ animation: name duration timing-function delay iteration-count direction fill-mode ç®€å†™å±æ€§é‡Œé¢ä¸åŒ…å« animation-paly-state æš‚åœåŠ¨ç”» animation-paly-state: paused; ç»å¸¸å’Œé¼ æ ‡ç»è¿‡ç­‰å…¶ä»–é…åˆä½¿ç”¨ è¦æƒ³åŠ¨ç”»èµ°å›æ¥ï¼Œè€Œä¸æ˜¯ç›´æ¥è°ƒå›æ¥ï¼šanimation-direction: alternate ç›’å­åŠ¨ç”»ç»“æŸåï¼Œåœåœ¨ç»“æŸä½ç½®ï¼šanimation-fill-mode: forwards 3Dè½¬æ¢ ä¸‰ç»´åæ ‡ç³» 3D ç§»åŠ¨ translate3d /* æ³¨æ„ï¼šx, y, z å¯¹åº”çš„å€¼ä¸èƒ½çœç•¥ï¼Œä¸éœ€è¦å¡«å†™ç”¨ 0 è¿›è¡Œå¡«å…… */ transform: translate3d(x, y, z) é€è§† perspective é€è§†éœ€è¦å†™åœ¨è¢«è§†å¯Ÿå…ƒç´ çš„çˆ¶ç›’å­ä¸Šé¢ body { perspective: 1000px; } 3D æ—‹è½¬rotate 3D æ—‹è½¬æŒ‡å¯ä»¥è®©å…ƒç´ åœ¨ä¸‰ç»´å¹³é¢å†…æ²¿ç€ x è½´ã€y è½´ã€z è½´ æˆ–è€…è‡ªå®šä¹‰è½´è¿›è¡Œæ—‹è½¬ transform: rotate3d(x, y, z, deg) rotateY rotateX rotateZ /* æ²¿ç€å¯¹è§’çº¿æ—‹è½¬ */ transform: rotate3d(1, 1, 0, 180deg) 3D å‘ˆç° transform-style æ§åˆ¶å­å…ƒç´ æ˜¯å¦å¼€å¯ä¸‰ç»´ç«‹ä½“ç¯å¢ƒ transform-style: flat ä»£è¡¨å­å…ƒç´ ä¸å¼€å¯ 3D ç«‹ä½“ç©ºé—´ï¼Œé»˜è®¤çš„ transform-style: preserve-3d å­å…ƒç´ å¼€å¯ç«‹ä½“ç©ºé—´ æµè§ˆå™¨ç§æœ‰å‰ç¼€ ç«ç‹-moz- ie-ms- -webkit- -o- MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"DSL/CSS/less.html":{"url":"DSL/CSS/less.html","title":"Less","keywords":"","body":"Less Less æ˜¯ä¸€é—¨ CSS é¢„å¤„ç†è¯­è¨€ï¼Œå®ƒæ‰©å±•äº† CSS è¯­è¨€ï¼Œå¢åŠ äº†å˜é‡ã€Mixinã€å‡½æ•°ç­‰ç‰¹æ€§ï¼Œä½¿ CSS æ›´æ˜“ç»´æŠ¤å’Œæ‰©å±• CSSå¼Šç«¯ å†—ä½™åº¦é«˜ æ²¡æœ‰è®¡ç®—èƒ½åŠ› ä¸æ–¹ä¾¿ç»´æŠ¤æ‰©å±•ï¼Œä¸åˆ©äºå¤ç”¨ å®‰è£… npm install -g less ä½¿ç”¨ å˜é‡å®šä¹‰ä¸ä½¿ç”¨ // å¿…é¡»æœ‰@ä¸ºå‰ç¼€ // ä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦ // ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ // å¤§å°å†™æ•æ„Ÿ @color: pink; div { background-color: @color; } æ ·å¼åµŒå¥— .header { width: 200px; a { color: white; } } // å¦‚æœé‡è§ ï¼ˆäº¤é›†|ä¼ªç±»|ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼‰ ï¼Œåˆ©ç”¨&è¿›è¡Œè¿æ¥ .header { width: 200px; &:hover { color: white; } } è¿ç®— ä»»ä½•æ•°å­—ã€é¢œè‰²æˆ–è€…å˜é‡éƒ½å¯ä»¥å‚ä¸è¿ç®—ã€‚å°±æ˜¯Lessæä¾›äº†åŠ ï¼ˆ+ï¼‰ã€å‡ï¼ˆ-ï¼‰ã€ä¹˜ï¼ˆ*ï¼‰ã€é™¤ï¼ˆ/ï¼‰ç®—æœ¯è¿ç®— @width: 10px + 5; // å¯¹é¢œè‰²è¿›è¡Œè¿ç®— div { border: @width solid red+2; } // å¯¹å®½åº¦è¿ç®— div { width: (@width + 5) * 2; } å¯¹äºä¸¤ä¸ªä¸åŒçš„å•ä½çš„å€¼ä¹‹é—´çš„è¿ç®—ï¼Œè¿ç®—ç»“æœçš„å€¼å–ç¬¬ä¸€ä¸ªå€¼çš„å•ä½ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 09:12:04 "},"DSL/CSS/Bootstrap.html":{"url":"DSL/CSS/Bootstrap.html","title":"Bootstrap","keywords":"","body":"å“åº”å¼å¸ƒå±€ å“åº”å¼éœ€è¦ä¸€ä¸ªçˆ¶çº§åšä¸ºå¸ƒå±€å®¹å™¨ï¼Œæ¥é…åˆå­çº§å…ƒç´ æ¥å®ç°å˜åŒ–æ•ˆæœã€‚ åŸç†å°±æ˜¯åœ¨ä¸åŒå±å¹•ä¸‹ï¼Œé€šè¿‡åª’ä½“æŸ¥è¯¢æ¥æ”¹å˜è¿™ä¸ªå¸ƒå±€å®¹å™¨çš„å¤§å°ï¼Œå†æ”¹å˜é‡Œé¢å­å…ƒç´ çš„æ’åˆ—æ–¹å¼å’Œå¤§å°ï¼Œä»è€Œå®ç°ä¸åŒå±å¹•ä¸‹ï¼Œçœ‹åˆ°ä¸åŒçš„é¡µé¢å¸ƒå±€å’Œæ ·å¼å˜åŒ– Bootstrap å¸ƒå±€å®¹å™¨ containerï¼šä¸¤è¾¹ç•™ç™½ å“åº”å¼å¸ƒå±€çš„å®¹å™¨ å›ºå®šå®½åº¦ å¤§å± ( >=1200px) å®½åº¦å®šä¸º 1170px ä¸­å± ( >=992px) å®½åº¦å®šä¸º 970px å°å± ( >=768px) å®½åº¦å®šä¸º 750px è¶…å°å± (100%) container-fluid ç™¾åˆ†ç™¾å®½åº¦ å æ®å…¨éƒ¨è§†å£ï¼ˆviewportï¼‰çš„å®¹å™¨ æ …æ ¼ç³»ç»Ÿ æŒ‰ç…§ä¸åŒå±å¹•åˆ’åˆ†ä¸º1~12 ç­‰ä»½ è¡Œï¼ˆrowï¼‰ å¯ä»¥å»é™¤çˆ¶å®¹å™¨ä½œç”¨15pxçš„è¾¹è· xs-extra smallï¼šè¶…å°ï¼› sm-smallï¼šå°ï¼› md-mediumï¼šä¸­ç­‰ï¼› lg-largeï¼šå¤§ï¼› åˆ—ï¼ˆcolumnï¼‰å¤§äº 12ï¼Œå¤šä½™çš„\"åˆ—ï¼ˆcolumnï¼‰\"æ‰€åœ¨çš„å…ƒç´ å°†è¢«ä½œä¸ºä¸€ä¸ªæ•´ä½“å¦èµ·ä¸€è¡Œæ’åˆ— æ¯ä¸€åˆ—é»˜è®¤æœ‰å·¦å³15åƒç´ çš„ padding å¯ä»¥åŒæ—¶ä¸ºä¸€åˆ—æŒ‡å®šå¤šä¸ªè®¾å¤‡çš„ç±»åï¼Œä»¥ä¾¿åˆ’åˆ†ä¸åŒä»½æ•° ä¾‹å¦‚ class=\"col-md-4 col-sm-6\" æ …æ ¼åµŒå¥— å°åˆ— å°åˆ— åˆ—åç§» 1 2 åˆ—æ’åº å·¦ä¾§ å³ä¾§ å“åº”å¼å·¥å…· ä½¿ç”¨è¿™äº›å·¥å…·ç±»å¯ä»¥æ–¹ä¾¿çš„é’ˆå¯¹ä¸åŒè®¾å¤‡å±•ç¤ºæˆ–éšè—é¡µé¢å†…å®¹ visible-* å¯è¾¾åˆ°ç›¸åçš„æ•ˆæœ æ–‡æ¡£ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"DSL/xml.html":{"url":"DSL/xml.html","title":"xml","keywords":"","body":"xml ä¸ html xmlæ ‡ç­¾éƒ½æ˜¯è‡ªå®šä¹‰çš„ï¼Œhtmlæ ‡ç­¾æ˜¯é¢„å®šä¹‰ã€‚ xmlçš„è¯­æ³•ä¸¥æ ¼ï¼Œhtmlè¯­æ³•æ¾æ•£ xmlæ˜¯å­˜å‚¨æ•°æ®çš„ï¼Œhtmlæ˜¯å±•ç¤ºæ•°æ® åŸºæœ¬è¯­æ³• xmlæ–‡æ¡£çš„åç¼€å .xml xmlç¬¬ä¸€è¡Œå¿…é¡»å®šä¹‰ä¸ºæ–‡æ¡£å£°æ˜ xmlæ–‡æ¡£ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ å±æ€§å€¼å¿…é¡»ä½¿ç”¨å¼•å·(å•åŒéƒ½å¯)å¼•èµ·æ¥ æ ‡ç­¾å¿…é¡»æ­£ç¡®å…³é—­ xmlæ ‡ç­¾åç§°åŒºåˆ†å¤§å°å†™ ç»„æˆéƒ¨åˆ† æ–‡æ¡£å£°æ˜ æ ¼å¼ï¼š å±æ€§åˆ—è¡¨ï¼š versionï¼šç‰ˆæœ¬å·ï¼Œå¿…é¡»çš„å±æ€§ encodingï¼šç¼–ç æ–¹å¼ã€‚å‘ŠçŸ¥è§£æå¼•æ“å½“å‰æ–‡æ¡£ä½¿ç”¨çš„å­—ç¬¦é›†ï¼Œé»˜è®¤å€¼ï¼šISO-8859-1 standaloneï¼šæ˜¯å¦ç‹¬ç«‹ å–å€¼ï¼š yesï¼šä¸ä¾èµ–å…¶ä»–æ–‡ä»¶ noï¼šä¾èµ–å…¶ä»–æ–‡ä»¶ æ ‡ç­¾ è§„åˆ™ï¼š åç§°å¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—ä»¥åŠå…¶ä»–çš„å­—ç¬¦ åç§°ä¸èƒ½ä»¥æ•°å­—æˆ–è€…æ ‡ç‚¹ç¬¦å·å¼€å§‹ åç§°ä¸èƒ½ä»¥å­—æ¯ xmlï¼ˆæˆ–è€… XMLã€Xml ç­‰ç­‰ï¼‰å¼€å§‹ åç§°ä¸èƒ½åŒ…å«ç©ºæ ¼ å±æ€§å±æ€§ idå±æ€§å€¼å”¯ä¸€ æ–‡æœ¬ï¼š CDATAåŒºï¼šåœ¨è¯¥åŒºåŸŸä¸­çš„æ•°æ®ä¼šè¢«åŸæ ·å±•ç¤º æ ¼å¼ï¼š çº¦æŸ DTD å†…éƒ¨dtdï¼šå°†çº¦æŸè§„åˆ™å®šä¹‰åœ¨xmlæ–‡æ¡£ä¸­ å¤–éƒ¨dtdï¼šå°†çº¦æŸçš„è§„åˆ™å®šä¹‰åœ¨å¤–éƒ¨çš„dtdæ–‡ä»¶ä¸­ æœ¬åœ°ï¼š ç½‘ç»œï¼š Schema è§£æ DOMï¼šå°†æ ‡è®°è¯­è¨€æ–‡æ¡£ä¸€æ¬¡æ€§åŠ è½½è¿›å†…å­˜ï¼Œåœ¨å†…å­˜ä¸­å½¢æˆä¸€é¢—domæ ‘ ä¼˜ç‚¹ï¼šæ“ä½œæ–¹ä¾¿ï¼Œå¯ä»¥å¯¹æ–‡æ¡£è¿›è¡ŒCRUDçš„æ‰€æœ‰æ“ä½œ ç¼ºç‚¹ï¼šå å†…å­˜ SAXï¼šé€è¡Œè¯»å–ï¼ŒåŸºäºäº‹ä»¶é©±åŠ¨çš„ã€‚ ä¼˜ç‚¹ï¼šä¸å å†…å­˜ã€‚ ç¼ºç‚¹ï¼šåªèƒ½è¯»å–ï¼Œä¸èƒ½å¢åˆ æ”¹ jsuop Jsoupï¼šå·¥å…·ç±»ï¼Œå¯ä»¥è§£æhtmlæˆ–xmlæ–‡æ¡£ï¼Œè¿”å›Document parse Documentï¼šæ–‡æ¡£å¯¹è±¡ã€‚ä»£è¡¨å†…å­˜ä¸­çš„domæ ‘ getElementByXX Elementï¼šå…ƒç´ å¯¹è±¡ getElementByXX Nodeï¼šèŠ‚ç‚¹å¯¹è±¡ å¿«æ·æŸ¥è¯¢ selector XPath MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"DSL/GraphQL.html":{"url":"DSL/GraphQL.html","title":"GraphQL","keywords":"","body":" GraphQL æ˜¯ç”± Facebook åˆ›é€ çš„ç”¨äºæè¿°å¤æ‚æ•°æ®æ¨¡å‹çš„ä¸€ç§æŸ¥è¯¢è¯­è¨€ã€‚è¿™é‡ŒæŸ¥è¯¢è¯­è¨€æ‰€æŒ‡çš„å¹¶ä¸æ˜¯å¸¸è§„æ„ä¹‰ä¸Šçš„ç±»ä¼¼ sql è¯­å¥çš„æŸ¥è¯¢è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ç”¨äºå‰åç«¯æ•°æ®æŸ¥è¯¢æ–¹å¼çš„è§„èŒƒ Restfulçš„ä¸è¶³ æ‰©å±•æ€§ï¼Œå•ä¸ªRESTfulæ¥å£è¿”å›æ•°æ®è¶Šæ¥è¶Šè‡ƒè‚¿ æŸä¸ªå‰ç«¯å±•ç°ï¼Œå®é™…éœ€è¦è°ƒç”¨å¤šä¸ªç‹¬ç«‹çš„RESTful APIæ‰èƒ½è·å–åˆ°è¶³å¤Ÿçš„æ•°æ® GraphQLçš„ä¼˜åŠ¿ æŒ‰éœ€ç´¢å–æ•°æ® ä¸€æ¬¡æŸ¥è¯¢å¤šä¸ªæ•°æ® APIæ¼”è¿›æ— éœ€åˆ’åˆ†ç‰ˆæœ¬ æŸ¥è¯¢è§„èŒƒ å­—æ®µ åœ¨GraphQLçš„æŸ¥è¯¢ä¸­ï¼Œè¯·æ±‚ç»“æ„ä¸­åŒ…å«äº†æ‰€é¢„æœŸç»“æœçš„ç»“æ„ï¼Œè¿™ä¸ªå°±æ˜¯å­—æ®µã€‚å¹¶ä¸”å“åº”çš„ç»“æ„å’Œè¯·æ±‚ç»“æ„åŸºæœ¬ä¸€è‡´ { hero { name } } { \"data\": { \"hero\": { \"name\": \"R2-D2\" } } } å‚æ•° è¯­æ³•ï¼š(å‚æ•°å:å‚æ•°å€¼) { human(id: \"1000\") { name height } } { \"data\": { \"human\": { \"name\": \"Luke Skywalker\", \"height\": 1.72 } } } åˆ«å å¦‚æœä¸€æ¬¡æŸ¥è¯¢å¤šä¸ªç›¸åŒå¯¹è±¡ï¼Œä½†æ˜¯å€¼ä¸åŒï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦èµ·åˆ«åäº†ï¼Œå¦åˆ™jsonçš„è¯­æ³•å°±ä¸èƒ½é€šè¿‡äº† { empireHero: hero(episode: EMPIRE) { name } jediHero: hero(episode: JEDI) { name } } { \"data\": { \"empireHero\": { \"name\": \"Luke Skywalker\" }, \"jediHero\": { \"name\": \"R2-D2\" } } } ç‰‡æ®µ æŸ¥è¯¢å¯¹çš„å±ç›¸å¦‚æœç›¸åŒï¼Œå¯ä»¥é‡‡ç”¨ç‰‡æ®µçš„æ–¹å¼è¿›è¡Œç®€åŒ–å®šä¹‰ { leftComparison: hero(episode: EMPIRE) { ...comparisonFields } rightComparison: hero(episode: JEDI) { ...comparisonFields } } fragment comparisonFields on Character { name appearsIn friends { name } } { \"data\": { \"leftComparison\": { \"name\": \"Luke Skywalker\", \"appearsIn\": [ \"NEWHOPE\", \"EMPIRE\", \"JEDI\" ], \"friends\": [ { \"name\": \"Han Solo\" }, { \"name\": \"Leia Organa\" }, { \"name\": \"C-3PO\" }, { \"name\": \"R2-D2\" } ] }, \"rightComparison\": { \"name\": \"R2-D2\", \"appearsIn\": [ \"NEWHOPE\", \"EMPIRE\", \"JEDI\" ], \"friends\": [ { \"name\": \"Luke Skywalker\" }, { \"name\": \"Han Solo\" }, { \"name\": \"Leia Organa\" } ] } } } Schema Schema æ˜¯ç”¨äºå®šä¹‰æ•°æ®ç»“æ„çš„ï¼Œæ¯”å¦‚è¯´ï¼ŒUserå¯¹è±¡ä¸­æœ‰å“ªäº›å±æ€§ï¼Œå¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ç­‰ schema { #å®šä¹‰æŸ¥è¯¢ query: UserQuery } type UserQuery { #å®šä¹‰æŸ¥è¯¢çš„ç±»å‹ user(id:ID) : User #æŒ‡å®šå¯¹è±¡ä»¥åŠå‚æ•°ç±»å‹ } type User {#å®šä¹‰å¯¹è±¡ id:ID! # !è¡¨ç¤ºè¯¥å±æ€§æ˜¯éç©ºé¡¹ name:String age:Int } ç±»å‹è§„èŒƒ æ ‡é‡ç±»å‹ Int ï¼šæœ‰ç¬¦å· 32 ä½æ•´æ•°ã€‚ Float ï¼šæœ‰ç¬¦å·åŒç²¾åº¦æµ®ç‚¹å€¼ã€‚ String ï¼šUTFâ€8 å­—ç¬¦åºåˆ—ã€‚ Boolean ï¼š true æˆ–è€… false ã€‚ ID ï¼š ID æ ‡é‡ç±»å‹è¡¨ç¤ºä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œé€šå¸¸ç”¨ä»¥é‡æ–°è·å–å¯¹è±¡æˆ–è€…ä½œä¸ºç¼“å­˜ä¸­çš„é”®ã€‚ æšä¸¾ç±»å‹ æšä¸¾ç±»å‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‡é‡ï¼Œå®ƒé™åˆ¶åœ¨ä¸€ä¸ªç‰¹æ®Šçš„å¯é€‰å€¼é›†åˆå†… enum Episode { # å®šä¹‰æšä¸¾ NEWHOPE EMPIRE JEDI } type Character { # ä½¿ç”¨æšä¸¾ name: String! appearsIn: [Episode]! } æ¥å£ è·Ÿè®¸å¤šç±»å‹ç³»ç»Ÿä¸€æ ·ï¼ŒGraphQL æ”¯æŒæ¥å£ã€‚ä¸€ä¸ªæ¥å£æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»å‹ï¼Œå®ƒåŒ…å«æŸäº›å­—æ®µï¼Œè€Œå¯¹è±¡ç±»å‹å¿…é¡»åŒ…å«è¿™äº›å­—æ®µï¼Œæ‰èƒ½ç®—å®ç°äº†è¿™ä¸ªæ¥å£ interface Character { id: ID! name: String! friends: [Character] appearsIn: [Episode]! } type Human implements Character { id: ID! name: String! friends: [Character] appearsIn: [Episode]! starships: [Starship] totalCredits: Int } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"DSL/SQL.html":{"url":"DSL/SQL.html","title":"SQL","keywords":"","body":"SQL SQLæŸ¥è¯¢è¯­è¨€æ¦‚è§ˆ æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰ æ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼‰ å®Œæ•´æ€§ è§†å›¾å®šä¹‰ äº‹åŠ¡æ§åˆ¶ åµŒå…¥å¼SQLå’ŒåŠ¨æ€SQL æˆæƒ SQLæ•°æ®å®šä¹‰ åŸºæœ¬ç±»å‹ char(n):å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼ˆä¼šè¿½åŠ ç©ºæ ¼ï¼‰ varchar(n):å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸² intï¼šæ•´æ•°ç±»å‹ smallintï¼šå°æ•´æ•°ç±»å‹ï¼ˆå’Œæœºå™¨ç›¸å…³ï¼‰ numeric(p,d):å®šç‚¹æ•°ï¼Œpä½æ•°ï¼Œdä½å°æ•° realï¼Œdoubleï¼Œprecisionï¼šæµ®ç‚¹æ•°ä¸åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œç²¾åº¦ä¸æœºå™¨ç›¸å…³ float(n)ï¼šç²¾åº¦è‡³å°‘ä¸ºnä½çš„æµ®ç‚¹æ•° è¡¨å®šä¹‰ create table å‘½ä»¤çš„é€šç”¨å½¢å¼ CREATE TABLE r ( A1 D1, A2 D2, AN DN, , ); ç¤ºä¾‹ï¼š CREATE TABLE department( dept_name VARCHAR(20) NOT NULL, building VARCHAR(15), -- å¦‚æœä¸æŒ‡å®š é»˜è®¤ä¸ºNULL budget NUMERIC(12,2) DEFAULT 999, -- æŒ‡å®šé»˜è®¤å€¼ PRIMARY KEY(dept_name) ); è¡¨æ›´æ–° DBMSå¯¹è¡¨æ›´æ–°çš„çº¦æŸæ—¢å¤æ‚åˆä¸ç»Ÿä¸€ ALTER TABLE vendors ADD vend_phone CHAR(20); -- å¢åŠ å­—æ®µ ALTER TABLE vendors DROP COLUMN vend_phone; -- åˆ é™¤å­—æ®µ SQLiteä¸æ”¯æŒä½¿ç”¨ALTER TABLE è¯­å¥å®šä¹‰ä¸»é”®è·Ÿå¤–é”®ã€‚åœ¨ä½¿ç”¨ALTER TABLEè¯­å¥åº”æä¸ºå°å¿ƒï¼Œä½¿ç”¨å‰åº”å¯¹è¡¨è¿›è¡Œå¤‡ä»½ åˆ é™¤è¡¨ DROP TABLE cust_copy; é‡å‘½åè¡¨ RENAME/sp_rename/ALTER TABLE å®Œæ•´æ€§çº¦æŸ PRIMARY KEYï¼šå–å€¼å”¯ä¸€ FOREIGN KEY:å¤–é”®çº¦æŸ NOT NULL :éç©ºçº¦æŸ SQLæŸ¥è¯¢ SELECT prod_name FROM products; -- æŸ¥è¯¢å•åˆ— SELECT prod_name, prod_price FROM products; -- æŸ¥è¯¢å¤šåˆ— SELECT * FROM products; -- æ£€ç´¢æ‰€æœ‰åˆ— SELECT DISTINCT vend_id FROM products; -- ç»“æœå»é‡ï¼ˆDISTINCTä½œç”¨åœ¨æ•´è¡Œä¸Šï¼Œä¸é’ˆå¯¹æŸä¸ªå…·ä½“åˆ—ï¼‰ SQLå…³é”®å­—ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†å¯¹è±¡ååŒºåˆ†ï¼Œåœ¨ä¸åŒçš„DBMSè·Ÿæ“ä½œç³»ç»ŸåŒºåˆ†å¤§å°å†™å¯èƒ½ä¼šæœ‰ä¸åŒã€‚ *é€šé…ç¬¦é€šå¸¸ä¼šé™ä½æ£€ç´¢æ€§èƒ½ï¼Œä½†å¥½å¤„å°±æ˜¯èƒ½åŒ¹é…æœªçŸ¥åˆ—ã€‚ SELECTå­å¥è¿˜å¯è¿›è¡ŒåŠ å‡ä¹˜é™¤è¿ç®— WHEREå­å¥é€‰å‡ºæ»¡è¶³æ¡ä»¶çš„å…ƒç»„ åˆ†é¡µ ä¸åŒçš„æ•°æ®åº“åˆ†é¡µä¸å°½ç›¸åŒ SELECT TOP 5 * FROM products; -- SQL Server SELECT * FROM products FETCH FIRST 5 ROWS ONLY; -- DB2 SELECT * FROM products WHERE ROWNUM æ’åº SELECT * FROM products ORDER BY prod_name; -- å•åˆ—æ’åº SELECT * FROM products ORDER BY prod_price, prod_name; -- å¤šåˆ—æ’åº SELECT * FROM products ORDER BY 1,2; -- ä½¿ç”¨åˆ—çš„ç›¸å¯¹ä½ç½®æŒ‡å®šæ’åº ä½¿ç”¨è¿™ç§æ–¹å¼åªèƒ½é’ˆå¯¹å‡ºç°åœ¨SELECTä¸­çš„åˆ—è¿›è¡Œæ’åº SELECT * FROM products ORDER BY prod_price DESC; -- é™åºæ’åº é»˜è®¤ä¸ºASCå‡åºæ’åº SELECT * FROM products ORDER BY prod_price DESC, prod_name DESC; -- å¤šåˆ—é™åºæ’åºéœ€è¦æ¯åˆ—éƒ½æŒ‡å®šDESC ä½¿ç”¨ORDER BY å­å¥æ—¶ï¼Œåº”è¯¥ä¿è¯å…¶å®SELECT è¯­å¥çš„æœ€åä¸€æ¡å­å¥ã€‚ æ•°æ®è¿‡æ»¤ SELECT * FROM products WHERE prod_price=3.49; WHEREå­å¥æ“ä½œç¬¦ æ“ä½œç¬¦ è¯´æ˜ = or == ç­‰äº <> or != ä¸ç­‰äº å°äº å°äºç­‰äº ! ä¸å°äº > å¤§äº >= å¤§äºç­‰äº !> ä¸å¤§äº BETWEEN åœ¨ä¸¤ä¸ªå€¼ä¹‹é—´ IS NULL ä¸ºNULLå€¼ é«˜çº§æ•°æ®è¿‡æ»¤ SELECT * FROM products WHERE prod_price=3.49 OR prod_price = 5.99; -- é€»è¾‘OR SELECT * FROM products WHERE prod_price=3.49 AND prod_price SQLå¤„ç†ANDçš„ä¼˜å…ˆçº§æ¯”ORé«˜ï¼Œæ‰€ä»¥åŒæ—¶ä½¿ç”¨ORå’ŒANDæœ‰å¿…è¦ä½¿ç”¨æ‹¬å·æ¥æ˜ç¡®æ±‚å€¼é¡ºåºã€‚ é€šé…ç¬¦è¿‡æ»¤ LIKE å…³é”®å­—ï¼š %è¡¨ç¤ºåŒ¹é…ä»»ä½•å­—ç¬¦ï¼ˆåŒ…æ‹¬ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œä½†ä¸åŒ¹é…NULLï¼‰,åœ¨ACCESSä¸­ä½¿ç”¨* _è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼ŒDB2ä¸æ”¯æŒï¼ŒACCESSä½¿ç”¨? ç¤ºä¾‹ï¼š SELECT name FROM user WHERE name LIKE 'user%'; --æŸ¥æ‰¾ç”¨æˆ·åä»¥userå¼€å¤´çš„ç”¨æˆ· escape :ç”¨æ¥æ ‡å¿—é€ƒé€¸å­—ç¬¦ LIKE 'ab\\\\cd%' escape '\\' #åŒ¹é…æ‰€æœ‰ä»¥ab\\cdå¼€å¤´çš„å­—ç¬¦ä¸² SQL1999 ä¸­æä¾›äº†similar toæ“ä½œï¼Œè¯­æ³•ç±»ä¼¼äºæ­£åˆ™è¡¨è¾¾å¼ã€‚ è¿™äº›é€šé…ç¬¦åŒ¹é…åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šå½±å“æ€§èƒ½ï¼Œè¿™ç‚¹éœ€è¦æ³¨æ„ã€‚ è®¡ç®—å­—æ®µ -- å­—ç¬¦ä¸²è¿æ¥ SELECT vend_name + '(' + vend_country + ')' AS name FROM vendors; -- Access SqlServer SELECT vend_name || '(' || vend_country || ')' AS name FROM vendors; -- DB2 Oracle... SELECT CONCAT(vend_name,'(',vend_country,')') AS name FROM vendors; -- MySQL ä½¿ç”¨ASå…³é”®å­—è¢«è§†ä¸ºæœ€ä½³å®è·µã€‚åˆ«åä¹Ÿè¢«ç§°ä¸ºå¯¼å‡ºåˆ—ï¼ŒOracleä¸æ”¯æŒASå…³é”®å­— -- æ•°å€¼è®¡ç®— SELECT prod_id, quantity * item_price AS total FROM orderitems; SELECT 2 * 6; -- å½“çœç•¥å­å¥æ—¶ï¼Œå°±ä»£è¡¨è®¡ç®—è¿™ä¸ªè¡¨è¾¾å¼å¹¶å±•ç° å‡½æ•° æ–‡æœ¬å¤„ç†å‡½æ•° SELECT SOUNDEX(\"meet\"), SOUNDEX(\"meat\"); -- SOUNDEXå‡½æ•°å°†å­—æ¯æè¿°ä¸ºå­—æ¯æ•°å­—æ¨¡å¼ Accesså’ŒPostgreSQLä¸æ”¯æŒ å‡½æ•° ä½œç”¨ LEFT ( æˆ–ä½¿ç”¨å­å­—ç¬¦ä¸²å‡½æ•°) è¿”å›å­—ç¬¦ä¸²å·¦è¾¹çš„å­—ç¬¦ LENGTH (ä¹Ÿä½¿ç”¨DATALENGTHæˆ–LEN) ) è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ LOWER ( Accessä½¿ç”¨LCASE ) å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ LTRIM å»æ‰å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼ RICHT (æˆ–ä½¿ç”¨å­å­—ç¬¦ä¸²å‡½æ•°) è¿”å›å­—ç¬¦ä¸²å³è¾¹çš„å­—ç¬¦ RTRIM å»æ‰å­—ç¬¦ä¸²å³è¾¹çš„ç©ºæ ¼ UPPER ( Accessä½¿ç”¨UCASE ) å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ æ—¥æœŸå’Œæ—¶é—´å¤„ç†å‡½æ•° ä¸åŒDBMSå¾ˆä¸ä¸€è‡´ å¯ç§»æ¤æ€§æœ€å·® SELECT YEAR(NOW()); -- MySQL SELECT to_char(CURRENT_DATE,'YYYY') FROM dual; -- Oracle æ•°å€¼è®¡ç®—å‡½æ•° å‡½æ•° ä½œç”¨ ABS è¿”å›ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼ COS è¿”å›ä¸€ä¸ªè§’åº¦çš„ä½™å¼¦ EXP è¿”å›ä¸€ä¸ªæ•°çš„æŒ‡æ•°å€¼ PI è¿”å›åœ†å‘¨ç‡ SIN è¿”å›ä¸€ä¸ªè§’åº¦çš„æ­£å¼¦ SQRT è¿”å›ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹ TAN è¿”å›ä¸€ä¸ªè§’åº¦çš„æ­£åˆ‡ èšåˆæ•°æ® èšåˆå‡½æ•° SELECT AVG(prod_price) FROM products; -- æ±‚å¹³å‡å€¼ï¼ŒAVGå‡½æ•°å¿½ç•¥NULL SELECT COUNT(cust_email) FROM customers; -- å¯¹åˆ—è®¡ç®—ï¼Œå¿½ç•¥NULL SELECT COUNT(*) FROM customers; -- å¯¹åˆ—è®¡ç®—ï¼Œä¸å¿½ç•¥NULL SELECT MAX(prod_price) FROM products; -- æ±‚æœ€å¤§å€¼ å¿½ç•¥NULL SELECT MIN(prod_price) FROM products; -- æ±‚æœ€å°å€¼ å¿½ç•¥NULL SELECT SUM(item_price * quantity) FROM orderitems; -- æ±‚å’Œï¼Œå¿½ç•¥NULL SELECT SUM(DISTINCT item_price) FROM orderitems; -- åªå¯¹ä¸åŒçš„ç»“æœè¿›è¡Œæ±‚å’Œ åˆ†ç»„æŸ¥è¯¢ GROUP BY å­å¥ æ ¹æ®åé¢çš„åˆ—è¿›è¡Œåˆ†ç»„ SELECT TO_DAYS(create_time),COUNT(1) FROM web_log GROUP BY TO_DAYS(create_time) -- æŸ¥è¯¢æ¯å¤©çš„è®¿é—®æ¬¡æ•° GROUP BYå­å¥çš„ä¸€äº›è§„åˆ™ï¼š å¯ä»¥åŒ…å«ä»»æ„æ•°ç›®çš„åˆ— å­å¥çš„æ¯ä¸€åˆ—éƒ½å¿…é¡»æ˜¯æ£€ç´¢åˆ—æˆ–è€…æœ‰æ•ˆçš„è¡¨è¾¾å¼ï¼ˆä½†ä¸èƒ½ä½¿èšé›†å‡½æ•°ï¼‰ï¼Œé™¤äº†èšé›†å‡½æ•°ï¼ŒSELECT ä¸­çš„æ¯ä¸€åˆ—ï¼ŒGROUP BYå­å¥ä¸­éƒ½å¿…é¡»æœ‰ NULLä¼šè¢«åˆ†ä¸ºä¸€ç»„ GROUP BYå¿…é¡»åœ¨WHEREä¹‹å ORDER BYä¹‹å‰ HAVINGå­å¥ï¼š WHEREåœ¨åˆ†ç»„å‰è¿‡æ»¤ HAVINGåœ¨åˆ†ç»„åè¿‡æ»¤è¡Œï¼Œæ»¡è¶³HAVINGåçš„æ¡ä»¶çš„åˆ†ç»„æ‰ä¼šè¢«é€‰æ‹© SELECT TO_DAYS(create_time),COUNT(1) FROM web_log GROUP BY TO_DAYS(create_time) HAVING COUNT(1)>1000 -- æŸ¥è¯¢è®¿é—®æ¬¡æ•°1000çš„é‚£äº›å¤© å­æŸ¥è¯¢ MySQL4.1åæ‰æ”¯æŒå­æŸ¥è¯¢ SELECT username FROM user WHERE user_id IN (SELECT user FROM state); -- æŸ¥è¯¢å‘è¡¨è¿‡åŠ¨æ€çš„ç”¨æˆ· ä½œä¸ºå­æŸ¥è¯¢çš„SQLåªèƒ½æŸ¥è¯¢å•ä¸ªåˆ— SELECT cust_name, (SELECT COUNT(*) FROM orders WHERE orders.cust_id = customers.cust_id) FROM customers; -- å°†å­æŸ¥è¯¢ä½œä¸ºè®¡ç®—å­—æ®µ è”ç»“ è”ç»“æ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨æ¥åœ¨ä¸€æ¡SELECTè¯­å¥ä¸­å…³è”è¡¨ SELECT name,instructor.dept_name,building FROM instructor , department WHERE instructor.dept_name = department.dept_name; -- åœ¨è”ç»“ä¸­ï¼Œç‰¹åˆ«éœ€è¦æ³¨æ„åˆ—çš„å…¨é™å®šå ä¸Šé¢çš„è¿™ç§è”ç»“å«åšç­‰å€¼è”ç»“ï¼Œç­‰å€¼è”ç»“ç­‰åŒäºå†…è”ç»“ï¼š SELECT name,instructor.dept_name,building FROM instructor INNER JOIN department ON instructor.dept_name = department.dept_name; ç¬›å¡å°”ç§¯ï¼š è¡¨1ï¼š name age å°æ˜ 15 å°çº¢ 16 è¡¨2ï¼š grade school 5 ä¸­å¿ƒå°å­¦ 6 ä¸­å¿ƒå°å­¦ ä¸¤å¼ è¡¨çš„ç¬›å¡å°”ç§¯æ˜¯ï¼š name age grade school å°æ˜ 15 5 ä¸­å¿ƒå°å­¦ å°çº¢ 16 6 ä¸­å¿ƒå°å­¦ å°æ˜ 15 6 ä¸­å¿ƒå°å­¦ å°çº¢ 16 5 ä¸­å¿ƒå°å­¦ ç¬›å¡å°”ç§¯ä¹Ÿè¢«ç§°ä¸ºå‰è”ç»“(cross join) è”ç»“å¯ä»¥è·¨å¤šå¼ è¡¨ï¼š SELECT * FROM orderitems, products, vendors; ä½†è”ç»“è¡¨è¶Šå¤šï¼Œæ€§èƒ½ä¸‹é™è¶Šå‰å®³ï¼ŒåŸºäºæ­¤ï¼Œè®¸å¤šDBMSéƒ½å¯¹è”ç»“çš„è¡¨æ•°é‡åšäº†é™åˆ¶ï¼Œé˜¿é‡Œçš„p3cä¸­ä¹Ÿè§„å®šè”ç»“è¡¨çš„æ•°é‡ä¸å¾—è¶…è¿‡3å¼  è‡ªè¿æ¥ SELECT * FROM customers AS c1, customers AS c2 WHERE C1.cust_name = c2.cust_name AND c2.cust_contact = 'Jim Jones'; -- æŸ¥å‡ºä¸Jim JonesåŒå…¬å¸çš„é¡¾å®¢ è®¸å¤šDBMSå¤„ç†è‡ªè”ç»“å¾€å¾€æ¯”å­æŸ¥è¯¢å¿«å¾—å¤š è‡ªç„¶è¿æ¥ SELECT name,instructor.dept_name,building FROM instructor , department WHERE instructor.dept_name = department.dept_name ä¸Šé¢é‚£æ¡SQLå¯ä»¥ç®€åŒ–æˆä¸‹åˆ—å½¢å¼ï¼š SELECT name,instructor.dept_name,building FROM instructor NATURAL JOIN department å¤–è¿æ¥ å·¦å¤–è¿æ¥ï¼šåªä¿ç•™å‡ºç°åœ¨å·¦å¤–è¿æ¥å·¦è¾¹çš„å…³ç³»ä¸­çš„å…ƒç»„ï¼ˆå¦‚æœæ²¡æœ‰ç¬¦åˆè¿æ¥æ¡ä»¶çš„å…ƒç»„ï¼Œå·¦è¡¨çš„å…ƒç»„è¿˜æ˜¯ä¼šè¢«å±•ç¤ºå‡ºæ¥ï¼‰ å³å¤–è¿æ¥ï¼šåªä¿ç•™å‡ºç°åœ¨å³å¤–è¿æ¥è¿ç®—å³è¾¹å…³ç³»ä¸­çš„å…ƒç»„ å…¨å¤–è¿æ¥ï¼šä¿ç•™å‡ºç°åœ¨ä¸¤ä¸ªå…³ç³»ä¸­çš„å…ƒç»„ å·¦å¤–è¿æ¥ï¼š select * from user left outer join state on user.user_id = state.user; -- æŠŠuserå’Œstateè¿›è¡Œè¿æ¥ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰å‘è¡¨stateï¼Œåˆ™ä»ä¿ç•™ç”¨æˆ·ï¼Œåªæ˜¯stateç›¸å…³åˆ—ä¸ºNULL å³å¤–è¿æ¥å¦‚ä¸Šå–å å…¨å¤–è¿æ¥å¯ä»¥åŒ…å«ä¸¤ä¸ªè¡¨ä¸­ä¸å…³è”çš„è¡Œï¼Œè®¸å¤šDBMSä¸æ”¯æŒ natural joinç­‰ä»·äºnatural inner join é›†åˆè¿ç®— å¹¶è¿ç®— SELECT name FROM student WHERE age = 15 UNION SELECT name FROM student WHERE age = 16 æ¯ä¸ªUNION SELECTè¯­å¥çš„åˆ—éƒ½å¿…é¡»ç›¸åŒï¼Œç±»å‹å¿…é¡»å…¼å®¹ UNIONä¼šè‡ªåŠ¨å»é™¤é‡å¤è¡Œï¼Œå¦‚æœéœ€è¦ä¿ç•™é‡å¤è¡Œï¼Œåˆ™ä½¿ç”¨UNION ALL å¦‚æœUNIONè¯­å¥éœ€è¦æ’åºï¼Œåˆ™åœ¨æœ€åä¸€æ¡SELECTè¯­å¥åŠ ä¸ŠORDER BYå­å¥ï¼ŒORDER BYä½œç”¨äºæ‰€æœ‰UNIONè¯­å¥ äº¤è¿ç®— INTERSECTå…³é”®å­— ç”¨æ³•åŒä¸Š å·®è¿ç®— EXCEPT å…³é”®å­— åŒä¸Š ç©ºå€¼ IS NULL åˆ¤æ–­æ˜¯ç©ºå€¼ IS NOT NULL åˆ¤æ–­éç©º é›†åˆæ¯”è¾ƒ some:æŸä¸€äº›æ»¡è¶³å³å¯ allï¼šå…¨éƒ¨æ»¡è¶³ SELECT username FROM user WHERE age > all (SELECT age FROM user WHERE sex = 'å¥³') # æŸ¥è¯¢å‡ºå¹´é¾„å¤§äºå…¨éƒ¨å¥³æ€§å¹´é¾„çš„ç”¨æˆ· ç©ºå…³ç³»æµ‹è¯• EXIST å…³é”®å­—ï¼š å½“æ”¹å…³é”®å­—åé¢çš„å…³ç³»éç©ºæ—¶è¿”å›trueï¼Œåä¹‹è¿”å›false ç›¸å…³å­æŸ¥è¯¢ï¼š SELECT user_id FROM user WHERE EXISTS (SELECT * FROM state WHERE user = user_id); # æŸ¥è¯¢å‘è¡¨è¿‡åŠ¨æ€çš„ç”¨æˆ·ID é‡å¤å…ƒç»„å­˜åœ¨æ€§æµ‹è¯• UNIQUE å…³é”®å­—ï¼š æŸ¥è¯¢æ˜¯å¦å­˜åœ¨é‡å¤çš„å…ƒç»„ FROMå­å¥ä¸­çš„å­æŸ¥è¯¢ SELECT * FROM (SELECT username FROM user) AS T; # ä½¿ç”¨FROMå­å¥å­æŸ¥è¯¢ï¼Œæœ‰äº›æ•°æ®åº“è¦æ±‚FROMåé¢çš„å­æŸ¥è¯¢éœ€è¦æŒ‡å®šä¸€ä¸ªåˆ«å WITHå­å¥ æä¾›å®šä¹‰ä¸´æ—¶å…³ç³»çš„æ–¹æ³• æ ‡é‡å­æŸ¥è¯¢ å¦‚æœä¸€ä¸ªå­æŸ¥è¯¢çš„ç»“æœåªæœ‰ä¸€ä¸ªå…ƒç»„ï¼Œé‚£ä¹ˆå¯ä»¥æ”¾åœ¨å•ä¸ªå€¼èƒ½å‡ºç°çš„ä»»ä½•åœ°æ–¹ï¼š SELECT username,(SELECT COUNT(1) FROM state WHERE state.user = user.user_id) FROM user; -- æŸ¥è¯¢æ¯ä¸ªç”¨æˆ·çš„ç”¨æˆ·ååŠå…¶å‘è¡¨çš„åŠ¨æ€æ¡æ•° æ•°æ®åº“çš„ä¿®æ”¹ åˆ é™¤ DELETE FROM r WHERE p ç¤ºä¾‹: DELETE FROM user WHERE username = 'root' # åˆ é™¤ç”¨æˆ·åä¸ºrootçš„ç”¨æˆ· æ’å…¥ INSERT INTO user VALUES(1,'username',15);-- è¿™ç§æ–¹å¼éœ€è¦æŒ‡å®šå…¨éƒ¨åˆ—ï¼Œæ¯æ¬¡æ’å…¥æ•°æ®ï¼Œåº”å°½å¯èƒ½æä¾›æ‰€æœ‰åˆ—å INSERT INTO user(username,age) VALUES('username',15);-- è¿™ç§æ–¹å¼ä¸éœ€è¦æŒ‡å®šå…¨éƒ¨åˆ—ï¼Œå…è®¸ä¸ºNULLå€¼æˆ–è€…è¡¨å®šä¹‰æœ‰é»˜è®¤å€¼çš„åˆ—å¯ä»¥è¢«çœç•¥ INSERT INTO user SELECT * FROM user;-- æ’å…¥æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®ï¼Œæ ¹æ®åˆ—çš„ä½ç½®è¿›è¡Œæ’å…¥ï¼Œåˆ—åå¯ä»¥ä¸åŒ¹é… -- æŸäº›SQLå®ç°INTOæ˜¯å¯é€‰çš„ SELECT * INTO cust_copy FROM customers; -- å¤åˆ¶æ•°æ®åˆ°æ–°è¡¨ CREATE TABLE cust_copy AS SELECT * FROM customers; -- MySQL Oracle PostgreSQLçš„è¯­æ³• æ›´æ–° UPDATE r SET k1=v1,k2=v2,...,kn=vn WHERE p UPDATE user SET username = 'abc' WHERE username = 'root' è§†å›¾ å®šä¹‰ï¼šä¸æ˜¯é€»è¾‘æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯ä½œä¸ºè™šå…³ç³»å¯¹ç”¨æˆ·å¯è§ Access ä¸æ”¯æŒè§†å›¾ MySQLä»5ä¹‹åæ‰æ”¯æŒè§†å›¾ SQLiteåªæ”¯æŒåªè¯»è§†å›¾ è§†å›¾å®šä¹‰ CREATE VIEW v AS åˆ›å»ºä¸€ä¸ªéƒ¨åˆ†ç”¨æˆ·è§†å›¾ï¼š CREATE VIEW user_part AS SELECT * FROM user LIMIT 10 å¦‚æœè§†å›¾ä½¿ç”¨äº†å¤æ‚çš„è”ç»“æˆ–è€…å¯¹è§†å›¾è¿›è¡Œäº†åµŒå¥—ï¼Œæ€§èƒ½ä¼šä¸‹é™çš„å¾ˆå‰å®³,åŒæ—¶è§†å›¾ä¹Ÿä¸æ”¯æŒåˆ›å»ºç´¢å¼• SQLæŸ¥è¯¢ä¸­ä½¿ç”¨è§†å›¾ å†æŸ¥è¯¢ä¸­ï¼Œè§†å›¾èƒ½å‡ºç°åœ¨å…³ç³»åå¯ä»¥å‡ºç°çš„ä»»ä½•åœ°æ–¹ SELECT * FROM user_part å¯¹äºè§†å›¾çš„ä½¿ç”¨ï¼š ä½¿ç”¨è§†å›¾éšè—å¤æ‚çš„è”ç»“ ä½¿ç”¨è§†å›¾æ ¼å¼åŒ–æŸ¥è¯¢çš„æ•°æ® è¿‡æ»¤æ‰ä¸æƒ³è¦çš„æ•°æ® å¯ä»¥æå¤§ç®€åŒ–å¤æ‚æ•°æ®çš„å¤„ç† ç‰©åŒ–è§†å›¾ å¦‚æœç”¨äºå®šä¹‰è§†å›¾çš„å®é™…å…³ç³»æ”¹å˜ï¼Œè§†å›¾ä¹Ÿè·Ÿç€ä¿®æ”¹ã€‚è¿™æ ·çš„è§†å›¾ç§°ä¸ºç‰©åŒ–è§†å›¾ è§†å›¾æ›´æ–° ä¸€èˆ¬æ¥è¯´ï¼Œæ»¡è¶³ä¸‹åˆ—æ‰€æœ‰æ¡ä»¶ï¼Œåˆ™è§†å›¾æ˜¯å¯æ›´æ–°çš„ FROMå­å¥ä¸­åªæœ‰ä¸€ä¸ªæ•°æ®åº“å…³ç³» SELECTå­å¥åªåŒ…å«å…³ç³»çš„å±æ€§åï¼Œä¸åŒ…å«ä»»ä½•è¡¨è¾¾å¼èšé›†æˆ–DISTINCTå£°æ˜ æ²¡æœ‰å‡ºç°åœ¨SELECTå­å¥ä¸­çš„å±æ€§å¯ä»¥å»ç©ºå€¼ï¼Œä¹Ÿä¸æ˜¯ä¸»ç çš„ä¸€éƒ¨åˆ† æŸ¥è¯¢ä¸­æ²¡æœ‰GROUP BY å’ŒHAVINGå­å¥ äº‹åŠ¡ å®šä¹‰ï¼šäº‹åŠ¡å†…çš„æ‰€æœ‰è¯­å¥è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œ Commit work:æäº¤å½“å‰äº‹åŠ¡ Rollback workï¼šå›æ»šå½“å‰äº‹åŠ¡ MySQLï¼š START TRANSACTION; -- å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ DELETE FROM orderitems; -- æ‰§è¡Œäº‹åŠ¡æ“ä½œ ROLLBACK; -- å›æ»šäº‹åŠ¡ COMMIT; -- æäº¤äº‹åŠ¡ Oracle: SET TRANSACTION; ... COMMIT; å¯¹äºæ²¡æœ‰æ˜ç¡®æ ‡å¿—äº‹åŠ¡ç»“æŸçš„è¯­å¥ï¼Œäº‹åŠ¡å°†ä¸€ç›´å­˜åœ¨ã€‚ é»˜è®¤æ²¡æœ‰å¼€å¯çš„äº‹åŠ¡çš„æ‰§è¡Œè¯­å¥éƒ½æ˜¯éšå¼æäº¤ ä¸ºäº†å®ç°éƒ¨åˆ†å›æ»šçš„åŠŸèƒ½ï¼Œè¿™é‡Œå¼•å…¥ä¸€ä¸ªå«åšä¿å­˜ç‚¹çš„ä¸œè¥¿ï¼Œå›æ»šå¯ä»¥å›æ»šåˆ°ä¿å­˜ç‚¹ï¼Œæ”¾å¼ƒå›æ»šç‚¹åçš„æ‰€æœ‰æ›´æ”¹ START TRANSACTION; SAVEPOINT p1; DELETE FROM orderitems; ROLLBACK TO p1; COMMIT; æ¸¸æ ‡ åœ¨æ£€ç´¢å‡ºæ¥çš„è¡Œä¸­å‰è¿›æˆ–è€…åé€€ã€‚ Accessä¸æ”¯æŒ MySQL5ä¹‹åæ‰æ”¯æŒ SQLiteçš„æ¸¸æ ‡ç§°ä¸ºæ­¥éª¤ã€‚ ç›¸è¾ƒè€Œè¨€ï¼Œæ¸¸æ ‡å¯¹å¯¹äºWebåº”ç”¨ç”¨å¤„ä¸å¤§ å®Œæ•´æ€§çº¦æŸ å®Œæ•´æ€§çº¦æŸé˜²æ­¢çš„æ˜¯å¯¹æ•°æ®çš„æ„å¤–ç ´åã€‚ å•ä¸ªå…³ç³»ä¸Šçš„çº¦æŸ NOT NULLçº¦æŸ CREATE TABLE `user` ( `user_id` int(11) NOT NULL AUTO_INCREMENT, `username` varchar(20) NOT NULL, `password` varchar(32) NOT NULL, `user_info` int(11) NOT NULL, `permission` int(11) NOT NULL, `create_time` datetime NOT NULL, `update_time` datetime NOT NULL, `last_login` datetime DEFAULT NULL, PRIMARY KEY (`user_id`), UNIQUE KEY `username` (`username`) ) ENGINE=InnoDB AUTO_INCREMENT=293 DEFAULT CHARSET=utf8 è¡¨ç¤ºç¦æ­¢åœ¨è¯¥å±æ€§ä¸Šæ’å…¥NULLå€¼ UNIQUE çº¦æŸ è¢«è¯¥çº¦æŸä¿®é¥°çš„å±æ€§åœ¨å•ä¸ªå…³ç³»ä¸Šæ˜¯å”¯ä¸€çš„ï¼Œç”±äºNULL != NULL ï¼Œæ‰€ä»¥ä¸€ä¸ªå…³ç³»ä¸Šå…è®¸å­˜åœ¨å¤šä¸ªNULLå€¼ CHECK å­å¥ check(p) æŒ‡å®šä¸€ä¸ªè°“è¯Pï¼Œåªæœ‰å½“è¯¥è°“è¯æ»¡è¶³æ—¶ï¼Œæ•°æ®åº“æ‰å…è®¸æ’å…¥ å‚ç…§å®Œæ•´æ€§ ä¸€ä¸ªå…³ç³»ä¸­ç»™å®šå±æ€§é›†ä¸Šçš„å–å€¼åœ¨å¦ä¸€å…³ç³»çš„ç‰¹å®šå±æ€§é›†çš„å–å€¼ä¸­å‡ºç°ï¼Œè¿™ç§æƒ…å†µç§°ä¸ºå‚ç…§å®Œæ•´æ€§ CREATE TABLE test( user_id INT, FOREIGN KEY (user_id) REFERENCES user(user_id) ); testè¡¨ä¸­çš„user_idå‚ç…§userè¡¨çš„user_id äº‹åŠ¡ä¸­å¯¹å®Œæ•´æ€§çº¦æŸçš„è¿å å¦‚æœäº‹åŠ¡ä¸­çš„æŸæ¡SQLè¯­å¥è¿åäº†å®Œæ•´æ€§çº¦æŸï¼Œåˆ™ä¼šé©¬ä¸Šè¿›è¡Œæ£€æŸ¥ã€‚æœ‰äº›DBSæ”¯æŒå°†initially deferredåŠ å…¥åˆ°çº¦æŸä¸­ï¼Œè¿™æ ·å®Œæ•´æ€§çº¦æŸæ£€æŸ¥å°±ä¼šåœ¨äº‹åŠ¡ç»“æŸçš„æ—¶å€™è¿›è¡Œã€‚ å¤æ‚CHECKæ¡ä»¶ä¸æ–­è¨€ æ¯”å¦‚CHECKåé¢çš„è°“è¯å¯ä»¥ä½¿ç”¨å­æŸ¥è¯¢ï¼š CREATE TABLE test( user_id INT CHECK(user_id IN( SELECT user.user_id FROM user)) ) è¿™æ ·åœ¨æ’å…¥testè¡¨æ—¶ï¼Œåªæœ‰åœ¨userè¡¨ä¸­å‡ºç°çš„user_idæ‰è¢«å…è®¸æ’å…¥ï¼Œä½†æ˜¯å¤§å¤šæ•°æ•°æ®åº“è¿˜ä¸æ”¯æŒ æ–­è¨€ï¼š CREATE ASSERTION CHECK ä»»ä½•åœ¨æ–­è¨€ä¸­æ¶‰åŠåˆ°çš„å…³ç³»å‘ç”Ÿå˜åŠ¨ï¼Œéƒ½ä¼šè§¦å‘æ–­è¨€ã€‚ SQLä¸­çš„æ•°æ®ç±»å‹ä¸æ¨¡å¼ SQLä¸­çš„æ—¥æœŸå’Œæ—¶é—´ç±»å‹ DATE:æ—¥å†æ—¥æœŸï¼ŒåŒ…æ‹¬å¹´æœˆæ—¥ TIME :ä¸€å¤©ä¸­çš„æ—¶é—´ TIMESTAMP ï¼šDATE+TIME ä¸æ—¶é—´ç›¸å…³çš„å‡½æ•°ï¼š CURRENT_DATEï¼šè¿”å›å½“å‰æ—¥æœŸ CURRENT_TIMEï¼šè¿”å›å½“å‰æ—¶é—´ é»˜è®¤å€¼ å¦‚ CREATE TABLE test( user_id INT DEFAULT 0 ); å½“user_idæœªæŒ‡å®šæ—¶ï¼Œé»˜è®¤ä¸º0 åˆ›å»ºç´¢å¼• CREATE INDEX index_1 ON test(id) å¤§å¯¹è±¡ç±»å‹ BLOB CLOB ç”¨æˆ·å®šä¹‰çš„ç±»å‹ CREATE TABLE çš„æ‰©å±• åˆ›å»ºä¸¤ä¸ªæ¨¡å¼ç›¸åŒçš„è¡¨ï¼š CREATE TABLE test1 LIKE test ä»æŸ¥è¯¢ä¸­åˆ›å»ºè¡¨ï¼š CREATE TABLE test2 AS ( SELECT * FROM test ) WITH DATA; # mysqlä¸æ”¯æŒ æ¨¡å¼ã€ç›®å½•ä¸ç¯å¢ƒ å½“ä»£æ•°æ®åº“æä¾›äº†ä¸‰å±‚ç»“æ„çš„å…³ç³»å‘½åæœºåˆ¶ï¼Œæœ€é¡¶å±‚ç”±ç›®å½•æ„æˆï¼Œæ¯ä¸ªç›®å½•å½“ä¸­å¯ä»¥åŒ…å«æ¨¡å¼ï¼Œç›®å½• == æ•°æ®åº“ã€‚ é»˜è®¤ç›®å½•å’Œæ¨¡å¼æ˜¯ä¸ºæ¯ä¸ªè¿æ¥å»ºç«‹çš„SQLç¯å¢ƒçš„ä¸€éƒ¨åˆ†ã€‚ æˆæƒ æˆæƒè¯»å– æˆæƒæ’å…¥ æˆæƒæ›´æ–° æˆæƒåˆ é™¤ æƒé™çš„æˆäºˆä¸æ”¶å› GRANT ON TO GRANT SELECT ON department TO user1 # æˆäºˆuser1æŸ¥è¯¢departmentè¡¨çš„æƒé™ public:ä»£è¡¨å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·ä»¥åŠæœªæ¥ç”¨æˆ· REVOKE ON FROM REVOKE SELECT ON department FROM user1 # æ”¶å›user1çš„æŸ¥è¯¢æƒé™ è§’è‰² åˆ›å»ºè§’è‰²ï¼š CREATE ROLE GRANT admin to user1; # å°†adminè§’è‰²æˆäºˆuser1 è§†å›¾çš„æˆæƒ åŒä¸Š æ¨¡å¼çš„æˆæƒ GRANT REFERENCES (dept_name) ON department TO user1 # å…è®¸user1åˆ›å»ºè¿™æ ·çš„å…³ç³»ï¼šå®ƒèƒ½å‚ç…§departmentçš„dept_name æƒé™çš„è½¬ç§» åœ¨æˆæƒè¯­å¥æœ€ååŠ ä¸Š WITH GRANT OPTION å³å…è®¸ç”¨æˆ·å¯å°†æƒé™æˆäºˆç»™å…¶ä»–ç”¨æˆ· æƒé™çš„æ”¶å› é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤šæ•°DBSéƒ½ä¼šçº§è”æ”¶å›ç”¨æˆ·çš„æƒé™ å¦‚æœåœ¨æ”¶å›è¯­å¥æœ€ååŠ ä¸Š RESTRICTå…³é”®å­—ï¼Œå¯ä»¥é˜²æ­¢çº§è”æ”¶å› å­˜å‚¨è¿‡ç¨‹ å­˜å‚¨è¿‡ç¨‹å¯ä»¥çœ‹æˆæ˜¯å¯¹ä¸€ç³»åˆ— SQL æ“ä½œçš„æ‰¹å¤„ç† Access ä¸ SQLite ä¸æ”¯æŒï¼ŒMySQL5ä¹‹åæ‰æ”¯æŒ ä»£ç å¤ç”¨ æ¯”è¾ƒå®‰å…¨ æ€§èƒ½è¾ƒé«˜ ä¸åŒDBMSå­˜å‚¨å’Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹çš„æ–¹å¼éƒ½å¾ˆä¸ä¸€è‡´ ä½¿ç”¨ç¨‹åºè®¾è®¡è¯­è¨€è®¿é—®æ•°æ®åº“ åŠ¨æ€SQL:è¿è¡Œæ—¶æ„å»ºSQLè¯­å¥å­—ç¬¦ä¸²ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ åµŒå…¥å¼SQL:SQLè¯­å¥å¿…é¡»åœ¨ç¼–è¯‘æ—¶å…¨éƒ¨ç¡®å®šï¼Œç”±é¢„å¤„ç†å™¨æ¥è¿æ¥å®¿ä¸»è¯­è¨€ä¸æ•°æ®åº“ JDBC ä¸€æ®µç»å…¸çš„JDBCä»£ç ï¼š // åŠ è½½é©±åŠ¨ Class.forName(\"com.mysql.jdbc.Driver\"); // è·å–è¿æ¥ Connection connection = DriverManager.getConnection(\"jdbc:mysql:///test\",\"root\",\"Root@@715711877\"); // æ‰§è¡ŒSQL ResultSet resultSet = connection.prepareStatement(\"SELECT * FROM test\").executeQuery(); //å–å›ç»“æœé›† while (resultSet.next()){ System.out.println(resultSet.getInt(\"id\")+\"|\" +resultSet.getString(\"name\")); } connection.close(); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-26 07:26:56 "},"ä¸­é—´ä»¶/nav.html":{"url":"ä¸­é—´ä»¶/nav.html","title":"ğŸšä¸­é—´ä»¶","keywords":"","body":"ä¸­é—´ä»¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 12:40:15 "},"ä¸­é—´ä»¶/æ•°æ®åº“/æ•°æ®åº“.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/æ•°æ®åº“.html","title":"æ•°æ®åº“","keywords":"","body":"æ•°æ®åº“ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-29 08:41:48 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/mysql.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/mysql.html","title":"MySQL","keywords":"","body":"MYSQL é€»è¾‘æ¶æ„ æ—¥å¿—æœºåˆ¶ redo log innodb çš„æ—¥å¿— è®°å½•çš„æ˜¯ä¿®æ”¹åçš„å€¼ æ— è®ºæ˜¯å¦æäº¤éƒ½ä¼šè¢«è®°å½• å…ˆå†™æ—¥å¿— å†åˆ·ç£ç›˜ undo log innodb çš„æ—¥å¿— äº‹åŠ¡å‘ç”Ÿå‰çš„æ•°æ®ç‰ˆæœ¬ ç”¨äºå›æ»š æä¾›MVVCä¸‹çš„è¯» å³éé”å®šè¯» bin log å¯ç”¨äºä¸»ä»å¤åˆ¶ äºŒè¿›åˆ¶å½¢å¼è®°å½•æ“ä½œ å¯ç”¨äºæ•°æ®å¿«ç…§è¿˜åŸ æäº¤äº‹åŠ¡è®°å½•binlog å®šæ—¶åˆ·ç£ç›˜ å¹¶å‘æ§åˆ¶ è¯»å†™é” å…±äº«é”ä¸ç‹¬å é” é”ç²’åº¦ é”æœºåˆ¶ MyISAMé‡‡ç”¨è¡¨çº§é”(table-level locking)ã€‚ InnoDBæ”¯æŒè¡Œçº§é”(row-level locking)å’Œè¡¨çº§é”,é»˜è®¤ä¸ºè¡Œçº§é” å¯¹æ¯” è¡¨çº§é”ï¼š MySQLä¸­é”å®š ç²’åº¦æœ€å¤§ çš„ä¸€ç§é”ï¼Œå¯¹å½“å‰æ“ä½œçš„æ•´å¼ è¡¨åŠ é”ï¼Œå®ç°ç®€å•ï¼Œèµ„æºæ¶ˆè€—ä¹Ÿæ¯”è¾ƒå°‘ï¼ŒåŠ é”å¿«ï¼Œä¸ä¼šå‡ºç°æ­»é”ã€‚å…¶é”å®šç²’åº¦æœ€å¤§ï¼Œè§¦å‘é”å†²çªçš„æ¦‚ç‡æœ€é«˜ï¼Œå¹¶å‘åº¦æœ€ä½ï¼ŒMyISAMå’Œ InnoDBå¼•æ“éƒ½æ”¯æŒè¡¨çº§é”ã€‚ è¡Œçº§é”ï¼š MySQLä¸­é”å®š ç²’åº¦æœ€å°çš„ä¸€ç§é”ï¼Œåªé’ˆå¯¹å½“å‰æ“ä½œçš„è¡Œè¿›è¡ŒåŠ é”ã€‚ è¡Œçº§é”èƒ½å¤§å¤§å‡å°‘æ•°æ®åº“æ“ä½œçš„å†²çªã€‚å…¶åŠ é”ç²’åº¦æœ€å°ï¼Œå¹¶å‘åº¦é«˜ï¼Œä½†åŠ é”çš„å¼€é”€ä¹Ÿæœ€å¤§ï¼ŒåŠ é”æ…¢ï¼Œä¼šå‡ºç°æ­»é”ã€‚ MySQLçš„é”é‡Šæ”¾æ˜¯åœ¨COMMITæˆ–è€…ROLLBACKæ—¶é‡Šæ”¾çš„ã€‚éšå¼é”å®šæ˜¯å­˜å‚¨å¼•æ“æ ¹æ®éš”ç¦»çº§åˆ«è‡ªåŠ¨è¿›è¡Œï¼Œä½†ä¹Ÿå¯ä»¥è¿›è¡Œæ˜¾å¼é”å®šï¼š SELECT ... LOCK IN SHARE MODE; -- ä»»ä½•æ—¶å€™éƒ½ä¸è¦æ‰‹åŠ¨åŠ é” InnoDBå­˜å‚¨å¼•æ“çš„é”çš„ç®—æ³• Record lockï¼šå•ä¸ªè¡Œè®°å½•ä¸Šçš„é” Gap lockï¼šé—´éš™é”ï¼Œé”å®šä¸€ä¸ªèŒƒå›´ï¼Œä¸åŒ…æ‹¬è®°å½•æœ¬èº« Next-key lockï¼šrecord+gap é”å®šä¸€ä¸ªèŒƒå›´ï¼ŒåŒ…å«è®°å½•æœ¬èº« å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶(MVCC) è¡Œçº§é”çš„å˜ç§ é¿å…äº†åŠ é”æ“ä½œ é€šè¿‡ä¿å­˜æ•°æ®åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„å¿«ç…§æ¥å®ç°çš„ å®ç°ï¼š æ¯è¡Œæœ‰ä¸¤ä¸ªé¢å¤–å­—æ®µï¼šåˆ›å»ºç‰ˆæœ¬å·ã€åˆ é™¤ç‰ˆæœ¬å· æ¯ä¸ªäº‹åŠ¡éƒ½æ‹¥æœ‰ä¸€ä¸ªç³»ç»Ÿç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å¼€å§‹æ–°çš„äº‹åŠ¡ï¼Œç‰ˆæœ¬å·å°±ä¼šé€’å¢ SELECTæ—¶ æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶çš„è¡Œæ‰ä¼šè¢«è¿”å› è¡Œçš„ç‰ˆæœ¬å·å°äºç­‰äºå½“å‰ç‰ˆæœ¬å· åˆ é™¤ç‰ˆæœ¬å·ä¸ºç©ºæˆ–è€…å¤§äºå½“å‰ç‰ˆæœ¬å· UPDATEã€DELETEã€INSERTæ—¶ å†™å…¥æ–°ç‰ˆæœ¬å· éšè—å­—æ®µ æ¯æ¡è®°å½•çš„ä¸€äº›éšå¼å­—æ®µï¼š DB_TRX_ID æœ€åä¸€æ¬¡ä¿®æ”¹è¯¥è®°å½•çš„äº‹åŠ¡ID DB_ROLL_PTR æŒ‡å‘è¿™æ¡è®°å½•çš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ DB_ROW_ID éšå¼è‡ªå¢IDï¼ˆæ²¡æœ‰ä¸»é”®æ—¶ innodb æ ¹æ®è¿™ä¸ªç”Ÿæˆèšç°‡ç´¢å¼•ï¼‰ åˆ›å»ºç‰ˆæœ¬å· åˆ é™¤ç‰ˆæœ¬å· å½“å‰è¯»/å¿«ç…§è¯» å½“å‰è¯» ï¼šè¯»å–è®°å½•æœ€æ–°ç‰ˆæœ¬ è¯»å–æ—¶ä¼šåŠ é” select for update å¿«ç…§è¯»ï¼šä¸ä¼šåŠ é” è¯»å–çš„æ˜¯å†å²ç‰ˆæœ¬ select æ•°æ®å¯è§æ€§ç®—æ³•ï¼š ç”¨æˆ·åŠæƒé™ç®¡ç† åˆ›å»ºä¸€ä¸ªèƒ½åœ¨ä¸»æœºç™»å½•çš„ç”¨æˆ· create user 'user2'@'%' identified by '123'; æˆäºˆæƒé™ grant all on *.* to 'user2'@'%'; äº‹åŠ¡ MySQLä½¿ç”¨ä¸€ä¸ªå˜é‡æ§åˆ¶æ˜¯å¦é‡‡ç”¨è‡ªåŠ¨æäº¤ï¼š SHOW VARIABLES LIKE 'AUTOCOMMIT'; ä½†å¯¹äºä¸æ”¯æŒäº‹åŠ¡çš„å¼•æ“ï¼Œå¦‚MyISAMæˆ–è€…å†…å­˜è¡¨ï¼Œæˆ–è€…æ‰§è¡ŒDDLç­‰æ“ä½œï¼Œé»˜è®¤ä¹Ÿä¼šè‡ªåŠ¨æäº¤ã€‚ MySQLè®¾ç½®éš”ç¦»çº§åˆ«ï¼š SET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTED; é—®é¢˜ Lock wait timeout exceeded è¯¥é—®é¢˜æ˜¯ç”±äºæŸä¸ªäº‹åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œè€Œå¯¼è‡´å…¶ä»–äº‹åŠ¡æ— æ³•è·å–ç›¸å¯¹åº”çš„é”ï¼Œå…¶ä»–äº‹åŠ¡åœ¨ç­‰å¾…ä¸€å®šæ—¶é—´åï¼Œåˆ™ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚ å¯é€šè¿‡è°ƒé«˜ innodb_lock_wait_timeout å˜é‡æ¥å¢åŠ è¶…æ—¶æ—¶é—´ã€‚ ä½†ä¸ºäº†è§£å†³æ ¹æœ¬é—®é¢˜ï¼Œè¿˜æ˜¯è¦é¿å…é•¿äº‹åŠ¡çš„å‡ºç°ï¼Œå¯ä»¥è€ƒè™‘é€šè¿‡ç¼©å°äº‹åŠ¡çš„ç²’åº¦ä»¥åŠå‡å°‘äº‹åŠ¡çš„æ‰§è¡Œæ—¶é—´æ¥è§£å†³ï¼Œå°½é‡é¿å…åœ¨äº‹åŠ¡é‡Œæ‰§è¡Œè€—æ—¶çš„æ“ä½œï¼Œå¦‚å¤§é‡è°ƒç”¨è¿œç¨‹æ¥å£ã€‚ Springçš„äº‹åŠ¡ä¸MySQLçš„äº‹åŠ¡ Springæ‰€è¡¨è¾¾çš„å«ä¹‰å°±æ˜¯æ ¹æ®è§„åˆ™æ¥å†³å®šè¦ä¸è¦äº‹åŠ¡ï¼Œæ€ä¹ˆåˆ›å»ºäº‹åŠ¡ã€‚ 1ã€springé‡Œé¢ï¼Œæ–¹æ³•åµŒå¥—è°ƒç”¨å¤–å±‚è¯»å–æ•°æ®å’Œå†…å±‚è¯»å–æ•°æ®æ•ˆæœä¸æ•°æ®åº“éš”ç¦»çº§åˆ«çš„å…³ç³»ã€‚ å¯é‡å¤è¯»æ˜¯é»˜è®¤ï¼Œå¯ä¸ä¸€å®šæ˜¯å¸¸ç”¨çš„ã€‚ä¹è§‚é”å¿…ä¸å¯å°‘ã€‚ å¤åˆ¶ ä¸»ä»å¤åˆ¶ binlogçº¿ç¨‹ï¼šå°†masteræœåŠ¡å™¨ä¸Šçš„æ•°æ®å†™å…¥binlog ioçº¿ç¨‹ï¼šè¯»å–masterçš„binlogåˆ°replicaçš„relay logï¼ˆä¸­ç»§æ—¥å¿—ï¼‰ sqlçº¿ç¨‹ï¼šè¯»å–ä¸­ç»§æ—¥å¿—ï¼Œå°†æ•°æ®å†™å…¥åˆ°replica åŠåŒæ­¥å¤åˆ¶ä¸å¹¶è¡Œå¤åˆ¶ ä¸»åº“ä¸Šå¹¶è¡Œçš„æ“ä½œï¼Œåœ¨ä»åº“ä¸Šä¼šä¸²è¡Œæ‰§è¡Œï¼Œæ‰€ä»¥ä»åº“ä¼šæœ‰ä¸€å®šçš„æ•°æ®å»¶è¿Ÿ åŠåŒæ­¥å¤åˆ¶æ˜¯ä¸»åº“æ¥æ”¶åˆ°ä¸€ä¸ªå†™å‘½ä»¤ä¼šå°†è¿™ä¸ªå†™å‘½ä»¤åŒæ­¥ç»™ä»åº“ï¼Œåªæœ‰å½“æ”¶åˆ°è‡³å°‘ä¸€ä¸ªä»åº“çš„ackç¡®è®¤ï¼Œæ‰ä¼šè®¤ä¸ºå†™æ“ä½œå®Œæˆ å¹¶è¡Œå¤åˆ¶ï¼ŒæŒ‡çš„æ˜¯ä»åº“å¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œå¹¶è¡Œè¯»å– relay log ä¸­ä¸åŒåº“çš„æ—¥å¿—ï¼Œç„¶åå¹¶è¡Œé‡æ”¾ä¸åŒåº“çš„æ—¥å¿— ç”±äºè¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥åšä¸»ä»åˆ†ç¦»å†™ä»£ç å¯èƒ½éœ€è¦æ³¨æ„æ’å…¥çš„æ•°æ®ï¼Œå¯èƒ½ä¸ä¸€å®šèƒ½é©¬ä¸ŠæŸ¥åˆ° æ­å»º masteré…ç½® server_id=177 ###æœåŠ¡å™¨id log-bin=mysql-bin ###å¼€å¯æ—¥å¿—æ–‡ä»¶ show master status; # æŸ¥çœ‹masteræ—¥å¿—ä¸å½“å‰æ—¥å¿—ä½ç½® slaveé…ç½® server_id=178 ###ä»æœåŠ¡å™¨server_id log-bin=mysql-bin ###æ—¥å¿—æ–‡ä»¶åŒæ­¥æ–¹å¼ binlog_do_db=test ###åŒæ­¥æ•°æ®åº“ show slave status; ä»æœåŠ¡å™¨æ‰§è¡Œ change master to master_host='192.168.182.131',master_user='root',master_password='123', master_log_file='mysql-bin.000002',master_log_pos=0; start slave è¯»å†™åˆ†ç¦» ä¸»æœåŠ¡å™¨å¤„ç†å†™æ“ä½œä»¥åŠå®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„è¯»æ“ä½œï¼Œè€Œä»æœåŠ¡å™¨å¤„ç†è¯»æ“ä½œ è¯»å†™åˆ†ç¦»æé«˜æ€§èƒ½çš„åŸå› ï¼š ç¼“è§£äº†é”çš„äº‰ç”¨ ä»æœåŠ¡å™¨åªåšè¯»ï¼Œèµ„æºåˆ©ç”¨ç‡æ›´é«˜ å¢åŠ å†—ä½™æ•°æ®ï¼Œæé«˜å¯ç”¨æ€§ å®ç° å¸¸ç”¨ä»£ç†æ–¹å¼å®ç°ï¼Œä»£ç†æœåŠ¡å™¨æ ¹æ®ä¼ è¿›æ¥çš„è¯·æ±‚ï¼Œå†³å®šå°†è¯·æ±‚è½¬å‘åˆ°å“ªå°æœåŠ¡å™¨ è®¾è®¡è§„èŒƒ å‘½åè§„èŒƒ æ•°æ®åº“ [a-z ][0-9] _ ä¸è¶…è¿‡30å­—ç¬¦ å¤‡ä»½æ•°æ®åº“å¯ä»¥åŠ è‡ªç„¶æ•° è¡¨ [a-z ][0-9] _ ç›¸åŒå…³ç³»çš„è¡¨å¯ä»¥åŠ ç›¸åŒçš„å‰ç¼€ å­—æ®µ [a-z ][0-9] _ å¤šä¸ªå•è¯ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å‰² æ¯ä¸ªè¡¨å¿…é¡»æœ‰è‡ªå¢ä¸»é”®ï¼ˆé»˜è®¤ç³»ç»Ÿæ—¶é—´ï¼‰ å…³è”å­—æ®µåå°½å¯èƒ½ç›¸åŒ å­—æ®µç±»å‹è§„èŒƒ ä½¿ç”¨è¾ƒå°‘çš„ç©ºé—´æ¥å­˜å‚¨ ipæœ€å¥½ä½¿ç”¨int å›ºå®šé•¿åº¦çš„ç±»å‹ä½¿ç”¨char æœ€å¥½ç»™é»˜è®¤å€¼ ç´¢å¼•è§„èŒƒ åŠ ä¸€ä¸ªindexåç¼€ ä¸ºæ¯ä¸ªè¡¨åˆ›å»ºä¸»é”®ç´¢å¼• ç¬¦åˆç´¢å¼•æ…é‡ èŒƒå¼è§„èŒƒ å¿…é¡»æ»¡è¶³ç¬¬äºŒèŒƒå¼ å°½é‡æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ MYSQLè®¾è®¡åŸåˆ™ æ ¸å¿ƒåŸåˆ™ ä¸åœ¨æ•°æ®åº“åšè¿ç®— æ§åˆ¶åˆ—æ•°é‡ï¼ˆ20ä»¥å†…ï¼‰ å¹³è¡¡èŒƒå¼ä¸å†—ä½™ ç¦æ­¢å¤§SQL ç¦æ­¢å¤§äº‹åŠ¡ ç¦æ­¢å¤§æ‰¹é‡ å­—æ®µåŸåˆ™ ç”¨å¥½æ•°æ®ç±»å‹èŠ‚çº¦ç©ºé—´ å­—ç¬¦è½¬ä¸ºæ•°å­— é¿å…ä½¿ç”¨NULL å°‘ç”¨text ç´¢å¼•åŸåˆ™ ä¸åœ¨ç´¢å¼•åˆ—åšè¿ç®— innodbä¸»é”®ä½¿ç”¨è‡ªå¢ ä¸ç”¨å¤–é”® SQLåŸåˆ™ å°½å¯èƒ½ç®€å• ç®€å•äº‹åŠ¡ é¿å…ä½¿ç”¨è§¦å‘å™¨ï¼Œå‡½æ•° ä¸ä½¿ç”¨select * ORæ”¹å†™æˆINæˆ–UNION é¿å…å‰% æ…ç”¨countï¼ˆ*ï¼‰ limité«˜æ•ˆåˆ†é¡µ å°‘ç”¨è¿æ¥join group by ä½¿ç”¨åŒç±»å‹æ¯”è¾ƒ æ‰“æ•£æ‰¹é‡æ›´æ–° å‚æ•°è®¾ç½® general datadir=/var/lib/mysql æ•°æ®æ–‡ä»¶å­˜æ”¾çš„ç›®å½• socket=/var/lib/mysql/mysql.sock mysql.socketè¡¨ç¤ºserverå’Œclientåœ¨åŒä¸€å°æœåŠ¡å™¨ï¼Œå¹¶ä¸”ä½¿ç”¨localhostè¿›è¡Œè¿æ¥ï¼Œå°±ä¼šä½¿ç”¨socketè¿›è¡Œè¿æ¥ pid_file=/var/lib/mysql/mysql.pid å­˜å‚¨mysqlçš„pid port=3306 mysqlæœåŠ¡çš„ç«¯å£å· default_storage_engine=InnoDB mysqlå­˜å‚¨å¼•æ“ skip-grant-tables å½“å¿˜è®°mysqlçš„ç”¨æˆ·åå¯†ç çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨mysqlé…ç½®æ–‡ä»¶ä¸­é…ç½®è¯¥å‚æ•°ï¼Œè·³è¿‡æƒé™è¡¨éªŒè¯ï¼Œä¸éœ€è¦å¯†ç å³å¯ç™»å½•mysql character character_set_client å®¢æˆ·ç«¯æ•°æ®çš„å­—ç¬¦é›† character_set_connection mysqlå¤„ç†å®¢æˆ·ç«¯å‘æ¥çš„ä¿¡æ¯æ—¶ï¼Œä¼šæŠŠè¿™äº›æ•°æ®è½¬æ¢æˆè¿æ¥çš„å­—ç¬¦é›†æ ¼å¼ character_set_results mysqlå‘é€ç»™å®¢æˆ·ç«¯çš„ç»“æœé›†æ‰€ç”¨çš„å­—ç¬¦é›† character_set_database æ•°æ®åº“é»˜è®¤çš„å­—ç¬¦é›† character_set_server mysql serverçš„é»˜è®¤å­—ç¬¦é›† connection max_connections mysqlçš„æœ€å¤§è¿æ¥æ•°ï¼Œå¦‚æœæ•°æ®åº“çš„å¹¶å‘è¿æ¥è¯·æ±‚æ¯”è¾ƒå¤§ï¼Œåº”è¯¥è°ƒé«˜è¯¥å€¼ max_user_connections é™åˆ¶æ¯ä¸ªç”¨æˆ·çš„è¿æ¥ä¸ªæ•° back_log mysqlèƒ½å¤Ÿæš‚å­˜çš„è¿æ¥æ•°é‡ï¼Œå½“mysqlçš„çº¿ç¨‹åœ¨ä¸€ä¸ªå¾ˆçŸ­æ—¶é—´å†…å¾—åˆ°éå¸¸å¤šçš„è¿æ¥è¯·æ±‚æ—¶ï¼Œå°±ä¼šèµ·ä½œç”¨ï¼Œå¦‚æœmysqlçš„è¿æ¥æ•°é‡è¾¾åˆ°max_connectionsæ—¶ï¼Œæ–°çš„è¯·æ±‚ä¼šè¢«å­˜å‚¨åœ¨å †æ ˆä¸­ï¼Œä»¥ç­‰å¾…æŸä¸€ä¸ªè¿æ¥é‡Šæ”¾èµ„æºï¼Œå¦‚æœç­‰å¾…è¿æ¥çš„æ•°é‡è¶…è¿‡back_log,åˆ™ä¸å†æ¥å—è¿æ¥èµ„æº wait_timeout mysqlåœ¨å…³é—­ä¸€ä¸ªéäº¤äº’çš„è¿æ¥ä¹‹å‰éœ€è¦ç­‰å¾…çš„æ—¶é•¿ interactive_timeout å…³é—­ä¸€ä¸ªäº¤äº’è¿æ¥ä¹‹å‰éœ€è¦ç­‰å¾…çš„ç§’æ•° log log_error æŒ‡å®šé”™è¯¯æ—¥å¿—æ–‡ä»¶åç§°ï¼Œç”¨äºè®°å½•å½“mysqldå¯åŠ¨å’Œåœæ­¢æ—¶ï¼Œä»¥åŠæœåŠ¡å™¨åœ¨è¿è¡Œä¸­å‘ç”Ÿä»»ä½•ä¸¥é‡é”™è¯¯æ—¶çš„ç›¸å…³ä¿¡æ¯ log_bin æŒ‡å®šäºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶åç§°ï¼Œç”¨äºè®°å½•å¯¹æ•°æ®é€ æˆæ›´æ”¹çš„æ‰€æœ‰æŸ¥è¯¢è¯­å¥ binlog_do_db æŒ‡å®šå°†æ›´æ–°è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—çš„æ•°æ®åº“ï¼Œå…¶ä»–æ‰€æœ‰æ²¡æœ‰æ˜¾å¼æŒ‡å®šçš„æ•°æ®åº“æ›´æ–°å°†å¿½ç•¥ï¼Œä¸è®°å½•åœ¨æ—¥å¿—ä¸­ binlog_ignore_db æŒ‡å®šä¸å°†æ›´æ–°è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—çš„æ•°æ®åº“ sync_binlog æŒ‡å®šå¤šå°‘æ¬¡å†™æ—¥å¿—ååŒæ­¥ç£ç›˜ general_log æ˜¯å¦å¼€å¯æŸ¥è¯¢æ—¥å¿—è®°å½• general_log_file æŒ‡å®šæŸ¥è¯¢æ—¥å¿—æ–‡ä»¶åï¼Œç”¨äºè®°å½•æ‰€æœ‰çš„æŸ¥è¯¢è¯­å¥ slow_query_log æ˜¯å¦å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—è®°å½• slow_query_log_file æŒ‡å®šæ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶åç§°ï¼Œç”¨äºè®°å½•è€—æ—¶æ¯”è¾ƒé•¿çš„æŸ¥è¯¢è¯­å¥ long_query_time è®¾ç½®æ…¢æŸ¥è¯¢çš„æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´çš„æŸ¥è¯¢è¯­å¥æ‰ä¼šè®°å½•æ—¥å¿— log_slow_admin_statements æ˜¯å¦å°†ç®¡ç†è¯­å¥å†™å…¥æ…¢æŸ¥è¯¢æ—¥å¿— cache key_buffer_size ç´¢å¼•ç¼“å­˜åŒºçš„å¤§å°ï¼ˆåªå¯¹myisamè¡¨èµ·ä½œç”¨ï¼‰ query cache query_cache_size æŸ¥è¯¢ç¼“å­˜çš„å¤§å°ï¼Œæœªæ¥ç‰ˆæœ¬è¢«åˆ é™¤ show status like '%Qcache%';æŸ¥çœ‹ç¼“å­˜çš„ç›¸å…³å±æ€§ Qcache_free_blocksï¼šç¼“å­˜ä¸­ç›¸é‚»å†…å­˜å—çš„ä¸ªæ•°ï¼Œå¦‚æœå€¼æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆæŸ¥è¯¢ç¼“å­˜ä¸­ç¢ç‰‡æ¯”è¾ƒå¤š Qcache_free_memoryï¼šæŸ¥è¯¢ç¼“å­˜ä¸­å‰©ä½™çš„å†…å­˜å¤§å° Qcache_hitsï¼šè¡¨ç¤ºæœ‰å¤šå°‘æ­¤å‘½ä¸­ç¼“å­˜ Qcache_insertsï¼šè¡¨ç¤ºå¤šå°‘æ¬¡æœªå‘½ä¸­è€Œæ’å…¥ Qcache_lowmen_prunesï¼šå¤šå°‘æ¡queryå› ä¸ºå†…å­˜ä¸è¶³è€Œè¢«ç§»é™¤cache Qcache_queries_in_cacheï¼šå½“å‰cacheä¸­ç¼“å­˜çš„queryæ•°é‡ Qcache_total_blocksï¼šå½“å‰cacheä¸­blockçš„æ•°é‡ query_cache_limit è¶…å‡ºæ­¤å¤§å°çš„æŸ¥è¯¢å°†ä¸è¢«ç¼“å­˜ query_cache_min_res_unit ç¼“å­˜å—æœ€å°å¤§å° query_cache_type ç¼“å­˜ç±»å‹ï¼Œå†³å®šç¼“å­˜ä»€ä¹ˆæ ·çš„æŸ¥è¯¢ 0è¡¨ç¤ºç¦ç”¨ 1è¡¨ç¤ºå°†ç¼“å­˜æ‰€æœ‰ç»“æœï¼Œé™¤ésqlè¯­å¥ä¸­ä½¿ç”¨sql_no_cacheç¦ç”¨æŸ¥è¯¢ç¼“å­˜ 2è¡¨ç¤ºåªç¼“å­˜selectè¯­å¥ä¸­é€šè¿‡sql_cacheæŒ‡å®šéœ€è¦ç¼“å­˜çš„æŸ¥è¯¢ sort_buffer_size æ¯ä¸ªéœ€è¦æ’åºçš„çº¿ç¨‹åˆ†æ´¾è¯¥å¤§å°çš„ç¼“å†²åŒº max_allowed_packet=32M é™åˆ¶serveræ¥å—çš„æ•°æ®åŒ…å¤§å° join_buffer_size=2M è¡¨ç¤ºå…³è”ç¼“å­˜çš„å¤§å° thread_cache_size Threads_cachedï¼šä»£è¡¨å½“å‰æ­¤æ—¶æ­¤åˆ»çº¿ç¨‹ç¼“å­˜ä¸­æœ‰å¤šå°‘ç©ºé—²çº¿ç¨‹ Threads_connectedï¼šä»£è¡¨å½“å‰å·²å»ºç«‹è¿æ¥çš„æ•°é‡ Threads_createdï¼šä»£è¡¨æœ€è¿‘ä¸€æ¬¡æœåŠ¡å¯åŠ¨ï¼Œå·²åˆ›å»ºç°æˆçš„æ•°é‡ï¼Œå¦‚æœè¯¥å€¼æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¼šä¸€ç›´å†åˆ›å»ºçº¿ç¨‹ Threads_runningï¼šä»£è¡¨å½“å‰æ¿€æ´»çš„çº¿ç¨‹æ•° innodb innodb_buffer_pool_size= è¯¥å‚æ•°æŒ‡å®šå¤§å°çš„å†…å­˜æ¥ç¼“å†²æ•°æ®å’Œç´¢å¼•ï¼Œæœ€å¤§å¯ä»¥è®¾ç½®ä¸ºç‰©ç†å†…å­˜çš„80% innodb_flush_log_at_trx_commit ä¸»è¦æ§åˆ¶innodbå°†log bufferä¸­çš„æ•°æ®å†™å…¥æ—¥å¿—æ–‡ä»¶å¹¶flushç£ç›˜çš„æ—¶é—´ç‚¹ï¼Œå€¼åˆ†åˆ«ä¸º0ï¼Œ1ï¼Œ2 innodb_thread_concurrency è®¾ç½®innodbçº¿ç¨‹çš„å¹¶å‘æ•°ï¼Œé»˜è®¤ä¸º0è¡¨ç¤ºä¸å—é™åˆ¶ï¼Œå¦‚æœè¦è®¾ç½®å»ºè®®è·ŸæœåŠ¡å™¨çš„cpuæ ¸å¿ƒæ•°ä¸€è‡´æˆ–è€…æ˜¯cpuæ ¸å¿ƒæ•°çš„ä¸¤å€ innodb_log_buffer_size æ­¤å‚æ•°ç¡®å®šæ—¥å¿—æ–‡ä»¶æ‰€ç”¨çš„å†…å­˜å¤§å°ï¼Œä»¥Mä¸ºå•ä½ innodb_log_file_size æ­¤å‚æ•°ç¡®å®šæ•°æ®æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼Œä»¥Mä¸ºå•ä½ innodb_log_files_in_group ä»¥å¾ªç¯æ–¹å¼å°†æ—¥å¿—æ–‡ä»¶å†™åˆ°å¤šä¸ªæ–‡ä»¶ä¸­ read_buffer_size mysqlè¯»å…¥ç¼“å†²åŒºå¤§å°ï¼Œå¯¹è¡¨è¿›è¡Œé¡ºåºæ‰«æçš„è¯·æ±‚å°†åˆ†é…åˆ°ä¸€ä¸ªè¯»å…¥ç¼“å†²åŒº read_rnd_buffer_size mysqléšæœºè¯»çš„ç¼“å†²åŒºå¤§å° innodb_file_per_table æ­¤å‚æ•°ç¡®å®šä¸ºæ¯å¼ è¡¨åˆ†é…ä¸€ä¸ªæ–°çš„æ–‡ä»¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-07-12 14:08:50 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/åŸºæœ¬ä½¿ç”¨.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/åŸºæœ¬ä½¿ç”¨.html","title":"åŸºæœ¬ä½¿ç”¨","keywords":"","body":"åŸºæœ¬ä½¿ç”¨ SQL æ¨¡å¼ STRICT_ALL_TABLES å’Œ STRICT_TRANS_TABLESï¼š TRADITIONAL ANSI_QUOTES å‘Šè¯‰æœåŠ¡å™¨æŠŠåŒå¼•å·æ˜¯è¯†åˆ«ä¸ºæ ‡è¯†ç¬¦å¼•ç”¨å­—ç¬¦ PIPES_AS_CONCAT å°† || å½“åšè¿æ¥è¿ç®—ç¬¦ ANSI å¯åŠ¨å¤šç§ç»„åˆæ¨¡å¼ è®¾ç½®æ¨¡å¼ï¼š mysql ... --sql-model=\"xxx\" SET sql_mode='xx' SET GLOBAL sql_mode='xx' -- å…¨å±€æ¨¡å¼ æ ‡è¯†ç¬¦ä¸å‘½å ä¸åŠ åŒå¼•å·çš„æ ‡è¯†ç¬¦ï¼š å¤§å°å†™å­—æ¯ æ•°å­— ç¾å…ƒç¬¦å· ä¸‹åˆ’çº¿ç»„æˆ å¯ä»¥ä»¥æ•°å­—å¼€å¤´ æ²¡æœ‰å¼•å·çš„å‘½åä¸èƒ½å…¨ç”±æ•°å­—æ„æˆ å¦‚æœå¯ç”¨äº† IGNORE_SPACE æ¨¡å¼ å‡½æ•°åä¼šå˜æˆä¿ç•™å­— æ ‡è¯†ç¬¦çš„æœ€å¤§é•¿åº¦ä¸º64ä¸ªå­—ç¬¦ åˆ«åæœ€å¤§é•¿åº¦256å­—ç¬¦ å®Œå…¨é™å®šè¡¨åä¸å®Œå…¨é™å®šåˆ—åï¼šdb.table.column å¤§å°å†™è§„åˆ™ SQL å…³é”®å­—ä¸å’Œå‡½æ•°åï¼Œå­˜å‚¨è¿‡ç¨‹çš„åå­—ä¸åŒºåˆ†å¤§å°å†™ æ•°æ®åº“å è¡¨å è§†å›¾ååŒºåˆ†å¤§å°å†™å–å†³äºæ“ä½œç³»ç»Ÿ åˆ—åã€ç´¢å¼•åä¸åŒºåˆ† åˆ«ååŒºåˆ† å­—ç¬¦ä¸²åŒºåˆ†å¤§å°å†™å–å†³äºæ˜¯å¦æ˜¯äºŒè¿›åˆ¶ä¸² ä¸ºé¿å…å‡ºç°é—®é¢˜ï¼Œç»Ÿä¸€é‡‡ç”¨å°å†™ å­—ç¬¦é›†ä¸æ ¡å¯¹è§„åˆ™ å­—ç¬¦é›†æŒ‡çš„æ˜¯ä¸€ç§ä»äºŒè¿›åˆ¶ç¼–ç åˆ°æŸç±»å­—ç¬¦ç¬¦å·çš„æ˜ å°„ã€‚æ ¡å¯¹è§„åˆ™åˆ™æ˜¯æŒ‡æŸç§å­—ç¬¦é›†ä¸‹çš„æ’åºè§„åˆ™ã€‚MySQLä¸­æ¯ä¸€ç§å­—ç¬¦é›†éƒ½ä¼šå¯¹åº”ä¸€ç³»åˆ—çš„æ ¡å¯¹è§„åˆ™ MySQLé‡‡ç”¨çš„æ˜¯ç±»ä¼¼ç»§æ‰¿çš„æ–¹å¼æŒ‡å®šå­—ç¬¦é›†çš„é»˜è®¤å€¼ï¼Œæ¯ä¸ªæ•°æ®åº“ä»¥åŠæ¯å¼ æ•°æ®è¡¨éƒ½æœ‰è‡ªå·±çš„é»˜è®¤å€¼ï¼Œä»–ä»¬é€å±‚ç»§æ‰¿ã€‚æ¯”å¦‚ï¼šæŸä¸ªåº“ä¸­æ‰€æœ‰è¡¨çš„é»˜è®¤å­—ç¬¦é›†å°†æ˜¯è¯¥æ•°æ®åº“æ‰€æŒ‡å®šçš„å­—ç¬¦é›†ï¼ˆè¿™äº›è¡¨åœ¨æ²¡æœ‰æŒ‡å®šå­—ç¬¦é›†çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šé‡‡ç”¨é»˜è®¤å­—ç¬¦é›†ï¼‰ SHOW CHARSET -- åˆ—å‡ºå¯ç”¨å­—ç¬¦é›† unicodeæ”¯æŒï¼šutf8 utf8mb4 æ•°æ®åº“æ“ä½œ USE db; -- åˆ‡æ¢æ•°æ®åº“ CREATE DATABASE [IF NOT EXISTS] db [CHARSET xx] [COLLATE xxx]; -- åˆ›å»ºæ•°æ®åº“ DROP DATABASE db; -- åˆ é™¤æ•°æ®åº“ ALTER DATABASE db [CHARSET xx] [COLLATE xxx]; -- æ›´æ”¹å­—ç¬¦é›†ä¸æ’åºè§„åˆ™ è¡¨æ“ä½œ CREATE TABLE [IF NOT EXISTS] (..) ENGINE = xxx DEFAULT CHARSET = xxx; -- åˆ›å»º ALTER TABLE (..) ENGINE = xxx DEFAULT CHARSET = xxx; -- ä¿®æ”¹ CREATE TEMPORARY TABLE table (...); -- ä¸´æ—¶è¡¨ ä¼šè¯å…³é—­ä¸¢å¤± CREATE TABLE table LIKE xxx -- å¤åˆ¶å…¶ä»–è¡¨çš„ç»“æ„ CREATE TABLE table SELECT ... -- å¤åˆ¶æŸ¥è¯¢çš„æ•°æ® ä¸€äº›åˆ—çš„å±æ€§ä¸ä¼šè¢«å¤åˆ¶ CREATE TABLE tr (id INT, name VARCHAR(50), purchased DATE) PARTITION BY RANGE( YEAR(purchased) ) ( PARTITION p0 VALUES LESS THAN (1990), PARTITION p1 VALUES LESS THAN (1995), PARTITION p2 VALUES LESS THAN (2000) ); -- åˆ†åŒºè¡¨ DROP TABLE [IF EXISTS] tb; -- åˆ é™¤è¡¨ ALTER TABLE tb CHANGE cname cname INT; -- æ”¹å˜åˆ—åå¹¶ä¿®æ”¹åˆ—ç±»å‹ ALTER TABLE tb ENGINE = xxx; -- æ›´æ”¹å­˜å‚¨å¼•æ“ ALTER TABLE tb RENAME TO tb1; -- è¡¨é‡å‘½å ç´¢å¼• é™¤äº† PRIMARY KEY ,ç»å¤§éƒ¨åˆ†ç´¢å¼•å¯ä»¥ä½¿ç”¨CREATE IDNEXåˆ›å»º CREATE UNIQUE INDEX name ON table (...); -- å”¯ä¸€ç´¢å¼• å•åˆ—ä¸­ä¸å…è®¸æœ‰é‡å¤å€¼å‡ºç° CREATE FULLTEXT INDEX name ON table (...); -- å…¨æ–‡ç´¢å¼• CREATE SPATIAL INDEX name ON table (...); -- myisam ç©ºé—´ç´¢å¼• CREATE TABLE ( ... INDEX (name(10)) -- å¯¹å­—ç¬¦ä¸²å‰10ä¸ªå­—ç¬¦ç®€å†ç´¢å¼• ) DROP INDEX name ON tb; --åˆ é™¤ç´¢å¼• è·å–æ•°æ®åº“å…ƒæ•°æ® showè¯­å¥ï¼š å¯ä»¥ä½¿ç”¨ LIKE 'xx' é™åˆ¶è¾“å‡ºèŒƒå›´ SHOW DATABASES; SHOW CREATE DATABASE db; -- æ˜¾ç¤ºåˆ›å»ºæ•°æ®åº“æ—¶çš„è¯­å¥ SHOW CREATE TABLE tb; SHOW TABLES; SHOW TABLE STATUS; SHOW COLUMNS FROM tb; SHOW INDEX FROM tb; INFORMATION_SCHEMA åº“ äº‹åŠ¡å¤„ç† é»˜è®¤æ˜¯å¼€å¯æ‰§è¡ŒSQLè‡ªåŠ¨æäº¤çš„ SET AUTOCOMMIT = 0; -- å…³é—­è‡ªåŠ¨æäº¤ START TRANSACTION; -- å¼€å¯äº‹åŠ¡ INSERT INTO person SET name = 'cxk'; -- æ‰§è¡Œäº‹åŠ¡æ“ä½œ COMMIT; -- æäº¤äº‹åŠ¡ -- ROLLBACK; å›æ»šäº‹åŠ¡ äº‹åŠ¡ä¿å­˜ç‚¹ START TRANSACTION; insert into person SET name = 'cxkk'; SAVEPOINT myp; -- ä¿å­˜ä¸€ä¸ªäº‹åŠ¡ç‚¹ insert into person SET name = 'cxkd'; ROLLBACK TO SAVEPOINT myp; -- å›æ»šåˆ°äº‹åŠ¡ä¿å­˜ç‚¹ COMMIT; äº‹åŠ¡éš”ç¦» è®¾ç½®éš”ç¦»çº§åˆ«ï¼šSET [GLOBAL, SESSION] TRANSACTION ISOLATION LEVEL åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­æ··åˆä½¿ç”¨ä¸åŒçš„å­˜å‚¨å¼•æ“æ˜¯ä¸å¯é çš„ï¼Œæœ‰çš„å­˜å‚¨å¼•æ“ä¸æ”¯æŒäº‹åŠ¡ éš”ç¦»çº§åˆ«çš„é€‰æ‹©ï¼š ä¸Šæ¾ä¸‹ä¸¥ï¼šåº”ç”¨å±‚æ¥é€‚é…æ•°æ®åº“çš„éš”ç¦»çº§åˆ« å½“Springå¼€å¯äº†äº‹åŠ¡å¹¶è®¾ç½®äº†ä¼ æ’­æœºåˆ¶ï¼Œé‚£ä¹ˆä¼šè¦†ç›–Mysqlå·²æœ‰çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚å¦‚æœMysqlä¸æ”¯æŒè¯¥éš”ç¦»çº§åˆ«ï¼ŒSpringçš„äº‹åŠ¡å°±ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚ RR ï¼ˆå¯é‡å¤è¯»ï¼‰RDï¼ˆè¯»å·²æäº¤ï¼‰ æ­é…ä½¿ç”¨ å¤–é”® CREATE TABLE tb( .. FOREIGN KEY (id) REFERENCES parent (id) ON DELETE CASCADE -- åˆ é™¤çˆ¶è¡¨ç›¸å…³è¡Œ å­è¡¨ä¹Ÿä¼šè¢«åˆ é™¤ ON UPDATE CASCADE -- æ›´æ–°ç›¸å…³ -- ON DELETE SET NULL åˆ é™¤æ—¶å°†ç›¸å…³åˆ—è®¾ç½®NULL ) å…¨æ–‡æœç´¢ è‡ªç„¶è¯­è¨€æœç´¢ æœç´¢å­—ç¬¦ä¸²ä¼šè¢«è§£ææˆå•è¯è¿›è¡Œæœç´¢ å¸ƒå°”æ¨¡å¼æœç´¢ æœç´¢å‡ºç°æŸäº›å•è¯çš„è¡Œ æŸ¥è¯¢æ‰©å±•æœç´¢ å…ˆè¿›è¡Œè‡ªç„¶è¯­è¨€æœç´¢ ç¬¬äºŒé˜¶æ®µå°†æœç´¢å­—ç¬¦ä¸²ä¸ç¬¬ä¸€é˜¶æ®µçš„ç»“æœè¿›è¡Œæ‹¼æ¥åæœç´¢ ç‰¹ç‚¹ï¼š éœ€è¦å»ºç«‹å…¨æ–‡ç´¢å¼• ä¼šå¿½ç•¥å¸¸è§è¯ è‡³å°‘åœ¨ä¸€åŠçš„è¡Œéƒ½å‡ºç°è¿‡çš„è¯ å¿½ç•¥å†…ç½®å¸¸ç”¨è¯ after the å¿½ç•¥è¿‡çŸ­çš„å•è¯ ä½¿ç”¨ï¼š CREATE FULLTEXT INDEX index_actor_info ON actor_test(film_info); -- åˆ›å»ºç›¸å…³å…¨æ–‡ç´¢å¼• select * from actor_test where match(film_info) against('LUKE'); -- è‡ªç„¶è¯­è¨€æœç´¢ select * from actor_test where match(film_info) against('LUKE CHISUM' IN BOOLEAN MODE); -- å¸ƒå°”æ¨¡å¼ select * from actor_test where match(film_info) against('LUKE CHISUM' WITH QUERY EXPANSION); -- æŸ¥è¯¢æ‰©å±• é…ç½®ï¼š ft_min_word_len=3 # æœ€å°å•è¯é•¿åº¦ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-07-06 13:02:03 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/æ•°æ®ç±»å‹.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/æ•°æ®ç±»å‹.html","title":"æ•°æ®ç±»å‹","keywords":"","body":"æ•°æ®ç±»å‹ æ•°æ®å€¼ç±»åˆ« æ•°å€¼ï¼š ç²¾ç¡®å€¼ï¼šæ•´æ•° å¸¦å°æ•°ç‚¹çš„æ•° ä½åŸŸå€¼ï¼š b'1000' ä»£è¡¨8 å­—ç¬¦ä¸²å€¼ï¼š 'cxk' -- æ¨èä½¿ç”¨å•å¼•å· äºŒè¿›åˆ¶ä¸²æ¯”è¾ƒæ˜¯é€å­—èŠ‚æ¯”è¾ƒ éäºŒè¿›åˆ¶ä¸²æ ¹æ®æ’åºè§„åˆ™æ¯”è¾ƒ æ—¥æœŸæ—¶é—´å€¼: '2020-08-25' '11:47:00' '2020-08-25 11:47:00' SELECT '2020-08-25 11:47:00' + INTERVAL 2 DAY; ç©ºé—´å€¼ï¼š(10 20) å¸ƒå°”å€¼ï¼š0ä¼šè¢«å½“æˆå‡ é0éNULLä¼šè¢«å½“æˆçœŸ NULLå€¼ï¼š\\N ä¼šè¢«å½“æˆNULL æ•´å‹ TINYINT, SMALLINT, MEDIUMINT, INT, BIGINT åˆ†åˆ«ä½¿ç”¨ 8, 16, 24, 32, 64 ä½å­˜å‚¨ç©ºé—´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¶Šå°çš„åˆ—è¶Šå¥½ æ•´æ•°ç±»å‹å¯ä»¥é™„å¸¦UNSIGNEDå±æ€§ï¼Œè¿™å¯ä»¥ä½¿å®ƒçš„æ­£æ•°è¡¨ç¤ºèŒƒå›´æé«˜ä¸€å€ã€‚ åŒæ—¶ï¼Œåœ¨å®šä¹‰æ•°æ®ç±»å‹æ—¶çš„INT(11) è¿™é‡Œçš„11æŒ‡çš„æ˜¯åœ¨äº¤äº’ç»ˆç«¯ä¸‹æ˜¾ç¤ºçš„å­—ç¬¦ä¸ªæ•°ï¼ŒINT(1)å’ŒINT(20)åœ¨å­˜å‚¨å’Œè®¡ç®—ä¸Šéƒ½æ˜¯ç›¸åŒçš„ æµ®ç‚¹æ•° FLOAT å’Œ DOUBLE ä¸ºæµ®ç‚¹ç±»å‹ï¼ŒDECIMAL ä¸ºé«˜ç²¾åº¦å°æ•°ç±»å‹ï¼ŒDECIMAL çš„è®¡ç®—æ¯”æµ®ç‚¹ç±»å‹éœ€è¦æ›´é«˜çš„ä»£ä»· å­—ç¬¦ä¸² ä¸€ç§æ˜¯å®šé•¿çš„(char)ï¼Œä¸€ç§æ˜¯å˜é•¿çš„(varchar)ã€‚ å˜é•¿ç±»å‹ä½¿ç”¨é¢å¤–çš„1ä¸ªæˆ–ä¸¤ä¸ªå­—èŠ‚æ¥å­˜å‚¨é•¿åº¦ï¼Œèƒ½å¤ŸèŠ‚çœç©ºé—´ï¼Œå› ä¸ºåªéœ€è¦å­˜å‚¨å¿…è¦çš„å†…å®¹ï¼Œä½†å½“å˜é•¿ç±»å‹å‘ç”ŸUPDATEæ“ä½œåï¼Œéœ€è¦æ‰§è¡Œé¢å¤–çš„æ“ä½œ å­˜å‚¨å’Œæ£€ç´¢æ—¶ï¼ŒVARCHAR æœ«å°¾çš„ç©ºæ ¼ä¼šä¿ç•™ä¸‹æ¥ï¼Œè€Œä¼š CHAR æœ«å°¾çš„ç©ºæ ¼ä¼šè¢«åˆ é™¤ã€‚ å¡«å……å’Œåˆ é™¤ç©ºæ ¼çš„è¡Œä¸ºåœ¨æ‰€æœ‰å­˜å‚¨å¼•æ“ä¸Šéƒ½ä¸€æ ·ï¼Œè¿™æ˜¯åœ¨MySQLæœåŠ¡å™¨å±‚å¤„ç†çš„ã€‚ å¦å¤–ä¸¤ç§ç±»å‹æ˜¯BLOBå’ŒTEXTï¼Œéƒ½æ˜¯ä¸ºäº†å­˜å‚¨å¾ˆå¤§çš„æ•°æ®è€Œè®¾è®¡å‡ºæ¥çš„ã€‚å½“è¿™äº›æ•°æ®å¾ˆå¤§æ—¶ï¼Œä¸€äº›å­˜å‚¨å¼•æ“ä¼šå°†è¿™äº›æ•°æ®å­˜å‚¨åœ¨å¤–éƒ¨ï¼Œé€šè¿‡æŒ‡é’ˆæ¥å¼•ç”¨ï¼Œè¿™ä¸¤ç§ç±»å‹ä¸èƒ½å°†å…¨éƒ¨çš„æ•°æ®ç”¨ä»¥å»ºç´¢å¼•ï¼Œé™¤éä¸å¾—ä»¥ï¼Œå¦åˆ™ä¸è¦ä½¿ç”¨è¿™ä¸¤ç§ç±»å‹ã€‚ æšä¸¾ MySQLåº•å±‚å°†æšä¸¾è½¬æ¢ä¸ºæ•´æ•°æ¥è¿›è¡Œå¤„ç†ï¼Œæ‰€ä»¥æšä¸¾çš„æ€§èƒ½ç›¸è¾ƒäºå­—ç¬¦ä¸²å¿«ï¼Œä½†ç¼ºç‚¹æ˜¯ä¸€æ—¦æ˜¯æšä¸¾åˆ—è¡¨å‘ç”Ÿå˜åŒ–ï¼Œå°±å¿…é¡»é€šè¿‡ALTER TABLEæ¥è¿›è¡Œæ·»åŠ ã€‚ æ—¶é—´å’Œæ—¥æœŸ DATE TIME YEAR DATETIME èƒ½å¤Ÿä¿å­˜ä» 1000 å¹´åˆ° 9999 å¹´çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œç²¾åº¦ä¸ºç§’ï¼Œæ—¶åŒºæ— å…³ TIMESTAMP å’Œ UNIX æ—¶é—´æˆ³ç›¸åŒï¼Œåº”è¯¥å°½é‡ä½¿ç”¨ TIMESTAMPï¼Œå› ä¸ºå®ƒæ¯” DATETIME ç©ºé—´æ•ˆç‡æ›´é«˜ ä½æ•°æ®ç±»å‹ è°¨æ…ä½¿ç”¨BITç±»å‹ã€‚SETç±»å‹ç±»ä¼¼äºæšä¸¾ã€‚ åºåˆ— ä½¿ç”¨ AUTO_INCREMENT æ¥ç”Ÿæˆåºåˆ— é€šç”¨ æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªåˆ—å…·æœ‰ AUTO_INCREMENT åˆ—å¿…é¡»å»ºç«‹ç´¢å¼• åˆ—ä¸º NOT NULL ä½¿ç”¨LAST_INSERT_ID()è·å–æœ€åä¸€ä¸ªåºå· æ’å…¥0æˆ–NULLéƒ½ä¼šç”Ÿæˆè‡ªå¢ID æŸäº›å­˜å‚¨å¼•æ“å¯ä»¥å¤ç”¨è¢«åˆ é™¤çš„åºåˆ— å­˜å‚¨å¼•æ“ç‰¹æœ‰ MyISAM: ä¸ä¼šå¤ç”¨è¢«åˆ é™¤çš„åºåˆ— é»˜è®¤ä»1å¼€å§‹ ä½¿ç”¨ALTER TABLE tb AUTO_INCREMENT = 10 è¯­å¥æ›´æ”¹å½“å‰åºåˆ—çš„å€¼\\ InnoDB: CREATE TABLE æ—¶å¯ä»¥æŒ‡å®šèµ·å§‹å€¼ äº‹åŠ¡è¢«å›æ»š åºåˆ—ä¸ä¼šæ··æ»š éœ€è¦è€ƒè™‘çš„é—®é¢˜ AUTO_INCREMENT åªèƒ½ç”Ÿæˆæ­£æ•´æ•°åºåˆ— ä½¿ç”¨ UNSINGED å¯ä»¥è·å¾—åŒå€çš„ç©ºé—´ TRUNCATE TABLE ä¼šé‡ç½®åºåˆ— ä¸ä½¿ç”¨ AUTO_INCREMENT ç”Ÿæˆåºåˆ— UPDATE seq SET n = LAST_INSERT_ID(n+1); -- è°ƒç”¨æœ‰å‚æ–¹æ³• ä¸‹æ¬¡æ— å‚è°ƒç”¨å°±ä¼šè¿”å›n+1 INSERT INTO tb(..) VALUES(LAST_INSERT_ID()...) START TRANSACTION; UPDATE seq SET n = n+1; COMMIT; è¡¨è¾¾å¼ SELECT (SELECT ...),.. FROM ...; -- æ ‡é‡å­æŸ¥è¯¢æä¾›å•ä¸ªå€¼å¿…é¡»ä½¿ç”¨æ‹¬å· è¿ç®—ç¬¦ ç®—æœ¯ï¼š + - * / % DIV a DIV b æ•´é™¤ é€»è¾‘ï¼š AND OR XOR NOT ä½è¿ç®—ï¼š & | ^ > æ¯”è¾ƒè¿ç®—ç¬¦ï¼š ç±»å‹è½¬æ¢ MySQL ä¼šå°½é‡å°†å€¼è½¬æ¢æˆè¡¨è¾¾å¼æ‰€éœ€è¦çš„ç±»å‹ é€‰æ‹© å…·ä½“å¯¹åº”çš„æ•°æ®ç±»å‹ è€ƒè™‘å€¼æ˜¯å¦åœ¨æ•°æ®ç±»å‹æ‰€å¯¹åº”çš„åŒºé—´ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-02 10:20:39 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/è§†å›¾å’Œå­˜å‚¨ç¨‹åº.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/è§†å›¾å’Œå­˜å‚¨ç¨‹åº.html","title":"è§†å›¾å’Œå­˜å‚¨ç¨‹åº","keywords":"","body":"è§†å›¾å’Œå­˜å‚¨ç¨‹åº è§†å›¾ è™šæ‹Ÿè¡¨ ä½¿ç”¨ï¼š CREATE VIEW v AS SELECT ...; CREATE VIEW v(c1,c2) AS SELECT ...; -- å¯¹SELECTç»“æœçš„åˆ—é‡å‘½å CREATE VIEW v AS SELECT id FROM tb WHERE i>1; UPDATE v SET i = i+1; -- å¯¹äºå•å¼ è¡¨çš„ç®€å•è§†å›¾ æ˜¯å¯ä»¥è¿›è¡Œæ›´æ–°çš„ MySQLè§†å›¾çš„å®ç°ï¼š åˆå¹¶ç®—æ³•ï¼šå°†å¯¹è§†å›¾çš„æŸ¥è¯¢æ¡ä»¶åˆå¹¶åˆ°åŸè¡¨çš„æŸ¥è¯¢æ¡ä»¶ä¸Šå» ä¸´æ—¶è¡¨ç®—æ³•ï¼šå°†åˆ›å»ºè§†å›¾æ—¶çš„SELECTè¯­å¥ç»“æœå­˜æ”¾åˆ°ä¸€å¼ ä¸´æ—¶è¡¨ æŸ¥è¯¢è§†å›¾æ—¶æŸ¥è¯¢è¿™å¼ ä¸´æ—¶è¡¨ ä½¿ç”¨EXPLAINæŸ¥çœ‹è§†å›¾å®ç°æ–¹å¼ï¼Œå¦‚æœè§†å›¾åŒ…å«èšåˆå‡½æ•°ã€UNIONæˆ–è€…å­æŸ¥è¯¢ï¼Œåˆ™éƒ½ä¼šä½¿ç”¨ä¸´æ—¶è¡¨å®ç° å­˜å‚¨ç¨‹åº å­˜å‚¨è¿‡ç¨‹ ä¸èƒ½ç”¨åœ¨ sql è¡¨è¾¾å¼ä¸­ å¯ä»¥è¿”å›å¤šä¸ªç»“æœé›† CREATE PROCEDURE show_tables () SELECT * FROM information_schema.tables; CALL show_tables(); -- è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ CREATE PROCEDURE print_2 () -- å¤åˆè¯­å¥ BEGIN SELECT * FROM staff; SELECT * FROM actor; END; -- å­˜å‚¨è¿‡ç¨‹å‚æ•° CREATE PROCEDURE count_people_1(OUT ret INT) BEGIN SET ret = (SELECT COUNT(*) FROM staff); END; CALL count_people_1(@ret); SELECT @ret; å­˜å‚¨å‡½æ•° å¯ä»¥æœ‰å‚æ•° æœ‰è¿”å›å€¼ å­˜å‚¨å‡½æ•°ä¸èƒ½å¯¹è°ƒç”¨å®ƒçš„é‚£æ¡è¯­å¥æ­£æ“ä½œçš„è¡¨è¿›è¡Œä¿®æ”¹ CREATE FUNCTION count_people() RETURNS INT BEGIN RETURN (SELECT COUNT(*) FROM staff); END; SELECT count_people(); è§¦å‘å™¨ å¯¹äºæ¯å¼ è¡¨çš„æ¯ä¸ªäº‹ä»¶ åªèƒ½å®šä¹‰ä¸€ä¸ªè§¦å‘å™¨ MySQLçš„è§¦å‘å™¨æ˜¯åŸºäºè¡Œçš„è§¦å‘ -- æ’å…¥å‰æ£€éªŒ CREATE TRIGGER tri_person BEFORE INSERT ON person FOR EACH ROW BEGIN IF NEW.name != 'cxk' THEN SET NEW.name = 'cxk'; END IF; END; äº‹ä»¶ å¼€å¯äº‹ä»¶è°ƒåº¦ï¼šSET GLOBAL event_scheduler = ON; -- æ¯ç§’æ’å…¥ä¸€æ¡è®°å½• CREATE EVENT insert_people ON SCHEDULE EVERY 1 SECOND DO INSERT INTO person VALUES('cxk'); å¦‚æœä¸Šä¸€ä¸ªäº‹ä»¶çš„ä¸Šä¸€æ¬¡è°ƒåº¦æ²¡æœ‰æ‰§è¡Œå®Œï¼Œæ—¶é—´ä¸€åˆ°ï¼Œä¸‹ä¸€æ¬¡è°ƒåº¦å°±ä¼šå¼€å§‹ï¼Œè¿™ç§å¹¶å‘éœ€è¦ç”¨æˆ·è‡ªå·±å¤„ç† å®‰å…¨æ€§ å¯¹äºè§†å›¾æˆ–è€…å­˜å‚¨ç¨‹åº é»˜è®¤è°ƒç”¨è€…çš„èº«ä»½éƒ½æ˜¯åˆ›å»ºè€… å¯ä»¥åœ¨CREATE è¯­å¥åé¢åŠ ä¸ŠDEGINER = xxx æ¥æŒ‡å®šå®šä¹‰è€… MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-23 08:36:41 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/å­˜å‚¨å¼•æ“.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/å­˜å‚¨å¼•æ“.html","title":"å­˜å‚¨å¼•æ“","keywords":"","body":"å­˜å‚¨å¼•æ“ æŸ¥çœ‹å¯ç”¨å¼•æ“ï¼š show engines; æŸ¥çœ‹è¡¨çš„ç›¸å…³ä¿¡æ¯ï¼š SHOW TABLE STATUS LIKE 'fz_warn'; MyISAMå­˜å‚¨å¼•æ“ 1ã€å¤§æ–‡ä»¶ï¼ˆè¾¾åˆ°63ä½æ–‡ä»¶é•¿åº¦ï¼‰åœ¨æ”¯æŒå¤§æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿå’Œæ“ä½œç³»ç»Ÿä¸Šè¢«æ”¯æŒã€‚ 2ã€å½“æŠŠåˆ é™¤å’Œæ›´æ–°åŠæ’å…¥æ“ä½œæ··åˆä½¿ç”¨çš„æ—¶å€™ï¼ŒåŠ¨æ€å°ºå¯¸çš„è¡Œäº§ç”Ÿæ›´å°‘ç¢ç‰‡ã€‚è¿™è¦é€šè¿‡åˆå¹¶ç›¸é‚»è¢«åˆ é™¤çš„å—ï¼Œä»¥åŠè‹¥ä¸‹ä¸€ä¸ªå—è¢«åˆ é™¤ï¼Œå°±æ‰©å±•åˆ°ä¸‹ä¸€å—è‡ªåŠ¨å®Œæˆã€‚ 3ã€æ¯ä¸ªMyISAMè¡¨æœ€å¤§ç´¢å¼•æ•°æ˜¯64ï¼Œè¿™å¯ä»¥é€šè¿‡é‡æ–°ç¼–è¯‘æ¥æ”¹å˜ã€‚æ¯ä¸ªç´¢å¼•æœ€å¤§çš„åˆ—æ•°æ˜¯16 4ã€NULLè¢«å…è®¸åœ¨ç´¢å¼•çš„åˆ—ä¸­ï¼Œè¿™ä¸ªå€¼å æ¯ä¸ªé”®çš„0~1ä¸ªå­—èŠ‚ 5ã€å¯ä»¥æŠŠæ•°æ®æ–‡ä»¶å’Œç´¢å¼•æ–‡ä»¶æ”¾åœ¨ä¸åŒç›®å½•ï¼ˆInnoDBæ˜¯æ”¾åœ¨ä¸€ä¸ªç›®å½•é‡Œé¢çš„ï¼‰ InnoDBå­˜å‚¨å¼•æ“ MySQL é»˜è®¤çš„äº‹åŠ¡å‹å­˜å‚¨å¼•æ“ï¼Œåªæœ‰åœ¨éœ€è¦å®ƒä¸æ”¯æŒçš„ç‰¹æ€§æ—¶ï¼Œæ‰è€ƒè™‘ä½¿ç”¨å…¶å®ƒå­˜å‚¨å¼•æ“ 1ã€InnoDBç»™MySQLæä¾›äº†å…·æœ‰æäº¤ã€å›æ»šå’Œå´©æºƒæ¢å¤èƒ½åŠ›çš„äº‹ç‰©å®‰å…¨ï¼ˆACIDå…¼å®¹ï¼‰å­˜å‚¨å¼•æ“ã€‚InnoDBé”å®šåœ¨è¡Œçº§å¹¶ä¸”ä¹Ÿåœ¨SELECTè¯­å¥ä¸­æä¾›ä¸€ä¸ªç±»ä¼¼Oracleçš„éé”å®šè¯»ã€‚è¿™äº›åŠŸèƒ½å¢åŠ äº†å¤šç”¨æˆ·éƒ¨ç½²å’Œæ€§èƒ½ã€‚åœ¨SQLæŸ¥è¯¢ä¸­ï¼Œå¯ä»¥è‡ªç”±åœ°å°†InnoDBç±»å‹çš„è¡¨å’Œå…¶ä»–MySQLçš„è¡¨ç±»å‹æ··åˆèµ·æ¥ï¼Œç”šè‡³åœ¨åŒä¸€ä¸ªæŸ¥è¯¢ä¸­ä¹Ÿå¯ä»¥æ··åˆ 2ã€InnoDBæ˜¯ä¸ºå¤„ç†å·¨å¤§æ•°æ®é‡çš„æœ€å¤§æ€§èƒ½è®¾è®¡ã€‚å®ƒçš„CPUæ•ˆç‡å¯èƒ½æ˜¯ä»»ä½•å…¶ä»–åŸºäºç£ç›˜çš„å…³ç³»å‹æ•°æ®åº“å¼•æ“é”ä¸èƒ½åŒ¹æ•Œçš„ 3ã€InnoDBå­˜å‚¨å¼•æ“å®Œå…¨ä¸MySQLæœåŠ¡å™¨æ•´åˆï¼ŒInnoDBå­˜å‚¨å¼•æ“ä¸ºåœ¨ä¸»å†…å­˜ä¸­ç¼“å­˜æ•°æ®å’Œç´¢å¼•è€Œç»´æŒå®ƒè‡ªå·±çš„ç¼“å†²æ± ã€‚InnoDBå°†å®ƒçš„è¡¨å’Œç´¢å¼•åœ¨ä¸€ä¸ªé€»è¾‘è¡¨ç©ºé—´ä¸­ï¼Œè¡¨ç©ºé—´å¯ä»¥åŒ…å«æ•°ä¸ªæ–‡ä»¶ï¼ˆæˆ–åŸå§‹ç£ç›˜æ–‡ä»¶ï¼‰ã€‚è¿™ä¸MyISAMè¡¨ä¸åŒï¼Œæ¯”å¦‚åœ¨MyISAMè¡¨ä¸­æ¯ä¸ªè¡¨è¢«å­˜æ”¾åœ¨åˆ†ç¦»çš„æ–‡ä»¶ä¸­ã€‚InnoDBè¡¨å¯ä»¥æ˜¯ä»»ä½•å°ºå¯¸ï¼Œå³ä½¿åœ¨æ–‡ä»¶å°ºå¯¸è¢«é™åˆ¶ä¸º2GBçš„æ“ä½œç³»ç»Ÿä¸Š 4ã€InnoDBæ”¯æŒå¤–é”®å®Œæ•´æ€§çº¦æŸï¼Œå­˜å‚¨è¡¨ä¸­çš„æ•°æ®æ—¶ï¼Œæ¯å¼ è¡¨çš„å­˜å‚¨éƒ½æŒ‰ä¸»é”®é¡ºåºå­˜æ”¾ï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºåœ¨è¡¨å®šä¹‰æ—¶æŒ‡å®šä¸»é”®ï¼ŒInnoDBä¼šä¸ºæ¯ä¸€è¡Œç”Ÿæˆä¸€ä¸ª6å­—èŠ‚çš„ROWIDï¼Œå¹¶ä»¥æ­¤ä½œä¸ºä¸»é”® MEMORYå­˜å‚¨å¼•æ“ 1ã€MEMORYè¡¨çš„æ¯ä¸ªè¡¨å¯ä»¥æœ‰å¤šè¾¾32ä¸ªç´¢å¼•ï¼Œæ¯ä¸ªç´¢å¼•16åˆ—ï¼Œä»¥åŠ500å­—èŠ‚çš„æœ€å¤§é”®é•¿åº¦ 2ã€MEMORYå­˜å‚¨å¼•æ“æ‰§è¡ŒHASHå’ŒBTREEç¼©å½± 3ã€å¯ä»¥åœ¨ä¸€ä¸ªMEMORYè¡¨ä¸­æœ‰éå”¯ä¸€é”®å€¼ 4ã€MEMORYè¡¨ä½¿ç”¨ä¸€ä¸ªå›ºå®šçš„è®°å½•é•¿åº¦æ ¼å¼ 5ã€MEMORYä¸æ”¯æŒBLOBæˆ–TEXTåˆ— 6ã€MEMORYæ”¯æŒAUTO_INCREMENTåˆ—å’Œå¯¹å¯åŒ…å«NULLå€¼çš„åˆ—çš„ç´¢å¼• 7ã€MEMORYè¡¨åœ¨æ‰€ç”±å®¢æˆ·ç«¯ä¹‹é—´å…±äº«ï¼ˆå°±åƒå…¶ä»–ä»»ä½•éTEMPORARYè¡¨ï¼‰ 8ã€MEMORYè¡¨å†…å­˜è¢«å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ˜¯MEMORYè¡¨å’ŒæœåŠ¡å™¨åœ¨æŸ¥è¯¢å¤„ç†æ—¶çš„ç©ºé—²ä¸­ï¼Œåˆ›å»ºçš„å†…éƒ¨è¡¨å…±äº« 9ã€å½“ä¸å†éœ€è¦MEMORYè¡¨çš„å†…å®¹æ—¶ï¼Œè¦é‡Šæ”¾è¢«MEMORYè¡¨ä½¿ç”¨çš„å†…å­˜ï¼Œåº”è¯¥æ‰§è¡ŒDELETE FROMæˆ–TRUNCATE TABLEï¼Œæˆ–è€…åˆ é™¤æ•´ä¸ªè¡¨ï¼ˆä½¿ç”¨DROP TABLEï¼‰ å¯¹æ¯” åŠŸèƒ½ MYISAM Memory InnoDB Archive å­˜å‚¨é™åˆ¶ 256TB RAM 64TB None æ”¯æŒäº‹åŠ¡ No No Yes No æ”¯æŒå…¨æ–‡ç´¢å¼• Yes No Yes(5.6ä¹‹å) No æ”¯æŒæ•°ç´¢å¼• Yes Yes Yes No æ”¯æŒå“ˆå¸Œç´¢å¼• No Yes No No æ”¯æŒæ•°æ®ç¼“å­˜ No N/A Yes No æ”¯æŒå¤–é”® No No Yes No å¦‚ä½•é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“ æ ¹æ®å¼•æ“ç‰¹æ€§ï¼š å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯ InnoDB å­˜å‚¨å¼•æ“ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ä½¿ç”¨ MyISAM ä¹Ÿæ˜¯åˆé€‚çš„æ¯”å¦‚è¯»å¯†é›†çš„æƒ…å†µä¸‹ï¼Œæˆ–è€…æ¯”å¦‚åªæœ‰MyISAMæ”¯æŒåœ°ç†ç©ºé—´æœç´¢ é™¤éä¸‡ä¸å¾—å·² å¦åˆ™ä¸è¦æ··ç”¨å¼•æ“ã€‚ æ ¹æ®åº”ç”¨ç‰¹æ€§ï¼š ç”µå•†ç½‘ç«™å¿…é¡»æ”¯æŒäº‹åŠ¡ï¼Œè‚¯å®šå¾—ç”¨InnoDBï¼ŒBBSç±»å‹çš„ç½‘ç«™ç»å¸¸ç»Ÿè®¡COUNTï¼ŒMyISAMå¯èƒ½ä¼šæ¯”è¾ƒå¿«ã€‚ å¼•æ“è½¬æ¢ ALTER TABLE è¿™ç§æ–¹å¼æ˜¯é€šè¿‡å°†æ•°æ®ä»åŸè¡¨å¤åˆ¶åˆ°æ–°è¡¨ä¸­ mysqldumpå¯¼å‡ºæ•°æ® INSERT ... SELECT è¯­æ³• MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-01 07:45:10 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/ç´¢å¼•.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/ç´¢å¼•.html","title":"ç´¢å¼•","keywords":"","body":"ç´¢å¼• ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼• å¤§å¤§å‡å°‘äº†æœåŠ¡å™¨éœ€è¦æ‰«æçš„æ•°æ®é‡ å¸®åŠ©æœåŠ¡å™¨é¿å…æ’åºå’Œä¸´æ—¶è¡¨ å°†éšæœºioå˜æˆé¡ºåºio ç´¢å¼•ç”¨å¤„ å¿«é€ŸæŸ¥æ‰¾åŒ¹é…WHEREå­å¥çš„è¡Œ ä»considerationä¸­æ¶ˆé™¤è¡Œ,å¦‚æœå¯ä»¥åœ¨å¤šä¸ªç´¢å¼•ä¹‹é—´è¿›è¡Œé€‰æ‹©ï¼Œmysqlé€šå¸¸ä¼šä½¿ç”¨æ‰¾åˆ°æœ€å°‘è¡Œçš„ç´¢å¼• å¦‚æœè¡¨å…·æœ‰å¤šåˆ—ç´¢å¼•ï¼Œåˆ™ä¼˜åŒ–å™¨å¯ä»¥ä½¿ç”¨ç´¢å¼•çš„ä»»ä½•æœ€å·¦å‰ç¼€æ¥æŸ¥æ‰¾è¡Œ å½“æœ‰è¡¨è¿æ¥çš„æ—¶å€™ï¼Œä»å…¶ä»–è¡¨æ£€ç´¢è¡Œæ•°æ® æŸ¥æ‰¾ç‰¹å®šç´¢å¼•åˆ—çš„minæˆ–maxå€¼ å¦‚æœæ’åºæˆ–åˆ†ç»„æ—¶åœ¨å¯ç”¨ç´¢å¼•çš„æœ€å·¦å‰ç¼€ä¸Šå®Œæˆçš„ï¼Œåˆ™å¯¹è¡¨è¿›è¡Œæ’åºå’Œåˆ†ç»„ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¼˜åŒ–æŸ¥è¯¢ä»¥æ£€ç´¢å€¼è€Œæ— éœ€æŸ¥è¯¢æ•°æ®è¡Œ ç´¢å¼•ä½¿ç”¨æ¡ä»¶ å°è¡¨å…¨è¡¨æ‰«ææ•ˆç‡ä¼˜äºç´¢å¼• ç´¢å¼•é€‚åˆä¸­å¤§å‹è¡¨ ç‰¹å¤§å‹è¡¨ï¼Œå»ºç«‹å’Œç»´æŠ¤ç´¢å¼•çš„ä»£ä»·å°†ä¼šéšä¹‹å¢é•¿ ä¸€äº›ç´¢å¼•æ•°æ®ç»“æ„ hash å¯ä»¥ç›´æ¥æ ¹æ®keyè®¿é—® ä½†æ˜¯æ— æ³•è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ avl å¹³è¡¡äºŒå‰æ ‘ï¼Œå·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œä¸”å·¦å­æ ‘å’Œå³å­æ ‘çš„æ·±åº¦ä¹‹å·®çš„ç»å¯¹å€¼ï¼ˆå¹³è¡¡å› å­ ï¼‰ ä¸è¶…è¿‡1 æ”¯æŒèŒƒå›´æŸ¥è¯¢ æ’å…¥æ“ä½œå¯èƒ½éœ€è¦æ—‹è½¬ï¼Œæ•ˆç‡ä½ b+æ ‘ B+ TreeåŸç† B-treeå‡å°‘äº†å®šä½è®°å½•æ—¶æ‰€ç»å†çš„ä¸­é—´è¿‡ç¨‹ï¼Œä»è€ŒåŠ å¿«å­˜å–é€Ÿåº¦ã€‚æ™®éè¿ç”¨åœ¨æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿ B+æ ‘ä¸­å¶å­èŠ‚ç‚¹ä¸­åŒ…å«äº†keyå’Œvalueï¼Œéå¶å­èŠ‚ç‚¹ä¸­åªæ˜¯åŒ…å«äº†keyï¼Œä¸åŒ…å«value æ‰€æœ‰å¶å­èŠ‚ç‚¹ä½äºåŒä¸€å±‚ æ“ä½œ æŸ¥æ‰¾ é¦–å…ˆåœ¨æ ¹èŠ‚ç‚¹è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ä¸€ä¸ªkeyçš„æŒ‡é’ˆï¼Œæ¥ä¸‹æ¥é€’å½’åœ°ä¸æ–­å‘å…¶éå¶å­èŠ‚ç‚¹æŸ¥æ‰¾ï¼Œåˆ°äº†å¶å­èŠ‚ç‚¹ï¼Œå†è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾å‡ºkeyæ‰€å¯¹åº”çš„data ä¿®æ”¹æ“ä½œä¼šç ´åå¹³è¡¡æ€§ï¼Œæ‰€ä»¥ä¿®æ”¹ä¹‹åä¼šè¿›è¡Œåˆ†è£‚ã€åˆå¹¶ã€æ—‹è½¬ vsçº¢é»‘æ ‘ çº¢é»‘æ ‘çš„å‡ºåº¦ä¸º2ï¼ŒBæ ‘çš„å‡ºåº¦è¦å¤§å¾ˆå¤šï¼Œæ‰€ä»¥Bæ ‘çš„æŸ¥æ‰¾æ¬¡æ•°æ›´å°‘ B+ Treeèƒ½æ›´å¥½åœ°åˆ©ç”¨ç£ç›˜çš„é¢„è¯»ç‰¹æ€§ MYSQLç´¢å¼• æŠ€æœ¯åè¯ å›è¡¨ æœ€å·¦åŒ¹é… ç´¢å¼•ä¸‹æ¨ åˆ†ç±» ä¸»é”®ç´¢å¼• å”¯ä¸€ç´¢å¼• æ™®é€šç´¢å¼• å…¨æ–‡ç´¢å¼• ç»„åˆç´¢å¼• B+ Treeç´¢å¼• æ˜¯å¤§å¤šæ•° MySQL å­˜å‚¨å¼•æ“çš„é»˜è®¤ç´¢å¼•ç±»å‹ é™¤äº†ç”¨äºæŸ¥æ‰¾ï¼Œè¿˜å¯ä»¥ç”¨äºæ’åºå’Œåˆ†ç»„ é€‚ç”¨äºå…¨é”®å€¼ã€é”®å€¼èŒƒå›´å’Œé”®å‰ç¼€æŸ¥æ‰¾ å­˜å‚¨å¼•æ“çš„å®ç° MyISAM: B+Treeå¶èŠ‚ç‚¹çš„dataåŸŸå­˜æ”¾çš„æ˜¯æ•°æ®è®°å½•çš„åœ°å€ã€‚åœ¨ç´¢å¼•æ£€ç´¢çš„æ—¶å€™ï¼Œé¦–å…ˆæŒ‰ç…§B+Treeæœç´¢ç®—æ³•æœç´¢ç´¢å¼•ï¼Œå¦‚æœæŒ‡å®šçš„Keyå­˜åœ¨ï¼Œåˆ™å–å‡ºå…¶ data åŸŸçš„å€¼ï¼Œç„¶åä»¥ data åŸŸçš„å€¼ä¸ºåœ°å€è¯»å–ç›¸åº”çš„æ•°æ®è®°å½•ã€‚è¿™è¢«ç§°ä¸ºâ€œéèšç°‡ç´¢å¼•â€ InnoDB: å…¶æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯ç´¢å¼•æ–‡ä»¶ã€‚ç›¸æ¯”MyISAMï¼Œç´¢å¼•æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶æ˜¯åˆ†ç¦»çš„ï¼Œå…¶è¡¨æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯æŒ‰B+Treeç»„ç»‡çš„ä¸€ä¸ªç´¢å¼•ç»“æ„ï¼Œæ ‘çš„å¶èŠ‚ç‚¹dataåŸŸä¿å­˜äº†å®Œæ•´çš„æ•°æ®è®°å½•ã€‚è¿™ä¸ªç´¢å¼•çš„keyæ˜¯æ•°æ®è¡¨çš„ä¸»é”®ï¼Œå› æ­¤InnoDBè¡¨æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯ä¸»ç´¢å¼•ã€‚è¿™è¢«ç§°ä¸ºâ€œèšç°‡ç´¢å¼•ï¼ˆæˆ–èšé›†ç´¢å¼•ï¼‰â€ã€‚è€Œå…¶ä½™çš„ç´¢å¼•éƒ½ä½œä¸ºè¾…åŠ©ç´¢å¼•ï¼Œè¾…åŠ©ç´¢å¼•çš„dataåŸŸå­˜å‚¨ç›¸åº”è®°å½•ä¸»é”®çš„å€¼è€Œä¸æ˜¯åœ°å€ï¼Œè¿™ä¹Ÿæ˜¯å’ŒMyISAMä¸åŒçš„åœ°æ–¹ã€‚åœ¨æ ¹æ®ä¸»ç´¢å¼•æœç´¢æ—¶ï¼Œç›´æ¥æ‰¾åˆ°keyæ‰€åœ¨çš„èŠ‚ç‚¹å³å¯å–å‡ºæ•°æ®ï¼›åœ¨æ ¹æ®è¾…åŠ©ç´¢å¼•æŸ¥æ‰¾æ—¶ï¼Œåˆ™éœ€è¦å…ˆå–å‡ºä¸»é”®çš„å€¼ï¼Œå†èµ°ä¸€éä¸»ç´¢å¼•ã€‚ å› æ­¤ï¼Œåœ¨è®¾è®¡è¡¨çš„æ—¶å€™ï¼Œä¸å»ºè®®ä½¿ç”¨è¿‡é•¿çš„å­—æ®µä½œä¸ºä¸»é”®ï¼Œä¹Ÿä¸å»ºè®®ä½¿ç”¨éå•è°ƒçš„å­—æ®µä½œä¸ºä¸»é”®ï¼Œè¿™æ ·ä¼šé€ æˆä¸»ç´¢å¼•é¢‘ç¹åˆ†è£‚ å“ˆå¸Œç´¢å¼• æ— æ³•ç”¨äºæ’åºä¸åˆ†ç»„ åªæ”¯æŒç²¾ç¡®æŸ¥æ‰¾ï¼Œæ— æ³•ç”¨äºéƒ¨åˆ†æŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾ åªæœ‰MyISAMå¼•æ“æ˜¾å¼æ”¯æŒå“ˆå¸Œç´¢å¼•ã€‚å¯¹äºç´¢å¼•æ¯”è¾ƒé•¿çš„å­—ç¬¦åºåˆ—ï¼Œå“ˆå¸Œç´¢å¼•å¾ˆå¥½ç”¨ InnoDBå½“æŸäº›ç´¢å¼•å€¼è¢«ä½¿ç”¨çš„éå¸¸é¢‘ç¹æ—¶ï¼Œä¼šåœ¨Bæ ‘ç´¢å¼•çš„åŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªå“ˆå¸Œç´¢å¼• å…¨æ–‡ç´¢å¼• MyISAM å­˜å‚¨å¼•æ“æ”¯æŒï¼ˆinnodb 5.6åæ”¯æŒï¼‰ ç”¨äºæŸ¥æ‰¾æ–‡æœ¬ä¸­çš„å…³é”®è¯ æŸ¥æ‰¾æ¡ä»¶ä½¿ç”¨ MATCH AGAINST ä½¿ç”¨å€’æ’ç´¢å¼• ç©ºé—´æ•°æ®ç´¢å¼• é—´æ•°æ®ç´¢å¼•ï¼ˆR-Treeï¼‰ï¼Œå¯ä»¥ç”¨äºåœ°ç†æ•°æ®å­˜å‚¨ ç´¢å¼•åŒ¹é…æ–¹å¼ å…¨å€¼åŒ¹é… å…¨å€¼åŒ¹é…æŒ‡çš„æ˜¯å’Œç´¢å¼•ä¸­çš„æ‰€æœ‰åˆ—è¿›è¡ŒåŒ¹é… explain select * from staffs where name = 'July' and age = '23' and pos = 'dev' åŒ¹é…æœ€å·¦å‰ç¼€ åªåŒ¹é…å‰é¢çš„å‡ åˆ— explain select * from staffs where name = 'July' and age = '23'; explain select * from staffs where name = 'July'; åŒ¹é…åˆ—å‰ç¼€ å¯ä»¥åŒ¹é…æŸä¸€åˆ—çš„å€¼çš„å¼€å¤´éƒ¨åˆ† explain select * from staffs where name like 'J%'; -- å¯ä»¥ç”¨ç´¢å¼• explain select * from staffs where name like '%y'; -- ç”¨ä¸åˆ°ç´¢å¼• åŒ¹é…èŒƒå›´å€¼ å¯ä»¥æŸ¥æ‰¾æŸä¸€ä¸ªèŒƒå›´çš„æ•°æ® explain select * from staffs where name > 'Mary'; ç²¾ç¡®åŒ¹é…æŸä¸€åˆ—å¹¶èŒƒå›´åŒ¹é…å¦å¤–ä¸€åˆ— å¯ä»¥æŸ¥è¯¢ç¬¬ä¸€åˆ—çš„å…¨éƒ¨å’Œç¬¬äºŒåˆ—çš„éƒ¨åˆ† explain select * from staffs where name = 'July' and age > 25; åªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢ æŸ¥è¯¢çš„æ—¶å€™åªéœ€è¦è®¿é—®ç´¢å¼•ï¼Œä¸éœ€è¦è®¿é—®æ•°æ®è¡Œï¼Œæœ¬è´¨ä¸Šå°±æ˜¯è¦†ç›–ç´¢å¼• explain select name,age,pos from staffs where name = 'July' and age = 25 and pos = 'dev'; ç»„åˆç´¢å¼• å½“åŒ…å«å¤šä¸ªåˆ—ä½œä¸ºç´¢å¼•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ­£ç¡®çš„é¡ºåºä¾èµ–äºè¯¥ç´¢å¼•çš„æŸ¥è¯¢ï¼ŒåŒæ—¶éœ€è¦è€ƒè™‘å¦‚ä½•æ›´å¥½çš„æ»¡è¶³æ’åºå’Œåˆ†ç»„çš„éœ€è¦ èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼• ä¸€ç§æ•°æ®å­˜å‚¨æ–¹å¼ã€‚ èšç°‡ç´¢å¼•ï¼šä¸æ˜¯å•ç‹¬çš„ç´¢å¼•ç±»å‹ï¼Œè€Œæ˜¯ä¸€ç§æ•°æ®å­˜å‚¨æ–¹å¼ï¼ŒæŒ‡çš„æ˜¯æ•°æ®è¡Œè·Ÿç›¸é‚»çš„é”®å€¼ç´§å‡‘çš„å­˜å‚¨åœ¨ä¸€èµ· éèšç°‡ç´¢å¼•ï¼šæ•°æ®æ–‡ä»¶è·Ÿç´¢å¼•æ–‡ä»¶åˆ†å¼€å­˜æ”¾ è¦†ç›–ç´¢å¼• å¦‚æœä¸€ä¸ªç´¢å¼•åŒ…å«æ‰€æœ‰éœ€è¦æŸ¥è¯¢çš„å­—æ®µçš„å€¼ï¼Œç§°ä¹‹ä¸ºè¦†ç›–ç´¢å¼•ï¼Œå½“éœ€è¦çš„æ•°æ®è¢«ç´¢å¼•è¦†ç›–æ—¶ï¼Œå°±ä¸å¿…å›è¡¨æŸ¥è¯¢ã€‚ åªä½¿ç”¨ç´¢å¼•å¯ä»¥å‡å°‘æ•°æ®è¯»å–é‡ï¼ŒåŒæ—¶ç”±äºç´¢å¼•æ˜¯é¡ºåºå­˜å‚¨çš„ï¼Œç›¸æ¯”ç›´æ¥è¯»å–æ•°æ®ï¼Œæ‹¥æœ‰è¾ƒå¥½çš„IOæ€§èƒ½ã€‚ MySQLä¸­åªèƒ½ä½¿ç”¨Bæ ‘ç´¢å¼•åšè¦†ç›–ç´¢å¼• EXPLAIN SELECT store_id,film_id FROM inventory; -- Extra:Using index ä»£è¡¨å¯ä»¥åšè¦†ç›–ç´¢å¼• MyISAMå’ŒInnoDBå¯¹B+Treeçš„ä½¿ç”¨ MyISAMç´¢å¼•æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶æ˜¯åˆ†ç¦»çš„ï¼Œç´¢å¼•æ–‡ä»¶ä»…ä¿å­˜æ•°æ®è®°å½•çš„åœ°å€ã€‚è€Œåœ¨InnoDBä¸­ï¼Œè¡¨æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯æŒ‰B+Treeç»„ç»‡çš„ä¸€ä¸ªç´¢å¼•ç»“æ„ï¼Œè¿™æ£µæ ‘çš„å¶èŠ‚ç‚¹dataåŸŸä¿å­˜äº†å®Œæ•´çš„æ•°æ®è®°å½• myisam innodb ç´¢å¼•ä¼˜åŒ– å¦‚æœè¡¨å¾ˆå¤§ï¼Œç´¢å¼•åè€Œä¼šé€ æˆæ€§èƒ½ä¸‹é™ å¦‚æœæœ‰ç´¢å¼•ï¼Œå¢åˆ æ”¹éƒ½ä¼šå˜æ…¢ å°‘é‡æŸ¥è¯¢ä»ç„¶å¾ˆå¿« ä½†æ˜¯å¹¶å‘å¤§çš„æ—¶å€™ä¼šå—åˆ°ç¡¬ç›˜å¸¦å®½å½±å“ ç‹¬ç«‹çš„åˆ— è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œç´¢å¼•åˆ—ä¸èƒ½æ˜¯è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿä¸èƒ½æ˜¯å‡½æ•°çš„å‚æ•° SELECT a FROM B WHERE a+3 = 6; -- aä¸èƒ½ä½œä¸ºç´¢å¼• ä¸»é”®ç´¢å¼• å°½é‡ä½¿ç”¨ä¸»é”®æŸ¥è¯¢ï¼Œè€Œä¸æ˜¯å…¶ä»–ç´¢å¼•ï¼Œå› æ­¤ä¸»é”®æŸ¥è¯¢ä¸ä¼šè§¦å‘å›è¡¨æŸ¥è¯¢ å¤šåˆ—ç´¢å¼• å¤šä¸ªåˆ—ä½œä¸ºæ¡ä»¶è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨å¤šåˆ—ç´¢å¼•æ¯”ä½¿ç”¨å¤šä¸ªå•åˆ—ç´¢å¼•æ€§èƒ½æ›´å¥½ MySQLä¼šè¿›è¡Œä¸€é¡¹ç§°ä¸ºç´¢å¼•åˆå¹¶çš„ç­–ç•¥ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ä½¿ç”¨å¤šä¸ªå•åˆ—ç´¢å¼•æ¥å®šä½æŒ‡å®šçš„è¡Œ ç»„åˆç´¢å¼• å½“ä¸€ä¸ªç´¢å¼•ä¸æ­¢ä¸€ä¸ªåˆ—æ—¶ï¼Œåªæœ‰å½“æœ€å·¦ç´¢å¼•ï¼ˆç´¢å¼•çš„ç¬¬ä¸€ä¸ªåˆ—ï¼‰å‡ºç°æ—¶ï¼Œæ‰ä¼šèµ°ç´¢å¼•æŸ¥è¯¢ ç´¢å¼•åˆ—çš„é¡ºåº åœ¨ä¸è€ƒè™‘æ’åºå’Œåˆ†ç»„æ—¶ï¼Œè®©é€‰æ‹©æ€§æœ€å¼ºçš„ç´¢å¼•åˆ—æ”¾åœ¨å‰é¢ ä¸€ä¸ªåˆ—æ¯”å¦å¤–ä¸€ä¸ªåˆ—æ›´è¶Šèƒ½ç¡®å®šä¸€æ¡æ•°æ®ï¼Œåˆ™å‰è€…é€‰æ‹©æ€§æ›´å¼ºã€‚ä½†è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯æ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼Œä¹Ÿæœ‰å¯èƒ½é€ æˆç´¢å¼•çš„æ•ˆæœéå¸¸å·® å‰ç¼€ç´¢å¼• BLOBã€TEXT å’Œ VARCHAR ç±»å‹çš„åˆ—ï¼Œå¿…é¡»ä½¿ç”¨å‰ç¼€ç´¢å¼•ï¼Œåªç´¢å¼•å¼€å§‹çš„éƒ¨åˆ†å­—ç¬¦ å‰ç¼€ç´¢å¼•æ— æ³•è¿›è¡ŒORDER BY æˆ–è€…GEOUP BYï¼Œä¹Ÿæ— æ³•è¿›è¡Œè¦†ç›–æ‰«æã€‚ æœ‰æ—¶å€™åˆéœ€è¦åç¼€ç´¢å¼•ï¼Œä¸ºäº†è¾¾æˆè¿™ä¸ªç›®çš„ï¼Œä¸€ç§hackçš„æ–¹å¼æ˜¯æŠŠå­—ç¬¦ä¸²åè½¬åè¿›è¡Œå­˜å‚¨ è¦†ç›–ç´¢å¼• ç´¢å¼•åŒ…å«æ‰€æœ‰éœ€è¦æŸ¥è¯¢çš„å­—æ®µçš„å€¼ åªè¯»å–ç´¢å¼•èƒ½å¤§å¤§å‡å°‘æ•°æ®è®¿é—®é‡ ä¸€äº›å­˜å‚¨å¼•æ“åªç¼“å­˜ç´¢å¼• ç´¢å¼•æ‰«æ ä½¿ç”¨EXPLAINæ—¶ ï¼Œtypeä¸ºindexï¼Œä»£è¡¨ä½¿ç”¨äº†ç´¢å¼•æ‰«ææ¥è¿›è¡Œæ’åº ä½¿ç”¨ç´¢å¼•æ‰«ææ¥æ’åº åªæœ‰å½“ç´¢å¼•çš„åˆ—é¡ºåºå’Œorder byå­å¥çš„é¡ºåºå®Œå…¨ä¸€è‡´ï¼Œå¹¶ä¸”æ‰€æœ‰åˆ—çš„æ’åºæ–¹å¼éƒ½ä¸€æ ·æ—¶ï¼Œmysqlæ‰èƒ½å¤Ÿä½¿ç”¨ç´¢å¼•æ¥å¯¹ç»“æœè¿›è¡Œæ’åº å†—ä½™ç´¢å¼• å¤§å¤šæ•°æƒ…å†µä¸‹åº”å°½é‡æ‰©å±•å·²æœ‰çš„ç´¢å¼•è€Œéåˆ›å»ºæ–°ç´¢å¼•ï¼Œç´¢å¼•è¶Šå¤šï¼Œæ›´æ–°çš„æ—¶å€™è¶Šæ…¢ã€‚ ä½†æœ‰æ—¶å€™ä¸ºäº†å…¼å®¹å¤šä¸ªæŸ¥è¯¢æƒ…å†µï¼Œä¸ºåˆ›å»ºå†—ä½™ç´¢å¼•æ¥æå‡æ€§èƒ½ ç»†èŠ‚ union all,in,oréƒ½èƒ½å¤Ÿä½¿ç”¨ç´¢å¼•ï¼Œä½†æ˜¯æ¨èä½¿ç”¨in èŒƒå›´åˆ—å¯ä»¥ç”¨åˆ°ç´¢å¼• èŒƒå›´æ¡ä»¶æ˜¯ï¼šã€>=ã€between èŒƒå›´åˆ—å¯ä»¥ç”¨åˆ°ç´¢å¼•ï¼Œä½†æ˜¯èŒƒå›´åˆ—åé¢çš„åˆ—æ— æ³•ç”¨åˆ°ç´¢å¼•ï¼Œç´¢å¼•æœ€å¤šç”¨äºä¸€ä¸ªèŒƒå›´åˆ— å¼ºåˆ¶ç±»å‹è½¬æ¢ä¼šå…¨è¡¨æ‰«æ æ›´æ–°ååˆ†é¢‘ç¹ï¼Œæ•°æ®åŒºåˆ†åº¦ä¸é«˜çš„å­—æ®µä¸Šä¸å®œå»ºç«‹ç´¢å¼• æ›´æ–°ä¼šå˜æ›´B+æ ‘ï¼Œæ›´æ–°é¢‘ç¹çš„å­—æ®µå»ºè®®ç´¢å¼•ä¼šå¤§å¤§é™ä½æ•°æ®åº“æ€§èƒ½ åŒºåˆ†ä¸å¤§çš„å±æ€§ï¼Œå»ºç«‹ç´¢å¼•æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œä¸èƒ½æœ‰æ•ˆçš„è¿‡æ»¤æ•°æ® åˆ›å»ºç´¢å¼•çš„åˆ—ï¼Œä¸å…è®¸ä¸ºnullï¼Œå¯èƒ½ä¼šå¾—åˆ°ä¸ç¬¦åˆé¢„æœŸçš„ç»“æœ å½“éœ€è¦è¿›è¡Œè¡¨è¿æ¥çš„æ—¶å€™ï¼Œæœ€å¥½ä¸è¦è¶…è¿‡ä¸‰å¼ è¡¨ï¼Œå› ä¸ºéœ€è¦joinçš„å­—æ®µï¼Œæ•°æ®ç±»å‹å¿…é¡»ä¸€è‡´ ä¸‰ç§joinå®ç°æ–¹å¼ èƒ½ä½¿ç”¨limitçš„æ—¶å€™å°½é‡ä½¿ç”¨limit å•è¡¨ç´¢å¼•å»ºè®®æ§åˆ¶åœ¨5ä¸ªä»¥å†… å•ç´¢å¼•å­—æ®µæ•°ä¸å…è®¸è¶…è¿‡5ä¸ªï¼ˆç»„åˆç´¢å¼•ï¼‰ ä¸€äº›é”™è¯¯æ¦‚å¿µï¼š ç´¢å¼•è¶Šå¤šè¶Šå¥½ è¿‡æ—©ä¼˜åŒ– ç´¢å¼•ç›‘æ§ show status like 'Handler_read%'; Handler_read_firstï¼šè¯»å–ç´¢å¼•ç¬¬ä¸€ä¸ªæ¡ç›®çš„æ¬¡æ•° Handler_read_keyï¼šé€šè¿‡indexè·å–æ•°æ®çš„æ¬¡æ•° Handler_read_lastï¼šè¯»å–ç´¢å¼•æœ€åä¸€ä¸ªæ¡ç›®çš„æ¬¡æ•° Handler_read_nextï¼šé€šè¿‡ç´¢å¼•è¯»å–ä¸‹ä¸€æ¡æ•°æ®çš„æ¬¡æ•° Handler_read_prevï¼šé€šè¿‡ç´¢å¼•è¯»å–ä¸Šä¸€æ¡æ•°æ®çš„æ¬¡æ•° Handler_read_rndï¼šä»å›ºå®šä½ç½®è¯»å–æ•°æ®çš„æ¬¡æ•° Handler_read_rnd_nextï¼šä»æ•°æ®èŠ‚ç‚¹è¯»å–ä¸‹ä¸€æ¡æ•°æ®çš„æ¬¡æ•° ç»´æŠ¤ç´¢å¼•å’Œè¡¨ CHECK TABLE å‘½ä»¤å¯ä»¥æ‰¾å‡ºå¤§å¤šæ•°è¡¨å’Œç´¢å¼•çš„é”™è¯¯ï¼Œä½¿ç”¨REPAIR TABLEæ¥ä¿®å¤æŸåçš„è¡¨ ä½¿ç”¨ANALYZE TABLE é‡æ–°ç”Ÿæˆè¡¨çš„ç»Ÿè®¡ä¿¡æ¯ ä½¿ç”¨OPTIMIZE TABLEæ¥æ•´ç†ç¢ç‰‡ï¼Œå¯¹äºä¸æ”¯æŒçš„å­˜å‚¨å¼•æ“ï¼Œæ‰§è¡Œ ALTER TABLE table_name ENGINE=old_engine MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-12 08:08:33 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/ç®¡ç†.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/ç®¡ç†.html","title":"ç®¡ç†","keywords":"","body":"ç®¡ç† MySQL ç»„ä»¶ æœåŠ¡å™¨ mysqld æœåŠ¡å™¨ä¸»ç¨‹åº mysql_safe å¯åŠ¨å’Œç›‘æ§ mysql_multi åŒä¸€ä¸»æœºç®¡ç†å¤šå°MySQL å®¢æˆ·ç«¯å’Œutil mysql å®¢æˆ·ç«¯äº¤äº’å¼ç¨‹åº mysqladmin ç®¡ç†æ•°æ®åº“ mysqldump å¤‡ä»½æˆ–å¤åˆ¶ mysqlcheck æ£€æŸ¥åˆ†æä¼˜åŒ–æˆ–è€…ä¿®å¤è¡¨ myisamchkåªé€‚ç”¨äºmyisam æ•°æ®ç›®å½• ä½ç½®ï¼šæŒ‡å®šdatadiré…ç½®é¡¹ ç»“æ„ æ•°æ®åº“çš„è¡¨ç¤ºï¼šæ–‡ä»¶ç›®å½• æ•°æ®è¡¨çš„è¡¨ç¤ºï¼š InnoDB ç³»ç»Ÿè¡¨ç©ºé—´ï¼šåªæœ‰ä¸€ä¸ª.frmæ–‡ä»¶ ç‹¬ç«‹è¡¨ç©ºé—´: .frmæ–‡ä»¶ä¸ç´¢å¼•æ–‡ä»¶.ibd MyISAM .frm è¡¨ç»“æ„æè¿° .MYD æ•°æ®æ–‡ä»¶ .MYI ç´¢å¼•æ–‡ä»¶ Memory åªæœ‰.frmå­˜å‚¨è¡¨ç»“æ„ å°†lower_case_table_nameç¯å¢ƒå˜é‡è®¾ç½®ä¸º1 MySQL åœ¨æ“ä½œè¡¨æ—¶ ä¼šå°†è¡¨åè‡ªåŠ¨è½¬æ¢ä¸ºå°å†™å­—æ¯ å½±å“è¡¨æœ€å¤§é•¿åº¦çš„å› ç´ ï¼šæ“ä½œç³»ç»Ÿæ–‡ä»¶å¤§å° å­˜å‚¨å¼•æ“å†…éƒ¨é™åˆ¶ è§†å›¾ä¸è§¦å‘å™¨ï¼š è§†å›¾ .frm è§¦å‘å™¨ .TRG ä¸ .TRN çŠ¶æ€ä¸æ—¥å¿—æ–‡ä»¶ï¼š è¿›ç¨‹PIDæ–‡ä»¶ï¼šå†™å…¥è¿›ç¨‹PID å…¶ä»–åº”ç”¨å¯ä»¥è¯»å–mysqlçš„è¿›ç¨‹ID ä»è€Œè¿›è¡Œä¸€äº›æ“ä½œ è¿ç§»æ•°æ®ç›®å½• è¿ç§»ä¹‹å‰éœ€è¦åœæ­¢æœåŠ¡å™¨ å¸¸è§„ç®¡ç† ç”¨æˆ·ç³»ç»Ÿ SELECT Host, User,authentication_string,plugin FROM mysql.user; -- æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯ SET PASSWORD FOR root = 'root'; -- ä¿®æ”¹å¯†ç  å¯åŠ¨ä¸è¿è¡Œ ä»¥érootç”¨æˆ·è¿è¡Œ æ¯æ¬¡éƒ½ä»¥åŒä¸€ä¸ªç”¨æˆ·èº«ä»½è¿è¡Œ mysqladmin -p -u root shutdown # å…³é—­ è®¾ç½®ç³»ç»Ÿå˜é‡ # my.ini [mysqld] max_connection=200 # ä¸‹åˆ’çº¿è·Ÿ-å¯ä»¥äº’æ¢ innodb_buffer_pool_size=16M # å•ä½ä¸å¡«é»˜è®¤ä¸ºå­—èŠ‚ æ’ä»¶ # my.ini [mysqld] plugin-load=xxx,xxx å¼•æ“ SELECT ENGINE, SUPPORT FROM INFORMATION_SCHEMA.ENGINES; -- æŸ¥çœ‹å¼•æ“ é…ç½®é»˜è®¤å¼•æ“ï¼šdefault_storage_engine å‚æ•° è®¿é—®æ§åˆ¶ä¸å®‰å…¨ ç»´æŠ¤ å¤‡ä»½ å¤åˆ¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-04 02:31:27 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/æ•°æ®åº“ä¼˜åŒ–.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/æ•°æ®åº“ä¼˜åŒ–.html","title":"ä¼˜åŒ–","keywords":"","body":"æ•°æ®åº“ä¼˜åŒ– å¯¹äºä¼˜åŒ–æœ€é‡è¦çš„äº‹æ˜¯æµ‹é‡ï¼Œå¦‚æœä¼˜åŒ–çš„æˆæœ¬é«˜äºæ”¶ç›Šï¼Œå°±è¦åœæ­¢ä¼˜åŒ–ã€‚ ä¼˜åŒ–åŸå›  é¿å…ç½‘ç«™å‡ºç°è®¿é—®é”™è¯¯ ä½æ•ˆçš„æŸ¥è¯¢å¯¼è‡´æ•°æ®åº“ä¸ç¨³å®š ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ ä¼˜åŒ–æ–¹é¢ ç¡¬ä»¶ ç³»ç»Ÿé…ç½® æ•°æ®åº“è¡¨ç»“æ„ SQLä¸ç´¢å¼• æˆæœ¬ä»ä¸‹åˆ°ä¸Šé€’å¢ï¼Œæ•ˆæœä»ä¸Šåˆ°ä¸‹é€’å‡ MYSQLä¼˜åŒ– ç›‘æ§ æ€§èƒ½å‰–æ show profile(é€æ¸æ·˜æ±°) ä¸€æ¡SQLè¯­å¥ç»“æŸå ä½¿ç”¨show profileæŸ¥è¯¢å‰–æå·¥å…·ï¼Œå¯ä»¥æŒ‡å®šå…·ä½“çš„type show profile cpu; allï¼šæ˜¾ç¤ºæ‰€æœ‰æ€§èƒ½ä¿¡æ¯ block ioï¼šæ˜¾ç¤ºå—ioæ“ä½œçš„æ¬¡æ•° context switchesï¼šæ˜¾ç¤ºä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œè¢«åŠ¨å’Œä¸»åŠ¨ cpuï¼šæ˜¾ç¤ºç”¨æˆ·cpuæ—¶é—´ã€ç³»ç»Ÿcpuæ—¶é—´ IPCï¼šæ˜¾ç¤ºå‘é€å’Œæ¥å—çš„æ¶ˆæ¯æ•°é‡ memoryï¼šå†…å­˜ page faultsï¼šæ˜¾ç¤ºé¡µé”™è¯¯æ•°é‡ sourceï¼šæ˜¾ç¤ºæºç ä¸­çš„å‡½æ•°åç§°ä¸ä½ç½® swapsï¼šæ˜¾ç¤ºswapçš„æ¬¡æ•° show statusåˆ™å¯ä»¥æŸ¥çœ‹ç›¸å…³è®¡æ•°å™¨æ•°æ®ï¼Œè®¡æ•°å™¨æ•°æ®ä»·å€¼ç›¸è¾ƒäºprofileä½ã€‚ ä½¿ç”¨performance schema é€šè¿‡è¯¥æ•°æ®åº“ç›´æ¥é€šè¿‡sqlå°±èƒ½å¾—åˆ°æœåŠ¡å™¨ç›¸å…³çš„ä¸€äº›æµ‹é‡ä¿¡æ¯ ä½¿ç”¨show processlistæŸ¥çœ‹è¿æ¥çš„çº¿ç¨‹ä¸ªæ•° å¼€å¯æ…¢æŸ¥è¯¢ æ…¢æŸ¥è¯¢æ—¥å¿—å¼å¼€é”€æœ€ä½ï¼Œç²¾åº¦æœ€é«˜çš„æµ‹é‡æŸ¥è¯¢æ—¶é—´çš„å·¥å…· set global slow_query_log=ON; #å¼€å¯æ…¢æŸ¥è¯¢ set global long_query_time=1.0; #è®¾ç½®è®°å½•æ—¶é•¿ä¸º1ç§’ set global log_queries_not_using_indexes = ON; #ä¸é€‚ç”¨ç´¢å¼• æ…¢æŸ¥è¯¢æ—¥å¿—åœ°å€ï¼š åœ°å€å­˜å‚¨åœ¨slow_query_log_fileå˜é‡ä¸­ æ…¢æŸ¥è¯¢æ—¥å¿—å­˜å‚¨æ ¼å¼ # Time: 2019-11-29T06:01:43.909217Z æ‰§è¡Œæ—¶é—´ # User@Host: root[root] @ localhost [] Id: 9 ä¸»æœºä¿¡æ¯ # Query_time: 0.104442 æŸ¥è¯¢æ—¶é—´ Lock_time: 0.000153 é”å®šæ—¶é—´ Rows_sent: 1 å‘é€è¡Œæ•° Rows_examined: 16249 é”æ‰«æè¡Œæ•° SET timestamp=1575007303; æ‰§è¡Œæ—¶é—´æˆ³ select count(*) from actor,payment; SQL æ…¢æŸ¥è¯¢åˆ†æå·¥å…· mysqldumpslow mysqldumpslow -t 10 æ—¥å¿—åœ°å€ # åˆ†æå‰10æ¡è®°å½• pt-query-digest wget percona.com/get/pt-query-digest # ä¸‹è½½ chmod u+x pt-query-digest # æ·»åŠ æ‰§è¡Œæƒé™ /pt-query-digest æ…¢æŸ¥è¯¢æ—¥å¿—åœ°å€ # åˆ†ææ—¥å¿— é—®é¢˜å®šä½ æ¬¡æ•°å¤šã€æ—¶é—´é•¿ IOå¤§ æœªå‘½ä¸­ç´¢å¼• æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ explain sql id: 1 select_type: SIMPLE # table: staff partitions: NULL type: index possible_keys: NULL key: idx_fk_store_id key_len: 1 ref: NULL rows: 2 filtered: 100.00 Extra: Using index id: SELECT æŸ¥è¯¢çš„æ ‡è¯†ç¬¦. æ¯ä¸ª SELECT éƒ½ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦. select_type: SELECT æŸ¥è¯¢çš„ç±»å‹. SIMPLE, è¡¨ç¤ºæ­¤æŸ¥è¯¢ä¸åŒ…å« UNION æŸ¥è¯¢æˆ–å­æŸ¥è¯¢ PRIMARY, è¡¨ç¤ºæ­¤æŸ¥è¯¢æ˜¯æœ€å¤–å±‚çš„æŸ¥è¯¢ UNION, è¡¨ç¤ºæ­¤æŸ¥è¯¢æ˜¯ UNION çš„ç¬¬äºŒæˆ–éšåçš„æŸ¥è¯¢ DEPENDENT UNION, UNION ä¸­çš„ç¬¬äºŒä¸ªæˆ–åé¢çš„æŸ¥è¯¢è¯­å¥, å–å†³äºå¤–é¢çš„æŸ¥è¯¢ UNION RESULT, UNION çš„ç»“æœ SUBQUERY, å­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ª SELECT DEPENDENT SUBQUERY: å­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ª SELECT, å–å†³äºå¤–é¢çš„æŸ¥è¯¢. å³å­æŸ¥è¯¢ä¾èµ–äºå¤–å±‚æŸ¥è¯¢çš„ç»“æœ. table: æŸ¥è¯¢çš„æ˜¯å“ªä¸ªè¡¨ partitions: åŒ¹é…çš„åˆ†åŒº type: join ç±»å‹ é€šå¸¸æ¥è¯´, ä¸åŒçš„ type ç±»å‹çš„æ€§èƒ½å…³ç³»:ALL possible_keys: æ­¤æ¬¡æŸ¥è¯¢ä¸­å¯èƒ½é€‰ç”¨çš„ç´¢å¼• key: æ­¤æ¬¡æŸ¥è¯¢ä¸­ç¡®åˆ‡ä½¿ç”¨åˆ°çš„ç´¢å¼• key_len:è¡¨ç¤ºæŸ¥è¯¢ä¼˜åŒ–å™¨ä½¿ç”¨äº†ç´¢å¼•çš„å­—èŠ‚æ•°. è¿™ä¸ªå­—æ®µå¯ä»¥è¯„ä¼°ç»„åˆç´¢å¼•æ˜¯å¦å®Œå…¨è¢«ä½¿ç”¨, æˆ–åªæœ‰æœ€å·¦éƒ¨åˆ†å­—æ®µè¢«ä½¿ç”¨åˆ° rows:ä¼°ç®— SQL è¦æŸ¥æ‰¾åˆ°ç»“æœé›†éœ€è¦æ‰«æè¯»å–çš„æ•°æ®è¡Œæ•°ï¼Œè¿™ä¸ªå€¼éå¸¸ç›´è§‚æ˜¾ç¤º SQL çš„æ•ˆç‡å¥½å, åŸåˆ™ä¸Š rows è¶Šå°‘è¶Šå¥½ extra:EXplain ä¸­çš„å¾ˆå¤šé¢å¤–çš„ä¿¡æ¯ä¼šåœ¨ Extra å­—æ®µæ˜¾ç¤º Using filesort:è¡¨ç¤º MySQL éœ€é¢å¤–çš„æ’åºæ“ä½œ, ä¸èƒ½é€šè¿‡ç´¢å¼•é¡ºåºè¾¾åˆ°æ’åºæ•ˆæœï¼Œä¸€èˆ¬æœ‰ Using filesort, éƒ½å»ºè®®ä¼˜åŒ–å»æ‰, å› ä¸ºè¿™æ ·çš„æŸ¥è¯¢ CPU èµ„æºæ¶ˆè€—å¤§ Using indexï¼š\"è¦†ç›–ç´¢å¼•æ‰«æ\", è¡¨ç¤ºæŸ¥è¯¢åœ¨ç´¢å¼•æ ‘ä¸­å°±å¯æŸ¥æ‰¾æ‰€éœ€æ•°æ®, ä¸ç”¨æ‰«æè¡¨æ•°æ®æ–‡ä»¶, å¾€å¾€è¯´æ˜æ€§èƒ½ä¸é”™ Using temporaryï¼šæŸ¥è¯¢æœ‰ä½¿ç”¨ä¸´æ—¶è¡¨, ä¸€èˆ¬å‡ºç°äºæ’åº, åˆ†ç»„å’Œå¤šè¡¨ join çš„æƒ…å†µ, æŸ¥è¯¢æ•ˆç‡ä¸é«˜, å»ºè®®ä¼˜åŒ– ç´¢å¼•ä¼˜åŒ– ç´¢å¼• åˆ›å»ºç´¢å¼• ALTER TABLEç”¨æ¥åˆ›å»ºæ™®é€šç´¢å¼•ã€UNIQUEç´¢å¼•æˆ–PRIMARY KEYç´¢å¼• ALTER TABLE table_name ADD INDEX index_name (column_list) ALTER TABLE table_name ADD UNIQUE (column_list) ALTER TABLE table_name ADD PRIMARY KEY (column_list) CREATE INDEXå¯å¯¹è¡¨å¢åŠ æ™®é€šç´¢å¼•æˆ–UNIQUEç´¢å¼• CREATE INDEX index_name ON table_name (column_list) CREATE UNIQUE INDEX index_name ON table_name (column_list) è·å–ç´¢å¼• show keys from table_name ä½•æ—¶ä½¿ç”¨ç´¢å¼• ä¸»é”®åˆ—ä¸­åˆ›å»ºç´¢å¼• å¤šè¡¨è¿æ¥æ—¶è¿æ¥åˆ—åˆ›å»ºç´¢å¼• whereå­å¥æŸ¥è¯¢çš„åˆ— éœ€è¦ç»å¸¸GROUP BYå’ŒORDER BYçš„åˆ— ç´¢å¼•ä¼˜åŒ– æ‰¾å‡ºé‡å¤å†—ä½™ç´¢å¼• ç´¢å¼•ä¸åŒ…å«NULL çŸ­ç´¢å¼• æ’åºçš„ç´¢å¼•é—®é¢˜ likeè¯­å¥å‰%ä¸ä¼šä½¿ç”¨ç´¢å¼• åˆ—ä¸Šè¿ç®—é—®é¢˜ NOT INä¼šè¿›è¡Œå…¨è¡¨æ‰«æ æ•°æ®åº“ç»“æ„ä¼˜åŒ– é€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹ èŒƒå¼åŒ– åèŒƒå¼åŒ– å‚ç›´æ‹†åˆ† ä½¿ç”¨å‚ç›´åˆ‡åˆ†å°†æŒ‰æ•°æ®åº“ä¸­è¡¨çš„å¯†é›†ç¨‹åº¦éƒ¨ç½²åˆ°ä¸åŒçš„åº“ä¸­ åˆ‡åˆ†åéƒ¨åˆ†è¡¨æ— æ³•joinï¼Œåªèƒ½é€šè¿‡æ¥å£æ–¹å¼è§£å†³ï¼Œæé«˜äº†ç³»ç»Ÿå¤æ‚åº¦ï¼Œå­˜åœ¨åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ æ°´å¹³æ‹†åˆ† å½“ä¸€ä¸ªè¡¨çš„æ•°æ®ä¸æ–­å¢å¤šæ—¶ï¼Œæ°´å¹³æ‹†åˆ†æ˜¯å¿…ç„¶çš„é€‰æ‹©ï¼Œå®ƒå¯ä»¥å°†æ•°æ®åˆ†å¸ƒåˆ°é›†ç¾¤çš„ä¸åŒèŠ‚ç‚¹ä¸Šï¼Œä»è€Œç¼“å­˜å•ä¸ªæ•°æ®åº“çš„å‹åŠ› åˆ†åº“åˆ†è¡¨ åŒä¸Šé¢çš„æ°´å¹³æ‹†åˆ†ï¼Œæ¯å¼ è¡¨æˆ–è€…æ¯ä¸ªåº“åªå­˜å‚¨ä¸€å®šé‡çš„æ•°æ®ï¼Œå½“éœ€è¦è¿›è¡Œæ•°æ®è¯»å†™æ—¶ï¼Œæ ¹æ®å”¯ä¸€IDå–æ¨¡å¾—åˆ°æ•°æ®çš„ä½ç½® ä¸ºä»€ä¹ˆåˆ†åº“åˆ†è¡¨èƒ½æé«˜æ€§èƒ½ å°†ä¸€å¼ è¡¨çš„æ•°æ®æ‹†åˆ†æˆå¤šä¸ªnå¼ è¡¨è¿›è¡Œå­˜æ”¾ï¼Œç„¶åä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼ˆMyCatæˆ–è€…Sharding-JDBCï¼‰å¯ä»¥å¹¶è¡ŒæŸ¥è¯¢ ä¸€äº›åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶ cobarï¼Œtddlï¼Œatlasï¼Œsharing-jdbcï¼Œmy-cat ç³»ç»Ÿè¿ç§»åˆ°åˆ†åº“åˆ†è¡¨ å¦‚ä½•å°†ä¸€ä¸ªå•è£¤å•è¡¨çš„ç³»ç»ŸåŠ¨æ€è¿ç§»åˆ°åˆ†åº“åˆ†è¡¨ä¸Šå» åœæœºè¿ç§» ç¦æ­¢å…¨éƒ¨æ•°æ®å†™å…¥ï¼Œç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œå°†å•åº“å•è¡¨çš„æ•°æ®å†™åˆ°åˆ†åº“åˆ†è¡¨ä¸Š åŒå†™è¿ç§» æ–°ç³»ç»Ÿéƒ¨ç½²åï¼Œæ¯æ¡æ•°æ®éƒ½ä¼šåœ¨è€åº“å’Œæ–°åº“å†™ä¸€é åå°å¼€å¯ä¸€ä¸ªæ•°æ®åº“è¿ç§»å·¥å…·ï¼Œè¿™ä¸ªå·¥å…·è´Ÿè´£æŠŠè€åº“çš„æ•°æ®å†™åˆ°æ–°åº“å» å†™åˆ°æ–°åº“çš„æ¡ä»¶æ˜¯ï¼Œè€åº“æœ‰çš„æ•°æ®æ–°åº“çš„æ²¡ç”¨æˆ–è€…æ˜¯ è€åº“çš„æ•°æ®æ›´æ–°æ—¶é—´æ¯”æ–°åº“çš„æ–° å·¥å…·ä¼šæ¯”è¾ƒæ–°åº“ä¸è€åº“çš„æ¯ä¸€æ¡æ•°æ®ï¼Œåªæœ‰æ¯æ¡æ•°æ®éƒ½ä¸€è‡´ï¼Œæ‰ç®—å®Œæˆï¼Œå¦åˆ™ç»§ç»­æ–°ä¸€è½®è¿ç§» è¿™æ ·å·¥å…·å‡ è½®æ“ä½œè¿‡å»åï¼Œæ–°è€åº“çš„æ•°æ®å°±ä¸€è‡´äº† åŠ¨æ€æ‰©å®¹ç¼©å®¹çš„åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ åœæœºæ‰©å®¹ åŒä¸Šï¼Œåªä¸è¿‡ä¸Šé¢é‚£æ˜¯ä»å•ä¸ªæ•°æ®åº“åˆ°å¤šä¸ªæ•°æ®åº“ï¼Œè¿™æ¬¡è¿™ä¸ªæ˜¯å¤šä¸ªæ•°æ®åº“åˆ°å¤šä¸ªæ•°æ®åº“ ä½†æ˜¯ä¸æ¨èè¿™ç§åšæ³•ï¼ŒåŸå› æ˜¯æ•°æ®é‡å¾ˆå¤§ï¼Œæ•°æ®å¾ˆéš¾åœ¨çŸ­æ—¶é—´å†…è½¬ç§»å®Œæ¯• ç¬¬ä¸€æ¬¡åˆ†åº“åˆ†è¡¨ï¼Œå°±ä¸€æ¬¡æ€§ç»™ä»–åˆ†ä¸ªå¤Ÿ 32 ä¸ªåº“ï¼Œæ¯ä¸ªåº“ 32 ä¸ªè¡¨ è¿™é‡Œå¯ä»¥å¤šä¸ªåº“éƒ½åœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œå½“ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œå¯ä»¥å°†è¿™äº›åº“è½¬ç§»åˆ°æ–°æœºå™¨ä¸Š è¿™æ ·ï¼Œæ•°æ®çš„é€»è¾‘ä½ç½®æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œä¹Ÿé¿å…æ‰©å®¹ç¼©å®¹å¸¦æ¥çš„æ•°æ®è¿ç§»é—®é¢˜ åˆ†åº“åˆ†è¡¨åçš„ID ä½¿ç”¨ä¸€ä¸ªç³»ç»Ÿæ¥åšè‡ªå¢IDçš„è·å– redisã€æ•°æ®åº“è‡ªå¸¦çš„è‡ªå¢ å¤šä¸ªèŠ‚ç‚¹çš„IDè·å–æ— æ³•å¹¶è¡Œ ä¸åŒçš„æ•°æ®è‡ªå¢IDè®¾ç½®ç›¸åŒçš„æ­¥é•¿ä¸åŒçš„åˆå§‹å€¼ï¼Œè¿™æ ·å°±èƒ½ä¿è¯è¿™äº›èŠ‚ç‚¹IDä¸ä¼šé‡å¤ ä½†è¿™ç§æ–¹å¼æ³¨å®šäº†æ•°æ®åº“èŠ‚ç‚¹æ•°é‡ä¸èƒ½å˜åŒ– uuid UUIDç»„æˆéƒ¨åˆ†:å½“å‰æ—¥æœŸå’Œæ—¶é—´+æ—¶é’Ÿåºåˆ—+éšæœºæ•°+å…¨å±€å”¯ä¸€çš„IEEEæœºå™¨è¯†åˆ«å· æ¯”è¾ƒé•¿ï¼Œæ— æ³•ä¿è¯è¶‹åŠ¿é€’å¢ï¼Œåšç´¢å¼•æ—¶æŸ¥è¯¢æ•ˆç‡ä½ ç³»ç»Ÿæ—¶é—´ å¯ä»¥ä½¿ç”¨ä¸šåŠ¡å­—æ®µæ¥æ‹¼æ¥é¿å…é‡å¤ é›ªèŠ±ç®—æ³• ä¸€ä¸ª 64 ä½çš„ long å‹çš„ idï¼Œ1 ä¸ª bit æ˜¯ä¸ç”¨çš„ï¼Œç”¨å…¶ä¸­çš„ 41 bit ä½œä¸ºæ¯«ç§’æ•°ï¼Œç”¨ 10 bit ä½œä¸ºå·¥ä½œæœºå™¨ idï¼Œ12 bit ä½œä¸ºåºåˆ—å· å•ä¸ªèŠ‚ç‚¹å†…æ— æ³•å¹¶è¡Œ å¤šä¸ªèŠ‚ç‚¹å¯ä»¥å¹¶è¡Œ å¯ä»¥æ”¯æ’‘æ¯ç§’å‡ ä¸‡çš„æƒ…å†µ æ‹†åˆ†ç­–ç•¥ ä½¿ç”¨æ°´å¹³æ‹†åˆ†æ—¶ï¼Œæ“ä½œä¸€æ¡æ•°æ®ï¼Œè¦åœ¨å“ªå¼ è¡¨æ‰¾åˆ°å®ƒ å“ˆå¸Œå–æ¨¡ èŒƒå›´ï¼ŒIDèŒƒå›´ï¼Œæ—¶é—´èŒƒå›´ æ˜ å°„è¡¨ æ‹†åˆ†åçš„é—®é¢˜ äº‹åŠ¡ ä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡ è¿æ¥ åŸæ¥çš„è¿æ¥éœ€è¦åˆ†è§£æˆå¤šä¸ªå•è¡¨æŸ¥è¯¢ï¼Œåœ¨åº”ç”¨å±‚è¿›è¡Œè¿æ¥ IDå”¯ä¸€æ€§ å…¨å±€å”¯ä¸€IDï¼ˆGUIDï¼‰ æ¯ä¸ªåˆ†ç‰‡æŒ‡å®šIDèŒƒå›´ åˆ†å¸ƒå¼IDç”Ÿæˆå™¨ï¼Œé›ªèŠ±ç®—æ³• æ•°æ®è®¿é—®ä¼˜åŒ– å‡å°‘è¯·æ±‚çš„æ•°æ®é‡ SELECT åªè¿”å›å¿…è¦çš„åˆ— ä½¿ç”¨LIMITåªè¿”å›å¿…è¦çš„è¡Œ åœ¨å†…å­˜ç¼“å­˜æ•°æ®é¿å…æŸ¥è¯¢æ•°æ®åº“ å‡å°‘æ‰«æè¡Œæ•° ä½¿ç”¨ç´¢å¼•è¦†ç›–æ¥è¦†ç›–æŸ¥è¯¢ æŸ¥è¯¢æ–¹å¼ä¼˜åŒ– åˆ†è§£å¤§æŸ¥è¯¢ ä¸€ä¸ªå¤§æŸ¥è¯¢å¦‚æœä¸€æ¬¡æ€§æ‰§è¡Œçš„è¯ï¼Œå¯èƒ½ä¸€æ¬¡é”ä½å¾ˆå¤šæ•°æ®ã€å æ»¡æ•´ä¸ªäº‹åŠ¡æ—¥å¿—ã€è€—å°½ç³»ç»Ÿèµ„æº åˆ†è§£å¤§è¿æ¥æŸ¥è¯¢ å°†ä¸€ä¸ªå¤§è¿æ¥æŸ¥è¯¢åˆ†è§£æˆå¯¹æ¯ä¸€ä¸ªè¡¨è¿›è¡Œä¸€æ¬¡å•è¡¨æŸ¥è¯¢ï¼Œç„¶ååœ¨åº”ç”¨ç¨‹åºä¸­è¿›è¡Œå…³è” å¯ä»¥æœ‰æ•ˆåˆ©ç”¨ç¼“å­˜ å‡å°‘é”ç«äº‰ åº”ç”¨å±‚æ‹¼æ¥æ•°æ®ï¼Œæ•°æ®åº“æ‹†åˆ†æ›´å®¹æ˜“ï¼Œä»è€Œåšåˆ°é«˜æ€§èƒ½å’Œå¯ä¼¸ç¼© å•è¡¨æŸ¥è¯¢æ•ˆç‡å¯èƒ½æ¯”è¿æ¥é«˜ é…ç½®ä¼˜åŒ– è®¾ç½®æ–‡ä»¶æœ€å¤§æ‰“å¼€æ•° è®¾ç½®æœ€å¤§è¿æ¥æ•° è®¾ç½®back_log å­˜æ”¾ç­‰å¾…è¿æ¥çš„å †æ ˆå¤§å° interactive_timeout ç¼“å†²åŒº key_buffer_size query_cache_size record_buffer_size read_rnd_buffer_size sort_buffer_size join_buffer_size tmp_table_size table_cache max_heap_table_size thread_cache_size thread_concurrency wait_timeout å…³äºInnoDB æ‰§è¡Œé¡ºåº FORM: å¯¹FROMçš„å·¦è¾¹çš„è¡¨å’Œå³è¾¹çš„è¡¨è®¡ç®—ç¬›å¡å°”ç§¯ã€‚äº§ç”Ÿè™šè¡¨VT1 ON: å¯¹è™šè¡¨VT1è¿›è¡ŒONç­›é€‰ï¼Œåªæœ‰é‚£äº›ç¬¦åˆçš„è¡Œæ‰ä¼šè¢«è®°å½•åœ¨è™šè¡¨VT2ä¸­ã€‚ JOINï¼š å¦‚æœæŒ‡å®šäº†OUTER JOINï¼ˆæ¯”å¦‚left joinã€ right joinï¼‰ï¼Œé‚£ä¹ˆä¿ç•™è¡¨ä¸­æœªåŒ¹é…çš„è¡Œå°±ä¼šä½œä¸ºå¤–éƒ¨è¡Œæ·»åŠ åˆ°è™šæ‹Ÿè¡¨VT2ä¸­ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT3, rug fromå­å¥ä¸­åŒ…å«ä¸¤ä¸ªä»¥ä¸Šçš„è¡¨çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šå¯¹ä¸Šä¸€ä¸ªjoinè¿æ¥äº§ç”Ÿçš„ç»“æœVT3å’Œä¸‹ä¸€ä¸ªè¡¨é‡å¤æ‰§è¡Œæ­¥éª¤1~3è¿™ä¸‰ä¸ªæ­¥éª¤ï¼Œä¸€ç›´åˆ°å¤„ç†å®Œæ‰€æœ‰çš„è¡¨ä¸ºæ­¢ã€‚ WHEREï¼š å¯¹è™šæ‹Ÿè¡¨VT3è¿›è¡ŒWHEREæ¡ä»¶è¿‡æ»¤ã€‚åªæœ‰ç¬¦åˆçš„è®°å½•æ‰ä¼šè¢«æ’å…¥åˆ°è™šæ‹Ÿè¡¨VT4ä¸­ã€‚ GROUP BY: æ ¹æ®group byå­å¥ä¸­çš„åˆ—ï¼Œå¯¹VT4ä¸­çš„è®°å½•è¿›è¡Œåˆ†ç»„æ“ä½œï¼Œäº§ç”ŸVT5. CUBE | ROLLUP: å¯¹è¡¨VT5è¿›è¡Œcubeæˆ–è€…rollupæ“ä½œï¼Œäº§ç”Ÿè¡¨VT6. HAVINGï¼š å¯¹è™šæ‹Ÿè¡¨VT6åº”ç”¨havingè¿‡æ»¤ï¼Œåªæœ‰ç¬¦åˆçš„è®°å½•æ‰ä¼šè¢« æ’å…¥åˆ°è™šæ‹Ÿè¡¨VT7ä¸­ã€‚ SELECTï¼š æ‰§è¡Œselectæ“ä½œï¼Œé€‰æ‹©æŒ‡å®šçš„åˆ—ï¼Œæ’å…¥åˆ°è™šæ‹Ÿè¡¨VT8ä¸­ã€‚ DISTINCTï¼š å¯¹VT8ä¸­çš„è®°å½•è¿›è¡Œå»é‡ã€‚äº§ç”Ÿè™šæ‹Ÿè¡¨VT9. ORDER BY: å°†è™šæ‹Ÿè¡¨VT9ä¸­çš„è®°å½•æŒ‰ç…§è¿›è¡Œæ’åºæ“ä½œï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT10. LIMITï¼šå–å‡ºæŒ‡å®šè¡Œçš„è®°å½•ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT11, å¹¶å°†ç»“æœè¿”å›ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-02 10:20:39 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/performance.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/performance.html","title":"performance schema","keywords":"","body":"MYSQL performance schemaè¯¦è§£ 0ã€performance_schemaçš„ä»‹ç» â€‹ MySQLçš„performance schema ç”¨äºç›‘æ§MySQL serveråœ¨ä¸€ä¸ªè¾ƒä½çº§åˆ«çš„è¿è¡Œè¿‡ç¨‹ä¸­çš„èµ„æºæ¶ˆè€—ã€èµ„æºç­‰å¾…ç­‰æƒ…å†µã€‚ â€‹ ç‰¹ç‚¹å¦‚ä¸‹ï¼š â€‹ 1ã€æä¾›äº†ä¸€ç§åœ¨æ•°æ®åº“è¿è¡Œæ—¶å®æ—¶æ£€æŸ¥serverçš„å†…éƒ¨æ‰§è¡Œæƒ…å†µçš„æ–¹æ³•ã€‚performance_schema æ•°æ®åº“ä¸­çš„è¡¨ä½¿ç”¨performance_schemaå­˜å‚¨å¼•æ“ã€‚è¯¥æ•°æ®åº“ä¸»è¦å…³æ³¨æ•°æ®åº“è¿è¡Œè¿‡ç¨‹ä¸­çš„æ€§èƒ½ç›¸å…³çš„æ•°æ®ï¼Œä¸information_schemaä¸åŒï¼Œinformation_schemaä¸»è¦å…³æ³¨serverè¿è¡Œè¿‡ç¨‹ä¸­çš„å…ƒæ•°æ®ä¿¡æ¯ â€‹ 2ã€performanceschemaé€šè¿‡ç›‘è§†serverçš„äº‹ä»¶æ¥å®ç°ç›‘è§†serverå†…éƒ¨è¿è¡Œæƒ…å†µï¼Œ â€œäº‹ä»¶â€å°±æ˜¯serverå†…éƒ¨æ´»åŠ¨ä¸­æ‰€åšçš„ä»»ä½•äº‹æƒ…ä»¥åŠå¯¹åº”çš„æ—¶é—´æ¶ˆè€—ï¼Œåˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥åˆ¤æ–­serverä¸­çš„ç›¸å…³èµ„æºæ¶ˆè€—åœ¨äº†å“ªé‡Œï¼Ÿä¸€èˆ¬æ¥è¯´ï¼Œäº‹ä»¶å¯ä»¥æ˜¯å‡½æ•°è°ƒç”¨ã€æ“ä½œç³»ç»Ÿçš„ç­‰å¾…ã€SQLè¯­å¥æ‰§è¡Œçš„é˜¶æ®µï¼ˆå¦‚sqlè¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­çš„parsing æˆ– sortingé˜¶æ®µï¼‰æˆ–è€…æ•´ä¸ªSQLè¯­å¥ä¸SQLè¯­å¥é›†åˆã€‚äº‹ä»¶çš„é‡‡é›†å¯ä»¥æ–¹ä¾¿çš„æä¾›serverä¸­çš„ç›¸å…³å­˜å‚¨å¼•æ“å¯¹ç£ç›˜æ–‡ä»¶ã€è¡¨I/Oã€è¡¨é”ç­‰èµ„æºçš„åŒæ­¥è°ƒç”¨ä¿¡æ¯ã€‚ â€‹ 3ã€performance_schemaä¸­çš„äº‹ä»¶ä¸å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—ä¸­çš„äº‹ä»¶ï¼ˆæè¿°æ•°æ®ä¿®æ”¹çš„eventsï¼‰ã€äº‹ä»¶è®¡åˆ’è°ƒåº¦ç¨‹åºï¼ˆè¿™æ˜¯ä¸€ç§å­˜å‚¨ç¨‹åºï¼‰çš„äº‹ä»¶ä¸åŒã€‚performance_schemaä¸­çš„äº‹ä»¶è®°å½•çš„æ˜¯serveræ‰§è¡ŒæŸäº›æ´»åŠ¨å¯¹æŸäº›èµ„æºçš„æ¶ˆè€—ã€è€—æ—¶ã€è¿™äº›æ´»åŠ¨æ‰§è¡Œçš„æ¬¡æ•°ç­‰æƒ…å†µã€‚ â€‹ 4ã€performance_schemaä¸­çš„äº‹ä»¶åªè®°å½•åœ¨æœ¬åœ°serverçš„performance_schemaä¸­ï¼Œå…¶ä¸‹çš„è¿™äº›è¡¨ä¸­æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ä¸ä¼šè¢«å†™å…¥binlogä¸­ï¼Œä¹Ÿä¸ä¼šé€šè¿‡å¤åˆ¶æœºåˆ¶è¢«å¤åˆ¶åˆ°å…¶ä»–serverä¸­ã€‚ â€‹ 5ã€ å½“å‰æ´»è·ƒäº‹ä»¶ã€å†å²äº‹ä»¶å’Œäº‹ä»¶æ‘˜è¦ç›¸å…³çš„è¡¨ä¸­è®°å½•çš„ä¿¡æ¯ã€‚èƒ½æä¾›æŸä¸ªäº‹ä»¶çš„æ‰§è¡Œæ¬¡æ•°ã€ä½¿ç”¨æ—¶é•¿ã€‚è¿›è€Œå¯ç”¨äºåˆ†ææŸä¸ªç‰¹å®šçº¿ç¨‹ã€ç‰¹å®šå¯¹è±¡ï¼ˆå¦‚mutexæˆ–fileï¼‰ç›¸å…³è”çš„æ´»åŠ¨ã€‚ â€‹ 6ã€PERFORMANCE_SCHEMAå­˜å‚¨å¼•æ“ä½¿ç”¨serveræºä»£ç ä¸­çš„â€œæ£€æµ‹ç‚¹â€æ¥å®ç°äº‹ä»¶æ•°æ®çš„æ”¶é›†ã€‚å¯¹äºperformance_schemaå®ç°æœºåˆ¶æœ¬èº«çš„ä»£ç æ²¡æœ‰ç›¸å…³çš„å•ç‹¬çº¿ç¨‹æ¥æ£€æµ‹ï¼Œè¿™ä¸å…¶ä»–åŠŸèƒ½ï¼ˆå¦‚å¤åˆ¶æˆ–äº‹ä»¶è®¡åˆ’ç¨‹åºï¼‰ä¸åŒ â€‹ 7ã€æ”¶é›†çš„äº‹ä»¶æ•°æ®å­˜å‚¨åœ¨performance_schemaæ•°æ®åº“çš„è¡¨ä¸­ã€‚è¿™äº›è¡¨å¯ä»¥ä½¿ç”¨SELECTè¯­å¥æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨SQLè¯­å¥æ›´æ–°performance_schemaæ•°æ®åº“ä¸­çš„è¡¨è®°å½•ï¼ˆå¦‚åŠ¨æ€ä¿®æ”¹performance_schemaçš„setup*å¼€å¤´çš„å‡ ä¸ªé…ç½®è¡¨ï¼Œä½†è¦æ³¨æ„ï¼šé…ç½®è¡¨çš„æ›´æ”¹ä¼šç«‹å³ç”Ÿæ•ˆï¼Œè¿™ä¼šå½±å“æ•°æ®æ”¶é›†ï¼‰ â€‹ 8ã€performance_schemaçš„è¡¨ä¸­çš„æ•°æ®ä¸ä¼šæŒä¹…åŒ–å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œè€Œæ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸€æ—¦æœåŠ¡å™¨é‡å¯ï¼Œè¿™äº›æ•°æ®ä¼šä¸¢å¤±ï¼ˆåŒ…æ‹¬é…ç½®è¡¨åœ¨å†…çš„æ•´ä¸ªperformance_schemaä¸‹çš„æ‰€æœ‰æ•°æ®ï¼‰ â€‹ 9ã€MySQLæ”¯æŒçš„æ‰€æœ‰å¹³å°ä¸­äº‹ä»¶ç›‘æ§åŠŸèƒ½éƒ½å¯ç”¨ï¼Œä½†ä¸åŒå¹³å°ä¸­ç”¨äºç»Ÿè®¡äº‹ä»¶æ—¶é—´å¼€é”€çš„è®¡æ—¶å™¨ç±»å‹å¯èƒ½ä¼šæœ‰æ‰€å·®å¼‚ã€‚ 1ã€performance schemaå…¥é—¨ â€‹ åœ¨mysqlçš„5.7ç‰ˆæœ¬ä¸­ï¼Œæ€§èƒ½æ¨¡å¼æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œå¦‚æœæƒ³è¦æ˜¾å¼çš„å…³é—­çš„è¯éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œä¼šæŠ¥é”™Variable 'performance_schema' is a read only variableã€‚ --æŸ¥çœ‹performance_schemaçš„å±æ€§ mysql> SHOW VARIABLES LIKE 'performance_schema'; +--------------------+-------+ | Variable_name | Value | +--------------------+-------+ | performance_schema | ON | +--------------------+-------+ 1 row in set (0.01 sec) --åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹performance_schemaçš„å±æ€§å€¼ï¼Œonè¡¨ç¤ºå¼€å¯ï¼Œoffè¡¨ç¤ºå…³é—­ [mysqld] performance_schema=ON --åˆ‡æ¢æ•°æ®åº“ use performance_schema; --æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸‹çš„æ‰€æœ‰è¡¨,ä¼šçœ‹åˆ°æœ‰å¾ˆå¤šè¡¨å­˜å‚¨ç€ç›¸å…³çš„ä¿¡æ¯ show tables; --å¯ä»¥é€šè¿‡show create table tablenameæ¥æŸ¥çœ‹åˆ›å»ºè¡¨çš„æ—¶å€™çš„è¡¨ç»“æ„ mysql> show create table setup_consumers; +-----------------+--------------------------------- | Table | Create Table +-----------------+--------------------------------- | setup_consumers | CREATE TABLE `setup_consumers` ( `NAME` varchar(64) NOT NULL, `ENABLED` enum('YES','NO') NOT NULL ) ENGINE=PERFORMANCE_SCHEMA DEFAULT CHARSET=utf8 | +-----------------+--------------------------------- 1 row in set (0.00 sec) â€‹ æƒ³è¦ææ˜ç™½åç»­çš„å†…å®¹ï¼ŒåŒå­¦ä»¬éœ€è¦ç†è§£ä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µï¼š â€‹ instruments: ç”Ÿäº§è€…ï¼Œç”¨äºé‡‡é›†mysqlä¸­å„ç§å„æ ·çš„æ“ä½œäº§ç”Ÿçš„äº‹ä»¶ä¿¡æ¯ï¼Œå¯¹åº”é…ç½®è¡¨ä¸­çš„é…ç½®é¡¹æˆ‘ä»¬å¯ä»¥ç§°ä¸ºç›‘æ§é‡‡é›†é…ç½®é¡¹ã€‚ â€‹ consumers:æ¶ˆè´¹è€…ï¼Œå¯¹åº”çš„æ¶ˆè´¹è€…è¡¨ç”¨äºå­˜å‚¨æ¥è‡ªinstrumentsé‡‡é›†çš„æ•°æ®ï¼Œå¯¹åº”é…ç½®è¡¨ä¸­çš„é…ç½®é¡¹æˆ‘ä»¬å¯ä»¥ç§°ä¸ºæ¶ˆè´¹å­˜å‚¨é…ç½®é¡¹ã€‚ 2ã€performance_schemaè¡¨çš„åˆ†ç±» â€‹ performance_schemaåº“ä¸‹çš„è¡¨å¯ä»¥æŒ‰ç…§ç›‘è§†ä¸åŒçš„çº¬åº¦å°±è¡Œåˆ†ç»„ã€‚ --è¯­å¥äº‹ä»¶è®°å½•è¡¨ï¼Œè¿™äº›è¡¨è®°å½•äº†è¯­å¥äº‹ä»¶ä¿¡æ¯ï¼Œå½“å‰è¯­å¥äº‹ä»¶è¡¨events_statements_currentã€å†å²è¯­å¥äº‹ä»¶è¡¨events_statements_historyå’Œé•¿è¯­å¥å†å²äº‹ä»¶è¡¨events_statements_history_longã€ä»¥åŠèšåˆåçš„æ‘˜è¦è¡¨summaryï¼Œå…¶ä¸­ï¼Œsummaryè¡¨è¿˜å¯ä»¥æ ¹æ®å¸å·(account)ï¼Œä¸»æœº(host)ï¼Œç¨‹åº(program)ï¼Œçº¿ç¨‹(thread)ï¼Œç”¨æˆ·(user)å’Œå…¨å±€(global)å†è¿›è¡Œç»†åˆ†) show tables like '%statement%'; --ç­‰å¾…äº‹ä»¶è®°å½•è¡¨ï¼Œä¸è¯­å¥äº‹ä»¶ç±»å‹çš„ç›¸å…³è®°å½•è¡¨ç±»ä¼¼ï¼š show tables like '%wait%'; --é˜¶æ®µäº‹ä»¶è®°å½•è¡¨ï¼Œè®°å½•è¯­å¥æ‰§è¡Œçš„é˜¶æ®µäº‹ä»¶çš„è¡¨ show tables like '%stage%'; --äº‹åŠ¡äº‹ä»¶è®°å½•è¡¨ï¼Œè®°å½•äº‹åŠ¡ç›¸å…³çš„äº‹ä»¶çš„è¡¨ show tables like '%transaction%'; --ç›‘æ§æ–‡ä»¶ç³»ç»Ÿå±‚è°ƒç”¨çš„è¡¨ show tables like '%file%'; --ç›‘è§†å†…å­˜ä½¿ç”¨çš„è¡¨ show tables like '%memory%'; --åŠ¨æ€å¯¹performance_schemaè¿›è¡Œé…ç½®çš„é…ç½®è¡¨ show tables like '%setup%'; 3ã€performance_schemaçš„ç®€å•é…ç½®ä¸ä½¿ç”¨ â€‹ æ•°æ®åº“åˆšåˆšåˆå§‹åŒ–å¹¶å¯åŠ¨æ—¶ï¼Œå¹¶éæ‰€æœ‰instruments(äº‹ä»¶é‡‡é›†é¡¹ï¼Œåœ¨é‡‡é›†é¡¹çš„é…ç½®è¡¨ä¸­æ¯ä¸€é¡¹éƒ½æœ‰ä¸€ä¸ªå¼€å…³å­—æ®µï¼Œæˆ–ä¸ºYESï¼Œæˆ–ä¸ºNO)å’Œconsumers(ä¸é‡‡é›†é¡¹ç±»ä¼¼ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå¯¹åº”çš„äº‹ä»¶ç±»å‹ä¿å­˜è¡¨é…ç½®é¡¹ï¼Œä¸ºYESå°±è¡¨ç¤ºå¯¹åº”çš„è¡¨ä¿å­˜æ€§èƒ½æ•°æ®ï¼Œä¸ºNOå°±è¡¨ç¤ºå¯¹åº”çš„è¡¨ä¸ä¿å­˜æ€§èƒ½æ•°æ®)éƒ½å¯ç”¨äº†ï¼Œæ‰€ä»¥é»˜è®¤ä¸ä¼šæ”¶é›†æ‰€æœ‰çš„äº‹ä»¶ï¼Œå¯èƒ½ä½ éœ€è¦æ£€æµ‹çš„äº‹ä»¶å¹¶æ²¡æœ‰æ‰“å¼€ï¼Œéœ€è¦è¿›è¡Œè®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä¸¤ä¸ªè¯­å¥æ‰“å¼€å¯¹åº”çš„instrumentså’Œconsumersï¼ˆè¡Œè®¡æ•°å¯èƒ½ä¼šå› MySQLç‰ˆæœ¬è€Œå¼‚)ã€‚ --æ‰“å¼€ç­‰å¾…äº‹ä»¶çš„é‡‡é›†å™¨é…ç½®é¡¹å¼€å…³ï¼Œéœ€è¦ä¿®æ”¹setup_instrumentsé…ç½®è¡¨ä¸­å¯¹åº”çš„é‡‡é›†å™¨é…ç½®é¡¹ UPDATE setup_instruments SET ENABLED = 'YES', TIMED = 'YES'where name like 'wait%'; --æ‰“å¼€ç­‰å¾…äº‹ä»¶çš„ä¿å­˜è¡¨é…ç½®å¼€å…³ï¼Œä¿®æ”¹setup_consumersé…ç½®è¡¨ä¸­å¯¹åº”çš„é…ç½®é¡¹ UPDATE setup_consumers SET ENABLED = 'YES'where name like '%wait%'; --å½“é…ç½®å®Œæˆä¹‹åå¯ä»¥æŸ¥çœ‹å½“å‰serveræ­£åœ¨åšä»€ä¹ˆï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢events_waits_currentè¡¨æ¥å¾—çŸ¥ï¼Œè¯¥è¡¨ä¸­æ¯ä¸ªçº¿ç¨‹åªåŒ…å«ä¸€è¡Œæ•°æ®ï¼Œç”¨äºæ˜¾ç¤ºæ¯ä¸ªçº¿ç¨‹çš„æœ€æ–°ç›‘è§†äº‹ä»¶ select * from events_waits_current\\G *************************** 1. row *************************** THREAD_ID: 11 EVENT_ID: 570 END_EVENT_ID: 570 EVENT_NAME: wait/synch/mutex/innodb/buf_dblwr_mutex SOURCE: TIMER_START: 4508505105239280 TIMER_END: 4508505105270160 TIMER_WAIT: 30880 SPINS: NULL OBJECT_SCHEMA: NULL OBJECT_NAME: NULL INDEX_NAME: NULL OBJECT_TYPE: NULL OBJECT_INSTANCE_BEGIN: 67918392 NESTING_EVENT_ID: NULL NESTING_EVENT_TYPE: NULL OPERATION: lock NUMBER_OF_BYTES: NULL FLAGS: NULL /*è¯¥ä¿¡æ¯è¡¨ç¤ºçº¿ç¨‹idä¸º11çš„çº¿ç¨‹æ­£åœ¨ç­‰å¾…buf_dblwr_mutexé”ï¼Œç­‰å¾…äº‹ä»¶ä¸º30880 å±æ€§è¯´æ˜ï¼š id:äº‹ä»¶æ¥è‡ªå“ªä¸ªçº¿ç¨‹ï¼Œäº‹ä»¶ç¼–å·æ˜¯å¤šå°‘ event_name:è¡¨ç¤ºæ£€æµ‹åˆ°çš„å…·ä½“çš„å†…å®¹ source:è¡¨ç¤ºè¿™ä¸ªæ£€æµ‹ä»£ç åœ¨å“ªä¸ªæºæ–‡ä»¶ä¸­ä»¥åŠè¡Œå· timer_start:è¡¨ç¤ºè¯¥äº‹ä»¶çš„å¼€å§‹æ—¶é—´ timer_end:è¡¨ç¤ºè¯¥äº‹ä»¶çš„ç»“æŸæ—¶é—´ timer_wait:è¡¨ç¤ºè¯¥äº‹ä»¶æ€»çš„èŠ±è´¹æ—¶é—´ æ³¨æ„ï¼š_currentè¡¨ä¸­æ¯ä¸ªçº¿ç¨‹åªä¿ç•™ä¸€æ¡è®°å½•ï¼Œä¸€æ—¦çº¿ç¨‹å®Œæˆå·¥ä½œï¼Œè¯¥è¡¨ä¸­ä¸ä¼šå†è®°å½•è¯¥çº¿ç¨‹çš„äº‹ä»¶ä¿¡æ¯ */ /* _historyè¡¨ä¸­è®°å½•æ¯ä¸ªçº¿ç¨‹åº”è¯¥æ‰§è¡Œå®Œæˆçš„äº‹ä»¶ä¿¡æ¯ï¼Œä½†æ¯ä¸ªçº¿ç¨‹çš„äº‹ä»¶ä¿¡æ¯åªä¼šè®°å½•10æ¡ï¼Œå†å¤šå°±ä¼šè¢«è¦†ç›–ï¼Œ*_history_longè¡¨ä¸­è®°å½•æ‰€æœ‰çº¿ç¨‹çš„äº‹ä»¶ä¿¡æ¯ï¼Œä½†æ€»è®°å½•æ•°é‡æ˜¯10000ï¼Œè¶…è¿‡å°±ä¼šè¢«è¦†ç›–æ‰ */ select thread_id,event_id,event_name,timer_wait from events_waits_history order by thread_id limit 21; /* summaryè¡¨æä¾›æ‰€æœ‰äº‹ä»¶çš„æ±‡æ€»ä¿¡æ¯ï¼Œè¯¥ç»„ä¸­çš„è¡¨ä»¥ä¸åŒçš„æ–¹å¼æ±‡æ€»äº‹ä»¶æ•°æ®ï¼ˆå¦‚ï¼šæŒ‰ç”¨æˆ·ï¼ŒæŒ‰ä¸»æœºï¼ŒæŒ‰çº¿ç¨‹ç­‰ç­‰ï¼‰ã€‚ä¾‹å¦‚ï¼šè¦æŸ¥çœ‹å“ªäº›instrumentså ç”¨æœ€å¤šçš„æ—¶é—´ï¼Œå¯ä»¥é€šè¿‡å¯¹events_waits_summary_global_by_event_nameè¡¨çš„COUNT_STARæˆ–SUM_TIMER_WAITåˆ—è¿›è¡ŒæŸ¥è¯¢ï¼ˆè¿™ä¸¤åˆ—æ˜¯å¯¹äº‹ä»¶çš„è®°å½•æ•°æ‰§è¡ŒCOUNTï¼ˆ*ï¼‰ã€äº‹ä»¶è®°å½•çš„TIMER_WAITåˆ—æ‰§è¡ŒSUMï¼ˆTIMER_WAITï¼‰ç»Ÿè®¡è€Œæ¥ï¼‰ */ SELECT EVENT_NAME,COUNT_STAR FROM events_waits_summary_global_by_event_name ORDER BY COUNT_STAR DESC LIMIT 10; /* instanceè¡¨è®°å½•äº†å“ªäº›ç±»å‹çš„å¯¹è±¡ä¼šè¢«æ£€æµ‹ã€‚è¿™äº›å¯¹è±¡åœ¨è¢«serverä½¿ç”¨æ—¶ï¼Œåœ¨è¯¥è¡¨ä¸­å°†ä¼šäº§ç”Ÿä¸€æ¡äº‹ä»¶è®°å½•ï¼Œä¾‹å¦‚ï¼Œfile_instancesè¡¨åˆ—å‡ºäº†æ–‡ä»¶I/Oæ“ä½œåŠå…¶å…³è”æ–‡ä»¶å */ select * from file_instances limit 20; 4ã€å¸¸ç”¨é…ç½®é¡¹çš„å‚æ•°è¯´æ˜ 1ã€å¯åŠ¨é€‰é¡¹ performance_schema_consumer_events_statements_current=TRUE æ˜¯å¦åœ¨mysql serverå¯åŠ¨æ—¶å°±å¼€å¯events_statements_currentè¡¨çš„è®°å½•åŠŸèƒ½(è¯¥è¡¨è®°å½•å½“å‰çš„è¯­å¥äº‹ä»¶ä¿¡æ¯)ï¼Œå¯åŠ¨ä¹‹åä¹Ÿå¯ä»¥åœ¨setup_consumersè¡¨ä¸­ä½¿ç”¨UPDATEè¯­å¥è¿›è¡ŒåŠ¨æ€æ›´æ–°setup_consumersé…ç½®è¡¨ä¸­çš„events_statements_currenté…ç½®é¡¹ï¼Œé»˜è®¤å€¼ä¸ºTRUE performance_schema_consumer_events_statements_history=TRUE ä¸performance_schema_consumer_events_statements_currenté€‰é¡¹ç±»ä¼¼ï¼Œä½†è¯¥é€‰é¡¹æ˜¯ç”¨äºé…ç½®æ˜¯å¦è®°å½•è¯­å¥äº‹ä»¶çŸ­å†å²ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºTRUE performance_schema_consumer_events_stages_history_long=FALSE ä¸performance_schema_consumer_events_statements_currenté€‰é¡¹ç±»ä¼¼ï¼Œä½†è¯¥é€‰é¡¹æ˜¯ç”¨äºé…ç½®æ˜¯å¦è®°å½•è¯­å¥äº‹ä»¶é•¿å†å²ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºFALSE é™¤äº†statement(è¯­å¥)äº‹ä»¶ä¹‹å¤–ï¼Œè¿˜æ”¯æŒï¼šwait(ç­‰å¾…)äº‹ä»¶ã€state(é˜¶æ®µ)äº‹ä»¶ã€transaction(äº‹åŠ¡)äº‹ä»¶ï¼Œä»–ä»¬ä¸statementäº‹ä»¶ä¸€æ ·éƒ½æœ‰ä¸‰ä¸ªå¯åŠ¨é¡¹åˆ†åˆ«è¿›è¡Œé…ç½®ï¼Œä½†è¿™äº›ç­‰å¾…äº‹ä»¶é»˜è®¤æœªå¯ç”¨ï¼Œå¦‚æœéœ€è¦åœ¨MySQL Serverå¯åŠ¨æ—¶ä¸€åŒå¯åŠ¨ï¼Œåˆ™é€šå¸¸éœ€è¦å†™è¿›my.cnfé…ç½®æ–‡ä»¶ä¸­ performance_schema_consumer_global_instrumentation=TRUE æ˜¯å¦åœ¨MySQL Serverå¯åŠ¨æ—¶å°±å¼€å¯å…¨å±€è¡¨ï¼ˆå¦‚ï¼šmutex_instancesã€rwlock_instancesã€cond_instancesã€file_instancesã€usersã€hostsaccountsã€socket_summary_by_event_nameã€file_summary_by_instanceç­‰å¤§éƒ¨åˆ†çš„å…¨å±€å¯¹è±¡è®¡æ•°ç»Ÿè®¡å’Œäº‹ä»¶æ±‡æ€»ç»Ÿè®¡ä¿¡æ¯è¡¨ ï¼‰çš„è®°å½•åŠŸèƒ½ï¼Œå¯åŠ¨ä¹‹åä¹Ÿå¯ä»¥åœ¨setup_consumersè¡¨ä¸­ä½¿ç”¨UPDATEè¯­å¥è¿›è¡ŒåŠ¨æ€æ›´æ–°å…¨å±€é…ç½®é¡¹ é»˜è®¤å€¼ä¸ºTRUE performance_schema_consumer_statements_digest=TRUE æ˜¯å¦åœ¨MySQL Serverå¯åŠ¨æ—¶å°±å¼€å¯events_statements_summary_by_digest è¡¨çš„è®°å½•åŠŸèƒ½ï¼Œå¯åŠ¨ä¹‹åä¹Ÿå¯ä»¥åœ¨setup_consumersè¡¨ä¸­ä½¿ç”¨UPDATEè¯­å¥è¿›è¡ŒåŠ¨æ€æ›´æ–°digesté…ç½®é¡¹ é»˜è®¤å€¼ä¸ºTRUE performance_schema_consumer_thread_instrumentation=TRUE æ˜¯å¦åœ¨MySQL Serverå¯åŠ¨æ—¶å°±å¼€å¯ events_xxx_summary_by_yyy_by_event_nameè¡¨çš„è®°å½•åŠŸèƒ½ï¼Œå¯åŠ¨ä¹‹åä¹Ÿå¯ä»¥åœ¨setup_consumersè¡¨ä¸­ä½¿ç”¨UPDATEè¯­å¥è¿›è¡ŒåŠ¨æ€æ›´æ–°çº¿ç¨‹é…ç½®é¡¹ é»˜è®¤å€¼ä¸ºTRUE performance_schema_instrument[=name] æ˜¯å¦åœ¨MySQL Serverå¯åŠ¨æ—¶å°±å¯ç”¨æŸäº›é‡‡é›†å™¨ï¼Œç”±äºinstrumentsé…ç½®é¡¹å¤šè¾¾æ•°åƒä¸ªï¼Œæ‰€ä»¥è¯¥é…ç½®é¡¹æ”¯æŒkey-valueæ¨¡å¼ï¼Œè¿˜æ”¯æŒ%å·è¿›è¡Œé€šé…ç­‰ï¼Œå¦‚ä¸‹: # [=name]å¯ä»¥æŒ‡å®šä¸ºå…·ä½“çš„Instrumentsåç§°ï¼ˆä½†æ˜¯è¿™æ ·å¦‚æœæœ‰å¤šä¸ªéœ€è¦æŒ‡å®šçš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨è¯¥é€‰é¡¹å¤šæ¬¡ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œå¯ä»¥æŒ‡å®šinstrumentsç›¸åŒçš„å‰ç¼€+é€šé…ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨%ä»£è¡¨æ‰€æœ‰çš„instruments ## æŒ‡å®šå¼€å¯å•ä¸ªinstruments --performance-schema-instrument= 'instrument_name=value' ## ä½¿ç”¨é€šé…ç¬¦æŒ‡å®šå¼€å¯å¤šä¸ªinstruments --performance-schema-instrument= 'wait/synch/cond/%=COUNTED' ## å¼€å…³æ‰€æœ‰çš„instruments --performance-schema-instrument= '%=ON' --performance-schema-instrument= '%=OFF' æ³¨æ„ï¼Œè¿™äº›å¯åŠ¨é€‰é¡¹è¦ç”Ÿæ•ˆçš„å‰ææ˜¯ï¼Œéœ€è¦è®¾ç½®performance_schema=ONã€‚å¦å¤–ï¼Œè¿™äº›å¯åŠ¨é€‰é¡¹è™½ç„¶æ— æ³•ä½¿ç”¨show variablesè¯­å¥æŸ¥çœ‹ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡setup_instrumentså’Œsetup_consumersè¡¨æŸ¥è¯¢è¿™äº›é€‰é¡¹æŒ‡å®šçš„å€¼ã€‚ 2ã€ç³»ç»Ÿå˜é‡ show variables like '%performance_schema%'; --é‡è¦çš„å±æ€§è§£é‡Š performance_schema=ON /* æ§åˆ¶performance_schemaåŠŸèƒ½çš„å¼€å…³ï¼Œè¦ä½¿ç”¨MySQLçš„performance_schemaï¼Œéœ€è¦åœ¨mysqldå¯åŠ¨æ—¶å¯ç”¨ï¼Œä»¥å¯ç”¨äº‹ä»¶æ”¶é›†åŠŸèƒ½ è¯¥å‚æ•°åœ¨5.7.xä¹‹å‰æ”¯æŒperformance_schemaçš„ç‰ˆæœ¬ä¸­é»˜è®¤å…³é—­ï¼Œ5.7.xç‰ˆæœ¬å¼€å§‹é»˜è®¤å¼€å¯ æ³¨æ„ï¼šå¦‚æœmysqldåœ¨åˆå§‹åŒ–performance_schemaæ—¶å‘ç°æ— æ³•åˆ†é…ä»»ä½•ç›¸å…³çš„å†…éƒ¨ç¼“å†²åŒºï¼Œåˆ™performance_schemaå°†è‡ªåŠ¨ç¦ç”¨ï¼Œå¹¶å°†performance_schemaè®¾ç½®ä¸ºOFF */ performance_schema_digests_size=10000 /* æ§åˆ¶events_statements_summary_by_digestè¡¨ä¸­çš„æœ€å¤§è¡Œæ•°ã€‚å¦‚æœäº§ç”Ÿçš„è¯­å¥æ‘˜è¦ä¿¡æ¯è¶…è¿‡æ­¤æœ€å¤§å€¼ï¼Œä¾¿æ— æ³•ç»§ç»­å­˜å…¥è¯¥è¡¨ï¼Œæ­¤æ—¶performance_schemaä¼šå¢åŠ çŠ¶æ€å˜é‡ */ performance_schema_events_statements_history_long_size=10000 /* æ§åˆ¶events_statements_history_longè¡¨ä¸­çš„æœ€å¤§è¡Œæ•°ï¼Œè¯¥å‚æ•°æ§åˆ¶æ‰€æœ‰ä¼šè¯åœ¨events_statements_history_longè¡¨ä¸­èƒ½å¤Ÿå­˜æ”¾çš„æ€»äº‹ä»¶è®°å½•æ•°ï¼Œè¶…è¿‡è¿™ä¸ªé™åˆ¶ä¹‹åï¼Œæœ€æ—©çš„è®°å½•å°†è¢«è¦†ç›– å…¨å±€å˜é‡ï¼Œåªè¯»å˜é‡ï¼Œæ•´å‹å€¼ï¼Œ5.6.3ç‰ˆæœ¬å¼•å…¥ * 5.6.xç‰ˆæœ¬ä¸­ï¼Œ5.6.5åŠå…¶ä¹‹å‰çš„ç‰ˆæœ¬é»˜è®¤ä¸º10000ï¼Œ5.6.6åŠå…¶ä¹‹åçš„ç‰ˆæœ¬é»˜è®¤å€¼ä¸º-1ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨è®¡ç®—çš„å€¼éƒ½æ˜¯10000 * 5.7.xç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤å€¼ä¸º-1ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨è®¡ç®—çš„å€¼éƒ½æ˜¯10000 */ performance_schema_events_statements_history_size=10 /* æ§åˆ¶events_statements_historyè¡¨ä¸­å•ä¸ªçº¿ç¨‹ï¼ˆä¼šè¯ï¼‰çš„æœ€å¤§è¡Œæ•°ï¼Œè¯¥å‚æ•°æ§åˆ¶å•ä¸ªä¼šè¯åœ¨events_statements_historyè¡¨ä¸­èƒ½å¤Ÿå­˜æ”¾çš„äº‹ä»¶è®°å½•æ•°ï¼Œè¶…è¿‡è¿™ä¸ªé™åˆ¶ä¹‹åï¼Œå•ä¸ªä¼šè¯æœ€æ—©çš„è®°å½•å°†è¢«è¦†ç›– å…¨å±€å˜é‡ï¼Œåªè¯»å˜é‡ï¼Œæ•´å‹å€¼ï¼Œ5.6.3ç‰ˆæœ¬å¼•å…¥ * 5.6.xç‰ˆæœ¬ä¸­ï¼Œ5.6.5åŠå…¶ä¹‹å‰çš„ç‰ˆæœ¬é»˜è®¤ä¸º10ï¼Œ5.6.6åŠå…¶ä¹‹åçš„ç‰ˆæœ¬é»˜è®¤å€¼ä¸º-1ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨è®¡ç®—çš„å€¼éƒ½æ˜¯10 * 5.7.xç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤å€¼ä¸º-1ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨è®¡ç®—çš„å€¼éƒ½æ˜¯10 é™¤äº†statement(è¯­å¥)äº‹ä»¶ä¹‹å¤–ï¼Œwait(ç­‰å¾…)äº‹ä»¶ã€state(é˜¶æ®µ)äº‹ä»¶ã€transaction(äº‹åŠ¡)äº‹ä»¶ï¼Œä»–ä»¬ä¸statementäº‹ä»¶ä¸€æ ·éƒ½æœ‰ä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¿›è¡Œå­˜å‚¨é™åˆ¶é…ç½®ï¼Œæœ‰å…´è¶£çš„åŒå­¦è‡ªè¡Œç ”ç©¶ï¼Œè¿™é‡Œä¸å†èµ˜è¿° */ performance_schema_max_digest_length=1024 /* ç”¨äºæ§åˆ¶æ ‡å‡†åŒ–å½¢å¼çš„SQLè¯­å¥æ–‡æœ¬åœ¨å­˜å…¥performance_schemaæ—¶çš„é™åˆ¶é•¿åº¦ï¼Œè¯¥å˜é‡ä¸max_digest_lengthå˜é‡ç›¸å…³(max_digest_lengthå˜é‡å«ä¹‰è¯·è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™) å…¨å±€å˜é‡ï¼Œåªè¯»å˜é‡ï¼Œé»˜è®¤å€¼1024å­—èŠ‚ï¼Œæ•´å‹å€¼ï¼Œå–å€¼èŒƒå›´0~1048576 */ performance_schema_max_sql_text_length=1024 /* æ§åˆ¶å­˜å…¥events_statements_currentï¼Œevents_statements_historyå’Œevents_statements_history_longè¯­å¥äº‹ä»¶è¡¨ä¸­çš„SQL_TEXTåˆ—çš„æœ€å¤§SQLé•¿åº¦å­—èŠ‚æ•°ã€‚ è¶…å‡ºç³»ç»Ÿå˜é‡performance_schema_max_sql_text_lengthçš„éƒ¨åˆ†å°†è¢«ä¸¢å¼ƒï¼Œä¸ä¼šè®°å½•ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦è°ƒæ•´è¯¥å‚æ•°ï¼Œé™¤éè¢«æˆªæ–­çš„éƒ¨åˆ†ä¸å…¶ä»–SQLæ¯”èµ·æ¥æœ‰å¾ˆå¤§å·®å¼‚ å…¨å±€å˜é‡ï¼Œåªè¯»å˜é‡ï¼Œæ•´å‹å€¼ï¼Œé»˜è®¤å€¼ä¸º1024å­—èŠ‚ï¼Œå–å€¼èŒƒå›´ä¸º0~1048576ï¼Œ5.7.6ç‰ˆæœ¬å¼•å…¥ é™ä½ç³»ç»Ÿå˜é‡performance_schema_max_sql_text_lengthå€¼å¯ä»¥å‡å°‘å†…å­˜ä½¿ç”¨ï¼Œä½†å¦‚æœæ±‡æ€»çš„SQLä¸­ï¼Œè¢«æˆªæ–­éƒ¨åˆ†æœ‰è¾ƒå¤§å·®å¼‚ï¼Œä¼šå¯¼è‡´æ²¡æœ‰åŠæ³•å†å¯¹è¿™äº›æœ‰è¾ƒå¤§å·®å¼‚çš„SQLè¿›è¡ŒåŒºåˆ†ã€‚ å¢åŠ è¯¥ç³»ç»Ÿå˜é‡å€¼ä¼šå¢åŠ å†…å­˜ä½¿ç”¨ï¼Œä½†å¯¹äºæ±‡æ€»SQLæ¥è®²å¯ä»¥æ›´ç²¾å‡†åœ°åŒºåˆ†ä¸åŒçš„éƒ¨åˆ†ã€‚ */ 5ã€é‡è¦é…ç½®è¡¨çš„ç›¸å…³è¯´æ˜ â€‹ é…ç½®è¡¨ä¹‹é—´å­˜åœ¨ç›¸äº’å…³è”å…³ç³»ï¼ŒæŒ‰ç…§é…ç½®å½±å“çš„å…ˆåé¡ºåºï¼Œå¯æ·»åŠ ä¸º /* performance_timersè¡¨ä¸­è®°å½•äº†serverä¸­æœ‰å“ªäº›å¯ç”¨çš„äº‹ä»¶è®¡æ—¶å™¨ å­—æ®µè§£é‡Šï¼š timer_name:è¡¨ç¤ºå¯ç”¨è®¡æ—¶å™¨åç§°ï¼ŒCYCLEæ˜¯åŸºäºCPUå‘¨æœŸè®¡æ•°å™¨çš„å®šæ—¶å™¨ timer_frequency:è¡¨ç¤ºæ¯ç§’é’Ÿå¯¹åº”çš„è®¡æ—¶å™¨å•ä½çš„æ•°é‡,CYCLEè®¡æ—¶å™¨çš„æ¢ç®—å€¼ä¸CPUçš„é¢‘ç‡ç›¸å…³ã€ timer_resolution:è®¡æ—¶å™¨ç²¾åº¦å€¼ï¼Œè¡¨ç¤ºåœ¨æ¯ä¸ªè®¡æ—¶å™¨è¢«è°ƒç”¨æ—¶é¢å¤–å¢åŠ çš„å€¼ timer_overhead:è¡¨ç¤ºåœ¨ä½¿ç”¨å®šæ—¶å™¨è·å–äº‹ä»¶æ—¶å¼€é”€çš„æœ€å°å‘¨æœŸå€¼ */ select * from performance_timers; /* setup_timersè¡¨ä¸­è®°å½•å½“å‰ä½¿ç”¨çš„äº‹ä»¶è®¡æ—¶å™¨ä¿¡æ¯ å­—æ®µè§£é‡Šï¼š name:è®¡æ—¶å™¨ç±»å‹ï¼Œå¯¹åº”æŸä¸ªäº‹ä»¶ç±»åˆ« timer_name:è®¡æ—¶å™¨ç±»å‹åç§° */ select * from setup_timers; /* setup_consumersè¡¨ä¸­åˆ—å‡ºäº†consumerså¯é…ç½®åˆ—è¡¨é¡¹ å­—æ®µè§£é‡Šï¼š NAMEï¼šconsumersé…ç½®åç§° ENABLEDï¼šconsumersæ˜¯å¦å¯ç”¨ï¼Œæœ‰æ•ˆå€¼ä¸ºYESæˆ–NOï¼Œæ­¤åˆ—å¯ä»¥ä½¿ç”¨UPDATEè¯­å¥ä¿®æ”¹ã€‚ */ select * from setup_consumers; /* setup_instruments è¡¨åˆ—å‡ºäº†instruments åˆ—è¡¨é…ç½®é¡¹ï¼Œå³ä»£è¡¨äº†å“ªäº›äº‹ä»¶æ”¯æŒè¢«æ”¶é›†ï¼š å­—æ®µè§£é‡Šï¼š NAMEï¼šinstrumentsåç§°ï¼Œinstrumentsåç§°å¯èƒ½å…·æœ‰å¤šä¸ªéƒ¨åˆ†å¹¶å½¢æˆå±‚æ¬¡ç»“æ„ ENABLEDï¼šinstrumetnsæ˜¯å¦å¯ç”¨ï¼Œæœ‰æ•ˆå€¼ä¸ºYESæˆ–NOï¼Œæ­¤åˆ—å¯ä»¥ä½¿ç”¨UPDATEè¯­å¥ä¿®æ”¹ã€‚å¦‚æœè®¾ç½®ä¸ºNOï¼Œåˆ™è¿™ä¸ªinstrumentsä¸ä¼šè¢«æ‰§è¡Œï¼Œä¸ä¼šäº§ç”Ÿä»»ä½•çš„äº‹ä»¶ä¿¡æ¯ TIMEDï¼šinstrumentsæ˜¯å¦æ”¶é›†æ—¶é—´ä¿¡æ¯ï¼Œæœ‰æ•ˆå€¼ä¸ºYESæˆ–NOï¼Œæ­¤åˆ—å¯ä»¥ä½¿ç”¨UPDATEè¯­å¥ä¿®æ”¹ï¼Œå¦‚æœè®¾ç½®ä¸ºNOï¼Œåˆ™è¿™ä¸ªinstrumentsä¸ä¼šæ”¶é›†æ—¶é—´ä¿¡æ¯ */ SELECT * FROM setup_instruments; /* setup_actorsè¡¨çš„åˆå§‹å†…å®¹æ˜¯åŒ¹é…ä»»ä½•ç”¨æˆ·å’Œä¸»æœºï¼Œå› æ­¤å¯¹äºæ‰€æœ‰å‰å°çº¿ç¨‹ï¼Œé»˜è®¤æƒ…å†µä¸‹å¯ç”¨ç›‘è§†å’Œå†å²äº‹ä»¶æ”¶é›†åŠŸèƒ½ å­—æ®µè§£é‡Šï¼š HOSTï¼šä¸grantè¯­å¥ç±»ä¼¼çš„ä¸»æœºåï¼Œä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²åå­—ï¼Œæˆ–ä½¿ç”¨â€œï¼…â€è¡¨ç¤ºâ€œä»»ä½•ä¸»æœºâ€ USERï¼šä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²åç§°ï¼Œæˆ–ä½¿ç”¨â€œï¼…â€è¡¨ç¤ºâ€œä»»ä½•ç”¨æˆ·â€ ROLEï¼šå½“å‰æœªä½¿ç”¨ï¼ŒMySQL 8.0ä¸­æ‰å¯ç”¨è§’è‰²åŠŸèƒ½ ENABLEDï¼šæ˜¯å¦å¯ç”¨ä¸HOSTï¼ŒUSERï¼ŒROLEåŒ¹é…çš„å‰å°çº¿ç¨‹çš„ç›‘æ§åŠŸèƒ½ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šYESæˆ–NO HISTORYï¼šæ˜¯å¦å¯ç”¨ä¸HOSTï¼Œ USERï¼ŒROLEåŒ¹é…çš„å‰å°çº¿ç¨‹çš„å†å²äº‹ä»¶è®°å½•åŠŸèƒ½ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šYESæˆ–NO */ SELECT * FROM setup_actors; /* setup_objectsè¡¨æ§åˆ¶performance_schemaæ˜¯å¦ç›‘è§†ç‰¹å®šå¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤è¡¨çš„æœ€å¤§è¡Œæ•°ä¸º100è¡Œã€‚ å­—æ®µè§£é‡Šï¼š OBJECT_TYPEï¼šinstrumentsç±»å‹ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šâ€œEVENTâ€ï¼ˆäº‹ä»¶è°ƒåº¦å™¨äº‹ä»¶ï¼‰ã€â€œFUNCTIONâ€ï¼ˆå­˜å‚¨å‡½æ•°ï¼‰ã€â€œPROCEDUREâ€ï¼ˆå­˜å‚¨è¿‡ç¨‹ï¼‰ã€â€œTABLEâ€ï¼ˆåŸºè¡¨ï¼‰ã€â€œTRIGGERâ€ï¼ˆè§¦å‘å™¨ï¼‰ï¼ŒTABLEå¯¹è±¡ç±»å‹çš„é…ç½®ä¼šå½±å“è¡¨I/Oäº‹ä»¶ï¼ˆwait/io/table/sql/handler instrumentï¼‰å’Œè¡¨é”äº‹ä»¶ï¼ˆwait/lock/table/sql/handler instrumentï¼‰çš„æ”¶é›† OBJECT_SCHEMAï¼šæŸä¸ªç›‘è§†ç±»å‹å¯¹è±¡æ¶µç›–çš„æ•°æ®åº“åç§°ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²åç§°ï¼Œæˆ–â€œï¼…â€(è¡¨ç¤ºâ€œä»»ä½•æ•°æ®åº“â€) OBJECT_NAMEï¼šæŸä¸ªç›‘è§†ç±»å‹å¯¹è±¡æ¶µç›–çš„è¡¨åï¼Œä¸€ä¸ªå­—ç¬¦ä¸²åç§°ï¼Œæˆ–â€œï¼…â€(è¡¨ç¤ºâ€œä»»ä½•æ•°æ®åº“å†…çš„å¯¹è±¡â€) ENABLEDï¼šæ˜¯å¦å¼€å¯å¯¹æŸä¸ªç±»å‹å¯¹è±¡çš„ç›‘è§†åŠŸèƒ½ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šYESæˆ–NOã€‚æ­¤åˆ—å¯ä»¥ä¿®æ”¹ TIMEDï¼šæ˜¯å¦å¼€å¯å¯¹æŸä¸ªç±»å‹å¯¹è±¡çš„æ—¶é—´æ”¶é›†åŠŸèƒ½ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šYESæˆ–NOï¼Œæ­¤åˆ—å¯ä»¥ä¿®æ”¹ */ SELECT * FROM setup_objects; /* threadsè¡¨å¯¹äºæ¯ä¸ªserverçº¿ç¨‹ç”Ÿæˆä¸€è¡ŒåŒ…å«çº¿ç¨‹ç›¸å…³çš„ä¿¡æ¯ï¼Œ å­—æ®µè§£é‡Šï¼š THREAD_IDï¼šçº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆIDï¼‰ NAMEï¼šä¸serverä¸­çš„çº¿ç¨‹æ£€æµ‹ä»£ç ç›¸å…³è”çš„åç§°(æ³¨æ„ï¼Œè¿™é‡Œä¸æ˜¯instrumentsåç§°) TYPEï¼šçº¿ç¨‹ç±»å‹ï¼Œæœ‰æ•ˆå€¼ä¸ºï¼šFOREGROUNDã€BACKGROUNDã€‚åˆ†åˆ«è¡¨ç¤ºå‰å°çº¿ç¨‹å’Œåå°çº¿ç¨‹ PROCESSLIST_IDï¼šå¯¹åº”INFORMATION_SCHEMA.PROCESSLISTè¡¨ä¸­çš„IDåˆ—ã€‚ PROCESSLIST_USERï¼šä¸å‰å°çº¿ç¨‹ç›¸å…³è”çš„ç”¨æˆ·åï¼Œå¯¹äºåå°çº¿ç¨‹ä¸ºNULLã€‚ PROCESSLIST_HOSTï¼šä¸å‰å°çº¿ç¨‹å…³è”çš„å®¢æˆ·ç«¯çš„ä¸»æœºåï¼Œå¯¹äºåå°çº¿ç¨‹ä¸ºNULLã€‚ PROCESSLIST_DBï¼šçº¿ç¨‹çš„é»˜è®¤æ•°æ®åº“ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¸ºNULLã€‚ PROCESSLIST_COMMANDï¼šå¯¹äºå‰å°çº¿ç¨‹ï¼Œè¯¥å€¼ä»£è¡¨ç€å½“å‰å®¢æˆ·ç«¯æ­£åœ¨æ‰§è¡Œçš„commandç±»å‹ï¼Œå¦‚æœæ˜¯sleepåˆ™è¡¨ç¤ºå½“å‰ä¼šè¯å¤„äºç©ºé—²çŠ¶æ€ PROCESSLIST_TIMEï¼šå½“å‰çº¿ç¨‹å·²å¤„äºå½“å‰çº¿ç¨‹çŠ¶æ€çš„æŒç»­æ—¶é—´ï¼ˆç§’ï¼‰ PROCESSLIST_STATEï¼šè¡¨ç¤ºçº¿ç¨‹æ­£åœ¨åšä»€ä¹ˆäº‹æƒ…ã€‚ PROCESSLIST_INFOï¼šçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„è¯­å¥ï¼Œå¦‚æœæ²¡æœ‰æ‰§è¡Œä»»ä½•è¯­å¥ï¼Œåˆ™ä¸ºNULLã€‚ PARENT_THREAD_IDï¼šå¦‚æœè¿™ä¸ªçº¿ç¨‹æ˜¯ä¸€ä¸ªå­çº¿ç¨‹ï¼ˆç”±å¦ä¸€ä¸ªçº¿ç¨‹ç”Ÿæˆï¼‰ï¼Œé‚£ä¹ˆè¯¥å­—æ®µæ˜¾ç¤ºå…¶çˆ¶çº¿ç¨‹ID ROLEï¼šæš‚æœªä½¿ç”¨ INSTRUMENTEDï¼šçº¿ç¨‹æ‰§è¡Œçš„äº‹ä»¶æ˜¯å¦è¢«æ£€æµ‹ã€‚æœ‰æ•ˆå€¼ï¼šYESã€NO HISTORYï¼šæ˜¯å¦è®°å½•çº¿ç¨‹çš„å†å²äº‹ä»¶ã€‚æœ‰æ•ˆå€¼ï¼šYESã€NO * THREAD_OS_IDï¼šç”±æ“ä½œç³»ç»Ÿå±‚å®šä¹‰çš„çº¿ç¨‹æˆ–ä»»åŠ¡æ ‡è¯†ç¬¦ï¼ˆIDï¼‰ï¼š */ select * from threads æ³¨æ„ï¼šåœ¨performance_schemaåº“ä¸­è¿˜åŒ…å«äº†å¾ˆå¤šå…¶ä»–çš„åº“å’Œè¡¨ï¼Œèƒ½å¯¹æ•°æ®åº“çš„æ€§èƒ½åšå®Œæ•´çš„ç›‘æ§ï¼Œå¤§å®¶éœ€è¦å‚è€ƒå®˜ç½‘è¯¦ç»†äº†è§£ã€‚ 6ã€performance_schemaå®è·µæ“ä½œ â€‹ åŸºæœ¬äº†è§£äº†è¡¨çš„ç›¸å…³ä¿¡æ¯ä¹‹åï¼Œå¯ä»¥é€šè¿‡è¿™äº›è¡¨è¿›è¡Œå®é™…çš„æŸ¥è¯¢æ“ä½œæ¥è¿›è¡Œå®é™…çš„åˆ†æã€‚ --1ã€å“ªç±»çš„SQLæ‰§è¡Œæœ€å¤šï¼Ÿ SELECT DIGEST_TEXT,COUNT_STAR,FIRST_SEEN,LAST_SEEN FROM events_statements_summary_by_digest ORDER BY COUNT_STAR DESC --2ã€å“ªç±»SQLçš„å¹³å‡å“åº”æ—¶é—´æœ€å¤šï¼Ÿ SELECT DIGEST_TEXT,AVG_TIMER_WAIT FROM events_statements_summary_by_digest ORDER BY COUNT_STAR DESC --3ã€å“ªç±»SQLæ’åºè®°å½•æ•°æœ€å¤šï¼Ÿ SELECT DIGEST_TEXT,SUM_SORT_ROWS FROM events_statements_summary_by_digest ORDER BY COUNT_STAR DESC --4ã€å“ªç±»SQLæ‰«æè®°å½•æ•°æœ€å¤šï¼Ÿ SELECT DIGEST_TEXT,SUM_ROWS_EXAMINED FROM events_statements_summary_by_digest ORDER BY COUNT_STAR DESC --5ã€å“ªç±»SQLä½¿ç”¨ä¸´æ—¶è¡¨æœ€å¤šï¼Ÿ SELECT DIGEST_TEXT,SUM_CREATED_TMP_TABLES,SUM_CREATED_TMP_DISK_TABLES FROM events_statements_summary_by_digest ORDER BY COUNT_STAR DESC --6ã€å“ªç±»SQLè¿”å›ç»“æœé›†æœ€å¤šï¼Ÿ SELECT DIGEST_TEXT,SUM_ROWS_SENT FROM events_statements_summary_by_digest ORDER BY COUNT_STAR DESC --7ã€å“ªä¸ªè¡¨ç‰©ç†IOæœ€å¤šï¼Ÿ SELECT file_name,event_name,SUM_NUMBER_OF_BYTES_READ,SUM_NUMBER_OF_BYTES_WRITE FROM file_summary_by_instance ORDER BY SUM_NUMBER_OF_BYTES_READ + SUM_NUMBER_OF_BYTES_WRITE DESC --8ã€å“ªä¸ªè¡¨é€»è¾‘IOæœ€å¤šï¼Ÿ SELECT object_name,COUNT_READ,COUNT_WRITE,COUNT_FETCH,SUM_TIMER_WAIT FROM table_io_waits_summary_by_table ORDER BY sum_timer_wait DESC --9ã€å“ªä¸ªç´¢å¼•è®¿é—®æœ€å¤šï¼Ÿ SELECT OBJECT_NAME,INDEX_NAME,COUNT_FETCH,COUNT_INSERT,COUNT_UPDATE,COUNT_DELETE FROM table_io_waits_summary_by_index_usage ORDER BY SUM_TIMER_WAIT DESC --10ã€å“ªä¸ªç´¢å¼•ä»æ¥æ²¡æœ‰ç”¨è¿‡ï¼Ÿ SELECT OBJECT_SCHEMA,OBJECT_NAME,INDEX_NAME FROM table_io_waits_summary_by_index_usage WHERE INDEX_NAME IS NOT NULL AND COUNT_STAR = 0 AND OBJECT_SCHEMA <> 'mysql' ORDER BY OBJECT_SCHEMA,OBJECT_NAME; --11ã€å“ªä¸ªç­‰å¾…äº‹ä»¶æ¶ˆè€—æ—¶é—´æœ€å¤šï¼Ÿ SELECT EVENT_NAME,COUNT_STAR,SUM_TIMER_WAIT,AVG_TIMER_WAIT FROM events_waits_summary_global_by_event_name WHERE event_name != 'idle' ORDER BY SUM_TIMER_WAIT DESC --12-1ã€å‰–ææŸæ¡SQLçš„æ‰§è¡Œæƒ…å†µï¼ŒåŒ…æ‹¬statementä¿¡æ¯ï¼Œstegeä¿¡æ¯ï¼Œwaitä¿¡æ¯ SELECT EVENT_ID,sql_text FROM events_statements_history WHERE sql_text LIKE '%count(*)%'; --12-2ã€æŸ¥çœ‹æ¯ä¸ªé˜¶æ®µçš„æ—¶é—´æ¶ˆè€— SELECT event_id,EVENT_NAME,SOURCE,TIMER_END - TIMER_START FROM events_stages_history_long WHERE NESTING_EVENT_ID = 1553; --12-3ã€æŸ¥çœ‹æ¯ä¸ªé˜¶æ®µçš„é”ç­‰å¾…æƒ…å†µ SELECT event_id,event_name,source,timer_wait,object_name,index_name,operation,nesting_event_id FROM events_waits_history_longWHERE nesting_event_id = 1553; MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-02-24 04:00:34 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ–.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ–.html","title":"schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ–","keywords":"","body":"schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ– æ•°æ®ç±»å‹ æ›´å°çš„é€šå¸¸æ›´å¥½ï¼ˆä¿è¯èŒƒå›´å¤Ÿç”¨çš„æƒ…å†µä¸‹ï¼‰ ç®€å•å°±å¥½ æ•´å‹æ¯”å­—ç¬¦ä¸²æ“ä½œä»£ä»·æ›´ä½ å°½é‡é¿å…ä½¿ç”¨null å¯¹mysqlæ¥è¯´å¾ˆéš¾ä¼˜åŒ–ï¼Œå› ä¸ºå¯ä¸ºnullçš„åˆ—ä½¿å¾—ç´¢å¼•ã€ç´¢å¼•ç»Ÿè®¡å’Œå€¼æ¯”è¾ƒéƒ½æ›´åŠ å¤æ‚ å®é™…ç»†åˆ™ å­—ç¬¦ä¸² æŒ‰ç…§æŸ¥è¯¢é€Ÿåº¦ï¼šchar>varchar>text varcharæ ¹æ®å®é™…å†…å®¹é•¿åº¦ä¿å­˜æ•°æ® charå›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸² æœ€å¤§é•¿åº¦ï¼š255 ä¼šè‡ªåŠ¨åˆ é™¤æœ«å°¾çš„ç©ºæ ¼ BLOBä¸TEXT ä¸¤è€…éƒ½æ˜¯ä¸ºäº†å­˜å‚¨å¾ˆå¤§æ•°æ®è€Œè®¾è®¡çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ†åˆ«é‡‡ç”¨äºŒè¿›åˆ¶å’Œå­—ç¬¦æ–¹å¼å­˜å‚¨ã€‚ æ—¥æœŸæ—¶é—´ datetime ä¸æ—¶åŒºæ— å…³ï¼Œæ•°æ®åº“åº•å±‚æ—¶åŒºé…ç½®ï¼Œå¯¹datetimeæ— æ•ˆ å¯ä¿å­˜åˆ°æ¯«ç§’ timestamp æ—¶é—´èŒƒå›´ï¼š1970-01-01åˆ°2038-01-19 date dateç±»å‹ç”¨äºä¿å­˜1000-01-01åˆ°9999-12-31ä¹‹é—´çš„æ—¥æœŸ ä½¿ç”¨æšä¸¾æ›¿ä»£å­—ç¬¦ä¸² ç‰¹æ®Šæ•°æ®ç±»å‹ IPä½¿ç”¨æ•´æ•°è¡¨ç¤º èŒƒå¼ä¸åèŒƒå¼ èŒƒå¼åŒ–çš„æ›´æ–°é€šå¸¸æ¯”åèŒƒå¼è¦å¿« å¥½çš„èŒƒå¼å¯ä»¥å‡å°‘å†—ä½™ é€šå¸¸éœ€è¦è¿›è¡Œå…³è” è€ŒåèŒƒå¼æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨åŒä¸€å¼ è¡¨ä¸­ï¼Œå¯ä»¥é¿å…å…³è” å¯ä»¥è®¾è®¡æœ‰æ•ˆçš„ç´¢å¼• è¡¨æ ¼å†…çš„å†—ä½™è¾ƒå¤šï¼Œåˆ é™¤æ•°æ®æ—¶å€™ä¼šé€ æˆè¡¨æœ‰äº›æœ‰ç”¨çš„ä¿¡æ¯ä¸¢å¤± åœ¨å®é™…ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸¤ç§æ··ç”¨ï¼Œä¸€ç§å¾ˆå¸¸è§çš„æƒ…å†µå°±æ˜¯ç¼“å­˜ã€‚ ä¸»é”® ä»£ç†ä¸»é”®ï¼šä¸ä¸šåŠ¡æ— å…³çš„ï¼Œæ— æ„ä¹‰çš„æ•°å­—åºåˆ— ä¸ä¸ä¸šåŠ¡è€¦åˆï¼Œå› æ­¤æ›´å®¹æ˜“ç»´æŠ¤ é€šç”¨çš„é”®ç­–ç•¥èƒ½å¤Ÿå‡å°‘éœ€è¦ç¼–å†™çš„æºç æ•°é‡ï¼Œå‡å°‘ç³»ç»Ÿçš„æ€»ä½“æ‹¥æœ‰æˆæœ¬ è‡ªç„¶ä¸»é”®ï¼šäº‹ç‰©å±æ€§ä¸­çš„è‡ªç„¶å”¯ä¸€æ ‡è¯† å¯¹äºä¸»é”®çš„é€‰æ‹©ï¼Œæœ€å¥½çš„é€‰æ‹©æ˜¯ä½¿ç”¨æ•°å­—ã€‚ç‰¹åˆ«æ˜¯ï¼Œè¦æ³¨æ„å¤–é”®å®šä¹‰çš„ä¸¤ä¸ªåˆ—æ•°æ®ç±»å‹æœ€å¥½ä¸€è‡´ï¼Œåœ¨InnoDBä¸­ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œåˆ›å»ºè¡¨å°†å¤±è´¥ã€‚ ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºä¸»é”®é€šå¸¸æ¯”æ•°å­—ç±»å‹æ…¢ï¼Œä¸”å¯¹äºè¯¸å¦‚MD5,unidè¿™äº›éšæœºçš„å­—ç¬¦ä¸²ï¼Œå°†ä¼šå¯¼è‡´INSERTåŠSELECTè¯­å¥å˜å¾—å¾ˆæ…¢ã€‚è¿™æ˜¯å› ä¸ºéšæœºåˆ†å¸ƒçš„æ•°æ®å¯¼è‡´å±€éƒ¨æ€§åŸç†å¤±æ•ˆï¼Œæ¯æ¬¡å†™å…¥çš„ä½ç½®ä¸å¯é¢„æµ‹ï¼Œé€»è¾‘ç›¸é‚»çš„æ•°æ®ç‰©ç†ä¸ç›¸é‚»ã€‚ å­—ç¬¦é›† çº¯æ‹‰ä¸å­—ç¬¦èƒ½è¡¨ç¤ºçš„å†…å®¹ï¼Œæ²¡å¿…è¦é€‰æ‹© latin1 ä¹‹å¤–çš„å…¶ä»–å­—ç¬¦ç¼–ç ï¼Œå› ä¸ºè¿™ä¼šèŠ‚çœå¤§é‡çš„å­˜å‚¨ç©ºé—´ å¦‚æœæˆ‘ä»¬å¯ä»¥ç¡®å®šä¸éœ€è¦å­˜æ”¾å¤šç§è¯­è¨€ï¼Œå°±æ²¡å¿…è¦éå¾—ä½¿ç”¨UTF8æˆ–è€…å…¶ä»–UNICODEå­—ç¬¦ç±»å‹ MySQLçš„æ•°æ®ç±»å‹å¯ä»¥ç²¾ç¡®åˆ°å­—æ®µï¼Œå¯ä»¥é€šè¿‡å¯¹ä¸åŒè¡¨ä¸åŒå­—æ®µä½¿ç”¨ä¸åŒçš„æ•°æ®ç±»å‹æ¥è¾ƒå¤§ç¨‹åº¦å‡å°æ•°æ®å­˜å‚¨é‡ æ•°æ®å†—ä½™ æ±‡æ€»è¡¨ æŸäº›è¯¸å¦‚å®æ—¶ç»Ÿè®¡çš„æ“ä½œå¾ˆè€—è´¹èµ„æºï¼Œé‚£ä¹ˆå°±å¯ä»¥å®šæœŸè¿›è¡Œè®¡ç®—ï¼Œæ”¾åˆ°ä¸€å¼ ç¼“å­˜è¡¨æ¥æé«˜æ€§èƒ½ã€‚ ç‰©åŒ–è§†å›¾ è¢«é¢‘ç¹å¼•ç”¨ä¸”åªèƒ½é€šè¿‡ Join 2å¼ (æˆ–è€…æ›´å¤š)å¤§è¡¨çš„æ–¹å¼æ‰èƒ½å¾—åˆ°çš„ç‹¬ç«‹å°å­—æ®µ å¯ä»¥å°†è¿™äº›å­—æ®µç‹¬ç«‹å‡ºä¸€å¼ è¡¨ å†—ä½™çš„åŒæ—¶éœ€è¦ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ä¸ä¼šé­åˆ°ç ´åï¼Œç¡®ä¿æ›´æ–°çš„åŒæ—¶å†—ä½™å­—æ®µä¹Ÿè¢«æ›´æ–° è®¡æ•°å™¨è¡¨ ä¸ºäº†é¿å…ç»Ÿè®¡å„ç§è®¡æ•°å™¨å€¼çš„å¼€é”€ï¼Œé€šè¿‡ç»´æŠ¤ä¸€ä¸ªcntå­—æ®µæ¥å®ç°é«˜æ€§èƒ½ã€‚ è¿™ç§æ–¹å¼ä¼šä½¿å†™æ€§èƒ½æ›´å·®ï¼Œä½†ä¼šæå‡è¯»çš„æ€§èƒ½ã€‚ é€‚å½“æ‹†åˆ† å¯¹äºä¸€äº›å¦‚TEXT å¤§VARCHAR æ•°æ®æ—¶ å¯ä»¥å°†è¿™äº›å¤§æ•°æ®å­—æ®µæ‹†åˆ†åˆ°å¦ä¸€ä¸ªè¡¨ é™ä½IOå‹åŠ› Schemaè®¾è®¡ä¸­çš„é™·é˜± ä½¿ç”¨äº†å¤ªå¤šçš„åˆ—ï¼šè½¬æ¢ä»£ä»·æ˜¯éå¸¸é«˜çš„ ä½¿ç”¨å¤ªå¤šçš„å…³è”ä¼šå½±å“æ€§èƒ½ ä¸å¿…å®³æ€•ä½¿ç”¨NULL åŠ å¿«ALTER TABLE å¤§éƒ¨åˆ†ALTER TABLE è¯­å¥éƒ½ä¼šä½¿MySQLåœæ­¢æœåŠ¡ã€‚ ä¸ºäº†é¿å…ALTER TABLEè¿‡äºç¼“æ…¢çš„é—®é¢˜ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š åœ¨å¦å¤–ä¸€å°æœåŠ¡å™¨ä¸Šè¿›è¡Œæ“ä½œï¼Œå®Œäº†ä¹‹åæŠŠæµé‡åˆ‡æ¢è¿‡å» åˆ›å»ºä¸€å¼ æ–°è¡¨ï¼Œå¯¹æ–°è¡¨é‡å‘½å å†æŠŠæ—§è¡¨åˆ æ‰ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-08 09:32:51 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/æ‰§è¡Œè®¡åˆ’.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/æ‰§è¡Œè®¡åˆ’.html","title":"æ‰§è¡Œè®¡åˆ’","keywords":"","body":"æ‰§è¡Œè®¡åˆ’ â€‹ åœ¨ä¼ä¸šçš„åº”ç”¨åœºæ™¯ä¸­ï¼Œä¸ºäº†çŸ¥é“ä¼˜åŒ–SQLè¯­å¥çš„æ‰§è¡Œï¼Œéœ€è¦æŸ¥çœ‹SQLè¯­å¥çš„å…·ä½“æ‰§è¡Œè¿‡ç¨‹ï¼Œä»¥åŠ å¿«SQLè¯­å¥çš„æ‰§è¡Œæ•ˆç‡ã€‚ â€‹ å¯ä»¥ä½¿ç”¨explain+SQLè¯­å¥æ¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€ŒçŸ¥é“mysqlæ˜¯å¦‚ä½•å¤„ç†sqlè¯­å¥çš„ã€‚ â€‹ å®˜ç½‘åœ°å€ï¼š https://dev.mysql.com/doc/refman/5.5/en/explain-output.html 1ã€æ‰§è¡Œè®¡åˆ’ä¸­åŒ…å«çš„ä¿¡æ¯ Column Meaning id The SELECT identifier select_type The SELECT type table The table for the output row partitions The matching partitions type The join type possible_keys The possible indexes to choose key The index actually chosen key_len The length of the chosen key ref The columns compared to the index rows Estimate of rows to be examined filtered Percentage of rows filtered by table condition extra Additional information id selectæŸ¥è¯¢çš„åºåˆ—å·ï¼ŒåŒ…å«ä¸€ç»„æ•°å­—ï¼Œè¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–è€…æ“ä½œè¡¨çš„é¡ºåº idå·åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š â€‹ 1ã€å¦‚æœidç›¸åŒï¼Œé‚£ä¹ˆæ‰§è¡Œé¡ºåºä»ä¸Šåˆ°ä¸‹ explain select * from emp e join dept d on e.deptno = d.deptno join salgrade sg on e.sal between sg.losal and sg.hisal; â€‹ 2ã€å¦‚æœidä¸åŒï¼Œå¦‚æœæ˜¯å­æŸ¥è¯¢ï¼Œidçš„åºå·ä¼šé€’å¢ï¼Œidå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆè¢«æ‰§è¡Œ explain select * from emp e where e.deptno in (select d.deptno from dept d where d.dname = 'SALES'); â€‹ 3ã€idç›¸åŒå’Œä¸åŒçš„ï¼ŒåŒæ—¶å­˜åœ¨ï¼šç›¸åŒçš„å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç»„ï¼Œä»ä¸Šå¾€ä¸‹é¡ºåºæ‰§è¡Œï¼Œåœ¨æ‰€æœ‰ç»„ä¸­ï¼Œidå€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆæ‰§è¡Œ explain select * from emp e join dept d on e.deptno = d.deptno join salgrade sg on e.sal between sg.losal and sg.hisal where e.deptno in (select d.deptno from dept d where d.dname = 'SALES'); select_type ä¸»è¦ç”¨æ¥åˆ†è¾¨æŸ¥è¯¢çš„ç±»å‹ï¼Œæ˜¯æ™®é€šæŸ¥è¯¢è¿˜æ˜¯è”åˆæŸ¥è¯¢è¿˜æ˜¯å­æŸ¥è¯¢ select_type Value Meaning SIMPLE Simple SELECT (not using UNION or subqueries) PRIMARY Outermost SELECT UNION Second or later SELECT statement in a UNION DEPENDENT UNION Second or later SELECT statement in a UNION, dependent on outer query UNION RESULT Result of a UNION. SUBQUERY First SELECT in subquery DEPENDENT SUBQUERY First SELECT in subquery, dependent on outer query DERIVED Derived table UNCACHEABLE SUBQUERY A subquery for which the result cannot be cached and must be re-evaluated for each row of the outer query UNCACHEABLE UNION The second or later select in a UNION that belongs to an uncacheable subquery (see UNCACHEABLE SUBQUERY) --sample:ç®€å•çš„æŸ¥è¯¢ï¼Œä¸åŒ…å«å­æŸ¥è¯¢å’Œunion explain select * from emp; --primary:æŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­æŸ¥è¯¢ï¼Œæœ€å¤–å±‚æŸ¥è¯¢åˆ™è¢«æ ‡è®°ä¸ºPrimary explain select staname,ename supname from (select ename staname,mgr from emp) t join emp on t.mgr=emp.empno ; --union:è‹¥ç¬¬äºŒä¸ªselectå‡ºç°åœ¨unionä¹‹åï¼Œåˆ™è¢«æ ‡è®°ä¸ºunion explain select * from emp where deptno = 10 union select * from emp where sal >2000; --dependent union:è·Ÿunionç±»ä¼¼ï¼Œæ­¤å¤„çš„depententè¡¨ç¤ºunionæˆ–union allè”åˆè€Œæˆçš„ç»“æœä¼šå—å¤–éƒ¨è¡¨å½±å“ explain select * from emp e where e.empno in ( select empno from emp where deptno = 10 union select empno from emp where sal >2000) --union result:ä»unionè¡¨è·å–ç»“æœçš„select explain select * from emp where deptno = 10 union select * from emp where sal >2000; --subquery:åœ¨selectæˆ–è€…whereåˆ—è¡¨ä¸­åŒ…å«å­æŸ¥è¯¢ explain select * from emp where sal > (select avg(sal) from emp) ; --dependent subquery:subqueryçš„å­æŸ¥è¯¢è¦å—åˆ°å¤–éƒ¨è¡¨æŸ¥è¯¢çš„å½±å“ explain select * from emp e where e.deptno in (select distinct deptno from dept); --DERIVED: fromå­å¥ä¸­å‡ºç°çš„å­æŸ¥è¯¢ï¼Œä¹Ÿå«åšæ´¾ç”Ÿç±»ï¼Œ explain select staname,ename supname from (select ename staname,mgr from emp) t join emp on t.mgr=emp.empno ; --UNCACHEABLE SUBQUERYï¼šè¡¨ç¤ºä½¿ç”¨å­æŸ¥è¯¢çš„ç»“æœä¸èƒ½è¢«ç¼“å­˜ explain select * from emp where empno = (select empno from emp where deptno=@@sort_buffer_size); --uncacheable union:è¡¨ç¤ºunionçš„æŸ¥è¯¢ç»“æœä¸èƒ½è¢«ç¼“å­˜ï¼šsqlè¯­å¥æœªéªŒè¯ table å¯¹åº”è¡Œæ­£åœ¨è®¿é—®å“ªä¸€ä¸ªè¡¨ï¼Œè¡¨åæˆ–è€…åˆ«åï¼Œå¯èƒ½æ˜¯ä¸´æ—¶è¡¨æˆ–è€…unionåˆå¹¶ç»“æœé›† 1ã€å¦‚æœæ˜¯å…·ä½“çš„è¡¨åï¼Œåˆ™è¡¨æ˜ä»å®é™…çš„ç‰©ç†è¡¨ä¸­è·å–æ•°æ®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯è¡¨çš„åˆ«å â€‹ 2ã€è¡¨åæ˜¯derivedNçš„å½¢å¼ï¼Œè¡¨ç¤ºä½¿ç”¨äº†idä¸ºNçš„æŸ¥è¯¢äº§ç”Ÿçš„è¡ç”Ÿè¡¨ â€‹ 3ã€å½“æœ‰union resultçš„æ—¶å€™ï¼Œè¡¨åæ˜¯union n1,n2ç­‰çš„å½¢å¼ï¼Œn1,n2è¡¨ç¤ºå‚ä¸unionçš„id type typeæ˜¾ç¤ºçš„æ˜¯è®¿é—®ç±»å‹ï¼Œè®¿é—®ç±»å‹è¡¨ç¤ºæˆ‘æ˜¯ä»¥ä½•ç§æ–¹å¼å»è®¿é—®æˆ‘ä»¬çš„æ•°æ®ï¼Œæœ€å®¹æ˜“æƒ³çš„æ˜¯å…¨è¡¨æ‰«æï¼Œç›´æ¥æš´åŠ›çš„éå†ä¸€å¼ è¡¨å»å¯»æ‰¾éœ€è¦çš„æ•°æ®ï¼Œæ•ˆç‡éå¸¸ä½ä¸‹ï¼Œè®¿é—®çš„ç±»å‹æœ‰å¾ˆå¤šï¼Œæ•ˆç‡ä»æœ€å¥½åˆ°æœ€åä¾æ¬¡æ˜¯ï¼š system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¾—ä¿è¯æŸ¥è¯¢è‡³å°‘è¾¾åˆ°rangeçº§åˆ«ï¼Œæœ€å¥½èƒ½è¾¾åˆ°ref --all:å…¨è¡¨æ‰«æï¼Œä¸€èˆ¬æƒ…å†µä¸‹å‡ºç°è¿™æ ·çš„sqlè¯­å¥è€Œä¸”æ•°æ®é‡æ¯”è¾ƒå¤§çš„è¯é‚£ä¹ˆå°±éœ€è¦è¿›è¡Œä¼˜åŒ–ã€‚ explain select * from emp; --indexï¼šå…¨ç´¢å¼•æ‰«æè¿™ä¸ªæ¯”allçš„æ•ˆç‡è¦å¥½ï¼Œä¸»è¦æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å½“å‰çš„æŸ¥è¯¢æ—¶è¦†ç›–ç´¢å¼•ï¼Œå³æˆ‘ä»¬éœ€è¦çš„æ•°æ®åœ¨ç´¢å¼•ä¸­å°±å¯ä»¥ç´¢å–ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨äº†ç´¢å¼•è¿›è¡Œæ’åºï¼Œè¿™æ ·å°±é¿å…æ•°æ®çš„é‡æ’åº explain select empno from emp; --rangeï¼šè¡¨ç¤ºåˆ©ç”¨ç´¢å¼•æŸ¥è¯¢çš„æ—¶å€™é™åˆ¶äº†èŒƒå›´ï¼Œåœ¨æŒ‡å®šèŒƒå›´å†…è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿™æ ·é¿å…äº†indexçš„å…¨ç´¢å¼•æ‰«æï¼Œé€‚ç”¨çš„æ“ä½œç¬¦ï¼š =, <>, >, >=, possible_keys â€‹ æ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªï¼ŒæŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µä¸Šè‹¥å­˜åœ¨ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•å°†è¢«åˆ—å‡ºï¼Œä½†ä¸ä¸€å®šè¢«æŸ¥è¯¢å®é™…ä½¿ç”¨ explain select * from emp,dept where emp.deptno = dept.deptno and emp.deptno = 10; key â€‹ å®é™…ä½¿ç”¨çš„ç´¢å¼•ï¼Œå¦‚æœä¸ºnullï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼ŒæŸ¥è¯¢ä¸­è‹¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•å’ŒæŸ¥è¯¢çš„selectå­—æ®µé‡å ã€‚ explain select * from emp,dept where emp.deptno = dept.deptno and emp.deptno = 10; key_len è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå¯ä»¥é€šè¿‡key_lenè®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•é•¿åº¦ï¼Œåœ¨ä¸æŸå¤±ç²¾åº¦çš„æƒ…å†µä¸‹é•¿åº¦è¶ŠçŸ­è¶Šå¥½ã€‚ explain select * from emp,dept where emp.deptno = dept.deptno and emp.deptno = 10; ref æ˜¾ç¤ºç´¢å¼•çš„å“ªä¸€åˆ—è¢«ä½¿ç”¨äº†ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæ˜¯ä¸€ä¸ªå¸¸æ•° explain select * from emp,dept where emp.deptno = dept.deptno and emp.deptno = 10; rows æ ¹æ®è¡¨çš„ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•ä½¿ç”¨æƒ…å†µï¼Œå¤§è‡´ä¼°ç®—å‡ºæ‰¾å‡ºæ‰€éœ€è®°å½•éœ€è¦è¯»å–çš„è¡Œæ•°ï¼Œæ­¤å‚æ•°å¾ˆé‡è¦ï¼Œç›´æ¥ååº”çš„sqlæ‰¾äº†å¤šå°‘æ•°æ®ï¼Œåœ¨å®Œæˆç›®çš„çš„æƒ…å†µä¸‹è¶Šå°‘è¶Šå¥½ explain select * from emp; extra åŒ…å«é¢å¤–çš„ä¿¡æ¯ã€‚ --using filesort:è¯´æ˜mysqlæ— æ³•åˆ©ç”¨ç´¢å¼•è¿›è¡Œæ’åºï¼Œåªèƒ½åˆ©ç”¨æ’åºç®—æ³•è¿›è¡Œæ’åºï¼Œä¼šæ¶ˆè€—é¢å¤–çš„ä½ç½® explain select * from emp order by sal; --using temporary:å»ºç«‹ä¸´æ—¶è¡¨æ¥ä¿å­˜ä¸­é—´ç»“æœï¼ŒæŸ¥è¯¢å®Œæˆä¹‹åæŠŠä¸´æ—¶è¡¨åˆ é™¤ explain select ename,count(*) from emp where deptno = 10 group by ename; --using index:è¿™ä¸ªè¡¨ç¤ºå½“å‰çš„æŸ¥è¯¢æ—¶è¦†ç›–ç´¢å¼•çš„ï¼Œç›´æ¥ä»ç´¢å¼•ä¸­è¯»å–æ•°æ®ï¼Œè€Œä¸ç”¨è®¿é—®æ•°æ®è¡¨ã€‚å¦‚æœåŒæ—¶å‡ºç°using where è¡¨åç´¢å¼•è¢«ç”¨æ¥æ‰§è¡Œç´¢å¼•é”®å€¼çš„æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¡¨é¢ç´¢å¼•è¢«ç”¨æ¥è¯»å–æ•°æ®ï¼Œè€Œä¸æ˜¯çœŸçš„æŸ¥æ‰¾ explain select deptno,count(*) from emp group by deptno limit 10; --using where:ä½¿ç”¨whereè¿›è¡Œæ¡ä»¶è¿‡æ»¤ explain select * from t_user where id = 1; --using join buffer:ä½¿ç”¨è¿æ¥ç¼“å­˜ï¼Œæƒ…å†µæ²¡æœ‰æ¨¡æ‹Ÿå‡ºæ¥ --impossible whereï¼šwhereè¯­å¥çš„ç»“æœæ€»æ˜¯false explain select * from emp where empno = 7469; MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-30 03:14:22 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/æŸ¥è¯¢ä¼˜åŒ–.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/æŸ¥è¯¢ä¼˜åŒ–.html","title":"æŸ¥è¯¢ä¼˜åŒ–","keywords":"","body":"æŸ¥è¯¢ä¼˜åŒ– æŸ¥è¯¢æ…¢çš„åŸå›  ç½‘ç»œ CPU IO ä¸Šä¸‹æ–‡åˆ‡æ¢ ç³»ç»Ÿè°ƒç”¨ ç”Ÿæˆç»Ÿè®¡ä¿¡æ¯ é”ç­‰å¾… ä¼˜åŒ–æ•°æ®è®¿é—® æŸ¥è¯¢æ€§èƒ½ä½ä¸‹çš„ä¸»è¦åŸå› æ˜¯è®¿é—®çš„æ•°æ®å¤ªå¤š éœ€è¦é¿å…æ£€ç´¢ã€ä¼ è¾“å¤§é‡æ•°æ® è®¿é—®äº†å¤ªå¤šè¡Œå’Œåˆ— å¦‚æœæ˜¯ç”±äºè®¿é—®å¤ªå¤šè¡Œï¼Œåˆ™é¦–å…ˆåº”é¿å…å†™å‡ºè¿™ç§SQLï¼ŒMySQLä¼šç›´æ¥è¿”å›å®¢æˆ·ç«¯æ‰€æŸ¥è¯¢çš„å…¨éƒ¨æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨LIMITæ¥è¿›è¡Œé™åˆ¶ è®¿é—®äº†å¤ªå¤šçš„åˆ—ï¼Œåˆ™åº”è¯¥å®¡è§†æ˜¯å¦çœŸçš„éœ€è¦è¿™äº›åˆ—ï¼Œå…¶æ¬¡å¯ä»¥é€šè¿‡è¦†ç›–ç´¢å¼•æ‰«æçš„æ–¹å¼æ¥è¿›è¡Œä¼˜åŒ–ã€‚ MySQLæ‰«æäº†è¿‡å¤šçš„æ•°æ®è¡Œ é€šè¿‡æ£€æŸ¥æ…¢æ—¥å¿—è®°å½•å¯ä»¥æ‰¾å‡ºæ‰«æè¡Œæ•°è¿‡å¤šçš„æŸ¥è¯¢ã€‚ ä¹Ÿå¯ä»¥é€šè¿‡EXPLAINè¯­å¥åˆ—å‡ºç»“æœrowså±æ€§ï¼Œç†æƒ³æƒ…å†µä¸‹æ‰«æçš„è¡Œå’Œè¿”å›çš„è¡Œæ•°é‡ä¸€è‡´ã€‚ å¦‚æœè¦å¯¹æ‰«æè¡Œæ•°ä¸è¿”å›è¡Œæ•°é‡ç›¸å·®è¾ƒå¤šçš„æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼Œä¸»è¦å¯ä»¥é€šè¿‡ è¦†ç›–ç´¢å¼•æ‰«æçš„æ–¹å¼ æ”¹å˜è¡¨ç»“æ„ ä½¿ç”¨å•ç‹¬çš„æ±‡æ€»è¡¨ä¹‹ç±»çš„ é‡å†™æ‰è¿™ä¸ªå¤æ‚çš„æŸ¥è¯¢ é‡æ„æŸ¥è¯¢ å¯¹äºä¸€äº›æ“ä½œæ•°æ®é‡å¤§çš„SQLï¼Œå¦‚æœå¯ä»¥å°†å…¶æ‹†åˆ†æˆå‡ ä¸ªå°SQLï¼Œåœ¨åº”ç”¨å±‚è¿›è¡Œå¤„ç†ï¼Œé‚£å¯ä»¥æŠŠæœåŠ¡å™¨çš„å‹åŠ›åˆ†æ‘Šåˆ°å„ä¸ªæ—¶é—´ç‚¹ä¸­ã€‚ å¦‚å¯ä»¥å¯¹ä¸€äº›å…³è”æŸ¥è¯¢è¿›è¡Œåˆ†è§£ï¼š å¯ä»¥åˆ©ç”¨ç¼“å­˜ é™ä½é”äº‰ç”¨ åº”ç”¨å±‚å¤„ç†æ‹¥æœ‰è¾ƒé«˜çš„å¯æ‰©å±•æ€§ ... æ‰§è¡Œè¿‡ç¨‹ä¼˜åŒ– æŸ¥è¯¢ä¼˜åŒ–å¤„ç† è®¡ç®—çš„ä¾æ® æ¯ä¸ªè¡¨æˆ–è€…ç´¢å¼•çš„é¡µé¢ä¸ªæ•° ç´¢å¼•çš„åŸºæ•° ç´¢å¼•å’Œæ•°æ®è¡Œçš„é•¿åº¦ ç´¢å¼•çš„åˆ†å¸ƒæƒ…å†µ å¾ˆå¤šæƒ…å†µä¸‹mysqlä¼šé€‰æ‹©é”™è¯¯çš„æ‰§è¡Œè®¡åˆ’ ä¼˜åŒ–ç­–ç•¥ é™æ€ä¼˜åŒ– ç›´æ¥å¯¹è§£ææ ‘è¿›è¡Œåˆ†æï¼Œå¹¶å®Œæˆä¼˜åŒ– åŠ¨æ€ä¼˜åŒ– åŠ¨æ€ä¼˜åŒ–ä¸æŸ¥è¯¢çš„ä¸Šä¸‹æ–‡æœ‰å…³ï¼Œä¹Ÿå¯èƒ½è·Ÿå–å€¼ã€ç´¢å¼•å¯¹åº”çš„è¡Œæ•°æœ‰å…³ ä¼˜åŒ–ç±»å‹ é‡æ–°å®šä¹‰å…³è”è¡¨çš„é¡ºåº å°†å¤–è¿æ¥è½¬åŒ–æˆå†…è¿æ¥ï¼Œå†…è¿æ¥çš„æ•ˆç‡è¦é«˜äºå¤–è¿æ¥ ä½¿ç”¨ç­‰ä»·å˜æ¢è§„åˆ™ï¼Œmysqlå¯ä»¥ä½¿ç”¨ä¸€äº›ç­‰ä»·å˜åŒ–æ¥ç®€åŒ–å¹¶è§„åˆ’è¡¨è¾¾å¼ ä¼˜åŒ–count(),min(),max() é¢„ä¼°å¹¶è½¬åŒ–ä¸ºå¸¸æ•°è¡¨è¾¾å¼ï¼Œå½“mysqlæ£€æµ‹åˆ°ä¸€ä¸ªè¡¨è¾¾å¼å¯ä»¥è½¬åŒ–ä¸ºå¸¸æ•°çš„æ—¶å€™ï¼Œå°±ä¼šä¸€ç›´æŠŠè¯¥è¡¨è¾¾å¼ä½œä¸ºå¸¸æ•°è¿›è¡Œå¤„ç† ç´¢å¼•è¦†ç›–æ‰«æï¼Œå½“ç´¢å¼•ä¸­çš„åˆ—åŒ…å«æ‰€æœ‰æŸ¥è¯¢ä¸­éœ€è¦ä½¿ç”¨çš„åˆ—çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨è¦†ç›–ç´¢å¼• å­æŸ¥è¯¢ä¼˜åŒ– ç­‰å€¼ä¼ æ’­ æ’åºä¼˜åŒ– ä¼˜åŒ–ç‰¹å®šç±»å‹æŸ¥è¯¢ count æŸ¥è¯¢ åªæœ‰æ²¡æœ‰ä»»ä½•whereæ¡ä»¶çš„count(*)æ‰æ˜¯æ¯”è¾ƒå¿«çš„ ä¸éœ€è¦å®Œå…¨ç²¾ç¡®çš„å€¼ï¼Œå¯ä»¥å‚è€ƒä½¿ç”¨è¿‘ä¼¼å€¼æ¥ä»£æ›¿ï¼Œæ¯”å¦‚å¯ä»¥ä½¿ç”¨explainæ¥è·å–è¿‘ä¼¼çš„å€¼ å®é™…æ“ä½œçš„æ—¶å€™å¯ä»¥è€ƒè™‘ä½¿ç”¨ç´¢å¼•è¦†ç›–æ‰«æï¼Œæˆ–è€…å¢åŠ æ±‡æ€»è¡¨ï¼Œæˆ–è€…å¢åŠ å¤–éƒ¨ç¼“å­˜ç³»ç»Ÿ å…³è”æŸ¥è¯¢ ç¡®ä¿onæˆ–è€…usingå­å¥ä¸­çš„åˆ—ä¸Šæœ‰ç´¢å¼• ç¡®ä¿ä»»ä½•çš„groupbyå’Œorder byä¸­çš„è¡¨è¾¾å¼åªæ¶‰åŠåˆ°ä¸€ä¸ªè¡¨ä¸­çš„åˆ— å­æŸ¥è¯¢ä¼˜åŒ– ä½¿ç”¨å…³è”æŸ¥è¯¢æ›¿ä»£ limit åˆ†é¡µä¼˜åŒ– ä¼˜åŒ–æ­¤ç±»æŸ¥è¯¢çš„æœ€ç®€å•çš„åŠæ³•å°±æ˜¯å°½å¯èƒ½åœ°ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œè€Œä¸æ˜¯æŸ¥è¯¢æ‰€æœ‰çš„åˆ— ä¼˜åŒ–unionæŸ¥è¯¢ é™¤éç¡®å®éœ€è¦æœåŠ¡å™¨æ¶ˆé™¤é‡å¤çš„è¡Œï¼Œå¦åˆ™ä¸€å®šè¦ä½¿ç”¨union all ä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰å˜é‡ ä½¿ç”¨ç´¢å¼• ç´¢å¼•çš„åŸç†ï¼š MySQL ä½¿ç”¨ç´¢å¼•çš„æ–¹å¼ï¼š WHERE ORDER BY GROUP PYå­å¥ å¯¹äºä½¿ç”¨MIN MAXå‡½æ•°çš„æŸ¥è¯¢ç›´æ¥ä½¿ç”¨ç´¢å¼•å°±å¯å®Œæˆ å¯¹äºæŸäº›æŸ¥è¯¢ åªä½¿ç”¨ç´¢å¼•çš„æ•°æ®å°±å¯è¿”å› æ— éœ€å›è¡¨æŸ¥è¯¢ ç´¢å¼•çš„ä»£ä»·ï¼š é™ä½äº†å¤§éƒ¨åˆ†å†™æ“ä½œçš„é€Ÿåº¦ å ç”¨ç£ç›˜ç©ºé—´ æŒ‘é€‰ç´¢å¼•ï¼š ç”¨äºæœç´¢ æ’åº åˆ†ç»„çš„åˆ— åˆ—çš„åŸºæ•°(åˆ—çš„å€¼ä¸é‡å¤çš„ä¸ªæ•°)è¶Šé«˜ ç´¢å¼•æ•ˆæœè¶Šå¥½ ç´¢å¼•å°½é‡é€‰æ‹©è¾ƒå°çš„æ•°æ®ç±»å‹ IO æ“ä½œæ›´å¿« é™ä½å­˜å‚¨ç©ºé—´éœ€æ±‚ å¯ä»¥åœ¨ç¼“å­˜ä¸­ç¼“å­˜æ›´å¤šæ•°æ® åŠ å¿«é€Ÿåº¦ å­—ç¬¦ä¸²ç´¢å¼•æŒ‡å®šå‰ç¼€é•¿åº¦ å¤§å¤šæ•°å­—ç¬¦ä¸²å‰nä¸ªå­—ç¬¦å°±è¶³ä»¥æ˜¯å”¯ä¸€çš„ å½“æˆç´¢å¼• æœ€å·¦ç´¢å¼• å¯¹äº(a,b,c)è¿™ç§ç±»å‹çš„å¤åˆç´¢å¼• åˆ©ç”¨å…¶æ’åˆ—é¡ºåºè¿›è¡Œæ“ä½œ èƒ½æœ‰æ•ˆåˆ©ç”¨ç´¢å¼• ä¸è¦è¿‡å¤šçš„ç´¢å¼• ä¿æŒå‚ä¸æ¯”è¾ƒçš„ç´¢å¼•ç±»å‹åŒ¹é… æ•£åˆ— B+æ ‘ æŸ¥è¯¢ä¼˜åŒ–ç¨‹åº EXPLAIN SELECT * FROM person WHERE FALSE æœ‰åŠ©äºä¼˜åŒ–ç¨‹åºå¯¹ç´¢å¼•å……åˆ†åˆ©ç”¨ï¼š åˆ†æè¡¨ ANALYZE TABLE ç”Ÿæˆé”®å€¼åˆ†æ ä½¿ç”¨ EXPLAIN éªŒè¯å“ªäº›ç´¢å¼•ä¼šè¢«ä½¿ç”¨åˆ° å¿…è¦æ—¶ç»™äºˆ EXPLAINæç¤º è¡¨ååé¢åŠ ä¸ŠFORE INDEX, USE INDEX, IGNORE INDEX STRAIGHT_JOINè¦æ±‚æŒ‰ç‰¹å®šé¡ºåºä½¿ç”¨è¡¨ æ¯”è¾ƒçš„åˆ—æ•°æ®ç±»å‹ç›¸åŒ ç´¢å¼•åˆ—ä¸è¦å‚ä¸è¿ç®— LIKE è¯­å¥å¼€å§‹ä½ç½®ä¸è¦ä½¿ç”¨é€šé…ç¬¦ å°†å­æŸ¥è¯¢è½¬æ¢ä¸ºè¿æ¥ å°è¯•æŸ¥æ”¶çš„å„ç§æ›¿ä»£å½¢å¼ é¿å…è¿‡å¤šç±»å‹çš„è‡ªåŠ¨è½¬æ¢ æ•°æ®ç±»å‹é«˜æ•ˆæŸ¥è¯¢ å¤šç”¨æ•°å­—è¿ç®— å°‘ç”¨å­—ç¬¦ä¸²è¿ç®— ENUM SET ä¼˜å…ˆä½¿ç”¨è¾ƒå°æ•°æ®ç±»å‹ åŠ å¿«æ“ä½œé€Ÿåº¦ èŠ‚çœå­˜å‚¨ç©ºé—´ æ•°æ®åˆ—å£°æ˜NOT NULL é¿å… MySQL è¿è¡Œæ—¶æ£€æŸ¥ NULL è€ƒè™‘ä½¿ç”¨ENUM è¾“å‡ºMySQLå¯¹æ•°æ®ç±»å‹çš„å»ºè®® SELECT * FROM tb PROCEDURE ANALYSE() æ•´ç†è¡¨ç¢ç‰‡ OPTIMIZE TABLE tb æŸäº›å­˜å‚¨å¼•æ“ä¸æ”¯æŒ ä½¿ç”¨mysqldumpå¯¼å‡ºå†å¯¼å…¥æ¥æ•´ç† ä½¿ç”¨BLOB TEXTå­˜å‚¨éç»“æ„åŒ–æ•°æ® æ³¨æ„åˆ é™¤æ›´æ–°æ—¶ç•™ä¸‹çš„ç¢ç‰‡ é¿å…è¿‡å¤§ æŠ½ç¦»åˆ°ä¸€å¼ ç‹¬ç«‹çš„è¡¨ åˆæˆç´¢å¼• è®¡ç®—ä¸€ä¸ªæ•£åˆ—å€¼å­˜æ”¾åˆ°ä¸€ä¸ªåˆ— è¡¨å­˜å‚¨æ ¼å¼é«˜æ•ˆæŸ¥è¯¢ MyISAM: é»˜è®¤ä½¿ç”¨å›ºå®šé•¿åº¦çš„è¡Œ å½“æŸä¸ªåˆ—é•¿åº¦å¯å˜æ—¶ åˆ™è¡Œä¹Ÿä¼šå˜æˆå¯å˜ å›ºå®šé•¿åº¦çš„è¡Œæ¯”å˜é•¿è¡Œå¤„ç†é€Ÿåº¦æ¯”è¾ƒå¿« MEMORY: ä½¿ç”¨éƒ½æ˜¯å›ºå®šé•¿åº¦çš„è¡Œ InnoDBï¼š é»˜è®¤æƒ…å†µæ˜¯COMPACTè¡Œæ ¼å¼ å¯¹äºåŒ…å«é‡å¤æ•°æ®è¡¨ ä½¿ç”¨ COMPRESSEDèˆªæ ¼å¼ å ç”¨ç©ºé—´è¾ƒå°‘ å¸¦æœ‰TEXT æˆ– BLOB ä½¿ç”¨ DYNAMIC CREATE TABLE tb (...) ROW_FORMAT = xxx; é«˜æ•ˆåŠ è½½æ•°æ® LOAD DATA æ¯” INSERT æ•ˆç‡æ›´é«˜ æ•°æ®åŠ è½½æ—¶ç£ç›˜IOæ“ä½œè¶Šå°‘ æ•ˆç‡è¶Šé«˜ è°ƒåº¦ é”å®š å¹¶å‘ è°ƒåº¦ç­–ç•¥ï¼š å†™å…¥ä¼˜å…ˆçº§æ¯”è¯»å–ä¼˜å…ˆçº§é«˜ å†™å…¥æ“ä½œä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ª å†™å…¥æ“ä½œæ—¶å…¬å¹³çš„ å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå¯¹åŒä¸€ä¸ªè¡¨çš„è¯»å– InnoDB: è¡Œçº§é” æ›´ç²¾ç»† å¹¶å‘åº¦æ›´é«˜ MyISAM: è¡¨çº§é” ä¸ä¼šå‡ºç°æ­»é”é—®é¢˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-16 07:46:08 "},"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/åˆ†åŒºè¡¨.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/mysql/åˆ†åŒºè¡¨.html","title":"åˆ†åŒºè¡¨","keywords":"","body":"åˆ†åŒºè¡¨ åˆ›å»ºåˆ†åŒºè¡¨ CREATE TABLE tr (id INT, name VARCHAR(50), purchased DATE) PARTITION BY RANGE( YEAR(purchased) ) ( PARTITION p0 VALUES LESS THAN (1990), PARTITION p1 VALUES LESS THAN (1995), PARTITION p2 VALUES LESS THAN (2000), PARTITION p3 VALUES LESS THAN (2005), PARTITION p4 VALUES LESS THAN (2010), PARTITION p5 VALUES LESS THAN (2015) ); åº”ç”¨åœºæ™¯ è¡¨éå¸¸å¤§ä»¥è‡³äºæ— æ³•å…¨éƒ¨éƒ½æ”¾åœ¨å†…å­˜ä¸­ï¼Œæˆ–è€…åªåœ¨è¡¨çš„æœ€åéƒ¨åˆ†æœ‰çƒ­ç‚¹æ•°æ®ï¼Œå…¶ä»–å‡æ˜¯å†å²æ•°æ® åˆ†åŒºè¡¨çš„æ•°æ®æ›´å®¹æ˜“ç»´æŠ¤ æ‰¹é‡åˆ é™¤å¤§é‡æ•°æ®å¯ä»¥ä½¿ç”¨æ¸…é™¤æ•´ä¸ªåˆ†åŒºçš„æ–¹å¼ å¯¹ä¸€ä¸ªç‹¬ç«‹åˆ†åŒºè¿›è¡Œä¼˜åŒ–ã€æ£€æŸ¥ã€ä¿®å¤ç­‰æ“ä½œ åˆ†åŒºè¡¨çš„æ•°æ®å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ç‰©ç†è®¾å¤‡ä¸Šï¼Œä»è€Œé«˜æ•ˆåœ°åˆ©ç”¨å¤šä¸ªç¡¬ä»¶è®¾å¤‡ å¯ä»¥ä½¿ç”¨åˆ†åŒºè¡¨æ¥é¿å…æŸäº›ç‰¹æ®Šçš„ç“¶é¢ˆ innodbçš„å•ä¸ªç´¢å¼•çš„äº’æ–¥è®¿é—® ext3æ–‡ä»¶ç³»ç»Ÿçš„inodeé”ç«äº‰ å¯ä»¥å¤‡ä»½å’Œæ¢å¤ç‹¬ç«‹çš„åˆ†åŒº åˆ†åŒºè¡¨çš„é™åˆ¶ ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½æœ‰1024ä¸ªåˆ†åŒºï¼Œåœ¨5.7ç‰ˆæœ¬çš„æ—¶å€™å¯ä»¥æ”¯æŒ8196ä¸ªåˆ†åŒº åœ¨æ—©æœŸçš„mysqlä¸­ï¼Œåˆ†åŒºè¡¨è¾¾å¼å¿…é¡»æ˜¯æ•´æ•°æˆ–è€…æ˜¯è¿”å›æ•´æ•°çš„è¡¨è¾¾å¼ï¼Œåœ¨mysql5.5ä¸­ï¼ŒæŸäº›åœºæ™¯å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ—æ¥è¿›è¡Œåˆ†åŒº å¦‚æœåˆ†åŒºå­—æ®µä¸­æœ‰ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•çš„åˆ—ï¼Œé‚£ä¹ˆæ‰€æœ‰ä¸»é”®åˆ—å’Œå”¯ä¸€ç´¢å¼•åˆ—éƒ½å¿…é¡»åŒ…å«è¿›æ¥ åˆ†åŒºè¡¨æ— æ³•ä½¿ç”¨å¤–é”®çº¦æŸ åŸç† selectæŸ¥è¯¢ â€‹ å½“æŸ¥è¯¢ä¸€ä¸ªåˆ†åŒºè¡¨çš„æ—¶å€™ï¼Œåˆ†åŒºå±‚å…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼Œä¼˜åŒ–å™¨å…ˆåˆ¤æ–­æ˜¯å¦å¯ä»¥è¿‡æ»¤éƒ¨åˆ†åˆ†åŒºï¼Œç„¶åå†è°ƒç”¨å¯¹åº”çš„å­˜å‚¨å¼•æ“æ¥å£è®¿é—®å„ä¸ªåˆ†åŒºçš„æ•°æ® â€‹ insertæ“ä½œ â€‹ å½“å†™å…¥ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œåˆ†åŒºå±‚å…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼Œç„¶åç¡®å®šå“ªä¸ªåˆ†åŒºæ¥å—è¿™æ¡è®°å½•ï¼Œå†å°†è®°å½•å†™å…¥å¯¹åº”åº•å±‚è¡¨ â€‹ deleteæ“ä½œ â€‹ å½“åˆ é™¤ä¸€æ¡è®°å½•æ—¶ï¼Œåˆ†åŒºå±‚å…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼Œç„¶åç¡®å®šæ•°æ®å¯¹åº”çš„åˆ†åŒºï¼Œæœ€åå¯¹ç›¸åº”åº•å±‚è¡¨è¿›è¡Œåˆ é™¤æ“ä½œ â€‹ updateæ“ä½œ â€‹ å½“æ›´æ–°ä¸€æ¡è®°å½•æ—¶ï¼Œåˆ†åŒºå±‚å…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼Œmysqlå…ˆç¡®å®šéœ€è¦æ›´æ–°çš„è®°å½•å†å“ªä¸ªåˆ†åŒºï¼Œç„¶åå–å‡ºæ•°æ®å¹¶æ›´æ–°ï¼Œå†åˆ¤æ–­æ›´æ–°åçš„æ•°æ®åº”è¯¥å†å“ªä¸ªåˆ†åŒºï¼Œæœ€åå¯¹åº•å±‚è¡¨è¿›è¡Œå†™å…¥æ“ä½œï¼Œå¹¶å¯¹æºæ•°æ®æ‰€åœ¨çš„åº•å±‚è¡¨è¿›è¡Œåˆ é™¤æ“ä½œ åˆ†åŒºè¡¨ç±»å‹ èŒƒå›´åˆ†åŒº æ ¹æ®åˆ—å€¼åœ¨ç»™å®šèŒƒå›´å†…å°†è¡Œåˆ†é…ç»™åˆ†åŒº åˆ—è¡¨åˆ†åŒº ç±»ä¼¼äºæŒ‰rangeåˆ†åŒºï¼ŒåŒºåˆ«åœ¨äºliståˆ†åŒºæ˜¯åŸºäºåˆ—å€¼åŒ¹é…ä¸€ä¸ªç¦»æ•£å€¼é›†åˆä¸­çš„æŸä¸ªå€¼æ¥è¿›è¡Œé€‰æ‹© åˆ—åˆ†åŒº mysqlä»5.5å¼€å§‹æ”¯æŒcolumnåˆ†åŒºï¼Œå¯ä»¥è®¤ä¸ºiæ˜¯rangeå’Œlistçš„å‡çº§ç‰ˆï¼Œåœ¨5.5ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨columnåˆ†åŒºæ›¿ä»£rangeå’Œlistï¼Œä½†æ˜¯columnåˆ†åŒºåªæ¥å—æ™®é€šåˆ—ä¸æ¥å—è¡¨è¾¾å¼ hashåˆ†åŒº åŸºäºç”¨æˆ·å®šä¹‰çš„è¡¨è¾¾å¼çš„è¿”å›å€¼æ¥è¿›è¡Œé€‰æ‹©çš„åˆ†åŒºï¼Œè¯¥è¡¨è¾¾å¼ä½¿ç”¨å°†è¦æ’å…¥åˆ°è¡¨ä¸­çš„è¿™äº›è¡Œçš„åˆ—å€¼è¿›è¡Œè®¡ç®—ã€‚è¿™ä¸ªå‡½æ•°å¯ä»¥åŒ…å«myqlä¸­æœ‰æ•ˆçš„ã€äº§ç”Ÿéè´Ÿæ•´æ•°å€¼çš„ä»»ä½•è¡¨è¾¾å¼ keyåˆ†åŒº ç±»ä¼¼äºhashåˆ†åŒºï¼ŒåŒºåˆ«åœ¨äºkeyåˆ†åŒºåªæ”¯æŒä¸€åˆ—æˆ–å¤šåˆ—ï¼Œä¸”mysqlæœåŠ¡å™¨æä¾›å…¶è‡ªèº«çš„å“ˆå¸Œå‡½æ•°ï¼Œå¿…é¡»æœ‰ä¸€åˆ—æˆ–å¤šåˆ—åŒ…å«æ•´æ•°å€¼ å­åˆ†åŒº åœ¨åˆ†åŒºçš„åŸºç¡€ä¹‹ä¸Šï¼Œå†è¿›è¡Œåˆ†åŒºåå­˜å‚¨ åˆ†åŒºè¡¨ä½¿ç”¨ å…¨é‡æ‰«ææ•°æ®ï¼Œä¸éœ€è¦ä»»ä½•ç´¢å¼• æ ¹æ®åˆ†åŒºè§„åˆ™å¤§è‡´å®šä½éœ€è¦çš„æ•°æ®ä¸ºæ­¢ï¼Œé€šè¿‡ä½¿ç”¨whereæ¡ä»¶å°†éœ€è¦çš„æ•°æ®é™åˆ¶åœ¨å°‘æ•°åˆ†åŒºä¸­ï¼Œè¿™ç§ç­–ç•¥é€‚ç”¨äºä»¥æ­£å¸¸çš„æ–¹å¼è®¿é—®å¤§é‡æ•°æ® ç´¢å¼•æ•°æ®ï¼Œå¹¶åˆ†ç¦»çƒ­ç‚¹ å¦‚æœæ•°æ®æœ‰æ˜æ˜¾çš„çƒ­ç‚¹ï¼Œè€Œä¸”é™¤äº†è¿™éƒ¨åˆ†æ•°æ®ï¼Œå…¶ä»–æ•°æ®å¾ˆå°‘è¢«è®¿é—®åˆ°ï¼Œé‚£ä¹ˆå¯ä»¥å°†è¿™éƒ¨åˆ†çƒ­ç‚¹æ•°æ®å•ç‹¬æ”¾åœ¨ä¸€ä¸ªåˆ†åŒºä¸­ï¼Œè®©è¿™ä¸ªåˆ†åŒºçš„æ•°æ®èƒ½å¤Ÿæœ‰æœºä¼šéƒ½ç¼“å­˜åœ¨å†…å­˜ä¸­ æ³¨æ„é—®é¢˜ nullå€¼ä¼šä½¿åˆ†åŒºè¿‡æ»¤æ— æ•ˆ åˆ†åŒºåˆ—å’Œç´¢å¼•åˆ—ä¸åŒ¹é…ï¼Œä¼šå¯¼è‡´æŸ¥è¯¢æ— æ³•è¿›è¡Œåˆ†åŒºè¿‡æ»¤ é€‰æ‹©åˆ†åŒºçš„æˆæœ¬å¯èƒ½å¾ˆé«˜ æ‰“å¼€å¹¶é”ä½æ‰€æœ‰åº•å±‚è¡¨çš„æˆæœ¬å¯èƒ½å¾ˆé«˜ ç»´æŠ¤åˆ†åŒºçš„æˆæœ¬å¯èƒ½å¾ˆé«˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:13:51 "},"ä¸­é—´ä»¶/æ•°æ®åº“/Oracle.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/Oracle.html","title":"Oracle","keywords":"","body":"ä½“ç³»ç»“æ„ åŸºæœ¬æ“ä½œ åˆ›å»ºè¡¨ç©ºé—´ create tablespace test datafile 'd:\\test.dbf' size 100m autoextend on next 10m åˆ é™¤è¡¨ç©ºé—´ drop tablespace test åˆ›å»ºç”¨æˆ· create user root identified by root default tablespace test è§’è‰² CONNECTè§’è‰²ï¼š --æ˜¯æˆäºˆæœ€ç»ˆç”¨æˆ·çš„å…¸å‹æƒåˆ©ï¼Œæœ€åŸºæœ¬çš„ RESOURCEè§’è‰²ï¼š --æ˜¯æˆäºˆå¼€å‘äººå‘˜çš„ DBAè§’è‰²ï¼šæ‹¥æœ‰å…¨éƒ¨ç‰¹æƒï¼Œæ˜¯ç³»ç»Ÿæœ€é«˜æƒé™ï¼Œåªæœ‰DBAæ‰å¯ä»¥åˆ›å»ºæ•°æ®åº“ç»“æ„ï¼Œå¹¶ä¸”ç³»ç»Ÿæƒé™ä¹Ÿéœ€è¦DBAæˆå‡ºï¼Œä¸”DBAç”¨æˆ·å¯ä»¥æ“ä½œå…¨ä½“ç”¨æˆ·çš„ä»»æ„åŸºè¡¨ï¼ŒåŒ…æ‹¬åˆ é™¤ æˆæƒ grant dba to root æ•°æ®ç±»å‹ æ•°æ®ç±»å‹ æè¿° Varcharï¼Œ varchar2 è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸² NUMBER NUMBER(n)è¡¨ç¤ºä¸€ä¸ªæ•´æ•°ï¼Œé•¿åº¦æ˜¯n,NUMBER(m,n):è¡¨ç¤ºä¸€ä¸ªå°æ•°ï¼Œæ€»é•¿åº¦æ˜¯mï¼Œå°æ•°æ˜¯nï¼Œæ•´æ•°æ˜¯m-n DATA è¡¨ç¤ºæ—¥æœŸç±»å‹ CLOB å¤§å¯¹è±¡ï¼Œè¡¨ç¤ºå¤§æ–‡æœ¬æ•°æ®ç±»å‹ï¼Œå¯å­˜4G BLOB å¤§å¯¹è±¡ï¼Œè¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®ï¼Œå¯å­˜4G åºåˆ— åˆ›å»ºåºåˆ— create sequence s_person ä½¿ç”¨ select s_person.nextval from dual; insert into person values(s_person.nextval,'123'); æŸ¥è¯¢ å•è¡Œå‡½æ•° upper lower ROUND:å››èˆäº”å…¥ trunc MONTHS_BETWEEN TO_CHAR nvl æ¡ä»¶è¡¨è¾¾å¼ select t.empno, t.ename, case when t.job = 'CLERK' then 'ä¸šåŠ¡å‘˜' when t.job = 'MANAGER' then 'ç»ç†' when t.job = 'ANALYST' then 'åˆ†æå‘˜' when t.job = 'PRESIDENT' then 'æ€»è£' when t.job = 'SALESMAN' then 'é”€å”®' else 'æ— ä¸š' end from emp t å¤šè¡Œå‡½æ•° èšåˆå‡½æ•° åˆ†é¡µæŸ¥è¯¢ select * from (select rownum r ,emp.* from emp) b where b.r >5 and b.r è§†å›¾ ç´¢å¼• PLSQL MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-24 07:38:37 "},"ä¸­é—´ä»¶/æ•°æ®åº“/redis/Redis.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/redis/Redis.html","title":"Redis","keywords":"","body":"redis redisæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„NOSQLç³»åˆ—çš„éå…³ç³»å‹æ•°æ®åº“ åº”ç”¨åœºæ™¯ ç¼“å­˜ å®æ—¶æ€§è¦æ±‚é«˜çš„æ•°æ® æ¶ˆæ¯é˜Ÿåˆ— çƒ­ç‚¹æ•°æ® è®¡æ•°å™¨ æ•°æ®è¿‡æœŸå¤„ç†ï¼ˆå¯ä»¥ç²¾ç¡®åˆ°æ¯«ç§’ï¼‰ åˆ†å¸ƒå¼é›†ç¾¤æ¶æ„ä¸­çš„sessionåˆ†ç¦» åˆ†å¸ƒå¼é” redisä¸å¯ä»¥åšä»€ä¹ˆ ä¸é€‚åˆå†·æ•°æ® å¤§é‡çš„æ•°æ® ä½œä¸ºç¼“å­˜ ç®€å•ä½¿ç”¨ redis-server # é»˜è®¤é…ç½®å¯åŠ¨ redis-server --port 6379 # æŒ‡å®šé…ç½® redis-cli -h ä¸»æœºå -p è¿æ¥ç«¯å£ redis-cli get key # ç›´æ¥æ‰§è¡Œgetå‘½ä»¤ redis-cli shutdown # å…³é—­redis server æ…¢æŸ¥è¯¢åˆ†æ ä¸€æ¡å®¢æˆ·ç«¯å‘½ä»¤çš„ç”Ÿå‘½å‘¨æœŸï¼š æ…¢æŸ¥è¯¢é˜ˆå€¼è®¾ç½®ï¼š slowlog-log-slower-thanï¼šè¶…è¿‡xxå¾®ç§’åˆ™è®°å½•ä¸ºæ…¢æŸ¥è¯¢ slowlog-max-len config set slowlog-log-slower-than 2 # è®¾ç½®é˜ˆå€¼ slowlog get [n] # è·å–æ…¢æŸ¥è¯¢æ—¥å¿— n æŒ‡å®šæ¡æ•° slowlog len # è·å–æ…¢æŸ¥è¯¢æ—¥å¿—åˆ—è¡¨é•¿åº¦ slowlog reset # æ¸…ç©ºæ…¢æŸ¥è¯¢æ—¥å¿— æ…¢æŸ¥è¯¢æ—¥å¿—ç»“æ„ï¼š id time duration command å‚æ•°.. ip:port æœ€ä½³å®è·µï¼š çº¿ä¸Šå»ºè®®è°ƒå¤§æ…¢æŸ¥è¯¢åˆ—è¡¨ æ ¹æ®qpsæ¥é…ç½®slowlog-log-slower-than åŠæ—¶è½¬å‚¨slowlog redis shell redos-cli redis-cli -r 3 ping # é‡å¤æ‰§è¡Œ3æ¬¡pingå‘½ä»¤ redis-cli -r 3 -i 1 ping # æ¯éš”1ç§’å‘ä¸€æ¬¡ping é‡å¤3æ­¤ echo \"world\" | redis-cli -x set hello # ä»stdinè¯»å…¥ ä½œä¸ºredisçš„æœ€åä¸€ä¸ªå‚æ•° redis-cli --scan # scanå‘½ä»¤ redis-cli --rdb ./bak.rdb # ç”Ÿæˆrdbæ–‡ä»¶ echo -en '*3\\r\\n$3\\r\\nSET\\r\\n$5\\r\\nhello\\r\\n$5\\r\\nworld\\r\\n*2\\r\\n$4\\r\\nincr\\r\\n$7\\r\\ncounter\\r\\n' | redis-cli --pipe # ç›´æ¥å‘é€å‘½ä»¤ç»™redisæ‰§è¡Œ redis-cli --bigkeys # åˆ†æå†…å­˜å ç”¨æ¯”è¾ƒå¤§çš„é”®å€¼å¯¹ redis-cli --latency # æŸ¥çœ‹å®¢æˆ·ç«¯åˆ°ç›®æ ‡redisçš„ç½‘ç»œå»¶æ—¶ redis-cli --latency-history -i 10 # æ¯éš”10ç§’æŸ¥çœ‹ä¸€æ¬¡ç½‘ç»œå»¶æ—¶ redis-cli --latency-dist # ä»¥ç»Ÿè®¡å›¾è¡¨çš„æ–¹å¼è¾“å‡º redis-cli --stat # è·å–redisçš„ç»Ÿè®¡ä¿¡æ¯ redis-cli --raw get name # è¿”å›æ•°æ®ä¸è¿›è¡Œæ ¼å¼åŒ–(\\xexxx) redis-server redis-server --test-memory 1024 # æµ‹è¯•æ˜¯å¦æœ‰è¶³å¤Ÿçš„å†…å­˜ redis-benchmark redis-benchmark -c 100 -n 20000 # 100ä¸ªå®¢æˆ· å…±è¯·æ±‚20000æ¬¡ redis-benchmark -c 100 -n 20000 -q # åªæ˜¾ç¤º requests per second redis-benchmark -c 100 -n 20000 -r 10000 # -ré€‰é¡¹ä¼šåœ¨keyã€counteré”®ä¸ŠåŠ ä¸€ä¸ª12ä½çš„åç¼€ï¼Œ-r10000ä»£è¡¨åªå¯¹åå››ä½åšéšæœºå¤„ç† redis-benchmark -c 100 -n 20000 -P 10 # æ¯éš”è¯·æ±‚çš„piplineæ•°æ®é‡ redis-benchmark -c 100 -n 20000 -q -k 1 # kä¸º1ä»£è¡¨å¯ç”¨å®¢æˆ·ç«¯è¿æ¥keepalive redis-benchmark -t get,set -q # åªå¯¹æŒ‡å®šçš„å‘½ä»¤æµ‹è¯• redis-benchmark -t get,set -q --csv # æŒ‰ç…§csvæ–‡ä»¶æ ¼å¼è¾“å‡º Pipeline Pipelineï¼ˆæµæ°´çº¿ï¼‰æœºåˆ¶èƒ½å°†ä¸€ç»„Rediså‘½ä»¤è¿›è¡Œç»„è£…ï¼Œé€šè¿‡ä¸€æ¬¡RTTä¼ è¾“ç»™Redisï¼Œå†å°†è¿™ç»„Rediså‘½ä»¤çš„æ‰§è¡Œç»“æœæŒ‰é¡ºåºè¿”å›ç»™å®¢æˆ·ç«¯ redis-cli çš„--pipelineé€‰é¡¹ å„ç§è¯­è¨€å®¢æˆ·ç«¯çš„pipeline å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ç½‘ç»œå»¶æ—¶è¶Šå¤§ï¼ŒPipelineçš„æ•ˆæœè¶Šæ˜æ˜¾ å¦‚æœpipelineä¼ é€’çš„æ•°æ®è¿‡å¤§ ä¹Ÿä¼šå¢åŠ å®¢æˆ·ç«¯çš„ç­‰å¾…æ—¶é—´åŠç½‘ç»œé˜»å¡ vs. åŸç”Ÿæ‰¹é‡å‘½ä»¤ï¼š åŸç”Ÿæ‰¹é‡å‘½ä»¤æ˜¯åŸå­çš„ï¼ŒPipelineæ˜¯éåŸå­çš„ åŸç”Ÿæ‰¹é‡å‘½ä»¤æ˜¯ä¸€ä¸ªå‘½ä»¤å¯¹åº”å¤šä¸ªkeyï¼ŒPipelineæ”¯æŒå¤šä¸ªå‘½ä»¤ åŸç”Ÿæ‰¹é‡å‘½ä»¤æ˜¯RedisæœåŠ¡ç«¯æ”¯æŒå®ç°çš„ï¼Œè€ŒPipelineéœ€è¦æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„å…±åŒå®ç° äº‹ä»¶ æ–‡ä»¶äº‹ä»¶ æ—¶é—´äº‹ä»¶ Redis å°†æ‰€æœ‰æ—¶é—´äº‹ä»¶éƒ½æ”¾åœ¨ä¸€ä¸ªæ— åºé“¾è¡¨ä¸­ï¼Œé€šè¿‡éå†æ•´ä¸ªé“¾è¡¨æŸ¥æ‰¾å‡ºå·²åˆ°è¾¾çš„æ—¶é—´äº‹ä»¶ï¼Œå¹¶è°ƒç”¨ç›¸åº”çš„äº‹ä»¶å¤„ç†å™¨ å‘å¸ƒè®¢é˜… æ–°å¼€å¯çš„è®¢é˜…å®¢æˆ·ç«¯ï¼Œæ— æ³•æ”¶åˆ°è¯¥é¢‘é“ä¹‹å‰çš„æ¶ˆæ¯ pubsub channels # æŸ¥çœ‹æ´»è·ƒçš„é¢‘é“(è‡³å°‘ä¸€ä¸ªè®¢é˜…è€…) pubsub numsub chat # æŸ¥çœ‹é¢‘é“è®¢é˜…æ•° pubsub numpat # æŸ¥çœ‹æ¨¡å¼è®¢é˜…æ•° æ¶ˆè´¹è€… SUBSCRIBE redisChat # è®¢é˜… unsubscribe redisChat # å–æ¶ˆè®¢é˜… psubscribe pattern # æŒ‰ç…§ç»™å®šæ¨¡å¼è®¢é˜… punsubscribe pattern # æŒ‰ç…§ç»™å®šæ¨¡å¼å–æ¶ˆè®¢é˜… ç”Ÿäº§è€…å‘é¢‘é“å‘é€æ•°æ® PUBLISH redisChat \"Redis is a great caching technique\" GEO åœ°ç†ä¿¡æ¯å®šä½åŠŸèƒ½ geoadd locations 116.38 39.55 beijing # æ·»åŠ æˆå‘˜ geopos locations beijing # è·å– geodist locations beijing tianjin [m|km|mi|ft] # è®¡ç®—ä¸¤åœ°è·ç¦» georadiusbymember locations beijing 150 km # è·å–åŒ—äº¬æ–¹åœ†150kmå†…çš„æˆå‘˜ geohash locations beijing # å°†äºŒç»´ç»çº¬åº¦è½¬æ¢ä¸ºä¸€ç»´å­—ç¬¦ä¸² å…³äºgeohashï¼š å­—ç¬¦ä¸²è¶Šé•¿ï¼Œè¡¨ç¤ºçš„ä½ç½®æ›´ç²¾ç¡® ä¸¤ä¸ªå­—ç¬¦ä¸²è¶Šç›¸ä¼¼ï¼Œå®ƒä»¬ä¹‹é—´çš„è·ç¦»è¶Šè¿‘ï¼ŒRedisåˆ©ç”¨å­—ç¬¦ä¸²å‰ç¼€åŒ¹é… ç®—æ³•å®ç°ç›¸å…³çš„å‘½ä»¤ Redisæ­£æ˜¯ä½¿ç”¨æœ‰åºé›†åˆå¹¶ç»“åˆgeohashçš„ç‰¹æ€§å®ç°äº†GEOçš„è‹¥å¹²å‘½ä»¤ åˆ†å¸ƒå¼ é€šç”¨é›†ç¾¤æ–¹æ¡ˆï¼š ä¸»å¤‡é›†ç¾¤ å…¨é‡æ•°æ®åŒæ­¥ åˆ†ç‰‡é›†ç¾¤ AKF Xï¼šå…¨é‡ï¼Œé•œåƒ Yï¼šä¸šåŠ¡ï¼ŒåŠŸèƒ½ Zï¼šä¼˜å…ˆçº§ï¼Œé€»è¾‘å†æ‹†åˆ† çº¿ç¨‹æ¨¡å‹ redisé‡‡ç”¨ IO å¤šè·¯å¤ç”¨æœºåˆ¶åŒæ—¶ç›‘å¬å¤šä¸ª socketï¼Œå°†äº§ç”Ÿäº‹ä»¶çš„ socket å‹å…¥å†…å­˜é˜Ÿåˆ—ä¸­ï¼Œäº‹ä»¶åˆ†æ´¾å™¨æ ¹æ® socket ä¸Šçš„äº‹ä»¶ç±»å‹æ¥é€‰æ‹©å¯¹åº”çš„äº‹ä»¶å¤„ç†å™¨è¿›è¡Œå¤„ç† Redis å•çº¿ç¨‹æ¨¡å‹æŒ‡çš„æ˜¯åªæœ‰ä¸€æ¡çº¿ç¨‹æ¥å¤„ç†å‘½ä»¤ å•çº¿ç¨‹å¯¹æ¯ä¸ªå‘½ä»¤çš„æ‰§è¡Œæ—¶é—´æ˜¯æœ‰è¦æ±‚çš„ æŸä¸ªå‘½ä»¤æ‰§è¡Œè¿‡é•¿ å°±ä¼šé€ æˆå…¶ä»–å‘½ä»¤çš„é˜»å¡ å‘ç°é˜»å¡ å½“Redisé˜»å¡æ—¶ï¼Œçº¿ä¸Šåº”ç”¨æœåŠ¡åº”è¯¥æœ€å…ˆæ„ŸçŸ¥åˆ°ï¼Œè¿™æ—¶åº”ç”¨æ–¹ä¼šæ”¶åˆ°å¤§é‡Redisè¶…æ—¶å¼‚å¸¸ï¼Œæ¯”å¦‚Jediså®¢æˆ·ç«¯ä¼šæŠ›å‡ºJedisConnectionExceptionå¼‚å¸¸ æ­¤æ—¶å¯ä»¥è¿›è¡Œæ—¥å¿—è®°å½• ç›‘æ§ç³»ç»Ÿé€šè¿‡æ—¥å¿—æ¥è¿›è¡Œç›‘æ§æŠ¥è­¦ éœ€è¦æ³¨æ„çš„æ˜¯è¦æ”¹é€ Rediså®¢æˆ·ç«¯ ä½¿å…¶è®°å½•å…·ä½“çš„Rediså®ä¾‹ å¼€æºçš„ç›‘æ§ç³»ç»Ÿï¼šCacheCloud é˜»å¡åŸå›  å†…åœ¨åŸå›  APIæˆ–æ•°æ®ç»“æ„ä½¿ç”¨ä¸åˆç† æœ‰äº›æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n) è¿™åœ¨é«˜å¹¶å‘åœºæ™¯æ˜¯ä¸èƒ½æ¥å—çš„ è¿™ç§æƒ…å†µéœ€è¦é‡ç‚¹æ³¨æ„æ…¢æŸ¥è¯¢ä»¥åŠå¤§å¯¹è±¡ é’ˆå¯¹å®ƒä»¬è¿›è¡Œä¼˜åŒ– CPUé¥±å’Œ è¯·æ±‚é‡å¾ˆå¤§ éœ€è¦è¿›è¡Œæ°´å¹³æ‰©å®¹æ¥é™ä½å•å®ä¾‹çš„å‹åŠ› æŒä¹…åŒ–é˜»å¡ forké˜»å¡ï¼šå¦‚é¿å…ä½¿ç”¨è¿‡å¤§çš„å†…å­˜å®ä¾‹å’Œè§„é¿forkç¼“æ…¢çš„æ“ä½œç³»ç»Ÿç­‰ AOFåˆ·ç›˜é˜»å¡ï¼šå½“ç¡¬ç›˜å‹åŠ›è¿‡å¤§ fsyncå‘½ä»¤å¯èƒ½ä¼šå¯¼è‡´é˜»å¡ HugePageå†™é˜»å¡ï¼šå¯¹äºå¼€å¯Transparent HugePagesçš„æ“ä½œç³»ç»Ÿï¼Œæ¯æ¬¡å†™å‘½ä»¤å¼•èµ·çš„å¤åˆ¶å†…å­˜é¡µå•ä½ç”±4Kå˜ä¸º2MB ä¼šæ‹–æ…¢å†™æ“ä½œçš„é€Ÿåº¦ å¤–åœ¨åŸå›  CPUç«äº‰ è¿›ç¨‹ç«äº‰ï¼šå½“å…¶ä»–è¿›ç¨‹è¿‡åº¦æ¶ˆè€—CPUæ—¶ï¼Œå°†ä¸¥é‡å½±å“Redisååé‡ CPUç»‘å®šï¼šå¦‚æœå°†Redisç»‘å®šåœ¨æŸä¸ªæ ¸ä¸Š é‚£ä¹ˆåœ¨æŒä¹…åŒ–çš„æ—¶å€™å­è¿›ç¨‹ä¸çˆ¶è¿›ç¨‹å…±å­˜ ä¼šå¯¼è‡´çˆ¶è¿›ç¨‹å¯ç”¨CPUä¸è¶³ å†…å­˜äº¤æ¢ å†…å­˜ä¸ç¡¬ç›˜è¯»å†™é€Ÿåº¦å·®å‡ ä¸ªæ•°é‡çº§ï¼Œä¼šå¯¼è‡´å‘ç”Ÿäº¤æ¢åçš„Redisæ€§èƒ½æ€¥å‰§ä¸‹é™ ç½‘ç»œé—®é¢˜ï¼š è¿æ¥æ‹’ç»ï¼šç½‘ç»œé—ªæ–­ è¿æ¥æ•°è¶…è¿‡redisçš„æœ€å¤§è¿æ¥æ•° linuxæ–‡ä»¶ç¬¦é™åˆ¶æˆ–è€…back_logé™åˆ¶å¯¼è‡´çš„è¿æ¥æº¢å‡º ç½‘ç»œå»¶è¿Ÿï¼šé¿å…ç‰©ç†å…·ä½“è¿‡è¿œ ç½‘å¡è½¯ä¸­æ–­ï¼šå•ä¸ªç½‘å¡é˜Ÿåˆ—åªèƒ½ä½¿ç”¨ä¸€ä¸ªCPUï¼Œé«˜å¹¶å‘ä¸‹ç½‘å¡æ•°æ®äº¤äº’éƒ½é›†ä¸­åœ¨åŒä¸€ä¸ªCPUï¼Œå¯¼è‡´æ— æ³•å……åˆ†åˆ©ç”¨å¤šæ ¸CPUçš„æƒ…å†µ å•çº¿ç¨‹æ¨¡å‹ä¹Ÿèƒ½é«˜æ•ˆç‡çš„åŸå›  çº¯å†…å­˜æ“ä½œ Cè¯­è¨€å®ç° åŸºäºéé˜»å¡IOå¤šè·¯å¤ç”¨ å•çº¿ç¨‹é¿å…äº†é¢‘ç¹ä¸Šä¸‹æ–‡åˆ‡æ¢å¸¦æ¥çš„æ€§èƒ½æŸå¤±ä»¥åŠå¤šçº¿ç¨‹çš„é”ç«äº‰é—®é¢˜ Redisçš„å†…å­˜ å†…å­˜æ¶ˆè€— å†…å­˜ä½¿ç”¨ç»Ÿè®¡ï¼šinfo memoryå‘½ä»¤ å±æ€§å å±æ€§è¯´æ˜ used_memory Redis åˆ†é…å™¨åˆ†é…çš„å†…å­˜æ€»é‡ï¼Œä¹Ÿå°±æ˜¯å†…éƒ¨å­˜å‚¨çš„æ‰€æœ‰æ•°æ®å†…å­˜å ç”¨é‡ used memory_human ä»¥å¯è¯»çš„æ ¼å¼è¿”å›used_memory used_ memory_rss ä»æ“ä½œç³»ç»Ÿçš„è§’åº¦æ˜¾ç¤ºRedisè¿›ç¨‹å ç”¨çš„ç‰©ç†å†…å­˜æ€»é‡ used_memory_peak å†…å­˜ä½¿ç”¨çš„æœ€å¤§å€¼ï¼Œè¡¨ç¤ºused_memory çš„å³°å€¼ used memory peak_human ä»¥å¯è¯»çš„æ ¼å¼è¿”å›used_memory_peak used_ memory_lua Luaå¼•æ“æ‰€æ¶ˆè€—çš„å†…å­˜å¤§å° mem_fragmentation_ratio used_memory_rss/used_memoryæ¯”å€¼ï¼Œè¡¨ç¤ºå†…å­˜ç¢ç‰‡ç‡ mem_allocator Redisæ‰€ä½¿ç”¨çš„å†…å­˜åˆ†é…å™¨ã€‚é»˜è®¤ä¸ºjemalloc å†…å­˜æ¶ˆè€—åˆ’åˆ†ï¼š å¯¹è±¡å†…å­˜ å†…å­˜å ç”¨æœ€å¤§çš„ä¸€å— ç®€å•ç†è§£ä¸ºsizeofï¼ˆkeysï¼‰+sizeofï¼ˆvaluesï¼‰ åº”å½“é¿å…ä½¿ç”¨è¿‡é•¿çš„é”® ç¼“å†²å†…å­˜ å®¢æˆ·ç«¯ç¼“å­˜ å¤åˆ¶ç§¯å‹ç¼“å†² AOFç¼“å†²ç­‰ å†…å­˜ç¢ç‰‡ é»˜è®¤çš„å†…å­˜åˆ†é…å™¨é‡‡ç”¨jemallocï¼Œå¯é€‰çš„åˆ†é…å™¨è¿˜æœ‰ï¼šglibcã€tcmalloc é¢‘ç¹æ›´æ–°ä»¥åŠè¿‡æœŸé”®çš„åˆ é™¤ä¼šä½¿ç¢ç‰‡ç‡ä¸Šå‡ ä½¿ç”¨æ•´é½çš„æ˜¯æ•°æ®ç»“æ„å‡å°‘ç¢ç‰‡ æˆ–è€…ä½¿ç”¨é«˜å¯ç”¨æ¶æ„é‡å¯æœåŠ¡å™¨æ¥æ•´ç†å†…å­˜ç¢ç‰‡ å­è¿›ç¨‹å†…å­˜æ¶ˆè€—ï¼š Redisäº§ç”Ÿçš„å­è¿›ç¨‹å¹¶ä¸éœ€è¦æ¶ˆè€—1å€çš„çˆ¶è¿›ç¨‹å†…å­˜ï¼Œå®é™…æ¶ˆè€—æ ¹æ®æœŸé—´å†™å…¥å‘½ä»¤é‡å†³å®šï¼Œä½†æ˜¯ä¾ç„¶è¦é¢„ç•™å‡ºä¸€äº›å†…å­˜é˜²æ­¢æº¢å‡º å†…å­˜ç®¡ç† Redisé»˜è®¤æ— é™ä½¿ç”¨æœåŠ¡å™¨å†…å­˜ è®¾ç½®å†…å­˜ä¸Šé™ï¼šmaxmemoryé…ç½®é¡¹ é™åˆ¶çš„æ˜¯Rediså®é™…ä½¿ç”¨çš„å†…å­˜é‡ï¼Œä¹Ÿå°±æ˜¯used_memoryç»Ÿè®¡é¡¹å¯¹åº”çš„å†…å­˜ åŠ¨æ€è°ƒæ•´å†…å­˜ä¸Šé™ï¼šconfig set maxmemory å†…å­˜å›æ”¶ åˆ é™¤è¿‡æœŸé”®å¯¹è±¡ï¼š æƒ°æ€§åˆ é™¤ å½“å®¢æˆ·ç«¯è¯»å–å¸¦æœ‰è¶…æ—¶å±æ€§çš„é”®æ—¶ï¼Œå¦‚æœå·²ç»è¶…è¿‡é”®è®¾ç½®çš„è¿‡æœŸæ—¶é—´ï¼Œä¼šæ‰§è¡Œåˆ é™¤æ“ä½œå¹¶è¿”å›ç©º è™½ç„¶èŠ‚çœCPU ä½†å­˜åœ¨è¿‡æœŸå¯¹è±¡æ— æ³•åŠæ—¶å›æ”¶ å†…å­˜æ³„æ¼çš„é—®é¢˜ å®šæ—¶ä»»åŠ¡åˆ é™¤ Rediså†…éƒ¨ç»´æŠ¤ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œé»˜è®¤æ¯ç§’è¿è¡Œ10æ¬¡ å¾ªç¯æ‰§è¡ŒæŒ‡çš„æ˜¯æ‰§è¡Œå›æ”¶é€»è¾‘ ç›´åˆ°ä¸è¶³25%æˆ–è¿è¡Œè¶…æ—¶ä¸ºæ­¢ å†…å­˜æº¢å‡ºæ·˜æ±°ç­–ç•¥ï¼š è®¾ç½®å†…å­˜æœ€å¤§ä½¿ç”¨é‡ï¼Œå½“å†…å­˜ä½¿ç”¨é‡è¶…å‡ºæ—¶ï¼Œä¼šæ–½è¡Œæ•°æ®æ·˜æ±°ç­–ç•¥ ç­–ç•¥ æè¿° volatile-lru ä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ä¸­æŒ‘é€‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®æ·˜æ±°ï¼ˆæœ€å¸¸ç”¨ï¼‰ volatile-ttl ä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ä¸­æŒ‘é€‰å°†è¦è¿‡æœŸçš„æ•°æ®æ·˜æ±° volatile-random ä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ä¸­ä»»æ„é€‰æ‹©æ•°æ®æ·˜æ±° allkeys-lru ä»æ‰€æœ‰æ•°æ®é›†ä¸­æŒ‘é€‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®æ·˜æ±° allkeys-random ä»æ‰€æœ‰æ•°æ®é›†ä¸­ä»»æ„é€‰æ‹©æ•°æ®è¿›è¡Œæ·˜æ±° noeviction ç¦æ­¢é©±é€æ•°æ®ï¼Œå½“å†…å­˜ä¸è¶³æ—¶ï¼Œå†™å…¥æ“ä½œä¼šè¢«æ‹’ç» å†…å­˜æº¢å‡ºæ·˜æ±°ç­–ç•¥å¯ä»¥é‡‡ç”¨config set maxmemory-policy{policy}åŠ¨æ€é…ç½® å†…å­˜ä¼˜åŒ– redisObjectï¼š Rediså­˜å‚¨çš„æ‰€æœ‰å€¼å¯¹è±¡åœ¨å†…éƒ¨å®šä¹‰ä¸ºredisObjectç»“æ„ä½“ struct { type // è¡¨ç¤ºå½“å‰å¯¹è±¡ä½¿ç”¨çš„æ•°æ®ç±»å‹ encoding // ä»£è¡¨å½“å‰å¯¹è±¡å†…éƒ¨é‡‡ç”¨å“ªç§æ•°æ®ç»“æ„å®ç° lru // è®°å½•å¯¹è±¡æœ€åä¸€æ¬¡è¢«è®¿é—®çš„æ—¶é—´ refcount // è®°å½•å½“å‰å¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•° Rediså¯ä»¥ä½¿ç”¨å…±äº«å¯¹è±¡çš„æ–¹å¼æ¥èŠ‚çœå†…å­˜ *ptr // å¦‚æœæ˜¯æ•´æ•°ï¼Œç›´æ¥å­˜å‚¨æ•°æ®ï¼›å¦åˆ™è¡¨ç¤ºæŒ‡å‘æ•°æ®çš„æŒ‡é’ˆ 3.0ä¹‹åå¯¹å€¼å¯¹è±¡æ˜¯å­—ç¬¦ä¸²ä¸”é•¿åº¦ ç¼©å‡é”®å€¼å¯¹è±¡ è®¾è®¡é”®æ—¶ï¼Œåœ¨å®Œæ•´æè¿°ä¸šåŠ¡æƒ…å†µä¸‹ï¼Œé”®å€¼è¶ŠçŸ­è¶Šå¥½ å€¼å¯¹è±¡å°½é‡é€‰æ‹©æ›´é«˜æ•ˆçš„åºåˆ—åŒ–å·¥å…·è¿›è¡Œå‹ç¼© å…±äº«å¯¹è±¡æ±  å½“æ•°æ®å¤§é‡ä½¿ç”¨[0-9999]çš„æ•´æ•°æ—¶ï¼Œå…±äº«å¯¹è±¡æ± å¯ä»¥èŠ‚çº¦å¤§é‡å†…å­˜ å½“å¯ç”¨LRUç›¸å…³æ·˜æ±°ç­–ç•¥å¦‚ï¼švolatile-lruï¼Œallkeys-lruæ—¶ï¼ŒRedisç¦æ­¢ä½¿ç”¨å…±äº«å¯¹è±¡æ±  å­—ç¬¦ä¸²ä¼˜åŒ– å­—ç¬¦ä¸²ç»“æ„ï¼š struct { int len; // å·²ç”¨å­—èŠ‚é•¿åº¦ int free; // æœªç”¨å­—èŠ‚é•¿åº¦ char buf[]; // å­—èŠ‚æ•°ç»„ } å†…éƒ¨å®ç°ç©ºé—´é¢„åˆ†é…æœºåˆ¶ï¼Œé™ä½å†…å­˜å†åˆ†é…æ¬¡æ•°ï¼Œå­—ç¬¦ä¸²ç¼©å‡åçš„ç©ºé—´ä¸é‡Šæ”¾ï¼Œä½œä¸ºé¢„åˆ†é…ç©ºé—´ä¿ç•™ è¿™å°±å¯¼è‡´å¦‚æœå¯¹å­—ç¬¦ä¸²è¿›è¡Œ append setrangeç­‰æ“ä½œ å°±ä¼šæœ‰å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿ å¯ä»¥ä½¿ç”¨hashæ¥ä»£æ›¿å­—ç¬¦ä¸²ç±»å‹å­˜å‚¨json ä¸ä»…æ”¯æŒéƒ¨åˆ†å­˜å– æ•°æ®é‡ä¸€å¤§æ—¶ä¹Ÿæ›´èŠ‚çœå†…å­˜ ç¼–ç ä¼˜åŒ– é€šè¿‡ä¸åŒç¼–ç å®ç°æ•ˆç‡å’Œç©ºé—´çš„å¹³è¡¡ ç¼–ç è½¬æ¢çš„æµç¨‹ï¼š æ§åˆ¶é”®çš„æ•°é‡ å¯¹äºå­˜å‚¨ç›¸åŒçš„æ•°æ®å†…å®¹åˆ©ç”¨Redisçš„æ•°æ®ç»“æ„é™ä½å¤–å±‚é”®çš„æ•°é‡ï¼Œä¹Ÿå¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ å¯¹äºéœ€è¦å¯¹å¦‚hashçš„å†…éƒ¨æ•°æ®è¿›è¡Œè¿‡æœŸå¤„ç† å°±å¿…é¡»é€šè¿‡å¤–éƒ¨å®šæ—¶ä»»åŠ¡æ‰«æçš„æ–¹å¼æ¥è¿›è¡Œè¿‡æœŸå¤„ç† æ•´åˆLua redis-cli eval \"return 1+1\" 0 åœ¨redis-cliä¸­ EVAL \"local msg='hello world' return msg..KEYS[1]\" 1 AAA BBB ç‹¬ç«‹æ–‡ä»¶ local count = redis.call(\"get\", \"count\") redis.call(\"incr\",\"count\") return count redis-cli --eval test.lua 0 éƒ¨ç½² åŠ è½½åˆ°redis redis-cli script load \"$(cat test.lua)\" å¾—åˆ°sha1å€¼ æ‰§è¡Œ redis-cli evalsha \"7a2054836e94e19da22c13f160bd987fbc9ef146\" 0 luaè„šæœ¬ç®¡ç† script load script exists script flush script kill redisè¿ç»´ Linuxé…ç½®ä¼˜åŒ– vm.overcommit_memoryï¼šå†…å­˜åˆ†é…ç­–ç•¥ å€¼ å«ä¹‰ 0 è¡¨ç¤ºå†…æ ¸å°†æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„å¯ç”¨å†…å­˜ã€‚å¦‚æœæœ‰è¶³å¤Ÿçš„å¯ç”¨å†…å­˜ï¼Œå†…å­˜ç”³è¯·é€šè¿‡ï¼Œå¦åˆ™å†…å­˜ç”³è¯·å¤±è´¥ï¼Œå¹¶æŠŠé”™è¯¯è¿”å›ç»™åº”ç”¨è¿›ç¨‹ 1 è¡¨ç¤ºå†…æ ¸å…è®¸è¶…é‡ä½¿ç”¨å†…å­˜ç›´åˆ°ç”¨å®Œä¸ºæ­¢ 2 è¡¨ç¤ºå†…æ ¸å†³ä¸è¿‡é‡çš„( \"never overcommit\")ä½¿ç”¨å†…å­˜ï¼Œå³ç³»ç»Ÿæ•´ä¸ªå†…å­˜åœ°å€ç©ºé—´ä¸èƒ½è¶…è¿‡swap+50%çš„RAMå€¼ï¼Œ50%æ˜¯overcommit ratioé»˜è®¤å€¼ï¼Œæ­¤å‚æ•°åŒæ ·æ”¯æŒä¿®æ”¹ swappinessï¼šå€¼è¶Šå¤§ï¼Œè¯´æ˜æ“ä½œç³»ç»Ÿå¯èƒ½ä½¿ç”¨swapçš„æ¦‚ç‡è¶Šé«˜ å€¼ ç­–ç•¥ 0 Linux3.5ä»¥åŠä»¥ä¸Š:å®æ„¿ç”¨OOM killerä¹Ÿä¸ç”¨swapï¼ŒLinux3.4ä»¥åŠæ›´æ—©:å®æ„¿ç”¨swapä¹Ÿä¸ç”¨OOM killer 1 Linux3.5ä»¥åŠä»¥ä¸Š:å®æ„¿ç”¨swapä¹Ÿä¸ç”¨OOM killer 60 é»˜è®¤å€¼ 100 æ“ä½œç³»ç»Ÿä¼šä¸»åŠ¨åœ°ä½¿ç”¨swap THPç‰¹æ€§ï¼šæ”¯æŒå¤§å†…å­˜é¡µï¼ˆ2MBï¼‰åˆ†é…ï¼Œé»˜è®¤å¼€å¯ã€‚å½“å¼€å¯æ—¶å¯ä»¥é™ä½forkå­è¿›ç¨‹çš„é€Ÿåº¦ï¼Œä½†forkæ“ä½œä¹‹åï¼Œæ¯ä¸ªå†…å­˜é¡µä»åŸæ¥4KBå˜ä¸º2MBï¼Œä¼šå¤§å¹…å¢åŠ é‡å†™æœŸé—´çˆ¶è¿›ç¨‹å†…å­˜æ¶ˆè€— å»ºè®®å…³é—­ OOM killerä¼šåœ¨å¯ç”¨å†…å­˜ä¸è¶³æ—¶é€‰æ‹©æ€§åœ°æ€æ‰ç”¨æˆ·è¿›ç¨‹ ä¼šä¸ºæ¯ä¸ªç”¨æˆ·è¿› ç¨‹è®¾ç½®ä¸€ä¸ªæƒå€¼ï¼Œè¿™ä¸ªæƒå€¼è¶Šé«˜ï¼Œè¢«â€œä¸‹æ‰‹â€çš„æ¦‚ç‡å°±è¶Šé«˜ ä½¿ç”¨NTPï¼ˆç½‘ç»œæ—¶é—´åè®®ï¼‰æ¥é¿å…å¼‚å¸¸æƒ…å†µä¸‹çš„æ—¥å¿—æ’æŸ¥å›°éš¾ ulimit è®¾ç½®åŒæ—¶æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶ä¸ªæ•° TCP backlog åˆ åº“è¡¥æ•‘ æŒä¹…åŒ–æ–‡ä»¶æ˜¯æ¢å¤æ•°æ®çš„åª’ä»‹ è¯¯æ“ä½œä¹‹åå¤§AOFé‡å†™å‚æ•°auto-aof-rewrite-percentageå’Œauto-aof-rewrite-min-sizeï¼Œè®©Redisä¸èƒ½äº§ç”ŸAOFè‡ªåŠ¨é‡å†™ ä»¥åŠæ‹’ç»æ‰‹åŠ¨bgrewriteaof å®‰å…¨ requirepassé…ç½®ä¸ºRedisæä¾›å¯†ç åŠŸèƒ½ rename-commandä¼ªè£…å±é™©å‘½ä»¤ bindæŒ‡å®šçš„Rediså’Œå“ªä¸ªç½‘å¡è¿›è¡Œç»‘å®š bigkeyå¤„ç† bigkeyæ˜¯æŒ‡keyå¯¹åº”çš„valueæ‰€å çš„å†…å­˜ç©ºé—´æ¯”è¾ƒå¤§ å¯èƒ½é€ æˆå†…å­˜å€¾æ–œ å¤§keyä¼šé€ æˆæ“ä½œé˜»å¡æˆ–è€…ç½‘ç»œé˜»å¡ ä½¿ç”¨redis-cli --bigkeysç»Ÿè®¡bigkey çƒ­ç‚¹key å®¢æˆ·ç«¯è®¡æ•° ä»£ç†ç«¯è®¡æ•° æœåŠ¡ç«¯monitorå‘½ä»¤è¾“å‡ºç»Ÿè®¡ é«˜å¹¶å‘æƒ…å†µä¸‹ä¼šæœ‰æ€§èƒ½é—®é¢˜ é€šè¿‡TCPç½‘ç»œæŠ“åŒ…è¿›è¡Œç»Ÿè®¡ redis vs memcached redisæ”¯æŒå¤æ‚çš„æ•°æ®ç»“æ„ redisæ”¯æŒåŸç”Ÿé›†ç¾¤ redis åªä½¿ç”¨å•æ ¸ï¼Œè€Œ memcached å¯ä»¥ä½¿ç”¨å¤šæ ¸ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-03-17 09:25:41 "},"ä¸­é—´ä»¶/æ•°æ®åº“/redis/æ•°æ®ç»“æ„.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/redis/æ•°æ®ç»“æ„.html","title":"æ•°æ®ç»“æ„","keywords":"","body":"æ•°æ®ç»“æ„ äºŒè¿›åˆ¶å®‰å…¨ï¼šåº•å±‚æ²¡æœ‰ç±»å‹æ¦‚å¿µï¼Œåªæœ‰byteæ•°ç»„ æ‰€ä»¥å®¢æˆ·ç«¯éœ€è¦å°†æ•°æ®åºåˆ—åŒ–æˆå­—èŠ‚æ•°ç»„ string å­—ç¬¦ä¸²ã€æ•°å€¼ã€bitä½å›¾ å†…éƒ¨ç¼–ç ï¼š intï¼š8ä¸ªå­—èŠ‚çš„é•¿æ•´å‹ embstrï¼šå°äºç­‰äº39ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸² rawï¼šå¤§äº39ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸² åº”ç”¨åœºæ™¯ï¼š åšç®€å•çš„KVç¼“å­˜ è®¾è®¡åˆç†çš„é”®åï¼Œæœ‰åˆ©äºé˜²æ­¢é”®å†²çªå’Œé¡¹ç›®çš„å¯ç»´æŠ¤æ€§ï¼Œæ¯”è¾ƒæ¨èçš„æ–¹å¼æ˜¯ä½¿ç”¨ä¸šåŠ¡åï¼šå¯¹è±¡åï¼šidï¼š[å±æ€§]ä½œä¸ºé”®å incrï¼ˆè®¡æ•°ï¼‰ï¼šæŠ¢è´­ï¼Œç§’æ€ï¼Œè¯¦æƒ…é¡µï¼Œç‚¹èµï¼Œè¯„è®º sessionæœåŠ¡å™¨ é™é€Ÿ é€šè¿‡å¯¹keyè®¾ç½®è¿‡æœŸæ—¶é—´çš„æ–¹å¼é™åˆ¶ç”¨æˆ·è¯·æ±‚é¢‘ç‡ ä½¿ç”¨ä½å›¾æ¥å¤„ç†æµ·é‡æ•°æ® å“ˆå¸Œç±»å‹ hash åšå¯¹è±¡å±æ€§è¯»å†™ åˆ—è¡¨ç±»å‹ list å¯ä»¥åšæ¶ˆæ¯é˜Ÿåˆ—æˆ–è€…å¯ä»¥æ¥å­˜å‚¨åˆ—è¡¨ä¿¡æ¯ï¼Œè¿›è¡Œåˆ†é¡µæŸ¥è¯¢ é›†åˆç±»å‹ set è‡ªåŠ¨å»é‡ æ¨èç³»ç»Ÿï¼šæ•°æ®äº¤é›† æœ‰åºé›†åˆç±»å‹ sortedset æ’åº å†…éƒ¨æ•°æ®ç»“æ„ å­—å…¸ typedef struct dictht { dictEntry **table; unsigned long size; unsigned long sizemask; unsigned long used; } dictht; typedef struct dictEntry { void *key; union { void *val; uint64_t u64; int64_t s64; double d; } v; struct dictEntry *next; } dictEntry; redisä½¿ç”¨äº†ä¸¤å¼ å“ˆå¸Œè¡¨æ¥æ–¹ä¾¿æ‰©å®¹æ—¶çš„rehashæ“ä½œ åœ¨è¿›è¡Œrehashæ—¶ï¼Œä¸ºé¿å…ç»™æœåŠ¡å™¨å¸¦æ¥è¿‡å¤§è´Ÿæ‹…ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§å°†æ‰€æœ‰å€¼rehashåˆ°å¦å¤–ä¸€å¼ è¡¨ï¼Œè€Œæ˜¯é€šè¿‡æ¸è¿›çš„æ–¹å¼ï¼Œæ¯æ¬¡å¯¹å­—å…¸æ‰§è¡Œæ·»åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾æˆ–è€…æ›´æ–°æ“ä½œæ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡æ¸è¿›å¼ rehashã€‚ è·³è·ƒè¡¨ æŸ¥æ‰¾æ—¶ï¼Œä»ä¸Šå±‚å¼€å§‹æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å¯¹åº”çš„åŒºé—´åå†åˆ°ä¸‹ä¸€å±‚ç»§ç»­æŸ¥æ‰¾ï¼Œç±»ä¼¼äºäºŒåˆ†æŸ¥æ‰¾ è¿™ç§æŸ¥æ‰¾æ•°æ®ç»“æ„è·Ÿçº¢é»‘æ ‘ç›¸æ¯”ï¼š æ’å…¥éå¸¸å¿«ï¼Œå› ä¸ºä¸éœ€è¦åœ¨æ’å…¥åè¿›è¡Œæ—‹è½¬ å®ç°å®¹æ˜“ æ”¯æŒæ— é”æ“ä½œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-05 08:53:44 "},"ä¸­é—´ä»¶/æ•°æ®åº“/redis/API.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/redis/API.html","title":"API","keywords":"","body":"API é€šç”¨ keys * : æŸ¥çœ‹æ‰€æœ‰çš„é”®(ç”Ÿäº§ç¯å¢ƒåº”ç¦ç”¨ï¼ŒåŸå› ï¼šæ­£åˆ™è¡¨è¾¾å¼å¯èƒ½ä¼šå ç”¨å¤§é‡èµ„æº) dbsize è¿”å›å½“å‰æ•°æ®åº“ä¸­å»ºçš„æ€»æ•° type key ï¼š è·å–é”®å¯¹åº”çš„valueçš„ç±»å‹ del keyï¼šåˆ é™¤æŒ‡å®šçš„key(å¯ä»¥æ˜¯å¤šä¸ª) exists keyï¼šåˆ¤æ–­æŒ‡å®šçš„keyæ˜¯å¦å­˜åœ¨ expire key timeï¼šæŒ‡å®škeyçš„ç”Ÿå­˜æ—¶é—´ï¼Œå•ä½ï¼šç§’ ttl key æŸ¥çœ‹é”®çš„å‰©ä½™è¿‡æœŸæ—¶é—´ å­—ç¬¦ä¸²ç±»å‹ set key value [ex seconds] [px milliseconds] [nx|xx] # è®¾ç½®å€¼ # ex ä»¥ç§’ä¸ºå•ä½çš„è¿‡æœŸæ—¶é—´ # px æ¯«ç§’å•ä½çš„è¿‡æœŸæ—¶é—´ # nxï¼šset if not exists # xx set if exists get key # è·å–å€¼ mset name cxk age 18 # æ‰¹é‡è®¾ç½®å€¼ mget name age # æ‰¹é‡è·å–å€¼ incr a # è‡ªå¢1 incrby a 15 # è‡ªå¢æŒ‡å®šå€¼ decrby a 15 # è‡ªå‡æŒ‡å®šå€¼ incrbyfloat a 10.5 # è‡ªå¢æµ®ç‚¹æ•° append name jntm # å­—ç¬¦ä¸²è¿½åŠ å€¼ strlen name # è·å–å­—ç¬¦ä¸²é•¿åº¦ set name è”¡å¾å¤ strlen name # rediså°†ä¸­æ–‡åºåˆ—åŒ–ä¸ºbyteæ•°ç»„ ä¸­æ–‡çš„é•¿åº¦å–å†³äºç»ˆç«¯çš„ç¼–ç é›† getset name world # è®¾ç½®æ–°å€¼å¹¶è¿”å›æ—§å€¼ setrange name 2 kd # ä»æŒ‡å®šä½ç½®è®¾ç½®å­—ç¬¦ä¸² getrange name 0 -1 # è·å–æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ä¸² åœ¨redisä¸­ è‡ªå¢æ“ä½œéƒ½æ˜¯åŸå­çš„ ä¸ç”¨æ‹…å¿ƒè¢«åˆ«çš„å®¢æˆ·ç«¯ä¿®æ”¹ bitmap è¿™ä¸ªæ•°æ®ç±»å‹é€‚åˆç”¨æ¥å¤„ç†æµ·é‡æ•°æ® setbit map 5 1 # å°†åç§»é‡ä¸º5çš„bitè®¾ç½®ä¸º1 åœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ–Bitmapsæ—¶ï¼Œå‡å¦‚åç§»é‡éå¸¸å¤§ï¼Œé‚£ä¹ˆæ•´ä¸ªåˆå§‹åŒ–è¿‡ç¨‹æ‰§è¡Œä¼šæ¯”è¾ƒæ…¢ï¼Œå¯èƒ½ä¼šé€ æˆRedisçš„é˜»å¡ getbit map 5 # è·å–åç§»é‡ä¸º5çš„å€¼ bitcount map 0 -1 # è·å–æŒ‡å®šèŒƒå›´å†…1çš„ä¸ªæ•° bitop and|or|not|xor ret map map1 # bitmap é›†åˆè¿ç®— bitpos map 1 # bitmap ç¬¬ä¸€ä¸ªå€¼ä¸º1çš„bitçš„åç§»é‡ ä¾‹å­ï¼š ç»Ÿè®¡æŸä¸ªæ—¶é—´çª—å£å†…çš„ç™»å½•å¤©æ•° setbit cxk 1 1 # ç¬¬ä¸€å¤©ç™»å½• setbit cxk 364 1 # ç¬¬364å¤©ç™»å½• bitcount cxk 0 10 # 0 - 10å¤©è¿™ä¸ªæ—¶é—´çª—å£ç™»å½•äº†å‡ å¤© ç»Ÿè®¡æŸä¸ªæ—¶é—´çª—å£æ´»è·ƒç”¨æˆ·æ•° setbit 200618 1 1 # 18å·1å·ç”¨æˆ·ç™»å½• setbit 200619 1 1 # 19å·1å·ç”¨æˆ·ç™»å½• setbit 200619 7 1 # 19å·7å·ç”¨æˆ·ç™»å½• bitop or ret 200618 200619 # ä½¿ç”¨æˆ–è¿ç®—åˆå¹¶bit bitcount ret 0 0 # ç»Ÿè®¡æœ‰å¤šå°‘ä½1 HyperLogLog é€šè¿‡HyperLogLogå¯ä»¥åˆ©ç”¨æå°çš„å†…å­˜ç©ºé—´å®Œæˆå¤§é‡å…ƒç´ çš„ç‹¬ç«‹æ€»æ•°çš„ç»Ÿè®¡ ç”¨å°ç©ºé—´æ¥ä¼°ç®—å¦‚æ­¤å·¨å¤§çš„æ•°æ®ï¼Œå…¶ä¸­ä¸€å®šå­˜åœ¨è¯¯å·®ç‡ï¼ˆç±»ä¼¼äºå¸ƒéš†è¿‡æ»¤å™¨ï¼‰ ä½¿ç”¨è¿™ä¸ªæ¥ä¼°ç®—æ•°æ® å¯ä»¥å®¹å¿ä¸€å®šçš„è¯¯å·®ç‡ pfadd users user1 user2 user3 user4 # æ·»åŠ å…ƒç´  pfcount users # ç»Ÿè®¡ä¸ªæ•° å“ˆå¸Œç±»å‹ hset user:1 name cxk age 18 # è®¾ç½®field hsetnx user:1 name cxk # set if not exists hget user:1 name # è·å–field hdel user:1 name age # åˆ é™¤field hlen user:1 # è®¡ç®—fieldä¸ªæ•° hmget user:1 name age # æ‰¹é‡è·å–field hexists user:1 name # åˆ¤æ–­fieldæ˜¯å¦å­˜åœ¨ hkeys user:1 # è·å–æ‰€æœ‰fieldåç§° hvals user:1 # è·å–æ‰€æœ‰field value hgetall user:1 # è·å–å…¨éƒ¨kvå¯¹ hincrby user:1 age 1 # å¯¹æŒ‡å®šfieldè‡ªå¢ hincrbyfloat user:1 age 1.5 # æµ®ç‚¹æ•°è‡ªå¢ å†…éƒ¨ç¼–ç ï¼š ziplist å‹ç¼©åˆ—è¡¨ è¿™ç§ç±»å‹ä½¿ç”¨æ›´åŠ ç´§å‡‘çš„ç»“æ„å®ç°å¤šä¸ªå…ƒç´ çš„è¿ç»­å­˜å‚¨ èŠ‚çœå†…å­˜ hashtable è¯»å†™æ•ˆç‡æ¯”ziplisté«˜ ä½¿ç”¨åœºæ™¯ï¼š å“ˆå¸Œç±»å‹æ˜¯ç¨€ç–çš„ï¼Œè€Œå…³ç³»å‹æ•°æ®åº“æ˜¯å®Œå…¨ç»“æ„åŒ–çš„ï¼Œå“ˆå¸Œç±»å‹æ¯ä¸ªé”®å¯ä»¥æœ‰ä¸åŒçš„fieldï¼Œè€Œå…³ç³»å‹æ•°æ®åº“ä¸€æ—¦æ·»åŠ æ–°çš„åˆ—ï¼Œæ‰€æœ‰è¡Œéƒ½è¦ä¸ºå…¶è®¾ç½®å€¼ å…³ç³»å‹æ•°æ®åº“å¯ä»¥åšå¤æ‚çš„å…³ç³»æŸ¥è¯¢ï¼Œè€ŒRediså»æ¨¡æ‹Ÿå…³ç³»å‹å¤æ‚æŸ¥è¯¢å¼€å‘å›°éš¾ åˆ—è¡¨ç±»å‹ å°†å…ƒç´ åŠ å…¥åˆ—è¡¨å·¦è¾¹ï¼šlpush key value å°†å…ƒç´ åŠ å…¥åˆ—è¡¨å³è¾¹ï¼šrpush key value å…ƒç´ æ’å…¥ï¼šlinsert key before|after pivot value èŒƒå›´è·å–ï¼šlrange key start end è·å–æŒ‡å®šä¸‹æ ‡ï¼šlindex key i è·å–åˆ—è¡¨é•¿åº¦:llen key åˆ é™¤åˆ—è¡¨æœ€å·¦è¾¹çš„å…ƒç´ ï¼Œå¹¶å°†å…ƒç´ è¿”å›:lpop key åˆ é™¤åˆ—è¡¨æœ€å³è¾¹çš„å…ƒç´ ï¼Œå¹¶å°†å…ƒç´ è¿”å›:rpop key åˆ é™¤æŒ‡å®šå…ƒç´  ä»å·¦åˆ°å³ æœ€å¤šåˆ é™¤ä¸€ä¸ªï¼šlrem list 1 java ä»å³åˆ°å·¦ æœ€å¤šåˆ é™¤ä¸€ä¸ªï¼šlrem list -1 java åˆ é™¤å…¨éƒ¨ï¼šlrem list 0 java ç´¢å¼•èŒƒå›´å†…çš„å…ƒç´ ï¼šltrim list 0 1 ä¿®æ”¹æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ ï¼šlset list 0 java é˜»å¡æ“ä½œ 3ç§’å†…è·å–ä¸åˆ°å°±è¿”å›:brpop list 3 å†…éƒ¨ç¼–ç ï¼š ziplist linkedlist quicklist ç»“åˆäº†ziplistå’Œlinkedlistä¸¤è€…çš„ä¼˜åŠ¿ ä½¿ç”¨åœºæ™¯ï¼š æ¶ˆæ¯é˜Ÿåˆ— æˆ·ç«¯ä½¿ç”¨lrpushä»åˆ—è¡¨å·¦ä¾§æ’å…¥å…ƒç´  å¤šä¸ªæ¶ˆè´¹è€…å®¢æˆ·ç«¯ä½¿ç”¨brpopå‘½ä»¤é˜»å¡å¼çš„â€œæŠ¢â€ åˆ†é¡µåˆ—è¡¨ ä½¿ç”¨lrangeå®ç° å…¶ä»–ï¼š Â·lpush+lpop=Stack Â·lpush+rpop=Queue Â·lpsh+ltrim=Capped Collection Â·lpush+brpop=Message Queue é›†åˆç±»å‹ sadd set a b c # æ·»åŠ å…ƒç´  srem set b # åˆ é™¤å…ƒç´  scard set # è®¡ç®—å…ƒç´ ä¸ªæ•°(ç»´æŠ¤ä¸€ä¸ªå˜é‡å¾—åˆ°) sismember set c # åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆå†… srandmember set 2 # éšæœºä»é›†åˆè¿”å›æŒ‡å®šä¸ªæ•°å…ƒç´  # æ­£æ•°ï¼šå–å‡ºä¸€ä¸ªå»é‡çš„ç»“æœé›†ï¼ˆä¸èƒ½è¶…è¿‡å·²æœ‰é›†ï¼‰ # è´Ÿæ•°ï¼šå–å‡ºä¸€ä¸ªå¸¦é‡å¤çš„ç»“æœé›†ï¼Œä¸€å®šæ»¡è¶³ä½ è¦çš„æ•°é‡ # å¦‚æœï¼š0ï¼Œä¸è¿”å› spop set 1 # éšæœºå¼¹å‡ºå…ƒç´  smembers set # è·å–æ‰€æœ‰å…ƒç´  sinter s1 s2 # æ±‚äº¤é›† sunion s1 s2 # æ±‚å¹¶é›† sdiff s1 s2 # æ±‚å·®é›† sinterstore s3 s1 s2 # äº¤é›†ç»“æœå­˜å‚¨åˆ°s3 # ... å†…éƒ¨ç¼–ç ï¼š intset å ç”¨å†…å­˜å° hashtable ä¾‹å­ï¼šç”¨æˆ·æ ‡ç­¾ sadd user1 food movie sport music sadd user2 food music network sinter user1 user2 # è®¡ç®—ç”¨æˆ·å…±åŒæ„Ÿå…´è¶£çš„æ ‡ç­¾ ä¾‹å­ï¼šæŠ½å¥– sadd k 1 2 3 4 5 6 7 8 9 # 9ä¸ªç”¨æˆ· SRANDMEMBER k 3 # æŠ½å–ä¸‰ä¸ªä¸é‡å¤ç”¨æˆ· SRANDMEMBER k -3 # æŠ½å–ä¸‰ä¸ªå¯èƒ½ä¼šé‡å¤çš„ç”¨æˆ· sadd=Taggingï¼ˆæ ‡ç­¾ï¼‰ spop/srandmember=Random itemï¼ˆç”Ÿæˆéšæœºæ•°ï¼Œæ¯”å¦‚æŠ½å¥–ï¼‰ sadd+sinter=Social Graphï¼ˆç¤¾äº¤éœ€æ±‚ï¼‰ æœ‰åºé›†åˆç±»å‹ help @sorted_set ç‰©ç†å†…å­˜å·¦å°å³å¤§ zadd users 251 tom # æ·»åŠ æˆå‘˜ åˆ†æ•°251 zcard users # è®¡ç®—æˆå‘˜ä¸ªæ•° zscore users tom # è·å–æŸä¸ªæˆå‘˜åˆ†æ•° zrank users tom # è®¡ç®—æŸä¸ªæˆå‘˜æ’å zrem users tom # åˆ é™¤æˆå‘˜ zincrby users 8 jerry # å¢åŠ æŸä¸ªæˆå‘˜çš„åˆ†æ•° zrange users 0 10 # æ­£åºè¿”å›æŒ‡å®šæ’åèŒƒå›´çš„æˆå‘˜ zrevrange users 0 10 # å€’åºè¿”å›æŒ‡å®šæ’åèŒƒå›´çš„æˆå‘˜ zrangebyscore users 0 255 # æ­£åºè¿”å›æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æˆå‘˜ zrevrangebyscore users 0 255 # æ­£åºè¿”å›æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æˆå‘˜ zcount users 0 255 # è®¡ç®—æŒ‡å®šåˆ†æ•°èŒƒå›´çš„æˆå‘˜ä¸ªæ•° zremrangebyrank users 0 1 # åˆ é™¤æŒ‡å®šæ’åèŒƒå›´å†…çš„æˆå‘˜ zremrangebyscore users 0 10 # åˆ é™¤æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„æˆå‘˜ zinterstore user:ranking:1_inter_2 2 user:ranking:1 user:ranking:2 weights 1 0.5 aggregate max # å¹¶é›† å†…éƒ¨æ•°æ®ç»“æ„ï¼š ziplist skiplist ä¾‹å­ï¼šç‚¹èµ zadd video 0 cxk # cxkå‘å¸ƒäº†ä¸€ä¸ªè§†é¢‘ 0èµ zincrby video 1 cxk # æœ‰äººç»™cxkè§†é¢‘ç‚¹äº†ä¸€ä¸ªèµ zrem video cxk # æ¸…ç©ºcxkçš„è§†é¢‘ç‚¹èµ zrevrange video 0 9 # è·å–ç‚¹èµæ’è¡Œæ¦œ é”®ç®¡ç† å•é”®ç®¡ç†ï¼š rename name newname # é”®é‡å‘½å randomkey # éšæœºè¿”å›æ•°æ®åº“é‡Œçš„ä¸€ä¸ªé”® expire name 10 # è®¾ç½®é”®10ç§’åè¿‡æœŸ expireat name timestamp # è®¾ç½®é”®åœ¨æŒ‡å®šæ—¶é—´æˆ³åè¿‡æœŸ # å¯¹äºå­—ç¬¦ä¸² set ä¼šæ¸…é™¤å…¶è¿‡æœŸæ—¶é—´ # Redisä¸æ”¯æŒäºŒçº§æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚å“ˆå¸Œã€åˆ—è¡¨ï¼‰å†…éƒ¨å…ƒç´ çš„è¿‡æœŸåŠŸèƒ½ persist name # å»é™¤é”®çš„è¿‡æœŸæ—¶é—´ é”®è¿ç§»ï¼š move åŒä¸€rediså†… dump restre é€šè¿‡RDBæ–‡ä»¶çš„æ–¹å¼ migrate è‡ªåŠ¨é€šè¿‡ç½‘ç»œä¼ è¾“æ•°æ® éå†é”®ï¼š keys * # è·å–æ‰€æœ‰é”® å¦‚æœRedisåŒ…å«äº†å¤§é‡çš„é”®ï¼Œæ‰§è¡Œkeyså‘½ä»¤å¾ˆå¯èƒ½ä¼šé€ æˆRedisé˜»å¡ scan 0 # æ¸è¿›å¼éå† è¯¥å‘½ä»¤è¿”å›ä¸¤ä¸ªéƒ¨åˆ†ï¼š1. ä¸‹ä¸€ä¸ªæ¸¸æ ‡ 2. éå†ç»“æœ # å¦‚æœè¦ç»§ç»­éå† ä¸‹ä¸€æ¬¡scanåé¢æ¥çš„å°±æ˜¯è¿”å›çš„æ¸¸æ ‡ æ•°æ®åº“ç®¡ç†ï¼š select 2 # åˆ‡æ¢åˆ°2å·æ•°æ®åº“ flushdb # æ¸…ç©ºæ•°æ®åº“ å¦‚æœå½“å‰æ•°æ®åº“é”®å€¼æ•°é‡æ¯”è¾ƒå¤šï¼Œflushdb/flushallå­˜åœ¨é˜»å¡Redisçš„å¯èƒ½ flushall Redis3.0åå·²ç»é€æ¸å¼±åŒ–å¤šæ•°æ®åº“è¿™ä¸ªåŠŸèƒ½ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-05 08:53:44 "},"ä¸­é—´ä»¶/æ•°æ®åº“/redis/æŒä¹…åŒ–.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/redis/æŒä¹…åŒ–.html","title":"æŒä¹…åŒ–","keywords":"","body":"æŒä¹…åŒ– é€šç”¨æŒä¹…åŒ–æ–¹æ¡ˆï¼š å¿«ç…§ æ—¥å¿— ä¸è¦åªä½¿ç”¨æŸä¸€æŒä¹…åŒ–æœºåˆ¶ è¦å……åˆ†åˆ©ç”¨ä¸¤ç§æŒä¹…åŒ–æœºåˆ¶çš„ä¼˜ç‚¹å¹¶é¿å…å®ƒä»¬çš„ç¼ºç‚¹ RDB å°†æŸä¸ªæ—¶é—´ç‚¹çš„æ‰€æœ‰æ•°æ®éƒ½å­˜æ”¾åˆ°ç¡¬ç›˜ä¸Š, æ˜¯å¯¹ redis ä¸­çš„æ•°æ®æ‰§è¡Œå‘¨æœŸæ€§çš„æŒä¹…åŒ– bgsaveå‘½ä»¤ï¼šä½¿ç”¨çš„forkç³»ç»Ÿè°ƒç”¨åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹æ¥æŒä¹…åŒ–æ•°æ®, ç”±äºforkå‡ºæ¥çš„å­è¿›ç¨‹æ˜¯å†™æ—¶å¤åˆ¶ï¼Œæ‰€ä»¥è¿™è¾¾åˆ°äº†ä¸€ä¸ªæ€§èƒ½çš„å¹³è¡¡ å¯ä»¥åœ¨redis-cliæ‰§è¡Œconfig set dir{newDir}å’Œconfig set dbfilename{newFileName} æ¥æ”¹å˜æŒä¹…åŒ–æ–‡ä»¶ä½ç½® é…ç½®æ–‡ä»¶ after 60 sec if at least 10000 keys changed save 60 10000 é»˜è®¤å¼€å¯ï¼Œä¿å­˜åœ¨dump.rdb save 900 1 #åœ¨900ç§’(15åˆ†é’Ÿ)ä¹‹åï¼Œå¦‚æœè‡³å°‘æœ‰1ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼ŒRediså°±ä¼šè‡ªåŠ¨è§¦å‘BGSAVEå‘½ä»¤åˆ›å»ºå¿«ç…§ã€‚ save 300 10 #åœ¨300ç§’(5åˆ†é’Ÿ)ä¹‹åï¼Œå¦‚æœè‡³å°‘æœ‰10ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼ŒRediså°±ä¼šè‡ªåŠ¨è§¦å‘BGSAVEå‘½ä»¤åˆ›å»ºå¿«ç…§ã€‚ save 60 10000 #åœ¨60ç§’(1åˆ†é’Ÿ)ä¹‹åï¼Œå¦‚æœè‡³å°‘æœ‰10000ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼ŒRediså°±ä¼šè‡ªåŠ¨è§¦å‘BGSAVEå‘½ä»¤åˆ›å»ºå¿«ç…§ã€‚ ä¼˜ç¼ºç‚¹ æ˜¯æŸä¸ªæ—¶åˆ»çš„å…¨éƒ¨æ•°æ®ï¼Œéå¸¸é€‚åˆåšå†·å¤‡ å…¨é‡å¤‡ä»½ç­‰ æ¢å¤æ¯”è¾ƒè¿…é€Ÿ bgsaveæ¯æ¬¡è¿è¡Œéƒ½è¦æ‰§è¡Œforkæ“ä½œåˆ›å»ºå­è¿›ç¨‹ï¼Œå±äºé‡é‡çº§æ“ä½œ ä¼šä¸¢å¤±ä¸€å®šæ•°æ® AOF ä»¥æ—¥å¿—çš„å½¢å¼ä¿å­˜æ¯æ¬¡æ“ä½œ å¯¹æ¯æ¡å†™å…¥å‘½ä»¤ä½œä¸ºæ—¥å¿— ä¸ºä»€ä¹ˆä½¿ç”¨AOFç¼“å†²ï¼šRedisä½¿ç”¨å•çº¿ç¨‹å“åº”å‘½ä»¤ï¼Œå¦‚æœæ¯æ¬¡å†™AOFæ–‡ä»¶å‘½ä»¤éƒ½ç›´æ¥è¿½åŠ åˆ°ç¡¬ç›˜ï¼Œé‚£ä¹ˆæ€§èƒ½å®Œå…¨å–å†³äºå½“å‰ç¡¬ç›˜è´Ÿè½½ è½½ appendonly yes å¼€å¯aof appendfsync always æ¯ä¸€æ¬¡æ“ä½œéƒ½è¿›è¡ŒæŒä¹…åŒ– ï¼ˆæ¯æ¬¡å†™æ“ä½œéƒ½æ‰§è¡Œfsync æ€§èƒ½æå·®ï¼‰ appendfsync everysec æ¯éš”ä¸€ç§’è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ– (æŠ˜ä¸­çš„æ–¹æ¡ˆ) appendfsync no è®©æ“ä½œç³»ç»Ÿæ¥å†³å®šä½•æ—¶åŒæ­¥ ï¼ˆè®©æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶å†™åˆ°ç£ç›˜ æ•°æ®ä¸å®‰å…¨ï¼‰ Redis 4.0 å¼€å§‹æ”¯æŒ RDB å’Œ AOF çš„æ··åˆæŒä¹…åŒ–ï¼ˆé»˜è®¤å…³é—­ï¼Œå¯ä»¥é€šè¿‡é…ç½®é¡¹ aof-use-rdb-preamble å¼€å¯ï¼‰ã€‚ å¦‚æœæŠŠæ··åˆæŒä¹…åŒ–æ‰“å¼€ï¼ŒAOF é‡å†™çš„æ—¶å€™å°±ç›´æ¥æŠŠ RDB çš„å†…å®¹å†™åˆ° AOF æ–‡ä»¶å¼€å¤´ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥ç»“åˆ RDB å’Œ AOF çš„ä¼˜ç‚¹ ä¼˜ç¼ºç‚¹ æ›´å¥½åœ°ä¿æŠ¤æ•°æ®ä¸ä¸¢å¤± append-onlyæ²¡æœ‰ç£ç›˜å¯»å€å¼€é”€ é€‚åˆåšç¾å¤‡ aofæ–‡ä»¶æ¯”rdbå¤§ aofå¯¹æ€§èƒ½æœ‰ä¸€å®šçš„å½±å“ AOFé‡å†™ éšç€AOFæ–‡ä»¶è¶Šæ¥è¶Šå¤§ï¼Œéœ€è¦å®šæœŸå¯¹AOFæ–‡ä»¶è¿›è¡Œé‡å†™ï¼Œè¾¾åˆ°å‹ç¼©çš„ç›®çš„ æ‰‹åŠ¨è§¦å‘ï¼šbgrewriteaof è‡ªåŠ¨è§¦å‘ï¼šæ ¹æ®auto-aof-rewrite-min-sizeauto-aof-rewrite-percentageå‚æ•°ç¡®å®šè‡ªåŠ¨è§¦å‘æ—¶æœº æ‰§è¡Œ BGREWRITEAOF å‘½ä»¤æ—¶ï¼ŒRedis æœåŠ¡å™¨ä¼šç»´æŠ¤ä¸€ä¸ª AOF é‡å†™ç¼“å†²åŒºï¼Œè¯¥ç¼“å†²åŒºä¼šåœ¨å­è¿›ç¨‹åˆ›å»ºæ–°AOFæ–‡ä»¶æœŸé—´ï¼Œè®°å½•æœåŠ¡å™¨æ‰§è¡Œçš„æ‰€æœ‰å†™å‘½ä»¤ã€‚ å½“å­è¿›ç¨‹å®Œæˆåˆ›å»ºæ–°AOFæ–‡ä»¶çš„å·¥ä½œä¹‹åï¼ŒæœåŠ¡å™¨ä¼šå°†é‡å†™ç¼“å†²åŒºä¸­çš„æ‰€æœ‰å†…å®¹è¿½åŠ åˆ°æ–°AOFæ–‡ä»¶çš„æœ«å°¾ï¼Œä½¿å¾—æ–°æ—§ä¸¤ä¸ªAOFæ–‡ä»¶æ‰€ä¿å­˜çš„æ•°æ®åº“çŠ¶æ€ä¸€è‡´ é‡å¯æ¢å¤æµç¨‹ å¦‚æœaofæ–‡ä»¶æŸå å¯ä»¥å°è¯•ä½¿ç”¨redis-check-aof --fixè¿›è¡Œä¿®å¤ é—®é¢˜å®šä½ä¸ä¼˜åŒ– forkçš„é—®é¢˜ï¼š é‡é‡çº§æ“ä½œ å¦‚æœä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ forkä¼šæ¯”ç‰©ç†æœºæ›´è€—æ—¶ forkè™½ç„¶æ˜¯å†™æ—¶å¤åˆ¶ ä½†æ˜¯è¿˜æ˜¯éœ€è¦å¤åˆ¶å†…å­˜é¡µè¡¨ æŒä¹…åŒ–æ—¶å„ç±»èµ„æºçš„æ¶ˆè€—ï¼š CPUï¼šå­è¿›ç¨‹è´Ÿè´£æŠŠè¿›ç¨‹å†…çš„æ•°æ®åˆ†æ‰¹å†™å…¥æ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹ å±äºCPUå¯†é›†æ“ä½œ å†…å­˜ï¼šå­è¿›ç¨‹é€šè¿‡forkæ“ä½œäº§ç”Ÿï¼Œå ç”¨å†…å­˜å¤§å°ç­‰åŒäºçˆ¶è¿›ç¨‹ï¼Œç†è®ºä¸Šéœ€è¦ä¸¤å€çš„å†…å­˜æ¥å®ŒæˆæŒä¹…åŒ–æ“ä½œï¼Œä½†Linuxæœ‰å†™æ—¶å¤åˆ¶æœºåˆ¶ ï¼ˆcopy-on-writeï¼‰ ç£ç›˜ï¼šå†™å…¥æ—¶ç¡¬ç›˜å‹åŠ›å¾ˆå¤§ é¿å…å°†rediså’Œå…¶ä»–é«˜ç¡¬ç›˜è´Ÿè½½çš„æœåŠ¡éƒ¨ç½²åœ¨ä¸€èµ· AOFfsyncç­–ç•¥ï¼š ä½¿ç”¨everysecè¿™ç§åŒæ­¥ç­–ç•¥ å½“ä¸€ä¸ªå‘½ä»¤å†™å…¥ç¼“å†²åŒºåå‘ç°ä¸Šæ¬¡åŒæ­¥åˆ°ç£ç›˜çš„æ—¶é—´å¤§äº2ç§’ å°±ä¼šé˜»å¡ä½ ç›´è‡³åŒæ­¥ç£ç›˜å®Œæˆ è¿™æ„å‘³ç€ä½¿ç”¨è¿™ç§ç­–ç•¥è‡³å¤šä¼šä¸¢å¤±2ç§’çš„æ•°æ® MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-05 08:53:44 "},"ä¸­é—´ä»¶/æ•°æ®åº“/redis/å®¢æˆ·ç«¯.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/redis/å®¢æˆ·ç«¯.html","title":"å®¢æˆ·ç«¯","keywords":"","body":"å®¢æˆ·ç«¯ RESP(redis åºåˆ—åŒ–åè®®) å‘é€å‘½ä»¤ * CRLF $ CRLF CRLF ... $ CRLF CRLF è¿”å›ç»“æœ çŠ¶æ€å›å¤ï¼šåœ¨RESPä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º\"+\"ã€‚ é”™è¯¯å›å¤ï¼šåœ¨RESPä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º\"-\"ã€‚ æ•´æ•°å›å¤ï¼šåœ¨RESPä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º\"ï¼š\"ã€‚ å­—ç¬¦ä¸²å›å¤ï¼šåœ¨RESPä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º\"$\"ã€‚ å¤šæ¡å­—ç¬¦ä¸²å›å¤ï¼šåœ¨RESPä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º\"*\"ã€‚ java å®¢æˆ·ç«¯ Jedis åŸºæœ¬ä½¿ç”¨ Jedis jedis = new Jedis(\"127.0.0.1\"); jedis.set(\"name\",\"my\"); System.out.println(jedis.get(\"name\")); jedis.close(); è¿æ¥æ±  JedisPoolConfig config = new JedisPoolConfig(); config.setMaxIdle(15); config.setMaxTotal(30); JedisPool pool = new JedisPool(config); Jedis resource = pool.getResource(); System.out.println(resource.ping()); resource.close(); pool.close(); Spring Data Redis RedisTemplateåŸºæœ¬æ“ä½œ redisTemplate.opsForValue() ï¼šæ“ä½œå­—ç¬¦ä¸² redisTemplate.opsForHash() ï¼šæ“ä½œhash redisTemplate.opsForList()ï¼šæ“ä½œlist redisTemplate.opsForSet()ï¼šæ“ä½œset redisTemplate.opsForZSet()ï¼šæ“ä½œzset StringRedisTemplateæ˜¯K,Vå‡ä¸ºStringçš„RedisTemplate ä½¿ç”¨ template.opsForValue().set(\"name\",\"hello,bitch\"); äº‹åŠ¡ multi # å¼€å¯äº‹åŠ¡ set name hello set hello world exec # æäº¤äº‹åŠ¡ # discard åœæ­¢äº‹åŠ¡æ‰§è¡Œ å‘½ä»¤è¯­æ³•é”™è¯¯å¯¼è‡´çš„é”™è¯¯æ•´ä¸ªäº‹åŠ¡ä¼šå›æ»š set key java watch key multi set key cxk exec # å¦‚æœkeyåœ¨è¿™ä¸ªäº‹åŠ¡è¿‡ç¨‹ä¸­åˆ«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹ è¿™ä¸ªäº‹åŠ¡å°±ä¸ä¼šæ‰§è¡Œ // å¼€å¯äº‹åŠ¡æ”¯æŒ template.setEnableTransactionSupport(true); try{ // begin template.multi(); // äº‹åŠ¡ä¸­çš„å¤šä¸ªå‘½ä»¤è¢«ä¸€æ¬¡æ€§å‘é€ç»™æœåŠ¡å™¨ template.opsForValue().set(\"java\",\"langeuage\"); template.opsForValue().set(\"python\",\"langeuage\"); // commit template.exec(); }catch (Exception e){ template.discard(); } å®¢æˆ·ç«¯ç®¡ç† client list id=10733 addr=127.0.0.1:42158 fd=9 name= age=84021 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=26 qbuf-free=32742 obl=0 oll=0 omem=0 events=r cmd=client user=default æ ‡è¯†ï¼š id addr fd name è¾“å…¥ç¼“å†²åŒºï¼š Redisä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ†é…äº†è¾“å…¥ç¼“å†²åŒºï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†å®¢æˆ·ç«¯å‘é€çš„å‘½ä»¤ä¸´æ—¶ä¿å­˜ï¼ŒåŒæ—¶Redisä»ä¼šè¾“å…¥ç¼“å†²åŒºæ‹‰å–å‘½ä»¤å¹¶æ‰§è¡Œ qbuf ç¼“å†²åŒºçš„æ€»å®¹é‡ qbuf-free å‰©ä½™å®¹é‡ å¦‚æœRedisçš„å¤„ç†é€Ÿåº¦è·Ÿä¸ä¸Šè¾“å…¥ç¼“å†²åŒºçš„è¾“å…¥é€Ÿåº¦ æœºä¼šé€ æˆç¼“å†²åŒºååˆ†å¤§ è¾“å‡ºç¼“å†²åŒºï¼š Redisä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ†é…äº†è¾“å‡ºç¼“å†²åŒºï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¿å­˜å‘½ä»¤æ‰§è¡Œçš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ è¾“å‡ºç¼“å†²åŒºç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šå›ºå®šç¼“å†²åŒºï¼ˆ16KBï¼‰å’ŒåŠ¨æ€ç¼“å†²åŒºï¼Œå…¶ä¸­å›ºå®šç¼“å†²åŒºè¿”å›æ¯”è¾ƒå°çš„æ‰§è¡Œç»“æœï¼Œè€ŒåŠ¨æ€ç¼“å†²åŒºè¿”å›æ¯”è¾ƒå¤§çš„ç»“æœã€‚ å›ºå®šç¼“å†²åŒºä½¿ç”¨çš„æ˜¯å­—èŠ‚æ•°ç»„ï¼ŒåŠ¨æ€ç¼“å†²åŒºä½¿ç”¨çš„æ˜¯åˆ—è¡¨ obl å›ºå®šç¼“å†²åŒºçš„é•¿åº¦ oll åŠ¨æ€ç¼“å†²åŒºåˆ—è¡¨çš„é•¿åº¦ omem ä»£è¡¨ä½¿ç”¨çš„å­—èŠ‚æ•° å®¢æˆ·ç«¯å­˜æ´»çŠ¶æ€ï¼š å•ä½ä¸ºç§’ age å®¢æˆ·ç«¯å·²ç»è¿æ¥çš„æ—¶é—´ idle æœ€è¿‘ä¸€æ¬¡çš„ç©ºé—²æ—¶é—´ å®¢æˆ·ç«¯ç±»å‹ï¼š flag setName getName è®¾ç½®åç§°æ–¹ä¾¿ç®¡ç† client setName cxk client getName æ€æ‰å®¢æˆ· client kill ip:port é˜»å¡å®¢æˆ· client pause timeout # é˜»å¡å½“å‰å®¢æˆ·ç«¯æŒ‡å®šæ¯«ç§’æ•° ç›‘æ§å®¢æˆ·ç«¯å‘½ä»¤æ‰§è¡Œ monitor å®¢æˆ·ç«¯ç›¸å…³é…ç½® timeout æ£€æµ‹å®¢æˆ·ç«¯ç©ºé—²è¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼Œä¸€æ—¦idleæ—¶é—´è¾¾åˆ°äº† timeoutï¼Œå®¢æˆ·ç«¯å°†ä¼šè¢«å…³é—­ï¼Œå¦‚æœè®¾ç½®ä¸º0å°±ä¸è¿›è¡Œæ£€æµ‹ maxclients å®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•° tcp-keepalive æ£€æµ‹TCPè¿æ¥æ´»æ€§çš„å‘¨æœŸ tcp-backlog TCPä¸‰æ¬¡æ¡æ‰‹åï¼Œä¼šå°†æ¥å—çš„è¿æ¥æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œtcp-backlogå°±æ˜¯é˜Ÿåˆ—çš„å¤§å° å®¢æˆ·ç«¯ç»Ÿè®¡ info clients connected_clientsï¼šä»£è¡¨å½“å‰RedisèŠ‚ç‚¹çš„å®¢æˆ·ç«¯è¿æ¥æ•° client_recent_max_input_bufferï¼šå½“å‰æ‰€æœ‰è¾“å‡ºç¼“å†²åŒºä¸­é˜Ÿåˆ—å¯¹è±¡ä¸ªæ•°çš„æœ€å¤§å€¼ client_recent_max_output_buffer: å‰æ‰€æœ‰è¾“å…¥ç¼“å†²åŒºä¸­å ç”¨çš„æœ€å¤§å®¹é‡ locked_clientsï¼šæ­£åœ¨æ‰§è¡Œé˜»å¡å‘½ä»¤ï¼ˆä¾‹å¦‚blpopã€brpopã€brpoplpushï¼‰çš„å®¢æˆ·ç«¯ä¸ªæ•° MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-05 08:53:44 "},"ä¸­é—´ä»¶/æ•°æ®åº“/redis/å¤åˆ¶.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/redis/å¤åˆ¶.html","title":"å¤åˆ¶","keywords":"","body":"å¤åˆ¶ slaveofå‘½ä»¤å»ºç«‹å¤åˆ¶ slaveof no oneå‘½ä»¤æ–­å¼€å¤åˆ¶ redisçš„å¤åˆ¶åŠŸèƒ½æ˜¯æ”¯æŒå¤šä¸ªæ•°æ®åº“ä¹‹é—´çš„æ•°æ®åŒæ­¥ã€‚ä¸€ç±»æ˜¯ä¸»æ•°æ®åº“ï¼ˆmasterï¼‰ä¸€ç±»æ˜¯ä»æ•°æ®åº“ï¼ˆslaveï¼‰ï¼Œä¸»æ•°æ®åº“å¯ä»¥è¿›è¡Œè¯»å†™æ“ä½œï¼Œå½“å‘ç”Ÿå†™æ“ä½œçš„æ—¶å€™è‡ªåŠ¨å°†æ•°æ®åŒæ­¥åˆ°ä»æ•°æ®åº“ï¼Œè€Œä»æ•°æ®åº“ä¸€èˆ¬æ˜¯åªè¯»çš„ï¼Œå¹¶æ¥æ”¶ä¸»æ•°æ®åº“åŒæ­¥è¿‡æ¥çš„æ•°æ®ï¼Œä¸€ä¸ªä¸»æ•°æ®åº“å¯ä»¥æœ‰å¤šä¸ªä»æ•°æ®åº“ï¼Œè€Œä¸€ä¸ªä»æ•°æ®åº“åªèƒ½æœ‰ä¸€ä¸ªä¸»æ•°æ®åº“ æ‹“æ‰‘ç»“æ„ ä¸€ä¸»ä¸€ä» ç”¨äºä¸»èŠ‚ç‚¹å‡ºç°å®•æœºæ—¶ä»èŠ‚ç‚¹æä¾›æ•…éšœè½¬ç§»æ”¯æŒ ä¸€ä¸»å¤šä» å¯¹äºè¯»å æ¯”è¾ƒå¤§çš„åœºæ™¯ï¼Œå¯ä»¥æŠŠè¯»å‘½ä»¤å‘é€åˆ°ä»èŠ‚ç‚¹æ¥åˆ†æ‹…ä¸»èŠ‚ç‚¹å‹åŠ› æˆ–è€…ä»èŠ‚ç‚¹ç”¨æ¥æ‰§è¡Œä¸€äº›å¦‚keys ç­‰æ¯”è¾ƒè€—æ—¶çš„å‘½ä»¤ å¯¹äºå†™å¹¶å‘é‡è¾ƒé«˜çš„åœºæ™¯ï¼Œå¤šä¸ªä»èŠ‚ç‚¹ä¼šå¯¼è‡´ä¸»èŠ‚ç‚¹å†™å‘½ä»¤çš„å¤šæ¬¡å‘é€ä»è€Œè¿‡åº¦æ¶ˆè€—ç½‘ç»œå¸¦å®½ ä¸»ä»é“¾ é€šè¿‡å¼•å…¥å¤åˆ¶ä¸­é—´å±‚ï¼Œå¯ä»¥æœ‰æ•ˆé™ä½ä¸»èŠ‚ç‚¹è´Ÿè½½å’Œéœ€è¦ä¼ é€ç»™ä»èŠ‚ç‚¹çš„æ•°æ®é‡ åŸç† å¤åˆ¶è¿‡ç¨‹ æ‰§è¡Œslaveofåä»èŠ‚ç‚¹åªä¿å­˜ä¸»èŠ‚ç‚¹çš„åœ°å€ä¿¡æ¯ä¾¿ç›´æ¥è¿”å› ä»èŠ‚ç‚¹ä¼šå»ºç«‹ä¸€ä¸ªsocketå¥—æ¥å­— é—¨ç”¨äºæ¥å—ä¸»èŠ‚ç‚¹å‘é€çš„å¤åˆ¶å‘½ä»¤ è¿æ¥å»ºç«‹æˆåŠŸåä»èŠ‚ç‚¹å‘é€pingè¯·æ±‚è¿›è¡Œé¦–æ¬¡é€šä¿¡ç”¨äºæ£€æµ‹ä¸»ä»ä¹‹é—´ç½‘ç»œå¥—æ¥å­—æ˜¯å¦å¯ç”¨ä»¥åŠèŠ‚ç‚¹å½“å‰æ˜¯å¦å¯æ¥å—å¤„ç†å‘½ä»¤ å¦‚æœä¸»èŠ‚ç‚¹è®¾ç½®äº†requirepasså‚æ•°ï¼Œåˆ™éœ€è¦å¯†ç éªŒè¯ ä¸»ä»å¤åˆ¶è¿æ¥æ­£å¸¸é€šä¿¡åï¼Œä¸»èŠ‚ç‚¹ä¼šæŠŠæŒæœ‰çš„æ•°æ®å…¨éƒ¨å‘é€ç»™ä»èŠ‚ç‚¹ æ¥ä¸‹æ¥ä¸»èŠ‚ç‚¹ä¼šæŒç»­åœ°æŠŠå†™å‘½ä»¤å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œä¿è¯ä¸»ä» æ•°æ®ä¸€è‡´æ€§ æ•°æ®åŒæ­¥ å…¨é‡å¤åˆ¶ï¼š ä¸€èˆ¬ç”¨äºåˆæ¬¡å¤åˆ¶åœºæ™¯ï¼Œä¼šæŠŠä¸»èŠ‚ç‚¹å…¨éƒ¨æ•°æ®ä¸€æ¬¡æ€§å‘é€ç»™ä»èŠ‚ç‚¹ éƒ¨åˆ†å¤åˆ¶ï¼š psyncå‘½ä»¤ å¼‚æ­¥å¤åˆ¶ï¼š å†™å‘½ä»¤çš„å‘é€è¿‡ç¨‹æ˜¯å¼‚æ­¥å®Œæˆï¼Œä¹Ÿå°±æ˜¯è¯´ä¸»èŠ‚ç‚¹è‡ªèº«å¤„ç†å®Œå†™å‘½ä»¤åç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå¹¶ä¸ç­‰å¾…ä»èŠ‚ç‚¹å¤åˆ¶å®Œæˆ é—®é¢˜ è¯»å†™åˆ†ç¦»å¸¦æ¥çš„é—®é¢˜ï¼š æ•°æ®å»¶è¿Ÿ å†™å…¥masterçš„æ•°æ®æ— æ³•é©¬ä¸Šåœ¨salveä¸Šè¯»åˆ° è¯»åˆ°è¿‡æœŸæ•°æ® Redisåœ¨3.2ç‰ˆæœ¬ä»èŠ‚ç‚¹è¯»å–æ•°æ®ä¹‹å‰ä¼šæ£€æŸ¥é”®çš„è¿‡æœŸæ—¶é—´æ¥å†³å®šæ˜¯å¦è¿”å›æ•°æ® ä»èŠ‚ç‚¹æ•…éšœ éœ€è¦åœ¨å®¢æˆ·ç«¯ç»´æŠ¤å¯ç”¨ä»èŠ‚ç‚¹åˆ—è¡¨ï¼Œå½“ä»èŠ‚ç‚¹æ•…éšœæ—¶ç«‹åˆ»åˆ‡æ¢åˆ°å…¶ä»–ä»èŠ‚ç‚¹æˆ–ä¸»èŠ‚ç‚¹ä¸Š ä¸»ä»é…ç½®ä¸ä¸€è‡´çš„é—®é¢˜ï¼š å¦‚æœ€å¤§é™åˆ¶å†…å­˜å¦‚æœä¸ä¸€è‡´ å¯¼è‡´ä»èŠ‚ç‚¹éƒ¨åˆ†æ•°æ®è¢«æ·˜æ±° é€ æˆä»èŠ‚ç‚¹æ•°æ®ä¸ä¸»èŠ‚ç‚¹ä¸ä¸€è‡´ é¿å…å…¨é‡å¤åˆ¶ï¼š ä»èŠ‚ç‚¹å¯åŠ¨åä¼šè¿›è¡Œä¸€æ¬¡å…¨é‡å¤åˆ¶ è¿™ä¸ªæ— æ³•é¿å… å¦‚æœä¸»èŠ‚ç‚¹é‡å¯ ä¼šå¯¼è‡´è¿è¡ŒIDæ”¹å˜ æ­¤æ—¶ä»èŠ‚ç‚¹ä¹Ÿä¼šè¿›è¡Œä¸€æ¬¡å…¨é‡å¤åˆ¶ ä¸»ä»èŠ‚ç‚¹ç½‘ç»œæ–­å¼€ å¦‚æœè¿æ¥åå¤åˆ¶æŒ¤å‹ç¼“å†²åŒºä¸è¶³ ä¹Ÿä¼šè§¦å‘å…¨é‡å¤åˆ¶ é¿å…å¤åˆ¶é£æš´ï¼š å¤åˆ¶é£æš´æŒ‡å¤§é‡ä»èŠ‚ç‚¹å¯¹åŒä¸€ä¸»èŠ‚ç‚¹æˆ–è€…å¯¹åŒä¸€å°æœºå™¨çš„å¤šä¸ªä¸»èŠ‚ç‚¹çŸ­æ—¶é—´å†…å‘èµ·å…¨é‡å¤åˆ¶çš„è¿‡ç¨‹ å•ä¸»èŠ‚ç‚¹å¤åˆ¶é£æš´ ä½¿ç”¨ä¸»ä»é“¾ä»£æ›¿ä¸€ä¸»å¤šä»æ¥è§£å†³è¿™ä¸ªé—®é¢˜ å•æœºå™¨å¤åˆ¶é£æš´ é¿å…å°†æ‰€æœ‰ä¸»èŠ‚ç‚¹æ”¾åœ¨åŒä¸€å°æœºå™¨ å¦‚æœæ­¤æ—¶æœºå™¨Aç½‘ç»œæŒ‚æ‰ é‚£ä¹ˆé‡æ–°å¯åŠ¨æ—¶ å°±ä¼šå¯¼è‡´å…¶ä»–æœºå™¨çš„æµé‡å…¨éƒ¨å‹å‘æœºå™¨A é…ç½® ä¸»æœåŠ¡é…ç½®(6379) # è®¾ç½®ä¸»æœåŠ¡å™¨å¯†ç  requirepass 123 # æˆ–è€…éœ€è¦è®¾ç½®master bind address bind 0.0.0.0 ä»æœåŠ¡å™¨é…ç½®(6380) # è®¾ç½®è®¿é—®ä¸»æœåŠ¡å™¨å¾—æˆ‘å¯†ç  masterauth 123 # è®¾ç½®ä¸»æœåŠ¡å™¨åœ°å€ç«¯å£ slaveof 127.0.0.1 6379 # æ–°ç‰ˆæœ¬ replicaof 127.0.0.1 6379 åªèƒ½å¯¹ä¸»æœåŠ¡å™¨è¿›è¡Œå†™æ“ä½œï¼Œä»æœåŠ¡å™¨åªèƒ½è¯»æ“ä½œ ä¸€äº›ä¸»ä»é…ç½®é¡¹ replica-serve-stale-data yes replica-read-only yes # ä»èŠ‚ç‚¹çš„ä»»ä½•ä¿®æ”¹ä¸»èŠ‚ç‚¹éƒ½æ— æ³•æ„ŸçŸ¥ repl-diskless-sync no repl-disable-tcp-nodelay #ç”¨äºæ§åˆ¶æ˜¯å¦å…³é—­TCP_NODELAYï¼Œé»˜è®¤å…³é—­ repl-backlog-size 1mb #å¢é‡å¤åˆ¶ min-replicas-to-write 3 min-replicas-max-lag 10 MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-05 08:53:44 "},"ä¸­é—´ä»¶/æ•°æ®åº“/redis/å“¨å…µ.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/redis/å“¨å…µ.html","title":"å“¨å…µ","keywords":"","body":"å“¨å…µ é›†ç¾¤ç›‘æ§ï¼šè´Ÿè´£ç›‘æ§ redis master å’Œ slave è¿›ç¨‹æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ æ¶ˆæ¯é€šçŸ¥ï¼šSentinelèŠ‚ç‚¹ä¼šå°†æ•…éšœè½¬ç§»çš„ç»“æœé€šçŸ¥ç»™åº”ç”¨æ–¹ã€‚ æ•…éšœè½¬ç§»ï¼šå¦‚æœ master node æŒ‚æ‰äº†ï¼Œsentinelä¼šè‡ªåŠ¨é€‰å‡ºä¸€ä¸ªæ–°çš„redis master node é…ç½®ä¸­å¿ƒï¼šå®¢æˆ·ç«¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™è¿æ¥çš„æ˜¯SentinelèŠ‚ç‚¹é›†åˆï¼Œä»ä¸­è·å–ä¸»èŠ‚ç‚¹ ä¿¡æ¯å¦‚æœæ•…éšœè½¬ç§»å‘ç”Ÿäº†ï¼Œé€šçŸ¥ client å®¢æˆ·ç«¯æ–°çš„ master åœ°å€ å“¨å…µè‡³å°‘éœ€è¦ 3 ä¸ªå®ä¾‹ï¼Œæ¥ä¿è¯è‡ªå·±çš„å¥å£®æ€§ å½“å¤§å¤šæ•°SentinelèŠ‚ç‚¹éƒ½è®¤ä¸ºä¸»èŠ‚ç‚¹ä¸å¯è¾¾æ—¶ï¼Œå®ƒä»¬ä¼šé€‰ä¸¾å‡ºä¸€ä¸ªSentinelèŠ‚ç‚¹æ¥å®Œæˆè‡ªåŠ¨æ•…éšœè½¬ç§»çš„å·¥ä½œï¼ŒåŒæ—¶ä¼šå°†è¿™ä¸ªå˜åŒ–å®æ—¶é€šçŸ¥ç»™Redisåº”ç”¨æ–¹ å“¨å…µ(sentinel) æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿ,ä½ å¯ä»¥åœ¨ä¸€ä¸ªæ¶æ„ä¸­è¿è¡Œå¤šä¸ªå“¨å…µ(sentinel) è¿›ç¨‹,è¿™äº›è¿›ç¨‹ä½¿ç”¨æµè¨€åè®®(gossip protocols)æ¥æ¥æ”¶å…³äºMasteræ˜¯å¦ä¸‹çº¿çš„ä¿¡æ¯,å¹¶ä½¿ç”¨æŠ•ç¥¨åè®®(agreement protocols)æ¥å†³å®šæ˜¯å¦æ‰§è¡Œè‡ªåŠ¨æ•…éšœè¿ç§»,ä»¥åŠé€‰æ‹©å“ªä¸ªSlaveä½œä¸ºæ–°çš„Master é«˜å¯ç”¨è¯»å†™åˆ†ç¦»ï¼š åŸç† ä¸‰ä¸ªå®šæ—¶ä»»åŠ¡ï¼š æ¯éš”10ç§’ï¼Œæ¯ä¸ªSentinelèŠ‚ç‚¹ä¼šå‘ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹å‘é€infoå‘½ä»¤è·å–æœ€æ–°çš„æ‹“æ‰‘ç»“æ„ æ¯éš”2ç§’ï¼Œæ¯ä¸ªSentinelèŠ‚ç‚¹ä¼šå‘Redisæ•°æ®èŠ‚ç‚¹çš„sentinelï¼šhelloé¢‘é“ä¸Šå‘é€è¯¥SentinelèŠ‚ç‚¹å¯¹äºä¸»èŠ‚ç‚¹çš„åˆ¤æ–­ä»¥åŠå½“å‰SentinelèŠ‚ç‚¹çš„ä¿¡æ¯ æ¯ä¸ªSentinelèŠ‚ç‚¹ä¹Ÿä¼šè®¢é˜…è¯¥é¢‘é“ æ¯éš”1ç§’ï¼Œæ¯ä¸ªSentinelèŠ‚ç‚¹ä¼šå‘ä¸»èŠ‚ç‚¹ã€ä»èŠ‚ç‚¹ã€å…¶ä½™SentinelèŠ‚ç‚¹ å‘é€ä¸€æ¡pingå‘½ä»¤åšä¸€æ¬¡å¿ƒè·³æ£€æµ‹ sdownä¸odownï¼š sdownï¼šä¸»è§‚å®•æœºï¼ŒæŸä¸€å“¨å…µå‘ç°æ— æ³•è¿æ¥master odownï¼Œä¸€å®šæ•°é‡çš„å“¨å…µå‘ç°æ— æ³•è¿æ¥master sentinelé¢†å¯¼èŠ‚ç‚¹é€‰ä¸¾ï¼šé€šè¿‡raftç®—æ³• ç”±sentienlé¢†å¯¼èŠ‚ç‚¹è¿›è¡Œæ•…éšœè½¬ç§»çš„æ“ä½œ æ•…éšœè½¬ç§» é€‰æ‹©ä¸€ä¸ªæ–°ä¸»èŠ‚ç‚¹ Sentinelé¢†å¯¼è€…èŠ‚ç‚¹ä¼šå¯¹ç¬¬ä¸€æ­¥é€‰å‡ºæ¥çš„ä»èŠ‚ç‚¹æ‰§è¡Œslaveof no oneå‘½ ä»¤è®©å…¶æˆä¸ºä¸»èŠ‚ç‚¹ Sentinelé¢†å¯¼è€…èŠ‚ç‚¹ä¼šå‘å‰©ä½™çš„ä»èŠ‚ç‚¹å‘é€å‘½ä»¤ï¼Œè®©å®ƒä»¬æˆä¸ºæ–°ä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ SentinelèŠ‚ç‚¹é›†åˆä¼šå°†åŸæ¥çš„ä¸»èŠ‚ç‚¹æ›´æ–°ä¸ºä»èŠ‚ç‚¹ï¼Œå¹¶ä¿æŒç€å¯¹å…¶å…³æ³¨ï¼Œå½“å…¶æ¢å¤åå‘½ä»¤å®ƒå»å¤åˆ¶æ–°çš„ä¸»èŠ‚ç‚¹ æ•°æ®ä¸¢å¤± ä¸»å¤‡åˆ‡æ¢æ—¶ï¼Œmasterå¼‚æ­¥å‘salveåŒæ­¥çš„å‘½ä»¤ä¸¢å¤±å¯¼è‡´æ•°æ®ä¸¢å¤± ç½‘ç»œå¼‚å¸¸ï¼Œå¯¼è‡´masteræš‚æ—¶å¤±è”ï¼Œå½“masteré‡æ–°è¿æ¥ä¸Šç½‘ç»œæ—¶ï¼Œå˜æˆäº†slaveï¼Œæ•°æ®ä¸¢å¤± è§£å†³ï¼šæ‹’ç»å®¢æˆ·ç«¯çš„å†™è¯·æ±‚ å“¨å…µé›†ç¾¤çš„è‡ªåŠ¨å‘ç° é€šè¿‡ redis çš„ pub/sub ç³»ç»Ÿå®ç°çš„ï¼Œæ¯ä¸ªå“¨å…µéƒ½ä¼šå¾€ __sentinel__:hello è¿™ä¸ª channel é‡Œå‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œå†…å®¹æ˜¯è‡ªå·±çš„ hostã€ip å’Œ runid è¿˜æœ‰å¯¹è¿™ä¸ª master çš„ç›‘æ§é…ç½®,è¿™æ—¶å€™æ‰€æœ‰å…¶ä»–å“¨å…µéƒ½å¯ä»¥æ¶ˆè´¹åˆ°è¿™ä¸ªæ¶ˆæ¯ï¼Œå¹¶æ„ŸçŸ¥åˆ°å…¶ä»–çš„å“¨å…µçš„å­˜åœ¨ å“¨å…µé…ç½® # sentinel.conf port 26379 sentinel monitor mymaster 172.17.0.5 6379 2 è¿™ä¸ªé…ç½®ä»£è¡¨éœ€è¦ç›‘æ§127.0.0.1ï¼š6379è¿™ä¸ªä¸»èŠ‚ç‚¹ï¼Œ2ä»£è¡¨åˆ¤æ–­ä¸»èŠ‚ç‚¹å¤±è´¥è‡³å°‘éœ€è¦2ä¸ªSentinelèŠ‚ç‚¹åŒæ„ï¼Œmymasteræ˜¯ä¸»èŠ‚ç‚¹çš„åˆ«å # å¯åŠ¨å“¨å…µ redis-sentinel sentinel.conf å“¨å…µçš„ä¸€äº›é…ç½®é¡¹ï¼š # å¦‚æœè¶…è¿‡äº†down-after-millisecondsé…ç½®çš„æ—¶é—´ä¸”æ²¡æœ‰æœ‰æ•ˆçš„å›å¤ï¼Œåˆ™åˆ¤å®šèŠ‚ç‚¹ä¸å¯è¾¾ sentinel down-after-milliseconds # ç”¨æ¥é™åˆ¶åœ¨ä¸€æ¬¡æ•…éšœè½¬ç§»ä¹‹åï¼Œæ¯æ¬¡å‘æ–°çš„ä¸»èŠ‚ç‚¹å‘èµ·å¤åˆ¶æ“ä½œçš„ä»èŠ‚ç‚¹ä¸ªæ•° sentinel parallel-syncs # slaveof no oneä¸€ç›´å¤±è´¥ï¼ˆä¾‹å¦‚è¯¥ä»èŠ‚ç‚¹æ­¤æ—¶å‡ºç°æ•…éšœï¼‰ï¼Œå½“æ­¤è¿‡ç¨‹è¶…è¿‡failover-timeoutæ—¶ï¼Œåˆ™æ•…éšœè½¬ç§»å¤±è´¥ sentinel failover-timeout # ä¸»èŠ‚ç‚¹é€šä¿¡å¯†ç  sentinel auth-pass # å½“ä¸€äº›è­¦å‘Šçº§åˆ«çš„Sentineläº‹ä»¶å‘ç”Ÿï¼ˆæŒ‡é‡è¦äº‹ä»¶ï¼Œä¾‹å¦‚-sdownï¼šå®¢è§‚ä¸‹çº¿ã€-odownï¼šä¸»è§‚ä¸‹çº¿ï¼‰æ—¶ï¼Œä¼šè§¦å‘å¯¹åº”è·¯å¾„çš„è„šæœ¬ sentinel notification-script # æ•…éšœè½¬ç§»ç»“æŸåï¼Œä¼šè§¦å‘å¯¹åº”è·¯å¾„çš„è„šæœ¬ sentinel client-reconfig-script åŠ¨æ€è°ƒæ•´é…ç½®ï¼šsentinel set å‘½ä»¤ ç›‘æ§å¤šä¸ªä¸»èŠ‚ç‚¹ sentinel monitor master-business-1 10.10.xx.1 6379 2 sentinel monitor master-business-2 10.16.xx.2 6380 2 éƒ¨ç½² SentinelèŠ‚ç‚¹ä¸åº”è¯¥éƒ¨ç½²åœ¨ä¸€å°ç‰©ç†æœºå™¨ä¸Š éƒ¨ç½²è‡³å°‘ä¸‰ä¸ªä¸”å¥‡æ•°ä¸ªçš„SentinelèŠ‚ç‚¹ ä¸€å¥—sentinelè¿˜æ˜¯å¤šå¥—sentinel ä¸€å¥—Sentinelï¼Œå¾ˆæ˜æ˜¾è¿™ç§æ–¹æ¡ˆåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†ç»´æŠ¤æˆæœ¬ ä½†å¦‚æœè¿™å¥—SentinelèŠ‚ç‚¹é›†åˆå‡ºç°å¼‚å¸¸ï¼Œå¯èƒ½ä¼šå¯¹å¤šä¸ªRedisæ•°æ®èŠ‚ç‚¹é€ æˆå½±å“ å¤šå¥—Sentinelä¼šé€ æˆèµ„æºæµªè´¹ã€‚ä½†æ˜¯ä¼˜ç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ¯å¥—Redis Sentineléƒ½æ˜¯å½¼æ­¤éš”ç¦»çš„ è¿ç»´ èŠ‚ç‚¹ä¸‹çº¿ï¼š ä¸»èŠ‚ç‚¹ä¸‹çº¿ ä½¿ç”¨sentienl failoverå‘½ä»¤é€‰å‡ºä¸€ä¸ªæ–°ä¸»èŠ‚ç‚¹ å°†åŸæ¥çš„ä¸»èŠ‚ç‚¹ä¸‹çº¿ ä»èŠ‚ç‚¹æˆ–è€…sentienlèŠ‚ç‚¹ä¸‹çº¿ ä¿è¯å®¢æˆ·ç«¯èƒ½æ„Ÿå—åˆ°ä»èŠ‚ç‚¹çš„å˜åŒ– é¿å…å‘é€æ— æ•ˆè¯·æ±‚ èŠ‚ç‚¹ä¸Šçº¿ï¼š æ·»åŠ ä»èŠ‚ç‚¹ æ·»åŠ slaveofé…ç½®å¯åŠ¨å³å¯ æ·»åŠ sentienlèŠ‚ç‚¹ æ·»åŠ sentienl monitoré…ç½®å¯åŠ¨å³å¯ API # æŸ¥çœ‹æ‰€æœ‰è¢«ç›‘æ§çš„ä¸»èŠ‚ç‚¹çŠ¶æ€ä»¥åŠç›¸å…³çš„ç»Ÿè®¡ä¿¡æ¯ sentinel masters # æŸ¥çœ‹æŒ‡å®šä¸»èŠ‚ç‚¹ sentinel master # æŸ¥çœ‹æŒ‡å®šä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ sentinel slaves # åˆ—å‡ºæŒ‡å®šçš„ä¸»ä»é›†ç¾¤sentinelèŠ‚ç‚¹ï¼ˆä¸åŒ…å«æœ¬èŠ‚ç‚¹ï¼‰ sentinel sentinels # è¿”å›æŒ‡å®šçš„ä¸»èŠ‚ç‚¹åœ°å€å’Œç«¯å£ sentinel get-master-addr-by-name # å¯¹ç¬¦åˆï¼ˆé€šé…ç¬¦é£æ ¼ï¼‰ä¸»èŠ‚ç‚¹çš„é…ç½®è¿›è¡Œé‡ç½® sentinel reset # å¼ºåˆ¶å¯¹é›†ç¾¤è¿›è¡Œæ•…éšœè½¬ç§» sentinel failover # æ£€æµ‹å½“å‰å¯è¾¾çš„SentinelèŠ‚ç‚¹æ€»æ•°æ˜¯å¦è¾¾åˆ°çš„ä¸ªæ•° sentinel ckquorum # å°†SentinelèŠ‚ç‚¹çš„é…ç½®å¼ºåˆ¶åˆ·åˆ°ç£ç›˜ä¸Š sentinel flushconfig # å–æ¶ˆå½“å‰sentinelèŠ‚ç‚¹å¯¹æŒ‡å®šmasterçš„ç›‘æ§é‚£ä¸ª sentinel remove # ç›‘æ§æŒ‡å®šmaster sentinel monitor # SentinelèŠ‚ç‚¹ä¹‹é—´ç”¨æ¥äº¤æ¢å¯¹ä¸»èŠ‚ç‚¹æ˜¯å¦ä¸‹çº¿çš„åˆ¤æ–­ sentinel is-master-down-by-addr å®¢æˆ·ç«¯è¿æ¥ 1ï¼‰éå†SentinelèŠ‚ç‚¹é›†åˆè·å–ä¸€ä¸ªå¯ç”¨çš„SentinelèŠ‚ç‚¹ 2ï¼‰é€šè¿‡sentinel get-master-addr-by-name master-nameè¿™ä¸ªAPIæ¥è·å–å¯¹åº”ä¸»èŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯ 3ï¼‰éªŒè¯å½“å‰è·å–çš„â€œä¸»èŠ‚ç‚¹â€æ˜¯çœŸæ­£çš„ä¸»èŠ‚ç‚¹ï¼Œè¿™æ ·åšçš„æ˜¯ä¸ºäº†é˜²æ­¢è·å–ä¹‹åä¸»èŠ‚ç‚¹åˆå‘ç”Ÿäº†å˜åŒ– 4ï¼‰ä¿æŒå’ŒSentinelèŠ‚ç‚¹é›†åˆçš„â€œè”ç³»â€ï¼Œæ—¶åˆ»è·å–å…³äºä¸»èŠ‚ç‚¹çš„ç›¸å…³â€œä¿¡æ¯â€ Java å®¢æˆ·ç«¯ï¼š JedisSentinelPool pool = new JedisSentinelPool(\"mymaster\", Set.of(\"192.168.1.101:26379\",\"192.168.1.101:26380\",\"192.168.1.101:26381\")); Jedis resource = pool.getResource(); System.out.println(resource.ping()); resource.close(); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-05 08:53:44 "},"ä¸­é—´ä»¶/æ•°æ®åº“/redis/é›†ç¾¤.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/redis/é›†ç¾¤.html","title":"é›†ç¾¤","keywords":"","body":"é›†ç¾¤ è‡ªåŠ¨å°†æ•°æ®è¿›è¡Œåˆ†ç‰‡ï¼Œæ¯ä¸ª master ä¸Šæ”¾ä¸€éƒ¨åˆ†æ•°æ® æä¾›å†…ç½®çš„é«˜å¯ç”¨æ”¯æŒï¼Œéƒ¨åˆ† master ä¸å¯ç”¨æ—¶ï¼Œè¿˜æ˜¯å¯ä»¥ç»§ç»­å·¥ä½œçš„ 6379ï¼šå¯¹å¤–æœåŠ¡ 16379ï¼šèŠ‚ç‚¹é—´é€šä¿¡ æ•°æ®åˆ†å¸ƒæ–¹æ¡ˆï¼š èŠ‚ç‚¹å–ä½™åˆ†åŒº æ ¹æ®keyè¿›è¡Œå–æ¨¡ å¾—åˆ°å…¶å­˜æ”¾çš„èŠ‚ç‚¹ID ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒº ä½¿ç”¨å“ˆå¸Œç¯å®ç°å¤šä¸ªè™šæ‹Ÿæ§½ç‚¹ é¿å…èŠ‚ç‚¹æ•°é‡æ”¹å˜å¸¦æ¥çš„å¤§é‡é”®é‡æ˜ å°„é—®é¢˜ è™šæ‹Ÿæ§½åˆ†åŒº å®šä¹‰å¤§é‡è™šæ‹Ÿæ§½ è®©ç‰©ç†èŠ‚ç‚¹è´Ÿè´£ä¸€å®šé‡çš„æ§½ Redisé›†ç¾¤ä½¿ç”¨äº†è™šæ‹Ÿæ§½åˆ†åŒºï¼š ä½¿ç”¨è¿™ç§æ–¹æ¡ˆå¸¦æ¥çš„ç‰¹ç‚¹ï¼š è§£è€¦æ•°æ®å’ŒèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œç®€åŒ–äº†èŠ‚ç‚¹æ‰©å®¹å’Œæ”¶ç¼©éš¾åº¦ èŠ‚ç‚¹è‡ªèº«ç»´æŠ¤æ§½çš„æ˜ å°„å…³ç³»ï¼Œä¸éœ€è¦å®¢æˆ·ç«¯æˆ–è€…ä»£ç†æœåŠ¡ç»´æŠ¤æ§½åˆ†åŒºå…ƒæ•°æ® æ”¯æŒèŠ‚ç‚¹ã€æ§½ã€é”®ä¹‹é—´çš„æ˜ å°„æŸ¥è¯¢ ç”±äºæ•°æ®åˆ†å¸ƒäºä¸åŒçš„èŠ‚ç‚¹, æ‰€ä»¥é›†ç¾¤åŠŸèƒ½ç›¸æ¯”å•æœºæœ‰å¦‚ä¸‹é™åˆ¶ï¼š æ‰¹é‡æ“ä½œæ”¯æŒæœ‰é™ å¦‚mgetåªèƒ½è·å–åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„é”® äº‹åŠ¡æ”¯æŒæœ‰é™ åŒç†åªèƒ½æ”¯æŒåŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šä¸Šçš„äº‹åŠ¡ keyæ˜¯æ•°æ®åˆ†åŒºçš„æœ€å°ç²’åº¦ å¦‚ä¸€ä¸ªlist æˆ–è€…hashä¸Šçš„å†…å®¹éƒ½ä¼šåœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Š é›†ç¾¤æ¨¡å¼ä¸‹åªèƒ½ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“ç©ºé—´ å¤åˆ¶ç»“æ„åªæ”¯æŒä¸€å±‚ï¼Œä»èŠ‚ç‚¹åªèƒ½å¤åˆ¶ä¸»èŠ‚ç‚¹ï¼Œä¸æ”¯æŒä¸»ä»é“¾ç»“æ„ é›†ç¾¤æ–¹æ¡ˆ æ ¹æ®ä¸šåŠ¡æ‹†åˆ†ï¼Œä¸åŒçš„ä¸šåŠ¡æ•°æ®å­˜æ”¾åˆ°ä¸åŒçš„redis å®˜æ–¹æ–¹æ¡ˆredis-clusteræ­å»º(è™šæ‹Ÿæ§½åˆ†åŒº) å®¢æˆ·ç«¯åˆ†ç‰‡æŠ€æœ¯ï¼ˆä¸æ¨èï¼‰ï¼Œæ‰©å®¹/ç¼©å®¹æ—¶ï¼Œå¿…é¡»æ‰‹åŠ¨è°ƒæ•´åˆ†ç‰‡ç¨‹åºï¼Œå‡ºç°æ•…éšœä¸èƒ½è‡ªåŠ¨è½¬ç§» ä¸»ä»å¤åˆ¶æ–¹å¼ï¼šæ•°æ®å†—ä½™ é›†ç¾¤æ­å»º èŠ‚ç‚¹å‡†å¤‡ï¼š # èŠ‚ç‚¹ç«¯å£ port 6379 # å¼€å¯é›†ç¾¤æ¨¡å¼ cluster-enabled yes # èŠ‚ç‚¹è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’ cluster-node-timeout 15000 # é›†ç¾¤å†…éƒ¨é…ç½®æ–‡ä»¶ cluster-config-file \"nodes-6379.conf\" èŠ‚ç‚¹æ¡æ‰‹ï¼š cluster meet 127.0.0.1 6380 ... èŠ‚ç‚¹å»ºç«‹æ¡æ‰‹ä¹‹åé›†ç¾¤è¿˜ä¸èƒ½æ­£å¸¸å·¥ä½œ éœ€è¦ä¸ºå„ä¸ªèŠ‚ç‚¹åˆ†é…slotï¼š redis-cli -h 127.0.0.1 -p 6379 cluster addslots {0..5461} ... ä½œä¸ºä¸€ä¸ªå®Œæ•´çš„é›†ç¾¤ï¼Œæ¯ä¸ªè´Ÿè´£å¤„ç†æ§½çš„èŠ‚ç‚¹åº”è¯¥å…·æœ‰ä»èŠ‚ç‚¹ï¼Œä¿è¯å½“å®ƒå‡ºç°æ•…éšœæ—¶å¯ä»¥è‡ªåŠ¨è¿›è¡Œæ•…éšœè½¬ç§»: ä½¿ç”¨cluster nodeså‘½ä»¤æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹ è®©å…¶ä»–èŠ‚ç‚¹åšå¤åˆ¶ï¼š cluster replicate 41f2232cc928fb61c8a201b7d1cc1e57f029752e ... ä½¿ç”¨redis-cli: redis-cli --cluster create 127.0.0.1:6381 127.0.0.1:6382 127.0.0.1:6383 127.0.0.1:6384 127.0.0.1:6380 127.0.0.1:6379 --cl uster-replicas 1 redis-clusteråŸç† å®¢æˆ·ç«¯ç›´æ¥è®¿é—®é›†ç¾¤ ä»£ç†è®¿é—®é›†ç¾¤ redis cluster æœ‰å›ºå®šçš„ 16384 ä¸ª hash slotï¼Œé›†ç¾¤ä¸­çš„æ¯ä¸ªnodeå¹³å‡åˆ†é…å¾—åˆ°ä¸€å®šçš„slot ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œå®ç° ä¼˜ç‚¹ï¼š å¢åŠ èŠ‚ç‚¹ï¼Œçš„ç¡®å¯ä»¥åˆ†æ‹…å…¶ä»–èŠ‚ç‚¹çš„å‹åŠ›ï¼Œä¸ä¼šé€ æˆå…¨å±€æ´—ç‰Œ ç¼ºç‚¹ï¼š æ–°å¢èŠ‚ç‚¹é€ æˆä¸€å°éƒ¨åˆ†æ•°æ®ä¸èƒ½å‘½ä¸­ 1ï¼Œé—®é¢˜ï¼Œå‡»ç©¿ï¼Œå‹åˆ°mysql 2ï¼Œæ–¹æ¡ˆï¼šæ¯æ¬¡å–ç¦»æˆ‘æœ€è¿‘çš„2ä¸ªç‰©ç†èŠ‚ç‚¹ æ›´å€¾å‘äº ä½œä¸ºç¼“å­˜ï¼Œè€Œä¸æ˜¯æ•°æ®åº“ç”¨ï¼ï¼ï¼ï¼ èŠ‚ç‚¹é—´çš„é€šä¿¡ èŠ‚ç‚¹å½¼æ­¤ä¸æ–­é€šä¿¡äº¤æ¢ä¿¡æ¯ï¼Œä¸€æ®µæ—¶é—´åæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä¼šçŸ¥é“é›†ç¾¤å®Œæ•´çš„ä¿¡æ¯ redis ç»´æŠ¤é›†ç¾¤å…ƒæ•°æ®é‡‡ç”¨äº†gossipåè®®ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æŒæœ‰ä¸€ä»½å…ƒæ•°æ®ï¼Œä¸åŒçš„èŠ‚ç‚¹å¦‚æœå‡ºç°äº†å…ƒæ•°æ®çš„å˜æ›´ï¼Œå°±ä¸æ–­å°†å…ƒæ•°æ®å‘é€ç»™å…¶å®ƒçš„èŠ‚ç‚¹ ä½†æ˜¯å…ƒæ•°æ®çš„æ›´æ–°æœ‰å»¶æ—¶ï¼Œå¯èƒ½å¯¼è‡´é›†ç¾¤ä¸­çš„ä¸€äº›æ“ä½œä¼šæœ‰ä¸€äº›æ»å gossipåè®® meetï¼šæŸä¸ªèŠ‚ç‚¹å‘é€ meet ç»™æ–°åŠ å…¥çš„èŠ‚ç‚¹ï¼Œè®©æ–°èŠ‚ç‚¹åŠ å…¥é›†ç¾¤ä¸­ï¼Œç„¶åæ–°èŠ‚ç‚¹å°±ä¼šå¼€å§‹ä¸å…¶å®ƒèŠ‚ç‚¹è¿›è¡Œé€šä¿¡ pingï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šé¢‘ç¹ç»™å…¶å®ƒèŠ‚ç‚¹å‘é€ pingï¼Œå…¶ä¸­åŒ…å«è‡ªå·±çš„çŠ¶æ€è¿˜æœ‰è‡ªå·±ç»´æŠ¤çš„é›†ç¾¤å…ƒæ•°æ®ï¼Œäº’ç›¸é€šè¿‡ ping äº¤æ¢å…ƒæ•°æ® pongï¼šè¿”å› ping å’Œ meeetï¼ŒåŒ…å«è‡ªå·±çš„çŠ¶æ€å’Œå…¶å®ƒä¿¡æ¯ï¼Œä¹Ÿç”¨äºä¿¡æ¯å¹¿æ’­å’Œæ›´æ–° failï¼šæŸä¸ªèŠ‚ç‚¹åˆ¤æ–­å¦ä¸€ä¸ªèŠ‚ç‚¹ fail ä¹‹åï¼Œå°±å‘é€ fail ç»™å…¶å®ƒèŠ‚ç‚¹ï¼Œé€šçŸ¥å…¶å®ƒèŠ‚ç‚¹è¯´ï¼ŒæŸä¸ªèŠ‚ç‚¹å®•æœºäº† èŠ‚ç‚¹é€‰æ‹© é›†ç¾¤ä¼¸ç¼© æ•°æ®æ§½ç‚¹è¿ç§»ï¼š æ‰©å®¹: å¯åŠ¨æ–°èŠ‚ç‚¹ æ‰§è¡Œredis-cli --cluster add-node 127.0.0.1:6386 127.0.0.1:6379 æ·»åŠ èŠ‚ç‚¹ æ‰§è¡Œredis-cli --cluster reshard 127.0.0.1:6379æ¥é‡æ–°åˆ†é…æ§½ç‚¹ æ”¶ç¼©ï¼š ... è¯·æ±‚è·¯ç”± è¯·æ±‚é‡å®šå‘ï¼š å½“çš„ketçš„CRC16ç»“æœä¸æ˜¯æœ¬èŠ‚ç‚¹æ—¶ é›†ç¾¤èŠ‚ç‚¹å°±ä¼šè¿”å›ä¸€ä¸ªMOVEDé”™è¯¯ æä¾›å®é™…èŠ‚ç‚¹ 127.0.0.1:6379> set hello2 value1 (error) MOVED 7486 127.0.0.1:6380 ä½¿ç”¨redis-cliæ—¶ åŠ ä¸Š-cå‚æ•°æ”¯æŒè‡ªåŠ¨é‡å®šå‘ ASKé‡å®šå‘ï¼š ä¾‹å¦‚å½“ä¸€ä¸ªslotæ•°æ®ä»æºèŠ‚ç‚¹è¿ç§»åˆ°ç›®æ ‡èŠ‚ç‚¹æ—¶ï¼ŒæœŸé—´å¯èƒ½å‡ºç°ä¸€éƒ¨åˆ†æ•°æ®åœ¨æºèŠ‚ç‚¹ï¼Œè€Œå¦ä¸€éƒ¨åˆ†åœ¨ç›®æ ‡èŠ‚ç‚¹ å®¢æˆ·ç«¯éœ€è¦è‡ªè¡Œå¤„ç†è¿™ç§æƒ…å†µ ASKé‡å®šå‘è¯´æ˜é›†ç¾¤æ­£åœ¨è¿›è¡Œslotæ•°æ®è¿ç§»ï¼Œå®¢æˆ·ç«¯æ— æ³•çŸ¥é“ä»€ä¹ˆæ—¶å€™è¿ç§» å®Œæˆï¼Œå› æ­¤åªèƒ½æ˜¯ä¸´æ—¶æ€§çš„é‡å®šå‘ï¼Œå®¢æˆ·ç«¯ä¸ä¼šæ›´æ–°slotsç¼“å­˜ æ•…éšœè½¬ç§» ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿ æ•…éšœæ¢å¤ï¼šæ•…éšœèŠ‚ç‚¹å˜ä¸ºå®¢è§‚ä¸‹çº¿åï¼Œå¦‚æœä¸‹çº¿èŠ‚ç‚¹æ˜¯æŒæœ‰æ§½çš„ä¸»èŠ‚ç‚¹åˆ™éœ€è¦åœ¨å®ƒçš„ä»èŠ‚ç‚¹ä¸­é€‰å‡ºä¸€ä¸ªæ›¿æ¢å®ƒ é›†ç¾¤è¿ç»´ é›†ç¾¤å®Œæ•´æ€§ï¼š ä¸ºäº†ä¿è¯é›†ç¾¤å®Œæ•´æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹å½“é›†ç¾¤16384ä¸ªæ§½ä»»ä½•ä¸€ä¸ªæ²¡æœ‰æŒ‡æ´¾åˆ°èŠ‚ç‚¹æ—¶æ•´ä¸ªé›†ç¾¤ä¸å¯ç”¨ å½“æŒæœ‰æ§½çš„ä¸»èŠ‚ç‚¹ä¸‹çº¿æ—¶ï¼Œä»æ•…éšœå‘ç°åˆ°è‡ªåŠ¨å®Œæˆè½¬ç§»æœŸé—´æ•´ä¸ªé›†ç¾¤æ˜¯ä¸å¯ç”¨çŠ¶æ€ ä¸ºäº†é¿å…è¿™ç§æƒ…å†µ å¯ä»¥è®¾ç½®cluster-require-full-coverageä¸ºno å¸¦å®½ï¼š é›†ç¾¤å¸¦å®½æ¶ˆè€—ä¸»è¦åˆ†ä¸ºï¼šè¯»å†™å‘½ä»¤æ¶ˆè€—+Gossipæ¶ˆæ¯æ¶ˆè€— åœ¨æ»¡è¶³ä¸šåŠ¡éœ€è¦çš„æƒ…å†µä¸‹å°½é‡é¿å…å¤§é›†ç¾¤ é€‚åº¦æé«˜ è®¾ç½®cluster-node-timeouté™ä½æ¶ˆæ¯å‘é€é¢‘ç‡èŠ‚çœå¸¦å®½ é¿å…é›†ä¸­éƒ¨ç½² å¦åˆ™æœºå™¨æ¶ˆè€—å¸¦å®½éå¸¸ä¸¥é‡ PUB/SUBé—®é¢˜ï¼šPub/SubåŠŸèƒ½åº”è¯¥é¿å…åœ¨å¤§é‡èŠ‚ç‚¹çš„é›†ç¾¤å†…ä½¿ç”¨ï¼Œå¦åˆ™ä¼šä¸¥é‡æ¶ˆè€—é›†ç¾¤å†…ç½‘ç»œå¸¦å®½ é›†ç¾¤å€¾æ–œï¼š æ•°æ®å€¾æ–œ æ¯”å¦‚æœ‰äº›æ§½é”®æ•°é‡å·®å¼‚å¤§ æˆ–è€…æœ‰äº›èŠ‚ç‚¹ä¸Šçš„é”®å€¼å¾ˆå¤§ è¯·æ±‚å€¾æ–œ å¦‚çƒ­ç‚¹keyé—®é¢˜ é›†ç¾¤è¯»å†™åˆ†ç¦»ï¼š åªè¯»è¿æ¥ é€šè¿‡readonlyå‘½ä»¤æ¥æŒ‡å®šä»èŠ‚ç‚¹å¯ä»¥å¤„ç†è¯»è¯·æ±‚ è¯»å†™åˆ†ç¦» éœ€è¦è‡ªè¡Œå¼€å‘ æ‰‹åŠ¨æ•…éšœè½¬ç§»ï¼š cluster failoverå‘½ä»¤ æ•°æ®è¿ç§»ï¼ˆä»å•æœºå¯¼å…¥é›†ç¾¤ï¼‰ï¼š redis-cli --cluster importå‘½ä»¤ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-05 08:53:44 "},"ä¸­é—´ä»¶/æ•°æ®åº“/MongoDB.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“/MongoDB.html","title":"MongoDB","keywords":"","body":"mongodb MongoDB æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„ï¼Œé¢å‘æ–‡æ¡£çš„æ•°æ®åº“ï¼Œæ˜¯å½“å‰ NoSQL æ•°æ®åº“äº§å“ä¸­æœ€çƒ­ é—¨çš„ä¸€ç§ã€‚å®ƒä»‹äºå…³ç³»æ•°æ®åº“å’Œéå…³ç³»æ•°æ®åº“ä¹‹é—´ï¼Œæ˜¯éå…³ç³»æ•°æ®åº“å½“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæœ€ åƒå…³ç³»æ•°æ®åº“çš„äº§å“ã€‚å®ƒæ”¯æŒçš„æ•°æ®ç»“æ„éå¸¸æ¾æ•£ï¼Œæ˜¯ç±»ä¼¼ JSON çš„ BSON æ ¼å¼ï¼Œå› æ­¤å¯ä»¥ å­˜å‚¨æ¯”è¾ƒå¤æ‚çš„æ•°æ®ç±»å‹ã€‚ åŸºç¡€æ¦‚å¿µ SQLæœ¯è¯­/æ¦‚å¿µ MongoDBæœ¯è¯­/æ¦‚å¿µ è§£é‡Š/è¯´æ˜ database database æ•°æ®åº“ table collection æ•°æ®åº“è¡¨/é›†åˆ row document æ•°æ®è®°å½•è¡Œ/æ–‡æ¡£ column ï¬eld æ•°æ®å­—æ®µ/åŸŸ index index ç´¢å¼• table joins è¡¨è¿æ¥ï¼ˆMongoDBä¸æ”¯æŒï¼‰ primary key primary key ä¸»é”®,MongoDBè‡ªåŠ¨åœ¨æ¯ä¸ªé›†åˆä¸­æ·»åŠ _idçš„ä¸»é”® æ•°æ®ç±»å‹ nullï¼šç”¨äºè¡¨ç¤ºç©ºå€¼æˆ–è€…ä¸å­˜åœ¨çš„å­—æ®µï¼Œ{â€œxâ€:null} å¸ƒå°”å‹ï¼šå¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå€¼trueå’Œfalseï¼Œ{â€œxâ€:true} æ•°å€¼ï¼šshellé»˜è®¤ä½¿ç”¨64ä¸ºæµ®ç‚¹å‹æ•°å€¼ã€‚{â€œxâ€ï¼š3.14}æˆ–{â€œxâ€ï¼š3} å¯¹äºæ•´å‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨ NumberIntï¼ˆ4å­—èŠ‚ç¬¦å·æ•´æ•°ï¼‰æˆ–NumberLongï¼ˆ8å­—èŠ‚ç¬¦å·æ•´æ•°ï¼‰ï¼Œ {â€œxâ€:NumberInt(â€œ3â€)}{â€œxâ€:NumberLong(â€œ3â€)} å­—ç¬¦ä¸²ï¼šUTF-8å­—ç¬¦ä¸²éƒ½å¯ä»¥è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ï¼Œ{â€œxâ€ï¼šâ€œå‘µå‘µâ€} æ—¥æœŸï¼šæ—¥æœŸè¢«å­˜å‚¨ä¸ºè‡ªæ–°çºªå…ƒä¾èµ–ç»è¿‡çš„æ¯«ç§’æ•°ï¼Œä¸å­˜å‚¨æ—¶åŒºï¼Œ{â€œxâ€:new Date()} æ­£åˆ™è¡¨è¾¾å¼ï¼šæŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºé™å®šæ¡ä»¶ï¼Œè¯­æ³•ä¸JavaScriptçš„æ­£åˆ™è¡¨è¾¾å¼ç›¸ åŒï¼Œ{â€œxâ€:/[abc]/} æ•°ç»„ï¼šæ•°æ®åˆ—è¡¨æˆ–æ•°æ®é›†å¯ä»¥è¡¨ç¤ºä¸ºæ•°ç»„ï¼Œ{â€œxâ€ï¼š [â€œaâ€œï¼Œâ€œbâ€,â€câ€]} å†…åµŒæ–‡æ¡£ï¼šæ–‡æ¡£å¯ä»¥åµŒå¥—å…¶ä»–æ–‡æ¡£ï¼Œè¢«åµŒå¥—çš„æ–‡æ¡£ä½œä¸ºå€¼æ¥å¤„ç†ï¼Œ{â€œxâ€:{â€œyâ€:3 }} å¯¹è±¡Idï¼šå¯¹è±¡idæ˜¯ä¸€ä¸ª12å­—èŠ‚çš„å­—ç¬¦ä¸²ï¼Œæ˜¯æ–‡æ¡£çš„å”¯ä¸€æ ‡è¯†ï¼Œ{â€œxâ€: objectId() } äºŒè¿›åˆ¶æ•°æ®ï¼šäºŒè¿›åˆ¶æ•°æ®æ˜¯ä¸€ä¸ªä»»æ„å­—èŠ‚çš„å­—ç¬¦ä¸²ã€‚å®ƒä¸èƒ½ç›´æ¥åœ¨shellä¸­ä½¿ç”¨ã€‚å¦‚æœè¦ å°†éutf-å­—ç¬¦ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼ŒäºŒè¿›åˆ¶æ•°æ®æ˜¯å”¯ä¸€çš„æ–¹å¼ã€‚ ä»£ç ï¼šæŸ¥è¯¢å’Œæ–‡æ¡£ä¸­å¯ä»¥åŒ…æ‹¬ä»»ä½•JavaScriptä»£ç ï¼Œ{â€œxâ€:function(){/â€¦/}} æ“ä½œ show dbs #åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ use test #ä½¿ç”¨æ•°æ®åº“ï¼ˆä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œæ–°åˆ›å»ºçš„æ•°æ®åº“ä¸æ˜¾ç¤ºï¼ˆè‡³å°‘åŒ…å«ä¸€ä¸ªé›†åˆï¼‰ï¼‰ db.dropDatabase() #åˆ é™¤å½“å‰æ•°æ®åº“ db.createCollection(\"student\") # åˆ›å»ºé›†åˆ db.collection.drop() #åˆ é™¤é›†åˆ db.student.insert({\"name\":\"cxk\",\"age\":25}) # æ’å…¥æ–‡æ¡£ db.student.update({\"name\":\"cxk\"},{\"name\":\"xkc\"}) #æ›´æ–°æ–‡æ¡£ï¼ˆæ›¿æ¢æ–‡æ¡£ï¼‰ db.student.find() # æŸ¥è¯¢å…¨éƒ¨ db.student.find({\"name\":\"cxk\"}) # æŒ‰æ¡ä»¶æŸ¥è¯¢ db.student.find({\"name\":\"cxk\"},{name:1,age:1,_id:0}) # æŠ•å½± # åˆ›å»ºç”¨æˆ· db.createUser( { user:\"root\", pwd:\"root\", roles:[ {role:\"root\",db:\"admin\"} ] } ) JAVAæ“ä½œ ä¾èµ– org.mongodb mongo-java-driver 3.11.0 ä½¿ç”¨ MongoClient client = new MongoClient(\"my-pc\"); MongoDatabase db = client.getDatabase(\"db\"); MongoCollection spit = db.getCollection(\"spit\"); Document d = new Document(); d.append(\"name\",\"jntm\"); spit.insertOne(d); for (Document document : spit.find()) { System.out.println(document.getString(\"name\")); } client.close(); Spring data mongodb nodeæ“ä½œ è¿æ¥ const mongoose = require('mongoose') mongoose.connect('mongodb://localhost/db1', { useNewUrlParser: true, useUnifiedTopology: true }) .then(() => { console.log('è¿æ¥æˆåŠŸ') }) .catch(e => console.log(e)) åˆ›å»ºé›†åˆ const userSchema = new mongoose.Schema({ name: String, age: Number }) // è¿”å›ä¸€ä¸ªæ„é€ å‡½æ•° const User = mongoose.model('User',userSchema) æ’å…¥æ–‡æ¡£ const user = new User({ name:'cxk',age:18 }) user.save() User.create({name:'gdf',age:15},(err,doc)=>{ if (!err){ console.log('æ’å…¥æˆåŠŸ',doc) } }) æŸ¥è¯¢ // æŸ¥è¯¢å…¨éƒ¨ User.find().then(result=>console.log(result)) // æ ¹æ®IDæŸ¥è¯¢ User.findById('5c09f236aeb04b22f8460967').then(result=>console.log(result)) // æ ¹æ®æ¡ä»¶æŸ¥è¯¢ User.find({password:'123456'}).then(result=>console.log(result)) User.find({ age: { $gt: 20, $lt: 40 } }).then(result => console.log(result)) User.find({ hobbies: { $in: ['æ‰“è±†è±†'] } }).then(result => console.log(result)) // æŠ•å½± User.find().select('name password -_id').then(result => console.log(result)) // æ’åº User.find().sort('age').then(result => console.log(result)) User.find().sort('-age').then(result => console.log(result)) // é™åº // åˆ†é¡µ User.find().skip(2).limit(5).then(result => console.log(result)) åˆ é™¤ // åˆ é™¤ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£ User.findOneAndDelete({name:'cxk'}).then(res=>console.log(res)) // åˆ é™¤ç¬¦åˆæ¡ä»¶çš„å…¨éƒ¨æ–‡æ¡£ User.deleteMany({name:'gdf'}).then(res=>console.log(res)) æ›´æ–° // æ›´æ–°ç¬¦åˆæ¡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ª User.updateOne({ name: 'gdf' }, { name: 'cxk' }).then(res => console.log(res)) // æ›´æ–°å…¨éƒ¨ç¬¦åˆè°ƒä»·ä½ çš„ User.updateMany({ password: '123456' }, { name: 'cxk' }).then(res => console.log(res)) éªŒè¯ const userSchema = new mongoose.Schema({ // nameå¿…ä¼ ï¼Œå¦åˆ™ä¼šæŠ¥é”™ name: { type: String, required: true }, age: Number }) å…¶ä»–çš„éªŒè¯è§„åˆ™ required: true å¿…ä¼ å­—æ®µ minlengthï¼š3 å­—ç¬¦ä¸²æœ€å°é•¿åº¦ maxlength: 20 å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦ min: 2 æ•°å€¼æœ€å°ä¸º2 max: 100 æ•°å€¼æœ€å¤§ä¸º100 enum: ['html', 'css', 'javascript', 'node.js'] trim: true å»é™¤å­—ç¬¦ä¸²ä¸¤è¾¹çš„ç©ºæ ¼ validate: è‡ªå®šä¹‰éªŒè¯å™¨ default: é»˜è®¤å€¼ é›†åˆå…³è” // ç”¨æˆ·é›†åˆ const User = mongoose.model('User', new mongoose.Schema({ name: { type: String } })); // æ–‡ç« é›†åˆ const Post = mongoose.model('Post', new mongoose.Schema({ title: { type: String }, // ä½¿ç”¨IDå°†æ–‡ç« é›†åˆå’Œä½œè€…é›†åˆè¿›è¡Œå…³è” author: { type: mongoose.Schema.Types.ObjectId, ref: 'User' } })); Post.find().populate('author').then(r => console.log(r)) GridFS MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-11 01:30:14 "},"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/æ¶ˆæ¯é˜Ÿåˆ—.html":{"url":"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/æ¶ˆæ¯é˜Ÿåˆ—.html","title":"æ¶ˆæ¯é˜Ÿåˆ—","keywords":"","body":"æ¶ˆæ¯é˜Ÿåˆ— æ¶ˆæ¯æ¨¡å‹ ç‚¹å¯¹ç‚¹ åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡ å‘å¸ƒè®¢é˜… æ¶ˆæ¯ç”Ÿäº§è€…å‘é¢‘é“å‘é€ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œå¤šä¸ªæ¶ˆè´¹è€…å¯ä»¥ä»è¯¥é¢‘é“è®¢é˜…åˆ°è¿™æ¡æ¶ˆæ¯å¹¶æ¶ˆè´¹ ä½¿ç”¨åœºæ™¯ å¼‚æ­¥å¤„ç† å‘é€è€…å‘é€æ¶ˆæ¯ä¹‹åæ— éœ€ç­‰å¾…ï¼Œå¯ä»¥ç›´æ¥è¿”å› æµé‡å‰Šå³° é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå°†è¯·æ±‚å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒæœåŠ¡å™¨æŒ‰ç…§å¤„ç†èƒ½åŠ›å¯¹è¯·æ±‚è¿›è¡Œå¤„ç† åº”ç”¨è§£è€¦ å¦‚æœæ¨¡å—ä¹‹é—´ä¸ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œæ¨¡å—ä¹‹é—´è€¦åˆåº¦å°±ä¼šå¾ˆä½ å¯é æ€§ å‘é€ç«¯çš„å¯é æ€§ é€šè¿‡æœ¬åœ°æ¶ˆæ¯è¡¨å®ç° æ¥æ”¶ç«¯çš„å¯é æ€§ ä¿è¯æ¶ˆè´¹å¹‚ç­‰æ€§ ä¿è¯æ¶ˆæ¯å…·æœ‰å”¯ä¸€ç¼–å· æ¶ˆæ¯å †ç§¯ å¦‚æœæ¶ˆè´¹ç«¯å‡ºç°é—®é¢˜ï¼Œå¯èƒ½å°±ä¼šé€ æˆé˜Ÿåˆ—çš„æ¶ˆæ¯å †ç§¯ æ­¤æ—¶ï¼Œå¤„ç†æ–¹æ¡ˆåªéœ€è¦æ¢å¤æ¶ˆè´¹ç«¯çš„å¤„ç†èƒ½åŠ›å³å¯ ä½†æ˜¯å¦‚æœæ¶ˆæ¯é˜Ÿåˆ—å³å°†è¢«å†™æ»¡ï¼Œå°±å¿…é¡»å°†å¿«è¦æ»¡çš„è¿™ä¸ªé˜Ÿåˆ—çš„æ¶ˆæ¯åˆ†å‘åˆ°å…¶ä»–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸´æ—¶åŠ æ´¾æ¶ˆè´¹è€…åŠ å¿«å¤„ç†è¿™äº›æ¶ˆæ¯ æ¶ˆæ¯å¤±æ•ˆ æ¶ˆæ¯å¤±æ•ˆå¯¼è‡´çš„å¤§é‡æ¶ˆæ¯ä¸¢å¤±ï¼Œåªèƒ½å†™ç¨‹åºæ…¢æ…¢å°†ä¸¢å¤±çš„é‚£äº›æ¶ˆæ¯è¡¥å›æ¥ æ¶ˆæ¯ä¸­é—´ä»¶å¸¦æ¥çš„å¥½å¤„ è§£è€¦ å¼‚æ­¥ æ¨ªå‘æ‰©å±• å®‰å…¨å¯é  é¡ºåºä¿è¯ ä¸­é—´ä»¶æ˜¯ä¸€ç§ç‹¬ç«‹çš„ç³»ç»Ÿè½¯ä»¶æˆ–æœåŠ¡ç¨‹åºï¼Œåˆ†å¸ƒå¼åº”ç”¨è½¯ä»¶å€ŸåŠ©è¿™ç§è½¯ä»¶åœ¨ä¸åŒçš„æŠ€æœ¯ä¹‹é—´å…±äº«èµ„æºã€‚ ä¸­é—´ä»¶ä½äºå®¢æˆ·æœº/ æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œç®¡ç†è®¡ç®—æœºèµ„æºå’Œç½‘ç»œé€šè®¯ã€‚ æ¶ˆæ¯ä¸­é—´ä»¶æ˜¯æŒ‡ä¸€ç§åœ¨éœ€è¦è¿›è¡Œç½‘ç»œé€šä¿¡çš„ç³»ç»Ÿè¿›è¡Œé€šé“çš„å»ºç«‹ï¼Œæ•°æ®æˆ–æ–‡ä»¶å‘é€çš„ä¸­é—´ä»¶ã€‚æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¸€ä¸ªé‡è¦ä½œç”¨æ˜¯å¯ä»¥è·¨å¹³å°æ“ä½œï¼Œä¸ºä¸åŒæ“ä½œç³»ç»Ÿä¸Šçš„åº”ç”¨è½¯ä»¶é›†æˆæä¾›ä¾¿åˆ©ã€‚ JMS Javaæ¶ˆæ¯æœåŠ¡ï¼ˆJava Message Serviceï¼ŒJMSï¼‰åº”ç”¨ç¨‹åºæ¥å£æ˜¯ä¸€ä¸ªJavaå¹³å°ä¸­å…³äºé¢å‘æ¶ˆæ¯ä¸­é—´ä»¶ï¼ˆMOMï¼‰çš„APIï¼Œç”¨äºåœ¨ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´ï¼Œæˆ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‘é€æ¶ˆæ¯ï¼Œè¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚ Javaæ¶ˆæ¯æœåŠ¡æ˜¯ä¸€ä¸ªä¸å…·ä½“å¹³å°æ— å…³çš„APIï¼Œç»å¤§å¤šæ•°MOMæä¾›å•†éƒ½å¯¹JMSæä¾›æ”¯æŒã€‚ é˜Ÿåˆ—æ¨¡å‹ ä¸»é¢˜æ¨¡å‹ JMSç¼–ç æ¥å£ä¹‹é—´çš„å…³ç³» AMQP é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®å³Advanced Message Queuing Protocolï¼ˆAMQPï¼‰æ˜¯ä¸€ä¸ªç”¨äºç»Ÿä¸€é¢å‘æ¶ˆæ¯ä¸­é—´ä»¶å®ç°çš„ä¸€å¥—æ ‡å‡†åè®®ï¼Œå…¶è®¾è®¡ç›®æ ‡æ˜¯å¯¹äºæ¶ˆæ¯çš„æ’åºã€è·¯ç”±ï¼ˆåŒ…æ‹¬ç‚¹å¯¹ç‚¹å’Œè®¢é˜…-å‘å¸ƒï¼‰ã€ä¿æŒå¯é æ€§ã€ä¿è¯å®‰å…¨æ€§ã€‚ å¯¹æ¯” æ¶ˆæ¯é˜Ÿåˆ—è®¾è®¡ ä»å‡ ä¸ªæ–¹é¢è€ƒè™‘ï¼š å¯ä¼¸ç¼©æ€§ ä¹Ÿå°±æ˜¯èƒ½æ ¹æ®ç³»ç»Ÿè´Ÿè½½åŠ¨æ€å¢å‡èŠ‚ç‚¹ æŒä¹…åŒ– æŒä¹…åŒ–çš„å¼€é”€ é«˜å¯ç”¨ ä¸»èŠ‚ç‚¹çš„é€‰ä¸¾ï¼Œä¸»ä»ä¹‹é—´çš„æ•°æ®å¤åˆ¶ æ¶ˆæ¯å¯é æ€§ä¿è¯ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-18 12:35:26 "},"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/activeMQ.html":{"url":"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/activeMQ.html","title":"ActiveMQ","keywords":"","body":"ActiveMQ ä½¿ç”¨ åˆå§‹åŒ– // åˆ›å»ºè¿æ¥ ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url); Connection connection = connectionFactory.createConnection(); connection.start(); // åˆ›å»ºä¼šè¯ Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE); // åˆ›å»ºç›®çš„ Destination destination = session.createQueue(queueName); é˜Ÿåˆ—æ¨¡å¼ ç”Ÿäº§æ¶ˆæ¯ MessageProducer producer = session.createProducer(destination); for (int i = 0; i æ¶ˆè´¹æ¶ˆæ¯ MessageConsumer consumer = session.createConsumer(destination); consumer.setMessageListener(new MessageListener() { public void onMessage(Message message) { System.out.println(message); } }); åœ¨é˜Ÿåˆ—æ¨¡å¼ä¸‹ï¼Œæ¶ˆè´¹è€…ä¼šå¹³å‡æ¶ˆè´¹ç”Ÿäº§è€…ç”Ÿäº§çš„æ¶ˆæ¯ ä¸»é¢˜æ¨¡å¼ Destination destination = session.createTopic(topicName); ä¸»é¢˜æ¨¡å¼ä¸‹ï¼Œè®¢é˜…ä¹‹åæ‰èƒ½æ”¶åˆ°æ¶ˆæ¯ ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯ä¼šæ¨é€ç»™æ‰€æœ‰æ¶ˆè´¹è€… æ¶ˆæ¯æŒä¹…åŒ– PERSISTENTï¼šæŒ‡ç¤ºJMS provideræŒä¹…ä¿å­˜æ¶ˆæ¯ï¼Œä»¥ä¿è¯æ¶ˆæ¯ä¸ä¼šå› ä¸ºJMS providerçš„å¤±è´¥è€Œä¸¢å¤± NON_PERSISTENT:ä¸è¦æ±‚JMS provideræŒä¹…ä¿å­˜æ¶ˆæ¯ producer.setDeliveryMode(DeliveryMode.PERSISTENT); å¯é æ•°æ®ä¼ è¾“ JMSæ¶ˆæ¯åªæœ‰åœ¨è¢«ç¡®è®¤ä¹‹åï¼Œæ‰è®¤ä¸ºå·²ç»è¢«æˆåŠŸçš„æ¶ˆè´¹äº† Session.AUTO_ACKNOWLEDGEï¼šå½“å®¢æˆ·æˆåŠŸçš„ä»receiveæ–¹æ³•è¿”å›çš„æ—¶å€™ï¼Œæˆ–è€…ä»MessageListener.onMessageæ–¹æ³•æˆåŠŸè¿”å›çš„æ—¶å€™ï¼Œä¼šè¯è‡ªåŠ¨ç¡®è®¤å®¢æˆ·æ”¶åˆ°çš„æ¶ˆæ¯ Session.CLIENT_ACKNOWLEDGE:å®¢æˆ·é€šè¿‡è°ƒç”¨æ¶ˆæ¯çš„acknowledgeæ–¹æ³•ç¡®è®¤æ¶ˆæ¯ Session.DUPS_ACKNOWLEDGE:è¯¥é€‰æ‹©åªæ˜¯ä¼šè¯è¿Ÿé’çš„ç¡®è®¤æ¶ˆæ¯çš„æäº¤ é›†æˆSpring jms é…ç½® @Bean public ConnectionFactory connectionFactory(){ return new ActiveMQConnectionFactory(\"tcp://127.0.0.1:61616\"); } @Bean public Destination destination(){ return new ActiveMQQueue(\"queue\"); } @Bean public JmsTemplate jmsTemplate(ConnectionFactory connectionFactory){ return new JmsTemplate(connectionFactory); } ä½¿ç”¨ jmsTemplate.send(destination,new MessageCreator() { public Message createMessage(Session session) throws JMSException { TextMessage msg = session.createTextMessage(); msg.setText(message); return msg; } }); é…ç½®æ¶ˆè´¹è€… @Bean public MessageListener messageListener(){ return new ConsumerMessageListener(); } @Bean public DefaultMessageListenerContainer defaultMessageListenerContainer(Destination destination, ConnectionFactory connectionFactory, MessageListener messageListener){ DefaultMessageListenerContainer container = new DefaultMessageListenerContainer(); container.setConnectionFactory(connectionFactory); container.setMessageListener(messageListener); container.setDestination(destination); return container; } SpringBootæ•´åˆ ä¾èµ– org.springframework.boot spring-boot-starter-activemq é…ç½® spring: activemq: broker-url: tcp://127.0.0.1:61616 user: admin password: admin queue: myQueue @Value(\"${queue}\") private String queueName; @Bean public Queue queue(){ return new ActiveMQQueue(queueName); } ä½¿ç”¨ ç”Ÿäº§è€… @Component public class Producer { @Autowired private JmsMessagingTemplate template; @Autowired private Queue queue; @Scheduled(fixedDelay = 5000) public void send() { String payload = UUID.randomUUID().toString(); System.out.println(\"producer send:\" + payload); template.convertAndSend(queue, payload); } } æ¶ˆè´¹è€… @Component public class Consumer { @JmsListener(destination = \"myQueue\") public void receive(String msg){ System.out.println(\"consumer receive:\"+msg); } } é›†ç¾¤ é«˜å¯ç”¨ è´Ÿè½½å‡è¡¡ é›†ç¾¤æ–¹å¼ å®¢æˆ·ç«¯é›†ç¾¤ Brokeré›†ç¾¤ Master Slave ä¼ä¸šå¼€å‘éœ€è¦è§£å†³çš„é—®é¢˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-10 07:45:52 "},"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/rabbitMQ.html":{"url":"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/rabbitMQ.html","title":"RabbitMQ","keywords":"","body":"rabbitmq RabbitMQæ˜¯å®ç°äº†é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼ˆAMQPï¼‰çš„å¼€æºæ¶ˆæ¯ä»£ç†è½¯ä»¶ï¼ˆäº¦ç§°é¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶ï¼‰ã€‚RabbitMQæœåŠ¡å™¨æ˜¯ç”¨Erlangè¯­è¨€ç¼–å†™çš„ï¼Œè€Œé›†ç¾¤å’Œæ•…éšœè½¬ç§»æ˜¯æ„å»ºåœ¨å¼€æ”¾ç”µä¿¡å¹³å°æ¡†æ¶ä¸Šçš„ã€‚æ‰€æœ‰ä¸»è¦çš„ç¼–ç¨‹è¯­è¨€å‡æœ‰ä¸ä»£ç†æ¥å£é€šè®¯çš„å®¢æˆ·ç«¯åº“ã€‚ æ€§èƒ½éå¸¸é«˜ å¯¹æ¯” å®‰è£… å®‰è£…erlang å®‰è£…rabbitmq-server ä»¥ä¸Šæ“ä½œå‡å¯ä»¥ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·å®Œæˆ ä½¿ç”¨docker docker run -d --hostname my-rabbit --name some-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:3-management æ ¸å¿ƒæ¦‚å¿µ Server Connection Channel ï¼ˆä¿¡é“ï¼‰ï¼šå®ƒå»ºç«‹åœ¨ä¸Šè¿°çš„TCPè¿æ¥ä¸­ Message Virtual host æƒé™æ§åˆ¶çš„åŸºæœ¬å•ä½ï¼ˆç±»ä¼¼äºæ•°æ®åº“ä¸­çš„databaseï¼‰ï¼Œä¸€ä¸ªVirtualHosté‡Œé¢æœ‰è‹¥å¹²Exchangeå’Œ MessageQueueï¼Œä»¥åŠæŒ‡å®šè¢«å“ªäº›userä½¿ç”¨ Exchange ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€åˆ°Exchangeï¼ˆäº¤æ¢æœºï¼‰ï¼Œç”±Exchangeå°†æ¶ˆæ¯è·¯ç”±åˆ°ä¸€ä¸ª æˆ–å¤šä¸ªQueueä¸­ï¼ˆæˆ–è€…ä¸¢å¼ƒï¼‰ã€‚Exchangeå¹¶ä¸å­˜å‚¨æ¶ˆæ¯ Binding Routing key ç”Ÿäº§è€…åœ¨å°†æ¶ˆæ¯å‘é€ç»™Exchangeçš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šæŒ‡å®šä¸€ä¸ªrouting keyï¼Œ æ¥æŒ‡å®šè¿™ä¸ªæ¶ˆæ¯çš„è·¯ç”±è§„åˆ™ï¼Œè€Œè¿™ä¸ªrouting keyéœ€è¦ä¸Exchange TypeåŠbinding keyè” åˆä½¿ç”¨æ‰èƒ½æœ€ç»ˆç”Ÿæ•ˆ Queue ï¼ˆé˜Ÿåˆ—ï¼‰æ˜¯RabbitMQçš„å†…éƒ¨å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨æ¶ˆæ¯ ä½¿ç”¨ JAVAå®¢æˆ·ç«¯ è·å–è¿æ¥ ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\"192.168.182.129\"); factory.setUsername(\"my\"); factory.setPassword(\"123\"); factory.setPort(5672); factory.setVirtualHost(\"/\"); Connection connection = factory.newConnection(); åˆ›å»ºé˜Ÿåˆ—/ç»‘å®šé˜Ÿåˆ— Channel channel = connection.createChannel(); channel.queueDeclare(\"queue1\",false,false,false,null); ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ String msg = UUID.randomUUID().toString(); channel.basicPublish(\"\",\"queue1\",null,msg.getBytes()); æ¶ˆè´¹è€…ç›‘å¬ DefaultConsumer consumer = new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { System.out.println(\"æ¥æ”¶åˆ°æ¶ˆæ¯:\"+new String(body)); } }; channel.basicConsume(\"queue1\",true,consumer); SpringBoot å¼•å…¥ä¾èµ– org.springframework.boot spring-boot-starter-amqp é…ç½®ï¼ˆç”Ÿäº§è€…ã€æ¶ˆè´¹è€…ï¼‰ spring: rabbitmq: addresses: 192.168.182.129 username: my password: 123 virtual-host: / ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ @Autowired private RabbitTemplate rabbitTemplate; public void sendUser(User user) throws Exception{ CorrelationData correlationData = new CorrelationData(user.getUsername()); rabbitTemplate.convertAndSend(\"user-exchange\",\"user.abcd\",user,correlationData); } æ¶ˆè´¹ç«¯é…ç½® spring.rabbitmq.listener.simple.concurrency=5 spring.rabbitmq.listener.simple.acknowledge-mode=auto spring.rabbitmq.listener.simple.max-concurrency=10 spring.rabbitmq.listener.simple.prefetch=1 æ¶ˆè´¹ @RabbitListener(bindings = @QueueBinding( value = @Queue(value = \"user-queue\"), exchange = @Exchange(name = \"user-exchange\",type = \"topic\"), key = \"user.#\" )) @RabbitHandler public void onMessage(@Payload User user){ // å½“è¿™é‡ŒæŠ›å‡ºå¼‚å¸¸ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œé‡è¯• log.info(\"on message:{}\",user); } æ¶ˆæ¯æ¨¡å‹ ç‚¹å¯¹ç‚¹ å½“æœ‰å¤šä¸ªæ¶ˆè´¹ç«¯æ—¶ï¼Œmqä¼šæŠŠæ¶ˆæ¯å…¬å¹³åˆ†å‘åˆ°æ¯ä¸ªæ¶ˆè´¹ç«¯ï¼ˆè½®è¯¢ï¼‰ å·¥ä½œé˜Ÿåˆ— æ¶ˆæ¯è½¬å‘æœºåˆ¶æ˜¯å¹³å‡åˆ†é…ï¼Œè¿™æ ·å°±ä¼šå‡ºç°ä¿©ä¸ªæ¶ˆè´¹è€…ï¼Œç”±äºæ¯ä¸ªæ¶ˆè´¹è€…å¤„ç†ä»»åŠ¡çš„æ•ˆç‡ä¸ä¸€ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®qosçš„æ–¹å¼æ¥å†³å®šæ¶ˆè´¹è€…çš„æ¶ˆè´¹èƒ½åŠ›ï¼Œä»è€Œè¾¾åˆ°èµ„æºçš„å……åˆ†åˆ©ç”¨ channel.basicQos(1); æ‰‹åŠ¨ackåçš„æ¶ˆè´¹ç«¯ï¼Œmqä¼šç»§ç»­å‘æ¶ˆæ¯ç»™å®ƒï¼Œè¿™æ ·å°±èƒ½è¾¾åˆ°æ¶ˆè´¹é€Ÿåº¦æ›´å¿«çš„å®¢æˆ·ç«¯æ¶ˆè´¹æ›´å¤šæ•°æ® è®¢é˜…æ¨¡å‹-Fanout Fanout exchangeï¼ˆæ‰‡å‹äº¤æ¢æœºï¼‰å°†æ¶ˆæ¯è·¯ç”±ç»™ç»‘å®šåˆ°å®ƒèº«ä¸Šçš„æ‰€æœ‰é˜Ÿåˆ— ç”Ÿäº§è€… String exchangeName = \"exchange1\"; channel.exchangeDeclare(exchangeName,\"fanout\"); String msg = UUID.randomUUID().toString(); channel.basicPublish(exchangeName,\"\",null,msg.getBytes()); æ¶ˆè´¹è€… ç«¯a String queueName = \"queue1\"; String exchangeName = \"exchange1\"; channel.queueDeclare(queueName, false, false, false, null); channel.queueBind(queueName, exchangeName, \"\"); DefaultConsumer consumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { System.out.println(\"æ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯:\" + new String(body)); } }; channel.basicConsume(queueName,true,consumer); ç«¯b ... String queueName = \"queue2\"; ... è®¢é˜…æ¨¡å‹-Direct Direct exchangeï¼ˆç›´è¿äº¤æ¢æœºï¼‰æ˜¯æ ¹æ®æ¶ˆæ¯æºå¸¦çš„è·¯ç”±é”®ï¼ˆrouting keyï¼‰å°†æ¶ˆæ¯æŠ•é€’ç»™å¯¹åº”é˜Ÿåˆ— ç”Ÿäº§ç«¯ ... channel.basicPublish(exchangeName,\"routing_key\",null,msg.getBytes()); æ¶ˆè´¹ç«¯ ... channel.queueBind(queueName, exchangeName, \"routing_key\"); ... è®¢é˜…æ¨¡å‹-Topic Topicç±»å‹çš„Exchangeä¸Directç›¸æ¯”ï¼Œéƒ½æ˜¯å¯ä»¥æ ¹æ®RoutingKeyæŠŠæ¶ˆæ¯è·¯ç”±åˆ°ä¸åŒçš„é˜Ÿåˆ—ã€‚åªä¸è¿‡Topicç±»å‹Exchangeå¯ä»¥è®©é˜Ÿåˆ—åœ¨ç»‘å®šRouting key çš„æ—¶å€™ä½¿ç”¨é€šé…ç¬¦ ç«¯a channel.queueBind(queueName, exchangeName, \"#.sms\"); ç«¯b channel.queueBind(queueName, exchangeName, \"#.email\"); å½“ç”Ÿäº§è€…çš„routingKeyä¸ºlog.smsæ—¶ï¼Œæ¶ˆæ¯ä¼šå‘é€åˆ°ç«¯a # å¯ä»¥åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªè¯ *åªèƒ½åŒ¹é…ä¸€ä¸ªè¯ æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼ˆACKï¼‰ ACKï¼šæ¶ˆè´¹è€…é€šçŸ¥RabbitMQæ¶ˆæ¯å·²ç»æ¥æ”¶å¹¶ä¸”å¤„ç†å®Œæ¯•äº†ã€‚RabbitMQå°±å¯ä»¥åˆ é™¤è¯¥æ¡æ¶ˆæ¯äº† è‡ªåŠ¨ACKï¼šæ¶ˆæ¯ä¸€æ—¦è¢«æ¥æ”¶ï¼Œæ¶ˆè´¹è€…è‡ªåŠ¨å‘é€ACK æ‰‹åŠ¨ACKï¼šæ¶ˆæ¯æ¥æ”¶åï¼Œä¸ä¼šå‘é€ACKï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ DefaultConsumer consumer = new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { System.out.println(\"æ¥æ”¶åˆ°æ¶ˆæ¯:\"+new String(body)); channel.basicAck(envelope.getDeliveryTag(),false); } }; channel.basicConsume(\"queue1\",false,consumer); äº‹åŠ¡ try{ channel.txSelect(); String msg = UUID.randomUUID().toString(); channel.basicPublish(exchangeName,\"log.email\",null,msg.getBytes()); channel.txCommit(); }catch (Exception e){ channel.txRollback(); } ä¿è¯å¹‚ç­‰æ€§ å½“å¼•å…¥å¼‚å¸¸é‡è¯•æœºåˆ¶æ—¶ï¼Œå¦‚ä½•ä¿è¯åŒä¸€æ¡æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ é‡è¯•é…ç½® spring: rabbitmq: listener: simple: retry: initial-interval: 100ms enabled: true max-attempts: 3 è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡çš„å…·ä½“æƒ…å†µæ¥åˆ†æï¼Œå¯ä»¥ï¼š å…¨å±€æ¶ˆæ¯ID redisçš„å¤©ç„¶å¹‚ç­‰æ€§ æ•°æ®åº“çš„å”¯ä¸€çº¦æŸ å…¨å±€æ¶ˆæ¯ID å½“æ¶ˆè´¹è€…å¤„ç†å®Œä¸€æ¡æ¶ˆæ¯ä¹‹åï¼Œå°†è¿™ä¸ªæ¶ˆæ¯IDè®°å½•ä¸‹æ¥ï¼Œå½“ä¸€æ¡æ–°æ¶ˆæ¯åˆ°æ¥ä¹‹åï¼Œè¦åˆ¤æ–­æ˜¯å¦è®°å½•è¿‡è¿™æ¡æ¶ˆæ¯çš„IDï¼Œå¦‚æœæ˜¯ï¼Œä¸å†ç»§ç»­å¾€ä¸‹å¤„ç† æ­»ä¿¡é˜Ÿåˆ— å½“ç”±äºä¸€äº›è¯¸å¦‚é˜Ÿåˆ—æ»¡æˆ–è€…æ¶ˆæ¯è¢«æ‹’ç»ç­‰åŸå› ï¼Œè¿™äº›æ¶ˆæ¯å°†è¢«ç§»å…¥åˆ°ä¸€ä¸ªå¤‡èƒé˜Ÿåˆ—ï¼Œæ­»ä¿¡é˜Ÿåˆ—å°±æ˜¯ä¸“é—¨ç”¨æ¥å­˜æ”¾è¿™äº›æ¶ˆæ¯çš„é˜Ÿåˆ— æ™®é€šé˜Ÿåˆ—ç»‘å®šç§ä¿¡é˜Ÿåˆ— Map args = new HashMap<>(2); // æ­»ä¿¡é˜Ÿåˆ—äº¤æ¢æœºä¸æ­»ä¿¡é˜Ÿåˆ—è·¯ç”±é”® args.put(\"deadExchangeName\", deadExchangeName); args.put(\"deadRoutingKey\", deadRoutingKey); Queue queue = new Queue(\"user_queue\", true, false, false, args); æ¶ˆæ¯å¯é æŠ•é€’æ–¹æ¡ˆ ç”Ÿäº§è€…å¼„ä¸¢æ•°æ® å¯èƒ½ç”±äºç½‘ç»œåŸå› ï¼Œæ•°æ®æ²¡æœ‰åˆ°MQï¼Œå°±åœ¨åŠè·¯æ²¡äº† è¿™å¯ä»¥ä½¿ç”¨confirmæœºåˆ¶ï¼Œconfirmæœºåˆ¶å½“MQæ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œä¼šç»™ç”Ÿäº§è€…å›ä¼ ä¸€ä¸ªackï¼Œå¦‚æœMQæ²¡èƒ½å¤„ç†è¿™ä¸ªæ¶ˆæ¯ï¼Œä¼šå›ä¼ nackï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯å¼‚æ­¥çš„ MQå¼„ä¸¢æ•°æ® åªè¦å¼€å¯æ•°æ®æŒä¹…åŒ–ï¼Œæ¶ˆæ¯ä¸¢å¤±çš„å¯èƒ½æ€§å¾ˆå° æ¶ˆè´¹ç«¯å¼„ä¸¢æ•°æ® ä½¿ç”¨æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼Œå¤„ç†å®Œæ¶ˆæ¯æ‰‹åŠ¨ack é«˜å¯ç”¨ é•œåƒé›†ç¾¤æ¨¡å¼ åˆ›å»ºçš„ queueï¼Œæ— è®ºå…ƒæ•°æ®è¿˜æ˜¯ queue é‡Œçš„æ¶ˆæ¯éƒ½ä¼šå­˜åœ¨äºå¤šä¸ªå®ä¾‹ä¸Šï¼Œå°±æ˜¯è¯´ï¼Œæ¯ä¸ª RabbitMQ èŠ‚ç‚¹éƒ½æœ‰è¿™ä¸ª queue çš„ä¸€ä¸ªå®Œæ•´é•œåƒï¼Œå†™æ¶ˆæ¯åˆ° queue çš„æ—¶å€™ï¼Œéƒ½ä¼šè‡ªåŠ¨æŠŠæ¶ˆæ¯åŒæ­¥åˆ°å¤šä¸ªå®ä¾‹çš„ queue ä¸Š é¡ºåºæ€§ å½“å¤šä¸ªconsumeråŒæ—¶æ¶ˆè´¹ä¸€ä¸ªqueueæ—¶ï¼Œå¾ˆæœ‰å¯èƒ½é€ æˆæ¶ˆè´¹çš„é¡ºåºå’Œå­˜å…¥çš„é¡ºåºä¸ä¸€è‡´ï¼Œè§£å†³æ–¹æ³•æ˜¯ï¼š æ‹†åˆ†å¤šä¸ª queueï¼Œæ¯ä¸ª queue ä¸€ä¸ª consumer MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-21 02:23:20 "},"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/RocketMQ.html":{"url":"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/RocketMQ.html","title":"RocketMQ","keywords":"","body":" Apache RocketMQæ˜¯ä¸€ä¸ªé‡‡ç”¨Javaè¯­è¨€å¼€å‘çš„åˆ†å¸ƒå¼çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œç”±é˜¿é‡Œå·´å·´å›¢é˜Ÿå¼€å‘ï¼Œäº2016å¹´åº•è´¡çŒ®ç»™Apache æ ¸å¿ƒæ¦‚å¿µ Producer æ¶ˆæ¯ç”Ÿäº§è€…ï¼Œè´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ï¼Œä¸€èˆ¬ç”±ä¸šåŠ¡ç³»ç»Ÿè´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ Producer Group ä¸€ç±» Producer çš„é›†åˆåç§°ï¼Œè¿™ç±» Producer é€šå¸¸å‘é€ä¸€ç±»æ¶ˆæ¯ï¼Œä¸”å‘é€é€»è¾‘ä¸€è‡´ Consumer æ¶ˆæ¯è´¹è€…ï¼Œè´Ÿè´£æ¶ˆè´¹æ¶ˆæ¯ï¼Œä¸€èˆ¬æ˜¯åå°ç³»ç»Ÿè´Ÿè´£å¼‚æ­¥æ¶ˆè´¹ Push Consumer æœåŠ¡ç«¯å‘æ¶ˆè´¹è€…ç«¯æ¨é€æ¶ˆæ¯ Pull Consumer æ¶ˆè´¹è€…ç«¯å‘æœåŠ¡å®šæ—¶æ‹‰å–æ¶ˆæ¯ Consumer Group ä¸€ç±» Consumer çš„é›†åˆåç§°ï¼Œè¿™ç±» Consumer é€šå¸¸æ¶ˆè´¹ä¸€ç±»æ¶ˆæ¯ï¼Œä¸”æ¶ˆè´¹é€»è¾‘ä¸€è‡´ NameServer é›†ç¾¤æ¶æ„ä¸­çš„ç»„ç»‡åè°ƒå‘˜ æ”¶é›†brokerçš„å·¥ä½œæƒ…å†µ ä¸è´Ÿè´£æ¶ˆæ¯çš„å¤„ç† Broker æ˜¯RocketMQçš„æ ¸å¿ƒè´Ÿè´£æ¶ˆæ¯çš„å‘é€ã€æ¥æ”¶ã€é«˜å¯ç”¨ç­‰ï¼ˆçœŸæ­£å¹²æ´»çš„ï¼‰ éœ€è¦å®šæ—¶å‘é€è‡ªèº«æƒ…å†µåˆ°NameServerï¼Œé»˜è®¤10ç§’å‘é€ä¸€æ¬¡ï¼Œè¶…æ—¶2åˆ†é’Ÿä¼šè®¤ä¸ºè¯¥brokerå¤±æ•ˆã€‚ Topic ä¸åŒç±»å‹çš„æ¶ˆæ¯ä»¥ä¸åŒçš„Topicåç§°è¿›è¡ŒåŒºåˆ†ï¼Œå¦‚Userã€Orderç­‰ æ˜¯é€»è¾‘æ¦‚å¿µ Message Queue æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨äºå­˜å‚¨æ¶ˆæ¯ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/Kafka/Kafka.html":{"url":"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/Kafka/Kafka.html","title":"Kafka","keywords":"","body":"kafka Kafka æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„åŸºäºå‘å¸ƒ/è®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ï¼Œä¸»è¦åº”ç”¨äºå¤§æ•°æ®å®æ—¶å¤„ç†é¢†åŸŸ ç‰¹ç‚¹ å¤šç”Ÿäº§è€… å¤šæ¶ˆè´¹è€… åŸºäºç£ç›˜çš„æ•°æ®å­˜å‚¨ ä¼¸ç¼©æ€§ brokerå¯ä»¥ä¸æ–­æ‰©å±• é«˜æ€§èƒ½ åŸºç¡€æ¦‚å¿µ æ¶ˆæ¯å’Œæ‰¹æ¬¡ æ¶ˆæ¯æ˜¯kafkaçš„æ•°æ®å•å…ƒ æ‰¹æ¬¡æ˜¯ä¸€ç»„æ¶ˆæ¯ æ¨¡å¼ schema ä½¿ç”¨é¢å¤–çš„ç»“æ„å®šä¹‰æ¶ˆæ¯å†…å®¹ ä¸»é¢˜å’Œåˆ†åŒº æ¶ˆæ¯é€šè¿‡ä¸»é¢˜åˆ†ç±» ä¸»é¢˜è¢«åˆ†ä¸ºè‹¥å¹²ä¸ªåˆ†åŒº é€šè¿‡åˆ†åŒºæ¥å®ç°æ•°æ®å†—ä½™å’Œä¼¸ç¼©æ€§ ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€… ç”Ÿäº§è€…åˆ›å»ºæ¶ˆæ¯ æ¶ˆè´¹è€…è¯»å–æ¶ˆæ¯ ä¸€ä¸ªåˆ†åŒºåªèƒ½ç”±ä¸€ä¸ªç»„å†…æ¶ˆè´¹è€…æ¶ˆè´¹ é€šè¿‡åç§»é‡è®°å½•æ¶ˆæ¯æ¶ˆè´¹ä½ç½® broker å’Œé›†ç¾¤ broker ç‹¬ç«‹çš„ kafka æœåŠ¡å™¨ æ¯ä¸ªé›†ç¾¤éƒ½æœ‰ä¸€ä¸ªbroker å……å½“é›†ç¾¤æ§åˆ¶å™¨ å¯¹äºæ¶ˆæ¯ kafkaä¼šä¿ç•™ä¸€æ®µæ—¶é—´æˆ–è€…è¾¾åˆ°ä¸€å®šå¤§å°çš„å­—èŠ‚æ•° æ—§çš„æ¶ˆæ¯ä¼šè¢«åˆ é™¤ å¤šé›†ç¾¤ ä½¿ç”¨åœºæ™¯ æ´»åŠ¨è·Ÿè¸ª ç”Ÿäº§è€…äº§ç”Ÿäº‹ä»¶ æ¶ˆè´¹è€…è¯»å–äº‹ä»¶è¿›è¡Œç»Ÿè®¡ ä¼ é€’æ¶ˆæ¯ åº¦é‡æŒ‡æ ‡ æ—¥å¿—è®°å½• æ”¶é›†ç³»ç»Ÿåº¦é‡æŒ‡æ ‡å’Œæ—¥å¿— æ—¥å¿—ç³»ç»Ÿ æµå¤„ç† æ¶æ„ Partition ï¼šä¸ºäº†å®ç°æ‰©å±•æ€§ï¼Œä¸€ä¸ªéå¸¸å¤§çš„ topic å¯ä»¥åˆ†å¸ƒåˆ°å¤šä¸ª brokerï¼ˆå³æœåŠ¡å™¨ï¼‰ä¸Šï¼Œ ä¸€ä¸ª topic å¯ä»¥åˆ†ä¸ºå¤šä¸ª partitionï¼Œæ¯ä¸ª partition æ˜¯ä¸€ä¸ªæœ‰åºçš„é˜Ÿåˆ—ï¼› Replicaï¼š ï¼šå‰¯æœ¬ï¼Œä¸ºä¿è¯é›†ç¾¤ä¸­çš„æŸä¸ªèŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œè¯¥èŠ‚ç‚¹ä¸Šçš„ partition æ•°æ®ä¸ä¸¢å¤±ï¼Œä¸” kafka ä»ç„¶èƒ½å¤Ÿç»§ç»­å·¥ä½œï¼Œkafka æä¾›äº†å‰¯æœ¬æœºåˆ¶ï¼Œä¸€ä¸ª topic çš„æ¯ä¸ªåˆ†åŒºéƒ½æœ‰è‹¥å¹²ä¸ªå‰¯æœ¬ï¼Œ ä¸€ä¸ª leader å’Œè‹¥å¹²ä¸ª followerã€‚ leader ï¼šæ¯ä¸ªåˆ†åŒºå¤šä¸ªå‰¯æœ¬çš„â€œä¸»â€ï¼Œç”Ÿäº§è€…å‘é€æ•°æ®çš„å¯¹è±¡ï¼Œä»¥åŠæ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®çš„å¯¹ è±¡éƒ½æ˜¯ leaderã€‚ ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…åªä¸ leader å‰¯æœ¬äº¤äº’,å½“ leader å‰¯æœ¬å‘ç”Ÿæ•…éšœæ—¶ä¼šä» follower ä¸­é€‰ä¸¾å‡ºä¸€ä¸ª leader,ä½†æ˜¯ follower ä¸­å¦‚æœæœ‰å’Œ leader åŒæ­¥ç¨‹åº¦è¾¾ä¸åˆ°è¦æ±‚çš„å‚åŠ ä¸äº† leader çš„ç«é€‰ follower ï¼šæ¯ä¸ªåˆ†åŒºå¤šä¸ªå‰¯æœ¬ä¸­çš„â€œä»â€ï¼Œå®æ—¶ä» leader ä¸­åŒæ­¥æ•°æ®ï¼Œä¿æŒå’Œ leader æ•°æ® çš„åŒæ­¥ã€‚leader å‘ç”Ÿæ•…éšœæ—¶ï¼ŒæŸä¸ª follower ä¼šæˆä¸ºæ–°çš„ followerã€‚ åˆ†åŒºä¸å‰¯æœ¬æœºåˆ¶ å„ä¸ª Partition å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ Broker ä¸Š, è¿™æ ·ä¾¿èƒ½æä¾›æ¯”è¾ƒå¥½çš„å¹¶å‘èƒ½åŠ›ï¼ˆè´Ÿè½½å‡è¡¡ï¼‰ å‰¯æœ¬æå¤§åœ°æé«˜äº†æ¶ˆæ¯å­˜å‚¨çš„å®‰å…¨æ€§, æé«˜äº†å®¹ç¾èƒ½åŠ›ï¼Œä¸è¿‡ä¹Ÿç›¸åº”çš„å¢åŠ äº†æ‰€éœ€è¦çš„å­˜å‚¨ç©ºé—´ zkçš„ä½œç”¨ ä¸»è¦ä¸º Kafka æä¾›å…ƒæ•°æ®çš„ç®¡ç†çš„åŠŸèƒ½ Broker æ³¨å†Œ ï¼šåœ¨ Zookeeper ä¸Šä¼šæœ‰ä¸€ä¸ªä¸“é—¨ç”¨æ¥è¿›è¡Œ Broker æœåŠ¡å™¨åˆ—è¡¨è®°å½•çš„èŠ‚ç‚¹ Topic æ³¨å†Œï¼šåˆ†åŒºä¿¡æ¯åŠä¸ Broker çš„å¯¹åº”å…³ç³»ä¹Ÿéƒ½æ˜¯ç”± Zookeeper åœ¨ç»´æŠ¤ åº”ç”¨åœºæ™¯ æ¶ˆæ¯é˜Ÿåˆ— è¡Œä¸ºè·Ÿè¸ª æ—¥å¿—æ”¶é›† æµå¤„ç† äº‹ä»¶æº æŒä¹…æ€§æ—¥å¿— æ­å»º å®‰è£…java zookeeper ä¸‹è½½äºŒè¿›åˆ¶åŒ… ./kafka-server-start.sh é…ç½® broker é…ç½® broker.id åœ¨é›†ç¾¤ä¸­å”¯ä¸€ éœ€è¦å¤šå°‘ä¸ªbroker éœ€è¦å¤šå°‘ç£ç›˜ç©ºé—´ä¿ç•™æ•°æ® é›†ç¾¤å¤„ç†è¯·æ±‚çš„èƒ½åŠ› port zookeeper.connect log.dirs æ¶ˆæ¯ä¿å­˜åœ¨ç£ç›˜ä¸Šçš„ä½ç½® num.recovery.threads.per.data.dir ä½¿ç”¨æŒ‡å®šçš„çº¿ç¨‹æ± æ¥å¤„ç†æ—¥å¿— auto.create.topics.enable è‡ªåŠ¨åˆ›å»ºä¸»é¢˜ å½“ä¸€ä¸ªç”Ÿäº§è€…å¼€å§‹å¾€ä¸»é¢˜å†™å…¥æ¶ˆæ¯æ—¶ å½“ä¸€ä¸ªæ¶ˆè´¹è€…å¼€å§‹è¯»å– å®¢æˆ·ç«¯å‘ä¸»é¢˜å‘é€å…ƒæ•°æ®è¯·æ±‚ ä¸»é¢˜é…ç½® num.partitions é»˜è®¤åˆ†åŒºæ•°é‡ log.retention.ms æ•°æ®ä¿ç•™å¤šä¹… log.retention.bytes ä¸»é¢˜ä¿ç•™çš„æ•°æ®å¤§å° log.segment.bytes ä¸€ä¸ªæ—¥å¿—ç‰‡æ®µçš„æœ€å¤§å¤§å° log.segment.ms æ—¥å¿—ç‰‡æ®µçš„æœ€é•¿æ‰“å¼€æ—¶é—´ message.max.bytes æ¶ˆæ¯æœ€å¤§å¤§å° å‘½ä»¤æ“ä½œ åˆ—å‡ºtopic ./kafka-topics.sh --list --zookeeper 172.17.0.1:2181 åˆ›å»ºtopic /opt/kafka/bin/kafka-topics.sh --create --zookeeper 172.17.0.1:2181 --replication-factor 1 --partitions 2 --topic my_log ç”Ÿäº§è€… ./kafka-console-producer.sh --topic first --broker-list 172.17.0.1:9092 æ¶ˆè´¹è€… ./kafka-console-consumer.sh --topic first --bootstrap-server 172.17.0.1:9092 å·¥ä½œæµç¨‹ Kafka ä¸­æ¶ˆæ¯æ˜¯ä»¥ topic è¿›è¡Œåˆ†ç±»çš„ï¼Œç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯ï¼Œéƒ½æ˜¯é¢å‘ topicçš„ æ¯ä¸ª partition å¯¹åº”äºä¸€ä¸ª log æ–‡ä»¶ï¼Œè¯¥ log æ–‡ä»¶ä¸­å­˜å‚¨çš„å°±æ˜¯ producer ç”Ÿäº§çš„æ•°æ® Producer ç”Ÿäº§çš„æ•°æ®ä¼šè¢«ä¸æ–­è¿½åŠ åˆ°è¯¥log æ–‡ä»¶æœ«ç«¯ï¼Œä¸”æ¯æ¡æ•°æ®éƒ½æœ‰è‡ªå·±çš„ offsetã€‚æ¶ˆè´¹è€…ç»„ä¸­çš„æ¯ä¸ªæ¶ˆè´¹è€…ï¼Œéƒ½ä¼šå®æ—¶è®°å½•è‡ªå·±æ¶ˆè´¹åˆ°äº†å“ªä¸ª offsetï¼Œä»¥ä¾¿å‡ºé”™æ¢å¤æ—¶ï¼Œä»ä¸Šæ¬¡çš„ä½ç½®ç»§ç»­æ¶ˆè´¹ indexä¸logæ–‡ä»¶çš„ä½œç”¨ï¼š æ·±å…¥ é›†ç¾¤æˆå‘˜å…³ç³» brokeré€šè¿‡åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹æŠŠè‡ªå·±çš„ ID æ³¨å†Œåˆ° Zookeeper æ§åˆ¶å™¨ï¼šä¸€ä¸ªç‰¹æ®Šçš„broker é€šè¿‡åœ¨zkåˆ›å»ºä¸´æ—¶èŠ‚ç‚¹è¿›è¡Œé€‰ä¸¾ æ§åˆ¶å™¨è´Ÿè´£åœ¨èŠ‚ç‚¹åŠ å…¥æˆ–ç¦»å¼€é›†ç¾¤æ—¶è¿›è¡Œåˆ†åŒºé¦–é¢†é€‰ä¸¾ã€‚æ§åˆ¶å™¨ä½¿ç”¨epoch æ¥é¿å…â€œè„‘è£‚â€ å¤åˆ¶ é¦–é¢†å‰¯æœ¬ æ‰€æœ‰ç”Ÿäº§è€…è¯·æ±‚å’Œæ¶ˆè´¹è€…è¯·æ±‚éƒ½ä¼šç»è¿‡è¿™ä¸ªå‰¯æœ¬ è·Ÿéšè€…å‰¯æœ¬ ä»é¦–é¢†é‚£é‡Œå¤åˆ¶æ¶ˆæ¯ï¼Œä¿æŒä¸é¦–é¢†ä¸€è‡´çš„çŠ¶æ€ è¯·æ±‚å¤„ç† ç”Ÿäº§è¯·æ±‚ï¼š åœ¨æ¶ˆæ¯è¢«å†™å…¥åˆ†åŒºçš„é¦–é¢†ä¹‹åï¼Œbroker å¼€å§‹æ£€æŸ¥ acks é…ç½®å‚æ•°â€”â€”å¦‚æœ acks è¢«è®¾ä¸º 0 æˆ– 1 ï¼Œé‚£ä¹ˆ broker ç«‹å³è¿”å›å“åº”ï¼›å¦‚æœ acks è¢«è®¾ä¸º all ï¼Œé‚£ä¹ˆè¯·æ±‚ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªå«ä½œç‚¼ç‹±çš„ç¼“å†²åŒºé‡Œï¼Œç›´åˆ°é¦–é¢†å‘ç°æ‰€æœ‰è·Ÿéšè€…å‰¯æœ¬éƒ½å¤åˆ¶äº†æ¶ˆæ¯ï¼Œå“åº”æ‰ä¼šè¢«è¿”å›ç»™å®¢æˆ·ç«¯ è·å–è¯·æ±‚ï¼š broker å°†æŒ‰ç…§å®¢æˆ·ç«¯æŒ‡å®šçš„æ•°é‡ä¸Šé™ä»åˆ†åŒºé‡Œè¯»å–æ¶ˆæ¯ï¼Œå†æŠŠæ¶ˆæ¯è¿”å›ç»™å®¢æˆ·ç«¯ã€‚Kafka ä½¿ç”¨é›¶å¤åˆ¶æŠ€æœ¯å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯(ç›´æ¥ä»æ–‡ä»¶ç³»ç»Ÿç¼“å­˜å¤åˆ¶åˆ°ç½‘å¡) æ‰€æœ‰åŒæ­¥å‰¯æœ¬å¤åˆ¶äº†è¿™äº›æ¶ˆæ¯ï¼Œæ‰å…è®¸æ¶ˆè´¹è€…è¯»å–å®ƒä»¬ ç‰©ç†å­˜å‚¨ æ–‡ä»¶ç®¡ç†ï¼š åˆ†åŒºåˆ†æˆè‹¥å¹²ä¸ªç‰‡æ®µ å½“å‰æ­£åœ¨å†™å…¥æ•°æ®çš„ç‰‡æ®µå«ä½œæ´»è·ƒç‰‡æ®µ å¯é æ•°æ®ä¼ é€’ kafka çš„ä¿è¯ï¼š åˆ†åŒºæ¶ˆæ¯çš„é¡ºåº åªæœ‰å½“æ¶ˆæ¯è¢«å†™å…¥åˆ†åŒºçš„æ‰€æœ‰åŒæ­¥å‰¯æœ¬æ—¶ï¼ˆä½†ä¸ä¸€å®šè¦å†™å…¥ç£ç›˜ï¼‰ï¼Œå®ƒæ‰è¢«è®¤ä¸ºæ˜¯â€œå·²æäº¤â€çš„ åªè¦è¿˜æœ‰ä¸€ä¸ªå‰¯æœ¬æ˜¯æ´»è·ƒçš„ï¼Œé‚£ä¹ˆå·²ç»æäº¤çš„æ¶ˆæ¯å°±ä¸ä¼šä¸¢å¤± æ¶ˆè´¹è€…åªèƒ½è¯»å–å·²æäº¤çš„æ¶ˆæ¯ å‰¯æœ¬çš„åŒæ­¥ä¿è¯ï¼š ä¸ Zookeeper ä¹‹é—´æœ‰ä¸€ä¸ªæ´»è·ƒçš„ä¼šè¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåœ¨è¿‡å»çš„ 6sï¼ˆå¯é…ç½®ï¼‰å†…å‘Zookeeper å‘é€è¿‡å¿ƒè·³ è¿‡å»çš„ 10s å†…ï¼ˆå¯é…ç½®ï¼‰ä»é¦–é¢†é‚£é‡Œè·å–è¿‡æ¶ˆæ¯ è¿‡å»çš„ 10s å†…ä»é¦–é¢†é‚£é‡Œè·å–è¿‡æœ€æ–°çš„æ¶ˆæ¯ broker å¤åˆ¶ç³»æ•°ï¼š ä¸»é¢˜çº§åˆ« replication.factor brokerçº§åˆ« default.replication.factor å¦‚æœå¤åˆ¶ç³»æ•°ä¸º Nï¼Œé‚£ä¹ˆåœ¨ N-1 ä¸ª broker å¤±æ•ˆçš„æƒ…å†µä¸‹ï¼Œä»ç„¶èƒ½å¤Ÿä»ä¸»é¢˜è¯»å–æ•°æ®æˆ–å‘ä¸»é¢˜å†™å…¥æ•°æ®ï¼ŒåŒæ—¶ å®ƒä»¬ä¹Ÿä¼šå ç”¨Nå€çš„ç£ç›˜ç©ºé—´ã€ ä¸å®Œå…¨é¦–é¢†é€‰ä¸¾ï¼š å¦‚æœæŠŠ unclean.leader.election.enable è®¾ä¸º true ï¼Œå°±æ˜¯å…è®¸ä¸åŒæ­¥çš„å‰¯æœ¬æˆä¸ºé¦–é¢† å°±è¦æ‰¿æ‹…ä¸¢å¤±æ•°æ®å’Œå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„é£é™© æœ€å°‘åŒæ­¥å‰¯æœ¬ï¼š min.insync.replicas å¦‚æœè¦ç¡®ä¿å·²æäº¤çš„æ•°æ®è¢«å†™å…¥ä¸æ­¢ä¸€ä¸ªå‰¯æœ¬ï¼Œå°±éœ€è¦æŠŠæœ€å°‘åŒæ­¥å‰¯æœ¬æ•°é‡è®¾ç½®ä¸ºå¤§ä¸€ç‚¹ ç”Ÿäº§è€… å‘é€ç¡®è®¤ï¼š acksï¼š0 èƒ½å¤Ÿé€šè¿‡ç½‘ç»œæŠŠæ¶ˆæ¯å‘é€å‡ºå»ï¼Œé‚£ä¹ˆå°±è®¤ä¸ºæ¶ˆæ¯å·²æˆåŠŸå†™å…¥ 1 ï¼šæ„å‘³ç€é¦–é¢†åœ¨æ”¶åˆ°æ¶ˆæ¯å¹¶æŠŠå®ƒå†™å…¥åˆ°åˆ†åŒºæ•°æ®æ–‡ä»¶ï¼ˆä¸ä¸€å®šåŒæ­¥åˆ°ç£ç›˜ä¸Šï¼‰æ—¶ ä¼šè¿”å›ç¡®è®¤æˆ–é”™è¯¯å“åº” allï¼š é¦–é¢†åœ¨è¿”å›ç¡®è®¤æˆ–é”™è¯¯å“åº”ä¹‹å‰ï¼Œä¼šç­‰å¾…æ‰€æœ‰åŒæ­¥å‰¯æœ¬éƒ½æ”¶åˆ°æ¶ˆæ¯ é‡è¯•å‚æ•°ï¼š å¯¹äºä¸€äº›é”™è¯¯ å¯ä»¥é€šè¿‡é‡è¯•æ¥è§£å†³ å¦‚ï¼š LEADER_NOT_AVAILABLE æ¶ˆè´¹è€… æ˜¾ç¤ºæäº¤åç§»é‡ï¼š å¤„ç†å®Œäº‹ä»¶å†æäº¤ æ‰¹é‡æäº¤ é‡è¯• ç»´æŠ¤çŠ¶æ€ é¿å…å¯¹æ¶ˆæ¯å¤„ç†æ—¶é—´è¿‡ç¨‹ å¦åˆ™ä¼šé€ æˆæ— æ³•åŠæ—¶å‘é€å¿ƒè·³ ä»…ä¸€æ¬¡ä¼ é€’ æš‚æ—¶æ”¯æŒä¸äº† ä½¿ç”¨å¹‚ç­‰æ€§å†™å…¥æ¥å®ç° æ•°æ®ç®¡é“ éœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼š åŠæ—¶æ€§ å¯é æ€§ è‡³å°‘ä¸€æ¬¡ä¼ é€’ ä»…ä¸€æ¬¡ä¼ é€’ ååé‡è¦æ±‚ é«˜ åŠ¨æ€è°ƒæ•´ æ•°æ®æ ¼å¼ä¸è½¬æ¢é—®é¢˜ å®‰å…¨æ€§ ä¼ è¾“å®‰å…¨ æƒé™å®‰å…¨ æ•…éšœå¤„ç† æ•°æ®ç®¡é“ä¸ä¸Šä¸‹æ¸¸çš„è€¦åˆ Connect å¯åŠ¨ connect: ./bin/connect-distributed.sh ./config/connect-distributed.properties æ–‡ä»¶æ•°æ®æº: POST localhost:8083/connectors {\"name\":\"load-kafka-config\", \"config\":{\"connector.class\":\"FileStreamSource\",\"file\":\"config/server.properties\",\"topic\":\"kafka-config-topic\"}} ä¼ é€’æ–‡ä»¶æ•°æ®æºåˆ°ä¸»é¢˜ä¸Š æ·±å…¥ è¿æ¥å™¨ ä»»åŠ¡ workerè¿›ç¨‹ è½¬æ¢å™¨ åç§»é‡ç®¡ç† é›†ç¾¤é•œåƒ ä½¿ç”¨åœºæ™¯ï¼š åŒºåŸŸé›†ç¾¤ ä¸­å¿ƒé›†ç¾¤ æ•°æ®å†—ä½™ äº‘è¿ç§» å¤šé›†ç¾¤æ¶æ„ è·¨æ•°æ®ä¸­å¿ƒé€šä¿¡ï¼š é«˜å»¶è¿Ÿ å¸¦å®½æœ‰é™ é«˜æˆæœ¬ ä¸­å¿ƒæ¶æ„ï¼š ä¸»ä»æ¶æ„ï¼š åŒæ´»æ¶æ„ï¼š ä¸»å¤‡æ¶æ„ï¼š MirrorMaker å¦‚æœæœ‰å¯èƒ½ï¼Œå°½é‡è®© MirrorMaker è¿è¡Œåœ¨ç›®æ ‡æ•°æ®ä¸­å¿ƒé‡Œ ç›‘æ§ æ‰€æœ‰åº¦é‡æŒ‡æ ‡éƒ½å¯ä»¥é€šè¿‡ Java Management Extensionsï¼ˆJMXï¼‰æ¥å£æ¥è®¿é—® broker éåŒæ­¥åˆ†åŒºæ•°é‡ï¼š å¦‚æœé›†ç¾¤é‡Œå¤šä¸ª broker çš„éåŒæ­¥åˆ†åŒºæ•°é‡ä¸€ç›´ä¿æŒä¸å˜ï¼Œé‚£è¯´æ˜é›†ç¾¤ä¸­çš„æŸä¸ª broker å·²ç»ç¦»çº¿äº† å¦‚æœéåŒæ­¥åˆ†åŒºçš„æ•°é‡æ˜¯æ³¢åŠ¨çš„ï¼Œæˆ–è€…è™½ç„¶æ•°é‡ç¨³å®šä½†å¹¶æ²¡æœ‰ broker ç¦»çº¿ï¼Œè¯´æ˜é›†ç¾¤å‡ºç°äº†æ€§èƒ½é—®é¢˜ é›†ç¾¤é—®é¢˜ï¼š ä¸å‡è¡¡çš„è´Ÿè½½ èµ„æºè¿‡åº¦æ¶ˆè€— ä¸»æœºé—®é¢˜ï¼š ç¡¬ä»¶ è¿›ç¨‹å†²çª é…ç½®é—®é¢˜ æµå¼å¤„ç† æ•°æ®æµ:æ— è¾¹ç•Œæ•°æ®é›†çš„æŠ½è±¡è¡¨ç¤º æ•°æ®æµæ˜¯æœ‰åºçš„, ä¸å¯å˜çš„, å¯é‡æ’­çš„ æµå¼å¤„ç†æ˜¯æŒç»­åœ°ä»ä¸€ä¸ªæ— è¾¹ç•Œçš„æ•°æ®é›†è¯»å–æ•°æ®ï¼Œç„¶åå¯¹å®ƒä»¬è¿›è¡Œå¤„ç†å¹¶ç”Ÿæˆç»“æœ æ¦‚å¿µ æ—¶é—´ï¼š äº‹ä»¶æ—¶é—´ æ‰€è¿½è¸ªäº‹ä»¶çš„å‘ç”Ÿæ—¶é—´å’Œè®°å½•çš„åˆ›å»ºæ—¶é—´ å¤„ç†æ—¶é—´ æ”¶åˆ°äº‹ä»¶ä¹‹åè¦å¯¹å…¶è¿›è¡Œå¤„ç†çš„æ—¶é—´ çŠ¶æ€ï¼š å†…éƒ¨çŠ¶æ€ åªèƒ½è¢«å•ä¸ªåº”ç”¨ç¨‹åºå®ä¾‹è®¿é—® å¤–éƒ¨çŠ¶æ€ ä½¿ç”¨å¤–éƒ¨çš„æ•°æ®å­˜å‚¨æ¥ç»´æŠ¤ æ—¶é—´çª—å£ï¼š è®¾è®¡æ¨¡å¼ å•äº‹ä»¶å¤„ç†ï¼š æœ¬åœ°çŠ¶æ€äº‹ä»¶å¤„ç†ï¼š å¤šé˜¶æ®µå¤„ç†ï¼š å¤–éƒ¨æ•°æ®æºå¡«å……ï¼š è¿æ¥æµï¼š å¯¹ä¹±åºäº‹ä»¶é‡æ’åº é‡æ–°å¤„ç†ï¼š ä½¿ç”¨æ–°å¤„ç†ç¨‹åºä»å¤´è¯»å–æ•°æ®æµç”Ÿæˆç»“æœæµ Kafka Streams æ¶æ„ æ‹“æ‰‘ç»“æ„ï¼š å¯¹æ‹“æ‰‘ç»“æ„ä¼¸ç¼©ï¼š MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-06 02:18:12 "},"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/Kafka/æ¶ˆè´¹è€….html":{"url":"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/Kafka/æ¶ˆè´¹è€….html","title":"æ¶ˆè´¹è€…","keywords":"","body":"æ¶ˆè´¹è€… åˆ†åŒºçš„æ‰€æœ‰æƒä»ä¸€ä¸ªæ¶ˆè´¹è€…è½¬ç§»åˆ°å¦ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œè¿™æ ·çš„è¡Œä¸ºè¢«ç§°ä¸ºå†å‡è¡¡ æ¶ˆè´¹è€…é€šè¿‡å‘è¢«æŒ‡æ´¾ä¸ºç¾¤ç»„åè°ƒå™¨çš„ brokerï¼ˆä¸åŒçš„ç¾¤ç»„å¯ä»¥æœ‰ä¸åŒçš„åè°ƒå™¨ï¼‰å‘é€å¿ƒè·³æ¥ç»´æŒå®ƒä»¬å’Œç¾¤ç»„çš„ä»å±å…³ç³»ä»¥åŠå®ƒä»¬å¯¹åˆ†åŒºçš„æ‰€æœ‰æƒå…³ç³» Properties props = new Properties(); //kafka é›†ç¾¤ï¼Œbroker-list props.put(\"bootstrap.servers\", \"172.24.211.140:9092\"); props.put(\"group.id\", \"consumer1\"); props.put(\"key.deserializer\", \"org.apache.kafka.common.serialization.StringDeserializer\"); props.put(\"value.deserializer\", \"org.apache.kafka.common.serialization.StringDeserializer\"); KafkaConsumer consumer = new KafkaConsumer(props); consumer.subscribe(List.of(\"test\")); while(true){ ConsumerRecords records = consumer.poll(Duration.ofMillis(1000)); for (ConsumerRecord record : records) { System.err.println(record); } } æ¶ˆè´¹æ–¹å¼: é‡‡ç”¨ pullï¼ˆæ‹‰ï¼‰æ¨¡å¼ä» broker ä¸­è¯»å–æ•°æ® ç›¸è¾ƒäºæœåŠ¡å™¨ push æ¨¡å¼ï¼Œpullæ¨¡å¼ä½¿æ¶ˆè´¹è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µæ¥å†³å®šæ¶ˆè´¹çš„é€Ÿç‡ï¼Œå¦ä¸€æ–¹é¢ï¼Œpullæ¨¡å¼æ¯æ¬¡ä¹Ÿå¯ä»¥æ‰¹é‡æ‹‰å–æ•°æ®ï¼Œæé«˜æœåŠ¡å™¨ååé‡ï¼Œè€Œpullæ¨¡å¼ä¸€æ—¦æœ‰æ¶ˆæ¯äº§ç”Ÿï¼Œå°±ä¼šç«‹é©¬æ¨é€ï¼Œè¿™æ„å‘³ç€ç½‘ç»œå¼€é”€ä¼šæ¯”pullæ¨¡å¼é«˜ä¸€äº›ã€‚ ä½†pullæ¨¡å¼ä¹Ÿæœ‰ä¸€äº›ç¼ºé™·ï¼Œå¦‚æœæ²¡æœ‰æ¶ˆæ¯çš„è¯ï¼Œå®¢æˆ·ç«¯å°±ä¼šåœ¨é‚£é‡Œç©ºè½¬ç­‰å¾…ï¼Œæ‰€ä»¥Kafkaä¸ºæ¶ˆè´¹è€…çš„pollæ–¹æ³•æŒ‡å®šäº†ä¸€ä¸ªæ—¶é—´å‚æ•°ï¼Œé¿å…ç©ºè½¬æµªè´¹CPUèµ„æº é…ç½® fetch.min.bytes æŒ‡å®šäº†æ¶ˆè´¹è€…ä»æœåŠ¡å™¨è·å–è®°å½•çš„æœ€å°å­—èŠ‚æ•° fetch.max.wait.ms æŒ‡å®š broker çš„ç­‰å¾…æ—¶é—´ max.partition.fetch.bytes æŒ‡å®šäº†æœåŠ¡å™¨ä»æ¯ä¸ªåˆ†åŒºé‡Œè¿”å›ç»™æ¶ˆè´¹è€…çš„æœ€å¤§å­—èŠ‚æ•° session.timeout.ms æŒ‡å®šäº†æ¶ˆè´¹è€…åœ¨è¢«è®¤ä¸ºæ­»äº¡ä¹‹å‰å¯ä»¥ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥çš„æ—¶é—´ auto.offset.reset æŒ‡å®šäº†æ¶ˆè´¹è€…åœ¨è¯»å–ä¸€ä¸ªæ²¡æœ‰åç§»é‡çš„åˆ†åŒºæˆ–è€…åç§»é‡æ— æ•ˆçš„æƒ…å†µä¸‹ï¼ˆå› æ¶ˆè´¹è€…é•¿æ—¶é—´å¤±æ•ˆï¼ŒåŒ…å«åç§»é‡çš„è®°å½•å·²ç»è¿‡æ—¶å¹¶è¢«åˆ é™¤ï¼‰è¯¥ä½œä½•å¤„ç† earliest å½“åˆ†åŒºä¸‹æœ‰å·²æäº¤çš„offsetæ—¶ï¼Œä»æäº¤çš„offsetå¼€å§‹æ¶ˆè´¹ï¼›æ— æäº¤çš„offsetæ—¶ï¼Œä»å¤´å¼€å§‹æ¶ˆè´¹ latest å½“åˆ†åŒºä¸‹æœ‰å·²æäº¤çš„offsetæ—¶ï¼Œä»æäº¤çš„offsetå¼€å§‹æ¶ˆè´¹ï¼›æ— æäº¤çš„offsetæ—¶ï¼Œæ¶ˆè´¹æ–°äº§ç”Ÿçš„è¯¥åˆ†åŒºä¸‹çš„æ•°æ® none å½“è¯¥topicä¸‹æ‰€æœ‰åˆ†åŒºä¸­å­˜åœ¨æœªæäº¤çš„offsetæ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸ enable.auto.commit æŒ‡å®šäº†æ¶ˆè´¹è€…æ˜¯å¦è‡ªåŠ¨æäº¤åç§»é‡ partition.assignment.strategy å†³å®šå“ªäº›åˆ†åŒºåº”è¯¥è¢«åˆ†é…ç»™å“ªä¸ªæ¶ˆè´¹è€… range:è¯¥ç­–ç•¥ä¼šæŠŠä¸»é¢˜çš„è‹¥å¹²ä¸ªè¿ç»­çš„åˆ†åŒºåˆ†é…ç»™æ¶ˆè´¹è€… è½®è¯¢ï¼šè¯¥ç­–ç•¥æŠŠä¸»é¢˜çš„æ‰€æœ‰åˆ†åŒºé€ä¸ªåˆ†é…ç»™æ¶ˆè´¹è€… client.id max.poll.records æ§åˆ¶å•æ¬¡è°ƒç”¨ call() æ–¹æ³•èƒ½å¤Ÿè¿”å›çš„è®°å½•æ•°é‡ receive.buffer.bytes å’Œ send.buffer.bytes è¯»å†™æ•°æ®æ—¶ç”¨åˆ°çš„ TCP ç¼“å†²åŒºä¹Ÿå¯ä»¥è®¾ç½®å¤§å° åç§»é‡ æ¯ä¸€ä¸ªæ¶ˆè´¹è€…ç»„éƒ½ä¼šå¯¹æœ‰è¿›è¡Œæ¶ˆè´¹çš„ä¸»é¢˜åˆ†åŒºçš„åç§»é‡è¿›è¡Œè®°å½•ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€æ¶ˆè´¹è€…å¯ä»¥æ‰‹åŠ¨è®¾ç½®è¿™ä¸ªåç§»é‡ä»å¤´æ¶ˆè´¹æ•°æ®ã€‚ æ›´æ–°åˆ†åŒºå½“å‰åç§»é‡çš„æ“ä½œå«ä½œæäº¤ Kafka 0.9 ç‰ˆæœ¬ä¹‹å‰ï¼Œconsumer é»˜è®¤å°† offset ä¿å­˜åœ¨ Zookeeper ä¸­ï¼Œä» 0.9 ç‰ˆæœ¬å¼€å§‹ï¼Œconsumer é»˜è®¤å°† offset ä¿å­˜åœ¨ Kafka ä¸€ä¸ªå†…ç½®çš„ topic ä¸­ï¼Œè¯¥ topicä¸º__consumer_offsetsã€‚ è‡ªåŠ¨æäº¤ï¼š å¦‚æœ enable.auto.commit è¢«è®¾ä¸º true ï¼Œé‚£ä¹ˆæ¯è¿‡ 5sï¼Œæ¶ˆè´¹è€…ä¼šè‡ªåŠ¨æŠŠä» poll() æ–¹æ³•æ¥æ”¶åˆ°çš„æœ€å¤§åç§»é‡æäº¤ä¸Šå» æ‰‹åŠ¨æäº¤ï¼š æŠŠ auto.commit.offset è®¾ä¸º false ï¼Œä½¿ç”¨ commitSync() å¼‚æ­¥æäº¤ commitAsync() , ä½†è¯¥æ–¹æ³•åœ¨å‘ç”Ÿé”™è¯¯æ—¶ä¸ä¼šè¿›è¡Œé‡è¯• å†å‡è¡¡ç›‘å¬ï¼š è®¢é˜…çš„æ—¶å€™ä¼ å…¥ ConsumerRebalanceListener å®ç°ç›¸å…³æ¥å£ ä»ç‰¹å®šåç§»é‡å¼€å§‹å¤„ç†ï¼šseekToBeginning(..) è¯»å–ç‰¹å®šåç§»é‡ï¼šseek(..) é€€å‡º å…¶ä»–çº¿ç¨‹è°ƒç”¨consumer.wakeup() ä¼šä½¿consumeråœ¨pollæŠ›å‡ºå¼‚å¸¸ ç„¶åè¿›è¡Œcloseå³å¯ æ²¡æœ‰ç¾¤ç»„çš„æ¶ˆè´¹è€… è°ƒç”¨assignä¸ºå…¶è®¾ç½®æ¶ˆè´¹çš„åˆ†åŒº MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-05-13 02:44:15 "},"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/Kafka/ç”Ÿäº§è€….html":{"url":"ä¸­é—´ä»¶/æ¶ˆæ¯é˜Ÿåˆ—/Kafka/ç”Ÿäº§è€….html","title":"ç”Ÿäº§è€…","keywords":"","body":"ç”Ÿäº§è€… å‘é€æ¶ˆæ¯ï¼š Properties props = new Properties(); //kafka é›†ç¾¤ï¼Œbroker-list props.put(\"bootstrap.servers\", \"172.24.211.140:9092\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\"); props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\"); Producer producer = new KafkaProducer<>(props); for (int i = 0; i (\"test\", \"Precision Products\", \"France\"); producer.send(record, new Callback() { @Override public void onCompletion(RecordMetadata metadata, Exception exception) { System.out.println(metadata); } }); } producer.close(); é…ç½® acks å®šäº†å¿…é¡»è¦æœ‰å¤šå°‘ä¸ªåˆ†åŒºå‰¯æœ¬æ”¶åˆ°æ¶ˆæ¯ï¼Œç”Ÿäº§è€…æ‰ä¼šè®¤ä¸ºæ¶ˆæ¯å†™å…¥æ˜¯æˆåŠŸçš„ acks=0 ï¼Œç”Ÿäº§è€…åœ¨æˆåŠŸå†™å…¥æ¶ˆæ¯ä¹‹å‰ä¸ä¼šç­‰å¾…ä»»ä½•æ¥è‡ªæœåŠ¡å™¨çš„å“åº” å½“ broker æ•…éšœæ—¶æœ‰å¯èƒ½ ä¸¢å¤±æ•°æ® acks=1 ï¼Œåªè¦é›†ç¾¤çš„é¦–é¢†èŠ‚ç‚¹æ”¶åˆ°æ¶ˆæ¯ï¼Œç”Ÿäº§è€…å°±ä¼šæ”¶åˆ°ä¸€ä¸ªæ¥è‡ªæœåŠ¡å™¨çš„æˆåŠŸå“åº” å¦‚æœåœ¨ followeråŒæ­¥æˆåŠŸä¹‹å‰ leader æ•…éšœï¼Œé‚£ä¹ˆå°†ä¼šä¸¢å¤±æ•°æ® acks=all ï¼Œåªæœ‰å½“æ‰€æœ‰å‚ä¸å¤åˆ¶çš„èŠ‚ç‚¹å…¨éƒ¨æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œç”Ÿäº§è€…æ‰ä¼šæ”¶åˆ°ä¸€ä¸ªæ¥è‡ªæœåŠ¡å™¨çš„æˆåŠŸå“åº” å¦‚æœåœ¨ follower åŒæ­¥å®Œæˆåï¼Œbroker å‘é€ ack ä¹‹å‰ï¼Œleader å‘ç”Ÿæ•…éšœï¼Œé‚£ä¹ˆä¼šé€ æˆ æ•°æ®é‡å¤ buffer.memory è®¾ç½®ç”Ÿäº§è€…å†…å­˜ç¼“å†²åŒºçš„å¤§å° compression.type è®¾ç½®æ¶ˆæ¯å‹ç¼©ç®—æ³• retries å†³å®šäº†ç”Ÿäº§è€…å¯ä»¥é‡å‘æ¶ˆæ¯çš„æ¬¡æ•°ï¼Œå¦‚æœè¾¾åˆ°è¿™ä¸ªæ¬¡æ•°ï¼Œç”Ÿäº§è€…ä¼šæ”¾å¼ƒé‡è¯•å¹¶è¿”å›é”™è¯¯ batch.size æŒ‡å®šäº†ä¸€ä¸ªæ‰¹æ¬¡å¯ä»¥ä½¿ç”¨çš„å†…å­˜å¤§å° linger.ms KafkaProducer ä¼šåœ¨æ‰¹æ¬¡å¡«æ»¡æˆ– linger.ms è¾¾åˆ°ä¸Šé™æ—¶æŠŠæ‰¹æ¬¡å‘é€å‡ºå»ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåªè¦æœ‰å¯ç”¨çš„çº¿ç¨‹ï¼Œç”Ÿäº§è€…å°±ä¼šæŠŠæ¶ˆæ¯å‘é€å‡ºå» client.id max.in.flight.requests.per.connection æŒ‡å®šäº†ç”Ÿäº§è€…åœ¨æ”¶åˆ°æœåŠ¡å™¨å“åº”ä¹‹å‰å¯ä»¥å‘é€å¤šå°‘ä¸ªæ¶ˆæ¯ timeout.msã€request.timeout.ms å’Œ metadata.fetch.timeout.ms max.block.ms è°ƒç”¨sendæ—¶æœ€é•¿çš„é˜»å¡æ—¶é—´ max.request.siz receive.buffer.bytes å’Œ send.buffer.bytes åˆ†åˆ«æŒ‡å®šäº† TCP socket æ¥æ”¶å’Œå‘é€æ•°æ®åŒ…çš„ç¼“å†²åŒºå¤§å° é¡ºåºä¿è¯ å°†max.in.flight.requests.per.connectionè®¾ç½®ä¸º1 ä¿è¯é¡ºåºçš„æ–¹æ³•å°±æ˜¯ï¼š æ¯ä¸ªä¸»é¢˜åªåˆ†ä¸ºä¸€ä¸ªåŒº æ¯æ¬¡å‘é€çš„æ¶ˆæ¯å‘é€åˆ°åŒä¸€ä¸ªåˆ†åŒº åºåˆ—åŒ–å™¨ è‡ªå®šä¹‰åºåˆ—åŒ–å™¨ï¼šå®ç°Serializeræ¥å£ ä¸æ¨èä½¿ç”¨ å…¶ä»–åºåˆ—åŒ– avroï¼šä¸€ç§å°†shcemaåµŒå…¥åœ¨æ•°æ®é‡Œçš„åºåˆ—åŒ–æ–¹å¼ åˆ†åŒºç­–ç•¥ åˆ†åŒºçš„åŸå› ï¼š æ–¹ä¾¿æ‰©å±• æé«˜å¹¶å‘ åˆ†åŒºåŸåˆ™ï¼š æŒ‡æ˜ partition çš„æƒ…å†µä¸‹ï¼Œç›´æ¥å°†æŒ‡æ˜çš„å€¼ç›´æ¥ä½œä¸º partiton å€¼ æ²¡æœ‰æŒ‡æ˜ partition å€¼ä½†æœ‰ key çš„æƒ…å†µä¸‹ï¼Œå°† key çš„ hash å€¼ä¸ topic çš„ partitionæ•°è¿›è¡Œå–ä½™å¾—åˆ° partition å€¼ å¦åˆ™å°±æ˜¯éšæœºå–ä¸€ä¸ªå€¼ ç„¶åå†è¿™ä¸ªå€¼çš„åŸºç¡€ä¸Šè¿›è¡Œè½®è¯¢ è‡ªå®šä¹‰åˆ†åŒºå™¨ï¼š å®ç°Partitioneræ¥å£ æ•°æ®å¯é æ€§ä¿è¯ Exactly Once å°†æœåŠ¡å™¨çš„ ACK çº§åˆ«è®¾ç½®ä¸º-1ï¼Œå¯ä»¥ä¿è¯ Producer åˆ° Server ä¹‹é—´ä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œå³ AtLeast Once è¯­ä¹‰ At Least Once + å¹‚ç­‰æ€§ = Exactly Once MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-06 02:18:12 "},"ä¸­é—´ä»¶/webä¸­é—´ä»¶/webä¸­é—´ä»¶.html":{"url":"ä¸­é—´ä»¶/webä¸­é—´ä»¶/webä¸­é—´ä»¶.html","title":"webå®¹å™¨/æœåŠ¡å™¨","keywords":"","body":"Web ä¸­é—´ä»¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ä¸­é—´ä»¶/webä¸­é—´ä»¶/Tomcat.html":{"url":"ä¸­é—´ä»¶/webä¸­é—´ä»¶/Tomcat.html","title":"Tomcat","keywords":"","body":"Tomcat ç›®å½•ç»“æ„ éƒ¨ç½²æ–¹å¼ ç›´æ¥å°†é¡¹ç›®æ”¾åˆ°webappsç›®å½•ä¸‹ é…ç½®conf/server.xmlæ–‡ä»¶ åœ¨æ ‡ç­¾ä½“ä¸­é…ç½® docBase:é¡¹ç›®å­˜æ”¾çš„è·¯å¾„ pathï¼šè™šæ‹Ÿç›®å½• åœ¨conf\\Catalina\\localhoståˆ›å»ºä»»æ„åç§°çš„xmlæ–‡ä»¶ã€‚åœ¨æ–‡ä»¶ä¸­ç¼–å†™ è™šæ‹Ÿç›®å½•ï¼šxmlæ–‡ä»¶çš„åç§° JAVA WEBé¡¹ç›®ç›®å½•ç»“æ„ é¡¹ç›®çš„æ ¹ç›®å½• WEB-INFç›®å½•ï¼š web.xmlï¼šwebé¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ classesç›®å½•ï¼šæ”¾ç½®å­—èŠ‚ç æ–‡ä»¶çš„ç›®å½• libç›®å½•ï¼šæ”¾ç½®ä¾èµ–çš„jaråŒ… æ¶æ„ æ•´ä½“è®¾è®¡ï¼š Connectorè´Ÿè´£è¿æ¥çš„å»ºç«‹ä»¥åŠæ•°æ®è¿”å› Container(Engine)è´Ÿè´£è¯·æ±‚çš„å…·ä½“å¤„ç† Service è´Ÿè´£ç»´æŠ¤Conenctorä¸Containerä¹‹é—´çš„æ˜ å°„å…³ç³» Containerè®¾è®¡ï¼š Engineï¼šContainerçš„å…·ä½“å®ç° Hostï¼šä»¥åŸŸåä¸ºä¸»çš„ä¸€ä¸ªè™šæ‹Ÿä¸»æœº Wrapperï¼šä»£è¡¨Servletå®ä¾‹ Contextï¼šä»£è¡¨ä¸€ä¸ªç‹¬ç«‹çš„webåº”ç”¨ PipeLineï¼šå„ä¸ªç»„ä»¶ä¹‹é—´ä¼ é€’æ¶ˆæ¯çš„ç®¡é“ Connectorè®¾è®¡ï¼š Endpointè´Ÿè´£ç›‘å¬è¿æ¥ï¼Œå°†è¿æ¥äº¤ç»™Processorå¤„ç† Processorå†å°†è¯·æ±‚æ˜ å°„åˆ°Container Executorï¼š å…±äº«çº¿ç¨‹æ± ç”±Serviceç»´æŠ¤ å¤–éƒ¨ä¾èµ– Bootstrapå’ŒCatalinaï¼š Bootstrapå¯åŠ¨Cataina Catalinaå¯åŠ¨Server å®ç°äº†Bootstrap ä¸ Serverè¿›è¡Œè§£è€¦ å¯åŠ¨æµç¨‹ è¯·æ±‚å¤„ç† æ€»ä½“æµç¨‹ï¼š CoyoteAdapter.service è¯·æ±‚æ˜ å°„ï¼šCoyoteAdapter.postParseRequest è°ƒç”¨å®¹å™¨ï¼šconnector.getService().getContainer().getPipeline().getFirst().invoke(request, response) Catalinaè¯·æ±‚å¤„ç†ï¼š ç±»åŠ è½½å™¨ é€šè¿‡æ¯ä¸ªappä½¿ç”¨è‡ªå·±çš„ç±»åŠ è½½å™¨æ¥è¾¾åˆ°ï¼š éš”ç¦»ï¼šä¸åŒçš„appä¾èµ–ç±»åº“ä¸ä¼šç›¸äº’å½±å“ çµæ´»ï¼šé‡æ–°éƒ¨ç½²æ—¶çš„é—®é¢˜ å¯¹äºWeb åº”ç”¨ç±»åŠ è½½å™¨ï¼Œå®ƒçš„åŠ è½½é¡ºåºï¼š ä»ç¼“å­˜åŠ è½½ å¦‚æœç¼“å­˜æ²¡æœ‰ ä»JVMçš„Bootstrapç±»åŠ è½½å™¨åŠ è½½ ï¼ˆé˜²æ­¢JAVA SEæ ¸å¿ƒç±»è¢«è¦†ç›–ï¼‰ å¦‚æœè¿˜æ˜¯æ²¡æœ‰ ä»å½“å‰ç±»åŠ è½½å™¨åŠ è½½ ï¼ˆå¦‚æœå¼€å¯å§”æ‰˜ åˆ™ä¼šéµå¾ªJVMåŒäº²å§”æ‰˜æ¨¡å‹ï¼‰ è¿˜æ²¡æœ‰ å†ä»çˆ¶ç±»åŠ è½½å™¨åŠ è½½ Catalina Servletå®¹å™¨ Digester : XMLè§£æå·¥å…· Server åˆ›å»º è§£æServerï¼šCatalina.createStartDigester è§£æEngineï¼šEngineRuleSet.addRuleInstances è§£æHostï¼šHostRuleSet.addRuleInstances è§£æContextï¼šContextRuleSet.addRuleInstances Webåº”ç”¨å¯åŠ¨æµç¨‹ StandardHostï¼š ä»server.xmlé…ç½®åŠ è½½ æˆ–è€…æ‰«æwebappsç›®å½•åŠ è½½ HostConfigï¼š START_EVENTäº‹ä»¶ï¼šä¼šæ ¹æ®contextæè¿°æ–‡ä»¶æˆ–è€…å¯¹webappsç›®å½•ä¸‹waråŒ…ç›®å½•ç­‰éƒ¨ç½²åº”ç”¨ è°ƒç”¨deployApps() PERIODIC_EVENTäº‹ä»¶ï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜æ›´ æ˜¯åˆ™é‡æ–°éƒ¨ç½²(ä¹‹å‰ä¸å­˜åœ¨çš„åº”ç”¨)æˆ–è€…é‡æ–°åŠ è½½(ä¹‹å‰å­˜åœ¨çš„åº”ç”¨) StandardContextï¼š åº”ç”¨åˆå§‹åŒ–åŠå¯åŠ¨ ContextConfigï¼š AFTER_INIT_EVENTäº‹ä»¶ï¼šåŠ è½½Contexté…ç½®æ–‡ä»¶ BEFORE_START_EVENTäº‹ä»¶ï¼šå¤„ç†docBase(åº”ç”¨æ‰€åœ¨æ–‡ä»¶å¤¹)é—®é¢˜ CONFIGURE_START_EVENTï¼šåˆå§‹åŒ–æ“ä½œ, è§£æXMLé…ç½®æ–‡ä»¶(æˆ–è€…æ‰«æç›®å½• ä½¿ç”¨æ³¨è§£çš„æ–¹å¼) åˆ›å»º Servlet Filterç­‰ç»„ä»¶ StandardWrapperï¼š æ ¹æ®é…ç½®load servlet ä»¥åŠå¯¹ servlet åˆå§‹åŒ– Contextçš„å‘½åä¸è¯·æ±‚è·¯å¾„æ˜ å°„ Catalina è‡ªå¸¦çš„ Servlet DefaultServletï¼šå¤„ç†é™æ€èµ„æº å¤„ç†ç›®å½•è¯·æ±‚ å¯é…å‚æ•°ï¼šhttps://tomcat.apache.org/tomcat-7.0-doc/default-servlet.html JspServlet:ç¼–è¯‘jspæ–‡ä»¶ å¤„ç†jspè¯·æ±‚ Coyote è¯·æ±‚è¿æ¥å™¨çš„å®ç° æ”¯æŒçš„ä¼ è¾“åè®®ï¼š HTTP1.1 HTTP2.0 AJP1.3 æ”¯æŒçš„IOæ–¹æ¡ˆï¼š NIO NIO2 APR HTTP é…ç½®ï¼š æ¦‚å¿µ Endpoint é€šä¿¡ç«¯ç‚¹ è´Ÿè´£Socektæ¥æ”¶å¤„ç† Porcessor è´Ÿè´£åˆ›å»ºè¯·æ±‚å’Œå“åº” å°†è¯·æ±‚è½¬å‘åˆ°Catalina ProtocolHandler å°è£…Endpoint Processor UpgradeProtocol å¤„ç†HTTPåè®®çš„å‡çº§åè®® è¯·æ±‚æµç¨‹ AJP AJPï¼ˆApache JServ Protocolï¼‰æ˜¯å®šå‘åŒ…åè®®ã€‚å› ä¸ºæ€§èƒ½åŸå› ï¼Œä½¿ç”¨äºŒè¿›åˆ¶æ ¼å¼æ¥ä¼ è¾“å¯è¯»æ€§æ–‡æœ¬ã€‚WEBæœåŠ¡å™¨é€šè¿‡ TCPè¿æ¥ å’Œ SERVLETå®¹å™¨è¿æ¥ åŒ…ç»“æ„ï¼š æœ‰æ•ˆè½½è·çš„å‰ä¸€ä¸ªå­—èŠ‚ä»£è¡¨ç±»å‹ è¯·æ±‚å¤„ç†ï¼š Jasper ä½¿ç”¨å•ç‹¬çš„ç±»åŠ è½½å™¨ ç¼–è¯‘æ–¹å¼ è¿è¡Œæ—¶ç¼–è¯‘ï¼š ç¼–è¯‘ç»“æœï¼š é¦–é€‰å­˜æ”¾åœ¨ context-param çš„scratchdir å¦åˆ™æ˜¯ $CATALINA_BASE/work/Engineåç§°/Hoståç§°/Contextåç§° å†å¦åˆ™åœ¨ç³»ç»Ÿä¸´æ—¶æ–‡ä»¶ç›®å½•ä¸‹ é¢„ç¼–è¯‘ï¼š jspc ç¼–è¯‘åŸç† // ç»§æ‰¿è¯¥ç±» class index_jsp extends HttpJspBase private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory(); private static Map _jspx_dependants; // ä¾èµ–çš„å¤–éƒ¨èµ„æº private static final Set _jspx_imports_packages = new HashSet(); // å¯¼å…¥çš„åŒ… private static final Set _jspx_imports_classes; // å¯¼å…¥çš„ç±» _jspService å¤„ç†è¯·æ±‚ï¼š å®šä¹‰äº†out pageContext session application config page ç­‰å±€éƒ¨å˜é‡ å¯¹äºé™æ€å†…å®¹è°ƒç”¨out.write å¤„ç†jspæ ‡ç­¾ é…ç½®ç®¡ç† JVMé…ç½® :: JVMå¯åŠ¨å‚æ•° set \"JAVA_OPTS=%JAVA_OPTS% %JSSE_OPTS%\" ç³»ç»Ÿå±æ€§ï¼šç•¥ æœåŠ¡å™¨é…ç½® catalina.properties: å®¹å™¨å¯åŠ¨é˜¶æ®µçš„é…ç½® server.xml: æœåŠ¡å™¨æ ¸å¿ƒé…ç½® Server Service Executor çº¿ç¨‹æ± é…ç½® é»˜è®¤å…¶ä»–ç»„ä»¶ä¼šåˆ›å»ºè‡ªå·±çš„çº¿ç¨‹æ±  Connector é»˜è®¤é…ç½®äº†ä¸¤ä¸ª HTTP å’Œ AJP Engine å¯ä»¥æŒ‡å®šè™šæ‹Ÿä¸»æœº Host name åŸŸå appBase å­˜æ”¾åº”ç”¨çš„ç›®å½• unpackWARs æ˜¯å¦è§£å‹waråŒ… autoDeploy å®šæœŸæ£€æµ‹ è‡ªåŠ¨éƒ¨ç½² Alias å¯ä»¥é…ç½®æ–°çš„åŸŸå Context docBase å…·ä½“åº”ç”¨çš„ç›®å½• path Contextè·¯å¾„ CookieProcessor æŒ‡å®šcookieå¤„ç†å™¨ Loader ç”¨äºç®¡ç† web åº”ç”¨çš„ç±»åŠ è½½å™¨ delegate å±æ€§å¯ä»¥æ‰“ç ´åŒäº²å§”æ´¾æ¨¡å‹ reloadable å±æ€§ä¼šç›‘æ§èµ„æºå˜åŒ–åé‡æ–°åŠ è½½åº”ç”¨ loaderClass æŒ‡å®šç±»åŠ è½½å™¨çš„å…·ä½“å®ç° Manger ä¼šè¯ç®¡ç†å™¨ Standardå’ŒPresistent Resources èµ„æºå…±äº« JarScanner content.xml Web åº”ç”¨é…ç½® context-param: ServerContext.getInitParameter() å¯ä»¥è·å–åˆ°çš„å‚æ•° session-config ä¼šè¯é…ç½® ä¸‰ç§è¿½è¸ªæ¨¡å¼ COOKIE URL SSL servlet å£°æ˜servletåŠå…¶æ˜ å°„ listener filter mime-mapping æ˜ å°„æ–‡ä»¶ç±»å‹ä¸å¯¹åº”çš„content-type welcome-file-list error-page locale-encoding-mapping-list æœ¬åœ°åŒ–ä¸å“åº”ç¼–ç çš„å…³ç³» å®‰å…¨é…ç½® jndié…ç½® å†…ç½®çš„ Filter CorsFilterï¼šè§£å†³è·¨åŸŸé—®é¢˜ CsrfPreventionFilterï¼šé˜²æ­¢CSRFæ”»å‡» ExpiresFilterï¼šæ§åˆ¶ç¼“å­˜è¿‡æœŸä¸å¦ FailedRequestFilterï¼šè§£æå‚æ•°å¤±è´¥å°±è¿”å›é”™è¯¯ RemoteAddrFilterï¼šåªæ”¾è¡Œç¬¦åˆç‰¹å®šè¡¨è¾¾å¼çš„IPåœ°å€ RemoteHostFilterï¼šåªæ”¾è¡Œç¬¦åˆç‰¹å®šè¡¨è¾¾å¼çš„ä¸»æœº RemoteIpFilterï¼šå‰æ–¹æœ‰è´Ÿè½½å‡è¡¡å™¨çš„æƒ…å†µä¸‹ å°†getRemoteAddr()æ›¿æ¢ä¸º X-Forwarded-For ä¸­çš„IP RequestDumperFilterï¼šä»¥æ—¥å¿—å½¢å¼è¾“å‡ºè¯·æ±‚å’Œå“åº”å¯¹è±¡ ä¸»è¦ç”¨äºè°ƒè¯• SetCharacterEncodingFilterï¼šè®¾ç½®è¯·æ±‚ç¼–ç  Tomcat ç®¡ç† /host-manager/html é›†ç¾¤ Tomcat æœ¬èº«å°±ä¸é€‚åˆé…ç½®é›†ç¾¤ ä¸€ç§é€šç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ æ¥å…¥å±‚ä¸º Nginx Nginx å¯¹åç«¯çš„Tomcatè¿›è¡Œè´Ÿè½½å‡è¡¡ Tomcatä¸Šçš„Webåº”ç”¨æœ€å¥½æ˜¯è®¾è®¡æˆæ— çŠ¶æ€çš„ å¦‚æœä»ç„¶éœ€è¦ä¿æŒä¼šè¯ æœ€å¥½ä½¿ç”¨ä¸€å°ç‹¬ç«‹çš„æœåŠ¡å™¨æ¥å­˜å‚¨ä¼šè¯ æ¯”å¦‚ Redis è€Œä¸è¦ä½¿ç”¨Tomcatçš„ä¼šè¯åŒæ­¥åŠŸèƒ½ å®‰å…¨ å®‰è£…éƒ¨ç½²ï¼šä¸‹è½½å®‰å…¨ ç§»é™¤è‡ªå¸¦çš„å‡ ä¸ªWebåº”ç”¨ server.xml: åˆ é™¤ä¸å¿…è¦çš„è¿æ¥å™¨ åˆ é™¤UserDatabase ä¿®æ”¹å…³é”®é…ç½®ï¼š8005ç®¡ç†ç«¯å£ é¿å…æ¶æ„webåº”ç”¨çš„è‡ªåŠ¨å¯åŠ¨ï¼šautoDeploy å…è®¸æœ‰é™çš„å®¢æˆ·ç«¯è®¿é—® é¿å…å°†å¼‚å¸¸å †æ ˆæ‰“å°åˆ°å®¢æˆ·ç«¯ listingä¼šå¯¼è‡´ç›®å½•æ³„æ¼ä»¥åŠDoSæ”»å‡» åº”ç”¨å®‰å…¨ ä¼ è¾“å®‰å…¨(SSL) JAVAå®‰å…¨ç­–ç•¥ ä¼˜åŒ– JVM ä¼˜åŒ– Tomcat é…ç½®ä¼˜åŒ– server.xml: é“¾æ¥å™¨maxConnections å±æ€§ï¼šè¶…è¿‡è¯¥å±æ€§çš„è¿æ¥ä¼šè¢«é˜»å¡ tcpNoDelayï¼šç¦æ­¢TCPç¼“å­˜å¹¶å‘é€ maxKeepAliveRequest socketBuffer enableLookups ç½‘ç»œä¼ è¾“ä¼˜åŒ–ï¼š é™æ€æ–‡ä»¶å‹ç¼© é«˜æ€§èƒ½é“¾æ¥å™¨(NIO NIO2) ç¦ç”¨è‡ªåŠ¨éƒ¨ç½² JSPé¡µé¢é…ç½®(web.xml): development è®¾ç½®ä¸ºfalse ä¸è‡ªåŠ¨æ£€æµ‹JSPé¡µé¢å˜åŠ¨ ... ç»§æ‰¿ web æœåŠ¡å™¨ï¼š åŠ¨é™åˆ†ç¦» è´Ÿè½½å‡è¡¡ åº”ç”¨ä¼˜åŒ– å‡å°‘é€šä¿¡æ¬¡æ•° å‡å°‘é€šä¿¡æ•°æ®æµ æ¨è¿Ÿä¼šè¯åˆ›å»º ä¸åœ¨ä¼šè¯å­˜å‚¨å¤§å¯¹è±¡ åˆç†å®šä¹‰å¯¹è±¡ä½œç”¨åŸŸ ä½¿ç”¨è¿æ¥æ± æé«˜æ€§èƒ½ ä½¿ç”¨ç¼“å­˜æé«˜æ€§èƒ½ æœ€å°åŒ–æ—¥å¿— é™„åŠ åŠŸèƒ½ åµŒå…¥å¼å¯åŠ¨ websocket MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-05 02:16:46 "},"ä¸­é—´ä»¶/webä¸­é—´ä»¶/Nginx.html":{"url":"ä¸­é—´ä»¶/webä¸­é—´ä»¶/Nginx.html","title":"Nginx","keywords":"","body":"Nginx Nginx (\"engine x\") æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œ åå‘ä»£ç† æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª IMAP/POP3/SMTP ä»£ç†æœåŠ¡å™¨ vs apache é‡é‡çº§ ä¸æ”¯æŒé«˜å¹¶å‘ æœ€æ ¸å¿ƒçš„åŒºåˆ«åœ¨äºapacheæ˜¯åŒæ­¥å¤šè¿›ç¨‹æ¨¡å‹ï¼Œä¸€ä¸ªè¿æ¥å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ nginxæ˜¯å¼‚æ­¥çš„ï¼Œå¤šä¸ªè¿æ¥ï¼ˆä¸‡çº§åˆ«ï¼‰å¯ä»¥å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ ä¸»è¦åŠŸèƒ½ httpæœåŠ¡å™¨ åå‘ä»£ç† è´Ÿè½½å‡è¡¡ åŠ¨æ€è·¯ç”± è¯·æ±‚è¿‡æ»¤ æ‰‹åŠ¨ç¼–è¯‘nginx ä¾èµ–é¡¹ï¼ˆUbuntuï¼‰ï¼šlibpcre3 libpcre3-dev zlib1g-dev openssl libssl-dev ./configure make make install /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx -s stop # åœæ­¢ /usr/local/nginx/sbin/nginx -s quit # ä¼˜é›…é€€å‡º é…ç½® nginxç›®å½•ç»“æ„ |---sbin | |---nginx |---conf | |---koi-win | |---koi-utf | |---win-utf | |---mime.types | |---mime.types.default | |---fastcgi_params | |---fastcgi_params.default | |---fastcgi.conf | |---fastcgi.conf.default | |---uwsgi_params | |---uwsgi_params.default | |---scgi_params | |---scgi_params.default | |---nginx.conf | |---nginx.conf.default |---logs | |---error.log | |---access.log | |---nginx.pid |---html | |---50x.html | |---index.html |---client_body_temp |---proxy_temp |---fastcgi_temp |---uwsgi_temp |---scgi_temp è¿›ç¨‹å…³ç³» workerè¿›ç¨‹ï¼šå¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œworkerè¿›ç¨‹å¯ä»¥åŒæ—¶å¤„ç†çš„è¯·æ±‚æ•°åªå—é™äºå†…å­˜å¤§å°ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºCPUæ ¸å¿ƒæ•° masterè¿›ç¨‹ï¼šç®¡ç†wrokerè¿›ç¨‹ é€šç”¨è¯­æ³• å—é…ç½® http { key value1 value2; # æ³¨é‡Š server {...} } å½“å†…å¤–å±‚å—ä¸­çš„é…ç½®å‘ç”Ÿå†²çªæ—¶ï¼Œç©¶ç«Ÿæ˜¯ä»¥å†…å±‚å—è¿˜æ˜¯å¤–å±‚å—çš„é…ç½®ä¸ºå‡†ï¼ŒåŒ…æ‹¬é…ç½®å€¼æœ‰å‡ ä¸ªï¼Œéƒ½å–å†³äºè§£æè¿™ä¸ªé…ç½®é¡¹çš„æ¨¡å—ã€‚ å¦‚æœé…ç½®é¡¹å€¼ä¸­åŒ…æ‹¬è¯­æ³•ç¬¦å·ï¼Œæ¯”å¦‚ç©ºæ ¼ç¬¦ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·æ‹¬ä½é…ç½®é¡¹å€¼ é…ç½®é¡¹å•ä½ ç©ºé—´å•ä½ï¼šk m æ—¶é—´å•ä½ï¼šms s h d... ä½¿ç”¨å˜é‡ log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' åªæœ‰å°‘æ•°æ¨¡å—æ‰æ”¯æŒå˜é‡ åŸºæœ¬é…ç½® è°ƒè¯•ä¸å®šä½é—®é¢˜ daemon on|off; # æ˜¯å¦ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡ŒNginx é»˜è®¤ä¸ºon ä¸€èˆ¬åœ¨è°ƒè¯•æ—¶å…³é—­ master_process on|off; # æ˜¯å¦ä»¥master/workeræ–¹å¼å·¥ä½œ é»˜è®¤ä¸ºon error_log pathfile level; # è®¾ç½®æ—¥å¿—è¾“å‡ºçš„çº§åˆ«åŠä½ç½®ä½ç½® é»˜è®¤ä¸ºlogs/error.log error events { debug_connection 10.224.66.14; # ä»…ä»…æ¥è‡ªè¯¥IPåœ°å€çš„è¯·æ±‚æ‰ä¼šè¾“å‡ºdebugçº§åˆ«çš„æ—¥å¿— } worker_rlimit_core size; # é™åˆ¶coredumpæ ¸å¿ƒè½¬å‚¨æ–‡ä»¶çš„å¤§å° working_directory path; # æŒ‡å®šcoredumpæ–‡ä»¶ç”Ÿæˆç›®å½• è¿è¡Œé…ç½® env TESTPATH=/tmp/; # è®¾ç½®æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡ # åˆ‡å…¥å…¶ä»–é…ç½®æ–‡ä»¶ å¯ä»¥ä½¿å•ä¸ªé…ç½®æ–‡ä»¶æˆ–è€…æ˜¯é€šé…ç¬¦ include mime.types; include vhost/*.conf; pid path/file; # è®¾ç½®pidæ–‡ä»¶è·¯å¾„ é»˜è®¤ä¸ºlogs/nginx.pid user username[groupname]; # è®¾ç½®workerè¿›ç¨‹è¿è¡Œçš„ç”¨æˆ·åŠç”¨æˆ·ç»„ é»˜è®¤ä¸ºnobody worker_rlimit_nofile limit; # è®¾ç½®ä¸€ä¸ªworkerè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶å¥æŸ„æ•° ä¼˜åŒ–æ€§èƒ½é…ç½® worker_processes 6; # å·¥ä½œçº¿ç¨‹æ•°ï¼Œå»ºè®®è®¾ç½®ä¸ºCPUæ ¸æ•° worker_connections 10240; # æ¯ä¸ªå·¥ä½œçº¿ç¨‹æœ€å¤§æ”¯æŒè¿æ¥ worker_cpu_affinity cpumask[cpumask...]; # ç»‘å®šworkerè¿›ç¨‹åˆ°æŒ‡å®šçš„CPUå†…æ ¸ tcp_nopush; # åœ¨linux/Unixç³»ç»Ÿä¸­ä¼˜åŒ–tcpæ•°æ®ä¼ è¾“ï¼Œä»…åœ¨sendfileå¼€å¯æ—¶æœ‰æ•ˆ sendfile on; # å¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼,ç›´æ¥ç”±å†…æ ¸è¯»å–æ–‡ä»¶å‘é€ç»™ç½‘å¡ ssl_engine device; # SSLç¡¬ä»¶åŠ é€Ÿ timer_resolution t; # ç³»ç»Ÿè°ƒç”¨gettimeofdayçš„æ‰§è¡Œé¢‘ç‡ worker_priority nice; # workerè¿›ç¨‹ä¼˜å…ˆçº§è®¾ç½® keepalive_timeout 120; # é•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ gzip on; # å¼€å¯gzipå‹ç¼©è¾“å‡º äº‹ä»¶ç±» accept_mutex[on|off]; # æ˜¯å¦æ‰“å¼€accepté”,ccept_mutexè¿™æŠŠé”å¯ä»¥è®©å¤šä¸ªworkerè¿›ç¨‹è½®æµåœ°ã€åºåˆ—åŒ–åœ°ä¸æ–°çš„å®¢æˆ·ç«¯å»ºç«‹TCPè¿æ¥,å½“æŸä¸ªworkerçš„è¿æ¥æ•°å¾ˆå¤šæ—¶ï¼Œæ–°åˆ°æ¥çš„è¿æ¥ä¸è¯¥wrokerè¿æ¥çš„å¯èƒ½æ€§å°±ä¼šå‡å° lock_file path/file; # lockæ–‡ä»¶è·¯å¾„ é»˜è®¤åœ¨logs/nginx.lock è‹¥ç”±äºåº•å±‚ä¸æ”¯æŒåŸå­é” åˆ™nginxæ‰ä¼šä½¿ç”¨è¯¥æ–‡ä»¶å®ç°accepté” accept_mutex_delay Nms; # ä½¿ç”¨accepté”ååˆ°çœŸæ­£å»ºç«‹è¿æ¥ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ multi_accept[on|off]; # é»˜è®¤ä¸ºoff è‹¥å¼€å¯å½“äº‹ä»¶æ¨¡å‹é€šçŸ¥æœ‰æ–°è¿æ¥æ—¶ï¼Œå°½å¯èƒ½åœ°å¯¹æœ¬æ¬¡è°ƒåº¦ä¸­å®¢æˆ·ç«¯å‘èµ·çš„æ‰€æœ‰TCPè¯·æ±‚éƒ½å»ºç«‹è¿æ¥ use[kqueue|rtsig|epoll|/dev/poll|select|poll|eventport]; # é€‰æ‹©äº‹ä»¶æ¨¡å‹ nginxä¼šè‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„æ¨¡å‹ autoindex on;å¼€å¯ç›®å½•åˆ—è¡¨è®¿é—®ï¼Œåˆé€‚ä¸‹è½½æœåŠ¡å™¨ï¼Œé»˜è®¤å…³é—­ã€‚ WebæœåŠ¡å™¨é…ç½® è™šæ‹Ÿä¸»æœº æ¯ä¸ªserverå—å°±æ˜¯ä¸€ä¸ªè™šæ‹Ÿä¸»æœºï¼Œå®ƒåªå¤„ç†ä¸ä¹‹ç›¸å¯¹åº”çš„ä¸»æœºåŸŸåè¯·æ±‚ åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœº server { listen 80; listen 127.0.0.1:8000; listen 127.0.0.1; é»˜è®¤ä¸º80ç«¯å£ listen [::]:8000; ipv6 ... } åŸºäºä¸»æœºåçš„è™šæ‹Ÿä¸»æœº å¤„ç†ä¸€ä¸ªHTTPè¯·æ±‚æ—¶ï¼ŒNginxä¼šå–å‡ºheaderå¤´ä¸­çš„Hostï¼Œä¸æ¯ä¸ªserverä¸­çš„server_nameè¿›è¡ŒåŒ¹é…ï¼Œä»¥æ­¤å†³å®šåˆ°åº•ç”±å“ªä¸€ä¸ªserverå—æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ server { listen 80; server_name www.ismy.wang; server_names_hash_bucket_size; # Nginxä½¿ç”¨æ•£åˆ—è¡¨æ¥å­˜å‚¨server nameã€‚server_names_hash_bucket_sizeè®¾ç½®äº†æ¯ä¸ªæ•£åˆ—æ¡¶å ç”¨çš„å†…å­˜å¤§å° server_names_hash_max_size; # server_names_hash_max_sizeè¶Šå¤§ï¼Œæ¶ˆè€—çš„å†…å­˜å°±è¶Šå¤šï¼Œä½†æ•£åˆ—keyçš„å†²çªç‡åˆ™ä¼šé™ä½ï¼Œæ£€ç´¢é€Ÿåº¦ä¹Ÿæ›´å¿« server_name_in_redirect on|off; # åœ¨ä½¿ç”¨onæ‰“å¼€æ—¶ï¼Œè¡¨ç¤ºåœ¨é‡å®šå‘è¯·æ±‚æ—¶ä¼šä½¿ç”¨server_nameé‡Œé…ç½®çš„ç¬¬ä¸€ä¸ªä¸»æœºåä»£æ›¿åŸå…ˆè¯·æ±‚ä¸­çš„Hostå¤´éƒ¨ ... } åŒ¹é…ä¼˜å…ˆçº§ï¼šwww.baidu.com -> *.baidu.com -> baidu.* -> ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„ä¸»æœºå locationè¯­æ³• å°è¯•æ ¹æ®ç”¨æˆ·è¯·æ±‚ä¸­çš„URIæ¥åŒ¹é…ä¸Šé¢çš„/uriè¡¨è¾¾å¼ =å¼€å¤´è¡¨ç¤ºç²¾ç¡®åŒ¹é… ^~ images å¼€å¤´è¡¨ç¤ºuriä»¥æŸä¸ªimageså­—ç¬¦ä¸²å¼€å¤´ ~ å¼€å¤´è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„åŒ¹é… ~* å¼€å¤´è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é… / é€šç”¨åŒ¹é…, å¦‚æœæ²¡æœ‰å…¶å®ƒåŒ¹é…,ä»»ä½•è¯·æ±‚éƒ½ä¼šåŒ¹é…åˆ° â€œæ™®é€šlocation â€ä¸â€œè¡¨è¾¾å¼ location â€ä¹‹é—´çš„åŒ¹é…é¡ºåºæ˜¯: å…ˆåŒ¹é…æ™®é€š location ï¼Œå†â€œè€ƒè™‘â€åŒ¹é…è¡¨è¾¾å¼ location ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ location ~* \\.(gif|jpg)$ { # åŒ¹é….gif .jpgç»“å°¾çš„è¯·æ±‚ } ä¸ºäº†è¡¨ç¤ºå¦‚æœéƒ½ä¸åŒ¹é…ï¼Œåˆ™åˆ°è¿™é‡Œ å¯ä»¥åœ¨æœ€åä¸€ä¸ªlocationä¸­ä½¿ç”¨/ä½œä¸ºå‚æ•°ï¼Œå®ƒä¼šåŒ¹é…æ‰€æœ‰çš„HTTPè¯·æ±‚ï¼Œè¿™æ ·å°±å¯ä»¥è¡¨ç¤ºå¦‚æœä¸èƒ½åŒ¹é…å‰é¢çš„æ‰€æœ‰locationï¼Œåˆ™ç”±â€œ/â€è¿™ä¸ªlocationå¤„ç† è®¿é—®çŠ¶æ€ç›‘æ§ï¼š location /basic_status { stub_status on; } æ–‡ä»¶è·¯å¾„ location / { root usr/local; # è‹¥è®¿é—®/index.html nginxä¼šè¯»å–usr/local/index.htmlæ–‡ä»¶è¿”å› index index.html; # é¦–é¡µé…ç½® error_page 404 404.html; # é”™è¯¯ç é‡å®šå‘ error_page 500 @fallback; # é‡å®šå‘åˆ°location recursive_error_pages[on|off]; # æ˜¯å¦å…è®¸é€’å½’ä½¿ç”¨error_page try_files path1[path2]uri; # å°è¯•æŒ‰é¡ºåºæ ¹æ®è·¯å¾„åˆ—è¡¨è¯»å– å¦‚æœè¯»å–æˆåŠŸå°±è¿”å› å¦åˆ™ä¾æ¬¡å°è¯• } location @fallback { proxy_pass http://backend } å¦å¤–ä¸€ä¸ªé…ç½®é¡¹æ˜¯aliasï¼Œ/conf/nginx.confè¯·æ±‚å°†æ ¹æ®alias pathæ˜ å°„ä¸ºpath/nginx.conf å†…å­˜åŠç£ç›˜èµ„æºåˆ†é… client_body_in_file_only on|clean|off; # HTTPåŒ…ä½“åªå­˜å‚¨åˆ°ç£ç›˜æ–‡ä»¶ä¸­ ä¸€èˆ¬ç”¨äºè°ƒè¯• client_body_in_single_buffer on|off; # HTTPåŒ…ä½“å°½é‡å†™å…¥åˆ°ä¸€ä¸ªå†…å­˜bufferä¸­ client_header_buffer_size size; # å­˜å‚¨HTTPå¤´éƒ¨çš„å†…å­˜bufferå¤§å° é»˜è®¤ä¸º1k large_client_header_buffers number size; # å­˜å‚¨è¶…å¤§HTTPå¤´éƒ¨çš„å†…å­˜bufferå¤§å° é»˜è®¤48k client_body_buffer_size size; # å­˜å‚¨HTTPåŒ…ä½“çš„å†…å­˜bufferå¤§å° HTTPåŒ…ä½“ä¼šå…ˆæ¥æ”¶åˆ°æŒ‡å®šçš„è¿™å—ç¼“å­˜ä¸­ï¼Œä¹‹åæ‰å†³å®šæ˜¯å¦å†™å…¥ç£ç›˜ client_body_temp_path dir-path[level1[level2[level3]]] # å®šä¹‰HTTPåŒ…ä½“å­˜æ”¾çš„ä¸´æ—¶ç›®å½• é˜²æ­¢ç›®å½•æ–‡ä»¶è¿‡å¤šå½±å“æ€§èƒ½ åè¾¹çš„levelå¯ä»¥æŒ‡å®šç»§ç»­åˆ›å»ºå­ç›®å½•æ¥å­˜æ”¾ connection_pool_size; # å¯¹äºæ¯ä¸ªå»ºç«‹æˆåŠŸçš„TCPè¿æ¥é¢„å…ˆåˆ†é…çš„å†…å­˜æ± å¤§å° request_pool_size; # å¤„ç†HTTPè¯·æ±‚æ—¶ä¸ºè¯·æ±‚åˆ†é…çš„å†…å­˜æ± å¤§å° ç½‘ç»œè¿æ¥è®¾ç½® MIMEç±»å‹è®¾ç½® å¯¹å®¢æˆ·ç«¯è¯·æ±‚é™åˆ¶ æ–‡ä»¶æ“ä½œä¼˜åŒ– å®¢æˆ·ç«¯è¯·æ±‚å¤„ç† åå‘ä»£ç† æ­£å‘ä»£ç†ï¼šé€šè¿‡å®¢æˆ·æœºçš„é…ç½®ï¼Œå®ç°è®©ä¸€å°æœåŠ¡å™¨ä»£ç†å®¢æˆ·æœºï¼Œå®¢æˆ·çš„æ‰€æœ‰è¯·æ±‚éƒ½äº¤ç»™ä»£ç†æœåŠ¡å™¨å¤„ç†ã€‚æ­£å‘ä»£ç†éšè—çœŸå®å®¢æˆ·ç«¯ åå‘ä»£ç†ï¼šç”¨ä¸€å°æœåŠ¡å™¨ï¼Œä»£ç†çœŸå®æœåŠ¡å™¨ï¼Œç”¨æˆ·è®¿é—®æ—¶ï¼Œä¸å†æ˜¯è®¿é—®çœŸå®æœåŠ¡å™¨ï¼Œè€Œæ˜¯ä»£ç†æœåŠ¡å™¨ã€‚åå‘ä»£ç†éšè—çœŸå®æœåŠ¡ç«¯ åå‘ä»£ç†éšè—çœŸå®å†…éƒ¨ipåœ°å€ï¼Œè¯·æ±‚å…ˆè®¿é—®nginxä»£ç†æœåŠ¡å™¨,nginxæœåŠ¡å™¨å†è½¬å‘åˆ°çœŸå®æœåŠ¡å™¨ä¸­ Nginxå¯¹äºç”¨æˆ·å‘é€æ¥çš„è¯·æ±‚ä¼šå®Œæ•´ç¼“å­˜åˆ°nginxå†è½¬å‘åˆ°ä¸Šæ¸¸æœåŠ¡å™¨ï¼Œä½†å¯¹ä¸Šæ¸¸æœåŠ¡å™¨çš„å“åº”ï¼Œåˆ™ä¼šè¾¹æ¥æ”¶è¾¹è½¬å‘ç»™å®¢æˆ·ç«¯ã€‚è¿™æ ·çš„è®¾è®¡ç”±äºå®¢æˆ·ç«¯çš„è¯·æ±‚èµ°å…¬ç½‘ï¼Œè´¨é‡å¯èƒ½ä¼šè¾ƒå·®ï¼Œä½†ä¸Šæ¸¸æœåŠ¡å™¨åˆ°nginxåˆ™æ˜¯å†…ç½‘ï¼Œè¿™å¯ä»¥æœ‰æ•ˆé™ä½ä¸Šæ¸¸æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œä½†ä¹Ÿå¢åŠ äº†å¤„ç†è¯·æ±‚çš„æ—¶é•¿ã€‚ è´Ÿè½½å‡è¡¡åŸºæœ¬é…ç½® upstream upstream so { ip_hash; # ä¸å¯ä¸weightåŒæ—¶ä½¿ç”¨ æ¥è‡ªæŸä¸€ä¸ªç”¨æˆ·çš„è¯·æ±‚å§‹ç»ˆè½åˆ°å›ºå®šçš„ä¸€å°ä¸Šæ¸¸æœåŠ¡å™¨ä¸­ server www.baidu.com:80 weight=5; # è½¬å‘æƒé‡ä¸º5 server www.163.com:80 max_fails=3 fail_timeout=30s; # è½¬å‘æ¬¡æ•°è¶…è¿‡max_fails æ¬¡ï¼Œåˆ™åœ¨fail_timeoutæ—¶é—´å†…è®¤ä¸ºè¿™ä¸ªæœåŠ¡å™¨ä¸å¯ç”¨ } server { listen 8080; location / { proxy_pass http://so/; } } upstreamæ”¯æŒçš„ç›¸å…³æ—¥å¿—å˜é‡ å˜é‡ æ„ä¹‰ $upstream_addr å¤„ç†è¯·æ±‚çš„ä¸Šæ¸¸æœåŠ¡å™¨åœ°å€ $upstream_cache_status è¡¨ç¤ºæ˜¯å¦å‘½ä¸­ç¼“å­˜ï¼Œå–å€¼èŒƒå›´: MISSã€ EXPIREDã€UPDATINGã€STALEã€HIT $upstream_status ä¸Šæ¸¸æœåŠ¡å™¨è¿”å›çš„å“åº”ä¸­çš„HTTPå“åº”ç  $upstream_response_time ä¸Šæ¸¸æœåŠ¡å™¨çš„å“åº”æ—¶é—´ï¼Œç²¾åº¦åˆ°æ¯«ç§’ $upstreamhttp$HEADER HTTPçš„å¤´éƒ¨ï¼Œå¦‚upstream http_ host nginxåå‘ä»£ç†é…ç½® http{ ... server { listen 80; server_name hostname; # é»˜è®¤æƒ…å†µä¸‹åå‘ä»£ç†æ˜¯ä¸ä¼šè½¬å‘è¯·æ±‚ä¸­çš„Hostå¤´éƒ¨çš„ éœ€è¦æ‰‹åŠ¨é…ç½® proxy_set_header X-Forwarded-Host $host; proxy_set_header X-Forwarded-Server $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; location / { proxy_pass http://127.0.0.1:8080; proxy_connect_timeout 600; proxy_read_timeout 600; } } } proxy_method POST; # é…ç½®è½¬å‘æ—¶çš„æ–¹æ³•å proxy_hide_header the_header; #æŒ‡å®šå“ªäº›HTTPå¤´éƒ¨å­—æ®µä¸èƒ½è¢«è½¬å‘ proxy_pass_header; # ä¼šå°†åŸæ¥ç¦æ­¢è½¬å‘çš„headerè®¾ç½®ä¸ºå…è®¸è½¬å‘ proxy_pass_request_body on|off; # æ˜¯å¦å‘ä¸Šæ¸¸æœåŠ¡å™¨å‘é€HTTPåŒ…ä½“éƒ¨åˆ† proxy_pass_request_headers; # ç¡®å®šæ˜¯å¦è½¬å‘HTTPå¤´éƒ¨ proxy_redirect[default|off|redirect replacement]; # é‡è®¾HTTPå¤´éƒ¨çš„locationæˆ–refreshå­—æ®µ proxy_next_upstream[error|timeout|invalid_header|http_500|http_502|http_503|http_504|http_404|off]; # æ»¡è¶³æŸäº›æƒ…å†µä¸‹ï¼Œå…è®¸ä¸€å°ä¸Šæ¸¸æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯æ—¶æ¢ä¸€å°ä¸Šæ¸¸æœåŠ¡å™¨æ¥å¤„ç† è´Ÿè½½å‡è¡¡ æ‰€æœ‰è¯·æ±‚å…ˆåˆ°è´Ÿè½½å‡è¡¡å™¨ï¼Œåœ¨ç”±è´Ÿè½½å‡è¡¡å™¨é‡‡ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆè½®è®­ã€IPç»‘å®šã€æƒé‡ï¼‰åˆ†å‘åˆ°ä¸åŒå®é™…çš„æœåŠ¡å™¨ä¸­ å››å±‚è´Ÿè½½å‡è¡¡ï¼šåŸºäºIP+ç«¯å£çš„è´Ÿè½½å‡è¡¡ï¼ˆä¼ è¾“å±‚ï¼‰ï¼Œæ­¤ç§è´Ÿè½½å‡è¡¡ä¸ç†è§£åº”ç”¨åè®®ï¼ˆå¦‚HTTP/FTP/MySQLç­‰ç­‰ï¼‰ã€‚ä¾‹å­ï¼šLVSï¼ˆè½¯è´Ÿè½½ï¼‰ï¼ŒF5ç¡¬ä»¶è´Ÿè½½ ä¸ƒå±‚è´Ÿè½½å‡è¡¡ï¼šåŸºäºåº”ç”¨å±‚çš„ä¿¡æ¯å†³å®šå¦‚ä½•è½¬å‘ï¼ˆåº”ç”¨å±‚ï¼‰ å¸¦æ¥çš„é—®é¢˜ åˆ†å¸ƒå¼Sessionä¸€è‡´æ€§é—®é¢˜ åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡è°ƒåº¦å¹‚ç­‰æ€§é—®é¢˜ åˆ†å¸ƒå¼ç”Ÿæˆå…¨å±€ID è½®è¯¢ç®—æ³• è½®è¯¢ï¼ˆé»˜è®¤ï¼‰ æ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡ï¼Œå¦‚æœåç«¯æŸå°æœåŠ¡å™¨æ­»æœºï¼Œè‡ªåŠ¨å‰”é™¤æ•…éšœç³»ç»Ÿï¼Œä½¿ç”¨æˆ·è®¿é—®ä¸å—å½±å“ã€‚ weightï¼ˆè½®è¯¢æƒå€¼ï¼‰ weightçš„å€¼è¶Šå¤§åˆ†é…åˆ°çš„è®¿é—®æ¦‚ç‡è¶Šé«˜ï¼Œä¸»è¦ç”¨äºåç«¯æ¯å°æœåŠ¡å™¨æ€§èƒ½ä¸å‡è¡¡çš„æƒ…å†µä¸‹ã€‚æˆ–è€…ä»…ä»…ä¸ºåœ¨ä¸»ä»çš„æƒ…å†µä¸‹è®¾ç½®ä¸åŒçš„æƒå€¼ï¼Œè¾¾åˆ°åˆç†æœ‰æ•ˆçš„åœ°åˆ©ç”¨ä¸»æœºèµ„æºã€‚ # è®¾ç½®æƒé‡ server www.baidu.com:80 weight=2; # è®¾ç½®æœ€å¤§è¿æ¥æ•° server 127.0.0.1:8050 weight=5 max_conns=800; server www.163.com:80 weight=8; max_fails:å¤±è´¥å¤šå°‘æ¬¡ è®¤ä¸ºä¸»æœºå·²æŒ‚æ‰åˆ™ï¼Œè¸¢å‡º max_fails=3 fail_timeout=30sä»£è¡¨åœ¨30ç§’å†…è¯·æ±‚æŸä¸€åº”ç”¨å¤±è´¥3æ¬¡ï¼Œè®¤ä¸ºè¯¥åº”ç”¨å®•æœºï¼Œåç­‰å¾…30ç§’ï¼Œè¿™æœŸé—´å†…ä¸ä¼šå†æŠŠæ–°è¯·æ±‚å‘é€åˆ°å®•æœºåº”ç”¨ ip_hash æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®IPçš„å“ˆå¸Œç»“æœåˆ†é…ï¼Œä½¿æ¥è‡ªåŒä¸€ä¸ªIPçš„è®¿å®¢å›ºå®šè®¿é—®ä¸€å°åç«¯æœåŠ¡å™¨ï¼Œå¹¶ä¸”å¯ä»¥æœ‰æ•ˆè§£å†³åŠ¨æ€ç½‘é¡µå­˜åœ¨çš„sessionå…±äº«é—®é¢˜ã€‚ä¿—ç§°IPç»‘å®šã€‚ server { ... ip_hash; } fairï¼ˆç¬¬ä¸‰æ–¹ï¼‰ æ¯” weightã€ip_hashæ›´åŠ æ™ºèƒ½çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œfairç®—æ³•å¯ä»¥æ ¹æ®é¡µé¢å¤§å°å’ŒåŠ è½½æ—¶é—´é•¿çŸ­æ™ºèƒ½åœ°è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´ æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é… url_hash(ç¬¬ä¸‰æ–¹) æŒ‰è®¿é—®çš„URLçš„å“ˆå¸Œç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸ªURLå®šå‘åˆ°ä¸€å°åç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜åç«¯ç¼“å­˜æœåŠ¡å™¨çš„æ•ˆç‡ åŠ¨æ€è´Ÿè½½å‡è¡¡ Consul Consulæ˜¯ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æœåŠ¡æ³¨å†Œä¸å‘ç°ç³»ç»Ÿï¼Œé€šè¿‡HTTP APIå¯ä»¥ä½¿å¾—æœåŠ¡æ³¨å†Œã€å‘ç°å®ç°èµ·æ¥éå¸¸ç®€å• åŒæœºä¸»ä»çƒ­å¤‡ LVS å¯ä»¥å®ç°ä¼ è¾“å±‚å››å±‚è´Ÿè½½å‡è¡¡ã€‚LVSæ˜¯Linux Virtual Serverçš„ç¼©å†™ï¼Œæ„æ€æ˜¯Linuxè™šæ‹ŸæœåŠ¡å™¨ã€‚ç›®å‰æœ‰ä¸‰ç§IPè´Ÿè½½å‡è¡¡æŠ€æœ¯ï¼ˆVS/NATã€VS/TUNå’ŒVS/DRï¼‰ï¼›å…«ç§è°ƒåº¦ç®—æ³•ï¼ˆrr,wrr,lc,wlc,lblc,lblcr,dh,shï¼‰ Keepalived Keepalivedæ˜¯åŸºäºvrrpåè®®çš„ä¸€æ¬¾é«˜å¯ç”¨è½¯ä»¶ã€‚Keepailivedæœ‰ä¸€å°ä¸»æœåŠ¡å™¨å’Œå¤šå°å¤‡ä»½æœåŠ¡å™¨ï¼Œåœ¨ä¸»æœåŠ¡å™¨å’Œå¤‡ä»½æœåŠ¡å™¨ä¸Šé¢éƒ¨ç½²ç›¸åŒçš„æœåŠ¡é…ç½®ï¼Œä½¿ç”¨ä¸€ä¸ªè™šæ‹ŸIPåœ°å€å¯¹å¤–æä¾›æœåŠ¡ï¼Œå½“ä¸»æœåŠ¡å™¨å‡ºç°æ•…éšœæ—¶ï¼Œè™šæ‹ŸIPåœ°å€ä¼šè‡ªåŠ¨æ¼‚ç§»åˆ°å¤‡ä»½æœåŠ¡å™¨ æ•…éšœè½¬ç§» å½“ä¸Šæ¸¸æœåŠ¡å™¨,ä¸€æ—¦å‡ºç°æ•…éšœæˆ–è€…æ˜¯æ²¡æœ‰åŠæ—¶å“åº”çš„è¯ï¼Œåº”è¯¥ç›´æ¥è½®è®­åˆ°ä¸‹ä¸€å°æœåŠ¡å™¨ï¼Œä¿è¯æœåŠ¡å™¨çš„é«˜å¯ç”¨ é…ç½®è¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶è¿›è¡Œæ•…éšœè½¬ç§» location / { proxy_pass http://so/; proxy_connect_timeout 1s; proxy_send_timeout 1s; proxy_read_timeout 1s; } åŠ¨é™åˆ†ç¦» åŠ¨é™åˆ†ç¦»å°†ç½‘ç«™é™æ€èµ„æºï¼ˆHTMLï¼ŒJavaScriptï¼ŒCSSï¼Œimgç­‰æ–‡ä»¶ï¼‰ä¸åå°åº”ç”¨åˆ†å¼€éƒ¨ç½²ï¼Œæé«˜ç”¨æˆ·è®¿é—®é™æ€èµ„æºçš„é€Ÿåº¦ï¼Œé™ä½å¯¹åå°åº”ç”¨è®¿é—®çš„é¢‘æ¬¡ã€‚è¿™é‡Œæˆ‘ä»¬å°†é™æ€èµ„æºæ”¾åˆ°nginxä¸­ï¼ŒåŠ¨æ€èµ„æºè½¬å‘åˆ°tomcatæœåŠ¡å™¨ä¸­ nginxå®ç°æ–¹å¼ é€šè¿‡å¯¹URLæˆ–è€…åŸŸåçš„åˆ¤æ–­ï¼Œè¿›è¡Œè½¬å‘ æµè§ˆå™¨ç¼“å­˜ å¯¹äºé™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šCSSã€å›¾ç‰‡ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨å®Œæˆ Last Modified å’Œ If Modified Since çš„æ¯”è¾ƒï¼Œå®Œæˆç¼“å­˜æˆ–è€…æ›´æ–° SSI æœåŠ¡ç«¯åµŒå…¥ ssiåŒ…å«ç±»ä¼¼äºjspé¡µé¢ä¸­çš„incluceæŒ‡ä»¤ï¼Œssiæ˜¯åœ¨webæœåŠ¡ç«¯å°†includeæŒ‡å®š çš„é¡µé¢åŒ…å«åœ¨ç½‘é¡µä¸­ï¼Œæ¸²æŸ“htmlç½‘é¡µå“ åº”ç»™å®¢æˆ·ç«¯ ã€‚nginxã€apacheç­‰å¤šæ•°webå®¹å™¨éƒ½æ”¯æŒSSIæŒ‡ä»¤ã€‚ é…ç½® server{ listen 80; server_name www.edu.com; ssi on; ssi_silent_errors on; ..... oprenresty æ•´åˆlua location /lua { default_type text/html; content_by_lua ' ngx.say(\"Hello, World!\") '; } å¤–éƒ¨æ–‡ä»¶ location /lua { default_type text/html; content_by_lua_file /hello.lua; MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-12 03:34:52 "},"ä¸­é—´ä»¶/å…¨æ–‡æ£€ç´¢/å…¨æ–‡æ£€ç´¢.html":{"url":"ä¸­é—´ä»¶/å…¨æ–‡æ£€ç´¢/å…¨æ–‡æ£€ç´¢.html","title":"å…¨æ–‡æ£€ç´¢","keywords":"","body":"å…¨æ–‡æ£€ç´¢ æ•°æ®åˆ†ç±» ç»“æ„åŒ–æ•°æ® éç»“æ„åŒ–æ•°æ® æ•°æ®æŸ¥è¯¢ ç»“æ„åŒ–æŸ¥è¯¢ éç»“æ„åŒ–æŸ¥è¯¢ é¡ºåºæ‰«ææ³• å…¨æ–‡æ£€ç´¢ åº”ç”¨åœºæ™¯ æ•°æ®é‡å¤§ æ•°æ®ç»“æ„ä¸å›ºå®š MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ä¸­é—´ä»¶/å…¨æ–‡æ£€ç´¢/Lucene.html":{"url":"ä¸­é—´ä»¶/å…¨æ–‡æ£€ç´¢/Lucene.html","title":"Lucene","keywords":"","body":"Luceneå®ç°å…¨æ–‡æ£€ç´¢çš„æµç¨‹ åˆ›å»ºç´¢å¼•åº“ // åˆ›å»ºdirectoryæŒ‡å®šç´¢å¼•å­˜æ”¾ä½ç½® Directory directory = FSDirectory.open(new File(\"./index\").toPath()); IndexWriter indexWriter = new IndexWriter(directory,new IndexWriterConfig()); File dir = new File(\"./res\"); File[] files = dir.listFiles(); assert files != null; // éå†æ–‡ä»¶ for (File file : files) { String fileName = file.getName(); String filePath = file.getPath(); String content = FileUtils.readFileToString(file, \"utf8\"); long fileSize = FileUtils.sizeOf(file); // æ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆæˆå‘˜ Field fieldName = new TextField(\"name\",fileName, Field.Store.YES); Field fieldPath = new TextField(\"path\",filePath,Field.Store.YES); Field fieldContent = new TextField(\"content\",content,Field.Store.YES); Field fieldSize = new TextField(\"size\", String.valueOf(fileSize),Field.Store.YES); // å°†æˆå‘˜æ·»åŠ åˆ°æ–‡æ¡£ä¸­ Document document = new Document(); document.add(fieldName); document.add(fieldPath); document.add(fieldContent); document.add(fieldSize); // å°†æ–‡æ¡£å†™å…¥ç´¢å¼•åº“ indexWriter.addDocument(document); } indexWriter.close(); æœç´¢ // åˆ›å»ºdirectoryæŒ‡å®šç´¢å¼•å­˜æ”¾ä½ç½® Directory directory = FSDirectory.open(new File(\"./index\").toPath()); IndexReader indexReader = DirectoryReader.open(directory); IndexSearcher indexSearcher = new IndexSearcher(indexReader); Query query = new TermQuery(new Term(\"content\",\"spring\")); TopDocs docs = indexSearcher.search(query, 10); System.out.println(\"æ€»è®°å½•æ•°:\"+docs.totalHits); ScoreDoc[] scoreDocs = docs.scoreDocs; for (ScoreDoc scoreDoc : scoreDocs) { int id = scoreDoc.doc; Document document = indexSearcher.doc(id); System.out.println(document.get(\"name\")); System.out.println(document.get(\"path\")); System.out.println(document.get(\"size\")); // System.out.println(document.get(\"content\")); System.out.println(\"--------------\"); } indexReader.close(); åˆ†æ Analyzer analyzer = new StandardAnalyzer(); TokenStream tokenStream = analyzer.tokenStream(\"\", \"Learn how to create a web page with Spring MVC.\"); CharTermAttribute charTermAttribute = tokenStream.addAttribute(CharTermAttribute.class); tokenStream.reset(); while (tokenStream.incrementToken()){ System.out.println(charTermAttribute.toString()); } ä½¿ç”¨åˆ«çš„åˆ†æå™¨ Analyzer analyzer = new IKAnalyzer(); ç»´æŠ¤ åˆ é™¤ Directory directory = FSDirectory.open(new File(\"./index\").toPath()); IndexWriter indexWriter = new IndexWriter(directory,new IndexWriterConfig()); //indexWriter.deleteAll(); indexWriter.deleteDocuments(new Term(\"content\",\"name\")); indexWriter.close(); æ›´æ–° indexWriter.updateDocument(new Term(\"content\",\"name\"),document); QueryParser MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-13 14:21:31 "},"ä¸­é—´ä»¶/å…¨æ–‡æ£€ç´¢/ElasticSearch.html":{"url":"ä¸­é—´ä»¶/å…¨æ–‡æ£€ç´¢/ElasticSearch.html","title":"ElasticSearch","keywords":"","body":"ElasticSearch ElasticSearchæ˜¯ä¸€ä¸ªåŸºäºLuceneçš„æœç´¢æœåŠ¡å™¨ã€‚å®ƒæä¾›äº†ä¸€ä¸ªåˆ†å¸ƒå¼å¤šç”¨æˆ·èƒ½åŠ›çš„å…¨æ–‡æœç´¢å¼•æ“ï¼ŒåŸºäºRESTful webæ¥å£ Near Realtime ä»å†™å…¥æ•°æ®åˆ°æ•°æ®å¯ä»¥è¢«æœç´¢åˆ°æœ‰ä¸€ä¸ªå°å»¶è¿Ÿï¼Œå¤§æ¦‚æ˜¯ 1s åŸºäº es æ‰§è¡Œæœç´¢å’Œåˆ†æå¯ä»¥è¾¾åˆ°ç§’çº§ ä¼˜åŠ¿ æ¨ªå‘å¯æ‰©å±• åˆ†ç‰‡æœºåˆ¶æä¾›æ›´å¥½çš„åˆ†å¸ƒæ€§ é«˜å¯ç”¨ å®‰è£… ä½¿ç”¨ docker docker run elasticsearch:7.3.1 docker network create somenetwork; docker run -d --name elasticsearch --net somenetwork -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" elasticsearch:7.3.1 9300ç«¯å£ï¼š ESèŠ‚ç‚¹ä¹‹é—´é€šè®¯ä½¿ç”¨ 9200ç«¯å£ï¼š ESèŠ‚ç‚¹ å’Œ å¤–éƒ¨ é€šè®¯ä½¿ç”¨ å›¾å½¢åŒ–ç®¡ç†ç•Œé¢ head æ¦‚å¿µ é›†ç¾¤(cluster) å¤šä¸ªèŠ‚ç‚¹ç»„æˆ èŠ‚ç‚¹(node) æœåŠ¡å™¨å®ä¾‹ ç´¢å¼•ï¼ˆindexï¼‰ Databases æ•°æ®åº“ â€‹ç±»å‹ï¼ˆtypeï¼‰ Table æ•°æ®è¡¨ â€‹æ–‡æ¡£ï¼ˆDocumentï¼‰ Row è¡Œ â€‹å­—æ®µï¼ˆFieldï¼‰ Columns åˆ— shard es å¯ä»¥å°†ä¸€ä¸ªç´¢å¼•ä¸­çš„æ•°æ®åˆ‡åˆ†ä¸ºå¤šä¸ª shardï¼Œåˆ†å¸ƒåœ¨å¤šå°æœåŠ¡å™¨ä¸Šå­˜å‚¨ replica ä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨éšæ—¶å¯èƒ½æ•…éšœæˆ–å®•æœºï¼Œæ­¤æ—¶ shard å¯èƒ½å°±ä¼šä¸¢å¤±ï¼Œå› æ­¤å¯ä»¥ä¸ºæ¯ä¸ª shard åˆ›å»ºå¤šä¸ªreplica å‰¯æœ¬ã€‚replica å¯ä»¥åœ¨ shard æ•…éšœæ—¶æä¾›å¤‡ç”¨æœåŠ¡ï¼Œæ‰€ä»¥åŒä¸€ç‰‡shardè·Ÿreplicaä¸èƒ½å­˜æ”¾åœ¨åŒä¸€èŠ‚ç‚¹ æ˜ å°„ mapping ç´¢å¼•ç»“æ„ å€’æ’ç´¢å¼•ï¼šæ ¹æ®è¯æ‰¾æ–‡ç«  DocId Doc 1 è°·æ­Œåœ°å›¾ä¹‹çˆ¶è·³æ§½ Facebook 2 è°·æ­Œåœ°å›¾ä¹‹çˆ¶åŠ ç›Ÿ Facebook 3 è°·æ­Œåœ°å›¾åˆ›å§‹äººæ‹‰æ–¯ç¦»å¼€è°·æ­ŒåŠ ç›Ÿ Facebook 4 è°·æ­Œåœ°å›¾ä¹‹çˆ¶è·³æ§½ Facebook ä¸ Wave é¡¹ç›®å–æ¶ˆæœ‰å…³ 5 è°·æ­Œåœ°å›¾ä¹‹çˆ¶æ‹‰æ–¯åŠ ç›Ÿç¤¾äº¤ç½‘ç«™ Facebook å¯¹è¿™äº›docè¿›è¡Œåˆ†è¯ä¹‹åï¼Œä»¥è¯ä¸ºä¸»é”®ï¼Œè®°å½•å“ªäº›docå‡ºç°äº†è¿™äº›è¯ WordId Word DocIds 1 è°·æ­Œ 1,2,3,4,5 2 åœ°å›¾ 1,2,3,4,5 3 ä¹‹çˆ¶ 1,2,4,5 4 è·³æ§½ 1,4 5 Facebook 1,2,3,4,5 6 åŠ ç›Ÿ 2,3,5 7 åˆ›å§‹äºº 3 8 æ‹‰æ–¯ 3,5 9 ç¦»å¼€ 3 10 ä¸ 4 .. .. .. æ­£æ’ç´¢å¼•ï¼šæ ¹æ®æ–‡ç« æ‰¾è¯ æ“ä½œ åˆ›å»ºç´¢å¼• PUT /blog { \"settings\": { \"number_of_shards\": 3, \"number_of_replicas\": 2 } } è·å–ç´¢å¼•åº“ä¿¡æ¯ GET /blog åˆ é™¤ç´¢å¼•åº“ DELETE /blog æ·»åŠ æ˜ å°„ PUT /ç´¢å¼•åº“å/_mapping/ç±»å‹åç§° { \"properties\": { \"å­—æ®µå\": { \"type\": \"ç±»å‹\", \"index\": true, \"store\": true, \"analyzer\": \"åˆ†è¯å™¨\" } } } æ•°æ®ç±»å‹ textï¼šè¯¥ç±»å‹è¢«ç”¨æ¥ç´¢å¼•é•¿æ–‡æœ¬ï¼Œåœ¨åˆ›å»ºç´¢å¼•å‰ä¼šå°†è¿™äº›æ–‡æœ¬è¿›è¡Œåˆ†è¯ï¼Œè½¬åŒ–ä¸ºè¯çš„ç»„åˆï¼Œå»ºç«‹ç´¢å¼•ï¼›å…è®¸esæ¥æ£€ç´¢è¿™äº›è¯ï¼Œtextç±»å‹ä¸èƒ½ç”¨æ¥æ’åºå’Œèšåˆã€‚ keywordï¼šè¯¥ç±»å‹ä¸éœ€è¦è¿›è¡Œåˆ†è¯ï¼Œå¯ä»¥è¢«ç”¨æ¥æ£€ç´¢è¿‡æ»¤ã€æ’åºå’Œèšåˆï¼Œkeywordç±»å‹è‡ªè¯»é‚£åªèƒ½ç”¨æœ¬èº«æ¥è¿›è¡Œæ£€ç´¢ï¼ˆä¸å¯ç”¨textåˆ†è¯åçš„æ¨¡ç³Šæ£€ç´¢ï¼‰ æ•°å€¼å‹ï¼šlongã€integerã€shortã€byteã€doubleã€float æ—¥æœŸå‹ï¼šdate å¸ƒå°”å‹ï¼šboolean äºŒè¿›åˆ¶å‹ï¼šbinary æŸ¥çœ‹æ˜ å°„å…³ç³» GET /ç´¢å¼•åº“å/_mapping æ›´æ–°ç´¢å¼• POST http://my-pc:9200/blog/{indexName} æ·»åŠ æ–‡æ¡£ POST /ç´¢å¼•åº“å/ç±»å‹å { \"key\":\"value\" } è‡ªå®šä¹‰id POST /ç´¢å¼•åº“å/ç±»å‹/idå€¼ {...} åˆ é™¤æ–‡æ¡£ DELETE http://my-pc:9200/blog/hello/1 ä¿®æ”¹æ–‡æ¡£ UPDATE http://my-pc:9200/blog/hello/1 æŸ¥è¯¢ åŸºæœ¬æŸ¥è¯¢ GET /ç´¢å¼•åº“å/_search { \"query\":{ \"æŸ¥è¯¢ç±»å‹\":{ \"æŸ¥è¯¢æ¡ä»¶\":\"æŸ¥è¯¢æ¡ä»¶å€¼\" } } } æ ¹æ®IDæŸ¥è¯¢ GET http://my-pc:9200/blog/hello/1 æ ¹æ®å­—æ®µæŸ¥è¯¢ Term Queryä¸ºç²¾ç¡®æŸ¥è¯¢ï¼Œåœ¨æœç´¢æ—¶ä¼šæ•´ä½“åŒ¹é…å…³é”®å­—ï¼Œä¸å†å°†å…³é”®å­—åˆ†è¯ã€‚ GET /shop/_search { \"_source\": [\"title\",\"price\"], \"query\": { \"term\": { \"price\": 2699 } } } queryStringæŸ¥è¯¢ { \"query\":{ \"query_string\":{ \"default_field\":\"content\", \"query\":\"å†…å®¹\" } } } è¿‡æ»¤ includesï¼šæ¥æŒ‡å®šæƒ³è¦æ˜¾ç¤ºçš„å­—æ®µ excludesï¼šæ¥æŒ‡å®šä¸æƒ³è¦æ˜¾ç¤ºçš„å­—æ®µ GET /shop/_search { \"_source\": { \"includes\":[\"title\",\"price\"] }, \"query\": { \"term\": { \"price\": 2699 } } } æ’åº GET /shop/_search { ... \"sort\": [ { \"price\": { \"order\": \"desc\" } } ] } æ¨¡ç³ŠæŸ¥è¯¢ GET /heima/_search { \"query\": { \"fuzzy\": { \"title\": { \"value\":\"appla\", \"fuzziness\":1 } } } } åˆ†è¯ å†…ç½®çš„åˆ†è¯å™¨ Standard Analyzer Simple Analyzer Whitespace Analyzer Stop Analyzer Keyword Analyzer Pattern Analyzer Language Analyzers Fingerprint Analyzer æµ‹è¯•åˆ†è¯ GET /_analyze { \"analyzer\": \"standard\", \"text\": \"ä¸­æ–‡æµ‹è¯•åˆ†è¯\" } ä¸­æ–‡åˆ†è¯å™¨ ä¸‹è½½ docker run --name elasticsearch --net somenetwork -v /root/plugin:/usr/share/elasticsearch/plugins -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" elasticsearch:7.3.1 GET http://my-pc:9200/_analyze { \"analyzer\": \"ik_max_word\", \"text\": \"ä¸­æ–‡æµ‹è¯•åˆ†è¯\" } ik çš„ä¸¤ç§æ¨¡å¼ï¼š maxï¼šä¼šå°†æ–‡æœ¬åšæœ€ç»†ç²’åº¦çš„æ‹†åˆ† ä¼šç©·å°½æ‰€æœ‰çš„å¯èƒ½ smartï¼šæœ€æœ€ç²—ç²’åº¦çš„åˆ’åˆ† èšåˆ æ¡¶ ESé›†ç¾¤ é‡‡ç”¨ESé›†ç¾¤ï¼Œå°†å•ä¸ªç´¢å¼•çš„åˆ†ç‰‡åˆ°å¤šä¸ªä¸åŒåˆ†å¸ƒå¼ç‰©ç†æœºå™¨ä¸Šå­˜å‚¨ï¼Œä»è€Œå¯ä»¥å®ç°é«˜å¯ç”¨ã€å®¹é”™æ€§ æ¶æ„ es é›†ç¾¤å¤šä¸ªèŠ‚ç‚¹ï¼Œä¼šè‡ªåŠ¨é€‰ä¸¾ä¸€ä¸ªèŠ‚ç‚¹ä¸º master èŠ‚ç‚¹ master èŠ‚ç‚¹å®•æœºäº†ï¼Œé‚£ä¹ˆä¼šé‡æ–°é€‰ä¸¾ä¸€ä¸ªèŠ‚ç‚¹ä¸º master èŠ‚ç‚¹ é masterèŠ‚ç‚¹å®•æœºäº†ï¼Œé‚£ä¹ˆä¼šç”± master èŠ‚ç‚¹ï¼Œè®©é‚£ä¸ªå®•æœºèŠ‚ç‚¹ä¸Šçš„ primary shard çš„èº«ä»½è½¬ç§»åˆ°å…¶ä»–æœºå™¨ä¸Šçš„ replica shard å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œå°†ç´¢å¼•åˆ†æˆä¸‰ä»½ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜æ”¾ä¸€ä»½primary shardï¼Œä¸¤ä»½replicaï¼Œè¿™æ ·å°±ç®—åªå‰©ä¸‹ä¸€å°èŠ‚ç‚¹ï¼Œä¹Ÿèƒ½ä¿è¯æœåŠ¡å¯ç”¨ æ­å»º é…ç½® # é›†ç¾¤åç§°ï¼Œå¿…é¡»ä¿æŒä¸€è‡´ cluster.name: elasticsearch # èŠ‚ç‚¹çš„åç§° node.name: node-1 # ç›‘å¬ç½‘æ®µ network.host: 0.0.0.0 # æœ¬èŠ‚ç‚¹restæœåŠ¡ç«¯å£ http.port: 9201 # æœ¬èŠ‚ç‚¹æ•°æ®ä¼ è¾“ç«¯å£ transport.tcp.port: 9301 # é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯ discovery.seed_hosts: [\"127.0.0.1:9301\",\"127.0.0.1:9302\",\"127.0.0.1:9303\"] cluster.initial_master_nodes: [\"node-1\",\"node-2\",\"node-3\"] å¦å¤–ä¸¤ä¸ªèŠ‚ç‚¹é…ç½®çœç•¥... JAVAå®¢æˆ·ç«¯ ä¾èµ– org.elasticsearch elasticsearch 7.3.1 org.elasticsearch.client transport 7.3.1 è¿æ¥ Settings settings = Settings.builder() .put(\"cluster.name\",\"docker-cluster\") .build(); TransportClient client = new PreBuiltTransportClient(settings); client.addTransportAddress( new TransportAddress(InetAddress.getByName(\"my-pc\"),9300)); åˆ›å»ºç´¢å¼• client.admin().indices().prepareCreate(\"index\").get(); è®¾ç½®æ˜ å°„ XContentBuilder builder = XContentFactory.jsonBuilder() .startObject() .startObject(\"article\") .startObject(\"properties\") .startObject(\"id\") .field(\"type\", \"long\") .field(\"store\", true) .endObject() .startObject(\"title\") .field(\"type\", \"text\") .field(\"store\", true) .field(\"analyzer\", \"ik_smart\") .endObject() .startObject(\"content\") .field(\"type\", \"text\") .field(\"store\", true) .field(\"analyzer\", \"ik_smart\") .endObject() .endObject() .endObject() .endObject(); client.admin().indices().preparePutMapping(\"index\") .setType(\"article\") .setSource(builder) .get(); æ·»åŠ æ–‡æ¡£ XContentBuilder builder = XContentFactory.jsonBuilder() .startObject() .field(\"id\",1L) .field(\"title\",\"å¤®è§†å¿«è¯„ï¼šå‹‡åšæ•¢äºæ–—äº‰å–„äºæ–—äº‰çš„æˆ˜å£«\") .field(\"content\",\"9æœˆ3æ—¥ï¼Œä¹ è¿‘å¹³æ€»ä¹¦è®°åœ¨ä¸­å¤®å…šæ ¡ï¼ˆå›½å®¶è¡Œæ”¿å­¦é™¢ï¼‰ä¸­é’å¹´å¹²éƒ¨åŸ¹è®­ç­å¼€ç­å¼ä¸Šå‘è¡¨é‡è¦è®²è¯å¼ºè°ƒï¼Œå¹¿å¤§å¹²éƒ¨ç‰¹åˆ«æ˜¯å¹´è½»å¹²éƒ¨è¦ç»å—ä¸¥æ ¼çš„æ€æƒ³æ·¬ç‚¼ã€æ”¿æ²»å†ç»ƒã€å®è·µé”»ç‚¼ï¼Œå‘æ‰¬æ–—äº‰ç²¾ç¥ï¼Œå¢å¼ºæ–—äº‰æœ¬é¢†ï¼Œä¸ºå®ç°â€œä¸¤ä¸ªä¸€ç™¾å¹´â€å¥‹æ–—ç›®æ ‡ã€å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦è€Œé¡½å¼ºå¥‹æ–—ã€‚\") .endObject(); client.prepareIndex(\"index\",\"article\",\"1\") .setSource(builder) .get(); POJOæ·»åŠ æ–‡æ¡£ Article article = new Article(); article.setId(3L); article.setTitle(\"3å¤®è§†å¿«è¯„ï¼šå‹‡åšæ•¢äºæ–—äº‰å–„äºæ–—äº‰çš„æˆ˜å£«\"); article.setContent(\"9æœˆ3æ—¥3333ï¼Œï¼ˆå›½å®¶è¡Œæ”¿å­¦é™¢ï¼‰ä¸­é’å¹´å¹²éƒ¨åŸ¹è®­ç­å¼€ç­å¼ä¸Šå‘è¡¨é‡è¦è®²è¯å¼ºè°ƒï¼Œå¹¿å¤§å¹²éƒ¨ç‰¹åˆ«æ˜¯å¹´\"); String json = new ObjectMapper().writeValueAsString(article); client.prepareIndex(\"index\",\"article\",\"3\") .setSource(json, XContentType.JSON) .get(); æŸ¥è¯¢ æ ¹æ®ID QueryBuilder queryBuilder = QueryBuilders.idsQuery().addIds(\"1\",\"2\"); SearchResponse response = client.prepareSearch(\"index\") .setTypes(\"article\") .setQuery(queryBuilder) .get(); SearchHits hits = response.getHits(); System.out.println(\"æ€»è®°å½•:\"+hits); SearchHit[] ret = hits.getHits(); for (SearchHit documentFields : ret) { Map map = documentFields.getSourceAsMap(); System.out.println(\"id:\"+map.get(\"id\")); System.out.println(\"title:\"+map.get(\"title\")); System.out.println(\"content:\"+map.get(\"content\")); System.out.println(\"-------------------\"); } æ ¹æ®term QueryBuilder queryBuilder = QueryBuilders.termQuery(\"title\",\"æ–—äº‰\"); æ ¹æ®queryString QueryBuilder queryBuilder = QueryBuilders.queryStringQuery(\"é’å¹´å¼ºè°ƒ\") .defaultField(\"content\"); åˆ†é¡µæŸ¥è¯¢ SearchResponse response = client.prepareSearch(\"index\") .setTypes(\"article\") .setQuery(queryBuilder) .setFrom(10) .setSize(5) .get(); é«˜äº®æ˜¾ç¤ºç»“æœ HighlightBuilder highlightBuilder = new HighlightBuilder(); highlightBuilder.field(highlight); highlightBuilder.preTags(\"\"); highlightBuilder.postTags(\"\"); SearchResponse response = client.prepareSearch(\"index\") .setTypes(\"article\") .setQuery(queryBuilder) .highlighter(highlightBuilder) .get(); SearchHits hits = response.getHits(); System.out.println(\"æ€»è®°å½•:\"+hits.getTotalHits()); SearchHit[] ret = hits.getHits(); for (SearchHit documentFields : ret) { Map map = documentFields.getSourceAsMap(); System.out.println(\"id:\"+map.get(\"id\")); System.out.println(\"content:\"+map.get(\"content\")); Map highlightFields = documentFields.getHighlightFields(); System.out.println(highlightFields.get(highlight).getFragments()[0]); System.out.println(\"-------------------\"); } esæ“ä½œè¿‡ç¨‹ å†™è¿‡ç¨‹ å®¢æˆ·ç«¯é€‰æ‹©ä¸€ä¸ªåè°ƒèŠ‚ç‚¹ï¼ˆcoordinating nodeï¼‰å‘é€è¯·æ±‚ï¼Œåè°ƒèŠ‚ç‚¹å°†è¯·æ±‚è½¬å‘ç»™å¯¹åº”çš„node å¯¹åº”çš„nodeåœ¨primary shardä¸Šå¤„ç†è¯·æ±‚ï¼Œå¹¶åŒæ­¥åˆ°replica shardä¸Š å†™è¿‡ç¨‹åŸç† æ•°æ®å…ˆå†™å…¥å†…å­˜ bufferï¼Œç„¶åæ¯éš” 1sï¼Œå°†æ•°æ® refresh åˆ° os cacheï¼Œåˆ°äº† os cache æ•°æ®å°±èƒ½è¢«æœç´¢åˆ° æ¯éš” 5sï¼Œå°†æ•°æ®å†™å…¥ translog æ–‡ä»¶ï¼ˆè¿™æ ·å¦‚æœæœºå™¨å®•æœºï¼Œå†…å­˜æ•°æ®å…¨æ²¡ï¼Œæœ€å¤šä¼šæœ‰ 5s çš„æ•°æ®ä¸¢å¤±ï¼‰ï¼Œtranslog å¤§åˆ°ä¸€å®šç¨‹åº¦ï¼Œæˆ–è€…é»˜è®¤æ¯éš” 30minsï¼Œä¼šè§¦å‘ commit æ“ä½œï¼Œå°†ç¼“å†²åŒºçš„æ•°æ®éƒ½ flush åˆ° segment file ç£ç›˜æ–‡ä»¶ä¸­ è¯»è¿‡ç¨‹ å®¢æˆ·ç«¯é€‰æ‹©ä¸€ä¸ªåè°ƒèŠ‚ç‚¹ï¼ˆcoordinating nodeï¼‰å‘é€æ ¹æ®IDæŸ¥è¯¢è¯·æ±‚ï¼Œåè°ƒèŠ‚ç‚¹ä¼šæ ¹æ®idè¿›è¡Œå“ˆå¸Œï¼Œå¾—åˆ°docæ‰€åœ¨çš„åˆ†ç‰‡ï¼Œå°†è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„node è¿™ä¸ªnodeç„¶åä¼šåœ¨primary shardä¸replicaä¸­ä½¿ç”¨éšæœºè½®è¯¢ï¼Œè¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œè¿”å›documentç»™åè°ƒèŠ‚ç‚¹ åè°ƒèŠ‚ç‚¹å†æŠŠdocumentè¿”å›ç»™å®¢æˆ·ç«¯ æœç´¢è¿‡ç¨‹ å®¢æˆ·ç«¯å‘é€æœç´¢è¯·æ±‚ç»™åè°ƒèŠ‚ç‚¹ï¼Œåè°ƒèŠ‚ç‚¹å°†è¿™ä¸ªè¯·æ±‚å‘é€ç»™æ‰€æœ‰çš„shard æ¯ä¸ªshardå°†è‡ªå·±çš„æœç´¢ç»“æ„è¿”å›ç»™åè°ƒèŠ‚ç‚¹ ç”±åè°ƒèŠ‚ç‚¹è¿›è¡Œæ•°æ®çš„åˆå¹¶ã€æ’åºã€åˆ†é¡µç­‰æ“ä½œï¼Œäº§å‡ºæœ€ç»ˆç»“æœ æ¥ç€åè°ƒèŠ‚ç‚¹æ ¹æ®idå†å»æŸ¥è¯¢å¯¹åº”çš„documentçš„æ•°æ®ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ åˆ é™¤/æ›´æ–°è¿‡ç¨‹ åˆ é™¤æ“ä½œï¼Œä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”document idçš„.delæ–‡ä»¶ï¼Œæ ‡è¯†è¿™ä¸ªdocumentè¢«åˆ é™¤ å¦‚æœæ˜¯æ›´æ–°æ“ä½œï¼Œå°±æ˜¯å°†åŸæ¥çš„ doc æ ‡è¯†ä¸º deleted çŠ¶æ€ï¼Œç„¶åæ–°å†™å…¥ä¸€æ¡æ•°æ® æ¯refreshä¸€æ¬¡ï¼Œä¼šç”Ÿæˆä¸€ä¸ªsegment fileï¼Œç³»ç»Ÿä¼šå®šæœŸåˆå¹¶è¿™äº›æ–‡ä»¶ï¼Œåˆå¹¶è¿™äº›æ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šç‰©ç†åˆ é™¤æ ‡è®°.delçš„document æ€§èƒ½ä¼˜åŒ– æ€æ‰‹é”ï¼šfilesystem cache åœ¨esä¸­ï¼Œdocçš„å­—æ®µå°½é‡åªå­˜å‚¨è¦è¢«æœç´¢çš„å­—æ®µï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå†…å­˜ï¼Œå­˜æ”¾æ›´å¤šæ•°æ®ï¼Œåšç¼“å­˜æ•ˆæœæ›´å¥½ æ•°æ®é¢„çƒ­ å¯¹äºä¸€äº›çƒ­ç‚¹æ•°æ®ï¼Œä¹Ÿè¦é€šè¿‡ä¸€äº›æ–¹å¼è®©å®ƒåœ¨ç¼“å­˜ä¸­ å†·çƒ­åˆ†ç¦» ä¿è¯çƒ­ç‚¹æ•°æ®éƒ½åœ¨ç¼“å­˜é‡Œï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ docæ¨¡å‹è®¾è®¡ å¯¹äºä¸€äº›å¤æ‚çš„å…³è”ï¼Œæœ€å¥½åœ¨åº”ç”¨å±‚é¢å°±åšå¥½ï¼Œå¯¹äºä¸€äº›å¤ªå¤æ‚çš„æ“ä½œï¼Œæ¯”å¦‚ join/nested/parent-child æœç´¢éƒ½è¦å°½é‡é¿å…ï¼Œæ€§èƒ½éƒ½å¾ˆå·®çš„ åˆ†é¡µæ€§èƒ½ä¼˜åŒ– ç”±äºåˆ†é¡µæ“ä½œæ˜¯ç”±åè°ƒèŠ‚ç‚¹æ¥å®Œæˆçš„ï¼Œæ‰€ä»¥ç¿»é¡µè¶Šæ·±ï¼Œæ€§èƒ½è¶Šå·® è§£å†³ï¼š ä¸å…è®¸æ·±åº¦ç¿»é¡µ å°†ç¿»é¡µè®¾è®¡æˆä¸å…è®¸è·³é¡µï¼Œåªèƒ½ä¸€é¡µä¸€é¡µç¿» kibana Kibanaæ˜¯ä¸€ä¸ªåŸºäºNode.jsçš„Elasticsearchç´¢å¼•åº“æ•°æ®ç»Ÿè®¡å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨Elasticsearchçš„èšåˆåŠŸèƒ½ï¼Œç”Ÿæˆå„ç§å›¾è¡¨ï¼Œå¦‚æŸ±å½¢å›¾ï¼Œçº¿çŠ¶å›¾ï¼Œé¥¼å›¾ç­‰ã€‚ è€Œä¸”è¿˜æä¾›äº†æ“ä½œElasticsearchç´¢å¼•æ•°æ®çš„æ§åˆ¶å°ï¼Œå¹¶ä¸”æä¾›äº†ä¸€å®šçš„APIæç¤ºï¼Œéå¸¸æœ‰åˆ©äºæˆ‘ä»¬å­¦ä¹ Elasticsearchçš„è¯­æ³•ã€‚ å®‰è£… docker docker pull kibana:5.6.8 # æ‹‰å–é•œåƒ docker run -d --name kibana --net somenetwork -p 5601:5601 kibana:5.6.8 # å¯åŠ¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-21 02:06:44 "},"ä¸­é—´ä»¶/ç¼“å­˜/ç¼“å­˜.html":{"url":"ä¸­é—´ä»¶/ç¼“å­˜/ç¼“å­˜.html","title":"ç¼“å­˜ä¸­é—´ä»¶","keywords":"","body":"ç¼“å­˜ä¸­é—´ä»¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-17 07:36:37 "},"ä¸­é—´ä»¶/ç¼“å­˜/EhCache.html":{"url":"ä¸­é—´ä»¶/ç¼“å­˜/EhCache.html","title":"EhCache","keywords":"","body":"EhCache Ehcacheæ˜¯â€‹â€‹ä¸€ä¸ªæ ‡å‡†çš„å¼€æºç¼“å­˜ï¼Œå¯æé«˜æ€§èƒ½ï¼Œå‡è½»æ•°æ®åº“è´Ÿè½½å¹¶ç®€åŒ–å¯ä¼¸ç¼©æ€§ã€‚ å› ä¸ºå®ƒå¥å£®ï¼Œå¯é ï¼ŒåŠŸèƒ½é½å…¨å¹¶å¯ä»¥ä¸å…¶ä»–æµè¡Œçš„åº“å’Œæ¡†æ¶é›†æˆ,æ‰€ä»¥æ˜¯æœ€å¹¿æ³›ä½¿ç”¨çš„åŸºäºJavaçš„ç¼“å­˜ã€‚ Ehcacheå¯ä»¥ä»è¿›ç¨‹å†…ç¼“å­˜æ‰©å±•åˆ°å…·æœ‰TBçº§ç¼“å­˜çš„æ··åˆè¿›ç¨‹å†…/è¿›ç¨‹å¤–éƒ¨ç½² åŸºæœ¬æ¶æ„ Ehcacheæ˜¯ç”¨æ¥ç®¡ç†ç¼“å­˜çš„ä¸€ä¸ªå·¥å…·ï¼Œå…¶ç¼“å­˜çš„æ•°æ®å¯ä»¥æ˜¯å­˜æ”¾åœ¨å†…å­˜é‡Œé¢çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å­˜æ”¾åœ¨ç¡¬ç›˜ä¸Šçš„ã€‚ å…¶æ ¸å¿ƒæ˜¯CacheManagerï¼Œä¸€åˆ‡Ehcacheçš„åº”ç”¨éƒ½æ˜¯ä»CacheManagerå¼€å§‹çš„ã€‚å®ƒæ˜¯ç”¨æ¥ç®¡ç†Cacheï¼ˆç¼“å­˜ï¼‰çš„ï¼Œä¸€ä¸ªåº”ç”¨å¯ä»¥æœ‰å¤šä¸ªCacheManagerï¼Œè€Œä¸€ä¸ªCacheManagerä¸‹åˆå¯ä»¥æœ‰å¤šä¸ªCacheã€‚ Cacheå†…éƒ¨ä¿å­˜çš„æ˜¯ä¸€ä¸ªä¸ªçš„Elementï¼Œè€Œä¸€ä¸ªElementä¸­ä¿å­˜çš„æ˜¯ä¸€ä¸ªkeyå’Œvalueçš„é…å¯¹ï¼Œç›¸å½“äºMapé‡Œé¢çš„ä¸€ä¸ªEntry ç¼“å­˜è¿‡æœŸç­–ç•¥ å½“ç¼“å­˜éœ€è¦è¢«æ¸…ç†æ—¶ï¼ˆæ¯”å¦‚ç©ºé—´å ç”¨å·²ç»æ¥è¿‘ä¸´ç•Œå€¼äº†ï¼‰ï¼Œéœ€è¦ä½¿ç”¨æŸç§æ·˜æ±°ç®—æ³•æ¥å†³å®šæ¸…ç†æ‰å“ªäº›æ•°æ® FIFOï¼šFirst In First Outï¼Œå…ˆè¿›å…ˆå‡ºã€‚åˆ¤æ–­è¢«å­˜å‚¨çš„æ—¶é—´ï¼Œç¦»ç›®å‰æœ€è¿œçš„æ•°æ®ä¼˜å…ˆè¢«æ·˜æ±°ã€‚ LRUï¼šLeast Recently Usedï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨ã€‚åˆ¤æ–­æœ€è¿‘è¢«ä½¿ç”¨çš„æ—¶é—´ï¼Œç›®å‰æœ€è¿œçš„æ•°æ®ä¼˜å…ˆè¢«æ·˜æ±°ã€‚ LFUï¼šLeast Frequently Usedï¼Œæœ€ä¸ç»å¸¸ä½¿ç”¨ã€‚åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œæ•°æ®è¢«ä½¿ç”¨æ¬¡æ•°æœ€å°‘çš„ï¼Œä¼˜å…ˆè¢«æ·˜æ±°ã€‚ Spring Bootæ•´åˆEhCache å¼•å…¥ä¾èµ– org.springframework.boot spring-boot-starter-cache net.sf.ehcache ehcache 2.10.6 é…ç½® spring: cache: type: ehcache # é…ç½®ç¼“å­˜ç±»å‹ ehcache: config: classpath:ehcache.xml # ehcacheçš„é…ç½®æ–‡ä»¶ ç¼–å†™ehcacheé…ç½®æ–‡ä»¶ ç¼“å­˜æ³¨è§£é…ç½® @CacheConfig(cacheNames ={\"userCache\"}) // è®¾ç½®ç¼“å­˜çš„æ ‡å¿— @Service public class UserService { // è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼ä¼šè¢«ç¼“å­˜ @Cacheable public String username(){ return UUID.randomUUID().toString(); } // è¿™ä¸ªæ–¹æ³•ä¼šæ¸…é™¤ç¼“å­˜ @CacheEvict public void update(){ } } å¼€å¯ç¼“å­˜ @SpringBootApplication @EnableCaching public class EhcacheApplication { public static void main(String[] args) { SpringApplication.run(EhcacheApplication.class, args); } } Redis+EhCacheåˆ†å¸ƒå¼ç¼“å­˜æ¶æ„ è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ä»¥åŠç¼“å­˜çš„è¿‡æœŸæ—¶é—´è¦æ¯”äºŒçº§ç¼“å­˜æ—© åŒæ—¶ï¼Œç”±äºæŸ¥è¯¢redisè¦èµ°ç½‘ç»œï¼Œæ‰€ä»¥å¯ä»¥æŠŠehcaheä½œä¸ºä¸€çº§ç¼“å­˜ï¼Œredisä½œä¸ºäºŒçº§ç¼“å­˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-25 01:04:34 "},"ä¸­é—´ä»¶/ç¼“å­˜/Memcached.html":{"url":"ä¸­é—´ä»¶/ç¼“å­˜/Memcached.html","title":"Memcached","keywords":"","body":"Memcached å…è´¹ å¼€æº é«˜æ€§èƒ½ åˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç¼“å­˜ç³»ç»Ÿ è®¾è®¡ç†å¿µ ç®€å•KVå­˜å‚¨ æœåŠ¡å™¨ä¸å…³å¿ƒæ•°æ®ç»“æ„ éœ€è¦ç¨‹åºå‰åºåˆ—åŒ–å†å­˜å‚¨åˆ°æœåŠ¡å™¨ ä¸€åŠä¸€åŠ ç¼“å­˜é€»è¾‘ä¸€åŠåœ¨å®¢æˆ·ç«¯ ä¸€åŠåœ¨æœåŠ¡å™¨ å®¢æˆ·ç«¯çŸ¥é“æ‰¾å“ªå°æœåŠ¡å™¨è¯»å†™ æœåŠ¡å™¨çŸ¥é“å¦‚ä½•å­˜å‚¨item å¦‚ä½•æ·˜æ±°å†…å­˜ ç®€å•çš„é›†ç¾¤ é›†ç¾¤æœåŠ¡å™¨ä¹‹é—´æ— æ³•é€šä¿¡ æ²¡æœ‰åŒæ­¥ æ²¡æœ‰å¹¿æ’­ æ²¡æœ‰å¤åˆ¶ O(1) æ‰€æœ‰å‘½ä»¤æ“ä½œå¾ˆå¿« å¹¶ä¸”æ˜¯é”å‹å¥½çš„ è¿‡æœŸæ˜¯å¸¸æ€ memcached æ˜¯ä¸€ç§LRUç¼“å­˜ ç¼“å­˜å¤±æ•ˆ å®¢æˆ·ç«¯å¯¹é›†ç¾¤æœåŠ¡å™¨çš„æ“ä½œæ—¶æŒ‰éœ€è®¿é—® è€Œéç›´æ¥å‘æ‰€æœ‰æœåŠ¡å™¨å¹¿æ’­ ç¡¬ä»¶éœ€æ±‚ ä½CPUéœ€æ±‚ï¼šé»˜è®¤ä½¿ç”¨4æ¡å·¥ä½œçº¿ç¨‹ å¤§å¤šæ—¶å€™åªéœ€è¦ä¸€æ¡ç¼“å­˜çº¿ç¨‹ å†…å­˜éœ€æ±‚ï¼šå†…å­˜è¶Šå¤šè¶Šå¥½ é›†ç¾¤èŠ‚ç‚¹å†…å­˜å¤§å°æœ€å¥½ä¸€è‡´ æ–¹ä¾¿æ‰©å®¹ç¼©å®¹æ—¶ä¸è€ƒè™‘æƒé‡é—®é¢˜ é¿å…å†…å­˜äº¤æ¢ æ˜¯å¦ä¸ºé«˜é€Ÿå†…å­˜ä¸é‡è¦ ç½‘ç»œéœ€æ±‚ï¼š å–å†³äºå®é™…ä½¿ç”¨æƒ…å†µ å¦‚æœå…·æœ‰éå¸¸é«˜çš„å¸¦å®½ ä½¿ç”¨å¤šä¸ªmemcachedæ¯”è¾ƒå¥½ ç¡¬ä»¶å¸ƒå±€ ç¼“å­˜webæœåŠ¡å™¨ ç¼“å­˜æ•°æ®åº“ ä¸æ˜¯å¥½ä¸»æ„ åº”è¯¥å°†å†…å­˜ç•™ç»™æ•°æ®åº“çš„ç´¢å¼•ä¼˜åŒ– ä½¿ç”¨ä¸“ç”¨çš„æœåŠ¡å™¨ å¥½å¤„æ˜¯ä¸“ç”¨ æ‰©å±•æ–¹ä¾¿ å®¹é‡è§„åˆ’ æ­å»ºé›†ç¾¤å‰å®¹é‡è§„åˆ’å¥½ è¿è¡ŒæœŸæ‰©å±•ååˆ†å›°éš¾ æœåŠ¡å™¨é…ç½® -m å‚æ•°å‘Šè¯‰memcachedå¯ä»¥ä½¿ç”¨å¤šå°‘å†…å­˜ è¿™ä¸ªå¹¶éé™åˆ¶memcachedå®é™…å†…å­˜ä½¿ç”¨ è€Œæ˜¯memcachedå­˜å‚¨ç¼“å­˜çš„æœ€å¤§é™åˆ¶ -d å‚æ•° åå°å¯åŠ¨ -v æ§åˆ¶æ ‡å‡†è¾“å…¥è¾“å‡ºçš„æ‰“å° -p æŒ‡å®šç«¯å£å· å¯ä»¥æŒ‡å®šä¸åŒçš„ç«¯å£å·å¯åŠ¨å¤šä¸ªå®ä¾‹ -l ç»‘å®šæŒ‡å®šç½‘å¡æˆ–è€…IP -U UDPç«¯å£ -s ä½¿ç”¨unix socket è¿æ¥é™åˆ¶ï¼šé»˜è®¤è¿æ¥æ•°é‡é™åˆ¶ä¸º1024 æŸ¥è¿‡è¿™ä¸ªé™åˆ¶çš„è¿æ¥ä¼šè¢«æŒ‚èµ· æ¯ä¸ªè¿æ¥çš„å†…å­˜å¼€é”€å¾ˆä½ çº¿ç¨‹ï¼šmemcachedé»˜è®¤ä½¿ç”¨4ä¸ªçº¿ç¨‹ é‡‡å–äº†ç±»ä¼¼nginxçš„çº¿ç¨‹æ¨¡å‹ æ‰“å°memcachedçŠ¶æ€ï¼š echo \"stats settings\" | nc localhost 11211 å®¢æˆ·ç«¯é…ç½® å“ˆå¸Œç®—æ³•ï¼šæ ¹æ®keyæ¥é€‰æ‹©æœåŠ¡å™¨ ä¸€è‡´æ€§å“ˆå¸Œï¼šå‡å°‘æœåŠ¡å™¨æ•°é‡å˜åŠ¨å¸¦æ¥çš„é‡å“ˆå¸Œé—®é¢˜ æœåŠ¡å™¨é…ç½®è¦ä¸€è‡´ é¿å…åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šå“ˆå¸Œå¾—åˆ°ä¸åŒçš„ç»“æœ æƒé‡ï¼šæœ‰æ—¶å€™ ä¸€äº›æœºå™¨èµ„æºæ›´å¤š æˆ‘ä»¬å°±ç»™ä»–æ›´å¤šçš„æƒé‡ å¤„ç†æ›´å¤šçš„è¯·æ±‚ å¤±è´¥è¿˜æ˜¯æ•…éšœè½¬ç§»ï¼šè½¬ç§»çš„ä¸€ä¸ªé—®é¢˜åœ¨äºå¯èƒ½ä¼šä½¿è¯·æ±‚è¿”å›æ—§æ•°æ® æ›´å¤šçš„æƒ…å†µä¸‹ å¯¹äºç¼“å­˜ ç›´æ¥è®©å…¶å¤±è´¥å°±å¥½ å‹ç¼©ï¼šå®¢æˆ·ç«¯éƒ½æ”¯æŒå‹ç¼©å¤§æ•°æ® å°æ•°æ®å‹ç¼©å¾—ä¸å¿å¤± ç®¡ç†è¿æ¥å¯¹è±¡ï¼šæ³¨æ„è¿æ¥çš„ç®¡ç† å¦‚æœä¸æ³¨æ„ æ¯æ¬¡æ“ä½œéƒ½æ‰“å¼€ä¸€ä¸ªè¿æ¥ ä¼šé€ æˆè¿æ¥æ³„æ¼ Java å®¢æˆ·ç«¯ com.googlecode.xmemcached xmemcached 2.4.6 MemcachedClient client = new XMemcachedClient(\"192.168.1.101\", 11211); //åŒæ­¥å­˜å‚¨valueåˆ°memcachedï¼Œç¼“å­˜è¶…æ—¶ä¸º1å°æ—¶ï¼Œ3600ç§’ã€‚ client.set(\"key\", 3600, \"jntm\"); //ä»memcachedè·å–keyå¯¹åº”çš„value Object someObject = client.get(\"key\"); System.out.println(someObject); //ä»memcachedè·å–keyå¯¹åº”çš„value,æ“ä½œè¶…æ—¶2ç§’ someObject = client.get(\"key\", 2000); //æ›´æ–°ç¼“å­˜çš„è¶…æ—¶æ—¶é—´ä¸º10ç§’ã€‚ boolean success = client.touch(\"key\", 10); System.out.println(success); //åˆ é™¤value client.delete(\"key\"); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-11 07:36:40 "},"ä¸­é—´ä»¶/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼.html":{"url":"ä¸­é—´ä»¶/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼.html","title":"åˆ†å¸ƒå¼ä¸­é—´ä»¶","keywords":"","body":"åˆ†å¸ƒå¼ä¸­é—´ä»¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-05 10:55:35 "},"ä¸­é—´ä»¶/åˆ†å¸ƒå¼/Zookeeper.html":{"url":"ä¸­é—´ä»¶/åˆ†å¸ƒå¼/Zookeeper.html","title":"Zookeeper","keywords":"","body":"Zookeeper æä¾›äº†åè°ƒåˆ†å¸ƒå¼åº”ç”¨çš„åŸºæœ¬æœåŠ¡ï¼Œå®ƒæä¾›äº†ä»¥ä¸‹é€šç”¨æœåŠ¡ï¼š åˆ†å¸ƒå¼åŒæ­¥ï¼ˆDistributed Synchronizationï¼‰ å‘½åæœåŠ¡ï¼ˆNaming Serviceï¼‰ é›†ç¾¤ç»´æŠ¤ï¼ˆGroup Maintenanceï¼‰ åº”ç”¨åœºæ™¯ å‘½åæœåŠ¡ é€šè¿‡ä½¿ç”¨å‘½åæœåŠ¡ï¼Œå®¢æˆ·ç«¯åº”ç”¨èƒ½å¤Ÿæ ¹æ®æŒ‡å®šåå­—æ¥è·å–èµ„æºæˆ–æœåŠ¡çš„åœ°å€ï¼Œæä¾›è€…ç­‰ä¿¡æ¯ æ•°æ®å‘å¸ƒä¸è®¢é˜…ï¼ˆé…ç½®ä¸­å¿ƒï¼‰ å‘å¸ƒè€…å°†æ•°æ®å‘å¸ƒåˆ°ZKèŠ‚ç‚¹ä¸Šï¼Œä¾›è®¢é˜…è€…åŠ¨æ€è·å–æ•°æ®ï¼Œå®ç°é…ç½®ä¿¡æ¯çš„é›†ä¸­å¼ç®¡ç†å’ŒåŠ¨æ€æ›´æ–° åˆ†å¸ƒå¼é€šçŸ¥/åè°ƒ watcheræ³¨å†Œä¸å¼‚æ­¥é€šçŸ¥æœºåˆ¶ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„å®ç°åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ä¸åŒç³»ç»Ÿä¹‹é—´çš„é€šçŸ¥ä¸åè°ƒï¼Œå®ç°å¯¹æ•°æ®å˜æ›´çš„å®æ—¶å¤„ç† åˆ†å¸ƒå¼äº‹åŠ¡ åˆ†å¸ƒå¼äº‹åŠ¡ä¸­æœ€é‡è¦çš„å°±æ˜¯è¦æœ‰ä¸€ä¸ªåè°ƒè€…ï¼ŒZKå°±å……å½“äº†è¿™ä¸ªè§’è‰² åˆ†å¸ƒå¼é” ä¿æŒç‹¬å ï¼Œå°±æ˜¯æ‰€æœ‰è¯•å›¾æ¥è·å–è¿™ä¸ªé”çš„å®¢æˆ·ç«¯ï¼Œæœ€ç»ˆåªæœ‰ä¸€ä¸ªå¯ä»¥æˆåŠŸè·å¾—è¿™æŠŠé” æ§åˆ¶æ—¶åºï¼Œå°±æ˜¯æ‰€æœ‰è¯•å›¾æ¥è·å–è¿™ä¸ªé”çš„å®¢æˆ·ç«¯ï¼Œæœ€ä¼šæŒ‰è·å–é”çš„é¡ºåºæ¥è·å¾—é” é›†ç¾¤ç®¡ç†ä¸Masteré€‰ä¸¾ èƒ½å¤Ÿå¿«é€Ÿå¯¹é›†ç¾¤ä¸­æœºå™¨å˜åŒ–ä½œå‡ºå“åº”å¹¶å°†å˜åŒ–æ¨é€ç»™å®¢æˆ·ç«¯ æœ‰äº›ä¸šåŠ¡é€»è¾‘ï¼ˆä¾‹å¦‚ä¸€äº›è€—æ—¶çš„è®¡ç®—ï¼Œç½‘ç»œI/Oå¤„ç†ï¼‰ï¼Œå¾€å¾€åªéœ€è¦è®©æ•´ä¸ªé›†ç¾¤ä¸­çš„æŸä¸€å°æœºå™¨è¿›è¡Œæ‰§è¡Œï¼Œå…¶ä½™æœºå™¨å¯ä»¥å…±äº«è¿™ä¸ªç»“æœ è´Ÿè½½å‡è¡¡ åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œä¸ºäº†ä¿è¯é«˜å¯ç”¨æ€§ï¼Œé€šå¸¸åŒä¸€ä¸ªåº”ç”¨æˆ–åŒä¸€ä¸ªæœåŠ¡çš„æä¾›æ–¹éƒ½ä¼šéƒ¨ç½²å¤šä»½ï¼Œè¾¾åˆ°å¯¹ç­‰æœåŠ¡ã€‚è€Œæ¶ˆè´¹è€…å°±é¡»è¦åœ¨è¿™äº›å¯¹ç­‰çš„æœåŠ¡å™¨ä¸­é€‰æ‹©ä¸€ä¸ªæ¥æ‰§è¡Œç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ åŸºç¡€ æ•°æ®ç»“æ„ å±‚æ¬¡åŒ–çš„ç›®å½•ç»“æ„ï¼Œå‘½åç¬¦åˆå¸¸è§„æ–‡ä»¶ç³»ç»Ÿè§„èŒƒ(ç±»ä¼¼æ–‡ä»¶ç³»ç»Ÿï¼‰ æ¯ä¸ªèŠ‚ç‚¹åœ¨zookeeperä¸­å«åšznode,å¹¶ä¸”å…¶æœ‰ä¸€ä¸ªå”¯ä¸€çš„è·¯å¾„æ ‡è¯† znodeæœ‰4ç§ç±»å‹ï¼š ä¸´æ—¶èŠ‚ç‚¹ï¼ˆephemeralï¼‰ï¼Œå®¢æˆ·ç«¯æ–­å¼€è¿æ¥zkä¼šåˆ é™¤ephemeralç±»å‹èŠ‚ç‚¹ æŒä¹…èŠ‚ç‚¹ï¼ˆpersistentï¼‰ï¼Œå®¢æˆ·ç«¯æ–­å¼€è¿æ¥zkä¸åˆ é™¤persistentç±»å‹èŠ‚ç‚¹ PERSISTENT_SEQUENTIAL æŒä¹…ä¸”æœ‰åºçš„èŠ‚ç‚¹ å‘ç”Ÿé‡å¤ä¼šè‡ªå¢ EPHEMERAL_SEQUENTIAL ä¸´æ—¶ä¸”æœ‰åºçš„èŠ‚ç‚¹ å‘ç”Ÿé‡å¤ä¼šè‡ªå¢ èŠ‚ç‚¹Znodeå¯ä»¥åŒ…å«æ•°æ®å’Œå­èŠ‚ç‚¹ï¼ˆä½†æ˜¯EPHEMERALç±»å‹çš„èŠ‚ç‚¹ä¸èƒ½æœ‰å­èŠ‚ç‚¹ï¼‰ å¦‚æœä¸€ä¸ªznodeèŠ‚ç‚¹åŒ…å«ä»»ä½•æ•°æ®ï¼Œé‚£ä¹ˆæ•°æ®å­˜å‚¨ä¸ºå­—èŠ‚æ•°ç»„ ç›‘è§†ä¸é€šçŸ¥ ç›‘è§†ç‚¹ä¼šè§¦å‘ä¸€ä¸ªé€šçŸ¥ã€‚ä¸ºäº†æ¥æ”¶å¤šä¸ªé€šçŸ¥ï¼Œå®¢æˆ·ç«¯å¿…é¡»åœ¨æ¯æ¬¡é€šçŸ¥åè®¾ç½®ä¸€ä¸ªæ–°çš„ç›‘è§†ç‚¹ å®¢æˆ·ç«¯å¯ä»¥è®¾ç½®å¤šç§ç›‘è§†ç‚¹ï¼š ç›‘æ§znodeçš„æ•°æ®å˜åŒ– ç›‘æ§znodeå­èŠ‚ç‚¹çš„å˜åŒ– ç›‘æ§znodeçš„åˆ›å»ºæˆ–åˆ é™¤ ç‰ˆæœ¬å· æ¯ä¸€ä¸ªznodeéƒ½æœ‰ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œå®ƒéšç€æ¯æ¬¡æ•°æ®å˜åŒ–è€Œè‡ªå¢ ä½¿ç”¨ç‰ˆæœ¬å·æœ‰æ•ˆé¿å…å¹¶å‘å†™é—®é¢˜ ç‰¹å¾/ä¿éšœ é¡ºåºä¸€è‡´æ€§ - å®¢æˆ·ç«¯çš„æ›´æ–°å°†æŒ‰å‘é€é¡ºåºåº”ç”¨ã€‚ åŸå­æ€§ - æ›´æ–°æˆåŠŸæˆ–å¤±è´¥ã€‚æ²¡æœ‰éƒ¨åˆ†ç»“æœã€‚ ç»Ÿä¸€è§†å›¾ - æ— è®ºæœåŠ¡å™¨è¿æ¥åˆ°å“ªä¸ªæœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯éƒ½å°†çœ‹åˆ°ç›¸åŒçš„æœåŠ¡è§†å›¾ã€‚ å¯é æ€§ - ä¸€æ—¦åº”ç”¨äº†æ›´æ–°ï¼Œå®ƒå°†ä»é‚£æ—¶èµ·æŒç»­åˆ°å®¢æˆ·ç«¯è¦†ç›–æ›´æ–°ã€‚ åŠæ—¶æ€§ - ç³»ç»Ÿçš„å®¢æˆ·è§†å›¾ä¿è¯åœ¨ç‰¹å®šæ—¶é—´èŒƒå›´å†…æ˜¯æœ€æ–°çš„ã€‚ æ¶æ„ ç‹¬ç«‹æ¨¡å¼ï¼šå•æœº ä»²è£æ¨¡å¼ï¼šé›†ç¾¤ åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ æœ€å¤šèƒ½å®¹å¿æœåŠ¡å™¨æŒ‚æ‰çš„æ•°é‡ä¸º æ€»æœåŠ¡å™¨/2 +1 ä¼šè¯ zkå®¢æˆ·ç«¯çš„ä¼šè¯å¯ä»¥é€æ˜åœ°åœ¨å¤šå°æœåŠ¡å™¨ä¸Šè½¬ç§» åŒä¸€ä¸ªä¼šè¯ä¸­çš„è¯·æ±‚éµå¾ªFIFO ä¼šè¯çŠ¶æ€ï¼š ç½‘ç»œåˆ†åŒºæ—¶çš„CONNECTINGï¼š å¦‚æœå› ç½‘ç»œåˆ†åŒºé—®é¢˜å¯¼è‡´å®¢æˆ·ç«¯ä¸ZooKeeperé›†ç¾¤è¢«éš”ç¦»è€Œå‘ç”Ÿè¿æ¥æ–­å¼€ï¼Œé‚£ä¹ˆå…¶CONNECTINGçŠ¶æ€å°†ä¼šä¸€ç›´ä¿æŒï¼Œç›´åˆ°æ˜¾å¼åœ°å…³é—­è¿™ä¸ªä¼šè¯ï¼Œæˆ–è€…åˆ†åŒºé—®é¢˜ä¿®å¤åï¼Œå®¢æˆ·ç«¯èƒ½å¤Ÿè·æ‚‰ZooKeeperæœåŠ¡å™¨å‘é€çš„ä¼šè¯å·²ç»è¿‡æœŸ è®¾ç½®äº†è¶…æ—¶æ—¶é—´t æœç»è¿‡æ—¶é—´tä¹‹åæœåŠ¡æ¥æ”¶ä¸åˆ°è¿™ä¸ªä¼šè¯çš„ä»»ä½•æ¶ˆæ¯ï¼ŒæœåŠ¡å°±ä¼šå£°æ˜ä¼šè¯è¿‡æœŸ å®¢æˆ·ç«¯å¦‚æœç»è¿‡t/3çš„æ—¶é—´æœªæ”¶åˆ°ä»»ä½•æ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯å°†å‘æœåŠ¡å™¨å‘é€å¿ƒè·³æ¶ˆæ¯ã€‚åœ¨ç»è¿‡2t/3æ—¶é—´åï¼ŒZooKeeperå®¢æˆ·ç«¯å¼€å§‹å¯»æ‰¾å…¶ä»–çš„æœåŠ¡å™¨ é‡è¿ï¼š å®¢æˆ·ç«¯é‡è¿æ—¶æ ¹æ®zxidæ¥åˆ¤æ–­æœåŠ¡å™¨æ•°æ®æ˜¯å¦æœ€æ–° æ¥å†³å®šæ˜¯å¦è¿æ¥ JAVAæ“ä½œ ä¾èµ– org.apache.zookeeper zookeeper 3.5.7 æ–°å¢èŠ‚ç‚¹ CountDownLatch latch = new CountDownLatch(1); // è¿æ¥zk ZooKeeper zk = new ZooKeeper(\"localhost:2181\", 5000, new Watcher() { @Override public void process(WatchedEvent watchedEvent) { // ç›‘å¬èŠ‚ç‚¹å˜åŒ– latch.countDown(); } }); latch.await(); // åˆ›å»ºèŠ‚ç‚¹ String ret = zk.create(\"/test\", \"jntm\".getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT); System.out.println(ret); zk.close(); å®ç°è´Ÿè½½å‡è¡¡ ä½¿ç”¨Zookeeperå®ç°è´Ÿè½½å‡è¡¡åŸç†ï¼ŒæœåŠ¡å™¨ç«¯å°†å¯åŠ¨çš„æœåŠ¡æ³¨å†Œåˆ°ï¼Œzkæ³¨å†Œä¸­å¿ƒä¸Šï¼Œé‡‡ç”¨ä¸´æ—¶èŠ‚ç‚¹ã€‚å®¢æˆ·ç«¯ä»zkèŠ‚ç‚¹ä¸Šè·å–æœ€æ–°æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯ï¼Œæœ¬åœ°ä½¿ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œéšæœºåˆ†é…æœåŠ¡å™¨ ä½¿ç”¨zkclient com.101tec zkclient 0.11 æœåŠ¡ç«¯åœ¨å¯åŠ¨ä¹‹åæ³¨å†Œåˆ°zk public void registerServer() { // å°†å½“å‰æœåŠ¡å™¨ip ç«¯å£ä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹valueæ³¨å†Œåˆ°/serviceèŠ‚ç‚¹ä¸‹ ZkClient zkClient = new ZkClient(\"127.0.0.1:2181\", 5000); // å…ˆåˆ›å»ºçˆ¶èŠ‚ç‚¹ String root = \"/service\"; if (!zkClient.exists(root)) { zkClient.createPersistent(root); } String nodeName = root+\"/service_\"+port; String nodeValue = \"127.0.0.1:\"+port; if (zkClient.exists(nodeName)){ zkClient.delete(nodeName); } zkClient.createEphemeral(nodeName,nodeValue); System.out.println(\"æœåŠ¡æ³¨å†ŒæˆåŠŸ\"); } å®¢æˆ·ç«¯å¯åŠ¨ä¹‹åè·å–æœåŠ¡å™¨åˆ—è¡¨ public static void initServer() { // è¿æ¥zkè·å–/serviceèŠ‚ç‚¹ä¸‹æ³¨å†Œçš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¹¶ä¸”è·å–è¿™äº›èŠ‚ç‚¹çš„value listServer.clear(); ZkClient zkClient = new ZkClient(\"127.0.0.1:2181\", 5000); String root = \"/service\"; List children = zkClient.getChildren(root); for (String s : children) { String path = root + \"/\" + s; String readData = zkClient.readData(path); listServer.add(readData); } System.out.println(\"è·å–æœåŠ¡å™¨æˆåŠŸ:\"+listServer); // ç›‘å¬èŠ‚ç‚¹å˜åŒ–ï¼Œå½“æ–°å¢æœåŠ¡æˆ–è€…æœåŠ¡ä¸‹çº¿ä¹‹åéƒ½ä¼šå¾—åˆ°é€šçŸ¥ zkClient.subscribeChildChanges(root, new IZkChildListener() { @Override public void handleChildChange(String rootPath, List list) throws Exception { listServer.clear(); for (String s : list) { String path = root + \"/\" + s; String readData = zkClient.readData(path); listServer.add(readData); } System.out.println(\"æœåŠ¡å™¨åˆ—è¡¨å‘ç”Ÿæ”¹å˜:\"+listServer); } }); } å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ä¸€äº›è´Ÿè½½å‡è¡¡ç®—æ³•é€‰æ‹©æœåŠ¡å™¨ public static String getServer() { // ç®€å•è½®è¯¢ count++; return listServer.get(count%2); } masteré€‰ä¸¾ åŸç† å¤šä¸ªæœåŠ¡å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šåœ¨Zookeeperä¸Šåˆ›å»ºç›¸åŒçš„ä¸´æ—¶èŠ‚ç‚¹ï¼Œè°å¦‚æœèƒ½å¤Ÿåˆ›å»ºæˆåŠŸï¼Œè°å°±ä¸ºä¸»(å› ä¸ºèŠ‚ç‚¹ä¿è¯å”¯ä¸€)ï¼Œå¦‚æœä¸»æœåŠ¡å®•æœºä¹‹åï¼Œä¼šè¯è¿æ¥ä¹Ÿä¼šå¤±æ•ˆï¼Œå…¶ä»–æœåŠ¡å™¨æœ‰å¼€å§‹é‡æ–°é€‰ä¸¾ã€‚ å®ç° // åˆ›å»ºèŠ‚ç‚¹æˆåŠŸå°±ä»£è¡¨è‡ªå·±é€‰ä¸¾ä¸ºä¸»èŠ‚ç‚¹ if (createNode()){ log.info(\"{}é€‰ä¸¾ä¸ºä¸»èŠ‚ç‚¹æˆåŠŸ\",serverPort); }else { log.info(\"{}æˆä¸ºä»èŠ‚ç‚¹\",serverPort); } // å¢åŠ ç›‘å¬ï¼Œå½“èŠ‚ç‚¹è¢«åˆ é™¤ï¼ˆä¸»èŠ‚ç‚¹æŒ‚æ‰äº†ï¼‰ï¼Œé‡æ–°ç«äº‰ zkClient.subscribeDataChanges(path, new IZkDataListener() { @Override public void handleDataChange(String dataPath, Object data) throws Exception { } @Override public void handleDataDeleted(String dataPath) throws Exception { log.info(\"é‡æ–°é€‰ä¸¾\"); if (createNode()){ log.info(\"{}é€‰ä¸¾ä¸ºä¸»èŠ‚ç‚¹æˆåŠŸ\",serverPort); }else { log.info(\"{}æˆä¸ºä»èŠ‚ç‚¹\",serverPort); } } }); private boolean createNode() { try { zkClient.createEphemeral(path); return true; } catch (Exception e) { return false; } } é›†ç¾¤ ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œå¦‚æœæŸä¸ªæœåŠ¡å®ç°å®•æœºçš„è¯ï¼Œå®ç°æ•…éšœè½¬ç§» æ•´ä¸ªé›†ç¾¤å¯ç”¨èŠ‚ç‚¹æ•°é‡å¿…é¡»å¤§äºä¸€åŠï¼Œå¦åˆ™æ— æ³•æ­£å¸¸ä½¿ç”¨ è„‘è£‚é—®é¢˜ï¼šå½“ç”±äºç½‘ç»œæ•…éšœ æ•´ä¸ªç½‘ç»œè¢«åˆ†è£‚æˆå‡ ä¸ªç‹¬ç«‹çš„å°å²› å„ä¸ªå°å²›ä¹‹é—´çš„æœåŠ¡å™¨è¿˜èƒ½é€šä¿¡ å®ƒä»¬å°±ä¼šè¿›è¡Œè‡ªå·±é€‰ä¸¾ åå¯¹å¤–æä¾›æœåŠ¡ å¯¼è‡´æ•´ä¸ªå¤§é›†ç¾¤è¢«åˆ†è£‚æˆå‡ ä¸ªå°é›†ç¾¤ ä»è€Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ æœåŠ¡å™¨çš„æ„æˆ åœ¨ç‹¬ç«‹æœåŠ¡å™¨æ¨¡å¼ä¸‹ï¼š PrepRequestProcessoræ¥å—å®¢æˆ·ç«¯çš„è¯·æ±‚å¹¶æ‰§è¡Œè¿™ä¸ªè¯·æ±‚ï¼Œå¤„ç†ç»“æœåˆ™æ˜¯ç”Ÿæˆä¸€ä¸ªäº‹åŠ¡ SyncRequestProcessorè´Ÿè´£å°†äº‹åŠ¡æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Š åœ¨FinalRequestProcessor å¦‚æœRequestå¯¹è±¡åŒ…å«äº‹åŠ¡æ•°æ®ï¼Œè¯¥å¤„ç†å™¨å°†ä¼šæ¥å—å¯¹ZooKeeperæ•°æ®æ ‘çš„ä¿®æ”¹ï¼Œå¦åˆ™ï¼Œè¯¥å¤„ç†å™¨ä¼šä»æ•°æ®æ ‘ä¸­è¯»å–æ•°æ®å¹¶è¿”å›ç»™å®¢æˆ·ç«¯ é›†ç¾¤æ¨¡å¼ä¸‹çš„leaderï¼š ProposalRequestProcessorä¼šå‡†å¤‡ä¸€ä¸ªæè®®ï¼Œå¹¶å°†è¯¥æè®®å‘é€ç»™è·Ÿéšè€… å¯¹äºå†™æ“ä½œè¯·æ±‚ï¼Œè¿˜ä¼šå°†è¯·æ±‚è½¬å‘ç»™SyncRequestProcessor SyncRequestProcessoræ‰§è¡Œå®Œä¹‹åä¼šè§¦å‘AckRequestProcessorå¤„ç†å™¨ï¼Œè¿™ä¸ªå¤„ç†å™¨æ˜¯ä¸€ä¸ªç®€å•è¯·æ±‚å¤„ç†å™¨ï¼Œå®ƒä»…ä»…ç”Ÿæˆç¡®è®¤æ¶ˆæ¯å¹¶è¿”å›ç»™è‡ªå·± CommitRequestProcessorä¼šå°†æ”¶åˆ°è¶³å¤Ÿå¤šçš„ç¡®è®¤æ¶ˆæ¯çš„æè®®è¿›è¡Œæäº¤ oBeAppliedRequestProcessorä¼šåšå¥½commitæ¶ˆæ¯çš„ç¡®è®¤å¤„ç† é›†ç¾¤æ¨¡å¼ä¸‹çš„è·Ÿéšè€…ï¼š FollowerRequestProcessorå¤„ç†å™¨ä¹‹åè½¬å‘è¯·æ±‚ç»™CommitRequestProcessorï¼ŒåŒæ—¶ä¹Ÿä¼šè½¬å‘å†™è¯·æ±‚åˆ°ç¾¤é¦–æœåŠ¡å™¨ commitå¤„ç†å™¨åœ¨å¾—åˆ°leaderçš„commitæ¶ˆæ¯ä¹‹å‰ä¼šä¸€ç›´é˜»å¡ SendRequestProcessorä¼šå‘leaderå‘é€ç¡®è®¤æ¶ˆæ¯ å­˜å‚¨ æ—¥å¿— æœåŠ¡å™¨é€šè¿‡äº‹åŠ¡æ—¥å¿—æ¥æŒä¹…åŒ–äº‹åŠ¡ æœåŠ¡å™¨ä¼šæ—¶ä¸æ—¶åœ°æ»šåŠ¨æ—¥å¿—ï¼Œå³å…³é—­å½“å‰æ–‡ä»¶å¹¶æ‰“å¼€ä¸€ä¸ªæ–°çš„æ–‡ä»¶ æœåŠ¡å™¨åªæœ‰åœ¨å¼ºåˆ¶å°†äº‹åŠ¡å†™å…¥äº‹åŠ¡æ—¥å¿—ä¹‹åæ‰ç¡®è®¤å¯¹åº”çš„æè®® å¿«ç…§ æ¯ä¸€ä¸ªæœåŠ¡å™¨ä¼šç»å¸¸ä»¥åºåˆ—åŒ–æ•´ä¸ªæ•°æ®æ ‘çš„æ–¹å¼æ¥æå–å¿«ç…§ å› ä¸ºæœåŠ¡å™¨åœ¨è¿›è¡Œå¿«ç…§æ—¶è¿˜ä¼šç»§ç»­å¤„ç†è¯·æ±‚ï¼Œæ‰€ä»¥å½“å¿«ç…§å®Œæˆæ—¶ï¼Œæ•°æ®æ ‘å¯èƒ½åˆå‘ç”Ÿäº†å˜åŒ–ï¼Œæˆ‘ä»¬ç§°è¿™æ ·çš„å¿«ç…§æ˜¯æ¨¡ç³Šçš„ï¼ˆfuzzyï¼‰ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ éœ€è¦è®°å½•åºåˆ—åŒ–å¼€å§‹åˆ°åºåˆ—åŒ–ç»“æŸè¿™æ®µæ—¶é—´çš„æ“ä½œ å¹¶å°†å®ƒé‡æ”¾åˆ°ç»“æœä¸­ ä¼šè¯ ä¼šè¯çŠ¶æ€ç”± leader ç»´æŠ¤ ä¸ºäº†ä¿è¯ä¼šè¯çš„å­˜æ´»ï¼ŒæœåŠ¡å™¨éœ€è¦æ¥æ”¶ä¼šè¯çš„å¿ƒè·³ä¿¡æ¯ å¿ƒè·³å¯ä»¥æ˜¯æ¶ˆæ¯è¯·æ±‚æˆ–è€…pingæ¶ˆæ¯ leaderå‘é€ä¸€ä¸ªPINGæ¶ˆæ¯ç»™å®ƒçš„è¿½éšè€…ä»¬ï¼Œè¿½éšè€…ä»¬è¿”å›è‡ªä»æœ€æ–°ä¸€æ¬¡PINGæ¶ˆæ¯ä¹‹åçš„ä¸€ä¸ªsessionåˆ—è¡¨ ç¾¤é¦–æœåŠ¡å™¨æ¯åŠä¸ªtickå°±ä¼šå‘é€ä¸€ä¸ªpingæ¶ˆæ¯ ä½¿ç”¨è¿‡æœŸé˜Ÿåˆ—æ¥ç®¡ç†ä¼šè¯çš„è¿‡æœŸ é€šè¿‡ä¸€ä¸ªå«bucketçš„æ•°æ®ç»“æ„æ‰¹é‡ç®¡ç†ä¼šè¯ æ¯æ¬¡ä¼šå°†ä¸€æ‰¹è¿‡æœŸçš„ä¼šè¯æ¸…ç†æ‰ ç›‘è§†ç‚¹ ä¸€ä¸ªWatchManagerç±»çš„å®ä¾‹è´Ÿè´£ç®¡ç†å½“å‰å·²è¢«æ³¨å†Œçš„ç›‘è§†ç‚¹åˆ—è¡¨ï¼Œå¹¶è´Ÿè´£è§¦å‘å®ƒä»¬ æ¯ç§ç±»å‹çš„æœåŠ¡å™¨ç®¡ç†ç›‘è§†ç‚¹çš„æ–¹æ³•éƒ½æ˜¯ä¸€æ ·çš„ ç›‘è§†ç‚¹åªä¼šä¿å­˜åœ¨å†…å­˜ zkçš„è§’è‰² è§’è‰² è¯´æ˜ Leader(é¢†å¯¼è€…) ä¸ºå®¢æˆ·ç«¯æä¾›è¯»å’Œå†™çš„æœåŠ¡ï¼Œè´Ÿè´£æŠ•ç¥¨çš„å‘èµ·å’Œå†³è®®ï¼Œæ›´æ–°ç³»ç»ŸçŠ¶æ€ã€‚ Followerï¼ˆè·Ÿéšè€…ï¼‰ ä¸ºå®¢æˆ·ç«¯æä¾›è¯»æœåŠ¡ï¼Œå¦‚æœæ˜¯å†™æœåŠ¡åˆ™è½¬å‘ç»™Leaderã€‚åœ¨é€‰ä¸¾è¿‡ç¨‹ä¸­å‚ä¸æŠ•ç¥¨ã€‚ Observeï¼ˆè§‚å¯Ÿè€…ï¼‰ ä¸ºå®¢æˆ·ç«¯æä¾›è¯»æœåŠ¡å™¨ï¼Œå¦‚æœæ˜¯å†™æœåŠ¡åˆ™è½¬å‘ç»™Leaderã€‚è§‚å¯Ÿè€…åªè·å–ä¸€æ¡åŒ…å«å·²æäº¤æè®®çš„å†…å®¹çš„INFORMæ¶ˆæ¯ã€‚ä¸å‚ä¸é€‰ä¸¾è¿‡ç¨‹ä¸­çš„æŠ•ç¥¨ï¼Œä¹Ÿä¸å‚ä¸â€œè¿‡åŠå†™æˆåŠŸâ€ç­–ç•¥ã€‚åœ¨ä¸å½±å“å†™æ€§èƒ½çš„æƒ…å†µä¸‹æå‡é›†ç¾¤çš„è¯»æ€§èƒ½ã€‚ clientï¼ˆå®¢æˆ·ç«¯ï¼‰ è¿æ¥zookeeperæœåŠ¡å™¨çš„ä½¿ç”¨ç€ï¼Œè¯·æ±‚çš„å‘èµ·è€…ã€‚ç‹¬ç«‹äºzookeeperæœåŠ¡å™¨é›†ç¾¤ä¹‹å¤–çš„è§’è‰²ã€‚ zabåè®® zabçš„äº‹åŠ¡ä¿éšœï¼š å¦‚æœleaderæŒ‰é¡ºåºå¹¿æ’­äº†äº‹åŠ¡T1å’Œäº‹åŠ¡T2ï¼Œé‚£ä¹ˆæ¯ä¸ªæœåŠ¡å™¨åœ¨æäº¤T2äº‹åŠ¡å‰ä¿è¯äº‹åŠ¡T1å·²ç»æäº¤å®Œæˆ å¦‚æœæŸä¸ªæœåŠ¡å™¨æŒ‰ç…§äº‹åŠ¡T1ã€äº‹åŠ¡T2çš„é¡ºåºæäº¤äº‹åŠ¡ï¼Œæ‰€æœ‰å…¶ä»–æœåŠ¡å™¨ä¹Ÿå¿…ç„¶ä¼šåœ¨æäº¤äº‹åŠ¡T2å‰æäº¤äº‹åŠ¡T1 zabçš„é¢†å¯¼ä¿éšœï¼š ä¸€ä¸ªè¢«é€‰ä¸¾çš„leaderç¡®ä¿åœ¨æäº¤å®Œæ‰€æœ‰ä¹‹å‰éœ€è¦æäº¤çš„äº‹åŠ¡ï¼Œä¹‹åæ‰å¼€å§‹å¹¿æ’­æ–°çš„äº‹åŠ¡ åœ¨ä»»ä½•æ—¶é—´ç‚¹ï¼Œéƒ½ä¸ä¼šå‡ºç°ä¸¤ä¸ªleader è¯»å†™æ•°æ® å†™Leader å®¢æˆ·ç«¯å‘Leaderå‘èµ·å†™è¯·æ±‚ Leaderå°†å†™è¯·æ±‚ (å¯¹äºè¿™ä¸ªè¯·æ±‚çš„äº‹åŠ¡åŒ…æ‹¬äº†ä¸¤ä¸ªé‡è¦å­—æ®µï¼šèŠ‚ç‚¹ä¸­æ–°çš„æ•°æ®å­—æ®µå€¼å’Œè¯¥èŠ‚ç‚¹æ–°çš„ç‰ˆæœ¬å·) ä»¥Proposalçš„å½¢å¼å‘ç»™æ‰€æœ‰Followerå¹¶ç­‰å¾…ACK Followeræ”¶åˆ°Leaderçš„Proposalåè¿”å›ACK Leaderå¾—åˆ°è¿‡åŠæ•°çš„ACKï¼ˆLeaderå¯¹è‡ªå·±é»˜è®¤æœ‰ä¸€ä¸ªACKï¼‰åå‘æ‰€æœ‰çš„Followerå’ŒObserverå‘é€Commmit (å¦‚æœä¸€æ¡æ¶ˆæ¯æ²¡æœ‰æ¥æ”¶åˆ°commit é‚£ä¹ˆè¿™æ¡æ¶ˆæ¯å¯¹å®¢æˆ·ç«¯ä¸å¯è§) Leaderå°†å¤„ç†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ è¿™é‡Œéœ€è¦æ³¨æ„åˆ°çš„æ˜¯è¯·æ±‚çš„äº‹åŠ¡å…·æœ‰ä¸¤ä¸ªç‰¹æ€§ï¼š åŸå­æ€§ å¹‚ç­‰æ€§ æ¯ä¸ªäº‹åŠ¡éƒ½æœ‰ä¸€ä¸ªzxid(äº‹åŠ¡ID), è¿™ä¸ªidæ˜¯ä¿è¯äº‹åŠ¡æŒ‰åºæ‰§è¡Œçš„å…³é”®ä¸é›†ç¾¤é€‰ä¸¾çš„é‡è¦ä¾æ® å†™Follower/Observer å¤šäº†ä¸€æ­¥è·Ÿéšè€…è½¬å‘è¯·æ±‚åˆ°é¢†å¯¼è€… è¯»æ“ä½œ Leader/Follower/Observeréƒ½å¯ç›´æ¥å¤„ç†è¯»è¯·æ±‚ï¼Œä»æœ¬åœ°å†…å­˜ä¸­è¯»å–æ•°æ®å¹¶è¿”å›ç»™å®¢æˆ·ç«¯å³å¯ï¼Œ æ‰€ä»¥ZooKeeperåœ¨å¤„ç†ä»¥åªè¯»è¯·æ±‚ä¸ºä¸»è¦è´Ÿè½½æ—¶ï¼Œæ€§èƒ½ä¼šå¾ˆé«˜ åŒæ­¥æ•°æ® å½“leaderå‘ç”Ÿå˜åŒ–æ—¶ æœ‰ä¸¤ç§æ–¹å¼æ¥æ›´æ–°è·Ÿéšè€…ï¼š DIFF å‘é€ç¼ºå¤±çš„äº‹åŠ¡ç‚¹ SNAP å‘é€æ•°æ®çš„å®Œæ•´å¿«ç…§ é€‰ä¸¾è¿‡ç¨‹ æœåŠ¡å™¨å¯åŠ¨é˜¶æ®µçš„Leaderé€‰ä¸¾ï¼š æ¯å°æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šç»™è‡ªå·±æŠ•ç¥¨ã€‚ æŠ•å®Œç¥¨ä¹‹åï¼Œä¼šæŠŠè‡ªå·±çš„æŠ•ç¥¨ç»“æœå¹¿æ’­ç»™é›†ç¾¤ä¸­çš„æ¯ä¸€å°æœåŠ¡å™¨ã€‚ è¿™æ ·æ¯å°æœåŠ¡å™¨éƒ½æœ‰é›†ç¾¤æ‰€æœ‰æœåŠ¡å™¨çš„æŠ•ç¥¨ï¼Œä¼šä¼˜å…ˆæ¯”è¾ƒzxid zxidæœ€å¤§çš„å°±æ˜¯ä¸ºleader å¦‚æœzxidéƒ½ç›¸åŒ åˆ™leader å°±æ˜¯myidæœ€å¤§çš„é‚£å°æœåŠ¡å™¨ æœåŠ¡å™¨è¿è¡ŒæœŸé—´çš„Leaderé€‰ä¸¾ï¼š è¿è¡ŒæœŸé—´leaderæŒ‚äº† é‡å¤ä¸Šé¢æ“ä½œ æ­å»º åœ¨zké…ç½®æ–‡ä»¶é…ç½®æœåŠ¡å™¨é›†ç¾¤ server.0=192.168.182.128:2888:3888 server.1=192.168.182.129:2888:3888 server.2=192.168.182.130:2888:3888 ä¿®æ”¹zk myid å¯åŠ¨å„ä¸ªzk è¿æ¥é›†ç¾¤ ZkClient zkClient = new ZkClient(\"192.168.182.128:2181,192.168.182.129:2181,192.168.182.130:2181\"); zkClient.createPersistent(\"/lock\"); zkClient.close(); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-22 06:56:41 "},"ä¸­é—´ä»¶/åˆ†å¸ƒå¼/xxl-job.html":{"url":"ä¸­é—´ä»¶/åˆ†å¸ƒå¼/xxl-job.html","title":"xxl-job","keywords":"","body":"xxl-job ä¼ ç»Ÿå®šæ—¶ä»»åŠ¡ å•æœºï¼ˆæ— é›†ç¾¤ï¼‰ å®šæ—¶ä»»åŠ¡çš„é—®é¢˜ é«˜å¹¶å‘ä¸‹ è¯·æ±‚é‡å¤§çš„æƒ…å†µä¸‹ï¼Œç‹¬ç«‹çš„jobæœåŠ¡å™¨å®•æœºä¹‹åå¦‚ä½•å¤„ç†æœªå®Œæˆçš„ä»»åŠ¡ åˆ†å¸ƒå¼ä¸‹ åˆ†å¸ƒå¼é›†ç¾¤çš„æƒ…å†µä¸‹ï¼Œæ€ä¹ˆä¿è¯å®šæ—¶ä»»åŠ¡ä¸è¢«é‡å¤æ‰§è¡Œ åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡è§£å†³æ–¹æ¡ˆ é›†ç¾¤èŠ‚ç‚¹è¯»å…¥ä¸€ä¸ªå…¨å±€å…±äº«å˜é‡æ¥å†³å®šæ˜¯å¦è¿è¡Œä»»åŠ¡ åˆ†å¸ƒå¼é” æ•°æ®åº“ é…ç½®æ–‡ä»¶ åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å° æ¶æ„ å·¥ä½œåŸç† æ‰§è¡Œå™¨ ä¾èµ– com.xuxueli xxl-job-core 2.1.2 é…ç½® xxl.job.admin.addresses=http://127.0.0.1:8080/xxl-job-admin xxl.job.executor.appname=xxl-job-executor-sample xxl.job.executor.ip= xxl.job.executor.port=7777 ### xxl-job, access token xxl.job.accessToken= ### xxl-job log path xxl.job.executor.logpath=/data/applogs/xxl-job/jobhandler ### xxl-job log retention days xxl.job.executor.logretentiondays=30 @Configuration public class XxlJobConfig { private Logger logger = LoggerFactory.getLogger(XxlJobConfig.class); @Value(\"${xxl.job.admin.addresses}\") private String adminAddresses; @Value(\"${xxl.job.executor.appname}\") private String appName; @Value(\"${xxl.job.executor.ip}\") private String ip; @Value(\"${xxl.job.executor.port}\") private int port; @Value(\"${xxl.job.accessToken}\") private String accessToken; @Value(\"${xxl.job.executor.logpath}\") private String logPath; @Value(\"${xxl.job.executor.logretentiondays}\") private int logRetentionDays; @Bean public XxlJobSpringExecutor xxlJobExecutor() { logger.info(\">>>>>>>>>>> xxl-job config init.\"); XxlJobSpringExecutor xxlJobSpringExecutor = new XxlJobSpringExecutor(); xxlJobSpringExecutor.setAdminAddresses(adminAddresses); xxlJobSpringExecutor.setAppName(appName); xxlJobSpringExecutor.setIp(ip); xxlJobSpringExecutor.setPort(port); xxlJobSpringExecutor.setAccessToken(accessToken); xxlJobSpringExecutor.setLogPath(logPath); xxlJobSpringExecutor.setLogRetentionDays(logRetentionDays); return xxlJobSpringExecutor; } } ç¼–å†™å¤„ç†å™¨ @XxlJob(\"demoJobHandler\") public ReturnT demoJobHandler(String param) throws Exception { XxlJobLogger.log(\"XXL-JOB, Hello World.\"); for (int i = 0; i æ‰§è¡Œå™¨é›†ç¾¤ å¯ä»¥é…ç½®å¤šä¸ªåŒappnameçš„æ‰§è¡Œå™¨ï¼Œæ¥å®ç°å®šæ—¶ä»»åŠ¡æ‰§è¡Œå™¨è´Ÿè½½å‡è¡¡ è·¯ç”±ç­–ç•¥ åˆ†ç‰‡å¹¿æ’­ é›†ç¾¤å¤šå°æœºå™¨åŒæ—¶è¿›è¡Œ è°ƒåº¦ä¸­å¿ƒé›†ç¾¤ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè°ƒåº¦ä¸­å¿ƒæ˜¯ä¸€ä¸»å¤šå¤‡çš„å…³ç³»ï¼Œåªæœ‰ä¸€å°è°ƒåº¦ä¸­å¿ƒè¿›è¡Œè°ƒåº¦ä»»åŠ¡ å¯åŠ¨å¤šå°è°ƒåº¦ä¸­å¿ƒ æ‰§è¡Œå™¨é…ç½®å¤šä¸ªè°ƒåº¦ä¸­å¿ƒåœ°å€ xxl.job.admin.addresses=http://127.0.0.1:8080/xxl-job-admin,http://127.0.0.1:8079/xxl-job-admin MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-02 07:41:55 "},"ä¸­é—´ä»¶/åˆ†å¸ƒå¼/Apollo.html":{"url":"ä¸­é—´ä»¶/åˆ†å¸ƒå¼/Apollo.html","title":"Apollo","keywords":"","body":"Apollo Apolloï¼ˆé˜¿æ³¢ç½—ï¼‰æ˜¯æºç¨‹æ¡†æ¶éƒ¨é—¨ç ”å‘çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œèƒ½å¤Ÿé›†ä¸­åŒ–ç®¡ç†åº”ç”¨ä¸åŒç¯å¢ƒã€ä¸åŒé›†ç¾¤çš„é…ç½®ï¼Œé…ç½®ä¿®æ”¹åèƒ½å¤Ÿå®æ—¶æ¨é€åˆ°åº”ç”¨ç«¯ï¼Œå¹¶ä¸”å…·å¤‡è§„èŒƒçš„æƒé™ã€æµç¨‹æ²»ç†ç­‰ç‰¹æ€§ï¼Œé€‚ç”¨äºå¾®æœåŠ¡é…ç½®ç®¡ç†åœºæ™¯ åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ å°†é…ç½®æ–‡ä»¶ä¿¡æ¯æ³¨å†Œåˆ°é…ç½®ä¸­å¿ƒå¹³å°ä¸Šï¼Œå¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒå®æ—¶æ›´æ–°é…ç½®æ–‡ä»¶ä¿¡æ¯ï¼Œç»Ÿä¸€ç®¡ç†é…ç½®æ–‡ä»¶ï¼Œä¸éœ€è¦é‡æ–°æ‰“åŒ…å‘å¸ƒã€‚ æµç¨‹ å®‰è£… æ‹‰å–ä»£ç :https://github.com/nobodyiam/apollo-build-scripts åˆ›å»ºæ•°æ®åº“,å¯¼å…¥sqlæ–‡ä»¶ é…ç½®demo.shæ•°æ®åº“è¿æ¥ä¿¡æ¯ æ‰§è¡Œ demo.sh start Spring bootæ•´åˆ ä¿®æ”¹/opt/settings/server.propertiesï¼ˆMac/Linuxï¼‰æˆ–C:\\opt\\settings\\server.propertiesï¼ˆWindowsï¼‰æ–‡ä»¶ï¼Œè®¾ç½®env å¼•å…¥ä¾èµ– com.ctrip.framework.apollo apollo-client 1.5.1 é…ç½®æ³¨å†Œä¸­å¿ƒ server.port=8081 spring.application.name=service eureka.client.service-url.defaultZone=http://127.0.0.1:8080/eureka apollo.properties local.meta=http://127.0.0.1:8080 dev.meta=http://127.0.0.1:8080 fat.meta=${fat_meta} uat.meta=${uat_meta} lpt.meta=${lpt_meta} pro.meta=${pro_meta} META-INF/app.properties app.id=app_id MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-03 08:02:43 "},"ä¸­é—´ä»¶/æ•°æ®åº“ä¸­é—´ä»¶/æ•°æ®åº“ä¸­é—´ä»¶.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“ä¸­é—´ä»¶/æ•°æ®åº“ä¸­é—´ä»¶.html","title":"æ•°æ®åº“ä¸­é—´ä»¶","keywords":"","body":"æ•°æ®åº“ä¸­é—´ä»¶ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-22 00:33:18 "},"ä¸­é—´ä»¶/æ•°æ®åº“ä¸­é—´ä»¶/MyCat.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“ä¸­é—´ä»¶/MyCat.html","title":"MyCat","keywords":"","body":"MyCat MyCATæ˜¯ä¸€æ¬¾ç”±é˜¿é‡ŒCobaræ¼”å˜è€Œæ¥çš„ç”¨äºæ”¯æŒæ•°æ®åº“ï¼Œè¯»å†™åˆ†ç¦»ã€åˆ†è¡¨åˆ†åº“çš„åˆ†å¸ƒå¼ä¸­é—´ä»¶ MyCATåŸç†MyCATä¸»è¦æ˜¯é€šè¿‡å¯¹SQLçš„æ‹¦æˆªï¼Œç„¶åç»è¿‡ä¸€å®šè§„åˆ™çš„åˆ†ç‰‡è§£æã€è·¯ç”±åˆ†æã€è¯»å†™åˆ†ç¦»åˆ†æã€ç¼“å­˜åˆ†æç­‰ï¼Œç„¶åå°†SQLå‘ç»™åç«¯çœŸå®çš„æ•°æ®å—ï¼Œå¹¶å°†è¿”å›çš„ç»“æœåšé€‚å½“å¤„ç†è¿”å›ç»™å®¢æˆ·ç«¯ ä½¿ç”¨ server.xml 123 mycat_testdb --> 123 mycat_testdb true schema.xml S1ï¼ŒM2->S2ï¼Œå¹¶ä¸”M1ä¸ M2äº’ä¸ºä¸»å¤‡)ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼ŒM2,S1,S2éƒ½å‚ä¸selectè¯­å¥çš„è´Ÿè½½å‡è¡¡ï¼› 2ï¼Œæ‰€æœ‰çš„readHostä¸writeHostéƒ½å‚ä¸selectè¯­å¥çš„è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç³»ç»Ÿçš„å†™æ“ä½œå‹åŠ›ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ä¸»æœºéƒ½å¯ä»¥æ‰¿æ‹…è´Ÿè½½å‡è¡¡ï¼› --> select user() åˆ†ç‰‡æšä¸¾ åˆ†ç‰‡æšä¸¾ç®—æ³•å°±æ˜¯æ ¹æ®ä¸åŒçš„æšä¸¾(å¸¸é‡)ï¼Œåˆ†ç±»å­˜å‚¨ã€‚ schema.xml rule.xml name hash-int partition-hash-int.txt 1 1 partition-hash-int.txt wuhan=0 shanghai=1 suzhou=2 å–æ¨¡ ä½¿ç”¨æ ¹æ®IDå¯¹èŠ‚ç‚¹æ•°é‡å–ä½™ï¼Œå¾—åˆ°å­˜æ”¾èŠ‚ç‚¹ è¿™ç§æ–¹å¼æ•°æ®åº“èŠ‚ç‚¹ä¸€å¼€å§‹å°±æ˜¯å›ºå®šçš„ï¼Œå¦‚æœèŠ‚ç‚¹æ•°é‡å‘ç”Ÿå˜æ›´ï¼Œéœ€è¦è¿ç§»æ•°æ®rehash æŸ¥è¯¢åŸç† å¦‚æœå«æœ‰åˆ†ç‰‡å­—æ®µï¼Œåˆ™æ ¹æ®å­—æ®µè®¡ç®—å‡ºæ•°æ®æ‰€åœ¨DBï¼Œå‘DBå‘é€æŸ¥è¯¢è¯·æ±‚å¹¶è¿”å›ç»™å®¢æˆ·ç«¯ å¦åˆ™å‘æ‰€æœ‰DBèŠ‚ç‚¹å‘é€æŸ¥è¯¢è¯·æ±‚ï¼Œæ±‡æ€»ç»“æœåæ‹¼æ¥è¿”å›ç»™å®¢æˆ·ç«¯ æ‰€ä»¥å¦‚æœæ²¡æœ‰æ’åºï¼Œä¼šå‘ç°åŒæ ·çš„æ¡ä»¶æŸ¥è¯¢ï¼Œä¼šæœ‰ä¸åŒçš„é¡ºåº MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-22 12:58:19 "},"ä¸­é—´ä»¶/æ•°æ®åº“ä¸­é—´ä»¶/ShardingJDBC.html":{"url":"ä¸­é—´ä»¶/æ•°æ®åº“ä¸­é—´ä»¶/ShardingJDBC.html","title":"ShardingJDBC","keywords":"","body":"ShardingJDBC ä¸€ä¸ªå®¢æˆ·ç«¯æ•°æ®åº“åˆ†ç‰‡åº“ åŸç† ç®€å•ä½¿ç”¨ io.shardingjdbc sharding-jdbc-core 2.0.3 #shardingjdbcé…ç½® sharding: jdbc: data-sources: ###é…ç½®ç¬¬ä¸€ä¸ªä»æ•°æ®åº“ ds_slave_0: password: 123 jdbc-url: jdbc:mysql://192.168.182.132:3306/test?useUnicode=true&characterEncoding=utf-8&useSSL=true driver-class-name: com.mysql.jdbc.Driver username: root ###ä¸»æ•°æ®åº“é…ç½® ds_master: password: 123 jdbc-url: jdbc:mysql://192.168.182.131:3306/test?useUnicode=true&characterEncoding=utf-8&useSSL=true driver-class-name: com.mysql.jdbc.Driver username: root ###é…ç½®è¯»å†™åˆ†ç¦» master-slave-rule: ###é…ç½®ä»åº“é€‰æ‹©ç­–ç•¥ï¼Œæä¾›è½®è¯¢ä¸éšæœºï¼Œè¿™é‡Œé€‰æ‹©ç”¨è½®è¯¢ load-balance-algorithm-type: round_robin ####æŒ‡å®šä»æ•°æ®åº“ slave-data-source-names: ds_slave_0 name: ds_ms ####æŒ‡å®šä¸»æ•°æ®åº“ master-data-source-name: ds_master @Configuration @EnableConfigurationProperties(ShardingMasterSlaveConfig.class) @Log4j2 // è¯»å–ds_masterä¸»æ•°æ®æºå’Œè¯»å†™åˆ†ç¦»é…ç½® @ConditionalOnProperty({ \"sharding.jdbc.data-sources.ds_master.jdbc-url\", \"sharding.jdbc.master-slave-rule.master-data-source-name\" }) public class ShardingDataSourceConfig { @Autowired private ShardingMasterSlaveConfig shardingMasterSlaveConfig; @Bean public DataSource masterSlaveDataSource() throws SQLException { final Map dataSourceMap = Maps.newHashMap(); dataSourceMap.putAll(shardingMasterSlaveConfig.getDataSources()); final Map newHashMap = Maps.newHashMap(); // åˆ›å»º MasterSlaveæ•°æ®æº DataSource dataSource = MasterSlaveDataSourceFactory.createDataSource(dataSourceMap, shardingMasterSlaveConfig.getMasterSlaveRule(), newHashMap); log.info(\"masterSlaveDataSource config complete\"); return dataSource; } } @Data @ConfigurationProperties(prefix = \"sharding.jdbc\") public class ShardingMasterSlaveConfig { // å­˜æ”¾æœ¬åœ°å¤šä¸ªæ•°æ®æº private Map dataSources = new HashMap<>(); private MasterSlaveRuleConfiguration masterSlaveRule; } åˆ†è¡¨ private DataSource buildDataSource() { // 1.è®¾ç½®åˆ†åº“æ˜ å°„ Map dataSourceMap = new HashMap<>(2); dataSourceMap.put(\"ds_0\", createDataSource(\"ds_0\")); // dataSourceMap.put(\"ds_1\", createDataSource(\"ds_1\")); // è®¾ç½®é»˜è®¤dbä¸ºds_0ï¼Œä¹Ÿå°±æ˜¯ä¸ºé‚£äº›æ²¡æœ‰é…ç½®åˆ†åº“åˆ†è¡¨ç­–ç•¥çš„æŒ‡å®šçš„é»˜è®¤åº“ // å¦‚æœåªæœ‰ä¸€ä¸ªåº“ï¼Œä¹Ÿå°±æ˜¯ä¸éœ€è¦åˆ†åº“çš„è¯ï¼Œmapé‡Œåªæ”¾ä¸€ä¸ªæ˜ å°„å°±è¡Œäº†ï¼Œåªæœ‰ä¸€ä¸ªåº“æ—¶ä¸éœ€è¦æŒ‡å®šé»˜è®¤åº“ï¼Œ // ä½†2ä¸ªåŠä»¥ä¸Šæ—¶å¿…é¡»æŒ‡å®šé»˜è®¤åº“ï¼Œå¦åˆ™é‚£äº›æ²¡æœ‰é…ç½®ç­–ç•¥çš„è¡¨å°†æ— æ³•æ“ä½œæ•°æ® DataSourceRule rule = new DataSourceRule(dataSourceMap, \"ds_0\"); // 2.è®¾ç½®åˆ†è¡¨æ˜ å°„ï¼Œå°†t_order_0å’Œt_order_1ä¸¤ä¸ªå®é™…çš„è¡¨æ˜ å°„åˆ°t_orderé€»è¾‘è¡¨ TableRule orderTableRule = TableRule.builder(\"t_order\").actualTables(Arrays.asList(\"t_order_0\", \"t_order_1\")) .dataSourceRule(rule).build(); // 3.å…·ä½“çš„åˆ†åº“åˆ†è¡¨ç­–ç•¥ ShardingRule shardingRule = ShardingRule.builder().dataSourceRule(rule) .tableRules(Arrays.asList(orderTableRule)) // æ ¹æ®useridåˆ†ç‰‡å­—æ®µ .tableShardingStrategy(new TableShardingStrategy(\"user_id\", new TableShardingAlgorithm())).build(); // åˆ›å»ºæ•°æ®æº DataSource dataSource = ShardingDataSourceFactory.createDataSource(shardingRule); return dataSource; } private DataSource createDataSource(String dataSourceName) { // ä½¿ç”¨druidè¿æ¥æ•°æ®åº“ DruidDataSource druidDataSource = new DruidDataSource(); druidDataSource.setDriverClassName(className); druidDataSource.setUrl(String.format(url, dataSourceName)); druidDataSource.setUsername(username); druidDataSource.setPassword(password); return druidDataSource; } public class TableShardingAlgorithm implements SingleKeyTableShardingAlgorithm { // sql ä¸­å…³é”®å­— åŒ¹é…ç¬¦ä¸º =çš„æ—¶å€™ï¼Œè¡¨çš„è·¯ç”±å‡½æ•° @Override public String doEqualSharding(Collection availableTargetNames, ShardingValue shardingValue) { for (String tableName : availableTargetNames) { if (tableName.endsWith(shardingValue.getValue() % 2 + \"\")) { return tableName; } } throw new IllegalArgumentException(); } ... } spring bootå¿«é€Ÿæ•´åˆ io.shardingsphere sharding-jdbc-spring-boot-starter 3.0.0.M3 sharding: jdbc: ####ds1 datasource: names: ds0 ds0: password: 123 type: com.alibaba.druid.pool.DruidDataSource driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://192.168.182.131:3306/ds_0 username: root config: sharding: tables: t_order: table-strategy: inline: #### æ ¹æ®userid è¿›è¡Œåˆ†ç‰‡ sharding-column: user_id algorithm-expression: ds_0.t_order_$->{user_id % 2} actual-data-nodes: ds0.t_order_$->{0..1} props: sql: ### å¼€å¯åˆ†ç‰‡æ—¥å¿— show: true MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-24 11:26:25 "},"ä¸­é—´ä»¶/æ–‡ä»¶æœåŠ¡å™¨/æ–‡ä»¶æœåŠ¡å™¨.html":{"url":"ä¸­é—´ä»¶/æ–‡ä»¶æœåŠ¡å™¨/æ–‡ä»¶æœåŠ¡å™¨.html","title":"æ–‡ä»¶æœåŠ¡å™¨","keywords":"","body":"æ–‡ä»¶æœåŠ¡å™¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-01 07:09:06 "},"ä¸­é—´ä»¶/æ–‡ä»¶æœåŠ¡å™¨/FastDFS.html":{"url":"ä¸­é—´ä»¶/æ–‡ä»¶æœåŠ¡å™¨/FastDFS.html","title":"FastDFS","keywords":"","body":"FastDFS åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼ˆDistributed File Systemï¼‰æ˜¯æŒ‡æ–‡ä»¶ç³»ç»Ÿç®¡ç†çš„ç‰©ç†å­˜å‚¨èµ„æºä¸ä¸€å®šç›´æ¥è¿æ¥åœ¨æœ¬åœ°èŠ‚ç‚¹ä¸Šï¼Œè€Œæ˜¯é€šè¿‡è®¡ç®—æœºç½‘ç»œä¸èŠ‚ç‚¹(å¯ç®€å•çš„ç†è§£ä¸ºä¸€å°è®¡ç®—æœº)ç›¸è¿ NFS GFS HDFS æ¶æ„ Trackerï¼šè´Ÿè´£è°ƒåº¦ Storageï¼šè´Ÿè´£å­˜å‚¨ groupï¼šç»„ï¼Œä¹Ÿç§°ä¸ºå·ã€‚åŒç»„å†…æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ˜¯å®Œå…¨ç›¸åŒçš„ ä¸Šä¼ æµç¨‹ å®‰è£… docker pull delron/fastdfs å®‰è£…Tracker docker run -d --network=host --name tracker -v /docker/fastdfs/tracker:/var/fdfs delron/fastdfs tracker å®‰è£…Storage docker run -d --network=host --name storage -e TRACKER_SERVER=192.168.1.56:22122 -v /docker/fastdfs/storage:/var/fdfs -e GROUP_NAME=group1 delron/fastdfs storage JAVA API ä¾èµ– com.github.tobato fastdfs-client ${fastDFS.client.version} é…ç½® fdfs: so-timeout: 1501 # è¶…æ—¶æ—¶é—´ connect-timeout: 601 # è¿æ¥è¶…æ—¶æ—¶é—´ thumb-image: # ç¼©ç•¥å›¾ width: 60 height: 60 tracker-list: # trackeråœ°å€ - my-pc:22122 image: adress: http://my-pc:8888/ ä½¿ç”¨ StorePath storePath = storageClient.uploadImageAndCrtThumbImage(file.getInputStream(), file.getSize(),\"æ‰©å±•å\", null); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-01 07:09:06 "},"ç§»åŠ¨å¼€å‘/nav.html":{"url":"ç§»åŠ¨å¼€å‘/nav.html","title":"ğŸ“±ç§»åŠ¨å¼€å‘","keywords":"","body":"ç§»åŠ¨å¼€å‘ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 12:40:15 "},"ç§»åŠ¨å¼€å‘/å®‰å“/nav.html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/nav.html","title":"å®‰å“","keywords":"","body":"å®‰å“ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 12:40:15 "},"ç§»åŠ¨å¼€å‘/å®‰å“/Activity.html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/Activity.html","title":"Activity","keywords":"","body":"ç›®å½• [toc] Activity ä»‹ç» Activity æ˜¯ä¸€ä¸ªåº”ç”¨ç»„ä»¶ï¼Œç”¨æˆ·å¯ä¸å…¶æä¾›çš„å±å¹•è¿›è¡Œäº¤äº’ï¼Œä»¥æ‰§è¡Œæ‹¨æ‰“ç”µè¯ã€æ‹æ‘„ç…§ç‰‡ã€å‘é€ç”µå­é‚®ä»¶æˆ–æŸ¥çœ‹åœ°å›¾ç­‰æ“ä½œã€‚ æ¯ä¸ª Activity éƒ½ä¼šè·å¾—ä¸€ä¸ªç”¨äºç»˜åˆ¶å…¶ç”¨æˆ·ç•Œé¢çš„çª—å£ã€‚çª—å£é€šå¸¸ä¼šå……æ»¡å±å¹•ï¼Œä½†ä¹Ÿå¯å°äºå±å¹•å¹¶æµ®åŠ¨åœ¨å…¶ä»–çª—å£ä¹‹ä¸Šã€‚ ä¸€ä¸ªåº”ç”¨é€šå¸¸ç”±å¤šä¸ªå½¼æ­¤æ¾æ•£è”ç³»çš„ Activity ç»„æˆã€‚ ä¸€èˆ¬ä¼šæŒ‡å®šåº”ç”¨ä¸­çš„æŸä¸ª Activity ä¸ºâ€œä¸»â€Activityï¼Œå³é¦–æ¬¡å¯åŠ¨åº”ç”¨æ—¶å‘ˆç°ç»™ç”¨æˆ·çš„é‚£ä¸ª Activityã€‚ è€Œä¸”æ¯ä¸ª Activity å‡å¯å¯åŠ¨å¦ä¸€ä¸ª Activityï¼Œä»¥ä¾¿æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚ æ¯æ¬¡æ–° Activity å¯åŠ¨æ—¶ï¼Œå‰ä¸€ Activity ä¾¿ä¼šåœæ­¢ï¼Œä½†ç³»ç»Ÿä¼šåœ¨å †æ ˆï¼ˆâ€œè¿”å›æ ˆâ€ï¼‰ä¸­ä¿ç•™è¯¥ Activityã€‚ å½“æ–° Activity å¯åŠ¨æ—¶ï¼Œç³»ç»Ÿä¼šå°†å…¶æ¨é€åˆ°è¿”å›æ ˆä¸Šï¼Œå¹¶å–å¾—ç”¨æˆ·ç„¦ç‚¹ã€‚ è¿”å›æ ˆéµå¾ªåŸºæœ¬çš„â€œåè¿›å…ˆå‡ºâ€å †æ ˆæœºåˆ¶ï¼Œå› æ­¤ï¼Œå½“ç”¨æˆ·å®Œæˆå½“å‰ Activity å¹¶æŒ‰â€œè¿”å›â€æŒ‰é’®æ—¶ï¼Œç³»ç»Ÿä¼šä»å †æ ˆä¸­å°†å…¶å¼¹å‡ºï¼ˆå¹¶é”€æ¯ï¼‰ï¼Œç„¶åæ¢å¤å‰ä¸€ Activityã€‚ ï¼ˆä»»åŠ¡å’Œè¿”å›æ ˆæ–‡æ¡£ä¸­å¯¹è¿”å›æ ˆæœ‰æ›´è¯¦ç»†çš„é˜è¿°ã€‚ï¼‰ å½“ä¸€ä¸ª Activity å› æŸä¸ªæ–° Activity å¯åŠ¨è€Œåœæ­¢æ—¶ï¼Œç³»ç»Ÿä¼šé€šè¿‡è¯¥ Activity çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒæ–¹æ³•é€šçŸ¥å…¶è¿™ä¸€çŠ¶æ€å˜åŒ–ã€‚Activity å› çŠ¶æ€å˜åŒ–â€”ç³»ç»Ÿæ˜¯åˆ›å»º Activityã€åœæ­¢ Activityã€æ¢å¤ Activity è¿˜æ˜¯é”€æ¯ Activityâ€” è€Œæ”¶åˆ°çš„å›è°ƒæ–¹æ³•å¯èƒ½æœ‰è‹¥å¹²ç§ï¼Œæ¯ä¸€ç§å›è°ƒéƒ½ä¼šä¸ºæ‚¨æä¾›æ‰§è¡Œä¸è¯¥çŠ¶æ€å˜åŒ–ç›¸åº”çš„ç‰¹å®šæ“ä½œçš„æœºä¼šã€‚ ä¾‹å¦‚ï¼Œåœæ­¢æ—¶ï¼Œæ‚¨çš„ Activity åº”é‡Šæ”¾ä»»ä½•å¤§å‹å¯¹è±¡ï¼Œä¾‹å¦‚ç½‘ç»œæˆ–æ•°æ®åº“è¿æ¥ã€‚ å½“ Activity æ¢å¤æ—¶ï¼Œæ‚¨å¯ä»¥é‡æ–°è·å–æ‰€éœ€èµ„æºï¼Œå¹¶æ¢å¤æ‰§è¡Œä¸­æ–­çš„æ“ä½œã€‚ è¿™äº›çŠ¶æ€è½¬å˜éƒ½æ˜¯ Activity ç”Ÿå‘½å‘¨æœŸçš„ä¸€éƒ¨åˆ†ã€‚ ç”Ÿå‘½å‘¨æœŸ onCreate:ç³»ç»Ÿåœ¨åˆ›å»ºActivityæ—¶è°ƒç”¨ï¼Œå¿…é¡»åœ¨æ­¤æ–¹æ³•å†…è°ƒç”¨ setContentView() onPauseï¼šä½œä¸ºç”¨æˆ·ç¦»å¼€ Activity çš„ç¬¬ä¸€ä¸ªä¿¡å·ï¼ˆä½†å¹¶ä¸æ€»æ˜¯æ„å‘³ç€ Activity ä¼šè¢«é”€æ¯ï¼‰è¿›è¡Œè°ƒç”¨ onRestartï¼šåœ¨ Activity å·²åœæ­¢å¹¶å³å°†å†æ¬¡å¯åŠ¨å‰è°ƒç”¨ onResume:åœ¨ Activity å³å°†å¼€å§‹ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ä¹‹å‰è°ƒç”¨ onStopï¼šåœ¨ Activity å¯¹ç”¨æˆ·ä¸å†å¯è§æ—¶è°ƒç”¨ onDestory:åœ¨ Activity è¢«é”€æ¯å‰è°ƒç”¨ Activityåˆ›å»º manifest: ```xml class: ```java public class Main2Activity extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main2); } } Activityçš„å¯åŠ¨ æ˜¾å¼å¯åŠ¨ Intent intent = new Intent(); intent.setClass(MainActivity.this,Main2Activity.class); startActivity(intent); éšå¼å¯åŠ¨ Intent intent = new Intent(); intent.setAction(Intent.ACTION_VIEW); intent.setData(Uri.parse(\"http://baidu.com\")); startActivity(intent); éšå¼å¯åŠ¨éœ€è¦åœ¨xmlä¸­å£°æ˜intent-fliterï¼š Activityä¹‹é—´çš„æ•°æ®ä¼ é€’ Activityä¹‹é—´é€šè¿‡Intentæ¥ä¼ é€’æ•°æ®ï¼Œè½½ä½“æ˜¯Bundle: Intent intent = new Intent(); Bundle bundle = new Bundle(); bundle.putInt(\"int\",1); bundle.putString(\"string\",\"adsa\"); bundle.putSerializable(\"ser\",new HashMap<>()); bundle.putParcelable(); ï¼ˆä¹Ÿå¯ä»¥é€‰æ‹©ä¸é€‚ç”¨Bundleï¼Œç›´æ¥é€šè¿‡Intentè¿›è¡Œputï¼‰Bundleé™¤äº†èƒ½ä¼ é€’åŸºæœ¬ç±»å‹ä¸Stringå¤–ï¼Œè¿˜æ”¯æŒSerializableï¼Œå¯åºåˆ—åŒ–å¯¹è±¡ï¼Œä¹Ÿèƒ½å­˜æ”¾å®ç°äº†Parcelableæ¥å£çš„å¯¹è±¡ï¼Œè¿™æ˜¯å®‰å“è‡ªå·±çš„ä¸€ä¸ªæ¥å£ã€‚ æ¥æ”¶æ–¹åˆ™æ˜¯é€šè¿‡è°ƒç”¨getIntent()è¿™ä¸ªæ–¹æ³•è·å–ä¼ é€’è¿‡æ¥çš„Intentï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™å°±å¯ä»¥é€šè¿‡Intentæ¥è·å–æ•°æ® Intent intent = getIntent(); if (intent != null){ Log.i(\"test\",String.valueOf(intent.getExtras().getInt(\"int\"))); } è·å–è¿”å›æ•°æ® å½“ä¸€ä¸ªActivityè¿”å›åˆ°ä¸Šä¸€ä¸ªActivityæ—¶ï¼Œè¦å¦‚ä½•è¿›è¡Œæ•°æ®äº¤äº’ï¼Ÿ ä½¿ç”¨å›è°ƒï¼š Activity1: @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Button btn = findViewById(R.id.button); btn.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { startActivityForResult(new Intent(),1); } }); } @Override protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) { Log.i(\"test\",data.getStringExtra(\"name\")); super.onActivityResult(requestCode, resultCode, data); } Activity2: @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main2); Intent intent = getIntent(); if (intent != null){ Log.i(\"test\",String.valueOf(intent.getExtras().getInt(\"int\"))); } Intent intent1 = new Intent(); intent1.putExtra(\"name\",\"my\"); setResult(1,intent1); } éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦æ±‚Activityè¿”å›ç»“æœï¼Œéœ€è¦ä½¿ç”¨startActivityForResultè¿™ä¸ªå‡½æ•° ä¼ è¾“å¤§æ•°æ®å¯¹è±¡å¼‚å¸¸ åœ¨ä¼ è¾“æ•°æ®æ—¶ï¼Œæ•°æ®é‡ä¸èƒ½å¤§äº0.25mï¼Œå¦åˆ™å°†ä¼šå‡ºç°å¼‚å¸¸ Activityä¸Task Taskç®€ä»‹ androidä»»åŠ¡æ ˆåˆç§°ä¸ºTaskï¼Œå®ƒæ˜¯ä¸€ä¸ªæ ˆç»“æ„ï¼Œå…·æœ‰åè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œç”¨äºå­˜æ”¾æˆ‘ä»¬çš„Activityç»„ä»¶ã€‚ æˆ‘ä»¬æ¯æ¬¡æ‰“å¼€ä¸€ä¸ªæ–°çš„Activityæˆ–è€…é€€å‡ºå½“å‰Activityéƒ½ä¼šåœ¨ä¸€ä¸ªç§°ä¸ºä»»åŠ¡æ ˆçš„ç»“æ„ä¸­æ·»åŠ æˆ–è€…å‡å°‘ä¸€ä¸ªActivityç»„ä»¶ï¼Œå› æ­¤ä¸€ä¸ªä»»åŠ¡æ ˆåŒ…å«äº†ä¸€ä¸ªactivityçš„é›†åˆ, androidç³»ç»Ÿå¯ä»¥é€šè¿‡Taskæœ‰åºåœ°ç®¡ç†æ¯ä¸ªactivityï¼Œå¹¶å†³å®šå“ªä¸ªActivityä¸ç”¨æˆ·è¿›è¡Œäº¤äº’:åªæœ‰åœ¨ä»»åŠ¡æ ˆæ ˆé¡¶çš„activityæ‰å¯ä»¥è·Ÿç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚ åœ¨æˆ‘ä»¬é€€å‡ºåº”ç”¨ç¨‹åºæ—¶ï¼Œå¿…é¡»æŠŠæ‰€æœ‰çš„ä»»åŠ¡æ ˆä¸­æ‰€æœ‰çš„activityæ¸…é™¤å‡ºæ ˆæ—¶,ä»»åŠ¡æ ˆæ‰ä¼šè¢«é”€æ¯ã€‚å½“ç„¶ä»»åŠ¡æ ˆä¹Ÿå¯ä»¥ç§»åŠ¨åˆ°åå°, å¹¶ä¸”ä¿ç•™äº†æ¯ä¸€ä¸ªactivityçš„çŠ¶æ€. å¯ä»¥æœ‰åºçš„ç»™ç”¨æˆ·åˆ—å‡ºå®ƒä»¬çš„ä»»åŠ¡, åŒæ—¶ä¹Ÿä¸ä¼šä¸¢å¤±Activityçš„çŠ¶æ€ä¿¡æ¯ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€ä¸ªAppä¸­å¯èƒ½ä¸æ­¢ä¸€ä¸ªä»»åŠ¡æ ˆï¼ŒæŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå•ç‹¬ä¸€ä¸ªActvityå¯ä»¥ç‹¬äº«ä¸€ä¸ªä»»åŠ¡æ ˆã€‚è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯ä¸€ä¸ªTaskä¸­çš„Actvityå¯ä»¥æ¥è‡ªä¸åŒçš„Appï¼ŒåŒä¸€ä¸ªAppçš„Activityä¹Ÿå¯èƒ½ä¸åœ¨ä¸€ä¸ªTaskä¸­ã€‚Activityçš„å››ç§å¯åŠ¨æ¨¡å¼ Standard æ¨¡å¼ åœ¨è¿™æ ·æ¨¡å¼ä¸‹ï¼Œæ¯å¯åŠ¨ä¸€ä¸ªActivityéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªActivityçš„æ–°å®ä¾‹ï¼Œå¹¶ä¸”å°†å…¶åŠ å…¥ä»»åŠ¡æ ˆä¸­ singleTop æ¨¡å¼ åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œå¦‚æœæœ‰æ–°çš„Activityå·²ç»å­˜åœ¨ä»»åŠ¡æ ˆçš„æ ˆé¡¶ï¼Œé‚£ä¹ˆæ­¤Activityå°±ä¸ä¼šè¢«é‡æ–°åˆ›å»ºæ–°å®ä¾‹ï¼Œè€Œæ˜¯å¤ç”¨å·²å­˜åœ¨ä»»åŠ¡æ ˆæ ˆé¡¶çš„Activity å¦‚æœActivityåœ¨é¡¶å±‚ï¼Œé‚£ä¹ˆä¸ä¼šæ–°å»ºæ–°çš„å®ä¾‹ï¼š å¦‚æœä¸åœ¨é¡¶å±‚ï¼Œé‚£ä¹ˆä»ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼š singleTask æ¨¡å¼ åˆç§°ä¸ºæ ˆå†…å¤ç”¨æ¨¡å¼ã€‚è¿™æ˜¯ä¸€ç§å•ä¾‹æ¨¡å¼ï¼Œä¸singTopç‚¹ç±»ä¼¼ï¼Œåªä¸è¿‡singTopæ˜¯æ£€æµ‹æ ˆé¡¶å…ƒç´ æ˜¯å¦æœ‰éœ€è¦å¯åŠ¨çš„Activityï¼Œè€ŒsingTaskåˆ™æ˜¯æ£€æµ‹æ•´ä¸ªæ ˆä¸­æ˜¯å¦å­˜åœ¨å½“å‰éœ€è¦å¯åŠ¨çš„Activityï¼Œå¦‚æœå­˜åœ¨å°±ç›´æ¥å°†è¯¥Activityç½®äºæ ˆé¡¶ï¼Œå¹¶å°†è¯¥Activityä»¥ä¸Šçš„Activityéƒ½ä»ä»»åŠ¡æ ˆä¸­ç§»å‡ºé”€æ¯ singleInstance æ¨¡å¼ åœ¨singleInstanceæ¨¡å¼ä¸‹ï¼Œè¯¥Activityåœ¨æ•´ä¸ªandroidç³»ç»Ÿå†…å­˜ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè€Œä¸”è¯¥å®ä¾‹å•ç‹¬å°Šäº«ä¸€ä¸ªTask è®¾ç½®Activityçš„å¯åŠ¨æ¨¡å¼ è®¾ç½®å¯åŠ¨æ¨¡å¼åªéœ€åœ¨æ¸…å•æ–‡ä»¶çš„activityèŠ‚ç‚¹ä¸­å¢åŠ android:launchModeå³å¯ã€‚BackTask Taskå¯ä»¥åˆ†ä¸ºforeground taskå’Œbackground task. å½“ç”¨æˆ·æŒ‰ä¸‹homeé”®æ—¶, å½“å‰taskå°±ä¼šä»foreground taskå˜æˆbackground task. å¦‚æœä¸€ä¸ªtaskå˜ä¸ºbackground task, é‚£ä¹ˆæ ˆä¸­çš„æ‰€æœ‰activityéƒ½å°†å¤„äºstoppedçŠ¶æ€ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-05-27 04:03:18 "},"ç§»åŠ¨å¼€å‘/å®‰å“/Intent.html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/Intent.html","title":"Intent","keywords":"","body":"[toc] Intent ä¸ Intentè¿‡æ»¤å™¨ Intent æ˜¯ä¸€ä¸ªæ¶ˆæ¯ä¼ é€’å¯¹è±¡ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»å…¶ä»–åº”ç”¨ç»„ä»¶è¯·æ±‚æ“ä½œ å…¶åŸºæœ¬ç”¨ä¾‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªï¼š å¯åŠ¨ Activity å¯åŠ¨æœåŠ¡ ä¼ é€’å¹¿æ’­Intentç±»å‹ æ˜¾å¼ Intentï¼šæŒ‰åç§°ï¼ˆå®Œå…¨é™å®šç±»åï¼‰æŒ‡å®šè¦å¯åŠ¨çš„ç»„ä»¶ éšå¼ Intent ï¼šä¸ä¼šæŒ‡å®šç‰¹å®šçš„ç»„ä»¶ï¼Œè€Œæ˜¯å£°æ˜è¦æ‰§è¡Œçš„å¸¸è§„æ“ä½œï¼Œä»è€Œå…è®¸å…¶ä»–åº”ç”¨ä¸­çš„ç»„ä»¶æ¥å¤„ç†å®ƒ ä» Android 5.0ï¼ˆAPI çº§åˆ« 21ï¼‰å¼€å§‹ï¼Œå¦‚æœä½¿ç”¨éšå¼ Intent è°ƒç”¨ bindService()ï¼Œç³»ç»Ÿä¼šå¼•å‘å¼‚å¸¸ ã€€æ„å»º Intent Intent ä¸­åŒ…å«çš„ä¸»è¦ä¿¡æ¯å¦‚ä¸‹ï¼š ç»„ä»¶åç§° æ“ä½œ æ•°æ® ç±»åˆ« Extra æ ‡å¿—æ˜¾å¼ Intent ç¤ºä¾‹ // åœ¨ Activity ä¸­æ‰§è¡Œ, æ‰€ä»¥ 'this' å°±æ˜¯å½“å‰çš„ä¸Šä¸‹æ–‡ // fileUrl æ˜¯ä¸€ä¸ªURL, ç±»ä¼¼ \"http://www.example.com/image.png\" Intent downloadIntent = new Intent(this, DownloadService.class); downloadIntent.setData(Uri.parse(fileUrl)); startService(downloadIntent); éšå¼ Intent ç¤ºä¾‹ ```java // åˆ›å»ºä¸€æ¡æ–‡æœ¬æ¶ˆæ¯ Intent sendIntent = new Intent(); sendIntent.setAction(Intent.ACTION_SEND); sendIntent.putExtra(Intent.EXTRA_TEXT, textMessage); sendIntent.setType(\"text/plain\"); // ç¡®å®šè¿™ä¸ªIntentå¯ä»¥åŒ¹é…åˆ°Activity if (sendIntent.resolveActivity(getPackageManager()) != null) { startActivity(sendIntent); } è®¾ç½®é€‰æ‹©æ¡†æ ‡é¢˜ï¼š ```java Intent chooser = Intent.createChooser(sendIntent, title); æ¥æ”¶éšå¼ Intent ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨åŒ…å« Intent è¿‡æ»¤å™¨çš„ Activity å£°æ˜ï¼Œå½“æ•°æ®ç±»å‹ä¸ºæ–‡æœ¬æ—¶ï¼Œç³»ç»Ÿå°†æ¥æ”¶ ACTION_SEND Intent ï¼š é™åˆ¶å¯¹ç»„ä»¶çš„è®¿é—® --- å¦‚æœå¿…é¡»ç¡®ä¿åªæœ‰æ‚¨è‡ªå·±çš„åº”ç”¨æ‰èƒ½å¯åŠ¨æ‚¨çš„æŸä¸€ç»„ä»¶ï¼Œè¯·é’ˆå¯¹è¯¥ç»„ä»¶å°† exported å±æ€§è®¾ç½®ä¸º \"false\" MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-05-31 03:31:37 "},"ç§»åŠ¨å¼€å‘/å®‰å“/RecyclerView.html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/RecyclerView.html","title":"RecyclerView","keywords":"","body":"RecyclerView A flexible view for providing a limited window into a large data set. åŸºæœ¬ä½¿ç”¨ å®šä¹‰ä¸€ä¸ªAdapterï¼Œå…¶ç”¨æ¥æ§åˆ¶æ•°æ®ä¸Itemçš„ç»‘å®šå…³ç³» ```java public class MyAdapter extends RecyclerView.Adapter { LayoutInflater layoutInflater; Context context; List data; public MyAdapter(Context context, List data) { this.context = context; this.data = data; layoutInflater = LayoutInflater.from(context); } @NonNull @Override public MyViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) { View view = layoutInflater.inflate(R.layout.single_view,viewGroup,false); return new MyViewHolder(view); } @Override public void onBindViewHolder(@NonNull MyViewHolder myViewHolder, int i) { myViewHolder.textView.setText(data.get(i)); } @Override public int getItemCount() { return data.size(); } } ``` å…¶ä¸­ï¼ŒViewHolderåˆ™æ˜¯æ§åˆ¶å•æ¡Itemçš„æ˜¾ç¤º public class MyViewHolder extends RecyclerView.ViewHolder { TextView textView; public MyViewHolder(@NonNull View itemView) { super(itemView); textView = itemView.findViewById(R.id.tv); } } åœ¨ä½¿ç”¨æ—¶ï¼Œåªè¦æŒ‡å®šå¸ƒå±€ç®¡ç†å™¨ä»¥åŠé€‚é…å™¨ï¼Œå°±å¯ä»¥è‡ªå®šä¹‰æ•°æ®çš„æ˜¾ç¤ºæ–¹å¼ RecyclerView.LayoutManager manager = new GridLayoutManager(this,3); rw.setAdapter(adapter); rw.setLayoutManager(manager); ä¹Ÿå°±æ˜¯è¯´ï¼ŒRecyclerViewæä¾›äº†ä¸€ç§æ’æ‹”å¼çš„ä½“éªŒï¼Œç±»ä¼¼äºæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Œåªè¦ä¿®æ”¹ä¸€ä¸‹ç»†èŠ‚ï¼Œå°±å¯ä»¥é‡æ–°å®šä¹‰æ•°æ®çš„æ˜¾ç¤ºæ–¹å¼ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-06-08 17:40:05 "},"ç§»åŠ¨å¼€å‘/å®‰å“/handler.html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/handler.html","title":"Handler","keywords":"","body":"Handler [toc] Handler æ˜¯ä¸€ä¸ªæ¶ˆæ¯åˆ†å‘å¯¹è±¡ã€‚handleræ˜¯Androidç»™æˆ‘ä»¬æä¾›ç”¨æ¥æ›´æ–°UIçš„ä¸€å¥—æœºåˆ¶ï¼Œä¹Ÿæ˜¯ä¸€å¥—æ¶ˆæ¯å¤„ç†æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å‘æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å®ƒå¤„ç†æ¶ˆæ¯ ç”±äºéUIçº¿ç¨‹æ— æ³•ä¿®æ”¹ç•Œé¢ï¼ˆä¸»è¦çš„åŸå› æ˜¯é˜²æ­¢æ•°æ®ä¸ä¸€è‡´ï¼‰ é‚£ä¹ˆï¼Œå¦‚æœç›´æ¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œè¿›è¡ŒUIæ›´æ–°æ“ä½œï¼Œç¨‹åºä¼šå´©æ‰ï¼š new Thread(new Runnable() { @Override public void run() { try { Thread.sleep(3000); } catch (InterruptedException e) { e.printStackTrace(); } Toast.makeText(MainActivity.this,\"è·å–åˆ°æ¶ˆæ¯\",Toast.LENGTH_SHORT).show(); } }).start(); å‘é€æ¶ˆæ¯ // æˆå‘˜å˜é‡ private Handler handler = new Handler(new Handler.Callback() { @Override public boolean handleMessage(Message msg) { Toast.makeText(MainActivity.this,\"è·å–åˆ°æ¶ˆæ¯\"+msg.what,Toast.LENGTH_SHORT).show(); return true; } }); // åˆ›å»ºä¸€ä¸ªå‘é€æ¶ˆæ¯ç»™Handler new Thread(new Runnable() { @Override public void run() { try { Thread.sleep(3000); } catch (InterruptedException e) { e.printStackTrace(); } Toast.makeText(MainActivity.this,\"è·å–åˆ°æ¶ˆæ¯\",Toast.LENGTH_SHORT).show(); Message message = new Message(); message.what=0x123; handler.sendMessage(message); } }).start(); ç›´æ¥è®©Handleræ‰§è¡Œä¸€æ®µä»£ç  new Thread(new Runnable() { @Override public void run() { try { Thread.sleep(3000); } catch (InterruptedException e) { e.printStackTrace(); } handler.post(new Runnable() { @Override public void run() { Toast.makeText(MainActivity.this,\"è·å–åˆ°æ¶ˆæ¯\",Toast.LENGTH_SHORT).show(); } }); } }).start(); Callback è¿™ä¸ªç±»æ˜¯Handlerçš„ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œä½œç”¨ä¸»è¦æ˜¯å›è°ƒï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å·²ç»è®¤è¯†åˆ°å®ƒçš„ä½œç”¨äº† UIçº¿ç¨‹ä¸å­çº¿ç¨‹é€šä¿¡ Looperï¼šç±»ä¼¼ä¸€ä¸ªæ¶ˆæ¯æ³µã€‚å®ƒæœ¬èº«æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œä¸æ–­åœ°ä»MessageQueueä¸­æå–Messageæˆ–è€…Runnable MessageQueueï¼šä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œç”¨æ¥å­˜æ”¾æ¶ˆæ¯ è€ŒHandlerå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªLooperçš„æš´éœ²æ¥å£ï¼Œå‘å¤–éƒ¨æš´éœ²ä¸€äº›äº‹ä»¶ï¼Œå¹¶æš´éœ²sendMessage()å’Œpost()å‡½æ•° é™¤äº†UIçº¿ç¨‹/ä¸»çº¿ç¨‹ä»¥å¤–ï¼Œæ™®é€šçš„çº¿ç¨‹(å…ˆä¸æHandlerThread)æ˜¯ä¸è‡ªå¸¦Looperçš„ æ›´æ–°UIçš„å››ç§æ–¹å¼ ä½¿ç”¨Handleræ¶ˆæ¯ä¼ é€’ Handlerçš„post AsyncTask Activity.runOnUiThread View.post åä¸¤ç§æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä½¿ç”¨äº†Handler éUIçº¿ç¨‹æ›´æ–°UI åœ¨oncreateæ–¹æ³•ä¸­å¼€å¯å­çº¿ç¨‹æ›´æ–°uiï¼Œåœ¨threadæ²¡æœ‰ä¼‘çœ çš„æƒ…å†µä¸‹ï¼Œå› ä¸ºViewRootImpåœ¨activityçš„onresumeæ–¹æ³•ä¸­åˆ›å»ºï¼Œåœ¨ViewRootImpæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦ä¸ºä¸»çº¿ç¨‹ï¼Œoncreateåœ¨onresumeä¹‹å‰æ‰§è¡Œï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥è¿›è¡Œæ›´æ–°uiæ“ä½œ @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); new Thread(new Runnable() { @Override public void run() { handler.post(new Runnable() { @Override public void run() { Toast.makeText(MainActivity.this,\"è·å–åˆ°æ¶ˆæ¯\",Toast.LENGTH_SHORT).show(); } }); } }).start(); } ä»¥ä¸Šä»£ç å¯ä»¥æ­£ç¡®è¿è¡Œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-06-04 09:22:12 "},"ç§»åŠ¨å¼€å‘/å®‰å“/IPCæœºåˆ¶.html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/IPCæœºåˆ¶.html","title":"IPCæœºåˆ¶","keywords":"","body":"IPCæœºåˆ¶ IPC:è¿›ç¨‹é—´é€šä¿¡ å®‰å“ä¸­çš„å¤šè¿›ç¨‹æ¨¡å¼ å¼€å¯å¤šè¿›ç¨‹ åœ¨æ¸…å•æ–‡ä»¶ä¸­æ·»åŠ ï¼šandroid:process ä»£è¡¨è¯¥activityä»¥åŒ…å.p1ä½œä¸ºè¿›ç¨‹åè¿›è¡Œè¿è¡Œ å¤šçº¿ç¨‹é€ æˆçš„é—®é¢˜ é™æ€æˆå‘˜ã€å•ä¾‹æ¨¡å¼å®Œå…¨å¤±æ•ˆ çº¿ç¨‹åŒæ­¥æœºåˆ¶å¤±æ•ˆ SharedPrerenceså¯é æ€§ä¸‹é™ Applicationå¤šæ¬¡åˆ›å»º IPC Serializableæ¥å£ javaå½“ä¸­è‡ªå¸¦çš„åºåˆ—åŒ–æ¥å£ Parceableæ¥å£ å®ç°æ¥å£ï¼š ```java public class User implements Parcelable { private String name; private int age; protected User(Parcel in) { name = in.readString(); age = in.readInt(); } // çœç•¥æ„é€ å™¨ public static final Creator CREATOR = new Creator() { @Override public User createFromParcel(Parcel in) { return new User(in); } @Override public User[] newArray(int size) { return new User[size]; } }; @Override public int describeContents() { return 0; } @Override public void writeToParcel(Parcel dest, int flags) { dest.writeString(name); dest.writeInt(age); } //çœç•¥toString } è¿™æ ·ï¼Œå°±å¯ä»¥ç›´æ¥åœ¨Intentä¸­ä¼ é€Userç±»å‹çš„å¯¹è±¡äº†ï¼š ```java Intent intent = new Intent(); intent.setClass(MainActivity.this,Main2Activity.class); intent.putExtra(\"user\",new User(\"å°æ˜\",15)); startActivity(intent); å®‰å“ä¸­çš„IPCæ–¹å¼ Bundle æ–‡ä»¶å…±äº« SharedPreferencesæœ¬è´¨ï¼šXML Messenger AIDL ContentProvider MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-06-05 14:10:00 "},"ç§»åŠ¨å¼€å‘/å®‰å“/é€šçŸ¥æ .html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/é€šçŸ¥æ .html","title":"é€šçŸ¥æ ","keywords":"","body":"MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-11 13:41:49 "},"ç§»åŠ¨å¼€å‘/å®‰å“/æ•°æ®ç»‘å®š.html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/æ•°æ®ç»‘å®š.html","title":"æ•°æ®ç»‘å®š","keywords":"","body":"æ¦‚å¿µ ä¸MVVM é…ç½® android { ... dataBinding{ enabled = true } } UIç»‘å®š ActivityMainBinding binding = DataBindingUtil.setContentView(MainActivity.this,R.layout.activity_main); binding.setTitle(\"avcd\"); äº‹ä»¶ç»‘å®š @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); ActivityMainBinding binding = DataBindingUtil.setContentView(MainActivity.this,R.layout.activity_main); binding.setPresenter(new Presenter()); } public class Presenter{ public void onClick(){ Toast.makeText(MainActivity.this,\"click\",Toast.LENGTH_SHORT).show(); } } presenter.onClick()}\" /> æ•°æ®ç»‘å®šåŸç† ç¼–è¯‘ - å¤„ç†layoutæ–‡ä»¶ - è§£æè¡¨è¾¾å¼ - javaç¼–è¯‘ - è§£æä¾èµ– è¿ç®—ç¬¦ ç©ºæŒ‡é’ˆé¿å… æ•°ç»„è¶Šç•Œ include viewstub è§‚å¯Ÿè€…æ¨¡å¼ public class UserInfo extends BaseObservable { private String name; private String password; private Integer age; public void setName(String name) { this.name = name; notifyChange(); } public void setPassword(String password) { this.password = password; notifyChange(); } public void setAge(Integer age) { this.age = age; notifyChange(); } } private UserInfo userInfo = new UserInfo(); @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); ActivityMainBinding binding = DataBindingUtil.setContentView(MainActivity.this,R.layout.activity_main); binding.setPresenter(new Presenter()); binding.setUser(userInfo); } public class Presenter implements TextWatcher { @Override public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) { } @Override public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) { userInfo.setName(charSequence.toString()); } @Override public void afterTextChanged(Editable editable) { } } é«˜çº§ç»‘å®š åˆ—è¡¨ç»‘å®š åˆ›å»ºé€‚é…å™¨ public class UserAdapter extends RecyclerView.Adapter { private final LayoutInflater layoutInflater; private List userInfoList = new ArrayList<>(); public UserAdapter(Context context) { layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); } @Override public int getItemViewType(int position) { return super.getItemViewType(position); } @NonNull @Override public BindingViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) { ViewDataBinding binding = DataBindingUtil.inflate(layoutInflater,R.layout.item_user,parent,false); return new BindingViewHolder(binding); } @Override public void onBindViewHolder(@NonNull BindingViewHolder holder, int position) { final UserInfo userInfo = userInfoList.get(position); holder.getBinding().setVariable(wang.ismy.databinding.BR.item,userInfo); holder.getBinding().executePendingBindings(); } @Override public int getItemCount() { return userInfoList.size(); } public void addAll(List list){ userInfoList.addAll(list); } public void add(UserInfo userInfo){ userInfoList.add(userInfo); notifyItemInserted(userInfoList.size()); } public void remove(){ if (userInfoList.size() == 0) return; userInfoList.remove(0); notifyItemRemoved(0); } } åˆ›å»ºholder public class BindingViewHolder extends RecyclerView.ViewHolder { private T binding; public BindingViewHolder(@NonNull T itemView) { super(itemView.getRoot()); binding = itemView; } public T getBinding() { return binding; } } ä½¿ç”¨ binding = DataBindingUtil.setContentView(MainActivity.this,R.layout.activity_main); binding.recyclerView.setLayoutManager(new LinearLayoutManager(this)); userAdapter = new UserAdapter(getApplicationContext()); binding.setPresenter(new Presenter()); binding.recyclerView.setAdapter(userAdapter); userAdapter.addAll(Arrays.asList(new UserInfo(\"1\"), new UserInfo(\"2\"),new UserInfo(\"3\"), new UserInfo(\"4\"))); è‡ªå®šä¹‰å±æ€§ @BindingAdapter({\"app:imageUrl\",\"app:placeholder\"}) public static void loadImage(ImageView view, String url, Drawable drawable ){ Glide.with(view.getContext()) .load(url) .placeholder(drawable) .into(view); } binding.setUrl(url); åŒå‘ç»‘å®š è¡¨è¾¾å¼é“¾ éšå¼æ›´æ–° Lambdaè¡¨è¾¾å¼ presenter.click()}\" /> åŠ¨ç”» Transition binding.addOnRebindCallback(new OnRebindCallback() { @Override public boolean onPreBind(ViewDataBinding binding) { ViewGroup viewGroup = (ViewGroup) binding.getRoot(); TransitionManager.beginDelayedTransition(viewGroup); return true; } }); MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-22 09:20:26 "},"ç§»åŠ¨å¼€å‘/å®‰å“/å±å¹•é€‚é….html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/å±å¹•é€‚é….html","title":"å±å¹•é€‚é…","keywords":"","body":" å±å¹•å°ºå¯¸ å±å¹•å¯¹è§’çº¿çš„é•¿åº¦ å±å¹•åˆ†è¾¨ç‡ æ¨ªçºµå‘ä¸Šçš„åƒç´ ç‚¹æ•° px å±å¹•åƒç´ å¯†åº¦ æ¯è‹±å¯¸ä¸Šçš„åƒç´ ç‚¹æ•° dpi å•ä½ px dpã€dip å¯†åº¦æ— å…³åƒç´  sp æ ¹æ®æ–‡å­—å¤§å°é¦–é€‰é¡¹è¿›è¡Œæ”¶ç¼© mdpiã€hdpiã€xdpiã€xxdip è§£å†³æ–¹æ¡ˆ ä½¿ç”¨wrap_contentã€match_parentã€weight weightå®½åº¦=åŸæ¥å®½åº¦+å‰©ä½™ç©ºé—´æ‰€å ç™¾åˆ†æ¯”å®½åº¦ ä½¿ç”¨ç›¸å¯¹å¸ƒå±€ ä½¿ç”¨é™å®šç¬¦ ä½¿ç”¨è‡ªåŠ¨æ‹‰ä¼¸ä½å›¾ .9å›¾ å±å¹•å¯†åº¦é—®é¢˜ å±å¹•å®½åº¦é—®é¢˜ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-24 09:11:56 "},"ç§»åŠ¨å¼€å‘/å®‰å“/Fragment.html":{"url":"ç§»åŠ¨å¼€å‘/å®‰å“/Fragment.html","title":"Fragment","keywords":"","body":" å¤ç”¨ ä½¿ç”¨ åˆ›å»ºç»§æ‰¿Fragmentçš„ç±» é‡å†™onCreateViewæ–¹æ³• ç»‘å®šxml View view = inflater.inflate(R.layout.fragment_title,null); return view; é™æ€ä½¿ç”¨ åœ¨xmlä¸­ä½¿ç”¨ åŠ¨æ€ä½¿ç”¨ è€ç‰ˆæœ¬ button.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View view) { FragmentManager manager = getFragmentManager(); FragmentTransaction transaction = manager.beginTransaction(); transaction.add(R.id.title_layout,new TitleFragment()); transaction.commit(); } }); æ–°ç‰ˆæœ¬ getSupportFragmentManager() .beginTransaction() .add(R.id.title_layout,new TitleFragment()) .commit(); V4åŒ… åŠ¨æ€åˆ‡æ¢ Random random = new Random(); if (random.nextBoolean()){ getSupportFragmentManager() .beginTransaction() .replace(R.id.title_layout,new TitleFragment()) .commit(); }else{ getSupportFragmentManager() .beginTransaction() .replace(R.id.title_layout,new ContentFragment()) .commit(); } ç”Ÿå‘½å‘¨æœŸ é€šä¿¡ Activity å‘ Fragmentä¼ å€¼ // Activity ç«¯ TitleFragment titleFragment = new TitleFragment(); Bundle bundle = new Bundle(); bundle.putString(\"id\", UUID.randomUUID().toString()); titleFragment.setArguments(bundle); getSupportFragmentManager() .beginTransaction() .replace(R.id.title_layout,titleFragment) .commit(); // Fragmentç«¯ if (getArguments() != null){ textView.setText(getArguments().getString(\"id\")); } Fragment å‘ Activity ä¼ å€¼ å›è°ƒæ¥å£ linearLayout.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View view) { if (listener != null){ listener.onClick(); } } }); /////////////// public interface TitleFragmentClickListener{ void onClick(); } public void setListener(TitleFragmentClickListener listener) { this.listener = listener; } titleFragment.setListener(new TitleFragment.TitleFragmentClickListener() { @Override public void onClick() { Toast.makeText(getApplicationContext(),\"click 111\",Toast.LENGTH_SHORT).show(); } }); Fragment å‘ Fragment ä¼ å€¼ getFragmentManager().findFragmentById() ListFragment MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-07-31 03:59:41 "},"ç§»åŠ¨å¼€å‘/ç§»åŠ¨webå¼€å‘.html":{"url":"ç§»åŠ¨å¼€å‘/ç§»åŠ¨webå¼€å‘.html","title":"ç§»åŠ¨webå¼€å‘","keywords":"","body":"ç§»åŠ¨webå¼€å‘ æµå¼å¸ƒå±€ è§†å£ï¼ˆviewportï¼‰å°±æ˜¯æµè§ˆå™¨æ˜¾ç¤ºé¡µé¢å†…å®¹çš„å±å¹•åŒºåŸŸã€‚ è§†å£å¯ä»¥åˆ†ä¸ºå¸ƒå±€è§†å£ã€è§†è§‰è§†å£å’Œç†æƒ³è§†å£ å¸ƒå±€è§†å£ layout viewport ä¸€èˆ¬ç§»åŠ¨è®¾å¤‡çš„æµè§ˆå™¨éƒ½é»˜è®¤è®¾ç½®äº†ä¸€ä¸ªå¸ƒå±€è§†å£ï¼Œç”¨äºè§£å†³æ—©æœŸçš„PCç«¯é¡µé¢åœ¨æ‰‹æœºä¸Šæ˜¾ç¤ºçš„é—®é¢˜ã€‚ iOS, AndroidåŸºæœ¬éƒ½å°†è¿™ä¸ªè§†å£åˆ†è¾¨ç‡è®¾ç½®ä¸º 980pxï¼Œæ‰€ä»¥PCä¸Šçš„ç½‘é¡µå¤§å¤šéƒ½èƒ½åœ¨æ‰‹æœºä¸Šå‘ˆç°ï¼Œåªä¸è¿‡å…ƒç´ çœ‹ä¸Šå»å¾ˆå°ï¼Œä¸€èˆ¬é»˜è®¤å¯ä»¥é€šè¿‡æ‰‹åŠ¨ç¼©æ”¾ç½‘é¡µ è§†è§‰è§†å£ visual viewport å®ƒæ˜¯ç”¨æˆ·æ­£åœ¨çœ‹åˆ°çš„ç½‘ç«™çš„åŒºåŸŸï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼©æ”¾å»æ“ä½œè§†è§‰è§†å£ï¼Œä½†ä¸ä¼šå½±å“å¸ƒå±€è§†å£ï¼Œå¸ƒå±€è§†å£ä»ä¿æŒåŸæ¥çš„å®½åº¦ ç†æƒ³è§†å£ ideal viewport å¸ƒå±€è§†å£çš„å®½åº¦åº”è¯¥ä¸ç†æƒ³è§†å£çš„å®½åº¦ä¸€è‡´ï¼Œç®€å•ç†è§£å°±æ˜¯è®¾å¤‡æœ‰å¤šå®½ï¼Œæˆ‘ä»¬å¸ƒå±€çš„è§†å£å°±å¤šå®½ metaæ ‡ç­¾ å±æ€§ è§£é‡Šè¯´æ˜ width å®½åº¦è®¾ç½®çš„æ˜¯viewportå®½åº¦ï¼Œå¯ä»¥è®¾ç½®device-widthç‰¹æ®Šå€¼ initial-scale åˆå§‹ç¼©æ”¾æ¯”ï¼Œå¤§äº0çš„æ•°å­— maximum-scale æœ€å¤§ç¼©æ”¾æ¯”ï¼Œå¤§äº0çš„æ•°å­— minimum-scale æœ€å°ç¼©æ”¾æ¯”ï¼Œå¤§äº0çš„æ•°å­— user-scalable ç”¨æˆ·æ˜¯å¦å¯ä»¥ç¼©æ”¾ï¼Œyesæˆ–no (1æˆ–0) æ ‡å‡†è®¾ç½® è§†å£å®½åº¦å’Œè®¾å¤‡ä¿æŒä¸€è‡´ è§†å£çš„é»˜è®¤ç¼©æ”¾æ¯”ä¾‹1.0 ä¸å…è®¸ç”¨æˆ·è‡ªè¡Œç¼©æ”¾ æœ€å¤§å…è®¸çš„ç¼©æ”¾æ¯”ä¾‹1.0 æœ€å°å…è®¸çš„ç¼©æ”¾æ¯”ä¾‹1.0 äºŒå€å›¾ ç‰©ç†åƒç´ &ç‰©ç†åƒç´ æ¯” ç‰©ç†åƒç´ ç‚¹æŒ‡çš„æ˜¯å±å¹•æ˜¾ç¤ºçš„æœ€å°é¢—ç²’ï¼Œæ˜¯ç‰©ç†çœŸå®å­˜åœ¨çš„ã€‚è¿™æ˜¯å‚å•†åœ¨å‡ºå‚æ—¶å°±è®¾ç½®å¥½äº†,æ¯”å¦‚è‹¹æœ6 æ˜¯ 750* 1334 æˆ‘ä»¬å¼€å‘æ—¶å€™çš„1px ä¸æ˜¯ä¸€å®šç­‰äº1ä¸ªç‰©ç†åƒç´ çš„ ä¸€ä¸ªpxçš„èƒ½æ˜¾ç¤ºçš„ç‰©ç†åƒç´ ç‚¹çš„ä¸ªæ•°ï¼Œç§°ä¸ºç‰©ç†åƒç´ æ¯”æˆ–å±å¹•åƒç´ æ¯” lRetinaï¼ˆè§†ç½‘è†œå±å¹•ï¼‰æ˜¯ä¸€ç§æ˜¾ç¤ºæŠ€æœ¯ï¼Œå¯ä»¥å°†æŠŠæ›´å¤šçš„ç‰©ç†åƒç´ ç‚¹å‹ç¼©è‡³ä¸€å—å±å¹•é‡Œï¼Œä»è€Œè¾¾åˆ°æ›´é«˜çš„åˆ†è¾¨ç‡ï¼Œå¹¶æé«˜å±å¹•æ˜¾ç¤ºçš„ç»†è…»ç¨‹åº¦ æŒ‰ç…§åˆšæ‰çš„ç‰©ç†åƒç´ æ¯”ä¼šæ”¾å¤§å€æ•°ï¼Œè¿™æ ·ä¼šé€ æˆå›¾ç‰‡æ¨¡ç³Š åœ¨æ ‡å‡†çš„viewportè®¾ç½®ä¸­ï¼Œä½¿ç”¨å€å›¾æ¥æé«˜å›¾ç‰‡è´¨é‡ï¼Œè§£å†³åœ¨é«˜æ¸…è®¾å¤‡ä¸­çš„æ¨¡ç³Šé—®é¢˜ èƒŒæ™¯ç¼©æ”¾background-size background-size: èƒŒæ™¯å›¾ç‰‡å®½åº¦ èƒŒæ™¯å›¾ç‰‡é«˜åº¦; å•ä½ï¼š é•¿åº¦|ç™¾åˆ†æ¯”|cover|contain; coveræŠŠèƒŒæ™¯å›¾åƒæ‰©å±•è‡³è¶³å¤Ÿå¤§ï¼Œä»¥ä½¿èƒŒæ™¯å›¾åƒå®Œå…¨è¦†ç›–èƒŒæ™¯åŒºåŸŸã€‚ containæŠŠå›¾åƒå›¾åƒæ‰©å±•è‡³æœ€å¤§å°ºå¯¸ï¼Œä»¥ä½¿å…¶å®½åº¦æˆ–é«˜åº¦å®Œå…¨é€‚åº”å†…å®¹åŒºåŸŸ ç§»åŠ¨å¼€å‘é€‰æ‹©å’ŒæŠ€æœ¯è§£å†³æ–¹æ¡ˆ å•ç‹¬åˆ¶ä½œç§»åŠ¨ç«¯é¡µé¢ï¼ˆä¸»æµï¼‰ å“åº”å¼é¡µé¢å…¼å®¹ç§»åŠ¨ç«¯ï¼ˆå…¶æ¬¡ï¼‰ è§£å†³æ–¹æ¡ˆ ç§»åŠ¨ç«¯æµè§ˆå™¨åŸºæœ¬ä»¥ webkit å†…æ ¸ä¸ºä¸»ï¼Œå› æ­¤æˆ‘ä»¬å°±è€ƒè™‘webkitå…¼å®¹æ€§é—®é¢˜ ç§»åŠ¨ç«¯å…¬å…±æ ·å¼Normalize.css ç§»åŠ¨ç«¯å¤§é‡ä½¿ç”¨ CSS3ç›’å­æ¨¡å‹box-sizing CSS3ç›’å­æ¨¡å‹ï¼šç›’å­çš„å®½åº¦= CSSä¸­è®¾ç½®çš„å®½åº¦width é‡Œé¢åŒ…å«äº† border å’Œ padding /*CSS3ç›’å­æ¨¡å‹*/ box-sizing: border-box; /*ä¼ ç»Ÿç›’å­æ¨¡å‹*/ box-sizing: content-box; ç§»åŠ¨ç«¯ç‰¹æ®Šæ ·å¼ /*CSS3ç›’å­æ¨¡å‹*/ box-sizing: border-box; -webkit-box-sizing: border-box; /*ç‚¹å‡»é«˜äº®æˆ‘ä»¬éœ€è¦æ¸…é™¤æ¸…é™¤ è®¾ç½®ä¸ºtransparent å®Œæˆé€æ˜*/ -webkit-tap-highlight-color: transparent; /*åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨é»˜è®¤çš„å¤–è§‚åœ¨iOSä¸ŠåŠ ä¸Šè¿™ä¸ªå±æ€§æ‰èƒ½ç»™æŒ‰é’®å’Œè¾“å…¥æ¡†è‡ªå®šä¹‰æ ·å¼*/ -webkit-appearance: none; /*ç¦ç”¨é•¿æŒ‰é¡µé¢æ—¶çš„å¼¹å‡ºèœå•*/ img,a { -webkit-touch-callout: none; } ç§»åŠ¨ç«¯å¸¸è§å¸ƒå±€ ç§»åŠ¨ç«¯å•ç‹¬åˆ¶ä½œ æµå¼å¸ƒå±€ï¼ˆç™¾åˆ†æ¯”å¸ƒå±€ï¼‰ flex å¼¹æ€§å¸ƒå±€ï¼ˆå¼ºçƒˆæ¨èï¼‰ less+rem+åª’ä½“æŸ¥è¯¢å¸ƒå±€ æ··åˆå¸ƒå±€ å“åº”å¼ åª’ä½“æŸ¥è¯¢ bootstarp æµå¼å¸ƒå±€ï¼š æµå¼å¸ƒå±€ï¼Œå°±æ˜¯ç™¾åˆ†æ¯”å¸ƒå±€ï¼Œä¹Ÿç§°éå›ºå®šåƒç´ å¸ƒå±€ã€‚ é€šè¿‡ç›’å­çš„å®½åº¦è®¾ç½®æˆç™¾åˆ†æ¯”æ¥æ ¹æ®å±å¹•çš„å®½åº¦æ¥è¿›è¡Œä¼¸ç¼©ï¼Œä¸å—å›ºå®šåƒç´ çš„é™åˆ¶ï¼Œå†…å®¹å‘ä¸¤ä¾§å¡«å……ã€‚ æµå¼å¸ƒå±€æ–¹å¼æ˜¯ç§»åŠ¨webå¼€å‘ä½¿ç”¨çš„æ¯”è¾ƒå¸¸è§çš„å¸ƒå±€æ–¹å¼ã€‚ width:100%; max-width: 1200px; min-width: 320px; flexå¸ƒå±€ pcç«¯æµè§ˆå™¨æ”¯æŒæƒ…å†µæ¯”è¾ƒå·® å¦‚æœæ˜¯ç§»åŠ¨ç«¯æˆ–è€…æ˜¯ä¸è€ƒè™‘å…¼å®¹çš„pcåˆ™é‡‡ç”¨flex åŸç† flex æ˜¯ flexible Box çš„ç¼©å†™ï¼Œæ„ä¸º\"å¼¹æ€§å¸ƒå±€\"ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ï¼Œä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸º flex å¸ƒå±€ é€šè¿‡ç»™çˆ¶ç›’å­æ·»åŠ flexå±æ€§ï¼Œæ¥æ§åˆ¶å­ç›’å­çš„ä½ç½®å’Œæ’åˆ—æ–¹å¼ çˆ¶é¡¹å¸¸è§å±æ€§ flex-directionè®¾ç½®ä¸»è½´çš„æ–¹å‘ flex-direction: value; å€¼ è¯´æ˜ row é»˜è®¤å€¼ä»å·¦åˆ°å³ row-reverse ä»å³åˆ°å·¦ column ä»ä¸Šåˆ°ä¸‹ column-reverse ä»ä¸‹åˆ°ä¸Š justify-content è®¾ç½®ä¸»è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼ å€¼ è¯´æ˜ flex-start é»˜è®¤å€¼ä»å¤´éƒ¨å¼€å§‹å¦‚æœä¸»è½´æ˜¯xè½´ï¼Œåˆ™ä»å·¦åˆ°å³ flex-end ä»å°¾éƒ¨å¼€å§‹æ’åˆ— center åœ¨ä¸»è½´å±…ä¸­å¯¹é½(å¦‚æœä¸»è½´æ˜¯xè½´åˆ™æ°´å¹³å±…ä¸­) space-around å¹³åˆ†å‰©ä½™ç©ºé—´ space-between å…ˆä¸¤è¾¹è´´è¾¹å†å¹³åˆ†å‰©ä½™ç©ºé—´(é‡è¦) flex-wrapè®¾ç½®æ˜¯å¦æ¢è¡Œ nowrap ä¸æ¢è¡Œ wrap æ¢è¡Œ align-items è®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œ ï¼‰ flex-start ä»å¤´éƒ¨å¼€å§‹ flex-end ä»å°¾éƒ¨å¼€å§‹ center å±…ä¸­æ˜¾ç¤º stretch æ‹‰ä¼¸ align-content è®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå¤šè¡Œï¼‰ å€¼ è¯´æ˜ flex-start é»˜è®¤å€¼åœ¨ä¾§è½´çš„å¤´éƒ¨å¼€å§‹æ’åˆ— flex-end åœ¨ä¾§è½´çš„å°¾éƒ¨å¼€å§‹æ’åˆ— center åœ¨ä¾§è½´ä¸­é—´æ˜¾ç¤º space-around å­é¡¹åœ¨ä¾§è½´å¹³åˆ†å‰©ä½™ç©ºé—´ space-between å­é¡¹åœ¨ä¾§è½´å…ˆåˆ†å¸ƒåœ¨ä¸¤å¤´ï¼Œå†å¹³åˆ†å‰©ä½™ç©ºé—´ stretch è®¾ç½®å­é¡¹å…ƒç´ é«˜åº¦å¹³åˆ†çˆ¶å…ƒç´ é«˜åº¦ flex-flow å±æ€§æ˜¯ flex-direction å’Œ flex-wrap å±æ€§çš„å¤åˆå±æ€§ flex-flow:row wrap; flexå¸ƒå±€å­é¡¹å¸¸è§å±æ€§ flex å±æ€§ å®šä¹‰å­é¡¹ç›®åˆ†é…å‰©ä½™ç©ºé—´ï¼Œç”¨flexæ¥è¡¨ç¤ºå å¤šå°‘ä»½æ•° align-selfæ§åˆ¶å­é¡¹è‡ªå·±åœ¨ä¾§è½´ä¸Šçš„æ’åˆ—æ–¹å¼ align-self å±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›– align-items å±æ€§ order å±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0 remå¸ƒå±€ rem rem (root em)æ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œç±»ä¼¼äºemï¼Œemæ˜¯çˆ¶å…ƒç´ å­—ä½“å¤§å°ã€‚ ä¸åŒçš„æ˜¯remçš„åŸºå‡†æ˜¯ç›¸å¯¹äºhtmlå…ƒç´ çš„å­—ä½“å¤§å° åª’ä½“æŸ¥è¯¢ ä½¿ç”¨ @mediaæŸ¥è¯¢ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ç±»å‹å®šä¹‰ä¸åŒçš„æ ·å¼ @media å¯ä»¥é’ˆå¯¹ä¸åŒçš„å±å¹•å°ºå¯¸è®¾ç½®ä¸åŒçš„æ ·å¼ å½“ä½ é‡ç½®æµè§ˆå™¨å¤§å°çš„è¿‡ç¨‹ä¸­ï¼Œé¡µé¢ä¹Ÿä¼šæ ¹æ®æµè§ˆå™¨çš„å®½åº¦å’Œé«˜åº¦é‡æ–°æ¸²æŸ“é¡µé¢ ç›®å‰é’ˆå¯¹å¾ˆå¤šè‹¹æœæ‰‹æœºã€Androidæ‰‹æœºï¼Œå¹³æ¿ç­‰è®¾å¤‡éƒ½ç”¨å¾—åˆ°å¤šåª’ä½“æŸ¥è¯¢ @media mediatype and|not|only (media feature) { CSS-Code; } mediatype æŸ¥è¯¢ç±»å‹ å€¼ è§£é‡Šè¯´æ˜ all ç”¨äºæ‰€æœ‰è®¾å¤‡ print ç”¨äºæ‰“å°æœºå’Œæ‰“å°é¢„è§ˆ scree ç”¨äºç”µè„‘å±å¹•ï¼Œå¹³æ¿ç”µè„‘ï¼Œæ™ºèƒ½æ‰‹æœºç­‰ å…³é”®å­— å…³é”®å­—å°†åª’ä½“ç±»å‹æˆ–å¤šä¸ªåª’ä½“ç‰¹æ€§è¿æ¥åˆ°ä¸€èµ·åšä¸ºåª’ä½“æŸ¥è¯¢çš„æ¡ä»¶ åª’ä½“ç‰¹æ€§ å€¼ è§£é‡Šè¯´æ˜ width å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­é¡µé¢å¯è§åŒºåŸŸçš„å®½åº¦ min-width å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­é¡µé¢æœ€å°å¯è§åŒºåŸŸå®½åº¦ max-width å®šä¹‰è¾“å‡ºè®¾å¤‡ä¸­é¡µé¢æœ€å¤§å¯è§åŒºåŸŸå®½åº¦ ä¸ºäº†é˜²æ­¢æ··ä¹±ï¼Œåª’ä½“æŸ¥è¯¢æˆ‘ä»¬è¦æŒ‰ç…§ä»å°åˆ°å¤§æˆ–è€…ä»å¤§åˆ°å°çš„é¡ºåºæ¥å†™,ä½†æ˜¯æˆ‘ä»¬æœ€å–œæ¬¢çš„è¿˜æ˜¯ä»å°åˆ°å¤§æ¥å†™ï¼Œè¿™æ ·ä»£ç æ›´ç®€æ´ åª’ä½“ç‰¹æ€§ä¹Ÿå¯ä»¥åŠ åœ¨csså¼•ç”¨ä¸­ï¼Œæ¥è¾¾åˆ°ä¸åŒçš„å±å¹•åŠ è½½ä¸åŒçš„cssæ–‡ä»¶ remé€‚é…æ–¹æ¡ˆ 1.less+rem+åª’ä½“æŸ¥è¯¢ 2.lflexible.js+rem MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-01-12 06:25:24 "},"ç§»åŠ¨å¼€å‘/å°ç¨‹åºå¼€å‘/nav.html":{"url":"ç§»åŠ¨å¼€å‘/å°ç¨‹åºå¼€å‘/nav.html","title":"å°ç¨‹åºå¼€å‘","keywords":"","body":"å°ç¨‹åºå¼€å‘ ä»€ä¹ˆè½¯ä»¶é€‚åˆåšå°ç¨‹åº ä¸šåŠ¡é€»è¾‘ç®€å• ä½¿ç”¨é¢‘ç‡ä½ æ€§èƒ½è¦æ±‚ä½ å¼€å‘è€…å·¥å…·ç•Œé¢ v1.02 ç›®å½•ç»“æ„ ä¸»æ–‡ä»¶ æ–‡ä»¶ å¿…å¡« ä½œç”¨ app.js æ˜¯ å°ç¨‹åºé€»è¾‘ app.json æ˜¯ å°ç¨‹åºå…¬å…±è®¾ç½® app.wxss å¦ å°ç¨‹åºå…¬å…±æ ·å¼è¡¨ é¡µé¢æ–‡ä»¶ç»„æˆ æ–‡ä»¶ç±»å‹ å¿…å¡« ä½œç”¨ js æ˜¯ é¡µé¢é€»è¾‘ ( å¾®ä¿¡å°ç¨‹åºæ²¡æœ‰windowå’Œdocumentå¯¹è±¡ ) wxml æ˜¯ é¡µé¢ç»“æ„ ( WeiXin Markup Languageï¼Œä¸æ˜¯HTMLè¯­æ³• ) wxss å¦ é¡µé¢æ ·å¼è¡¨ (WeiXin Style Sheets æ‹“å±•äº†rpxå°ºå¯¸å•ä½ï¼Œå¾®ä¿¡ä¸“å±å“åº”å¼åƒç´  ) json å¦ é¡µé¢é…ç½® åˆ†åŒ… æ•´ä¸ªå°ç¨‹åºæ‰€æœ‰åˆ†åŒ…å¤§å°ä¸è¶…è¿‡ 8M å•ä¸ªåˆ†åŒ…/ä¸»åŒ…å¤§å°ä¸èƒ½è¶…è¿‡ 2M ç§»åŠ¨è®¾å¤‡çš„åˆ†è¾¨ç‡ä¸rpx rpxï¼ˆresponsive pixelï¼‰: å¯ä»¥æ ¹æ®å±å¹•å®½åº¦è¿›è¡Œè‡ªé€‚åº”ã€‚è§„å®šå±å¹•å®½ä¸º750rpxã€‚å¦‚åœ¨ iPhone6 ä¸Šï¼Œå±å¹•å®½åº¦ä¸º375pxï¼Œå…±æœ‰750ä¸ªç‰©ç†åƒç´ ï¼Œåˆ™750rpx = 375px = 750ç‰©ç†åƒç´ ï¼Œ1rpx = 0.5px = 1ç‰©ç†åƒç´  é…ç½® å…¨å±€é…ç½®app.jsonæ§åˆ¶æ•´ä¸ªç¨‹åºçš„è¡Œä¸º é¡µé¢é…ç½®page.jsonæ§åˆ¶å•ä¸ªé¡µé¢ ç»„ä»¶ swiper é¡µé¢æ³¨å†Œ ç”Ÿå‘½å‘¨æœŸ ç”Ÿå‘½å‘¨æœŸå›è°ƒ Page({ // å¯åŠ¨é¡µé¢åå¼¹å‡ºæ¶ˆæ¯ onLoad: function () { wx.showToast({ title: 'é¸¡ä½ å¤ªç¾', }); } }) è§†å›¾ æ•°æ®ç»‘å®š åœ¨å°ç¨‹åºä¸­ï¼Œåœ¨jsçš„dataä¸­å®šä¹‰å˜é‡ Page({ // .. data: { msg: 'msg' } //... å¯ä»¥åœ¨WXMLä¸­è¿›è¡Œç»‘å®šï¼Œè·ŸVUEä¸€æ ·ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§ç»‘å®šæ˜¯å•å‘ç»‘å®š {{message}} éœ€è¦ä½¿ç”¨setDataæ¥è®¾ç½®æˆ–è€…æ›´æ–°æ•°æ® this.setData({msg:'abc'}); æ›´å¤æ‚çš„ç”¨æ³• Hidden æ¡ä»¶æ¸²æŸ“ True WEBVIEW APP MINA åˆ—è¡¨æ¸²æŸ“ {{item}} äº‹ä»¶ åœ¨WXMLä¸­ç»‘å®šäº‹ä»¶ Page({ onTap(){ console.log('hello') } }) bindä¸catch bindæ˜¯å†’æ³¡ï¼Œäº‹ä»¶ä¼šå¾€ä¸Šä¼ é€’ catchä¼šé˜»æ­¢äº‹ä»¶å‘ä¸Šå†’æ³¡ æ¨¡å—åŒ– æ¨¡å—å¯¼å‡º function method1(){ console.log(\"123\"); } module.exports.method1 = method1; æ¨¡å—ä½¿ç”¨ const common = require('common.js') æ¨¡æ¿template å®šä¹‰æ¨¡æ¿ FirstName: {{firstName}}, LastName: {{lastName}} å¼•å…¥æ¨¡æ¿ ä½¿ç”¨æ¨¡æ¿ é¡µé¢é—´å‚æ•°ä¼ é€’ é¡µé¢è·³è½¬ wx.navigateTo({ url: './post-detail/post-detail?id='+id, }) onLoad: function (options) { // è¿™é‡Œå¯ä»¥æ‹¿åˆ°urlçš„å‚æ•° console.log(options.id); }, ç¼“å­˜ // è®¾ç½®ç¼“å­˜ wx.setStorage({ key: '', data: '', }) // è·å–ç¼“å­˜ wx.getStorage({ key: , success: function(res) {}, }) å…¨å±€å˜é‡ åœ¨app.jsä¸­å®šä¹‰ App({ globalData: { flag:false } //... } ä½¿ç”¨ var app =getApp(); app.globalData.flag= true; è·¯ç”± ä¸‰ç§è·¯ç”±æ–¹å¼ navigateTo redirectTo switchTab ç»„ä»¶ è§†å›¾ç»„ä»¶ view ç±»ä¼¼div åŸºç¡€ç»„ä»¶ icon text ä¸€æ®µæ–‡æœ¬ progress è¡¨å•ç»„ä»¶ button é»˜è®¤å°ºå¯¸æŒ‰é’® form image switch slider checkbox åœºæ™¯å€¼ ä»£è¡¨æ˜¯æ€ä¹ˆæ¥çš„ è§†å›¾å±‚ WXML import çš„ä¾èµ–æ— æ³•ä¼ é€’ åµŒå…¥ WXSS å•ä½ rpxï¼ˆresponsive pixelï¼‰: å¯ä»¥æ ¹æ®å±å¹•å®½åº¦è¿›è¡Œè‡ªé€‚åº” æ ·å¼å¯¼å…¥ @import \"common.wxss\"; å†…è”æ ·å¼ styleä¸class é€‰æ‹©å™¨ .class id element element,element ::after ::before å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼ app.wxss æ˜¯å…¨å±€æ ·å¼ï¼Œå®šä¹‰åœ¨pageç›®å½•ä¸‹çš„æ˜¯å±€éƒ¨æ ·å¼ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-18 01:51:39 "},"ç§»åŠ¨å¼€å‘/uniapp.html":{"url":"ç§»åŠ¨å¼€å‘/uniapp.html","title":"uniapp","keywords":"","body":"uniapp ç›®å½•ç»“æ„ â”Œâ”€components uni-appç»„ä»¶ç›®å½• â”‚ â””â”€comp-a.vue å¯å¤ç”¨çš„aç»„ä»¶ â”œâ”€hybrid å­˜æ”¾æœ¬åœ°ç½‘é¡µçš„ç›®å½•ï¼Œè¯¦è§ â”œâ”€platforms å­˜æ”¾å„å¹³å°ä¸“ç”¨é¡µé¢çš„ç›®å½•ï¼Œè¯¦è§ â”œâ”€pages ä¸šåŠ¡é¡µé¢æ–‡ä»¶å­˜æ”¾çš„ç›®å½• â”‚ â”œâ”€index â”‚ â”‚ â””â”€index.vue indexé¡µé¢ â”‚ â””â”€list â”‚ â””â”€list.vue listé¡µé¢ â”œâ”€static å­˜æ”¾åº”ç”¨å¼•ç”¨é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼‰çš„ç›®å½•ï¼Œæ³¨æ„ï¼šé™æ€èµ„æºåªèƒ½å­˜æ”¾äºæ­¤ â”œâ”€wxcomponents å­˜æ”¾å°ç¨‹åºç»„ä»¶çš„ç›®å½•ï¼Œè¯¦è§ â”œâ”€main.js Vueåˆå§‹åŒ–å…¥å£æ–‡ä»¶ â”œâ”€App.vue åº”ç”¨é…ç½®ï¼Œç”¨æ¥é…ç½®Appå…¨å±€æ ·å¼ä»¥åŠç›‘å¬ åº”ç”¨ç”Ÿå‘½å‘¨æœŸ â”œâ”€manifest.json é…ç½®åº”ç”¨åç§°ã€appidã€logoã€ç‰ˆæœ¬ç­‰æ‰“åŒ…ä¿¡æ¯ï¼Œè¯¦è§ â””â”€pages.json é…ç½®é¡µé¢è·¯ç”±ã€å¯¼èˆªæ¡ã€é€‰é¡¹å¡ç­‰é¡µé¢ç±»ä¿¡æ¯ï¼Œè¯¦è§ ç”Ÿå‘½å‘¨æœŸ åº”ç”¨ç”Ÿå‘½å‘¨æœŸ å‡½æ•°å è¯´æ˜ onLaunch å½“uni-app åˆå§‹åŒ–å®Œæˆæ—¶è§¦å‘ï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰ onShow å½“ uni-app å¯åŠ¨ï¼Œæˆ–ä»åå°è¿›å…¥å‰å°æ˜¾ç¤º onHide å½“ uni-app ä»å‰å°è¿›å…¥åå° onError å½“ uni-app æŠ¥é”™æ—¶è§¦å‘ onUniNViewMessage å¯¹ nvue é¡µé¢å‘é€çš„æ•°æ®è¿›è¡Œç›‘å¬ï¼Œå¯å‚è€ƒ nvue å‘ vue é€šè®¯ è·¯ç”± handleClick () { uni.navigateTo({ url:'home/home' }) } MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-14 12:13:16 "},"å¼€å‘å·¥å…·/nav.html":{"url":"å¼€å‘å·¥å…·/nav.html","title":"ğŸ› å¼€å‘å·¥å…·","keywords":"","body":"å¼€å‘å·¥å…· MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 12:40:15 "},"å¼€å‘å·¥å…·/linux/Linux.html":{"url":"å¼€å‘å·¥å…·/linux/Linux.html","title":"Linux","keywords":"","body":"Linux åŸºæœ¬æ¦‚å¿µåŠæ“ä½œ æ±‚åŠ© man man æ˜¯ manual çš„ç¼©å†™ï¼Œå°†æŒ‡ä»¤çš„å…·ä½“ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ man date ä»£å· ç±»å‹ 1 ç”¨æˆ·åœ¨ shell ç¯å¢ƒä¸­å¯ä»¥æ“ä½œçš„æŒ‡ä»¤æˆ–è€…å¯æ‰§è¡Œæ–‡ä»¶ 2 å†…æ ¸å¯è°ƒç”¨çš„å‡½æ•°ä¸å·¥å…·åº“ 3 å‡½æ•°åº“ 4 è®¾å¤‡æ–‡ä»¶è¯´æ˜ 5 é…ç½®æ–‡ä»¶ 6 æ¸¸æˆ 7 åè®® 8 ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥ä½¿ç”¨çš„ç®¡ç†æŒ‡ä»¤ doc /usr/share/docç›®å½•ä¸‹å­˜æ”¾äº†è½¯ä»¶çš„ä½¿ç”¨è¯´æ˜ å…³æœº who who # æŸ¥çœ‹åœ¨çº¿çš„ç”¨æˆ· sync sync # å…³æœºä¹‹å‰éœ€è¦å¼ºåˆ¶å†…å­˜ä¸­çš„æ•°æ®åŒæ­¥åˆ°ç£ç›˜ shutdown # shutdown [-krhc] æ—¶é—´ [ä¿¡æ¯] -k ï¼š ä¸ä¼šå…³æœºï¼Œåªæ˜¯å‘é€è­¦å‘Šä¿¡æ¯ï¼Œé€šçŸ¥æ‰€æœ‰åœ¨çº¿çš„ç”¨æˆ· -r ï¼š å°†ç³»ç»Ÿçš„æœåŠ¡åœæ‰åå°±é‡æ–°å¯åŠ¨ -h ï¼š å°†ç³»ç»Ÿçš„æœåŠ¡åœæ‰åå°±ç«‹å³å…³æœº -c ï¼š å–æ¶ˆå·²ç»åœ¨è¿›è¡Œçš„ shutdown é‡å¯ reboot PATH ç¯å¢ƒå˜é‡ï¼Œç”¨æ¥å£°æ˜å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼Œè·¯å¾„ä¹‹é—´ç”¨ : åˆ†éš” /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin sudo å…è®¸ä¸€èˆ¬ç”¨æˆ·æ‰§è¡Œåªæœ‰rootç”¨æˆ·æ‰èƒ½æ‰§è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰åœ¨/etc/sudoersä¸­é…ç½®çš„ç”¨æˆ·æ‰èƒ½æ‰§è¡Œ åŒ…ç®¡ç†å·¥å…· RPMï¼šRedhat Package Managerï¼ŒYUMåŸºäºRPM DPKGï¼šåŸºäº Debian æ“ä½œç³»ç»Ÿçš„ DEB è½¯ä»¶åŒ…ç®¡ç†å·¥å…· å‘è¡Œç‰ˆ Linuxå‘è¡Œç‰ˆæŒ‡çš„Linuxå†…æ ¸åŠå„ç§åº”ç”¨è½¯ä»¶çš„é›†æˆç‰ˆæœ¬ VIM ä¸‰ä¸ªæ¨¡å¼ ä¸€èˆ¬æŒ‡ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰ï¼šVIM çš„é»˜è®¤æ¨¡å¼ï¼Œå¯ä»¥ç”¨äºç§»åŠ¨æ¸¸æ ‡æŸ¥çœ‹å†…å®¹ ç¼–è¾‘æ¨¡å¼ï¼ˆInsert modeï¼‰ï¼šæŒ‰ä¸‹ \"i\" ç­‰æŒ‰é”®ä¹‹åè¿›å…¥ï¼Œå¯ä»¥å¯¹æ–‡æœ¬è¿›è¡Œç¼–è¾‘ æŒ‡ä»¤åˆ—æ¨¡å¼ï¼ˆBottom-line modeï¼‰ï¼šæŒ‰ä¸‹ \":\" æŒ‰é”®ä¹‹åè¿›å…¥ï¼Œç”¨äºä¿å­˜é€€å‡ºç­‰æ“ä½œ GNU GNUçš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€å¥—å®Œå…¨è‡ªç”±çš„æ“ä½œç³»ç»Ÿï¼Œç§°ä¸º GNUï¼Œå…¶å†…å®¹è½¯ä»¶å®Œå…¨ä»¥ GPL æ–¹å¼å‘å¸ƒ ä»¥ä»»ä½•ç›®çš„è¿è¡Œæ­¤ç¨‹åºçš„è‡ªç”± å†å¤åˆ¶çš„è‡ªç”± æ”¹è¿›æ­¤ç¨‹åºï¼Œå¹¶å…¬å¼€å‘å¸ƒæ”¹è¿›çš„è‡ªç”± ç£ç›˜ ç£ç›˜æ¥å£ IDE ï¼ˆATAï¼‰å…¨ç§° Advanced Technology Attachmentï¼Œæ¥å£é€Ÿåº¦æœ€å¤§ä¸º 133MB/sï¼Œå› ä¸ºå¹¶å£çº¿çš„æŠ—å¹²æ‰°æ€§å¤ªå·®ï¼Œä¸”æ’çº¿å ç”¨ç©ºé—´è¾ƒå¤§ï¼Œä¸åˆ©ç”µè„‘å†…éƒ¨æ•£çƒ­ï¼Œå·²é€æ¸è¢« SATA æ‰€å–ä»£ SATA å…¨ç§° Serial ATAï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ä¸²å£çš„ ATA æ¥å£ï¼ŒæŠ—å¹²æ‰°æ€§å¼ºï¼Œä¸”å¯¹æ•°æ®çº¿çš„é•¿åº¦è¦æ±‚æ¯” ATA ä½å¾ˆå¤šï¼Œæ”¯æŒçƒ­æ’æ‹”ç­‰åŠŸèƒ½ã€‚SATA-II çš„æ¥å£é€Ÿåº¦ä¸º 300MiB/sï¼Œè€Œ SATA-III æ ‡å‡†å¯è¾¾åˆ° 600MiB/s çš„ä¼ è¾“é€Ÿåº¦ã€‚SATA çš„æ•°æ®çº¿ä¹Ÿæ¯” ATA çš„ç»†å¾—å¤šï¼Œæœ‰åˆ©äºæœºç®±å†…çš„ç©ºæ°”æµé€šï¼Œæ•´ç†çº¿æä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ SCSI å…¨ç§°æ˜¯ Small Computer System Interfaceï¼ˆå°å‹æœºç³»ç»Ÿæ¥å£ï¼‰ï¼ŒSCSI ç¡¬ç›˜å¹¿ä¸ºå·¥ä½œç«™ä»¥åŠä¸ªäººç”µè„‘ä»¥åŠæœåŠ¡å™¨æ‰€ä½¿ç”¨ï¼Œå› æ­¤ä¼šä½¿ç”¨è¾ƒä¸ºå…ˆè¿›çš„æŠ€æœ¯ï¼Œå¦‚ç¢Ÿç‰‡è½¬é€Ÿ 15000rpm çš„é«˜è½¬é€Ÿï¼Œä¸”ä¼ è¾“æ—¶ CPU å ç”¨ç‡è¾ƒä½ï¼Œä½†æ˜¯å•ä»·ä¹Ÿæ¯”ç›¸åŒå®¹é‡çš„ ATA åŠ SATA ç¡¬ç›˜æ›´åŠ æ˜‚è´µ SAS Serial Attached SCSIæ˜¯æ–°ä¸€ä»£çš„ SCSI æŠ€æœ¯ï¼Œå’Œ SATA ç¡¬ç›˜ç›¸åŒï¼Œéƒ½æ˜¯é‡‡å–åºåˆ—å¼æŠ€æœ¯ä»¥è·å¾—æ›´é«˜çš„ä¼ è¾“é€Ÿåº¦ï¼Œå¯è¾¾åˆ° 6Gb/sã€‚æ­¤å¤–ä¹Ÿé€šè¿‡ç¼©å°è¿æ¥çº¿æ”¹å–„ç³»ç»Ÿå†…éƒ¨ç©ºé—´ç­‰ ç£ç›˜æ–‡ä»¶å åœ¨Linuxï¼Œç¡¬ä»¶éƒ½è¢«å½“æˆä¸€ä¸ªæ–‡ä»¶ IDE ç£ç›˜ï¼š/dev/hd[a-d] SATA/SCSI/SAS ç£ç›˜ï¼š/dev/sd[a-p] åˆ†åŒº åˆ†åŒºè¡¨ MBR MBR ä¸­ï¼Œç¬¬ä¸€ä¸ªæ‰‡åŒºæœ€é‡è¦ï¼Œé‡Œé¢æœ‰ä¸»è¦å¼€æœºè®°å½•ï¼ˆMaster boot record, MBRï¼‰åŠåˆ†åŒºè¡¨ï¼ˆpartition tableï¼‰ï¼Œå…¶ä¸­ä¸»è¦å¼€æœºè®°å½•å  446 bytesï¼Œåˆ†åŒºè¡¨å  64 bytes åˆ†åŒºè¡¨åªæœ‰ 64 bytesï¼Œæœ€å¤šåªèƒ½å­˜å‚¨ 4 ä¸ªåˆ†åŒºï¼Œè¿™ 4 ä¸ªåˆ†åŒºä¸ºä¸»åˆ†åŒºï¼ˆPrimaryï¼‰å’Œæ‰©å±•åˆ†åŒºï¼ˆExtendedï¼‰ã€‚å…¶ä¸­æ‰©å±•åˆ†åŒºåªæœ‰ä¸€ä¸ªï¼Œå®ƒä½¿ç”¨å…¶å®ƒæ‰‡åŒºæ¥è®°å½•é¢å¤–çš„åˆ†åŒºè¡¨ï¼Œå› æ­¤é€šè¿‡æ‰©å±•åˆ†åŒºå¯ä»¥åˆ†å‡ºæ›´å¤šåˆ†åŒºï¼Œè¿™äº›åˆ†åŒºç§°ä¸ºé€»è¾‘åˆ†åŒº LinuxæŠŠåˆ†åŒºå½“æˆæ–‡ä»¶ï¼Œåˆ†åŒºæ–‡ä»¶çš„å‘½åæ–¹å¼ä¸ºï¼šç£ç›˜æ–‡ä»¶å + ç¼–å·ï¼Œä¾‹å¦‚ /dev/sda1ã€‚æ³¨æ„ï¼Œé€»è¾‘åˆ†åŒºçš„ç¼–å·ä» 5 å¼€å§‹ GPT æ‰‡åŒºæ˜¯ç£ç›˜çš„æœ€å°å­˜å‚¨å•ä½ï¼Œæ—§ç£ç›˜çš„æ‰‡åŒºå¤§å°é€šå¸¸ä¸º 512 bytesï¼Œè€Œæœ€æ–°çš„ç£ç›˜æ”¯æŒ 4 kã€‚GPT ä¸ºäº†å…¼å®¹æ‰€æœ‰ç£ç›˜ï¼Œåœ¨å®šä¹‰æ‰‡åŒºä¸Šä½¿ç”¨é€»è¾‘åŒºå—åœ°å€ï¼ˆLogical Block Address, LBAï¼‰ï¼ŒLBA é»˜è®¤å¤§å°ä¸º 512 bytes å¼€æœºæ£€æµ‹ç¨‹åº BIOSæ˜¯å¼€æœºçš„æ—¶å€™è®¡ç®—æœºæ‰§è¡Œçš„ç¬¬ä¸€ä¸ªç¨‹åºï¼Œè¿™ä¸ªç¨‹åºçŸ¥é“å¼€æœºçš„ç£ç›˜ï¼Œè¯»å–ç£ç›˜çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºçš„å¼€æœºè®°å½•ï¼ˆMBRï¼‰ï¼Œé€šè¿‡MBRæ‰§è¡Œå¼€æœºç®¡ç†ç¨‹åºï¼Œå¼€æœºç®¡ç†ç¨‹åºåŠ è½½æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒæ–‡ä»¶ MBRæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼šé€‰å•ã€è½½å…¥æ ¸å¿ƒæ–‡ä»¶ä»¥åŠè½¬äº¤å…¶å®ƒå¼€æœºç®¡ç†ç¨‹åºã€‚è½¬äº¤è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨æ¥å®ç°å¤šé‡å¼•å¯¼ï¼Œåªéœ€è¦å°†å¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„å¼€æœºç®¡ç†ç¨‹åºå®‰è£…åœ¨å…¶å®ƒåˆ†åŒºçš„å¯åŠ¨æ‰‡åŒºä¸Šï¼Œåœ¨å¯åŠ¨å¼€æœºç®¡ç†ç¨‹åºæ—¶ï¼Œå°±å¯ä»¥é€šè¿‡é€‰å•é€‰æ‹©å¯åŠ¨å½“å‰çš„æ“ä½œç³»ç»Ÿæˆ–è€…è½¬äº¤ç»™å…¶å®ƒå¼€æœºç®¡ç†ç¨‹åºä»è€Œå¯åŠ¨å¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿ æ–‡ä»¶ç³»ç»Ÿ ä¸€ä¸ªåˆ†åŒºé€šå¸¸åªèƒ½æ ¼å¼åŒ–æˆä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä½¿ç”¨ç£ç›˜é˜µåˆ—æŠ€æœ¯å¯ä»¥å°†ä¸€ä¸ªåˆ†åŒºæ ¼å¼åŒ–ä¸ºå¤šä¸ªæ–‡ä»¶ç³»ç»Ÿ ç»„æˆ inodeï¼šä¸€ä¸ªæ–‡ä»¶å ç”¨ä¸€ä¸ªinodeï¼Œè®°å½•æ–‡ä»¶çš„å±æ€§å’Œæ­¤æ–‡ä»¶å ç”¨çš„blockç¼–å· å…·ä½“åŒ…å«ï¼šæƒé™ã€æ‹¥æœ‰è€…ã€å®¹é‡ã€æ—¶é—´ã€æ–‡ä»¶ç‰¹æ€§ç­‰ä¿¡æ¯ æ¯ä¸ª inode å¤§å°å‡å›ºå®šä¸º 128 bytes (æ–°çš„ ext4 ä¸ xfs å¯è®¾å®šåˆ° 256 bytes) blockï¼šç”¨æ¥å­˜æ”¾æ–‡ä»¶å†…å®¹ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥å ç”¨å¤šä¸ªblock ä¸åŒblockå¤§å°ä¼šé™åˆ¶å•ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶ç³»ç»Ÿçš„æœ€å¤§å¤§å° superblockï¼šè®°å½•æ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ä¿¡æ¯ï¼Œå¦‚å®¹é‡ã€æ ¼å¼ block bitmapï¼šä¸€ä¸ªè®°å½•blockå ç”¨æƒ…å†µçš„å›¾ æ–‡ä»¶è¯»å– Ext2 å…ˆæ ¹æ®inodeæŸ¥è¯¢å‡ºæ‰€æœ‰blockï¼Œç„¶åå†æŠŠblocké‡Œçš„æ–‡ä»¶å†…å®¹è¯»å‡ºæ¥ FAT è¿™ç§æ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰inodeï¼Œæ¯ä¸ªblockå°±åƒä¸€ä¸ªé“¾è¡¨ï¼Œå­˜å‚¨ç€ä¸‹ä¸€ä¸ªblockçš„ç¼–å· ç£ç›˜ç¢ç‰‡ æŒ‡ä¸€ä¸ªæ–‡ä»¶çš„blockè¿‡äºåˆ†æ•£ï¼Œç£ç›˜è¯»å–æ—¶ç£å¤´ç§»åŠ¨è·ç¦»è¿‡å¤§ ç›®å½• ä¸€ä¸ªç›®å½•æœ€å°‘åˆ†é…ä¸€ä¸ªinodeä¸ä¸€ä¸ªblockï¼Œblockè®°å½•äº†ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„inodeä»¥åŠæ–‡ä»¶å æ—¥å¿— ext3/ext4 æ–‡ä»¶ç³»ç»Ÿå¼•å…¥äº†æ—¥å¿—åŠŸèƒ½ï¼Œå¯ä»¥åˆ©ç”¨æ—¥å¿—æ¥ä¿®å¤æ–‡ä»¶ç³»ç»Ÿ æŒ‚è½½ åˆ©ç”¨ç›®å½•ä½œä¸ºæ–‡ä»¶ç³»ç»Ÿçš„è¿›å…¥ç‚¹ ç›®å½•é…ç½® Filesystem Hierarchy Standard (FHS) è§„å®šäº† Linux çš„ç›®å½•ç»“æ„ï¼š /ï¼šrootï¼Œæ ¹ç›®å½• /usrï¼šunix software resourceï¼Œæ‰€æœ‰ç³»ç»Ÿé»˜è®¤è½¯ä»¶éƒ½ä¼šå®‰è£…åˆ°è¿™ä¸ªç›®å½• /varï¼švariableï¼Œå­˜æ”¾ç³»ç»Ÿæˆ–è€…ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­çš„æ•°æ®æ–‡ä»¶ æ–‡ä»¶ æ–‡ä»¶å±æ€§ drwxr-xr-x 4 my my 4096 Mar 4 12:04 ./ drwxr-xr-xï¼šæ–‡ä»¶ç±»å‹åŠæƒé™ï¼Œç¬¬ä¸€ä½ä¸ºæ–‡ä»¶ç±»å‹è‡ªåŠ¨ï¼Œå9ä½ä½æ–‡ä»¶æƒé™è‡ªåŠ¨ dï¼šç›®å½• -ï¼šæ–‡ä»¶ lï¼šé“¾æ¥æ–‡ä»¶ 9 ä½çš„æ–‡ä»¶æƒé™å­—æ®µä¸­ï¼Œæ¯ 3 ä¸ªä¸ºä¸€ç»„ï¼Œå…± 3 ç»„ï¼Œæ¯ä¸€ç»„åˆ†åˆ«ä»£è¡¨å¯¹æ–‡ä»¶æ‹¥æœ‰è€…ã€æ‰€å±ç¾¤ç»„ä»¥åŠå…¶å®ƒäººçš„æ–‡ä»¶æƒé™ rwxåˆ†å¸ƒè¡¨ç¤ºå¯è¯»(readable),å¯å†™(writeable),å¯æ‰§è¡Œ(executeable) 3ï¼šé“¾æ¥æ•° myï¼šæ–‡ä»¶æ‹¥æœ‰è€… myï¼šæ‰€å±ç¾¤ç»„ 4096ï¼šæ–‡ä»¶å¤§å° Mar 4 12:04ï¼šæœ€åä¿®æ”¹æ—¶é—´ modification time (mtime)ï¼šæ–‡ä»¶çš„å†…å®¹æ›´æ–°å°±ä¼šæ›´æ–°ï¼› status time (ctime)ï¼šæ–‡ä»¶çš„çŠ¶æ€ï¼ˆæƒé™ã€å±æ€§ï¼‰æ›´æ–°å°±ä¼šæ›´æ–°ï¼› access time (atime)ï¼šè¯»å–æ–‡ä»¶æ—¶å°±ä¼šæ›´æ–°ã€‚ æ–‡ä»¶ä¸ç›®å½•çš„åŸºæœ¬æ“ä½œ ls åˆ—å‡ºæ–‡ä»¶æˆ–è€…ç›®å½•çš„ä¿¡æ¯ï¼Œç›®å½•çš„ä¿¡æ¯å°±æ˜¯å…¶ä¸­åŒ…å«çš„æ–‡ä»¶ # ls [-aAdfFhilnrRSt] file|dir -a ï¼šåˆ—å‡ºå…¨éƒ¨çš„æ–‡ä»¶ -d ï¼šä»…åˆ—å‡ºç›®å½•æœ¬èº« -l ï¼šä»¥é•¿æ•°æ®ä¸²è¡Œåˆ—å‡ºï¼ŒåŒ…å«æ–‡ä»¶çš„å±æ€§ä¸æƒé™ç­‰ç­‰æ•°æ® cd æ›´æ¢å½“å‰ç›®å½• cd [ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼Œå¦‚æœä¸å¡«é»˜è®¤æ˜¯~] mkdir # mkdir [-mp] ç›®å½•åç§° -m ï¼šé…ç½®ç›®å½•æƒé™ -p ï¼šé€’å½’åˆ›å»ºç›®å½• rmdir åˆ é™¤ç©ºç›®å½• rmdir [-p] ç›®å½•åç§° -p ï¼šé€’å½’åˆ é™¤ç›®å½• touch æ›´æ–°æ–‡ä»¶æ—¶é—´æˆ–è€…å»ºç«‹æ–°æ–‡ä»¶ # touch [-acdmt] filename -a ï¼š æ›´æ–° atime -c ï¼š æ›´æ–° ctimeï¼Œè‹¥è¯¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¸å»ºç«‹æ–°æ–‡ä»¶ -m ï¼š æ›´æ–° mtime -d ï¼š åé¢å¯ä»¥æ¥æ›´æ–°æ—¥æœŸè€Œä¸ä½¿ç”¨å½“å‰æ—¥æœŸï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ --date=\"æ—¥æœŸæˆ–æ—¶é—´\" -t ï¼š åé¢å¯ä»¥æ¥æ›´æ–°æ—¶é—´è€Œä¸ä½¿ç”¨å½“å‰æ—¶é—´ï¼Œæ ¼å¼ä¸º[YYYYMMDDhhmm] cp å¤åˆ¶æ–‡ä»¶ cp [-adfilprsu] source destination -a ï¼šç›¸å½“äº -dr --preserve=all -d ï¼šè‹¥æ¥æºæ–‡ä»¶ä¸ºé“¾æ¥æ–‡ä»¶ï¼Œåˆ™å¤åˆ¶é“¾æ¥æ–‡ä»¶å±æ€§è€Œéæ–‡ä»¶æœ¬èº« -i ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨æ—¶ï¼Œåœ¨è¦†ç›–å‰ä¼šå…ˆè¯¢é—® -p ï¼šè¿åŒæ–‡ä»¶çš„å±æ€§ä¸€èµ·å¤åˆ¶è¿‡å» -r ï¼šé€’å½’å¤åˆ¶ -u ï¼šdestination æ¯” source æ—§æ‰æ›´æ–° destinationï¼Œæˆ– destination ä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰å¤åˆ¶ --preserve=all ï¼šé™¤äº† -p çš„æƒé™ç›¸å…³å‚æ•°å¤–ï¼Œè¿˜åŠ å…¥ SELinux çš„å±æ€§, links, xattr ç­‰ä¹Ÿå¤åˆ¶äº† rm åˆ é™¤æ–‡ä»¶ # rm [-fir] æ–‡ä»¶æˆ–ç›®å½• -r ï¼šé€’å½’åˆ é™¤ -i: åˆ é™¤å‰è¯¢é—® -fï¼šå¼ºåˆ¶åˆ é™¤ mv ç§»åŠ¨æ–‡ä»¶ # mv [-fiu] source destination # mv [options] source1 source2 source3 .... directory -f ï¼š force å¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸ä¼šè¯¢é—®è€Œç›´æ¥è¦†ç›– ä¿®æ”¹æƒé™ # chmod [ugoa] [+-=] [rwx] dirname/filename - uï¼šæ‹¥æœ‰è€… - gï¼šæ‰€å±ç¾¤ç»„ - oï¼šå…¶ä»–äºº - aï¼šæ‰€æœ‰äºº - +ï¼šæ·»åŠ æƒé™ - -ï¼šç§»é™¤æƒé™ - =ï¼šè®¾å®šæƒé™ # ä¸ºæ‰€æœ‰äººæ·»åŠ å¯æ‰§è¡Œæƒé™ chmod a+x test.sh é»˜è®¤æƒé™ æ–‡ä»¶çš„é»˜è®¤æƒé™æ˜¯-rw-rw-rw- ï¼Œæ²¡æœ‰å¯æ‰§è¡Œæƒé™ ç›®å½•çš„é»˜è®¤æƒé™æ˜¯drwxrwxrwx ç›®å½•æƒé™ æ–‡ä»¶åä¸æ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ä¸­ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸­ã€‚å› æ­¤ï¼Œæ‹¥æœ‰æ–‡ä»¶çš„ w æƒé™å¹¶ä¸èƒ½å¯¹æ–‡ä»¶åè¿›è¡Œä¿®æ”¹ ç›®å½•å­˜å‚¨æ–‡ä»¶åˆ—è¡¨ï¼Œä¸€ä¸ªç›®å½•çš„æƒé™ä¹Ÿå°±æ˜¯å¯¹å…¶æ–‡ä»¶åˆ—è¡¨çš„æƒé™ã€‚å› æ­¤ï¼Œç›®å½•çš„ r æƒé™è¡¨ç¤ºå¯ä»¥è¯»å–æ–‡ä»¶åˆ—è¡¨ï¼›w æƒé™è¡¨ç¤ºå¯ä»¥ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨ï¼Œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æ·»åŠ åˆ é™¤æ–‡ä»¶ï¼Œå¯¹æ–‡ä»¶åè¿›è¡Œä¿®æ”¹ï¼›x æƒé™å¯ä»¥è®©è¯¥ç›®å½•æˆä¸ºå·¥ä½œç›®å½•ï¼Œx æƒé™æ˜¯ r å’Œ w æƒé™çš„åŸºç¡€ï¼Œå¦‚æœä¸èƒ½ä½¿ä¸€ä¸ªç›®å½•æˆä¸ºå·¥ä½œç›®å½•ï¼Œä¹Ÿå°±æ²¡åŠæ³•è¯»å–æ–‡ä»¶åˆ—è¡¨ä»¥åŠå¯¹æ–‡ä»¶åˆ—è¡¨è¿›è¡Œä¿®æ”¹äº† é“¾æ¥ # ln [-sf] source_filename dist_filename -s ï¼šé»˜è®¤æ˜¯å®ä½“é“¾æ¥ï¼ŒåŠ  -s ä¸ºç¬¦å·é“¾æ¥ -f ï¼šå¦‚æœç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶ï¼Œå…ˆåˆ é™¤ç›®æ ‡æ–‡ä»¶ å®ä½“é“¾æ¥ å®ä½“é“¾æ¥ç›´æ¥é“¾æ¥äº†æºæ–‡ä»¶çš„inode ä¸èƒ½è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿã€ä¸èƒ½å¯¹ç›®å½•è¿›è¡Œé“¾æ¥ ln my.link test.sh ç¬¦å·é“¾æ¥ ç¬¦å·é“¾æ¥æŒ‡å‘çš„æ˜¯æ–‡ä»¶ï¼Œå¦‚æœåŸå§‹æ–‡ä»¶è¢«åˆ é™¤ï¼Œç¬¦å·é“¾æ¥å°±æ‰“ä¸å¼€äº† ln -s test.sh symbol.link è·å–å†…å®¹ cat å–å¾—æ–‡ä»¶å†…å®¹ # cat [-AbEnTv] filename -n ï¼šæ‰“å°å‡ºè¡Œå·ï¼Œè¿åŒç©ºç™½è¡Œä¹Ÿä¼šæœ‰è¡Œå·ï¼Œ-b ä¸ä¼š tac ä»æœ€åä¸€è¡Œå¼€å§‹æ‰“å° more å¯ä»¥ä¸€é¡µä¸€é¡µæŸ¥çœ‹æ–‡ä»¶å†…å®¹ less æ¯”moreå¤šäº†ä¸€ä¸ªå‘å‰ç¿»é¡µçš„åŠŸèƒ½ head å–å¾—æ–‡ä»¶çš„å‰å‡ è¡Œ # head [-n number] filename -n ï¼šåé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€ tail headçš„åå‘æ“ä½œï¼Œå–å¾—åå‡ è¡Œ od ä»¥å­—ç¬¦æˆ–è€…åå…­è¿›åˆ¶çš„å½¢å¼æ˜¾ç¤ºäºŒè¿›åˆ¶æ–‡ä»¶ æŒ‡ä»¤ä¸æ–‡ä»¶æœç´¢ which # which [-a] command -a ï¼šå°†æ‰€æœ‰æŒ‡ä»¤åˆ—å‡ºï¼Œè€Œä¸æ˜¯åªåˆ—ç¬¬ä¸€ä¸ª which -a ssh whereis æ–‡ä»¶æœç´¢ï¼Œåªæœç´¢å‡ ä¸ªç‰¹å®šçš„ç›®å½• # whereis [-bmsu] dirname/filename locate å¯ä»¥ç”¨å…³é”®å­—æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæœç´¢æ–‡ä»¶ locate ä½¿ç”¨ /var/lib/mlocate/ è¿™ä¸ªæ•°æ®åº“æ¥è¿›è¡Œæœç´¢ï¼Œå®ƒå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¹¶ä¸”æ¯å¤©æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥æ— æ³•ç”¨ locate æœç´¢æ–°å»ºçš„æ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨ updatedb æ¥ç«‹å³æ›´æ–°æ•°æ®åº“ # locate [-ir] keyword -rï¼šæ­£åˆ™è¡¨è¾¾å¼ find å¯ä»¥ä½¿ç”¨æ–‡ä»¶çš„å±æ€§å’Œæƒé™è¿›è¡Œæœç´¢ # find [basedir] [option] example: find . -name \"shadow*\" ä¸æ—¶é—´æœ‰å…³çš„é€‰é¡¹ï¼š -mtime n ï¼šåˆ—å‡ºåœ¨ n å¤©å‰çš„é‚£ä¸€å¤©ä¿®æ”¹è¿‡å†…å®¹çš„æ–‡ä»¶ -mtime +n ï¼šåˆ—å‡ºåœ¨ n å¤©ä¹‹å‰ (ä¸å« n å¤©æœ¬èº«) ä¿®æ”¹è¿‡å†…å®¹çš„æ–‡ä»¶ -mtime -n ï¼šåˆ—å‡ºåœ¨ n å¤©ä¹‹å†… (å« n å¤©æœ¬èº«) ä¿®æ”¹è¿‡å†…å®¹çš„æ–‡ä»¶ -newer file ï¼š åˆ—å‡ºæ¯” file æ›´æ–°çš„æ–‡ä»¶ ä¸æ–‡ä»¶æ‹¥æœ‰è€…å’Œæ‰€å±ç¾¤ç»„æœ‰å…³çš„é€‰é¡¹ï¼š -uid n -gid n -user name -group name -nouser ï¼šæœç´¢æ‹¥æœ‰è€…ä¸å­˜åœ¨ /etc/passwd çš„æ–‡ä»¶ -nogroupï¼šæœç´¢æ‰€å±ç¾¤ç»„ä¸å­˜åœ¨äº /etc/group çš„æ–‡ä»¶ ä¸æ–‡ä»¶æƒé™å’Œåç§°æœ‰å…³çš„é€‰é¡¹ï¼š -name filename -size [+-]SIZEï¼šæœå¯»æ¯” SIZE è¿˜è¦å¤§ (+) æˆ–å° (-) çš„æ–‡ä»¶ã€‚è¿™ä¸ª SIZE çš„è§„æ ¼æœ‰ï¼šc: ä»£è¡¨ byteï¼Œk: ä»£è¡¨ 1024bytesã€‚æ‰€ä»¥ï¼Œè¦æ‰¾æ¯” 50KB è¿˜è¦å¤§çš„æ–‡ä»¶ï¼Œå°±æ˜¯ -size +50k -type TYPE -perm mode ï¼šæœç´¢æƒé™ç­‰äº mode çš„æ–‡ä»¶ -perm -mode ï¼šæœç´¢æƒé™åŒ…å« mode çš„æ–‡ä»¶ -perm /mode ï¼šæœç´¢æƒé™åŒ…å«ä»»ä¸€ mode çš„æ–‡ä»¶ å‹ç¼©ä¸æ‰“åŒ… å‹ç¼©æŒ‡ä»¤ gzip ä½¿ç”¨ zcatã€zmoreã€zless æ¥è¯»å–å‹ç¼©æ–‡ä»¶çš„å†…å®¹ $ gzip [-cdtv#] filename -c ï¼šå°†å‹ç¼©çš„æ•°æ®è¾“å‡ºåˆ°å±å¹•ä¸Š -d ï¼šè§£å‹ç¼© -t ï¼šæ£€éªŒå‹ç¼©æ–‡ä»¶æ˜¯å¦å‡ºé”™ -v ï¼šæ˜¾ç¤ºå‹ç¼©æ¯”ç­‰ä¿¡æ¯ -# ï¼š # ä¸ºæ•°å­—çš„æ„æ€ï¼Œä»£è¡¨å‹ç¼©ç­‰çº§ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©æ¯”è¶Šé«˜ï¼Œé»˜è®¤ä¸º 6 bzip2 ä½¿ç”¨bzcatã€bzmoreã€bzlessã€bzgrepè¯»å–å‹ç¼©æ–‡ä»¶çš„å†…å®¹ $ bzip2 [-cdkzv#] filename -k ï¼šä¿ç•™æºæ–‡ä»¶ xz æŸ¥çœ‹å‘½ä»¤ï¼šxzcatã€xzmoreã€xzlessã€xzgrep æ‰“åŒ… å‹ç¼©æŒ‡ä»¤åªèƒ½å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œæ‰“åŒ…èƒ½å¤Ÿå°†å¤šä¸ªæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªå¤§æ–‡ä»¶ tar -z ï¼šä½¿ç”¨ zipï¼› -j ï¼šä½¿ç”¨ bzip2ï¼› -J ï¼šä½¿ç”¨ xzï¼› -c ï¼šæ–°å»ºæ‰“åŒ…æ–‡ä»¶ï¼› -t ï¼šæŸ¥çœ‹æ‰“åŒ…æ–‡ä»¶é‡Œé¢æœ‰å“ªäº›æ–‡ä»¶ï¼› -x ï¼šè§£æ‰“åŒ…æˆ–è§£å‹ç¼©çš„åŠŸèƒ½ï¼› -v ï¼šåœ¨å‹ç¼©/è§£å‹ç¼©çš„è¿‡ç¨‹ä¸­ï¼Œæ˜¾ç¤ºæ­£åœ¨å¤„ç†çš„æ–‡ä»¶åï¼› -f : filenameï¼šè¦å¤„ç†çš„æ–‡ä»¶ï¼› -C ç›®å½• ï¼š åœ¨ç‰¹å®šç›®å½•è§£å‹ç¼©ã€‚ ä¸€äº›èŒƒä¾‹ ä½¿ç”¨æ–¹å¼ å‘½ä»¤ æ‰“åŒ…å‹ç¼© tar -jcv -f filename.tar.bz2 è¦è¢«å‹ç¼©çš„æ–‡ä»¶æˆ–ç›®å½•åç§° æŸ¥ çœ‹ tar -jtv -f filename.tar.bz2 è§£å‹ç¼© tar -jxv -f filename.tar.bz2 -C è¦è§£å‹ç¼©çš„ç›®å½• Bash é€šè¿‡Shellæ¥è¯·æ±‚å†…æ ¸æä¾›æœåŠ¡ï¼ŒBashæ˜¯Shellçš„ä¸€ç§ ç‰¹æ€§ å‘½ä»¤å†å² å‘½ä»¤æ–‡ä»¶è¡¥å…¨ å‘½ä»¤åˆ«å shellè„šæœ¬ é€šé…ç¬¦ å˜é‡æ“ä½œ # å˜é‡èµ‹å€¼ x=abc # è¾“å‡ºå˜é‡ echo $x # è¾“å‡º abc x=\"ç¯å¢ƒå˜é‡ = $PATH\" # è¾“å‡º ç¯å¢ƒå˜é‡ = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin x='x$PATH' # å•å¼•å·å†…ä¸ä¼šè¿›è¡Œå˜é‡æ›¿æ¢ å®ƒä¼šè¾“å‡º x$PATH version=$(uname -r) # å°†æŒ‡ä»¤æ‰§è¡Œç»“æœèµ‹å€¼ç»™å˜é‡ $ declare [-aixr] variable -a ï¼š å®šä¹‰ä¸ºæ•°ç»„ç±»å‹ -i ï¼š å®šä¹‰ä¸ºæ•´æ•°ç±»å‹ -x ï¼š å®šä¹‰ä¸ºç¯å¢ƒå˜é‡ -r ï¼š å®šä¹‰ä¸º readonly ç±»å‹ æŒ‡ä»¤æœç´¢é¡ºåº ä»¥ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„æ¥æ‰§è¡ŒæŒ‡ä»¤ï¼Œä¾‹å¦‚ /bin/ls æˆ–è€… ./ls ï¼› ç”±åˆ«åæ‰¾åˆ°è¯¥æŒ‡ä»¤æ¥æ‰§è¡Œï¼› ç”± Bash å†…ç½®çš„æŒ‡ä»¤æ¥æ‰§è¡Œï¼› æŒ‰ $PATH å˜é‡æŒ‡å®šçš„æœç´¢è·¯å¾„çš„é¡ºåºæ‰¾åˆ°ç¬¬ä¸€ä¸ªæŒ‡ä»¤æ¥æ‰§è¡Œã€‚ æ•°æ®æµé‡å®šå‘ é‡å®šå‘æŒ‡çš„æ˜¯ä½¿ç”¨æ–‡ä»¶ä»£æ›¿æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡º æœ‰ä¸€ä¸ªç®­å¤´çš„è¡¨ç¤ºä»¥è¦†ç›–çš„æ–¹å¼é‡å®šå‘ï¼Œè€Œæœ‰ä¸¤ä¸ªç®­å¤´çš„è¡¨ç¤ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘ 1 ä»£ç  è¿ç®—ç¬¦ æ ‡å‡†è¾“å…¥ (stdin) 0 æ ‡å‡†è¾“å‡º (stdout) 1 > æˆ– >> æ ‡å‡†é”™è¯¯è¾“å‡º (stderr) 2 2> æˆ– 2>> ls &> result # å°†lsçš„æ‰€æœ‰è¾“å‡ºéƒ½å®šå‘åˆ°resultæ–‡ä»¶ ç®¡é“æŒ‡ä»¤ å°†ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å…¥ ll | cat -n # å°†llçš„ç»“æœä½œä¸ºcatçš„è¾“å…¥ æå–æŒ‡ä»¤ cut $ cut -d ï¼šä½¿ç”¨åˆ†éš”ç¬¦å¯¹æ¯è¡Œè¿›è¡Œåˆ†å‰² -f ï¼šç»è¿‡ -d åˆ†éš”åï¼Œä½¿ç”¨ -f n å–å‡ºç¬¬ n ä¸ªåŒºé—´ -c ï¼šä»¥å­—ç¬¦ä¸ºå•ä½å–å‡ºåŒºé—´ last | cut -d ' ' -f 1 # å–å‡ºç™»å½•çš„ç”¨æˆ· æ’åºæŒ‡ä»¤ sort $ sort [-fbMnrtuk] [file or stdin] -f ï¼šå¿½ç•¥å¤§å°å†™ -b ï¼šå¿½ç•¥æœ€å‰é¢çš„ç©ºæ ¼ -M ï¼šä»¥æœˆä»½çš„åå­—æ¥æ’åºï¼Œä¾‹å¦‚ JANï¼ŒDEC -n ï¼šä½¿ç”¨æ•°å­— -r ï¼šåå‘æ’åº -u ï¼šç›¸å½“äº uniqueï¼Œé‡å¤çš„å†…å®¹åªå‡ºç°ä¸€æ¬¡ -t ï¼šåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸º tab -k ï¼šæŒ‡å®šæ’åºçš„åŒºé—´ last | cut -d ' ' -f 1 | sort # å¯¹ç™»å½•ç”¨æˆ·è¿›è¡Œæ’åº uniq å»é™¤é‡å¤æ•°æ® $ uniq [-ic] -i ï¼šå¿½ç•¥å¤§å°å†™ -c ï¼šè¿›è¡Œè®¡æ•° last | cut -d ' ' -f 1 | sort |uniq -c # ç»Ÿè®¡ç”¨æˆ·ç™»å½•æ¬¡æ•° åŒå‘è¾“å‡ºé‡å®šå‘ tee cat my.link |tee result # åŒæ—¶å°†è¾“å‡ºè¾“å‡ºåˆ°å±å¹•å’Œresultæ–‡ä»¶ å­—ç¬¦è½¬æ¢æŒ‡ä»¤ tr å¯¹å­—ç¬¦æ›¿æ¢ last | tr '[0-9]' '*' # æŠŠæ•°å­—æ›¿æ¢æˆ* col å°†tabè½¬æ¢ä¸ºç©ºæ ¼ expand å°† tab è½¬æ¢ä¸€å®šæ•°é‡çš„ç©ºæ ¼ï¼Œé»˜è®¤æ˜¯ 8 ä¸ª æ­£åˆ™è¡¨è¾¾å¼ grep globally search a regular expression and printï¼Œä½¿ç”¨æ­£åˆ™è¡¨ç¤ºå¼è¿›è¡Œå…¨å±€æŸ¥æ‰¾å¹¶æ‰“å°ã€‚ $ grep [-acinv] [--color=auto] æœå¯»å­—ç¬¦ä¸² filename -c ï¼š ç»Ÿè®¡åŒ¹é…åˆ°è¡Œçš„ä¸ªæ•° -i ï¼š å¿½ç•¥å¤§å°å†™ -n ï¼š è¾“å‡ºè¡Œå· -v ï¼š åå‘é€‰æ‹©ï¼Œä¹Ÿå°±æ˜¯æ˜¾ç¤ºå‡ºæ²¡æœ‰ æœå¯»å­—ç¬¦ä¸² å†…å®¹çš„é‚£ä¸€è¡Œ --color=auto ï¼šæ‰¾åˆ°çš„å…³é”®å­—åŠ é¢œè‰²æ˜¾ç¤º last |grep 'pts/[0-9]' # æ‰¾å‡ºptsç™»å½•çš„ printf printf '%10s \\n' $(last |grep 'pts/[0-9]') # æ ¼å¼åŒ–è¾“å‡ºï¼Œéç®¡é“å‘½ä»¤ï¼Œéœ€è¦é€šè¿‡$()è¿›è¡Œæ•°æ®ä¼ é€’ awk awk æ¯æ¬¡å¤„ç†ä¸€è¡Œï¼Œå¤„ç†çš„æœ€å°å•ä½æ˜¯å­—æ®µï¼Œæ¯ä¸ªå­—æ®µçš„å‘½åæ–¹å¼ä¸ºï¼š$nï¼Œn ä¸ºå­—æ®µå·ï¼Œä» 1 å¼€å§‹ï¼Œ$0 è¡¨ç¤ºä¸€æ•´è¡Œ last -n 5 | awk '{print $1 \"\\t\" $3}' # æœ€è¿‘5ä¸ªç™»å½•çš„ç”¨æˆ·åŠip è¿›ç¨‹ç®¡ç† æŸ¥çœ‹è¿›ç¨‹ ps ps -l # æŸ¥çœ‹è‡ªå·±çš„è¿›ç¨‹ ps aux # æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹ pstree pstree -A # æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹æ ‘ top top -d 2 # 2ç§’åˆ·æ–°ä¸€æ¬¡æŸ¥çœ‹è¿›ç¨‹ è¿›ç¨‹çŠ¶æ€ çŠ¶æ€ è¯´æ˜ R running or runnable (on run queue) æ­£åœ¨æ‰§è¡Œæˆ–è€…å¯æ‰§è¡Œï¼Œæ­¤æ—¶è¿›ç¨‹ä½äºæ‰§è¡Œé˜Ÿåˆ—ä¸­ã€‚ D uninterruptible sleep (usually I/O) ä¸å¯ä¸­æ–­é˜»å¡ï¼Œé€šå¸¸ä¸º IO é˜»å¡ã€‚ S interruptible sleep (waiting for an event to complete) å¯ä¸­æ–­é˜»å¡ï¼Œæ­¤æ—¶è¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸä¸ªäº‹ä»¶å®Œæˆã€‚ Z zombie (terminated but not reaped by its parent) åƒµæ­»ï¼Œè¿›ç¨‹å·²ç»ç»ˆæ­¢ä½†æ˜¯å°šæœªè¢«å…¶çˆ¶è¿›ç¨‹è·å–ä¿¡æ¯ã€‚ T stopped (either by a job control signal or because it is being traced) ç»“æŸï¼Œè¿›ç¨‹æ—¢å¯ä»¥è¢«ä½œä¸šæ§åˆ¶ä¿¡å·ç»“æŸï¼Œä¹Ÿå¯èƒ½æ˜¯æ­£åœ¨è¢«è¿½è¸ªã€‚ SIGCHLD å­è¿›ç¨‹æ”¹å˜äº†å®ƒçš„çŠ¶æ€æ—¶ï¼ˆåœæ­¢è¿è¡Œï¼Œç»§ç»­è¿è¡Œæˆ–è€…é€€å‡ºï¼‰ï¼Œæœ‰ä¸¤ä»¶äº‹ä¼šå‘ç”Ÿåœ¨çˆ¶è¿›ç¨‹ä¸­ï¼š å¾—åˆ° SIGCHLD ä¿¡å·ï¼› å­è¿›ç¨‹å‘é€çš„ SIGCHLD ä¿¡å·åŒ…å«äº†å­è¿›ç¨‹çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¿›ç¨‹ IDã€è¿›ç¨‹çŠ¶æ€ã€è¿›ç¨‹ä½¿ç”¨ CPU çš„æ—¶é—´ç­‰ waitpid() æˆ–è€… wait() è°ƒç”¨ä¼šè¿”å› åœ¨å­è¿›ç¨‹é€€å‡ºæ—¶ï¼Œå®ƒçš„è¿›ç¨‹æè¿°ç¬¦ä¸ä¼šç«‹å³é‡Šæ”¾ï¼Œè¿™æ˜¯ä¸ºäº†è®©çˆ¶è¿›ç¨‹å¾—åˆ°å­è¿›ç¨‹ä¿¡æ¯ï¼Œçˆ¶è¿›ç¨‹é€šè¿‡ wait() å’Œ waitpid() æ¥è·å¾—ä¸€ä¸ªå·²ç»é€€å‡ºçš„å­è¿›ç¨‹çš„ä¿¡æ¯ã€‚ wait çˆ¶è¿›ç¨‹è°ƒç”¨ wait() ä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°æ”¶åˆ°ä¸€ä¸ªå­è¿›ç¨‹é€€å‡ºçš„ SIGCHLD ä¿¡å·ï¼Œä¹‹å wait() å‡½æ•°ä¼šé”€æ¯å­è¿›ç¨‹å¹¶è¿”å› waitpid ä½œç”¨å’Œ wait() å®Œå…¨ç›¸åŒï¼Œä½†æ˜¯å¤šäº†ä¸¤ä¸ªå¯ç”±ç”¨æˆ·æ§åˆ¶çš„å‚æ•° pid å’Œ optionsã€‚ pid å‚æ•°æŒ‡ç¤ºä¸€ä¸ªå­è¿›ç¨‹çš„ IDï¼Œè¡¨ç¤ºåªå…³å¿ƒè¿™ä¸ªå­è¿›ç¨‹é€€å‡ºçš„ SIGCHLD ä¿¡å·ã€‚å¦‚æœ pid=-1 æ—¶ï¼Œé‚£ä¹ˆå’Œ wait() ä½œç”¨ç›¸åŒï¼Œéƒ½æ˜¯å…³å¿ƒæ‰€æœ‰å­è¿›ç¨‹é€€å‡ºçš„ SIGCHLD ä¿¡å·ã€‚ options å‚æ•°ä¸»è¦æœ‰ WNOHANG å’Œ WUNTRACED ä¸¤ä¸ªé€‰é¡¹ï¼ŒWNOHANG å¯ä»¥ä½¿ waitpid() è°ƒç”¨å˜æˆéé˜»å¡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šç«‹å³è¿”å›ï¼Œçˆ¶è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶å®ƒä»»åŠ¡ å­¤å„¿è¿›ç¨‹ çˆ¶è¿›ç¨‹é€€å‡ºï¼Œè€Œå®ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªå­è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œé‚£ä¹ˆè¿™äº›å­è¿›ç¨‹å°†æˆä¸ºå­¤å„¿è¿›ç¨‹ å­¤å„¿è¿›ç¨‹å°†è¢« init è¿›ç¨‹ï¼ˆè¿›ç¨‹å·ä¸º 1ï¼‰æ‰€æ”¶å…»ï¼Œå¹¶ç”± init è¿›ç¨‹å¯¹å®ƒä»¬å®ŒæˆçŠ¶æ€æ”¶é›†å·¥ä½œ åƒµå°¸è¿›ç¨‹ ä¸€ä¸ªå­è¿›ç¨‹çš„è¿›ç¨‹æè¿°ç¬¦åœ¨å­è¿›ç¨‹é€€å‡ºæ—¶ä¸ä¼šé‡Šæ”¾ï¼Œåªæœ‰å½“çˆ¶è¿›ç¨‹é€šè¿‡ wait() æˆ– waitpid() è·å–äº†å­è¿›ç¨‹ä¿¡æ¯åæ‰ä¼šé‡Šæ”¾ã€‚å¦‚æœå­è¿›ç¨‹é€€å‡ºï¼Œè€Œçˆ¶è¿›ç¨‹å¹¶æ²¡æœ‰è°ƒç”¨ wait() æˆ– waitpid()ï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„è¿›ç¨‹æè¿°ç¬¦ä»ç„¶ä¿å­˜åœ¨ç³»ç»Ÿä¸­ï¼Œè¿™ç§è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµå°¸è¿›ç¨‹ å¦‚æœäº§ç”Ÿå¤§é‡åƒµå°¸è¿›ç¨‹ï¼Œå°†å› ä¸ºæ²¡æœ‰å¯ç”¨çš„è¿›ç¨‹å·è€Œå¯¼è‡´ç³»ç»Ÿä¸èƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-14 02:49:04 "},"å¼€å‘å·¥å…·/vim/vim.html":{"url":"å¼€å‘å·¥å…·/vim/vim.html","title":"Vim","keywords":"","body":"ç›®å½• [toc] VIM vimçš„å››ç§æ¨¡å¼ æ­£å¸¸æ¨¡å¼ï¼šå¯åŠ¨vimåé»˜è®¤å¤„äºæ­£å¸¸æ¨¡å¼ã€‚ä¸è®ºä½äºä»€ä¹ˆæ¨¡å¼ï¼ŒæŒ‰ä¸‹é”®(æœ‰æ—¶éœ€è¦æŒ‰ä¸¤ä¸‹ï¼‰éƒ½ä¼šè¿›å…¥æ­£å¸¸æ¨¡å¼ wï¼šè·³åˆ°ä¸‹ä¸€ä¸ªå•è¯ bï¼šè·³åˆ°ä¸Šä¸€ä¸ªå•è¯ 0ï¼šè·³åˆ°è¡Œé¦– $ï¼šè·³åˆ°è¡Œå°¾ ggï¼šè·³åˆ°æ–‡æ¡£å¼€å¤´ Gï¼šè·³åˆ°æ–‡æ¡£æœ«å°¾ ctrl + u :ä¸Šç¿»é¡µ ctrl + f ï¼šä¸‹ç¿»é¡µ zzï¼šå°†å…‰æ ‡ç§»åˆ°å±å¹•ä¸­é—´ dt{char} : delete to char (åˆ é™¤åˆ°char) ct{char} : delete to char and into insert(åˆ é™¤åˆ°charç„¶åè¿›å…¥insert ctrl+uï¼šå‘å‰æ»šåŠ¨åŠé¡µ æ¨¡å¼) æ’å…¥æ¨¡å¼ï¼ši:è¿›å…¥æ’å…¥æ¨¡å¼ oï¼šæ–°èµ·ä¸€è¡Œè¿›è¡Œæ·»åŠ  aï¼šåœ¨å…‰æ ‡åè¿›è¡Œè¿½åŠ  åœ¨æ’å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨```ctrl + h``` æˆ–è€… ```ctrl + w```æ¥åˆ é™¤ä¸Šä¸€ä¸ªå•è¯ ctrl + u ï¼šundoæ“ä½œ å‘½ä»¤æ¨¡å¼ï¼šåœ¨æ­£å¸¸æ¨¡å¼ä¸­ï¼ŒæŒ‰ä¸‹:ï¼ˆè‹±æ–‡å†’å·ï¼‰é”®ï¼Œä¼šè¿›å…¥å‘½ä»¤æ¨¡å¼ã€‚åœ¨å‘½ä»¤æ¨¡å¼ä¸­å¯ä»¥æ‰§è¡Œä¸€äº›è¾“å…¥å¹¶æ‰§è¡Œä¸€äº›vimæˆ–æ’ä»¶æä¾›çš„æŒ‡ä»¤ï¼Œå°±åƒåœ¨shellé‡Œä¸€æ ·ã€‚è¿™äº›æŒ‡ä»¤åŒ…æ‹¬è®¾ç½®ç¯å¢ƒã€æ–‡ä»¶æ“ä½œã€è°ƒç”¨æŸä¸ªåŠŸèƒ½ç­‰ç­‰ %s s/{a}/{b}/gï¼šå…¨å±€æŠŠaæ›¿æ¢æˆb vs:å‚ç›´åˆ†å‰²å±å¹• spï¼šæ°´å¹³åˆ†å‰²å±å¹• ctrl + w:ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå±å¹• å¯è§†æ¨¡å¼ï¼šåœ¨æ­£å¸¸æ¨¡å¼ä¸­æŒ‰ä¸‹v, V, +vï¼Œå¯ä»¥è¿›å…¥å¯è§†æ¨¡å¼ã€‚å¯è§†æ¨¡å¼ä¸­çš„æ“ä½œæœ‰ç‚¹åƒæ‹¿é¼ æ ‡è¿›è¡Œæ“ä½œï¼Œé€‰æ‹©æ–‡æœ¬çš„æ—¶å€™æœ‰ä¸€ç§é¼ æ ‡é€‰æ‹©çš„å³è§†æ„Ÿï¼Œæœ‰æ—¶å€™ä¼šå¾ˆæ–¹ä¾¿ yï¼šå¤åˆ¶ pï¼šç²˜è´´å®çš„ä½¿ç”¨ å½•åˆ¶å®ï¼š å›æ”¾å®ï¼šè‡ªåŠ¨è¡¥å…¨ å•è¯è‡ªåŠ¨è¡¥å…¨ ctrl + nï¼šä¸‹ä¸€ä¸ªå•è¯ ctrl + p: ä¸Šä¸€ä¸ªå•è¯ æ–‡ä»¶è‡ªåŠ¨è¡¥å…¨ ctrl + fä¿®æ”¹VIMçš„é…è‰² : colorscheme xx å…¶ä¸­xxä¸ºé…è‰²åç§°æŒä¹…åŒ–é…ç½® åœ¨~/.vimrcä¸­å¯ä»¥è¾“å…¥ä¸€äº›å‘½ä»¤ï¼Œä»¥æ­¤æ¥ä¿å­˜é…ç½®ï¼šset nu set autoindent set background=dark colorscheme hybrid syntax on æŒ‰é”®æ˜ å°„ mapï¼š å…¶ä¸­å¯ä»¥ä¸ºi(insert),c(command),n(normal),v(visual) noremap: çš„å–å€¼åŒä¸Š noreçš„åŒºåˆ«åœ¨äºè¿™ç§æŒ‰é”®æ˜ å°„æ˜¯éé€’å½’çš„ã€‚ ä¸¾ä¾‹ï¼šimap jj è¿™ä¹ˆæ ·ä¸€æ¡å‘½ä»¤ä»£è¡¨åœ¨insertæ¨¡å¼ä¸‹æŒ‰ä¸‹jjä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°normalæ¨¡å¼æ’ä»¶çš„å®‰è£… MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-05-28 06:47:26 "},"å¼€å‘å·¥å…·/git.html":{"url":"å¼€å‘å·¥å…·/git.html","title":"Git","keywords":"","body":"GIT Gitå±äºåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ æ•´ä½“æµç¨‹ åˆå§‹åŒ–ä»“åº“ git init é…ç½®ä¿¡æ¯ git config --global user.name my git config --global user.email 715711877@qq.com é…ç½®é»˜è®¤ç¼–è¾‘å™¨ git config core.editor vim æŸ¥çœ‹çŠ¶æ€ git status å·¥ä½œæµ æŠŠæ–‡ä»¶çš„ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒº git add . æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æäº¤åˆ°å½“å‰åˆ†æ”¯ï¼Œæäº¤ä¹‹åæš‚å­˜åŒºå°±è¢«æ¸…ç©ºäº† git commit ä½¿ç”¨å½“å‰åˆ†æ”¯ä¸Šçš„ä¿®æ”¹è¦†ç›–æš‚å­˜åŒº git reset -- files å°†æŸä¸ªåˆ†æ”¯çš„æ“ä½œæ·»åŠ åˆ°æŸä¸ªåˆ†æ”¯ git rebase branch1 branch2 # 1 æ·»åŠ çš„åˆ†æ”¯ 2 è¢«æ·»åŠ çš„åˆ†æ”¯ ä½¿ç”¨æš‚å­˜åŒºçš„ä¿®æ”¹è¦†ç›–å·¥ä½œç›®å½• git checkout -- file ç›´æ¥æŠŠæ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºç„¶åæ‰§è¡Œæäº¤ git commit -a å–å‡ºæœ€åä¸€æ¬¡ä¿®æ”¹ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡Œå›æ»šæ“ä½œ git checkout HEAD -- files å°†ä¸€äº›æäº¤æ·»åŠ åˆ°å½“å‰åˆ†æ”¯ git cheery-pick hash1 hash2 hash3... äº¤äº’å¼rebase git rebase -i HEAD~4 # é€šè¿‡UIç•Œé¢çš„æ–¹å¼è°ƒæ•´æäº¤è®°å½•é¡ºåº æŸ¥çœ‹æäº¤æ—¥å¿— git log å›æ»šåˆ°æŸä¸€æ¬¡æäº¤ git reset --hard 33ea7586bfe2d14e9ddbe9b07c5653159541338c # é€šè¿‡å°†HEADæŒ‡å‘æŸä¸€æäº¤è®°å½•å®ç° git revert ... # é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°æäº¤è®°å½•å®ç° æ·»åŠ è¿œç¨‹ä»“åº“ $ git remote add origin https://github.com/cjp715711877/test.git æ¨é€åˆ°è¿œç¨‹ä»“åº“ $ git push -u origin master å…‹éš†ä»“åº“ $ git clone https://github.com/996icu/996.ICU.git åˆ†æ”¯ HEAD æŒ‡é’ˆæŒ‡å‘å½“å‰åˆ†æ”¯æŒ‡é’ˆ æ–°å»ºåˆ†æ”¯ æ–°å»ºä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æ—¶é—´çº¿çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è®© HEAD æŒ‡é’ˆæŒ‡å‘æ–°åˆ†æ”¯ git branch x åˆ‡æ¢åˆ†æ”¯ git checkout x æ¯æ¬¡æäº¤åªä¼šè®©å½“å‰åˆ†æ”¯æŒ‡é’ˆå‘å‰ç§»åŠ¨ï¼Œè€Œå…¶å®ƒåˆ†æ”¯æŒ‡é’ˆä¸ä¼šç§»åŠ¨ åˆ†æ”¯åˆå¹¶ åˆå¹¶åˆ†æ”¯ä¹Ÿåªéœ€è¦æ”¹å˜æŒ‡é’ˆå³å¯ git merge x å†²çª ä¸¤ä¸ªåˆ†æ”¯éƒ½å¯¹åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€è¡Œè¿›è¡Œäº†ä¿®æ”¹ï¼Œåœ¨åˆ†æ”¯åˆå¹¶æ—¶å°±ä¼šäº§ç”Ÿå†²çª Git ä¼šä½¿ç”¨ >>>>>> æ ‡è®°å‡ºä¸åŒåˆ†æ”¯çš„å†…å®¹ï¼Œåªéœ€è¦æŠŠä¸åŒåˆ†æ”¯ä¸­å†²çªéƒ¨åˆ†ä¿®æ”¹æˆä¸€æ ·å°±èƒ½è§£å†³å†²çª Fast forward å¿«è¿›å¼åˆå¹¶\"ï¼ˆfast-farward mergeï¼‰ï¼Œä¼šç›´æ¥å°† master åˆ†æ”¯æŒ‡å‘åˆå¹¶çš„åˆ†æ”¯ï¼Œè¿™ç§æ¨¡å¼ä¸‹è¿›è¡Œåˆ†æ”¯åˆå¹¶ä¼šä¸¢å¤±åˆ†æ”¯ä¿¡æ¯ï¼Œä¹Ÿå°±ä¸èƒ½åœ¨åˆ†æ”¯å†å²ä¸Šçœ‹å‡ºåˆ†æ”¯ä¿¡æ¯ å‚¨è—ï¼ˆStashingï¼‰ åœ¨ä¸€ä¸ªåˆ†æ”¯ä¸Šæ“ä½œä¹‹åï¼Œå¦‚æœè¿˜æ²¡æœ‰å°†ä¿®æ”¹æäº¤åˆ°åˆ†æ”¯ä¸Šï¼Œæ­¤æ—¶è¿›è¡Œåˆ‡æ¢åˆ†æ”¯ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªåˆ†æ”¯ä¸Šä¹Ÿèƒ½çœ‹åˆ°æ–°çš„ä¿®æ”¹ã€‚è¿™æ˜¯å› ä¸ºæ‰€æœ‰åˆ†æ”¯éƒ½å…±ç”¨ä¸€ä¸ªå·¥ä½œåŒºçš„ç¼˜æ•… ä½¿ç”¨ git stash è¿™ä¸ªå‘½ä»¤å°†å½“å‰åˆ†æ”¯çš„ä¿®æ”¹å‚¨è—èµ·æ¥ï¼Œæ­¤æ—¶å·¥ä½œåŒºå°±æ˜¯å¹²å‡€çš„ï¼Œå¯ä»¥åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ æ¨é€åˆ°è¿œç¨‹ä»“åº“ ç”Ÿæˆsshå¯†é’¥ ssh-keygen -t rsa æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€ git remote add origin git@github.com:0xcaffebabe/repo1.git æ¨é€ git push -u origin master æ­å»ºGitç§æœ å®‰è£…git åˆå§‹åŒ–æœåŠ¡å™¨æœ¬åœ°ä»“åº“ git --bare init /home/git/first è®¾ç½®è¿œç¨‹ä»“åº“åœ°å€ git remote add origin ssh://root@my-pc/home/git/first æ¨é€ git push --set-upstream origin master ä»è¿œç¨‹ä»“åº“ä¸‹è½½æºç  git clone ssh://root@my-pc/home/git/first ä¸€äº›å‘ æ£€å‡ºé”™è¯¯ ssh: connect to host xxx.com port 22: Connection refused ç¡®å®šæ˜¯å¦æœ‰æƒé™ åˆ‡æ¢é‚®ç®±æäº¤é”™è¯¯ æ–°çš„è´¦æˆ·æ²¡æœ‰æäº¤æƒé™ï¼Œç„¶è€Œä½ åœ¨æ–°çš„è´¦æˆ·ä¸Šæœ‰äº†ä¸€æ¬¡æäº¤ï¼Œæ­¤æ—¶ä»£ç æ¨ä¸ä¸Šå»ï¼Œåˆ‡æ¢å›åŸé‚®ç®±ä¾ç„¶æç¤ºæ¨ä¸ä¸Šå» æ­¤æ—¶ï¼Œéœ€è¦å›æ»šæ’¤é”€æ­¤æ¬¡æäº¤ï¼Œåˆ‡å›æœ‰æƒé™çš„é‚®ç®±é‡æ–°æäº¤å¹¶æ¨é€ åˆ‡åˆ†æ”¯é”™è¯¯ æ‹‰å–æ–°åˆ†æ”¯æ—¶ï¼Œä¸€å®šè¦æ³¨æ„æ£€æŸ¥çˆ¶åˆ†æ”¯ æå‰åˆå¹¶åˆ°master å¦‚æœç›¸å…³ä»£ç æ²¡æœ‰å‡†å¤‡å¥½ï¼Œæå‰å°†ä»£ç åˆå¹¶åˆ°masterï¼Œä¼šå¼•å‘é”™è¯¯ mergeå†²çª æ­¤æ—¶ä¸€å®šè¦æ…ä¹‹åˆæ…ï¼Œæ¥å¤„ç†å†²çª ä¸€ä¸ªåˆ†æ”¯å¹²å¤šä»¶äº‹ å¦‚æœä¸€ä¸ªåˆ†æ”¯å¹²å¤šä»¶äº‹ï¼Œæµ‹è¯•ä»£ç æ²¡æœ‰è¦†ç›–ï¼Œå¾ˆå®¹æ˜“å‡ºbug åŠæ—¶åˆå¹¶åˆ°master å¼€å‘å‘¨æœŸè¾ƒé•¿æ—¶ï¼Œè¦åŠæ—¶åˆå¹¶åˆ°masterï¼Œé¿å…æœ€åå¤§é‡å†²çª Pull Request ä¸ Merge Request è¿™ä¸¤ç§æ–¹å¼æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åˆ©ç”¨äº†git mergeæ¥åˆå¹¶ä¸¤ä¸ªåˆ†æ”¯ã€‚ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-04-12 06:24:42 "},"å¼€å‘å·¥å…·/SVN.html":{"url":"å¼€å‘å·¥å…·/SVN.html","title":"SVN","keywords":"","body":"SVN æ¦‚å¿µ repositoryï¼ˆæºä»£ç åº“ï¼‰:æºä»£ç ç»Ÿä¸€å­˜æ”¾çš„åœ°æ–¹ Checkoutï¼ˆæ£€å‡ºï¼‰:å½“ä½ æ‰‹ä¸Šæ²¡æœ‰æºä»£ç çš„æ—¶å€™ï¼Œä½ éœ€è¦ä»repository checkoutä¸€ä»½ Commitï¼ˆæäº¤ï¼‰:å½“ä½ å·²ç»ä¿®æ”¹äº†ä»£ç ï¼Œä½ å°±éœ€è¦Commitåˆ°repository Update (æ›´æ–°):å½“ä½ å·²ç»Checkoutäº†ä¸€ä»½æºä»£ç ï¼Œ Updateä¸€ä¸‹ä½ å°±å¯ä»¥å’ŒRepositoryä¸Šçš„æºä»£ç åŒæ­¥ï¼Œä½ æ‰‹ä¸Šçš„ä»£ç å°±ä¼šæœ‰æœ€æ–°çš„å˜æ›´ ç”Ÿå‘½å‘¨æœŸ åˆ›å»ºç‰ˆæœ¬åº“ï¼šä¸€ä¸ªé›†ä¸­çš„ç©ºé—´ï¼Œç”¨äºå­˜æ”¾å¼€å‘è€…æ‰€æœ‰çš„å·¥ä½œæˆæœ æ£€å‡ºï¼ˆcheckoutï¼‰ï¼šç±»ä¼¼äºgit clone æ›´æ–°ï¼ˆupdateï¼‰:git push æäº¤(commit) å¤æŸ¥å˜åŒ–(status) å›æ»šæäº¤(revert) è§£å†³å†²çª(merge) å¯åŠ¨ svnadmin create /opt/svn/rp1 # åˆ›å»ºç‰ˆæœ¬åº“ é…ç½® # /opt/svn/rp1/conf/authz [/] admin = rw # /opt/svn/rp1/conf/passwd [users] admin = admin # /opt/svn/rp1/conf/svnserver.conf [general] anon-access = none auth-access = write password-db = passwd authz-db = authz æ£€å‡º svn checkout svn://localhost/ --username=admin æäº¤ svn status # æ£€æŸ¥ç›®å‰ç‰ˆæœ¬è·Ÿè¸ªæ–‡ä»¶æƒ…å†µ svn add readme.md # æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº svn commit -m \"first commit\" å†²çªè§£å†³ å½“å‘ç”Ÿå†²çªæ—¶ æ— æ³•è¿›è¡Œcommit å¿…é¡»è¿›è¡Œupdateè§£å†³å†²çªåå†æ¬¡commit root@my-win:~/svn# svn commit -m \"kkk commit\" Sending readme.md Transmitting file data .done Committing transaction... svn: E160028: Commit failed (details follow): svn: E160028: File '/readme.md' is out of date root@my-win:~/svn# svn update Updating '.': C readme.md Updated to revision 2. Summary of conflicts: Text conflicts: 1 Conflict discovered in file 'readme.md'. Select: (p) postpone, (df) show diff, (e) edit file, (m) merge, (mc) my side of conflict, (tc) their side of conflict, (s) show all options: mc Resolved conflicted state of 'readme.md' Summary of conflicts: Text conflicts: 0 remaining (and 1 already resolved) ç‰ˆæœ¬å›é€€ svn revert readme.md # å›é€€æŸä¸€æ–‡ä»¶ æŸ¥çœ‹ svn log # è¾“å‡ºå†å²æ—¥å¿—ä¿¡æ¯ svn diff -r 1 readme.md # è¾“å‡ºä¸ç‰ˆæœ¬å·ä¸º1diffçš„æ–‡ä»¶å†…å®¹ svn cat -r 1 readme.md # æŸ¥çœ‹æŸä¸€ç‰¹å®šç‰ˆæœ¬çš„æ–‡ä»¶å†…å®¹ svn list svn://localhost/ # è¾“å‡ºç‰ˆæœ¬åº“æ–‡ä»¶åˆ—è¡¨ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-11-09 06:39:31 "},"å¼€å‘å·¥å…·/idea.html":{"url":"å¼€å‘å·¥å…·/idea.html","title":"Idea","keywords":"","body":"å®‰è£… https://www.jetbrains.com/idea/download/#section=windows é¡¹ç›®ç›®å½• .idea ç›®å½•å’Œ demo.iml å’Œæˆ‘ä»¬å¼€å‘æ— å…³ï¼Œæ˜¯IDEAå·¥å…·è‡ªå·±ä½¿ç”¨çš„ out ç›®å½•æ˜¯å­˜å‚¨ç¼–è¯‘åçš„.classæ–‡ä»¶ src ç›®å½•æ˜¯å­˜å‚¨æˆ‘ä»¬ç¼–å†™çš„.javaæºæ–‡ä»¶ å¸¸ç”¨å¿«æ·é”® é”®ä½ è¯´æ˜ Alt+Enter å¯¼å…¥åŒ…ï¼Œè‡ªåŠ¨ä¿®æ­£ä»£ç  Ctrl+Y åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ Ctrl+D å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œçš„å†…å®¹ï¼Œæ’å…¥å…‰æ ‡ä½ç½®ä¸‹é¢ Ctrl+Alt+L æ ¼å¼åŒ–ä»£ç  Ctrl+/ å•è¡Œæ³¨é‡Š Ctrl+Shift+/ é€‰ä¸­ä»£ç æ³¨é‡Šï¼Œå¤šè¡Œæ³¨é‡Šï¼Œå†æŒ‰å–æ¶ˆæ³¨é‡Š Alt+Ins è‡ªåŠ¨ç”Ÿæˆä»£ç ï¼ŒtoStringï¼Œgetï¼Œsetç­‰æ–¹æ³• Alt+Shift+ä¸Šä¸‹ç®­å¤´ ç§»åŠ¨å½“å‰ä»£ç è¡Œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-08-01 09:04:39 "},"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/gradle.html":{"url":"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/gradle.html","title":"Gradle","keywords":"","body":"Gradle Gradle çš„æ ¸å¿ƒåœ¨äºåŸºäº Groovy çš„ä¸°å¯Œè€Œå¯æ‰©å±•çš„åŸŸæè¿°è¯­è¨€(DSL) ç›®å½•ç»“æ„ â”œâ”€â”€ build.gradle ç”¨äºé…ç½®å½“å‰é¡¹ç›®çš„Gradleæ„å»ºè„šæœ¬ â”œâ”€â”€ gradle â”‚ â””â”€â”€ wrapper â”‚ â”œâ”€â”€ gradle-wrapper.jar Gradle Wrapperå¯æ‰§è¡Œjar æ–‡ä»¶ â”‚ â””â”€â”€ gradle-wrapper.properties Gradle Wrapper é…ç½® â”œâ”€â”€ gradlew ç±»unixä¸‹çš„Gradle Wrapperå¯åŠ¨è„šæœ¬ â”œâ”€â”€ gradlew.bat windowsä¸‹çš„Gradle Wrapperå¯åŠ¨è„šæœ¬ â””â”€â”€ settings.gradle ç”¨äºé…ç½®Gradleæ„å»ºçš„Gradleè®¾ç½®è„šæœ¬ æ„å»ºåŸºç¡€ projectï¼šæˆ‘ä»¬çš„åº”ç”¨ taskï¼šæ¯ä¸ª project éƒ½ç”±å¤šä¸ª tasks ç»„æˆã€‚æ¯ä¸ª task éƒ½ä»£è¡¨äº†æ„å»ºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªåŸå­æ€§æ“ä½œã€‚å¦‚ç¼–è¯‘ï¼Œæ‰“åŒ…ï¼Œç”Ÿæˆ ç¬¬ä¸€ä¸ªæ„å»ºè„šæœ¬ // build.gradle task copy(type: Copy, group: \"Custom\", description: \"ä»ä¸€ä¸ªåœ°æ–¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªåœ°æ–¹\") { from \"src\" into \"dest\" } # æ‰§è¡Œä»»åŠ¡ ./gradlew copy ä½¿ç”¨æ’ä»¶å®šä¹‰ä»»åŠ¡ plugins { id \"base\" } task zip(type: Zip, group: \"Archive\", description: \"Archives sources in a zip file\") { from \"src\" archiveName \"basic-demo-1.0.zip\" } æŸ¥çœ‹å¯ç”¨ä»»åŠ¡ .\\gradlew tasks æ„å»ºjavaé¡¹ç›® â”œâ”€â”€ build.gradle â”œâ”€â”€ gradle â”‚ â””â”€â”€ wrapper â”‚ â”œâ”€â”€ gradle-wrapper.jar â”‚ â””â”€â”€ gradle-wrapper.properties â”œâ”€â”€ gradlew â”œâ”€â”€ gradlew.bat â”œâ”€â”€ settings.gradle â””â”€â”€ src â”œâ”€â”€ main â”‚ â”œâ”€â”€ java â”‚ â”‚ â””â”€â”€ demo â”‚ â”‚ â””â”€â”€ App.java â”‚ â””â”€â”€ resources â””â”€â”€ test â”œâ”€â”€ java â”‚ â””â”€â”€ demo â”‚ â””â”€â”€ AppTest.java â””â”€â”€ resources // settings.gradle rootProject.name = 'gradle-java' // é¡¹ç›®å // build.gradle plugins { // ä½¿ç”¨javaæ’ä»¶ id 'java' // applicationæ’ä»¶ id 'application' } repositories { // è¿œç¨‹ä»“åº“ jcenter() } // ä¸€äº›ä¾èµ– dependencies { implementation 'com.google.guava:guava:28.2-jre' testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.0' testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.6.0' } application { // å®šä¹‰mainç±» mainClassName = 'gradle.java.App' } test { // ä½¿ç”¨junit5æµ‹è¯• useJUnitPlatform() } # æ„å»ºé¡¹ç›® ./gradlew build æ„å»ºJAVAåº“æ–‡ä»¶ plugins { // ä½¿ç”¨java-libraryæ’ä»¶ id 'java-library' } repositories { jcenter() } dependencies { // è¿™ä¸ªä¾èµ–ä¼šæš´éœ²ç»™æ¶ˆè´¹è€…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªä¾èµ–å¯ä»¥åœ¨æ¶ˆè´¹è€…çš„classpathä¸‹æ‰¾åˆ° api 'org.apache.commons:commons-math3:3.6.1' // å†…éƒ¨ä½¿ç”¨çš„ä¾èµ– ä¸ä¼šæš´éœ²ç»™æ¶ˆè´¹è€… implementation 'com.google.guava:guava:28.2-jre' testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.0' testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.6.0' } test { useJUnitPlatform() } è‡ªå®šä¹‰ // build.gradle version = '0.1.0' // å®šä¹‰jaråŒ…ç‰ˆæœ¬ // è‡ªå®šä¹‰manifestå±æ€§ jar { manifest { attributes('Implementation-Title': project.name, 'Implementation-Version': project.version) } } repositories { // è‡ªå®šä¹‰ä»“åº“ ivy { // URLå¯ä»¥æ˜¯ä¸€ä¸ªæœ¬åœ°ç›®å½• url \"../local-repo\" } // å¯ä»¥æŒ‡å®šå¤šä¸ªä»“åº“ jcenter() } å¤šé¡¹ç›® // æŸ¥çœ‹å­é¡¹ç›®ä»»åŠ¡ gradlew :service:tasks // æ‰§è¡Œå­ä»»åŠ¡æµ‹è¯• gradle :service:test æ„å»ºspring booté¡¹ç›® plugins { id 'java' id 'org.springframework.boot' version '2.2.6.RELEASE' id 'io.spring.dependency-management' version '1.0.9.RELEASE' } repositories { maven { url 'https://maven.aliyun.com/repository/jcenter/'} maven { url 'https://maven.aliyun.com/repository/spring/'} } dependencies { implementation 'org.springframework.boot:spring-boot-dependencies:2.2.6.RELEASE' implementation 'org.springframework.boot:spring-boot-starter-web' testImplementation 'org.springframework.boot:spring-boot-starter-test' components { withModule('org.springframework:spring-beans') { allVariants { withDependencyConstraints { // Need to patch constraints because snakeyaml is an optional dependency it.findAll { it.name == 'snakeyaml' }.each { it.version { strictly '1.19' } } } } } } } bootJar { // Define the main class for the application. mainClassName = 'gradle.spring.boot.App' } Groovy Groovy æ˜¯JVM çš„ä¸€ä¸ªæ›¿ä»£è¯­è¨€â€”æ›¿ä»£æ˜¯æŒ‡å¯ä»¥ç”¨Groovy åœ¨Java å¹³å°ä¸Šè¿›è¡ŒJava ç¼–ç¨‹ï¼Œä½¿ç”¨æ–¹å¼åŸºæœ¬ä¸ä½¿ç”¨Java ä»£ç çš„æ–¹å¼ç›¸åŒ ç¨‹åºç¤ºä¾‹ï¼š class Foo { doSomething() { data = [\"name\": \"James\", \"location\": \"London\"] for (e in data) { println(\"entry ${e.key} is ${e.value}\") } } closureExample(collection) { collection.each { println(\"value ${it}\") } } static void main(args) { values = [1, 2, 3, \"abc\"] foo = new Foo() foo.closureExample(values) foo.doSomething() } } ç”Ÿå‘½å‘¨æœŸ åˆå§‹åŒ–->é…ç½®->æ‰§è¡Œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-16 12:38:14 "},"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/maven.html":{"url":"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/maven.html","title":"Maven","keywords":"","body":"Maven ç®€ä»‹ é¡¹ç›®ç®¡ç†å·¥å…·ã€‚ åŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼‰ï¼Œ å¯ä»¥é€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯ç®¡ç†é¡¹ç›®çš„æ„å»ºã€‚ ä¸‹è½½ä¸å®‰è£… ä¸‹è½½åœ°å€'https://maven.apache.org/' é…ç½®ç¯å¢ƒå˜é‡ æ–°å¢'M2_HOME' å°†%M2_HOME%\\binæ·»åŠ åˆ°Pathç¯å¢ƒå˜é‡ä¸‹ ç›®å½•ç»“æ„ src main java package resources test java package resources ä¸€äº›å–œæ¬¢å¿˜è®°çš„çŸ¥è¯†ç‚¹ æŒ‡å®šJDKç‰ˆæœ¬ï¼š UTF-8 UTF-8 12 12 12 å¸¸ç”¨å‘½ä»¤ mvn clean # æ¸…ç†targetç›®å½•ä¸‹çš„ç±»æ–‡ä»¶ mvn install # å°†æœ¬é¡¹ç›®å®‰è£…åˆ°æœ¬åœ°ä»“åº“ mvn compile # ç¼–è¯‘ mvn test # æ‰§è¡Œæµ‹è¯• mvn package #æ‰“åŒ… æ·»åŠ ä¾èµ– junit junit 4.12 test è‡ªåŠ¨ç”Ÿæˆç›®å½•ç»“æ„ mvn archetype:generate åæ ‡ä¸æ„ä»¶ ä»“åº“ æœ¬åœ°ä»“åº“ ä¿®æ”¹æœ¬åœ°ä»“åº“åœ°å€ è¿œç¨‹ä»“åº“ é•œåƒä»“åº“ é…ç½®é•œåƒä»“åº“ ç”Ÿå‘½å‘¨æœŸ clean æ¸…ç†é¡¹ç›® pre-clean clean post-clean default æ„ä»¶é¡¹ç›® compile test package install deploy site ç”Ÿæˆé¡¹ç›®ç«™ç‚¹ pre-site site post-site site-deploy æ‰“åŒ…æ’ä»¶ org.apache.maven.plugins maven-source-plugin 3.0.0 true compile jar-no-fork POMå…ƒç´  pomç‰ˆæœ¬ åå†™çš„ç½‘å€+é¡¹ç›®å é¡¹ç›®å+æ¨¡å—å 1.0-SNAPSHOT é¡¹ç›®æè¿°å é¡¹ç›®åœ°å€ é¡¹ç›®æè¿° è¯ä¹¦ä¿¡æ¯ ç»„ç»‡ä¿¡æ¯ UTF-8 UTF-8 12 12 12 junit junit 4.12 test org.apache.maven.plugins maven-source-plugin 3.0.0 true compile jar-no-fork ä¾èµ–èŒƒå›´ ä¾èµ–ä¼ é€’ A->B(compile) ç¬¬ä¸€å…³ç³»: aä¾èµ–b compile B->C(compile) ç¬¬äºŒå…³ç³»: bä¾èµ–c compile ä¾èµ–å†²çª çŸ­è·¯ä¼˜å…ˆ A->B->C->X(1.0) A->D->X(2.0) ç”±äºåªèƒ½å¼•å…¥ä¸€ä¸ªç‰ˆæœ¬çš„åŒ…ï¼Œæ­¤æ—¶MavenæŒ‰ç…§æœ€çŸ­è·¯å¾„é€‰æ‹©å¯¼å…¥x(2.0) A->B->X(1.0) A->D->X(2.0) è·¯å¾„é•¿åº¦ä¸€è‡´ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©ç¬¬ä¸€ä¸ªï¼Œæ­¤æ—¶å¯¼å…¥x(1.0) B B 0.1 C C èšåˆä¸ç»§æ‰¿ èšåˆ study-common study-plugin study-blog study-web ç»§æ‰¿ com.tiantian.mavenTest projectA 1.0-SNAPSHOT åˆ›å»ºwebé¡¹ç›® MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/maven/åˆ†æ¨¡å—æ„å»º.html":{"url":"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/maven/åˆ†æ¨¡å—æ„å»º.html","title":"åˆ†æ¨¡å—æ„å»º","keywords":"","body":"ç»§æ‰¿ ç»§æ‰¿æ˜¯ä¸ºäº†æ¶ˆé™¤é‡å¤ï¼Œå¦‚æœå°†daoã€serviceã€webåˆ†å¼€åˆ›å»ºç‹¬ç«‹çš„å·¥ç¨‹åˆ™æ¯ä¸ªå·¥ç¨‹çš„pom.xmlæ–‡ä»¶ä¸­çš„å†…å®¹å­˜åœ¨é‡å¤ï¼Œæ¯”å¦‚ï¼šè®¾ç½®ç¼–è¯‘ç‰ˆæœ¬ã€é”å®šspringçš„ç‰ˆæœ¬çš„ç­‰ï¼Œå¯ä»¥å°†è¿™äº›é‡å¤çš„é…ç½®æå–å‡ºæ¥åœ¨çˆ¶å·¥ç¨‹çš„pom.xmlä¸­å®šä¹‰ èšåˆ é¡¹ç›®å¼€å‘é€šå¸¸æ˜¯åˆ†ç»„åˆ†æ¨¡å—å¼€å‘ï¼Œæ¯ä¸ªæ¨¡å—å¼€å‘å®Œæˆè¦è¿è¡Œæ•´ä¸ªå·¥ç¨‹éœ€è¦å°†æ¯ä¸ªæ¨¡å—èšåˆåœ¨ä¸€èµ·è¿è¡Œï¼Œæ¯”å¦‚ï¼šdaoã€serviceã€webä¸‰ä¸ªå·¥ç¨‹æœ€ç»ˆä¼šæ‰“ä¸€ä¸ªç‹¬ç«‹çš„warè¿è¡Œã€‚ åŒçº§æ¨¡å—æ·»åŠ ä¾èµ– wang.ismy service 1.0-SNAPSHOT compile ç§æœ ä½¿ç”¨docker docker pull sonatype/nexus3 docker run -d -p 8081:8081 --name nexus sonatype/nexus3 ä¸Šä¼  releases http://192.168.1.102:8081/content/repositories/releases/ snapshots http://192.168.1.102:8081/repository/maven-snapshots/ snapshots admin admin ä¸‹è½½ nexus local private nexus http://192.168.1.102:8081/repository/maven-public/ true true å®‰è£…ç¬¬ä¸‰æ–¹jaråˆ°æœ¬åœ° mvn install:install-file -DgroupId=com.alibaba -DartifactId=fastjson -Dversion=1.1.37 -Dfile= fastjson-1.1.37.jar -Dpackaging=jar ä¸Šä¼ jaråˆ°ç§æœ mvn deploy:deploy-file -DgroupId=com.alibaba -DartifactId=fastjson -Dversion=1.1.37 -Dpackaging=jar -Dfile=fastjson-1.1.37.jar -Durl=http://localhost:8081/nexus/content/repositories/thirdparty/ -DrepositoryId=thirdparty MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-08-25 12:39:25 "},"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/NPM.html":{"url":"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/NPM.html","title":"NPM","keywords":"","body":" npmï¼ˆå…¨ç§° Node Package Managerï¼Œå³â€œnodeåŒ…ç®¡ç†å™¨â€ï¼‰æ˜¯Node.jsé»˜è®¤çš„ã€ä»¥JavaScriptç¼–å†™çš„è½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿ åˆå§‹åŒ–å·¥ç¨‹ npm init å®‰è£…æ¨¡å— æœ¬åœ°å®‰è£… npm install xxx è·å–æ¨¡å—å…¨å±€ç›®å½• npm root -g å…¨å±€å®‰è£… npm install xxx -g æ‰¹é‡å®‰è£… npm install # npmä¼šæ ¹æ®package.jsonä¸‹è½½ä¾èµ– ä½¿ç”¨æ·˜å®é•œåƒ npm install -g cnpm --registry=http://registry.npm.taobao.org è¿è¡Œ åœ¨package.jsonä¸­å®šä¹‰ devï¼šå¼€å‘é˜¶æ®µ buildï¼šæ„å»ºç¼–è¯‘ lintï¼šè¿è¡Œjsä»£ç æ£€æµ‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-14 13:53:58 "},"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/Webpack.html":{"url":"å¼€å‘å·¥å…·/æ„å»ºå·¥å…·/Webpack.html","title":"WebPack","keywords":"","body":"webpack webpackæä¾›äº†æ¨¡å—åŒ–æ”¯æŒï¼Œä»£ç å‹ç¼©æ··æ·†ï¼Œè§£å†³jså…¼å®¹é—®é¢˜ï¼Œæ€§èƒ½ä¼˜åŒ–ç­‰ç‰¹æ€§ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡å’Œé¡¹ç›®çš„å¯ç»´æŠ¤æ€§ å…¨å±€å®‰è£… npm install webpack -g npm install webpack-cli -g ä½¿ç”¨ ç¼–å†™ä»£ç  import $ from 'jquery' $(function(){ $('li:odd').css('backgroundColor','pink'); $('li:even').css('backgroundColor','lightblue'); }) ç¼–å†™webpack.config.js module.exports = { mode:\"development\"//å¯ä»¥è®¾ç½®ä¸ºdevelopment(å¼€å‘æ¨¡å¼)ï¼Œproduction(å‘å¸ƒæ¨¡å¼) } package.jsonå¢åŠ ä¸€ä¸ªè„šæœ¬ \"scripts\": { \"dev\":\"webpack\" } æ‰§è¡Œnpm run dev è‡ªå®šä¹‰æ‰“åŒ…å…¥å£ä¸å‡ºå£ const path = require(\"path\"); module.exports = { mode:\"development\", //è®¾ç½®å…¥å£æ–‡ä»¶è·¯å¾„ entry: path.join(__dirname,\"./src/xx.js\"), //è®¾ç½®å‡ºå£æ–‡ä»¶ output:{ //è®¾ç½®è·¯å¾„ path:path.join(__dirname,\"./dist\"), //è®¾ç½®æ–‡ä»¶å filename:\"res.js\" } } ä½¿ç”¨webpack-dev-server å®‰è£… npm install webpack webpack-dev-server html-webpack-plugin --save-dev package.json { ... \"scripts\": { \"dev\":\"webpack-dev-server --inline --hot --open --port 5008\" } } é…ç½®webpack.config.js //å¼•ç”¨html-webpack-pluginæ’ä»¶ï¼Œä½œç”¨æ˜¯æ ¹æ®htmlæ¨¡æ¿åœ¨å†…å­˜ç”Ÿæˆhtmlæ–‡ä»¶ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯æ ¹æ®æ¨¡æ¿æ–‡ä»¶åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªindex.htmlæ–‡ä»¶ã€‚ var htmlwp = require('html-webpack-plugin'); module.exports={ entry:'./src/main.js', //æŒ‡å®šæ‰“åŒ…çš„å…¥å£æ–‡ä»¶ output:{ path : __dirname+'/dist', // æ³¨æ„ï¼š__dirnameè¡¨ç¤ºwebpack.config.jsæ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„ filename:'build.js' //è¾“å‡ºæ–‡ä»¶ }, devtool: 'eval-source-map', plugins:[ new htmlwp({ title: 'é¦–é¡µ', //ç”Ÿæˆçš„é¡µé¢æ ‡é¢˜é¦–é¡µ filename: 'index.html', //webpack-dev-serveråœ¨å†…å­˜ä¸­ç”Ÿæˆçš„æ–‡ä»¶åç§°ï¼Œè‡ªåŠ¨å°†buildæ³¨å…¥åˆ°è¿™ä¸ªé¡µé¢åº•éƒ¨ï¼Œæ‰èƒ½å®ç°è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½ template: 'vue_02.html' //æ ¹æ®vue_02.htmlè¿™ä¸ªæ¨¡æ¿æ¥ç”Ÿæˆ(è¿™ä¸ªæ–‡ä»¶è¯·ç¨‹åºå‘˜è‡ªå·±ç”Ÿæˆ) }) ] } è¿è¡Œ npm run dev loader é€šè¿‡loaderæ‰“åŒ…éjsæ¨¡å—ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œwebpackåªèƒ½æ‰“åŒ…jsæ–‡ä»¶ï¼Œå¦‚æœæƒ³è¦æ‰“åŒ…éjsæ–‡ä»¶ï¼Œéœ€è¦è°ƒç”¨loaderåŠ è½½å™¨æ‰èƒ½æ‰“åŒ… css loader { ... module : { rules:[ { //testè®¾ç½®éœ€è¦åŒ¹é…çš„æ–‡ä»¶ç±»å‹ï¼Œæ”¯æŒæ­£åˆ™ test:/\\.css$/, //useè¡¨ç¤ºè¯¥æ–‡ä»¶ç±»å‹éœ€è¦è°ƒç”¨çš„loader use:['style-loader','css-loader'] } ] } } å¯ä»¥ç›´æ¥åœ¨jsä¸­å¼•å…¥css import './style.less' babel loader å°†é«˜çº§jsè¯­æ³•è½¬ä¸ºä½çº§è¯­æ³• å®‰è£… npm install babel-loader @babel/core @babel/runtime -D npm install @babel/preset-env @babel/plugin-transform-runtime @babel/plugin-proposal-class-properties -D babel.config.js module.exports = { presets:[\"@babel/preset-env\"], plugins:[ \"@babel/plugin-transform-runtime\", \"@babel/plugin-proposal-class-properties\" ] } æ·»åŠ  { test:/\\.js$/, use:\"babel-loader\", //excludeä¸ºæ’é™¤é¡¹ï¼Œæ„æ€æ˜¯ä¸è¦å¤„ç†node_modulesä¸­çš„jsæ–‡ä»¶ exclude:/node_modules/ } è°ƒè¯• var add = function (x, y) { debugger return x+y+1; } æ‰“åŒ…å‘å¸ƒ \"build\":\"webpack -p\" MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-03-22 07:38:42 "},"è¿ç»´/nav.html":{"url":"è¿ç»´/nav.html","title":"ğŸ”‹è¿ç»´","keywords":"","body":"è¿ç»´ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 12:40:15 "},"è¿ç»´/æŒç»­é›†æˆ.html":{"url":"è¿ç»´/æŒç»­é›†æˆ.html","title":"æŒç»­é›†æˆ","keywords":"","body":" æŒç»­é›†æˆæ˜¯ä¸€ç§è½¯ä»¶å¼€å‘å®è·µï¼Œå³å›¢é˜Ÿå¼€å‘æˆå‘˜ç»å¸¸é›†æˆä»–ä»¬çš„å·¥ä½œï¼Œé€šå¸¸æ¯ä¸ªæˆå‘˜æ¯å¤©è‡³å°‘é›†æˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯å¤©å¯èƒ½ä¼šå‘ç”Ÿå¤šæ¬¡é›†æˆã€‚æ¯æ¬¡é›†æˆéƒ½é€šè¿‡è‡ªåŠ¨åŒ–çš„æ„å»ºï¼ˆåŒ…æ‹¬ç¼–è¯‘ï¼Œå‘å¸ƒï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ¥éªŒè¯ï¼Œä»è€Œå°½æ—©åœ°å‘ç°é›†æˆé”™è¯¯ã€‚ Jenkins https://jenkins-ci.org/ å¥½å¤„ è‡ªåŠ¨åŒ–é›†æˆéƒ¨ç½²ï¼Œæé«˜äº†é›†æˆæ•ˆç‡ã€‚ æ›´å¿«çš„ä¿®å¤é—®é¢˜ã€‚ æ›´å¿«çš„è¿›è¡Œäº¤ä»˜ã€‚ æé«˜äº†äº§å“è´¨é‡ã€‚ ç‰¹ç‚¹ å®ƒæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„å‘¨æœŸæ€§çš„é›†æˆæµ‹è¯•è¿‡ç¨‹ï¼Œä»æ£€å‡ºä»£ç ã€ç¼–è¯‘æ„å»ºã€è¿è¡Œæµ‹è¯•ã€ç»“æœ è®°å½•ã€æµ‹è¯•ç»Ÿè®¡ç­‰éƒ½æ˜¯è‡ªåŠ¨å®Œæˆçš„ï¼Œæ— éœ€äººå·¥å¹²é¢„ éœ€è¦æœ‰ä¸“é—¨çš„é›†æˆæœåŠ¡å™¨æ¥æ‰§è¡Œé›†æˆæ„å»º éœ€è¦æœ‰ä»£ç æ‰˜ç®¡å·¥å…·æ”¯æŒ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-11-22 06:20:36 "},"è¿ç»´/Docker.html":{"url":"è¿ç»´/Docker.html","title":"Docker","keywords":"","body":"Docker Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„é•œåƒä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linuxæˆ–Windows æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ ä½¿ç”¨åœºæ™¯ æŒç»­é›†æˆ å¯ä¼¸ç¼©çš„äº‘æœåŠ¡ å¾®æœåŠ¡æ¶æ„ å®¹å™¨ä¸è™šæ‹Ÿæœº è™šæ‹Ÿæœºæœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯ä¾èµ–å…¶ä¸“ç”¨çš„æ“ä½œç³»ç»Ÿ Dockeræ¶æ„ é•œåƒä¸å®¹å™¨ å®¹å™¨æ˜¯é•œåƒçš„å®ä¾‹ å®‰è£… å®‰è£…è„šæœ¬ wget https://get.docker.com å¼•æ“ Dockerå¼•æ“ç”±å¦‚ä¸‹ä¸»è¦çš„ç»„ä»¶æ„æˆï¼šDockerå®¢æˆ·ç«¯ï¼ˆDocker Clientï¼‰ã€Dockerå®ˆæŠ¤è¿›ç¨‹ï¼ˆDocker daemonï¼‰ã€containerdä»¥åŠruncã€‚å®ƒä»¬å…±åŒè´Ÿè´£å®¹å™¨çš„åˆ›å»ºå’Œè¿è¡Œ LXCæä¾›äº†å¯¹è¯¸å¦‚å‘½åç©ºé—´ï¼ˆNamespaceï¼‰å’Œæ§åˆ¶ç»„ï¼ˆCGroupï¼‰ç­‰åŸºç¡€å·¥å…·çš„æ“ä½œèƒ½åŠ›ï¼Œå®ƒä»¬æ˜¯åŸºäºLinuxå†…æ ¸çš„å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ Dockerå…¬å¸å¼€å‘äº†åä¸ºLibcontainerçš„è‡ªç ”å·¥å…·ï¼Œç”¨äºæ›¿ä»£LXC runcï¼š åˆ›å»ºå®¹å™¨ containerdï¼š å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸç®¡ç† å¯åŠ¨å®¹å™¨çš„è¿‡ç¨‹ï¼š å®¹å™¨è¿è¡Œæ—¶ä¸Docker daemonæ˜¯è§£è€¦çš„,å¯¹Docker daemonçš„ç»´æŠ¤å’Œå‡çº§å·¥ä½œä¸ä¼šå½±å“åˆ°è¿è¡Œä¸­çš„å®¹å™¨ shimï¼š ä¿æŒæ‰€æœ‰STDINå’ŒSTDOUTæµæ˜¯å¼€å¯çŠ¶æ€ å°†å®¹å™¨çš„é€€å‡ºçŠ¶æ€åé¦ˆç»™daemon é•œåƒ é•œåƒä½¿ç”¨ æœç´¢é•œåƒ docker search name æ‹‰å–é•œåƒ docekr pull name åˆ é™¤é•œåƒ docker rmi é•œåƒID docker image rm $(docker image ls -q) -f æ ‡ç­¾ åœ¨é•œåƒååé¢çš„:xxx ä»£è¡¨æ ‡ç­¾ æ²¡æœ‰æ ‡ç­¾çš„é•œåƒè¢«ç§°ä¸ºæ‚¬è™šé•œåƒ åˆ†å±‚ docker ä¼šå¤ç”¨å·²å­˜åœ¨çš„é•œåƒå±‚ é•œåƒä»“åº“ æ­å»º docekr pull registry docker run -di --name=registry 5000:5000 registry ä¸Šä¼ é•œåƒåˆ°ç§æœ docker tag nginx 127.0.0.1:5000/nginx docker push 127.0.0.1:5000/nginx å®¹å™¨ æŒä¹…åŒ– å®¹å™¨åœ¨åœæ­¢åå¯åŠ¨å†™å…¥çš„æ•°æ®ä»ä¼šå­˜åœ¨ ä½†æ˜¯volumeæ‰æ˜¯æŒä¹…åŒ–çš„é¦–é€‰ é‡å¯ç­–ç•¥ åœ¨æŒ‡å®šäº‹ä»¶æˆ–è€…é”™è¯¯åé‡å¯æ¥å®Œæˆè‡ªæˆ‘ä¿®å¤ always unless-stoped on-failed å®¹å™¨ä½¿ç”¨ æŸ¥çœ‹å®¹å™¨ docker ps è¿è¡Œä¸€ä¸ªå®¹å™¨ docker run -p 8080:80 -d daocloud.io/nginx å¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨ä¸­ docker cp index.html e07dc4e0236a://usr/share/nginx/html ä»å®¹å™¨ä¸­å¤åˆ¶å‡ºæ–‡ä»¶ docker cp name:å®¹å™¨æ–‡ä»¶è·¯å¾„ å®¿ä¸»è·¯å¾„ åœæ­¢å®¹å™¨ docker stop name # ä¼˜é›…å…³é—­å¹¶åˆ é™¤ï¼šstop rm å¯åŠ¨å®¹å™¨ docker start name è¿›å…¥å®¹å™¨å†…éƒ¨ docker exec -it bash ç›®å½•æŒ‚è½½ åœ¨å¯åŠ¨å®¹å™¨æ—¶ï¼Œä½¿ç”¨-vå‚æ•° æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ docker inspect name æŸ¥çœ‹å®¹å™¨æ—¥å¿— docker logs name å¸¸ç”¨è½¯ä»¶éƒ¨ç½² mysql # å°†å®¿ä¸»æœº33306æ˜ å°„åˆ°å®¹å™¨3306ï¼ŒæŒ‡å®šrootå¯†ç ä¸º123 docker run -di --name=mysql1 -p 33306:3306 -e MYSQL_ROOT_PASSWORD=123 mysql tomcat docker run -di --name=mytomcat -p 9000:8080 -v /usr/local/webapps:/usr/local/tomcat/webapps tomcat nginx docker run -di --name=mynginx2 -p 8080:80 nginx-update è¿ç§»ä¸å¤‡ä»½ ä¿å­˜é•œåƒ docker commit -m 'update' e07dc4e0236a nginx-update ä¿å­˜ä¸ºå‹ç¼©åŒ… docker save -o nginx-update.tar nginx-update æŠŠå‹ç¼©åŒ…æ¢å¤æˆé•œåƒ docker load -i nginx-update.tar å®¹å™¨åŒ– Dockerfile ç¼–å†™Dockerfileæ–‡ä»¶ï¼š FROM ubuntu MAINTAINER MY RUN apt-get update RUN apt-get install nginx -y COPY index.html /var/www/html ENTRYPOINT [\"/usr/sbin/nginx\",\"-g\",\"daemon off;\"] EXPOSE 80 æ¯ä¸€ä¸ªRUNæŒ‡ä»¤ä¼šæ–°å¢ä¸€ä¸ªé•œåƒå±‚ã€‚å› æ­¤ï¼Œé€šè¿‡ä½¿ç”¨&& è¿æ¥å¤šä¸ªå‘½ä»¤ä»¥åŠä½¿ç”¨åæ–œæ ï¼ˆ\\ ï¼‰æ¢è¡Œçš„æ–¹æ³•ï¼Œå°†å¤šä¸ªå‘½ä»¤åŒ…å«åœ¨ä¸€ä¸ªRUNæŒ‡ä»¤ä¸­ï¼Œé€šå¸¸æ¥è¯´æ˜¯ä¸€ç§å€¼å¾—æå€¡çš„æ–¹å¼ æ ¹æ®æ–‡ä»¶æ„å»ºé•œåƒï¼š docker build -t='name' . DockerMavenæ’ä»¶ å¼€å¯dockeræ¥å—è¿œç¨‹æ“ä½œ æ·»åŠ mavenæ’ä»¶ com.spotify docker-maven-plugin 0.4.12 my-pc:5000/${project.artifactId}:${project.version} java [\"java\", \"-jar\", \"/${project.build.finalName}.jar\"] / ${project.build.directory} ${project.build.finalName}.jar http://my-pc:2375 JDK8ä»¥ä¸Šçš„ç‰ˆæœ¬éœ€è¦æ·»åŠ å¦‚ä¸‹ä¾èµ– javax.activation activation 1.1.1 æ„å»ºå¹¶æ¨é€ mvn clean package docker:build -DpushImage æ¨é€åˆ°ä»“åº“ docker images push å¤šé˜¶æ®µæ„å»º FROM xxx AS T1 FROM xxx AS T2 COPY --from=T1 ... æœ€ä½³å®è·µ åˆ©ç”¨æ„å»ºç¼“å­˜ï¼š æ‰§è¡Œå‘½ä»¤æ—¶ï¼ŒDockerä¼šæ£€æŸ¥æ„å»ºç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨åŸºäºåŒä¸€åŸºç¡€é•œåƒï¼Œå¹¶ä¸”æ‰§è¡Œäº†ç›¸åŒæŒ‡ä»¤çš„é•œåƒå±‚ åˆå¹¶é•œåƒï¼š æ‰§è¡Œdocker image build å‘½ä»¤æ—¶ï¼Œå¯ä»¥é€šè¿‡å¢åŠ --squash å‚æ•°æ¥åˆ›å»ºä¸€ä¸ªåˆå¹¶çš„é•œåƒ no-install-recommendsï¼š è‹¥ä½¿ç”¨çš„æ˜¯APTåŒ…ç®¡ç†å™¨ï¼Œåˆ™åº”è¯¥åœ¨æ‰§è¡Œapt-get install å‘½ä»¤æ—¶å¢åŠ no-install-recommends å‚æ•°ã€‚è¿™èƒ½å¤Ÿç¡®ä¿APTä»…å®‰è£…æ ¸å¿ƒä¾èµ–ï¼ˆDepends ä¸­å®šä¹‰ï¼‰åŒ… ä¸è¦å®‰è£…MSIåŒ…ï¼ˆWindowsï¼‰ Compose ç¼–å†™docker-compose.yml: version: \"3.5\" services: redis: image: \"redis:alpine\" networks: my-net: nginx: image: \"nginx\" networks: my-net: networks: my-net: volumes: my-net: å¯åŠ¨ï¼š docker-compose up Docker ç½‘ç»œ CNM: å®šäº†Dockerç½‘ç»œæ¶æ„çš„åŸºç¡€ç»„æˆè¦ç´  Libnetworkæ˜¯CNMæ ‡å‡†çš„å®ç° docker network ls # åˆ—å‡ºå¯ç”¨ç½‘ç»œ docker run -d --network my-net # æŒ‡å®šå®¹å™¨ç½‘ç»œ å¦‚æœåœ¨ç›¸åŒç½‘ç»œä¸­ç»§ç»­æ¥å…¥æ–°çš„å®¹å™¨ï¼Œé‚£ä¹ˆåœ¨æ–°æ¥å…¥å®¹å™¨ä¸­æ˜¯å¯ä»¥é€šè¿‡çš„å®¹å™¨åç§°æ¥è¿›è¡Œç½‘ç»œé€šä¿¡çš„ ç½‘ç»œç±»å‹ Bridgeï¼š: å•æœºæ¡¥æ¥ç½‘ç»œ Dockerè®¾è®¡çš„NATç½‘ç»œæ¨¡å‹ï¼ˆé»˜è®¤ç±»å‹ï¼‰ åªèƒ½åœ¨å•ä¸ªDockerä¸»æœºä¸Šè¿è¡Œï¼Œå¹¶ä¸”åªèƒ½ä¸æ‰€åœ¨Dockerä¸»æœºä¸Šçš„å®¹å™¨è¿›è¡Œè¿æ¥ docker network create -d bridge localnet Hostï¼šä¸ä¸»æœºå…±äº«Network Namespaceï¼Œ--net=host overlayï¼šå¤šæœºè¦†ç›–ç½‘ç»œ æ¥å…¥ç°æœ‰ç½‘ç»œ Noneï¼š:ä¸ä¸ºå®¹å™¨é…ç½®ä»»ä½•ç½‘ç»œåŠŸèƒ½ï¼Œæ²¡æœ‰ç½‘ç»œ --net=none Containerï¼šä¸å¦ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨å…±äº«Network Namespaceï¼Œ--net=container:containerID ç«¯å£æ˜ å°„ # å°†æœ¬æœº8080ç«¯å£æ˜ å°„åˆ°å®¹å™¨80ç«¯å£ docker run -p 8080:80 # å°†æœ¬æœºç«¯å£éšæœºä¸å®¹å™¨ç«¯å£æ˜ å°„ docker run -P æŒä¹…åŒ– æ¯ä¸ªDockerå®¹å™¨éƒ½æœ‰è‡ªå·±çš„éæŒä¹…åŒ–å­˜å‚¨ã€‚éæŒä¹…åŒ–å­˜å‚¨è‡ªåŠ¨åˆ›å»ºï¼Œä»å±äºå®¹å™¨ï¼Œç”Ÿå‘½å‘¨æœŸä¸å®¹å™¨ç›¸åŒ æŒä¹…åŒ–æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨å·ä¸Šã€‚å·ä¸å®¹å™¨æ˜¯è§£è€¦çš„ å·ç±»å‹ï¼š å—å­˜å‚¨ é€‚ç”¨äºå¯¹å°å—æ•°æ®çš„éšæœºè®¿é—®è´Ÿè½½ æ–‡ä»¶å­˜å‚¨ åŒ…æ‹¬NFSå’ŒSMBåè®®çš„ç³»ç»Ÿ å¯¹è±¡å­˜å‚¨ é€‚ç”¨äºè¾ƒå¤§ä¸”é•¿æœŸå­˜å‚¨çš„ã€å¾ˆå°‘å˜æ›´çš„äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨ã€‚é€šå¸¸å¯¹è±¡å­˜å‚¨æ˜¯æ ¹æ®å†…å®¹å¯»å€ å·æ“ä½œ docker volume create myv docker volume inspect myv docker run ... --mount source=bizvol,target=/vol # æŒ‡å®šå®¹å™¨å­˜å‚¨å· å®‰å…¨ Docker å¹³å°å®‰å…¨æŠ€æœ¯ï¼š Swarmæ¨¡å¼ åŠ å¯†èŠ‚ç‚¹IDã€‚ åŸºäºTLSçš„è®¤è¯æœºåˆ¶ã€‚ å®‰å…¨å‡†å…¥ä»¤ç‰Œã€‚ æ”¯æŒå‘¨æœŸæ€§è¯ä¹¦è‡ªåŠ¨æ›´æ–°çš„CAé…ç½®ã€‚ åŠ å¯†é›†ç¾¤å­˜å‚¨ï¼ˆé…ç½®DBï¼‰ã€‚ åŠ å¯†ç½‘ç»œ å†…å®¹ä¿¡ä»» é€šè¿‡ Docker Hub ä¿¡ä»»å†…å®¹ å¯†é’¥ ä½¿ç”¨docker secretç®¡ç†å¯†é’¥ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-08-25 08:07:21 "},"è¿ç»´/K8s.html":{"url":"è¿ç»´/K8s.html","title":"K8s","keywords":"","body":"Kubernetes Kubernetesï¼ˆå¸¸ç®€ç§°ä¸ºK8sï¼‰æ˜¯ç”¨äºè‡ªåŠ¨éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å®¹å™¨åŒ–ï¼ˆcontainerizedï¼‰åº”ç”¨ç¨‹åºçš„å¼€æºç³»ç»Ÿ æ¶æ„ masterï¼šç”¨äºæ§åˆ¶é›†ç¾¤ APIæœåŠ¡å™¨ï¼šå¤–éƒ¨è®¿é—®å…¥å£ Schedulerï¼šè°ƒåº¦åº”ç”¨ï¼ˆä¸ºåº”ç”¨åˆ†é…å·¥ä½œèŠ‚ç‚¹ï¼‰ Controller Managerï¼šæ‰§è¡Œé›†ç¾¤çº§åˆ«çš„åŠŸèƒ½ etcdï¼šå­˜å‚¨é›†ç¾¤é…ç½®çš„åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨ å·¥ä½œèŠ‚ç‚¹ï¼šè¿è¡Œç”¨æˆ·éƒ¨ç½²åº”ç”¨çš„èŠ‚ç‚¹ å®¹å™¨è¿è¡Œæ—¶ï¼šDocker æˆ–è€…å…¶ä»–å®¹å™¨ Kubeletï¼šä¸APIæœåŠ¡å™¨é€šä¿¡ ç®¡ç†å½“å‰èŠ‚ç‚¹çš„å®¹å™¨ kube-proxy:è´Ÿè´£ç»„ä»¶ä¹‹é—´çš„è´Ÿè½½å‡è¡¡ åˆ†å¸ƒå¼ Kubenetesç³»ç»Ÿç»„ä»¶é—´åªèƒ½é€šè¿‡APIæœåŠ¡å™¨é€šä¿¡ ä¸ºäº†ä¿è¯é«˜å¯ç”¨æ€§ï¼Œ masterçš„æ¯ä¸ªç»„ä»¶å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ etcd åªæœ‰APIæœåŠ¡å™¨æ‰èƒ½ç›´æ¥ä¸etcdé€šä¿¡ æ•°æ®åœ¨etcdä¸­å­˜å‚¨çš„æ˜¯ä¸€ä¸ªå±‚æ¬¡çº§ç›®å½•ç»“æ„ æœ«ç«¯èŠ‚ç‚¹å­˜å‚¨çš„jsonæ•°æ® é›†ç¾¤ä¸€è‡´æ€§ä¿è¯ï¼šraftç®—æ³• API æœåŠ¡å™¨ è®¤è¯æˆæƒ é€šçŸ¥å®¢æˆ·ç«¯èµ„æºå˜æ›´ å®‰å…¨é˜²æŠ¤ pod ä½¿ç”¨ service accountsæœºåˆ¶è¿›è¡Œè®¤è¯ kubectl get sa # è·å–æœåŠ¡è´¦æˆ· kubectl create serviceaccount foo # åˆ›å»º ä½¿ç”¨sa: spec: serviceAccountName: foo RBACæ§åˆ¶ï¼šä½¿ç”¨æ’ä»¶ è°ƒåº¦å™¨ åˆ©ç”¨ API æœåŠ¡å™¨çš„ç›‘å¬æœºåˆ¶ç­‰å¾…æ–°åˆ›å»ºçš„ pod, ç„¶åç»™æ¯ä¸ªæ–°çš„ã€ æ²¡æœ‰èŠ‚ç‚¹é›†çš„ pod åˆ†é…èŠ‚ç‚¹ è°ƒåº¦è¿‡ç¨‹æ˜¯å¾ˆå¤æ‚çš„ï¼š é€‰æ‹©å¯ç”¨èŠ‚ç‚¹ é€‰æ‹©æœ€ä½³èŠ‚ç‚¹ é«˜çº§è°ƒåº¦ å¦‚ä½•ä¿è¯èŠ‚ç‚¹å‰¯æœ¬åˆ†å¸ƒå°½å¯èƒ½å‡åŒ€ æ§åˆ¶ç®¡ç†å™¨ ç¡®ä¿ç³»ç»ŸçœŸå®çŠ¶æ€æœ API æœåŠ¡å™¨å®šä¹‰çš„æœŸæœ›çš„çŠ¶æ€æ”¶æ•› rc rsæ§åˆ¶å™¨ deploymentæ§åˆ¶å™¨... Kubelet åœ¨ API æœåŠ¡å™¨ä¸­åˆ›å»ºNode èµ„æº, ç­‰å¾…podåˆ†é…ç»™å®ƒå¹¶å¯åŠ¨pod å‘APIæœåŠ¡å™¨æä¾›ç›‘æ§ å½“podä» APIæœåŠ¡å™¨åˆ é™¤, kubeletä¹Ÿä¼šåˆ é™¤pod kube-proxy ç¡®ä¿ç”¨æˆ·å¯ä»¥è®¿é—®åç«¯çš„pod ä¸¤ç§æ¨¡å¼ï¼š æ§åˆ¶å™¨åä½œ pod åˆ°åº•æ˜¯ä»€ä¹ˆ ç½‘ç»œ ç›¸åŒèŠ‚ç‚¹çš„podé€šä¿¡ï¼š ä¸åŒèŠ‚ç‚¹çš„podé€šä¿¡ï¼š åªæœ‰å½“æ‰€æœ‰èŠ‚ç‚¹è¿æ¥åˆ°ç›¸åŒç½‘å…³çš„æ—¶å€™ ä¸Šè¿°æ–¹æ¡ˆæ‰æœ‰æ•ˆ æœåŠ¡çš„å®ç° æœåŠ¡æš´éœ²çš„å¤–éƒ¨ipä¸ç«¯å£é€šè¿‡æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„kube-proxyå®ç° æš´éœ²çš„è¿™ä¸ªipæ˜¯è™šæ‹Ÿçš„ ä¸»è¦æ˜¯ç”¨æ¥åšæ˜ å°„ç”¨çš„ å½“kube-proxyæ¥æ”¶åˆ°è¿™ä¸ªipçš„è¯·æ±‚ å°±ä¼šæŸ¥æ‰¾æ˜ å°„ è½¬å‘è¯·æ±‚ é«˜å¯ç”¨é›†ç¾¤ åº”ç”¨é«˜å¯ç”¨ï¼š æ°´å¹³æ‰©å±• ä¸»ä»æ¶æ„ masteré«˜å¯ç”¨ï¼š etcdè‡ªèº«ä¼šè¿›è¡Œæ•°æ®åŒæ­¥ API æœåŠ¡å™¨æ˜¯æ— çŠ¶æ€çš„ æ§åˆ¶å™¨ä¸è°ƒåº¦å™¨ä¼šè¿›è¡Œä¸»ä»é€‰ä¸¾ åªæœ‰leaderæ‰ä¼šè¿›è¡Œè°ƒåº¦æ§åˆ¶å·¥ä½œ ä¼˜ç‚¹ ç®€åŒ–éƒ¨ç½² å……åˆ†åˆ©ç”¨ç¡¬ä»¶ å¥åº·æ£€æŸ¥ è‡ªä¿®å¤ è‡ªåŠ¨æ‰©å®¹ åœ¨K8Sä¸­è¿è¡Œåº”ç”¨ æ ¹æ®æè¿°ä¿¡æ¯ç”Ÿæˆå¯¹åº”çš„pod åœ¨podä¸­è¿è¡Œå®¹å™¨ K8Sä¼šä¿è¯é›†ç¾¤ä¸­çš„å®¹å™¨æ•°é‡å®ä¾‹ åœ¨å®¹å™¨æ­»äº¡æ—¶ ä¼šå¯åŠ¨æ–°å®¹å™¨æ›¿è¡¥ K8S åœ¨è¿è¡Œæ—¶å¯æ ¹æ®éœ€æ±‚åŠ¨æ€è°ƒæ•´å‰¯æœ¬æ•°é‡ é€šè¿‡kube-proxyèƒ½è¿›è¡ŒæœåŠ¡è¿æ¥åŠ¨æ€åˆ‡æ¢ æœ¬åœ°è¿è¡ŒK8S å®‰è£…minikube å®‰è£…kubectl minikube start \\ --image-mirror-country=cn \\ --registry-mirror='https://t9ab0rkd.mirror.aliyuncs.com' \\ --image-repository='registry.cn-hangzhou.aliyuncs.com/google_containers' éƒ¨ç½²ç¬¬ä¸€ä¸ªåº”ç”¨ kubectl run kubia --image=luksa/kubia --port=8080 # åˆ›å»ºå®¹å™¨è¿è¡Œ kubectl get pods # è·å–pod kubectl get rc kubectl port-forward kubia 8080:8080 # å¼€å¯ç«¯å£è½¬å‘ kubectl get pods -o wide # æŸ¥çœ‹åº”ç”¨åœ¨å“ªä¸ªèŠ‚ç‚¹ kubectl scale rc kubia --replicas=3 # æ°´å¹³æ‰©å®¹ é€»è¾‘æ¶æ„ï¼š RCç”¨æ¥ç¡®ä¿å§‹ç»ˆæœ‰podè¿è¡Œ ä½¿ç”¨httpæœåŠ¡æ¥å®Œæˆå¤–éƒ¨è¯·æ±‚åˆ°podçš„æ˜ å°„ pod ä¸€ç»„ç´§å¯†ç›¸å…³çš„å®¹å™¨ ç‹¬ç«‹çš„é€»è¾‘æœºå™¨ ä¸€ ä¸ª pod ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½åœ¨ç›¸åŒçš„ network å’Œ UTS å‘½åç©ºé—´ä¸‹è¿è¡Œ æ¯ä¸ª pod éƒ½æœ‰è‡ªå·±çš„ IP åœ°å€ï¼Œ å¹¶ä¸”å¯ä»¥é€šè¿‡è¿™ä¸ªä¸“é—¨çš„ç½‘ç»œå®ç° pod ä¹‹é—´äº’ç›¸è®¿é—® podçš„ä½¿ç”¨ï¼š å€¾å‘äºå•ä¸ªpodå•ä¸ªå®¹å™¨ ä½¿ç”¨ymlåˆ›å»ºpod apiVersion: v1 kind: Pod metadata: name: kubia-manual labels: env: test # æŒ‡å®šä¸€ä¸ªæ ‡ç­¾ spec: nodeSelector: # é€‰æ‹©ç‰¹å®šæ ‡ç­¾çš„èŠ‚ç‚¹ super: \"true\" containers: - image: luksa/kubia name: kubia ports: - containerPort: 8080 protocol: TCP kubectl create -f kubia-manual.yaml kubectl logs kubia-manual # æŸ¥çœ‹æ—¥å¿— æ ‡ç­¾ kubectl get po --show-labels kubectl label po kubia-manual createtion_method=manual # ä¿®æ”¹æ ‡ç­¾ kubectl label node minikube super=true kubectl get po -l createtion_method=manual # æ ¹æ®æ ‡ç­¾ç­›é€‰ æ³¨è§£ æ³¨è§£ä¹Ÿæ˜¯é”®å€¼å¯¹ kubectl annotate pod kubia-manual wang.ismy/name=\"cxk\" å‘½åç©ºé—´ å‘½åç©ºé—´ç®€å•ä¸ºå¯¹è±¡åˆ’åˆ†äº†ä¸€ä¸ªä½œç”¨åŸŸ kubectl get ns kubectl get po -n kube-system # è·å–å‘½åç©ºé—´ä¸‹çš„pod kubectl create namespace custom-namespace # åˆ›å»ºå‘½åç©ºé—´ kubectl create -f kubia-manual.yaml -n custom-namespace # æŒ‡å®šå‘½åç©ºé—´ åœæ­¢ä¸ç§»é™¤ kubectl delete po kubia-manual # æ ¹æ®åå­—åˆ é™¤ å‰¯æœ¬æœºåˆ¶ k8s ä¼šä¿è¯ pod ä»¥åŠ å®¹å™¨çš„å¥åº·è¿è¡Œ å­˜æ´»æ¢é’ˆ å½“å­˜æ´»æ¢é’ˆæ¢æµ‹å¤±è´¥ å®¹å™¨å°±ä¼šé‡å¯ åˆ›å»º apiVersion: v1 kind: Pod metadata: name: kubia-liveness spec: containers: - image: luksa/kubia-unhealthy name: kubia livenessProbe: # å­˜æ´»æ¢é’ˆ httpGet: # è¿”å›2xx æˆ–è€… 3xxå°±ä»£è¡¨æ´»ç€ path: / port: 8080 ReplicationController åˆ›å»ºå’Œç®¡ç†ä¸€ä¸ªpodçš„å¤šä¸ªå‰¯æœ¬ åˆ›å»º apiVersion: v1 kind: ReplicationController metadata: name: kubia spec: replicas: 3 selector: app: kubia template: metadata: labels: app: kubia spec: containers: - name: kubia image: luksa/kubia ports: - containerPort: 8080 æ§åˆ¶å™¨é€š è¿‡ åˆ›å»º ä¸€ ä¸ªæ–°çš„æ›¿ä»£podæ¥å“åº”podçš„åˆ é™¤æ“ä½œ é€šè¿‡æ›´æ”¹æ ‡ç­¾çš„æ–¹å¼æ¥å®ç°rcä¸podçš„å…³è” æ‰©å®¹ kubectl scale rc kubia --replicas=10 åˆ é™¤ kubectl delete rc kubia ReplicaSet ReplicaSet ä¼š æ›¿ä»£ rc rs çš„pod é€‰æ‹©å™¨çš„è¡¨è¾¾èƒ½åŠ›æ›´å¼º åˆ›å»º apiVersion: apps/v1 kind: ReplicaSet metadata: name: kubia spec: replicas: 3 selector: matchLabels: app: kubia template: metadata: labels: app: kubia spec: containers: - name: kubia image: luksa/kubia DaemonSet ç”±DaemonSet åˆ›å»ºçš„pod ä¼šç»•è¿‡è°ƒåº¦ç¨‹åº ä¼šåœ¨æ‰€æœ‰é›†ç¾¤èŠ‚ç‚¹ä¸Šè¿è¡Œï¼ˆæˆ–è€…ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šnodeSelectoråœ¨å…¶ä»–èŠ‚ç‚¹è¿è¡Œï¼‰ åˆ›å»º apiVersion: apps/v1 kind: DaemonSet metadata: name: ssd-monitor spec: selector: matchLabels: app: ssd-monitor template: metadata: labels: app: ssd-monitor spec: nodeSelector: disk: ssd containers: - name: main image: luksa/ssd-monitor Job å…è®¸è¿è¡Œ ä¸€ ç§ pod, è¯¥ pod åœ¨å†…éƒ¨è¿›ç¨‹æˆåŠŸç»“æŸæ—¶ï¼Œ ä¸é‡å¯å®¹å™¨ã€‚ åˆ›å»º apiVersion: batch/v1 kind: Job metadata: name: batch-job spec: completions: 5 # è¿è¡Œpodæ•° parallelism: 2 # å¹¶è¡Œè¿è¡Œæ•° template: metadata: labels: app: batch-job spec: restartPolicy: OnFailure containers: - name: main image: luksa/batch-job CronJob åˆ›å»º apiVersion: batch/v1beta1 kind: CronJob metadata: name: cron-job spec: schedule: \"0,15,30,45 * * * *\" jobTemplate: spec: template: metadata: labels: app: batch-job spec: restartPolicy: OnFailure containers: - name: main image: luksa/batch-job æœåŠ¡ æ˜¯ä¸€ç§ä¸ºä¸€ç»„åŠŸèƒ½ç›¸åŒçš„ pod æä¾›å•ä¸€ä¸å˜çš„æ¥å…¥ç‚¹çš„èµ„æº åˆ›å»º apiVersion: v1 kind: Service metadata: name: kubia spec: ports: - port: 80 targetPort: 8080 selector: app: kubia æœåŠ¡é—´çš„å‘ç° é€šè¿‡ç¯å¢ƒå˜é‡ kubectl exec kubia-9knkg -- env é€šè¿‡DNS åŸŸåï¼škubia.default.svc.cluster.local å¦‚æœåœ¨åŒä¸€å‘½åç©ºé—´ä¸‹ ç›´æ¥ä½¿ç”¨ kubiaå³å¯ Endpoint æš´éœ²ä¸€ä¸ªæœåŠ¡çš„ IP åœ°å€å’Œç«¯å£çš„åˆ—è¡¨ kubectl get endpoints kubia æš´éœ²æœåŠ¡ç»™å¤–éƒ¨ NodePortï¼šæ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹éƒ½ä¼šåœ¨èŠ‚ç‚¹ä¸Šæ‰“å¼€ä¸€ä¸ªç«¯å£ å°†åœ¨è¯¥ç«¯å£ä¸Šæ¥æ”¶åˆ°çš„æµé‡é‡å®šå‘åˆ°åŸºç¡€æœåŠ¡ apiVersion: v1 kind: Service metadata: name: kubia-nodeport spec: type: NodePort ports: - port: 80 targetPort: 8080 nodePort: 30123 selector: app: kubia é€šè¿‡nodeip:30123 è®¿é—® è´Ÿè½½å‡è¡¡å™¨å°†æµé‡é‡å®šå‘åˆ°è·¨æ‰€æœ‰èŠ‚ç‚¹çš„èŠ‚ç‚¹ç«¯å£ã€‚å®¢æˆ·ç«¯é€šè¿‡è´Ÿè½½å‡è¡¡å™¨çš„ IP è¿æ¥åˆ°æœåŠ¡ apiVersion: v1 kind: Service metadata: name: kubia-loadbalancer spec: type: LoadBalancer ports: - port: 80 targetPort: 8080 selector: app: kubia é€šè¿‡externalip:ä¸€ä¸ªéšæœºç«¯å£è®¿é—® Ingress åªéœ€è¦ ä¸€ ä¸ªå…¬ç½‘ IP å°±èƒ½ä¸ºè®¸å¤šæœåŠ¡æä¾›è®¿é—® å¯ç”¨ï¼š minikube addons enable ingress å°±ç»ªæ¢é’ˆ åˆ›å»º # kubia-rc.yaml spec: containers: - name: kubia image: luksa/kubia readinessProbe: exec: command: - ls - /var/ready # è¯¥æ–‡ä»¶å­˜åœ¨ å®¹å™¨æ‰è¢«è®¤ä¸ºå°±ç»ª æœåŠ¡æ•…éšœæ’é™¤ ç¡®ä¿ä»é›†ç¾¤å†…è¿æ¥åˆ°æœåŠ¡çš„é›†ç¾¤IP æœåŠ¡çš„é›†ç¾¤IP æ˜¯è™šæ‹ŸIP, æ˜¯æ— æ³•pingé€šçš„ å¦‚æœå·²ç»å®šä¹‰äº†å°±ç»ªæ¢é’ˆï¼Œ è¯·ç¡®ä¿ å®ƒè¿”å›æˆåŠŸï¼›å¦åˆ™è¯¥podä¸ä¼šæˆä¸ºæœåŠ¡çš„ä¸€éƒ¨åˆ† ç¡®è®¤æŸä¸ªå®¹å™¨æ˜¯æœåŠ¡çš„ ä¸€ éƒ¨åˆ† æ£€æŸ¥æ˜¯å¦è¿æ¥åˆ°æœåŠ¡å…¬å¼€çš„ç«¯å£ï¼Œè€Œä¸æ˜¯ç›®æ ‡ç«¯å£ å°è¯•ç›´æ¥è¿æ¥åˆ°podIPä»¥ç¡®è®¤podæ­£åœ¨æ¥æ”¶æ­£ç¡®ç«¯å£ä¸Šçš„ è¿æ¥ æ³•é€šè¿‡podçš„IP è®¿é—®åº”ç”¨ï¼Œ è¯·ç¡®ä¿åº”ç”¨ä¸æ˜¯ä»…ç»‘å®š åˆ°æœ¬åœ°ä¸»æœº å· å·æ˜¯ pod çš„ ä¸€ ä¸ªç»„æˆéƒ¨åˆ†ï¼Œ å› æ­¤åƒå®¹å™¨ ä¸€ æ ·åœ¨ pod çš„è§„èŒƒä¸­å®šä¹‰ åœ¨å®¹å™¨ä¹‹é—´å…±äº«æ•°æ® emptyDirï¼špodè¢«åˆ é™¤æ—¶ å·çš„å†…å®¹å°±ä¼šä¸¢å¤± åˆ›å»º apiVersion: v1 kind: Pod metadata: name: fortune spec: containers: - image: luksa/fortune name: html-genrator volumeMounts: - name: html mountPath: /var/htdocs - image: nginx:alpine name: web-server volumeMounts: - name: html # ä½¿ç”¨htmlå· mountPath: /usr/share/nginx/html # æŒ‚è½½åˆ°å®¹å™¨çš„ä½ç½® readOnly: true ports: - containerPort: 80 protocol: TCP volumes: # åˆ›å»ºä¸€ä¸ªå· - name: html emptyDir: {} gitRepoï¼šä»¥gitä»“åº“æ–‡ä»¶å¡«å……ç›®å½•æ–‡ä»¶ apiVersion: v1 kind: Pod metadata: name: gitrepo-volume-pod spec: containers: - image: nginx:alpine name: web-server volumeMounts: - name: html mountPath: /usr/share/nginx/html readOnly: true ports: - containerPort: 80 protocol: TCP volumes: - name: html gitRepo: repository: https://github.com/luksa/kubia-website-example.git revision: master directory: . è®¿é—®å·¥ä½œèŠ‚ç‚¹æ–‡ä»¶ hostPath å·æŒ‡å‘èŠ‚ç‚¹æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ç‰¹å®šæ–‡ä»¶æˆ–ç›®å½• æŒä¹…åŒ–å­˜å‚¨ gceæŒä¹…ç›˜ awså¼¹æ€§å—å­˜å‚¨ nfså· æŒä¹…å· åˆ›å»ºæŒä¹…å· apiVersion: v1 kind: PersistentVolume metadata: name: mongodb-pv spec: capacity: storage: 1Gi accessModes: - ReadWriteOnce - ReadOnlyMany persistentVolumeReclaimPolicy: Retain hostPath: path: /tmp/mongodb åˆ›å»ºæŒä¹…å·å£°æ˜ apiVersion: v1 kind: PersistentVolumeClaim metadata: name: mongodb-pvc spec: resources: requests: storage: 1Gi accessModes: - ReadWriteOnce storageClassName: \"\" # åŠ¨æ€æŒä¹…å· å®¹å™¨ä½¿ç”¨æŒä¹…å· # ... volumes: - name: mongodb-data persistentVolumeClaim: claimName: mongodb-pvc åŠ¨æ€æŒä¹…å· åˆ›å»ºStorageClass apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: fast provisioner: k8s.io/minikube-hostpath parameters: type: pd-ssd å£°æ˜æ˜¯é€šè¿‡åç§°å¼•ç”¨å®ƒçš„ æ–¹ä¾¿ä¹‹å¤„ä¸»è¦æ˜¯åœ¨ä¸åŒé›†ç¾¤ä¹‹é—´ç§»æ¤ å‚æ•°é…ç½® é€šè¿‡å®šä¹‰ä¼ é€’å‚æ•°ï¼š - image: luksa/fortune:args args: [\"2\"] ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š - image: luksa/fortune:env env: - name: INTERVAL value: \"30\" ConfigMap ç±»ä¼¼äºé…ç½®ä¸­å¿ƒï¼š åˆ›å»º kubectl create configmap fortunes-config --from-literal=sleep-interval=25 å•ä¸ªç¯å¢ƒå˜é‡ä½¿ç”¨ - image: luksa/fortune:env env: - name: INTERVAL valueFrom: configMapKeyRef: name: fortunes-config key: sleep-interval ä¸€æ¬¡ä¼ é€’æ‰€æœ‰ç¯å¢ƒå˜é‡ - image: luksa/fortune:env env: envFrom: - prefix: CONFIG_ configMapRef: name: fortunes-config args: [\"${CONFIG_xxx}\"] # ä¼ é€’åˆ°å‘½ä»¤è¡Œ æŒ‚è½½åˆ°å· volumes: - name: config configMap: name: configmap æ›´æ–°é…ç½® kubectl edit configmap xxx Secret å­˜å‚¨ä¸åˆ†å‘æ•æ„Ÿä¿¡æ¯ åˆ›å»º kubectl create secret generic fortune-https --from-file=https.key æŒ‚è½½å·ä½¿ç”¨ - image: xxx volumeMounts: - name: keys mountPath: /etc/nginx/keys/ volumes: - name: keys secret: secretName: fortune-https ç¯å¢ƒå˜é‡ä½¿ç”¨ env: - name: FOO_SECRET valueFrom: secretKeyRef: name: fortune-https key: name pod å…ƒæ•°æ®è®¿é—® Downward API é€šè¿‡ç¯å¢ƒå˜é‡ï¼š env: - name: POD IP valueFrom: fieldRef: fieldPath: status.podIP - name: CONTAINER CPU REQUEST MILLICORES valueFrom: resourceFieldRef: resource: requests.cpu divisor: lm é€šè¿‡å·ï¼š volumes: - name: downward downwardAPI: items: - path: \"podName\" fieldRef: fieldPath: metadata.name ä½¿ç”¨ K8S API æœåŠ¡å™¨ REST APIï¼š å¯åŠ¨kubectl proxy curl http://localhost:8001/apis/batch/v1/jobs åœ¨ pod å†…éƒ¨ä½¿ç”¨ å®¢æˆ·ç«¯API Deployment æ›´æ–°åº”ç”¨ï¼š åˆ é™¤æ—§ç‰ˆæœ¬pod å¯åŠ¨æ–°ç‰ˆæœ¬pod ä¼šé€ æˆçŸ­æš‚çš„æœåŠ¡ä¸å¯ç”¨ å¯åŠ¨æ–°ç‰ˆæœ¬pod åˆ é™¤æ—§ç‰ˆæœ¬pod ä½¿ç”¨rcè¿›è¡Œæ»šåŠ¨å‡çº§ ä¹¦ä¸Šé€šè¿‡rolling-updateçš„æ–¹æ³•å·²ç»è¿‡æ—¶ ä½¿ç”¨ Deployment å£°æ˜å¼å‡çº§ åˆ›å»º apiVersion: apps/v1 kind: Deployment metadata: name: kubia spec: replicas: 3 selector: matchLabels: app: kubia template: metadata: name: kubia labels: app: kubia spec: containers: - image: luksa/kubia:v1 name: nodejs kubectl create -f kubia-dep-v1.yaml --record # åŠ ä¸Šè¯¥å‚æ•°ä¼šè®°å½•å†å²ç‰ˆæœ¬å· æ›´æ–°ç‰ˆæœ¬ kubectl set image deployment kubia nodejs=luksa/kubia:v2 å›æ»š kubectl rollout undo deployment kubia ä½¿ç”¨ - -to-revision=xxx å›æ»šåˆ°ç‰¹å®šç‰ˆæœ¬ å‡çº§é€Ÿç‡æ§åˆ¶ rollingUpdate : maxSurge: 1 # æœ€å¤šå…è®¸è¶…è¿‡çš„å‰¯æœ¬æ•° maxunavailable: 0 # æœ€å¤šå…è®¸å¤šå°‘ç™¾åˆ†æ¯”podä¸å¯ç”¨ ä½¿ç”¨rollout pause æš‚åœæ»šåŠ¨å‡çº§ éƒ¨åˆ†è½¯ä»¶ç‰ˆæœ¬å°±ä¸ä¸€æ · é‡‘ä¸é›€å‘å¸ƒ minReadySecondså±æ€§æŒ‡å®šæ–°åˆ›å»ºçš„podè‡³å°‘è¦æˆåŠŸè¿è¡Œå¤šä¹…ä¹‹å ï¼Œ æ‰èƒ½ å°†å…¶è§†ä¸ºå¯ç”¨ å¦‚æœ ä¸€ ä¸ªæ–°çš„pod è¿è¡Œå‡ºé”™ï¼Œ å¹¶ä¸”åœ¨minReadySecondsæ—¶é—´å†…å®ƒçš„å°±ç»ªæ¢é’ˆå‡ºç°äº†å¤±è´¥ï¼Œ é‚£ä¹ˆæ–°ç‰ˆæœ¬çš„æ»šåŠ¨å‡çº§å°†è¢«é˜»æ­¢ ä½¿ç”¨kubectl applyå‡çº§Deployment StatefulSet å¦‚ä½•å¤åˆ¶æœ‰çŠ¶æ€çš„podï¼Ÿ Statefulset ä¿è¯äº†podåœ¨é‡æ–°è°ƒåº¦åä¿ç•™å®ƒä»¬çš„æ ‡è¯†å’ŒçŠ¶æ€ æ¯ä¸ªpodéƒ½æœ‰ä¸“å±äºå®ƒçš„æŒä¹…å· K8Sä¿è¯ä¸ä¼šæœ‰ä¸¤ä¸ªç›¸åŒæ ‡è¯†å’ŒæŒä¹…å·çš„podåŒæ—¶è¿è¡Œ ä½¿ç”¨ åˆ›å»ºæŒä¹…å· åˆ›å»ºæ§åˆ¶ Service apiVersion: v1 kind: Service metadata: name: kubia spec: clusterIP: None selector: app: kubia ports: - name: http port: 80 åˆ›å»ºStatefulSet apiVersion: apps/v1 kind: StatefulSet metadata: name: kubia spec: serviceName: kubia replicas: 2 selector: matchLabels: app: kubia # has to match .spec.template.metadata.labels template: metadata: labels: app: kubia spec: containers: - name: kubia image: luksa/kubia-pet ports: - name: http containerPort: 8080 volumeMounts: - name: data mountPath: /var/data volumeClaimTemplates: - metadata: name: data spec: resources: requests: storage: 1Mi accessModes: - ReadWriteOnce ä½¿ç”¨ä¸€ä¸ª Service æ¥è®¿é—® Pod apiVersion: v1 kind: Service metadata: name: kubia-public spec: selector: app: kubia ports: - port: 80 targetPort: 8080 å‘ç°ä¼™ä¼´èŠ‚ç‚¹ å®¹å™¨å†…éƒ¨é€šè¿‡DNS SRV è®°å½• å®‰å…¨ pod ä½¿ç”¨å®¿ä¸»èŠ‚ç‚¹çš„Linuxå‘½åç©ºé—´ ä½¿ç”¨å®¿ä¸»èŠ‚ç‚¹çš„ç½‘ç»œå‘½åç©ºé—´ spec: hostNetwork: true ä½¿ç”¨å®¿ä¸»èŠ‚ç‚¹çš„ç«¯å£è€Œä¸ä½¿ç”¨å®¿ä¸»èŠ‚ç‚¹çš„ç½‘ç»œå‘½åç©ºé—´ å¦‚æœä½¿ç”¨hostport ä¸€ä¸ªèŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ªç›¸åŒçš„pod ä½¿ç”¨å®¿ä¸»çš„PIDä¸IPCç©ºé—´ spec: hostPID: true hostIPC: true å¼€å¯å ç›¸åŒèŠ‚ç‚¹çš„podçš„è¿›ç¨‹ä¹‹é—´å°±æ˜¯å¯è§çš„ å¯é€šä¿¡çš„ å®‰å…¨ä¸Šä¸‹æ–‡ spec: securityContext: # ... pod çº§åˆ«çš„ containers: securityContext: runAsUser: 405 # ä»¥æŒ‡å®šç”¨æˆ·è¿è¡Œ runAsNonRoot: true # ç¦æ­¢ä»¥rootè¿è¡Œ privileged: true # åœ¨ç‰¹æƒæ¨¡å¼ä¸‹å…è®¸ capabilities: add: - SYS_TIME # å¼€æ”¾ç¡¬ä»¶æ—¶é—´ä¿®æ”¹æƒé™ drop: - CHOWN # ç¦ç”¨æ–‡ä»¶æ‰€æœ‰è€…ä¿®æ”¹æƒé™ readOnlyRootFilesystem: true # ç¦æ­¢åœ¨æ ¹ç›®å½•å†™æ–‡ä»¶ pod ç½‘ç»œéš”ç¦» ç½‘ç»œç­–ç•¥ apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: postgres-netpolicy spec: podSelector: matchLabels: app: database # å¯¹è¯¥æ ‡ç­¾çš„podç”Ÿæ•ˆ ingress: # åªå…è®¸æ¥è‡ªåŒ¹é…ä¸‹é¢æ ‡ç­¾çš„podè¯·æ±‚ - from: - podSelector: matchLabels: app: webserver ports: - port: 5432 è®¡ç®—èµ„æºç®¡ç† ç”³è¯·èµ„æº spec: containers: - image: busybox command: [\"dd\", \"if=/dev/zero\", \"of=/dev/null\"] name: main resources: requests: cpu: 200m # ç”³è¯·200æ¯«æ ¸ ä¹Ÿå°±è¯´20%CPU memory: 10Mi # ç”³è¯·10Må†…å­˜ æ·»åŠ äº†requestså¯¹è°ƒåº¦çš„å½±å“ï¼š é€šè¿‡è®¾ç½®èµ„æºrequestsæˆ‘ä»¬æŒ‡å®šäº†podå¯¹èµ„æºéœ€æ±‚çš„æœ€å°å€¼ã€‚ è°ƒåº¦å™¨ä¸å…³å¿ƒèµ„æºçš„å®é™…ä½¿ç”¨äº† è€Œæ˜¯å…³å¿ƒå„podæ‰€å®šä¹‰çš„requestsèµ„æºé‡ é™åˆ¶èµ„æº resources: limits: cpu: 1 # å…è®¸æœ€å¤§ä½¿ç”¨1æ ¸ memory: 20Mi # å†…å­˜å…è®¸æœ€å¤§ 20M è¶…è¿‡limitsçš„æƒ…å†µï¼š cpuï¼šè¿›ç¨‹åˆ†é…åˆ°çš„CPUä¸ä¼šè¶…è¿‡æŒ‡å®šçš„ å†…å­˜ï¼šå¦‚æœå†…å­˜è¶…è¿‡limit åˆ™å®¹å™¨ä¼šè¢«æ€æ‰ QoS ç­‰çº§ é€šè¿‡å®šä¹‰ä¼˜å…ˆçº§å†³å®šèµ„æºä¸è¶³æ—¶æ€è° BestEffort ä¼˜å…ˆçº§æœ€ä½ æ²¡æœ‰è®¾ç½®requesså’Œlimitséƒ½å±äºè¿™ä¸ªçº§åˆ« Guaranteed ä¼˜å…ˆçº§æœ€é«˜ cpuå’Œå†…å­˜éƒ½è¦è®¾ç½®requests å’Œ limits æ‰€æœ‰å®¹å™¨éƒ½è¦è®¾ç½®èµ„æºé‡ requests ä¸ limitså¿…é¡»ç›¸ç­‰ Burstable å…¶ä»–çš„podéƒ½å±äºè¿™ä¸ªç­‰çº§ é™åˆ¶å‘½åç©ºé—´ä¸­çš„pod LimitRangeæ’ä»¶ ResourceQuota ç›‘æ§ pod Heapster è‡ªåŠ¨ä¼¸ç¼©ä¸é›†ç¾¤ åŸºäºCPUä½¿ç”¨ç‡çš„è‡ªåŠ¨ä¼¸ç¼© kubectl autoscale deployment kubia --cpu-percent=30 --min=1 --max=5 çºµå‘æ‰©å®¹ è‡ªåŠ¨ä¿®æ”¹CPUä¸å†…å­˜å¤§å° é›†ç¾¤èŠ‚ç‚¹æ‰©å®¹ æ–°èŠ‚ç‚¹å¯åŠ¨åï¼Œå…¶ä¸Šè¿è¡Œçš„Kubeletä¼šè”ç³»APIæœåŠ¡å™¨ï¼Œåˆ›å»º ä¸€ ä¸ªNodeèµ„æºä»¥æ³¨å†Œè¯¥èŠ‚ç‚¹ å½“ä¸€ ä¸ªèŠ‚ç‚¹è¢«é€‰ä¸­ä¸‹çº¿ï¼Œå®ƒé¦–å…ˆä¼šè¢«æ ‡è®°ä¸ºä¸å¯è°ƒåº¦ï¼Œ éšåè¿è¡Œå…¶ä¸Šçš„pod å°†è¢«ç–æ•£è‡³å…¶ä»–èŠ‚ç‚¹ é«˜çº§è°ƒåº¦ æ±¡ç‚¹å’Œå®¹å¿åº¦ é™åˆ¶å“ªäº›podå¯ä»¥è¢«è°ƒåº¦åˆ°æŸ ä¸€ ä¸ªèŠ‚ç‚¹ kubectl describe node minikube | grep Taints # æŸ¥çœ‹èŠ‚ç‚¹æ±¡ç‚¹ NoSchedule è¡¨ç¤ºå¦‚æœ pod æ²¡æœ‰å®¹å¿è¿™äº›æ±¡ç‚¹ï¼Œ pod åˆ™ä¸èƒ½è¢«è°ƒåº¦åˆ°åŒ…å«è¿™äº›æ±¡ç‚¹çš„èŠ‚ç‚¹ä¸Š PreferNoSchedule æ˜¯ NoSchedule çš„ ä¸€ ä¸ªå®½æ¾çš„ç‰ˆæœ¬ï¼Œ è¡¨ç¤ºå°½é‡é˜»æ­¢pod è¢«è°ƒåº¦åˆ°è¿™ä¸ªèŠ‚ç‚¹ä¸Šï¼Œ ä½†æ˜¯å¦‚æœæ²¡æœ‰å…¶ä»–èŠ‚ç‚¹å¯ä»¥è°ƒåº¦ï¼Œ pod ä¾ç„¶ä¼šè¢«è°ƒåº¦åˆ°è¿™ä¸ªèŠ‚ç‚¹ä¸Š NoExecuteä¼šå½±å“æ­£åœ¨èŠ‚ç‚¹ä¸Šè¿è¡Œç€çš„ pod ã€‚ å¦‚æœåœ¨ ä¸€ ä¸ªèŠ‚ç‚¹ä¸Šæ·»åŠ äº† NoExecute æ±¡ç‚¹ï¼Œ é‚£äº›åœ¨è¯¥èŠ‚ç‚¹ä¸Šè¿è¡Œç€çš„pod, å¦‚æœæ²¡æœ‰å®¹å¿è¿™ä¸ª NoExecute æ±¡ç‚¹ï¼Œ å°†ä¼šä»è¿™ä¸ªèŠ‚ç‚¹å»é™¤ æ·»åŠ æ±¡ç‚¹ kubectl taint node minikube node-type=production:NoSchedule podæ·»åŠ å®¹å¿åº¦ spec: replicas: 5 template: spec: ... tolerations: - key: node-type operator: Equal value: production effect: NoSchedule èŠ‚ç‚¹äº²ç¼˜æ€§ è¿™ç§æœºåˆ¶å…è®¸ä½ é€šçŸ¥ Kubemeteså°† pod åªè°ƒåº¦åˆ°æŸä¸ªå‡ ç‚¹å­é›†ä¸Šé¢ spec: affinity: nodeAffinity: requiredDuringSchedulingIgnoredDuringExecution: nodeSelectorTerms: - matchExpressions: - key: gpu operator: In values: - \"true\" æœ€ä½³å®è·µ pod çš„ç”Ÿå‘½å‘¨æœŸ åº”ç”¨å¿…é¡»æ„è¯†åˆ°ä¼šè¢«æ€æ­»æˆ–è€…é‡æ–°è°ƒåº¦ ipä¸ä¸»æœºåä¼šå‘ç”Ÿå˜åŒ– ä½¿ç”¨å·è§£å†³æ•°æ®å†™å…¥é—®é¢˜ ä¸æ–­é‡å¯çš„podä¸ä¼šè¢«é‡æ–°è°ƒåº¦ å›ºå®šé¡ºåºå¯åŠ¨pod ä½¿ç”¨initå®¹å™¨ åº”ç”¨è¦å¤„ç†å¥½å…¶ä»–ä¾èµ–æ²¡æœ‰å‡†å¤‡å¥½çš„æƒ…å†µ ç”Ÿå‘½å‘¨æœŸé’©å­ postStart preStop podçš„å…³é—­ å®¢æˆ·ç«¯è¯·æ±‚å¤„ç† podå¯åŠ¨æ—¶é¿å…å®¢æˆ·ç«¯è¿æ¥æ–­å¼€ ä½¿ç”¨ä¸€ä¸ªå°±ç»ªæ¢é’ˆæ¥æ¢æµ‹podæ˜¯å¦å‡†å¤‡å¥½æ¥å—è¯·æ±‚äº† podå…³é—­æ—¶é¿å…è¯·æ±‚æ–­å¼€ åœæ­¢æ¥å—æ–°è¿æ¥ ç­‰å¾…æ‰€æœ‰è¯·æ±‚å®Œæˆ å…³é—­åº”ç”¨ è®©åº”ç”¨æ–¹ä¾¿è¿è¡Œä¸ç®¡ç† å¯ç®¡ç†çš„å®¹å™¨é•œåƒ é•œåƒå¤ªå¤§éš¾ä»¥ä¼ è¾“ é•œåƒå¤ªå°ä¼šç¼ºå¤±å¾ˆå¤šå·¥å…· åˆç†ç»™é•œåƒæ‰“æ ‡ç­¾ ä¸è¦ä½¿ç”¨latest ä½¿ç”¨å…·ä½“ç‰ˆæœ¬å· ä½¿ç”¨å¤šç»´åº¦çš„æ ‡ç­¾ ä½¿ç”¨æ³¨è§£æè¿°é¢å¤–ä¿¡æ¯ ä½¿ç”¨/dev/termination-log å†™å…¥å¤±è´¥ä¿¡æ¯ æ—¥å¿— å°†æ—¥å¿—æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºæ–¹ä¾¿æŸ¥çœ‹ é›†ä¸­å¼æ—¥å¿—ç³»ç»Ÿ åº”ç”¨æ‰©å±• CRDå¯¹è±¡ åˆ›å»º apiVersion: apiextensions.k8s.io/v1beta1 kind: CustomResourceDefinition metadata: name: websites.extensions.example.com spec: scope: Namespaced group: extensions.example.com version: v1 names: kind: Website singular: website plural: websites åˆ›å»ºCRDå®ä¾‹ apiVersion: extensions.example.com/v1 kind: Website metadata: name: kubia spec: gitRepo: https://github.com/luksa/kubia-website-example.git æœåŠ¡ç›®å½• æœåŠ¡ç›®å½•å°±æ˜¯åˆ—å‡ºæ‰€æœ‰æœåŠ¡çš„ç›®å½•ã€‚ ç”¨æˆ·å¯ä»¥æµè§ˆç›®å½•å¹¶è‡ªè¡Œè®¾ç½®ç›®å½•ä¸­åˆ—å‡ºçš„æœåŠ¡å®ä¾‹ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-09-19 07:47:46 "},"è¿ç»´/å®¹å™¨ç®¡ç†.html":{"url":"è¿ç»´/å®¹å™¨ç®¡ç†.html","title":"å®¹å™¨ç®¡ç†","keywords":"","body":"Rancher å¯ä»¥å¯¹å®¹å™¨è¿›è¡Œåˆ†ç±»ã€åˆ†ç¯å¢ƒç®¡ç†ï¼Œä»¥å›¾å½¢åŒ–ç•Œé¢æ“ä½œdocker Rancheræ˜¯ä¸€ä¸ªå¼€æºçš„ä¼ä¸šçº§å…¨æ ˆåŒ–å®¹å™¨éƒ¨ç½²åŠç®¡ç†å¹³å°ã€‚Rancherä¸ºå®¹å™¨æä¾›ä¸€æ½ å­åŸºç¡€æ¶æ„æœåŠ¡ï¼šCNIå…¼å®¹çš„ç½‘ç»œæœåŠ¡ã€å­˜å‚¨æœåŠ¡ã€ä¸»æœºç®¡ç†ã€è´Ÿè½½å‡è¡¡ã€é˜²æŠ¤å¢™â€¦â€¦ Rancherè®©ä¸Šè¿°æœåŠ¡è·¨è¶Šå…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€è™šæ‹Ÿæœºã€ç‰©ç†æœºç¯å¢ƒè¿è¡Œï¼ŒçœŸæ­£å®ç°ä¸€é”®å¼åº” ç”¨éƒ¨ç½²å’Œç®¡ç† ä¸»æœº åº”ç”¨ å®¹å™¨ æœåŠ¡ æ‰©å®¹ç¼©å®¹ influxDB InfluxDBæ˜¯ä¸€ä¸ªç”±InfluxDataå¼€å‘çš„å¼€æºæ—¶åºå‹æ•°æ®åº“ã€‚å®ƒç”±Goå†™æˆï¼Œç€åŠ›äºé«˜æ€§èƒ½åœ°æŸ¥è¯¢ä¸å­˜å‚¨æ—¶åºå‹æ•°æ®ã€‚InfluxDBè¢«å¹¿æ³›åº”ç”¨äºå­˜å‚¨ç³»ç»Ÿçš„ç›‘æ§æ•°æ®ï¼ŒIoTè¡Œä¸šçš„å®æ—¶æ•°æ®ç­‰åœºæ™¯ cAdvisor CAdvisoræ˜¯Googleå¼€æºçš„ä¸€æ¬¾ç”¨äºå±•ç¤ºå’Œåˆ†æå®¹å™¨è¿è¡ŒçŠ¶æ€çš„å¯è§†åŒ–å·¥å…·ã€‚é€šè¿‡åœ¨ä¸»æœºä¸Šè¿è¡ŒCAdvisorç”¨æˆ·å¯ä»¥è½»æ¾çš„è·å–åˆ°å½“å‰ä¸»æœºä¸Šå®¹å™¨çš„è¿è¡Œç»Ÿè®¡ä¿¡æ¯ï¼Œå¹¶ä»¥å›¾è¡¨çš„å½¢å¼å‘ç”¨æˆ·å±•ç¤º Grafana grafana æ˜¯ä¸€æ¬¾é‡‡ç”¨ go è¯­è¨€ç¼–å†™çš„å¼€æºåº”ç”¨ï¼Œä¸»è¦ç”¨äºå¤§è§„æ¨¡æŒ‡æ ‡æ•°æ®çš„å¯è§†åŒ–å±•ç°ï¼Œæ˜¯ç½‘ç»œæ¶æ„å’Œåº”ç”¨åˆ†æä¸­æœ€æµè¡Œçš„æ—¶åºæ•°æ®å±•ç¤ºå·¥å…·ï¼Œç›®å‰å·²ç»æ”¯æŒç»å¤§éƒ¨åˆ†å¸¸ç”¨çš„æ—¶åºæ•°æ®åº“ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2019-11-22 08:59:23 "},"é€šè¯†/nav.html":{"url":"é€šè¯†/nav.html","title":"ğŸ¥½é€šè¯†","keywords":"","body":"é€šè¯† MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 12:40:15 "},"é€šè¯†/é—®é¢˜è®°å½•.html":{"url":"é€šè¯†/é—®é¢˜è®°å½•.html","title":"é—®é¢˜è®°å½•","keywords":"","body":"é—®é¢˜è®°å½• DruidDatasourceåœ¨å¹¶å‘ç¯å¢ƒä¸‹å¡æ­»çš„é—®é¢˜ åœ¨æµ‹è¯•ä¸€ä¸ªå¹¶å‘å†™å…¥æ—¶ï¼Œå½“çº¿ç¨‹æ•°è¶…è¿‡ä¸€å®šé‡æ—¶ï¼Œå‘ç°çº¿ç¨‹é˜»å¡ä½äº†ã€‚ä½¿ç”¨VisualVM åˆ†æçº¿ç¨‹æ ˆ å‘ç°çº¿ç¨‹åœ¨druidç›¸å…³ä»£ç é™„è¿‘å¤„äºwatingçŠ¶æ€ï¼š druid é»˜è®¤çš„æœ€å¤§è¿æ¥ä¸º8 å°†å…¶è°ƒå¤§ä¸€ç‚¹å³å¯ã€‚ max-active: 50 remove-abandoned: true MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-06-10 02:35:43 "},"é€šè¯†/æŠ€æœ¯ä¸ä¸–ç•Œ.html":{"url":"é€šè¯†/æŠ€æœ¯ä¸ä¸–ç•Œ.html","title":"æŠ€æœ¯ä¸ä¸–ç•Œ","keywords":"","body":"æŠ€æœ¯ä¸ä¸–ç•Œ è½¯ä»¶å¼€å‘æ°¸è¿œä¸æ­¢æ˜¯å†™ä»£ç é‚£ä¹ˆç®€å• æŠ€æœ¯äººå‘˜ï¼Œå¾ˆå®¹æ˜“å°±é™·å…¥åˆ°â€œæŠ€æœ¯å°±æ˜¯ä¸€åˆ‡â€çš„æç«¯ä¸­ï¼Œå¾€å¾€æ˜¯åªè§æ ‘æœ¨ï¼Œä¸è§æ£®æ— ä»…ä»…æ˜¯æŠ€æœ¯å¥½ï¼Œæ˜¯ä¸å¤Ÿçš„ã€‚å¿…é¡»æœ‰æ›´å¤§çš„è§†é‡ï¼Œå¿…é¡»çœ‹æ›´å¤§çš„ä¸–ç•Œ ç¼–ç¨‹è¯­è¨€çš„å‘å±•è¶‹åŠ¿ ç°ä»£ç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥è¯´æ˜¯æŠ½è±¡ç¨‹åº¦æ›´é«˜äº†ï¼Œæ›´ç¬¦åˆäººç±»çš„æ€ç»´ é¢†åŸŸç‰¹å®šè¯­è¨€(DSL) åšç‰¹å®šé¢†åŸŸçš„äº‹æƒ…ï¼Œè€Œä¸ç”¨çº ç»“ä¸å¤ªå¤šçš„åº•å±‚ç»†èŠ‚ GPPL(é€šç”¨ç›®æ ‡è¯­è¨€) ç®—æ³• æ‰€ä»¥è¯´ï¼Œæƒ³è¦ç”¨ç®—æ³•æ¥å®¡æŸ¥è¿è§„å†…å®¹ï¼Œå¹¶éä¸€ä»¶è½»æ¾ä¹‹äº‹ äººç±»åˆ›å»ºäº†è¿™äº›ç®—æ³•ï¼Œå´æ— æ³•æ§åˆ¶è¿™äº›ç®—æ³•ã€‚ ç®—æ³•åªæ˜¯ä¼šå¿ å®å±¥è¡Œå®ƒè‡ªå·±åº”å°½çš„è´£ä»»ï¼Œå®ƒæ²¡æœ‰äººç±»çš„ç²¾ç¥ä¸–ç•Œï¼Œä¸»è§‚ã€‚ä½œæ¶è¿˜æ˜¯ä½œå–„éƒ½æ˜¯å–å†³äºº å¤§å¤šæ•°äººéƒ½ä¸ä¼šï¼Œä¹Ÿä¸å¯èƒ½ä½¿ç”¨å·¥ç¨‹å¸ˆçš„è§†è§’ï¼Œå»çœ‹å¾…æŠ€æœ¯ å½’æ ¹åˆ°åº•ï¼Œç®—æ³•åªæ˜¯ä¸€ä¸ªå·¥å…· æœºå™¨å­¦ä¹ çš„ç®—æ³• æœºå™¨å­¦ä¹ ç®—æ³•ä¸ä¼ ç»Ÿç®—æ³•çš„åŒºåˆ«åœ¨äºä¼ ç»Ÿç®—æ³•æ‰€æ‰§è¡Œçš„ï¼Œéƒ½æ˜¯ä¸€ç³»åˆ—å®šä¹‰å¥½çš„é€»è¾‘è§„åˆ™ è€Œç°å¦‚ä»Šçš„æœºå™¨å­¦ä¹ ï¼Œéƒ½æ˜¯é€šè¿‡è¾“å…¥æ•°æ®ä¸ç­”æ¡ˆï¼Œè®©æœºå™¨æ‰¾åˆ°è¿™ä¸­é—´çš„è”ç³»ï¼Œä»è€Œè¯†åˆ«æ–°æ•°æ® ç°åœ¨çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œå°±åƒæ˜¯ä¸ªé»‘ç›’å­ï¼Œæˆ‘ä»¬å°±åªçŸ¥é“å®ƒåšäº†ä»€ä¹ˆï¼Œè‡³äºä¸ºä»€ä¹ˆè¿™æ ·åšï¼Œä¸€æ¦‚ä¸çŸ¥ å®‰å…¨ ç´ æ•°ä¸å®‰å…¨ å­¦ä¹ ä¸æ™ºåŠ› å‹¤å­¦å¦‚æ˜¥èµ·ä¹‹è‹—ï¼Œä¸è§å…¶å¢ï¼Œæ—¥æœ‰æ‰€é•¿ å®Œç¾ä¸»ä¹‰ä¸å›«å›µåæ£ å­¦ä¹ çš„å¢ƒç•Œ äº†è§£ å…³é”®è¯ åŸç† å®è·µ åº”ç”¨ åˆ›é€  é—å¿˜ å¯¹äºé—å¿˜çš„çŸ¥è¯†ï¼Œé‡æ–°æ¡èµ·æ¥ï¼Œæ˜¯å¾ˆå®¹æ˜“çš„ å­¦ä¹ çš„æœ€ä½³æ—¶æœŸ ä¸è¦å¿½è§†æ—¶é—´çš„åŠ›é‡ æˆ–è®¸å­¦ä¹ çš„æ—¶é•¿è¿œæ¯”æ¥è§¦çš„æ—¶é—´é‡è¦çš„å¤š ä¼°ç®— è´¹ç±³ä¼°ç®—ï¼Œå…³é”®åœ¨äºå¯¹é—®é¢˜çš„æ‹†è§£å’Œè½¬æ¢ å› ç´ è¶Šå¤šï¼Œå¾—åˆ°çš„ä¼°ç®—å°±ä¼šè¶Šé è°± ä¿¡æ¯ ä»æ–‡å­—åˆ°å›¾ç‰‡ï¼Œå†åˆ°éŸ³è§†é¢‘ï¼Œä¸‹ä¸€ç§åª’ä½“å½¢å¼ï¼Œä¼šæ˜¯ä»€ä¹ˆï¼Ÿ è¯­è¨€çš„è¡¨ç°èƒ½åŠ›æ˜¯å¦è¿‡äºè‹ç™½ 5Gçš„çœŸæ­£ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿåªæ˜¯ä¼ è¾“ä¿¡æ¯æ›´å¿«ï¼Ÿ Iot ä¸¤ä¸ªæ—¶ä»£çš„äº¤æ›¿ï¼Œå°±ä¼šå‚¬ç”Ÿå‡ºæ–°çš„æœºä¼š äººä½“ æœ‰æ—¶å€™èº«ä½“æŸä¸€åœ°æ–¹å‡ºäº†æ¯›ç—…ï¼Œä¸ä»£è¡¨å°±çœŸçš„æ˜¯è¿™ä¸ªåœ°æ–¹å‡ºäº†æ¯›ç—…ï¼Œä¹Ÿè®¸æ˜¯å…¶ä»–åœ°æ–¹å‡ºäº†æ¯›ç—…æ‰€äº§ç”Ÿçš„å¹¶å‘ç—‡ å¤´ç—›åŒ»å¤´è„šç—›åŒ»è„šï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæ˜¯æœ‰é—®é¢˜çš„ æœºå™¨ åœ¨è‡ªåŠ¨åŒ–æŸä¸€ä¸ªè¿‡ç¨‹ä¹‹å‰ï¼Œä½ å¿…é¡»çŸ¥é“æ‰‹åŠ¨å®Œæˆè¿™ä»¶äº‹æƒ…çš„å…¨è¿‡ç¨‹ åœ¨æœ€å¼€å§‹ï¼Œè‡ªåŠ¨åŒ–æ˜¯éœ€è¦ä»˜å‡ºä¸€å®šçš„æˆæœ¬çš„ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¶Šå¾€åé¢ï¼Œå°±è¶Šèƒ½äº«å—åˆ°è‡ªåŠ¨åŒ–å¸¦æ¥çš„å¥½å¤„ è™½ç„¶è‡ªåŠ¨åŒ–çš„ä¸æ–­åº”ç”¨ï¼Œäººè‚¯å®šæ˜¯è¦è¢«æ…¢æ…¢æ›¿æ¢ä¸‹æ¥çš„ï¼Œä½†æ˜¯è‡ªåŠ¨åŒ–çš„å¢åŠ å¯èƒ½ä¼šå¢åŠ å‡ºæ–°å²—ä½å‡ºæ¥ï¼Œåªä¸è¿‡è¿™äº›å²—ä½ï¼Œè‚¯å®šæ²¡æœ‰ä¹‹å‰è½»æ¾ å•†ä¸š åšä¿¡æ¯çš„ç”Ÿæ„ï¼Œæ˜¯äº’è”ç½‘åˆ›ä¸šçš„æ ¸å¿ƒ è®¢é˜…æœåŠ¡ çœŸçš„æ›´ä¾¿å®œå—ï¼Ÿ æ¶ˆè´¹å¿ƒç† æ”¯ä»˜æ„æ„¿ä¸æ¥å—æ„æ„¿ æŠ€æœ¯ å¯¹äºæœ‰ä¸€äº›æŠ€æœ¯é¢†åŸŸï¼Œä¸€ä¸ªç¤¾ä¼šå®Œå…¨å¯ä»¥è·³è¿‡æŸä¸€ä¸ªæŠ€æœ¯é˜¶æ®µï¼Œç›´æ¥è¾¾åˆ°ä¸‹ä¸€ä¸ªæŠ€æœ¯é˜¶æ®µ å¤§å¤šæ•°äººä¸ä¼šè§‰å¾—ç°åœ¨è‡ªå·±ä½¿ç”¨çš„ï¼Œæ˜¯è½åçš„æŠ€æœ¯ äººç±»çš„å¤§è„‘å¥½åƒä¹Ÿæœ‰ç±»ä¼¼çš„è¿™æ ·ä¸€ç§â€œå…³é—­â€æœºåˆ¶ã€‚ä¸€æ—¦ä¸€ç§ç†Ÿæ‚‰çš„ï¼Œå¯ä»¥è§£å†³é—®é¢˜çš„æ–¹å¼è¿›å…¥äº†ï¼Œæˆ‘ä»¬çš„å¤§è„‘å°±ä¼šè‡ªç„¶åœ°æŠ—æ‹’ç¬¬äºŒç§æ–¹å¼çš„è¿›å…¥ èµ°å‡ºèˆ’é€‚åŒºå¾ˆå®¹æ˜“å— ç¤¾ä¼š é—®é¢˜åœ¨äºï¼Œåœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼Œä»€ä¹ˆæ˜¯å–„ï¼Œä»€ä¹ˆæ˜¯æ¶ï¼Œä»æ¥ä¸æ˜¯æ³¾æ¸­åˆ†æ˜çš„ è‡ªç”±çš„å¥½å¤„ è‡ªç”±çš„åå¤„ çœ‹å†å¤šâ€œåªå’Œè‡ªå·±æ¯”è¾ƒï¼Œä¸è¦é¡¾åŠåˆ«äººçš„çœ¼å…‰â€çš„æ–‡ç« ï¼Œæˆ‘ä»¬çš„å¤§è„‘ä¸€æ ·ä¼šä¸ç”±è‡ªä¸»åœ°å’Œåˆ«äººå»æ¯”è¾ƒ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-09 06:17:23 "},"é€šè¯†/ä¸“ä¸šç´ å…».html":{"url":"é€šè¯†/ä¸“ä¸šç´ å…».html","title":"ä¸“ä¸šç´ å…»","keywords":"","body":"ä¸“ä¸šç´ å…» å…³å¿ƒä½ çš„æŠ€è‰º æ€è€ƒä½ çš„ä½œä¸º ä¸“ä¸šä¸»ä¹‰ ä¸“ä¸šä¸»ä¹‰æ„å‘³ç€æ‹…å½“è´£ä»» æä¾›å„ç§é€‰æ‹© ä¸è¦æ‰¾è¹©è„šçš„å€Ÿå£ è¯´æ˜åšä¸åˆ°ä¹‹å‰ ç»™å‡ºæ‰€èƒ½ç»™å‡ºçš„æœ€å¥½æ–¹æ¡ˆä»¥å°è¯•æŒ½å› æŸå®³ è½¯ä»¶å‡ºç°bug å°±æ˜¯åœ¨æŸåè½¯ä»¶åŠŸèƒ½ ç¼–å†™æµ‹è¯• è®©å®ƒè‡ªåŠ¨åŒ–è·‘å‡ºèµ·æ¥ æµ‹è¯•è¶Šå¤š ä½ å¯¹è‡ªå·±çš„ä»£ç è¶Šæœ‰ä¿¡å¿ƒ ç‰ºç‰²ç»“æ„æ¥ä¿®æ”¹è½¯ä»¶ åæœæ˜¯å¾—ä¸å¿å¤± è½¯ä»¶çš„ç‰¹ç‚¹å°±åœ¨äºè½¯ å¦‚æœä¿®æ”¹éš¾ä»¥è¿›è¡Œ å°±ä»£è¡¨è®¾è®¡å‡ºç°äº†é—®é¢˜ ç•™ç€è¿™äº›ç ´çª—æˆ·åªä¼šå¯¼è‡´ç ´çª—è¶Šæ¥è¶Šå¤§ ä¸è¦å®¹å¿ç ´çª—æˆ· å½“è½¯ä»¶çš„ç†µè¶Šæ¥è¶Šå¤§æ—¶ è½¯ä»¶ä¹Ÿå°±è¶Šæ¥è¶Šæ— åºäº† ç§°ä¹‹ä¸ºè½¯ä»¶è…çƒ‚ ä½¿ç”¨æ— æƒ…é‡æ„çš„æ–¹å¼æ¥é¿å…ä»£ç æ…¢æ…¢è…çƒ‚ ä½†é‡æ„çš„å‰ææ˜¯å®Œå¤‡çš„æµ‹è¯• æµ‹è¯•æ˜¯è½¯ä»¶è´¨é‡çš„ä¿éšœ ç•™æ„ç¯å¢ƒ è­¦æƒ•é‚£äº›è½¯ä»¶è…è´¥çš„å°ç»†èŠ‚ èŒä¸šé“å¾· ä¸“ä¸šäººå£«åº”èˆå¾—æŠ•å…¥æ—¶é—´ä¸æ–­æå‡è‡ªå·± å˜å¾—æ›´åŠ ä¸“ä¸š ä¼¼ä¹è½¯ä»¶å¼€å‘è¿™ä¸ªé¢†åŸŸå‡ºç°çŸ¥è¯†å¤§çˆ†ç‚¸ æ„Ÿæ…¨å­¦ä¸è¿‡æ¥ ä½†ç›®å‰è¿™äº›æ‰€è°“çš„æµè¡ŒæŠ€æœ¯ ç»å¤§éƒ¨åˆ†éƒ½æ˜¯æ¥å¾—å¿«å»å¾—å¿« é‚£äº›æ¥ä¹‹ä¸æ˜“çš„ç†å¿µ ç»å¤§éƒ¨åˆ†åœ¨ä»Šå¤©ä»ç„¶ååˆ†æœ‰ä»·å€¼ åœ¨å­¦ä¹ æ—¶ åº”è¯¥æŠŠé‡ç‚¹æ”¾åœ¨è¿™è¾¹ è®¾è®¡æ¨¡å¼ è®¾è®¡åŸåˆ™ å¼€å‘æ–¹æ³• è½¯ä»¶å·¥ç¨‹å®è·µ ä¸ä¼šè¿‡æ—¶çš„å·¥å…· ... æŒç»­å­¦ä¹ æ‰ä¸è‡³äºè½ä¼ ä¸å†™ä»£ç çš„æ¶æ„å¸ˆå¿…ç„¶é­æ®ƒ è¿™ä¸ªè¡Œä¸šçš„çŸ¥è¯†æ›´æ–°è¿­ä»£çš„é€Ÿåº¦ååˆ†å¿«, ä½ éœ€è¦åƒé‡‘èæŠ•èµ„é‚£æ ·ç»è¥ä½ çš„çŸ¥è¯†èµ„äº§ï¼š å®šæœŸæŠ•èµ„è®©ä½ ä¸è‡³äºä½ çš„çŸ¥è¯†ä¸€æˆä¸å˜ è½ä¼ å¤šå…ƒåŒ– çŸ¥é“çš„ä¸åŒçš„äº‹æƒ…è¶Šå¤š è¶Šæœ‰ä»·å€¼ ç®¡ç†é£é™© æ–°å…´çŸ¥è¯†çš„æŠ•èµ„é«˜å›æŠ¥é«˜é£é™© ä¸è¦æŠŠæ‰€æœ‰çš„æŠ€æœ¯é¸¡è›‹æ”¾åœ¨åŒä¸€ä¸ªç¯®å­ éœ€è¦æ—¶ å¯¹æŠ•èµ„è¿›è¡Œé‡æ–°è¯„ä¼°ä¸é€‰æ‹© æ‰¹åˆ¤åˆ†æè¯»åˆ°å’Œå¬åˆ°çš„ ç»ƒä¹ èƒ½è®©ä½ çš„æŠ€è‰ºä¿æŒç†Ÿæ‚‰ ä»€ä¹ˆæ ·çš„ç»ƒä¹  åˆ·é¢˜? ä¸ä»–äººåˆä½œèƒ½ä»å½¼æ­¤èº«ä¸Šå­¦åˆ°å¾ˆå¤šä¸œè¥¿ è´¹æ›¼å­¦ä¹ æ³• æŠ€æœ¯äººå‘˜åº”ä»˜å‡ºæƒ³å½“çš„åŠªåŠ›æ¥è®¤è¯†ä¸šåŠ¡é¢†åŸŸ ç«™åœ¨é›‡ä¸»è§’åº¦å¼€å‘è½¯ä»¶ ä½¿è´¨é‡ç§°ä¸ºéœ€æ±‚é—®é¢˜, æœ‰æ—¶å€™éœ€è¦åœ¨å°½æ—©äº¤ä»˜ä¸å®Œç¾è½¯ä»¶ä¹‹å‰æƒè¡¡ ç¼–ç¨‹å°±åƒç»˜ç”» éœ€è¦çŸ¥é“ä½•æ—¶æ­¢æ­¥ ä¸€æ˜§æ±‚ç²¾åªä¼šå¯¼è‡´æŸæ¯æ‰ä½ çš„ç¨‹åº ä¸å¿…æ•…ä½œè°¦é€Š æ‘”äº†è·Ÿå¤´å¤§ä¸äº†ä¸€ç¬‘äº†ä¹‹ è¯´ä¸ é¢å¯¹è‰°éš¾å†³å®š ç›´æ¥é¢å¯¹æ˜¯æœ€å¥½çš„åŠæ³• å¯¹äºéæŠ€æœ¯äººå‘˜ â€ä¸ºä»€ä¹ˆâ€œåªæ˜¯ä¸ªæŠ€æœ¯ç»†èŠ‚ å¯¹å®ƒä»¬ä¿©è¯´ å¹¶ä¸é‡è¦ åˆé€‚çš„æ—¶æœºè¯´ä¸ æ„å‘³ç€å›¢é˜Ÿç²¾ç¥ æ„å‘³ç€å¯¹å›¢é˜Ÿè´Ÿè´£ å®¢æˆ·æ‰€è¦çš„ä»»ä½•ä¸€é¡¹åŠŸèƒ½ ä¸€æ—¦å†™èµ·æ¥ æ€»æ˜¯è¿œæ¯”å®ƒåˆšå¼€å§‹æ—¶è¯´çš„è¦å¤æ‚è®¸å¤š è¯´æ˜¯ æ¨¡ç³Šä¸æ¸…çš„è¯æ˜¯ç¼ºä¹æ‰¿è¯ºçš„å¾å…† ä½¿ç”¨å…·ä½“æ—¶é—´æ¥æ‰¿è¯º é‚£ä¹ˆå°±è¦ä¸ºæ‰¿è¯ºè´Ÿèµ·å…¨éƒ¨è´£ä»» åªèƒ½æ‰¿è¯ºè‡ªå·±èƒ½å®Œå…¨æŒæ¡çš„äº‹æƒ… å³ä½¿æ— æ³•å®Œæˆç›®æ ‡ ä¹Ÿè¯¥åŠªåŠ›å‰è¿› ç¦»ç›®æ ‡æ›´è¿‘ å¦‚æœæ— æ³•å…‘ç°æ‰¿è¯º åº”åŠæ—¶å‘å¸ƒé¢„è­¦ å¦‚ä½•è¯´æ˜¯ï¼š è¯•è¯•çœ‹æ„å‘³ç€ä¸ç¡®å®šæ„Ÿ å¯¹äºæ˜ç¡®æœ‰ç€ä¸ç¡®å®šçš„ä»»åŠ¡ åº”è¯¥è¡¨è¾¾å‡ºä¸ç¡®å®šæ„Ÿ åŒæ—¶ä»éœ€è¦åšå®ˆåŸåˆ™ ä½œä¸ºä¸€ä¸ªä¸“ä¸šäººå£« ç¼–ç  ä½ ä¸å¯èƒ½å†™å‡ºå®Œç¾çš„è½¯ä»¶ é˜²å¾¡å¼ç¼–ç¨‹ä¸ä»…ä»…é˜²å¾¡åˆ«äººçš„ä»£ç  è¿˜è¦é˜²å¾¡è‡ªå·± ä¼ ç»Ÿçš„ç€‘å¸ƒæ¨¡å‹ä¸€æ—¦è¿›å…¥ç¼–ç é˜¶æ®µ å°±æ˜¯æœºæ¢°åœ°å°†è®¾è®¡è½¬ä¸ºå¯æ‰§è¡Œè¯­å¥ è¿™ç§æ²¡æœ‰ä»»ä½•åˆ›é€ æ€§çš„ç¼–ç æˆ–è®¸æ˜¯é€ æˆè½¯ä»¶ç»“æ„ç³Ÿç³• ä½æ•ˆçš„åŸå›  å‡ºé”™æ„ŸçŸ¥èƒ½åŠ›èƒ½å¸®åŠ©ä½ æ›´å¿«é€Ÿåœ°ä»é”™è¯¯ä¸­å­¦ä¹  å‡†å¤‡ï¼š ç¼–ç å‰å¿…é¡»è¦ç†è§£è§£å†³çš„æ˜¯ä»€ä¹ˆé—®é¢˜ä»¥åŠè¯¥å¦‚ä½•è§£å†³ ç¡®ä¿ä»£ç èƒ½è§£å†³å®¢æˆ·çš„é—®é¢˜ è€Œéå®Œæˆéœ€æ±‚ æ–°çš„ä»£ç åº”èƒ½å®Œç¾é€‚åº”å½“å‰ç³»ç»Ÿ å†™ä¸‹çš„ä»£ç åº”è¯¥å…·æœ‰å¯è¯»æ€§ ç–²åŠ³ä¸å¿ƒçƒ¦æ„ä¹±ä¸‹çš„äº§å‡º æœ€ç»ˆåªèƒ½å›å¤´è¿”å·¥ ä¸€å‘³è¿½æ±‚é€Ÿåº¦å¯èƒ½ä¼šå¯¼è‡´æ€è€ƒè§’åº¦è¾¹ç‹­éš˜ ä»è€Œåšå‡ºä¸€äº›ä»¥åä¸å¾—ä¸æ¨åˆ°å†æ¥çš„å†³ç­– ç¼–ç¨‹æ—¶è¢«ä¸­æ–­å†å›æ¥ä¼šå¯¼è‡´ä¸Šä¸‹æ–‡æˆæœ¬åˆ‡æ¢å¾ˆé«˜ï¼š ç»“å¯¹ç¼–ç¨‹çš„ä¼™ä¼´å¯ä»¥å¸®åŠ©ç»´æŠ¤ä¸Šä¸‹æ–‡ TDDå¤±è´¥çš„æµ‹è¯•ä¹Ÿå¯ä»¥å¿«é€Ÿè®©ä½ å›åˆ°çŠ¶æ€ å¿ƒæƒ…/ç²¾ç¥ç­‰å› ç´ ä¼šé˜»å¡ä½ çš„åˆ›é€ æ€§è¾“å‡º ç›¸å ä¸€äº›åˆ›é€ æ€§è¾“å…¥å¯ä»¥æ¿€åŠ±ä½ äº§å‡º è°ƒè¯•æ—¶é—´çš„å¤šå°‘ä¸ä¸“ä¸šç¨‹åº¦æˆåæ¯” å‘ç€é›¶è°ƒè¯•æ—¶é—´å‰è¿› éš¾ä»¥è§£å†³çš„å›°éš¾ä¸å¦¨æ”¾ä¸€æ”¾ ç­‰å¾…çµæ„Ÿçš„åˆ°æ¥ å†²åˆºå¯ä»¥è§£å†³è¿›åº¦å»¶è¿Ÿé—®é¢˜ ä½†ä¸ä¸€å®šä¼šæˆåŠŸ éœ€è¦å‡†å¤‡åå¤‡é¢„æ¡ˆ åªæœ‰é€šè¿‡éªŒæ”¶æµ‹è¯• æŸä¸ªç‰¹æ€§æ‰èƒ½ç§°ä¹‹ä¸ºå®Œæˆ å¸®åŠ©ä»–äºº æ¥æ”¶ä»–äººçš„å¸®åŠ© åˆçº¦å¼ç¼–ç¨‹ DBC: å‰æ¡ä»¶ï¼šè°ƒç”¨ç¨‹åºå‰ å¿…é¡»ä¸ºçœŸçš„æ¡ä»¶ åæ¡ä»¶ï¼šç¨‹åºä¿è¯ä¼šåšçš„äº‹ ç±»ä¸å˜é¡¹ï¼šç¡®ä¿ä»è°ƒç”¨è€…çš„è§’åº¦çœ‹ æ€»æ˜¯ä¸ºçœŸçš„æ¡ä»¶ å®ç°æ–¹å¼ï¼š æ–­è¨€ ä½†æ˜¯æ— æ³•ç»§æ‰¿ éƒ¨åˆ†è¯­è¨€å†…ç½®æ”¯æŒ ä½†æ˜¯å¤§éƒ¨åˆ†è¯­è¨€ä¸æ”¯æŒ é€šè¿‡ä½¿ç”¨é¢„å¤„ç†å™¨æ¥å®ç°å®ƒ æ—©å´©æºƒï¼š é€šè¿‡æ£€æŸ¥å‰ç½®æ¡ä»¶ æ—©ä¸€ç‚¹æš´éœ²é”™è¯¯ è°ƒè¯•å°±ä¼šå®¹æ˜“è®¸å¤š å°½æ—©å´©æºƒæ¯”é€ æˆç ´åæ˜¯æ›´å¥½çš„é€‰æ‹© Javaä¸­çš„è¿è¡Œæ—¶å¼‚å¸¸é‡‡ç”¨äº†è¿™ä¸€å“²å­¦ ä¸å˜é¡¹ï¼š å¾ªç¯ä¸å˜é¡¹ï¼šå¾ªç¯çš„è¾¹ç•Œå¾ˆå®¹æ˜“å‡ºé”™ é€šè¿‡å®šä¹‰ä¸€ä¸ªä¸å˜é¡¹æ¥è¯æ˜ç»“æœæœ‰æ•ˆ è¯­ä¹‰ä¸å˜é¡¹ï¼šå®šä¹‰ä¸€ä¸ªåˆçº¦æ¥è¡¨è¾¾ä¸å¯è¿åçš„éœ€æ±‚ åŠ¨æ€åˆçº¦ä¸ä»£ç†ï¼šåˆçº¦å¯ä»¥å‘ç”Ÿå˜åŒ– æ–­è¨€å¼ç¼–ç¨‹ å¦‚æœå®ƒä¸å¯èƒ½å‘ç”Ÿ ç”¨æ–­è¨€ç¡®ä¿å®ƒä¸ä¼šå‘ç”Ÿ ä¸è¦å…³æ‰æ–­è¨€ è¿™ä¸–ç•Œå¾ˆå±é™© ç¨‹åºå¾ˆå®¹æ˜“å‡ºé”™ å¼‚å¸¸çš„ä½¿ç”¨ å¼‚å¸¸ä¸åº”è¯¥æ˜¯ç¨‹åºæ­£å¸¸æµç¨‹çš„ä¸€éƒ¨åˆ† è€Œæ˜¯ç•™ç»™æ„å¤–äº‹ä»¶ ä¸æ”¯æŒå¼‚å¸¸çš„ç¼–ç¨‹è¯­è¨€åªèƒ½ä½¿ç”¨é”™è¯¯å¤„ç†å™¨ cè¯­è¨€å¯ä»¥é€šè¿‡ä½¿ç”¨gotoçš„æ–¹å¼æ¥å®ç°å…¨å±€å¼‚å¸¸å¤„ç† èµ„æºçš„ä½¿ç”¨ æœ‰å§‹æœ‰ç»ˆ åˆ†é…èµ„æºçš„ç¨‹åºåº”è¯¥è´Ÿè´£å›æ”¶èµ„æº èµ„æºçš„åˆ†é…ï¼š ä»¥èµ„æºåˆ†é…çš„ååºé‡Šæ”¾èµ„æº è¿™æ ·å°±ä¸ä¼šé€ æˆèµ„æºè¢«é—å¼ƒ åˆ†é…åŒä¸€ç»„èµ„æºçš„æ—¶å€™ æ€»æ˜¯ä»¥ç›¸åŒçš„é¡ºåºè¿›è¡Œåˆ†é… è¿™å¯ä»¥é™ä½æ­»é”å‘ç”Ÿçš„å¯èƒ½æ€§ èµ„æºçš„é‡Šæ”¾ï¼š é€’å½’å›æ”¶ é¡¶å±‚å¯¹è±¡ä¸€æ—¦è¢«é‡Šæ”¾ å°±é€’å½’åœ°é‡Šæ”¾å­èµ„æº é¡¶å±‚å›æ”¶ å°±ç›´æ¥é—å¼ƒæ‰€æœ‰å­èµ„æº å¦‚æœé¡¶å±‚å«æœ‰å­èµ„æº åœ¨æ‰€æœ‰å­èµ„æºé‡Šæ”¾å‰ æ‹’ç»é‡Šæ”¾é¡¶å±‚ é å·§åˆç¼–ç¨‹ ç¼–ç¨‹æ—¶ ä¾èµ–ç€è®¸å¤šå‡å®šçš„æ¡ä»¶ æœ‰æ—¶å€™è¿™äº›æ¡ä»¶ä¹Ÿè®¸å­˜åœ¨ ä»è€Œä½ çš„ç¨‹åºèƒ½å¶å°”å¯ä»¥å·¥ä½œæ­£ç¡® ä½†æ›´å¤šåœ° å®ƒä¼šåœ¨ä½ æœªæ¥çš„æŸä¸€å¤©å´©æ‰ ç®—æ³•é€Ÿç‡ ä½¿ç”¨å¤§Oè¡¨ç¤ºæ³•ä¼°ç®—ä½ çš„ç®—æ³• é‡æ„ æ—©é‡æ„ å¸¸é‡æ„ é‡æ„å¿…æ— æƒ… ä½•æ—¶é‡æ„ï¼š é‡å¤ éæ­£äº¤è®¾è®¡ è¿‡æ—¶çš„çŸ¥è¯† ä¸ºäº†æ€§èƒ½ æ˜“äºæµ‹è¯•çš„ä»£ç  ä¸ºæµ‹è¯•è€Œè®¾è®¡ ä½¿ç”¨åˆçº¦å¼ç¼–ç¨‹æ¥æ¸…æ™°æµ‹è¯• è°¨æ…ä»£ç ç”Ÿæˆå™¨çš„ä½¿ç”¨ ä¸è¦ä½¿ç”¨ä½ ä¸ç†è§£çš„ä»£ç ä»£ç ç”Ÿæˆå™¨ è¿™äº›ä»£ç æœªæ¥å¯èƒ½ä¼šè·Ÿä½ ä½ ç¼–å†™çš„ä»£ç æŸ”å’Œåœ¨ä¸€èµ· å¦‚æœä¸ç†è§£å®ƒä»¬ æœªæ¥å°±æ˜¯ä¸€ä¸ªå®šæ—¶ç‚¸å¼¹ æ³¨é‡å®æ•ˆ é‡å¤ ç³»ç»Ÿä¸­çš„æ¯ä¸€é¡¹çŸ¥è¯†éƒ½å¿…é¡»å…·æœ‰å•ä¸€ æ— æ­§ä¹‰ æƒå¨çš„è¡¨ç¤º ä¸è¦é‡å¤ä½ è‡ªå·± å¼ºåŠ çš„é‡å¤ å¥½åƒè®©å¼€å‘è€…æ²¡å¾—é€‰æ‹© å¿…é¡»å†™é‡å¤çš„æ–‡æ¡£ åšé‡å¤çš„ç¼–ç  å¦‚æ ¹æ®è§„çº¦å†™å‡ºä»£ç  ä½†åªéœ€è¦åŠ¨ç”¨ä¸€ç‚¹å°æ‰æ™º å°±èƒ½è®©è¿™ä¸ªè¿‡ç¨‹è‡ªåŠ¨åŒ– æŠŠä½çº§çš„çŸ¥è¯†æ”¾åœ¨ä»£ç ä¸­ æŠŠæ³¨é‡Šç•™ç»™é«˜çº§çš„çŸ¥è¯† æ— æ„çš„é‡å¤ è¿™ç§é‡å¤ä¸€èˆ¬æ˜¯è®¾è®¡çš„é”™è¯¯ éœ€è¦ä»æ ¹æºè§£å†³é—®é¢˜ æ— è€æ€§çš„é‡å¤ å°±è·Ÿæåˆ°çš„èµ¶å·¥æœŸå–æ¶ˆå•å…ƒæµ‹è¯•ä¸€æ · ç¼–ç ä¸€æ—¶çˆ½ ç»´æŠ¤ç«è‘¬åœº å¼€å‘è€…çš„é‡å¤ è¿™ä¸ªé—®é¢˜ä¼¼ä¹åœ¨2020å¹´çš„ä»Šå¤©å·²ç»ä¸å­˜åœ¨ å¼€æºç¤¾åŒºçš„ç¹è£ä¿ƒä½¿å¼€å‘è€…ä»£ç å¤ç”¨å˜å¾—ååˆ†å®¹æ˜“ æ­£äº¤ æ¶ˆé™¤æ— å…³äº‹åŠ¡ä¹‹é—´çš„å½±å“ æ­£äº¤åœ¨å‡ ä½•ä¸­è¡¨ç¤ºçš„æ˜¯å¦‚æœä¸¤æ¡çº¿ç§°ç›´è§’ åˆ™å°±ç§°ä¹‹ä¸ºæ­£äº¤ å¯¹åº”åˆ°è®¡ç®—æœºä¸–ç•Œ å°±æ˜¯è§£è€¦ ä¸€ä¸ªæ¨¡å—çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°å¦å¤–ä¸€ä¸ªæ¨¡å— æ­£äº¤çš„å¥½å¤„ï¼š æé«˜ç”Ÿäº§ç‡ å°æ¨¡å—çš„ç¼–å†™æ€»æ¯”å¤§æ¨¡å—å®¹æ˜“ ä¿ƒè¿›å¤ç”¨ é™ä½é£é™© æœ‰é—®é¢˜çš„ä»£ç ä¼šè¢«éš”ç¦» æ”¹åŠ¨å½±å“çš„èŒƒå›´æœ‰é™ æµ‹è¯•æ›´å®¹æ˜“ åœ¨å›¢é˜Ÿä¸­ï¼šæ­£äº¤æ€§å·®çš„å›¢é˜Ÿæˆå‘˜èŒè´£è¾¹ç•Œä¸æ¸…æ™° åœ¨è®¾è®¡ä¸­ï¼šåˆ†å±‚çš„æ–¹æ³•æ˜¯è®¾è®¡æ­£äº¤ç³»ç»Ÿçš„å¼ºå¤§é€”å¾„ å¼•å…¥ç¬¬ä¸‰æ–¹åº“æ—¶ æ˜¯å¦éœ€è¦å¯¹å·²æœ‰ä»£ç è¿›è¡Œæ”¹åŠ¨ å¦‚æœæ˜¯ é‚£ä¹ˆå°±ä¸æ˜¯æ­£äº¤çš„ æ¯æ¬¡ç¼–å†™ç¼–ç  éƒ½æœ‰ç³»ç»Ÿé™ä½æ­£äº¤æ€§çš„é£é™© å‡ ä¸ªåŸåˆ™æ¥ç»´æŒæ­£äº¤æ€§ï¼š ä¿æŒä»£ç è§£è€¦ é¿å…ä¸å¿…è¦çš„æ•°æ®æš´éœ² ä½¿ç”¨OOPæ¥å°è£… é¿å…å…¨å±€å˜é‡ ä½¿ç”¨è®¾è®¡æ¨¡å¼ æ­£äº¤ä¹Ÿé€‚ç”¨äºæ–‡æ¡£ æ­£äº¤æ–‡æ¡£è¡¨ç°å½¢å¼ä¸å†…å®¹åˆ†ç¦» æ¯”å¦‚markdown å¯æ’¤é”€ å¦‚æœæŸä¸ªæƒ³æ³•æ˜¯å”¯ä¸€çš„æƒ³æ³• é‚£å°±å¤ªå±é™©äº† æ€»éœ€è¦ä¿æŒä»£ç çš„çµæ´»æ€§æ¥é¿å…å˜åŠ¨å¸¦æ¥çš„è¿”å·¥ ä¸å­˜åœ¨æœ€ç»ˆå†³ç­– æ›³å…‰å¼¹ å°æ­¥å¿«è·‘ å¿«é€Ÿè¿­ä»£ å¸®åŠ©ç”¨æˆ·æ˜ç¡®éœ€æ±‚ å°æ®µä»£ç çš„æƒ¯æ€§å¾ˆå° æ”¹å˜èµ·æ¥å¾ˆå®¹æ˜“ åŸå‹ä¸ä¾¿ç­¾ åº”åˆ¶ä½œåŸå‹çš„äº‹ç‰©ï¼š æ¶æ„ æ–°åŠŸèƒ½ å¤–éƒ¨æº æ€§èƒ½é—®é¢˜ç ”ç©¶ UI é€‚å½“ä½¿ç”¨åŸå‹ èŠ‚çº¦æ—¶é—´é‡‘é’± é¢†åŸŸè¯­è¨€ è®¡ç®—æœºè¯­è¨€ä¼šå½±å“æ€è€ƒé—®é¢˜çš„æ–¹å¼ é è¿‘é—®é¢˜é¢†åŸŸè¿›è¡Œç¼–ç¨‹ ç«™åœ¨æ›´é«˜çš„æŠ½è±¡å±‚é¢ å¿½ç•¥çç¢çš„ç»†èŠ‚ åŸºæœ¬å·¥å…· çº¯æ–‡æœ¬ ä½¿ç”¨çº¯æ–‡æœ¬ä¿å­˜çŸ¥è¯† äºŒè¿›åˆ¶æ•°æ®çš„é—®é¢˜åœ¨äºæ²¡æœ‰ç¬¬ä¸‰æ–¹å¯¹å…¶è§£æ è¿™äº›æ•°æ®æ¯«æ— æ„ä¹‰ æ–‡æœ¬çš„å¨åŠ›ï¼š ä¿è¯ä¸è¿‡æ—¶ äººèƒ½é˜…è¯»çš„æ•°æ® ä»¥åŠè‡ªæè¿°çš„æ•°æ® æ´»çš„æ›´ä¹… æ æ†ä½œç”¨ è®¡ç®—æœºä¸–ç•Œçš„è®¸å¤šå·¥å…·å¯¹æ–‡æœ¬çš„æ”¯æŒéƒ½ä¸é”™ unixä¸‹çš„å°å·¥å…· vcsç­‰ æ˜“äºæµ‹è¯• æ–‡æœ¬æµ‹è¯•æ•°æ®æ›´å®¹æ˜“ä¿®æ”¹ å¹¶ä¸”æ— éœ€ç‰¹æ®Šå·¥å…· çº¯æ–‡æœ¬åœ¨å¼‚æ„ç³»ç»Ÿä¸‹ååˆ†å¥½ç”¨ shell shellæ˜¯ä¸æ˜¯çœŸçš„æ¯”GUIå¥½ å¥½åœ¨å“ªé‡Œï¼Ÿ GUIæœ€è¦å‘½çš„ä¸€ç‚¹ é‚£å°±æ˜¯ä½¿ç”¨GUIå®Œæˆæ“ä½œå—é™äºGUIè®¾è®¡è€… ä½ æ‰€åšçš„ éƒ½æ˜¯åœ¨è®¾è®¡è€…ç»™ä½ çš„æ¡æ¡æ¡†æ¡†å†… åˆ©ç”¨å‘½ä»¤shellçš„åŠ›é‡ ä½ å¯ä»¥ä½¿ç”¨ç»„åˆå‚æ•° ç®¡é“ç­‰æ–¹å¼å¾—åˆ°ä¸€äº›ååˆ†å¼ºå¤§çš„å‘½ä»¤ ç¼–è¾‘å™¨ ç”¨å¥½ä¸€ç§ç¼–è¾‘å™¨ è¿™ä¸ªç¼–è¾‘å™¨åº”è¯¥èƒ½æ¨ªè·¨æ‰€æœ‰å¹³å°ï¼ˆGUI ä¸å‘½ä»¤è¡Œï¼‰ æˆ‘èƒ½æƒ³åˆ°çš„å°±åªæœ‰vim ä½†æ˜¯vscodeä¹Ÿç¬¦åˆéœ€æ±‚ å®ƒçš„ç¡®å¾ˆå¼ºå¤§ æºç æ§åˆ¶ æ€»æ˜¯ä½¿ç”¨æºç æ§åˆ¶ ä¸ä»…ä»…æ˜¯ä»£ç  ä¸€åˆ‡ä¸€åˆ‡éƒ½å¯ä»¥å­˜å…¥æºç æ§åˆ¶ç³»ç»Ÿ ä»–ç»™ä½ äº†ä½ åæ‚”çš„èƒ½åŠ› è°ƒè¯• è¦ä¿®æ­£é—®é¢˜ è€Œéå‘å‡ºæŒ‡è´£ ä¸è¦ææ…Œ ä½ æœ€å®¹æ˜“æ¬ºéª—çš„äººæ˜¯ä½ è‡ªå·± ä»ä½•å¼€å§‹ï¼š æ”¶é›†æ›´å¤šæ•°æ® ä»¥æ¸…æ¥šbug ç­–ç•¥ï¼š æŠŠä½ çš„æ•°æ®å¯è§†åŒ– è·Ÿè¸ªç¨‹åº è·Ÿè¸ªæ•°æ® æ©¡çš®é¸­è°ƒè¯•æ³• ä½ çš„ç¨‹åºå‡ºé”™çš„å¯èƒ½æ€§æ¯”å¤–éƒ¨ç¨‹åºå¤§ ä¸è¦å‡å®š è¦è¯æ˜ å‡ºç°äº†ä»¤ä½ æƒŠè®¶çš„bugå°±ä»£è¡¨ä½ ä¹‹å‰çš„å‡è®¾æ˜¯é”™çš„ æ–‡æœ¬æ“çºµè¯­è¨€ å­¦ä¹ ä¸€é—¨æ–‡æœ¬æ“çºµè¯­è¨€å¯ä»¥æœ‰æ•ˆæå‡æ•ˆç‡ ä»£ç ç”Ÿæˆå™¨ ç¼–å†™èƒ½ç”Ÿæˆä»£ç çš„ä»£ç  è¢«åŠ¨ä»£ç ç”Ÿæˆå™¨ï¼šç”Ÿæˆç»“æœ ç»“æœå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ ä¸»åŠ¨ä»£ç ç”Ÿæˆå™¨ï¼šéœ€è¦æ—¶è¿›è¡Œç”Ÿæˆç»“æœ ç»“æœç”¨å®Œå°±æ‰” ä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä¸ä»…ä»…å¯ä»¥æ˜¯ä»£ç  ç»ƒä¹  ç”¨è‡ªå·±çš„æ—¶é—´ç»ƒä¹  ä¿æŒè‡ªå·±çš„æŠ€èƒ½ä¸è½ä¼æ˜¯è‡ªå·±çš„è´£ä»» éªŒæ”¶æµ‹è¯• éœ€æ±‚ è¿‡æ—©ç²¾ç»†åŒ–å¸¦æ¥çš„é—®é¢˜ï¼š æ¯æ¬¡å‘ä¸šåŠ¡æ”¾å±•ç¤ºä¸€é¡¹åŠŸèƒ½ ä»–ä»¬å°±è·å¾—æ¯”ä¹‹å‰æ›´å¤šçš„ä¿¡æ¯ è¿™äº›ä¿¡æ¯åˆä¼šå½±å“ä»–ä»¬çš„çœ‹æ³• æå‡ºæ–°çš„è§‚ç‚¹ éœ€æ±‚ä¸€å®šä¼šå˜åŒ– è¿‡äºç²¾ç¡®çš„è¯„ä¼°æ— æ•ˆ ä½†æ˜¯æ‹’ç»è¿‡æ—©ç²¾ç»†åŒ–åˆä¼šå¸¦æ¥æ¨¡ç³Šæ€§ éªŒæ”¶æµ‹è¯• å…¶ç›®çš„ç¡®å®šéœ€æ±‚å·²ç»å®Œæˆ ä½•ä¸ºå·²ç»å®Œæˆï¼šä»£ç éƒ½å†™å®Œäº† æµ‹è¯•éƒ½é€šè¿‡äº† QAå’Œéœ€æ±‚æ–¹éƒ½è®¤å¯ é€šè¿‡æ²Ÿé€šç¡®ä¿å¤§å®¶éƒ½æ˜ç™½è¦åšçš„ä»€ä¹ˆ éªŒæ”¶æµ‹è¯•åº”å½“è‡ªåŠ¨åŒ–è¿›è¡Œ æ‰‹å·¥æµ‹è¯•çš„æˆæœ¬å¤ªé«˜ éªŒæ”¶æµ‹è¯•çš„è¿›è¡Œè¶Šæ™šè¶Šå¥½ éœ€æ±‚ä¸€å®šä¼šå˜åŒ– ç†æƒ³æƒ…å†µä¸‹ åº”è¯¥ç”±ä¸šåŠ¡æ–¹ä»¥åŠQAæ¥ç¼–å†™è¿™äº›æµ‹è¯• åå•†å¹¶æ”¹è¿›æµ‹è¯•æ—¶ä¸“ä¸šå¼€å‘äººå‘˜çš„èŒè´£ å•å…ƒæµ‹è¯•ä¸éªŒæ”¶æµ‹è¯•çš„åŒºåˆ«åœ¨å•å…ƒæµ‹è¯•æ—¶ç™½ç›’ éªŒæ”¶æ˜¯é»‘ç›’ å¯¹äºGUIæµ‹è¯• è¿›è¡Œæ—¶å¿…é¡»ä½¿ç”¨GUIèƒŒåæ–‡æ¡£çš„æŠ½è±¡å…ƒç´  ä½†æ˜¯GUIæµ‹è¯•è¿˜æ˜¯åº”å°½å¯èƒ½å‡å°‘ è®¾è®¡æ—¶åšåˆ°GUIä¸ä¸šåŠ¡é€»è¾‘çš„è§£è€¦ GUIæµ‹è¯•æ—¶ä¸ç¨³å®šçš„ ä½¿ç”¨æŒç»­é›†æˆç¡®ä¿æ–°å¢çš„ä»£ç ä¸ä¼šå¯¼è‡´æµ‹è¯•å¤±è´¥ å¦åˆ™ä¿®å¤å¤±è´¥æ˜¯ç¬¬ä¸€é‡è¦ä»»åŠ¡ æµ‹è¯•ç­–ç•¥ å¼€å‘äººå‘˜ä¸QAæºæ‰‹ä¿éšœç³»ç»Ÿè´¨é‡ è‡ªåŠ¨åŒ–æµ‹è¯•é‡‘å­—å¡”ï¼š å•å…ƒæµ‹è¯•ä½œä¸ºæŒç»­é›†æˆçš„ä¸€éƒ¨åˆ†æ¥è¿è¡Œ ç»„ä»¶æµ‹è¯•éœ€è¦ä½¿ç”¨åˆé€‚çš„æ¨¡æ‹Ÿ è¾“å…¥æ•°æ® æ”¶é›†è¾“å‡º éªŒè¯æ˜¯å¦ç¬¦åˆé¢„æœŸ é›†æˆæµ‹è¯•ä¸»è¦æµ‹è¯•ç»„ä»¶è£…é…åœ¨ä¸€èµ·æ˜¯å¦åè°ƒ ç³»ç»Ÿæµ‹è¯•æµ‹è¯•ç³»ç»Ÿæ˜¯å¦å·²æ­£ç¡®ç»„è£…å®Œæ¯• å„ä¸ªç»„ä»¶ä¹‹é—´æ˜¯å¦èƒ½æ­£ç¡®äº¤äº’ æœ€åä½¿ç”¨äººå·¥æ¢ç´¢å¼æµ‹è¯•å°½å¯èƒ½æ‰¾å‡ºå¤šçš„å¤æ€ªä¹‹å¤„ æ—¶é—´ç®¡ç† ç¦»å¼€æ²¡å¿…è¦çš„ä¼šè®® æŒ‰ç…§çœŸå®çš„ç´§æ€¥ç¨‹åº¦æ¥æ‰§è¡Œä»»åŠ¡ è¿›å…¥æ­»èƒ¡åŒæˆ–è€…æ³¥æ½­æ—¶ ä½ å¯ä»¥å›å¤´ä¿®æ­£è®¾è®¡ ä¹Ÿå¯ä»¥ç»§ç»­å‘æ­»è·¯èµ°ä¸‹å» ä½†èµ°å›å¤´è·¯æ˜¯æœ€ç®€å•çš„åŠæ³• é¢„ä¼° ä¼°ç®—ï¼Œä»¥é¿å…å‘ç”Ÿæ„å¤– æ ¹æ®å®é™…æƒ…å†µæ¥è°ƒæ•´ä½ çš„ä¼°ç®— ä½¿ç”¨çš„å•ä½ä¼šå¯¹ç»“æœçš„è§£è¯»é€ æˆå½±å“ æ‰¿è¯ºæ˜¯å…³ä¹ç¡®å®šæ€§çš„ é¢„ä¼°æ˜¯ä¸€ç§çŒœæµ‹ å°½å¯èƒ½è¯´æ˜é¢„ä¼°çš„æ¦‚ç‡åˆ†å¸ƒ ä¸‰å…ƒåˆ†ææ³•ï¼š ä¹è§‚é¢„ä¼° æ ‡ç§°é¢„ä¼° æ‚²è§‚é¢„ä¼° å‹åŠ› ä¿æŒå†·é™çš„æœ€å¥½æ–¹å¼ ä¾¿æ˜¯è§„é¿ä¼šå¯¼è‡´å‹åŠ›çš„å¤„å¢ƒ å°½åŠ›ä¸ºå…¶ä»–äººçš„æ‰¿è¯ºæ‰¾åˆ°è§£å†³æ–¹æ³• ä½†å¹¶éè¦ä¸ºåˆ«äººçš„æ‰¿è¯ºä»˜å‡ºä»£ä»· ä¿æŒæ•´æ´ ä¸èƒ½å› å‹åŠ›è€Œç ´ååŸåˆ™ å¿«è€Œè„æ˜¯çŸ›ç›¾çš„ éµå¾ªé‚£äº›ä»ä¼šåœ¨å±æœºæ—¶åˆ»éµå¾ªçš„åŸåˆ™ è¿™äº›åŸåˆ™æ˜¯é¿å…é™·å…¥å±æœºçš„æœ€å¥½é€”å¾„ é¿å…äº§ç”Ÿå­¤æ³¨ä¸€æ·çš„æƒ³æ³• ä»“ä¿ƒé²è½åªä¼šæŠŠä½ ä»£å…¥æ›´æ·±çš„æ·±æ¸Š åä½œ ç¨‹åºå‘˜çš„å·¥ä½œèŒè´£å°±æ˜¯è¦è®©ä¸šåŠ¡å…äºé™·å…¥å›°é¡¿ ä»£ç å…±æœ‰æ¯”ä»£ç ç§æœ‰å¸¦æ¥çš„å¥½å¤„è¦æ›´åŠ å¤š ç»“å¯¹ç¼–ç¨‹ä¸ä»…ä¿ƒè¿›çŸ¥è¯†ä¼ æ’­ åŒæ—¶ä¹Ÿæ˜¯å¤æŸ¥ä»£ç çš„ä¸€ç§æ‰‹æ®µ è¯´ä»€ä¹ˆä¸æ€ä¹ˆè¯´åŒæ ·é‡è¦ åšå˜åŒ–çš„å‚¬åŒ–å‰‚ è§£è€¦ è¿ªç±³ç‰¹æ³•åˆ™ è¯¥æ³•åˆ™è¯•å›¾ä½¿å„ä¸ªæ¨¡å—çš„è€¦åˆé™è‡³æœ€ä½ å·¥ç¨‹éœ€è¦å¹³è¡¡å„ç§è¯æ˜å› ç´ å’Œè´Ÿé¢å› ç´  å¸¦æ¥è§£è€¦çš„å¥½å¤„ å°±ä¼šå¸¦æ¥å…¶ä»–ä»£ä»· å…ƒç¨‹åºè®¾è®¡ å…ƒæ•°æ®æ˜¯æè¿°æ•°æ®çš„æ•°æ® é‚£ä¹ˆå…ƒç¨‹åºå°±æ˜¯å…ƒæ•°æ®é©±åŠ¨çš„å¼•ç”¨ å°†æŠ½è±¡æ”¾è¿›ä»£ç  ç»†èŠ‚æ”¾è¿›å…ƒæ•°æ® å¥½å¤„ï¼š è€¦åˆæ›´ä½ æ¨è¿Ÿç»†èŠ‚å†³å®š æ— éœ€é‡æ–°ç¼–è¯‘ æ›´æ¥è¿‘äºé¢†åŸŸæ¨¡å‹ å¯ä»¥é€šè¿‡è°ƒæ•´å…ƒæ•°æ®å®ç°ä¸åŒçš„åº”ç”¨ å¯é…ç½®çš„åº”ç”¨ é…ç½®åº¦è¶Šé«˜ å°±ä»£è¡¨ç¨‹åºè¶ŠæŠ½è±¡ è¶ŠæŠ½è±¡çš„ç¨‹åºè¶Šå®¹æ˜“å¤ç”¨ æ—¶é—´è€¦åˆ ç›¸è¾ƒäºå¹¶å‘ç¨‹åº é¡ºåºç¨‹åºæ›´ç¬¦åˆäººçš„é€»è¾‘ å¦‚æœå®¹è®¸å¹¶å‘ å°±ä»£è¡¨ä¸æ—¶é—´çš„è€¦åˆåº¦é™ä½äº† å¹¶å†è®¾è®¡ä¸Šäºˆä»¥æ”¯æŒ è™½ç„¶ä¸ç¬¦åˆäººçš„æ­£å¸¸æ€ç»´ ä½†å¯ä»¥è·å¾—æ›´å¼ºçš„çµæ´»æ€§ åˆ†æå·¥ä½œæµ ä»¥æ”¹å–„å¹¶å‘æ€§ ç”¨å®šä¹‰è‰¯å¥½çš„ æ¥å£ä¸€è‡´çš„æœåŠ¡æ¥è¿›è¡Œè®¾è®¡ ä¸ºå¹¶å‘è€Œè®¾è®¡èƒ½ä¿ƒä½¿ä½ è®¾è®¡æ›´åŠ ç®€æ´çš„æ¥å£ ä¸€æ—¦å…·æœ‰äº†å¹¶å‘çš„è¦ç´  éƒ¨ç½²èµ·æ¥æ›´åŠ å®¹æ˜“ å› ä¸ºä¸ä¼šæœ‰å¼ºä¾èµ–çš„æƒ…å†µäº§ç”Ÿ æ‰€è°“å¼ºä¾èµ–å°±æ˜¯éƒ¨ç½²aä¹‹å‰å¿…é¡»éƒ¨ç½²b åªæ˜¯è§†å›¾ å‘å¸ƒè®¢é˜…æ¨¡å¼ MVCä¸­çš„è§†å›¾ä¸æ¨¡å‹åˆ†ç¦» è¿™æ¡åŸåˆ™ä¸ä»…é€‚ç”¨äºGUI è€Œæ˜¯ä¸€æ¡é€šç”¨çš„ç¼–ç å‡†åˆ™ ç”¨æ¥é™ä½è€¦åˆ é¡¹ç›® éœ€æ±‚ ä¸è¦æ”¶é›†éœ€æ±‚ è€Œæ˜¯æŒ–æ˜å®ƒ æ·±åˆ»æ˜ç™½å®¢æˆ·æ‰€æçš„éœ€æ±‚å¯èƒ½æ˜¯è¡¨è±¡ è¦é€šè¿‡è¡¨è±¡æ´å¯Ÿå…¶æœ¬è´¨ å»ºç«‹éœ€æ±‚æ–‡æ¡£ï¼šä¸ç®¡æ˜¯å½¢å¼åŒ–è¿˜æ˜¯éå½¢å¼åŒ– ä¸ç®¡æ˜¯ç”¨ä¾‹è¿˜æ˜¯æ™®é€šæµç¨‹å›¾ é¿å…è¿‡åº¦ï¼šæ–‡æ¡£æ¯”ä»£ç çš„å¥½å¤„å°±æ˜¯å¯ä»¥æ¨¡ç³Šä¸æ¸… æ–‡æ¡£ä¸å¿…è¿‡äºå…·ä½“ ä¿æŒé€‚å½“æŠ½è±¡ æŠ½è±¡æ¯”ç»†èŠ‚è·å¾—æ›´åŠ é•¿ä¹… è¿½è¸ªéœ€æ±‚ï¼šé€šè¿‡å»ºç«‹ä¸€ç³»åˆ—è·Ÿè¸ªè®¡åˆ’æ¥é¿å…ç‰¹æ€§è†¨èƒ€ ç»´æŠ¤ä¸€å¼ è¯æ±‡è¡¨ï¼šå»ºç«‹ä¸šåŠ¡é¢†åŸŸä¸æŠ€æœ¯é¢†åŸŸä¹‹é—´çš„æ˜ å°„ è¿™äº›éœ€æ±‚æ–‡æ¡£çš„åˆ†å‘å¯ä»¥å€ŸåŠ©äºVCSä»¥åŠWeb åˆåšåˆå¤§çš„æ‰“å°æ–‡æ¡£ä¸ä»…è´¹æ—¶è´¹åŠ›è€Œä¸”å®¹æ˜“è¿‡æ—¶ è§£å†³é—®é¢˜ ä¸€ä¸ªéš¾é¢˜çš„æœ€ç»ˆè§£å†³æ–¹æ¡ˆæ˜¯ä¸€ä¸ªåˆšå¼€å§‹çœ‹èµ·æ¥ä¸å¤ªé€‚ç”¨çš„æ–¹æ¡ˆ å°è¯•æ€è€ƒè¢«æ’é™¤çš„æ–¹æ¡ˆ å‡†å¤‡å¥½äº†å— å¯¹äºåå¤å‡ºç°çš„ç„¦è™‘ éœ€è¦é‡è§†å®ƒ å‡†å¤‡å¥½å†å¼€å§‹ å¦‚ä½¿ç”¨åŸå‹æ¥éªŒè¯æƒ³æ³•æ˜¯å¦å¯è¡Œ è§„èŒƒé™·é˜± ä¸åº”è¯¥å°†éœ€æ±‚åˆ†æä»¥åŠç¼–ç åˆ†è£‚æˆä¸åŒçš„è¿‡ç¨‹ è¿™äº›è¿‡ç¨‹ç›¸è¾…ç›¸æˆ ä¹Ÿä¸åº”è¯¥å°†è§„çº¦è®¾è®¡åˆ°ç¼–ç æ—¶æ¯«æ— å‘æŒ¥æŠ€å·§çš„ä½™åœ° åœ†åœˆä¸ç®­å¤´ ä¸è¦åšå½¢å¼åŒ–æ–¹æ³•çš„å¥´éš¶ ç¼–ç æ˜¯ä¸€ä¸ªåˆ›é€ æ€§è¿‡ç¨‹ æ˜‚è´µçš„å·¥å…·ä¸ä¸€å®šèƒ½åˆ¶ä½œå‡ºæ›´å¥½çš„è®¾è®¡ å›¢é˜Ÿ ä¸è¦ç•™ç ´çª—æˆ· ç ´çª—æˆ·æœ€ç»ˆåªä¼šè¶Šæ¥è¶Šç ´ ä¸è¦åšæ¸©æ°´é‡Œçš„é’è›™ è­¦æƒ•é‚£äº›ä½¿é¡¹ç›®å¤±è´¥çš„å°ç»†èŠ‚ äº¤æµå¤±è´¥çš„å›¢é˜Ÿæ³¨å®šä¼šå¤±è´¥ DRY:å›¢é˜Ÿæˆå‘˜çš„å·¥ä½œé‡å¤ä¸ä»…å¸¦æ¥æµªè´¹ è€Œä¸”ç»´æŠ¤è¿˜å¯èƒ½æ˜¯å™©æ¢¦ å›´ç»•åŠŸèƒ½è€Œéå·¥ä½œèŒåŠ¡è¿›è¡Œç»„ç»‡äººå‘˜ å°±åƒå›´ç»•ä¸šåŠ¡è€ŒéæŠ€æœ¯ æŠµæŠ—ä¸æ–­ç”»ä¸‹å»çš„è¯±æƒ‘ è‡ªåŠ¨åŒ– æ‰‹å·¥æµç¨‹æ˜¯ä¸å¯é çš„ æ„å»ºè‡ªåŠ¨åŒ– è‡ªåŠ¨åŒ–ç®¡ç† ç½‘ç«™ç”Ÿæˆ æ‰¹å‡†æµç¨‹ æ— æƒ…çš„æµ‹è¯• æ—©æµ‹è¯• å¸¸æµ‹è¯• æµ‹è¯•å¿…æ— æƒ… MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-13 11:19:01 "},"é€šè¯†/è®¾è®¡.html":{"url":"é€šè¯†/è®¾è®¡.html","title":"è®¾è®¡","keywords":"","body":"è®¾è®¡ ä»€ä¹ˆæ˜¯è®¾è®¡ï¼š MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-10-18 11:19:14 "},"é€šè¯†/ç¼–ç¨‹æ€æƒ³.html":{"url":"é€šè¯†/ç¼–ç¨‹æ€æƒ³.html","title":"ç¼–ç¨‹æ€æƒ³","keywords":"","body":"ç¼–ç¨‹æ€æƒ³ ç¼–ç¨‹è¯­è¨€ è¯­æ³• æ•°æ®ç»“æ„ ç¼–ç¨‹æ¨¡å‹ é¢å‘å¯¹è±¡ é¢å‘è¿‡ç¨‹ ç¼–ç¨‹æ€æƒ³ å¥‘çº¦ç¼–ç¨‹ è®¾è®¡æ¨¡å¼ OOP å°è£…ç»§æ‰¿å¤šæ€ AOP é™æ€æ¥å£ åŠ¨æ€ä»£ç† å­—èŠ‚ç  é¢å‘å…ƒæ•°æ®ç¼–ç¨‹ metadata æ³›å‹ åå°„ æ³¨è§£ å‡½æ•°å¼ç¼–ç¨‹ å‡½æ•°å¼æ¥å£ é»˜è®¤æ–¹æ³• æ–¹æ³•å¼•ç”¨ å¥‘çº¦ç¼–ç¨‹ è¯­ä¹‰ è®¾è®¡æ¨¡å¼ æœ€åŸºæœ¬ï¼š23è®¾è®¡æ¨¡å¼ é¢å‘å¯¹è±¡è®¾è®¡æ¨¡å¼,é¢å‘åˆ‡é¢è®¾è®¡æ¨¡å¼... æ¨¡å¼é©±åŠ¨ æ¥å£é©±åŠ¨ é…ç½®é©±åŠ¨ æ³¨è§£é©±åŠ¨ å‡½æ•°é©±åŠ¨ æ¨¡å—é©±åŠ¨ é¢†åŸŸé©±åŠ¨ è§£å†³çš„é—®é¢˜ï¼šç³»ç»Ÿè§„æ¨¡æ—¥ç›Šå˜å¤§ é¢†åŸŸ ä¸šåŠ¡é—®é¢˜æ¨¡å— é©±åŠ¨ é©±åŠ¨è®¾è®¡ å…³æ³¨é¢†åŸŸï¼Œè€Œéç»†èŠ‚ é©±åŠ¨ä»£ç å®ç° å®æ–½ ç†è§£é¢†åŸŸ é¢†åŸŸä¸“å®¶ æ‹†åˆ†é¢†åŸŸ ç»†åŒ–å­åŸŸ æ ‡å‡† ä¸šåŠ¡è§„åˆ™ ä¸šåŠ¡åœºæ™¯ ä¸šåŠ¡æµç¨‹ çº¦æŸé¢†åŸŸ åˆ’åˆ†è¾¹ç•Œ è°ƒè¯• ç¬¬ä¸€æ­¥ï¼šé‡ç°é—®é¢˜ ç¬¬äºŒæ­¥ï¼šæ€è€ƒåŸå›  ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å‡è®¾ å¦‚æœæ— æ³•ç¡®å®šé—®é¢˜ï¼Œå¯ä»¥ç¼©å°èŒƒå›´ ä¿®å¤bugåº”äº†è§£å…¶äº§ç”ŸåŸå›  æŠ½è±¡ æŠ½è±¡æ›´æ¥è¿‘é—®é¢˜çš„æœ¬è´¨ å¯»æ‰¾å…±æ€§ æå‡æŠ½è±¡å±‚æ¬¡ åˆ†æ²» å‡½æ•°åˆ†è§£ ä¼˜é›…çš„ä»£ç ä¸æ˜¯ä¸€æ¬¡å†™æˆçš„ åˆ†æ²»æ¨¡å¼ pipline åˆ†å±‚è®¾è®¡ å‚ç›´æ‹†åˆ†/æ°´å¹³æ‹†åˆ† ç¼–ç¨‹ç ç‘ çµå…‰ä¸€ç°çš„ç®—æ³• æ•°æ®ç»“æ„å†³å®šç¨‹åº ä½¿ç”¨æ›´åˆé€‚çš„æ•°æ®ç»“æ„èƒ½å‡å°‘ä»£ç é‡ æ­£ç¡®çš„ç¨‹åº æ–­è¨€ æµ‹è¯• æ€§èƒ½åˆ†æ é—®é¢˜å®šä¹‰ ç³»ç»Ÿç»“æ„ ç®—æ³•ä¸æ•°æ®ç»“æ„ ä»£ç è°ƒä¼˜ ç³»ç»Ÿè½¯ä»¶ ç¡¬ä»¶ ä¼°ç®— ä½¿ç”¨å°å®éªŒè·å–å…³é”®å‚æ•° ä»»ä½•äº‹éƒ½åº”å°½é‡ç®€å• ä½†ä¸å®œè¿‡äºç®€å• ç®—æ³•è®¾è®¡ ä¿å­˜çŠ¶æ€ é¿å…é‡å¤è®¡ç®— åŠ¨æ€è§„åˆ’ å¯¹ä¿¡æ¯è¿›è¡Œé¢„å¤„ç†è‡³æ•°æ®ç»“æ„ä¸­ åˆ†æ²»ç®—æ³• æ‰«æç®—æ³• è¿˜æ˜¯åŠ¨æ€è§„åˆ’ ä»£ç è°ƒä¼˜ ä¸æˆç†Ÿçš„ä¼˜åŒ–æ˜¯å¤§é‡ç¼–ç¨‹ç¾å®³çš„æ ¹æº éœ€è¦æœ‰ä¸€ä¸ªåº¦é‡å·¥å…· æ³¨æ„ä»£ç è°ƒä¼˜æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ ä¸€äº›ä¼˜åŒ–æ–¹æ¡ˆï¼š ç¼“å­˜ ç­‰ä»·çš„ä»£æ•°è¡¨è¾¾å¼ å†…è”å‡½æ•°é¿å…å‡½æ•°è°ƒç”¨å¼€é”€ å¾ªç¯å±•å¼€ ä¿®æ”¹æ•°æ®ç»“æ„ èŠ‚çœç©ºé—´ è°ƒæ•´æ•°æ®ç»“æ„ ä½¿ç”¨è®¡ç®—ä»£æ›¿å­˜å‚¨ ç¨€ç–æ•°æ®ç»“æ„ å…³é”®å­—ç´¢å¼• æ•°æ®å‹ç¼© åŠ¨æ€åºŸå“ åƒåœ¾å›æ”¶ è‡ªæè¿°æ•°æ® KVå¯¹ æ³¨é‡Šæ–‡æ¡£ æºä»£ç æè¿° æŠ€å·§ æ˜ç™½ç”¨æˆ·çš„çœŸå®éœ€æ±‚ è¯„ä¼°æˆæœ¬ä¸æ”¶ç›Š æ­£ç¡®è¯„ä¼°é—®é¢˜çš„éš¾åº¦ æ­£ç¡®çš„å·¥å…· MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-07-26 06:58:51 "},"é€šè¯†/æµ‹è¯•ä¸æ€ç»´.html":{"url":"é€šè¯†/æµ‹è¯•ä¸æ€ç»´.html","title":"æµ‹è¯•ä¸æ€ç»´","keywords":"","body":"æµ‹è¯•ä¸æ€ç»´ ä¼˜ç§€çš„æµ‹è¯•æ€ç»´ æ•æ„Ÿï¼šèƒ½æ•é”åœ°é€è¿‡ç°è±¡çœ‹æœ¬è´¨ å¥½å¥‡å¿ƒï¼šå¯¹äºä¸€ä»¶äº‹æƒ…ï¼Œä¸åº”è¯¥åªæµ…å°è¡¨é¢ï¼Œè€Œåº”è¯¥æœç€æ¢ç´¢æœªçŸ¥ã€æ¢ç´¢æ·±å…¥çš„æ–¹å‘ ä¹è§‚ï¼šè¦è®°ä½ï¼Œç¼–ç¨‹ä¸æ˜¯å…¨éƒ¨ï¼ŒæŠ€æœ¯ä¸æ˜¯å…¨éƒ¨ï¼Œè¯•ç€ç©ºå‡ºä¸€ç‚¹æ—¶é—´ï¼Œæ”¾æ¾ä½ çš„èº«å¿ƒ å­¦ä¹  æ‹¿æ¥ä¸»ä¹‰ â‰  æ‡’æƒ°ä¸»ä¹‰ æ–¹å¼ åœ¨ä¸€ä¸ªèƒ½è®©ä½ æ²‰æµ¸å¼å­¦ä¹ çš„ç¯å¢ƒ å¬è¯¾ é¢„ä¹  å¬è¯¾ å®è·µ å¤ä¹  è®°å¿† å„ç§æ‰€è°“çš„è®°å¿†æŠ€å·§ï¼Œå½’æ ¹åˆ°åº•ç»ˆæ˜¯æ­»è®°ç¡¬èƒŒï¼Œèƒ½çœŸæ­£æŒæ¡ä¸€ä»¶ä¸œè¥¿æœ€å¥½çš„æ–¹å¼å°±æ˜¯ä½ æ¯æ—¶æ¯åˆ»éƒ½ä¼šæ¥è§¦å®ƒï¼Œåº”ç”¨å®ƒ æµ‹è¯•å…¨æµç¨‹ éœ€æ±‚é˜¶æ®µ å¤´è„‘é£æš´ éœ€æ±‚åˆ†æ è®¾è®¡é˜¶æ®µ æµ‹è¯•æ¨¡å—åˆ’åˆ† æµ‹è¯•è®¡åˆ’&æµ‹è¯•ç”¨ä¾‹ æ‰§è¡Œé˜¶æ®µ å†’çƒŸæµ‹è¯• æ‰§è¡Œæµ‹è¯• æµ‹è¯•æ€»ç»“ é¡¹ç›®ä¸Šçº¿ è‡ªåŠ¨åŒ–æµ‹è¯• ç›‘æ§ æµ‹è¯•ç”¨ä¾‹ æµ‹è¯•ç”¨ä¾‹æ˜¯é€šè¿‡ä½¿ç”¨åœ¨æµ‹è¯•è®¡åˆ’ä¸­ç¡®å®šçš„æµ‹è¯•æŠ€æœ¯ï¼Œå¯¹äºå·²ç¡®å®šçš„æµ‹è¯•æ¡ä»¶è¿›è¡Œé€æ­¥æ¨æ•²ï¼Œç²¾ç‚¼è€Œè®¾è®¡å‡ºæ¥çš„é‡ç‚¹è¯´æ˜å¦‚ä½•å…·ä½“æ“ä½œäº§ç”Ÿä½•ç§ç»“æœçš„æ–‡æ¡£ ç­‰ä»·ç±»åˆ’åˆ†æ³• æ˜¯æŠŠæ‰€æœ‰çš„è¾“å…¥æ•°æ®ï¼Œå³ç¨‹åºçš„è¾“å…¥åŸŸåˆ’åˆ†ä¸ºè‹¥å¹²éƒ¨åˆ†ï¼ˆå­é›†ï¼‰ï¼Œç„¶åä»æ¯ä¸€ä¸ªå­é›†ä¸­é€‰å–å°‘æ•°å…·æœ‰ä»£è¡¨æ€§çš„æ•°æ®ä½œä¸ºæµ‹è¯•ç”¨ä¾‹ è¾¹å€¼æ³• é€šå¸¸è¾¹ç•Œå€¼åˆ†ææ³•æ˜¯ä½œä¸ºå¯¹ç­‰ä»·ç±»åˆ’åˆ†æ³•çš„è¡¥å……ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå…¶æµ‹è¯•ç”¨ä¾‹æ¥è‡ªç­‰ä»·ç±»çš„è¾¹ç•Œ åœºæ™¯æ³• é€šè¿‡è¿ç”¨åœºæ™¯æ¥å¯¹ç³»ç»Ÿçš„åŠŸèƒ½ç‚¹æˆ–ä¸šåŠ¡æµç¨‹çš„æè¿° é”™è¯¯æ¨æµ‹æ³• æ ¹æ®ç»éªŒæˆ–ç›´è§‰æ¨æµ‹ç¨‹åºä¸­å¯èƒ½å­˜åœ¨çš„å„ç§é”™è¯¯ï¼Œä»è€Œæœ‰é’ˆå¯¹æ€§åœ°ç¼–å†™æ£€æŸ¥è¿™äº›é”™è¯¯çš„æµ‹è¯•ç”¨ä¾‹çš„æ–¹æ³• æµ‹è¯•äººå‘˜æ‡‚ä»£ç å¾ˆé‡è¦å— å¾ˆé‡è¦ï¼Œè€Œä¸”å¿…è¦ ç”Ÿäº§é—®é¢˜å¤ç° æå‡æµ‹è¯•æ•ˆç‡ é—®é¢˜å®šä½ åç»­è¿›é˜¶ è‡ªåŠ¨åŒ–æµ‹è¯• æµ‹è¯•æ¡†æ¶ è‡ªåŠ¨åŒ–æµ‹è¯• è‡ªåŠ¨åŒ–æµ‹è¯•çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ å°é¡¹ç›®ã€é¡¹ç›®çš„æ—©æœŸä¸é€‚åˆè‡ªåŠ¨åŒ– è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…· ç¬¬ä¸€ä»£ï¼Œå½•åˆ¶å›æ”¾ç±» å¼€æºç¼–ç¨‹ç±» æµ‹è¯•è®¾è®¡æ¨¡å¼ page object æŠŠè‡ªåŠ¨åŒ–æµ‹è¯•ä»£ç ä»¥é¡µé¢è¿›è¡Œç»„ç»‡ï¼Œå°†åŒä¸€ä¸ªé¡µé¢ä¸Šçš„æ‰€æœ‰ä¿¡æ¯ï¼Œç›¸å…³æ“ä½œéƒ½æ”¾åˆ°ä¸€ä¸ªç±»ä¸­ åˆ†å±‚æ¨¡å¼ è¿›è¡ŒæŠ½è±¡ æµ‹è¯•å¹³å° æ— ä»£ç ï¼Œç›´æ¥ä¸Šæ‰‹ å¯ä»¥å®Œæˆæ›´å¤šç±»å‹çš„æµ‹è¯• æ•ˆç‡ èŠ‚çœç¡¬ä»¶èµ„æº ç§»åŠ¨ç«¯æµ‹è¯• å®‰è£…å¸è½½å‡çº§æµ‹è¯• è€—ç”µé‡ä¸å‘çƒ­æµ‹è¯• æµé‡æµ‹è¯• å…¼å®¹æ€§æµ‹è¯• å¼±ç½‘æµ‹è¯• ä¸­æ–­æµ‹è¯• æ‰‹åŠ¿æµ‹è¯• æƒé™æµ‹è¯• å®¢æˆ·ç«¯æ€§èƒ½ æé™æµ‹è¯• ç”¨æˆ·ä½“éªŒ ç§»åŠ¨ç«¯è‡ªåŠ¨åŒ– Appium æ€§èƒ½æµ‹è¯• è´Ÿè½½æµ‹è¯•ï¼šé€šè¿‡é€æ­¥åŠ å‹çš„æ–¹å¼æ¥ç¡®å®šç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ï¼Œç¡®å®šç³»ç»Ÿèƒ½å¤Ÿæ‰¿å—çš„å„é¡¹é˜€å€¼ å‹åŠ›æµ‹è¯•ï¼šå‹åŠ›æµ‹è¯•åˆ™æ˜¯è¦çœ‹æœåŠ¡çš„ä¸´ç•Œç‚¹ å®¹é‡æµ‹è¯•ï¼šå®¹é‡æµ‹è¯•ç›¸åï¼Œæ˜¯åœ¨ä¸€å®šæ€§èƒ½ç›®æ ‡çš„å‰æä¸‹ï¼Œç³»ç»Ÿèƒ½å¤Ÿå¤„ç†çš„æœ€å¤§èƒ½åŠ› é…ç½®æµ‹è¯•ï¼šè¿™æ˜¯é€šè¿‡å¯¹è¢«æµ‹è¯•è½¯ä»¶çš„è½¯ç¡¬ä»¶é…ç½®çš„æµ‹è¯•ï¼Œæ‰¾åˆ°ç³»ç»Ÿå„é¡¹èµ„æºçš„æœ€ä¼˜åˆ†é…åŸåˆ™ æ€§èƒ½æµ‹è¯•â‰ æ€§èƒ½æµ‹è¯•å·¥å…·çš„ä½¿ç”¨ éœ€è¦å‰æœŸåˆ†æï¼Œå¹¶ä¸”èƒ½ç›‘æ§è°ƒä¼˜ æµ‹è¯•ä¸æ¶æ„è®¾è®¡ å¦‚æœä½ çš„æ„è¯†é‡Œç³»ç»Ÿæ¶æ„éƒ½ä¸å­˜åœ¨çš„è¯ï¼Œé‚£ä¹ˆä½ æ€ä¹ˆçŸ¥é“æ¶æ„åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°å¼‚å¸¸å‘¢ ç²¾å‡†æµ‹è¯• é€šè¿‡è‡ªåŠ¨åŒ–çš„æ‰‹æ®µå¯¹æ›´æ–°çš„ä»£ç è¿›è¡ŒèŒƒå›´åˆ¤æ–­ï¼Œç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼Œè‡ªåŠ¨æ‰§è¡Œ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-26 02:19:22 "},"é€šè¯†/å­¦ä¹ æ–¹æ³•è®º.html":{"url":"é€šè¯†/å­¦ä¹ æ–¹æ³•è®º.html","title":"å­¦ä¹ æ–¹æ³•è®º","keywords":"","body":"å­¦ä¹ æ–¹æ³•è®º ä¸»è¦é€”å¾„ æ–‡æ¡£/ä¹¦ç± è¶Šå¾€åº•å±‚ä¿¡æ¯å¯†åº¦è¶Šå¤§ï¼Œå‡†ç¡®æ€§è¶Šé«˜ï¼Œå‚è€ƒä»·å€¼è¶Šå¤§ è§†é¢‘ è§†é¢‘å¯¹åˆå­¦è€…æ¥è¯´å¸®åŠ©æŒºå¤§çš„ã€‚ ä½†åˆ°äº†ä¸€äº›é˜¶æ®µï¼Œè§†é¢‘è®²è§£é€Ÿåº¦å¯¹äºæœ‰åŸºç¡€çš„äººæ¥è¯´è¿‡æ…¢ï¼Œè€Œä¸”è¿›é˜¶çš„å…è´¹è§†é¢‘ä¹Ÿè¾ƒå°‘ åˆ°è¿™ä¸ªæ—¶å€™ï¼Œçœ‹è§†é¢‘å°±ä¸èƒ½å†åªå…³æ³¨è§†é¢‘æœ¬èº«çš„çŸ¥è¯†ç‚¹ï¼Œè€Œæ˜¯å¤šå…³æ³¨è¯¸å¦‚ä½œè€…çš„ç¼–ç ï¼Œä½œè€…çš„æ€æƒ³ç­‰å†…å®¹ æºç  ä»¥æ€è€ƒä¸ºä¸»ï¼Œä»è®¾è®¡è€…çš„è§’åº¦æ¥è¯»æºç  ç›®çš„ è¯»æºç ä¹‹å‰è¦ç¡®å®šç›®çš„ï¼Œä¸ç„¶å°±æ˜¯èµ°é©¬è§‚èŠ±ï¼Œæ²¡æœ‰æ”¶è· æ€è·¯ ä»è®¾è®¡è€…çš„è§’åº¦æ¥è¯»æºç  å…ˆæ•´ä½“åå±€éƒ¨ å…ˆæ‰‹å†Œåæºç  å¦‚æœè¿ä½¿ç”¨éƒ½ä¸ä¼šå°±ç›´æ¥å»å­¦ä¹ æºç ï¼Œæ˜¯ä¸€ç§éå¸¸ä¸ç†æ™ºçš„è¡Œä¸º ç”±æ˜“åˆ°éš¾ å¸¦ç€é—®é¢˜è¯»æºç  äº†è§£é¡¹ç›®çš„èƒŒæ™¯ï¼Œé¡¹ç›®çš„åŠŸèƒ½ å†™ä»£ç æ—¶é‡åˆ°é—®é¢˜è¿›è¡Œè¯»æºç  çœ‹issue çœ‹é”™è¯¯å †æ ˆä¿¡æ¯ é€šè¿‡æºç çš„å•æµ‹æ¥å­¦ä¹  é€šè¿‡demo æŠ€å·§ è‡ªå·±å®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆçš„æ¡†æ¶ï¼Œè·Ÿç€é—®é¢˜å»æ¢ç´¢æºç  å¯»æ‰¾æºç çš„å…¥å£ é˜…è¯»æ—¶é‡è§†å˜é‡ã€å‡½æ•°çš„å‘½å é˜…è¯»æ—¶å‚è€ƒæºç é‡Œçš„æ³¨é‡Š å…³æ³¨ç±»å±‚æ¬¡ç»“æ„ è°ƒè¯• é€šè¿‡IDEçš„è°ƒè¯•åŠŸèƒ½èƒ½æ¸…é™¤åœ°çœ‹åˆ°ä»£ç è¿è¡Œè½¨è¿¹ï¼Œä»è€Œæ›´æ¸…æ¥šåœ°è§‚å¯Ÿåˆ°æ•´ä¸ªä»£ç  åŸºæœ¬æ–¹æ³• è®¾ç½®æ–­ç‚¹ è°ƒè¯•æ¨¡å¼è¿è¡Œ å•æ­¥è°ƒè¯• å¸¸è§è°ƒè¯•åŠŸèƒ½æŒ‰é’® 1 è¡¨ç¤º Step Over å³è·³è¿‡ï¼Œæ‰§è¡Œåˆ°ä¸‹ä¸€è¡Œï¼› 2 è¡¨ç¤º Step Into å³æ­¥å…¥ï¼Œå¯ä»¥è¿›å…¥è‡ªå®šä¹‰çš„å‡½æ•°ï¼› 3 è¡¨ç¤º Force Step Into å³å¼ºåˆ¶è¿›å…¥ï¼Œå¯ä»¥è¿›å…¥åˆ°ä»»ä½•æ–¹æ³•ï¼ˆåŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“æˆ– JDK æºç ï¼‰ï¼› 4 è¡¨ç¤º Step Out å³è·³å‡ºï¼Œå¦‚æœå½“å‰è°ƒè¯•çš„æ–¹æ³•æ²¡é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨æ­¤åŠŸèƒ½è·³å‡ºå½“å‰å‡½æ•°ï¼› 5 è¡¨ç¤º Drop frame å³ç§»é™¤å¸§ï¼Œç›¸å½“äºå›é€€åˆ°ä¸Šä¸€çº§ï¼› 6 è¡¨ç¤º Run to Cursor å³æ‰§è¡Œåˆ°é¼ æ ‡æ‰€åœ¨çš„ä»£ç è¡Œæ•°ã€‚ é«˜çº§æŠ€å·§ å¤šçº¿ç¨‹è°ƒè¯• æ¡ä»¶æ–­ç‚¹ è¿è¡Œæ—¶ä¿®æ”¹å˜é‡å€¼ å¯¹å˜é‡æ‰§è¡Œè¡¨è¾¾å¼ åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œæ¯”å¦‚å¯ä»¥å¯¹é›†åˆæ·»åŠ æ•°æ® watchè¡¨è¾¾å¼ï¼Œå¯ä»¥è®©è¡¨è¾¾å¼æ˜¾å¼åœ¨å˜é‡åŒº memoryæŸ¥çœ‹å¯¹è±¡æ•°é‡ å¼‚å¸¸æ–­ç‚¹ è®¾ç½®è‡ªå®šä¹‰å¼‚å¸¸æ–­ç‚¹ è¿œç¨‹è°ƒè¯• è¢«è°ƒè¯•ä»£ç æ·»åŠ å¯åŠ¨å‚æ•° -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000 -Xdebug IDEAé…ç½®è¿œç¨‹ä¸»æœºä¿¡æ¯ ä¸“æ  ä¸“æ ç›¸å¯¹äºåšå®¢å…¬ä¼—å·çš„å¥½å¤„åœ¨äºçŸ¥è¯†çš„ç³»ç»Ÿæ€§è¾ƒå¼º å…¬ä¼—å·/åšå®¢ é€‰æ‹©å…¬ä¼—å·æˆ–è€…åšå®¢éœ€è¦æ³¨æ„ç”„åˆ«ï¼ŒæŠ±ç€æ€€ç–‘çš„æ€åº¦ æ€ç»´å¯¼å›¾ é€šè¿‡æ€ç»´å¯¼å›¾ï¼Œå¯ä»¥æ•´ç†éœ€æ±‚ï¼Œæ¢³ç†æ‰€å­¦çŸ¥è¯†å¹¶æ„å»ºçŸ¥è¯†ä½“ç³» æ–¹æ³• æ¨æ¼”éªŒè¯ æ ¹æ®æ–‡æ¡£ã€ä½¿ç”¨ä½“éªŒæ¥åæ¨å®ç°æ–¹å¼ï¼Œç„¶åä¸å®é™…å®ç°ä½œå¯¹æ¯” æ•™ è´¹æ›¼å­¦ä¹ æ³• PDACå¾ªç¯ å¾ˆå¤šäººå­¦ä¹ æ—¶æ›´å–œæ¬¢ â€œåšæ›´å¤šè¯•å·â€ ç»™è‡ªå·±å¸¦æ¥çš„è™šå‡æˆå°±æ„Ÿï¼Œè€Œä¸æ˜¯çæƒœé”™é¢˜ç»™è‡ªå·±å¸¦æ¥çš„ä»·å€¼ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-02-21 05:32:07 "},"é€šè¯†/åŒºå—é“¾.html":{"url":"é€šè¯†/åŒºå—é“¾.html","title":"åŒºå—é“¾","keywords":"","body":"åŒºå—é“¾ åº”ç”¨åœºæ™¯ èµ„äº§ï¼šæ”¯ä»˜ç»“ç®— è®°è´¦ ä¸å¯æŠµèµ– ç‚¹å¯¹ç‚¹ åŒ¿å MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-04-22 08:13:28 "},"é€šè¯†/markdownå†™ä½œ.html":{"url":"é€šè¯†/markdownå†™ä½œ.html","title":"markdownå†™ä½œ","keywords":"","body":"markdownå†™ä½œ è¯­æ³•ç®€å• æ–‡æœ¬æ ¼å¼ ç½‘ç»œåä½œ æ–‡ç« é¢˜çº² æ ‡é¢˜ ## äºŒçº§æ ‡é¢˜ æ— åºåˆ—è¡¨ - 1 - 2 æœ‰åºåˆ—è¡¨ 1. a 2. b å®Œæˆä»»åŠ¡ - [x] å·²å®Œæˆ - [ ] æœªå®Œæˆ [x] å·²å®Œæˆ [ ] æœªå®Œæˆ æ–‡æœ¬ä¸ä»£ç  åˆ†æ®µ p1 p2 ç²—ä½“ **text** æ–œä½“ *text* åˆ é™¤çº¿ ~~text~~ å¼•ç”¨ > å¼•ç”¨æ–‡æœ¬ ä»£ç å— è½¬ç§»å­—ç¬¦ è„šæ³¨ - cxk[^1] [^1]:çŸ¥åç¯®çƒé€‰æ‰‹. è¡¨æ ¼å›¾å½¢ è¡¨æ ¼ | å§“å | æ€§åˆ« | å¹´é¾„ | å©šå§»çŠ¶å†µ | |-----|-----:|:---:|:--------| | å¼ ä¸‰ | ç”· | 25 | æœªå©š | | æå›› | å¥³ | 35 | å·²å©š | | ç‹äº” | ç”· | 45 | ç¦»å¼‚ | å¯ä»¥ä½¿ç”¨htmlæ¥å‘ˆç°å¤æ‚è¡¨æ ¼ æµç¨‹å›¾ graph LR id1(A) --> id2(B) åºåˆ—å›¾ sequenceDiagram cxk ->> server: ç»™æˆ‘ä¸€å°æœåŠ¡å™¨ server ->> cxk : å¥½çš„ï¼Œç»™ä½  æ•°å­¦ latex è¡Œå†…å¼•ç”¨ï¼š$\\LaTeX$ å•ç‹¬å¼•ç”¨ï¼š$$\\LaTeX$$ ä¸Šæ ‡ä¸ä¸‹æ ‡ $$10^2$$ $$10^{2+i}$$ $$A_i$$ $$A_{i+1}$$ æ±‚å’Œ $$\\sum_{i=0}^n A_i$$ ä¸Šåˆ’çº¿ä¸‹åˆ’çº¿ $$P(A) = \\overline{A}\\overline{B}$$ $$A = B \\underline{B}$$ èŠ±æ‹¬å· $$\\underbrace{e,d}_{å…¬é’¥P_k}$$ åˆ†å¼ $$\\frac{a}{2}$$ çŸ©é˜µ $$ \\begin{matrix} a && b \\ c && d \\ \\end{matrix} $$ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-10 02:46:50 "},"é€šè¯†/æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡.html":{"url":"é€šè¯†/æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡.html","title":"æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡","keywords":"","body":"æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ éšæœºäº‹ä»¶ æ ·æœ¬ç©ºé—´å’Œéšæœºäº‹ä»¶ éšæœºè¯•éªŒ å¯åœ¨ç›¸åŒæ¡ä»¶ä¸‹é‡å¤è¿›è¡Œï¼ˆå¯é‡å¤æ€§ï¼‰ å…¨éƒ¨ç»“æœæ˜¯å·²çŸ¥çš„ï¼ˆç»“æœå·²çŸ¥æ€§ï¼‰ äº‹å‰æ— æ³•é¢„çŸ¥ç»“æœï¼ˆä¸å¯é¢„æµ‹æ€§ï¼‰ éšæœºäº‹ä»¶ åœ¨éšæœºè¯•éªŒä¸­ï¼Œå¯¹æŸäº›ç°è±¡çš„é™ˆè¿° å¿…ç„¶äº‹ä»¶Î© ä¸å¯èƒ½äº‹ä»¶âˆ… åŸºæœ¬äº‹ä»¶ï¼šä¸€æ¬¡è¯•éªŒä¸­å¿…å‘ç”Ÿä¸”æœ€ç®€å•çš„äº‹ä»¶ å¤åˆäº‹ä»¶ï¼šè‹¥å¹²åŸºæœ¬äº‹ä»¶ç»„æˆ æ ·æœ¬ç©ºé—´ æ ·æœ¬ç‚¹ï¼šè¯•éªŒçš„æ¯ä¸€ä¸ªå¯èƒ½ç»“æœ æ ·æœ¬ç‚¹å…¨ä½“ç§°ä¸ºæ ·æœ¬ç©ºé—´ äº‹ä»¶å…³ç³»å’Œè¿ç®— åŒ…å« Aå‘ç”Ÿå¿…ç„¶å¯¼è‡´Bå‘ç”Ÿ A âŠ‚ B å¦‚æœ A âŠ‚ B ä¸” B âŠ‚ A,åˆ™ A = B å’Œ(å¹¶)äº‹ä»¶ A âˆª B ç§¯(äº¤)äº‹ä»¶ A âˆ© B æˆ–è€… AB äº’ä¸ç›¸å®¹(äº’æ–¥) äº‹ä»¶A,Bä¸å¯èƒ½åœ¨ä¸€æ¬¡è¯•éªŒåŒæ—¶å‘ç”Ÿ å¯¹ç«‹äº‹ä»¶(é€†äº‹ä»¶) B = {Aä¸å‘ç”Ÿ} B = A å·®äº‹ä»¶ A-B æˆ– AB è¿ç®—å¾‹ äº‹ä»¶çš„æ¦‚ç‡ äº‹ä»¶Aå‘ç”Ÿçš„å¯èƒ½æ€§å¤§å°ä¸ºP(A) ç§°ä¸ºAçš„æ¦‚ç‡ Aå‡ºç°çš„é¢‘ç‡ = (Aå‡ºç°çš„æ¬¡æ•°/å®éªŒæ€»æ¬¡æ•°) å¤å…¸æ¦‚å‹ å®éªŒç»“æœä¸ºæœ‰é™ä¸ª å„ä¸ªç»“æœå‘ç”Ÿçš„å¯èƒ½æ€§ç›¸ç­‰ P(A) = (Aå‡ºç°çš„æ¬¡æ•°/å®éªŒæ€»æ¬¡æ•°) å‡ ä½•æ¦‚å‹ å…è®¸å®éªŒç»“æœä¸ºæ— é™ä¸ª å…¬ç†åŒ–å®šä¹‰ éè´Ÿæ€§ ï¼Œ0 â‰¤ P(A) â‰¤ 1 è§„èŒƒæ€§ Pï¼ˆÎ©ï¼‰ = 1 å®Œå…¨å¯åŠ æ€§ nä¸ªäº‹ä»¶å¹¶é›†æ¦‚ç‡ = nä¸ªäº‹ä»¶åŠ èµ·æ¥çš„æ¦‚ç‡ æ€§è´¨ï¼š P(âˆ…) = 0 ä¸å¯èƒ½äº‹ä»¶æ¦‚ç‡ä¸º0 nä¸ªäº‹ä»¶å¹¶é›†æ¦‚ç‡ = nä¸ªäº‹ä»¶åŠ èµ·æ¥çš„æ¦‚ç‡ Pï¼ˆAï¼‰+P(Aï¼‰ Pï¼ˆB-Aï¼‰=P(B)-P(AB) P(AâˆªB)=P(A)+P(B)-P(AB) æ¡ä»¶æ¦‚ç‡ä¸äº‹ä»¶çš„ç‹¬ç«‹æ€§ æ¡ä»¶æ¦‚ç‡ å·²çŸ¥äº‹ä»¶Bå‘ç”Ÿçš„æ¡ä»¶ä¸‹ï¼Œäº‹ä»¶Aå‘ç”Ÿçš„å¯èƒ½æ€§çš„å®¢è§‚åº¦é‡ç§°ä¸ºæ¡ä»¶æ¦‚ç‡ï¼Œè®°ä¸ºP(A|B)ã€‚ P(A|B) = P(AB) / P(B) ä¹˜æ³•å®šç† P (AB) = P(A)P(B|A) P (AB) = P(B)P(A|B) å…¨æ¦‚ç‡å…¬å¼ ç”¨äºå¤šä¸ªåŸå› å¯¼è‡´ä¸€ä¸ªç»“æœå‘ç”Ÿ æœ‰äº’ä¸ç›¸å®¹äº‹ä»¶B1 B2 B3 BN B1...BN æ¦‚ç‡å’Œä¸º1 Aä¸ºÎ©ä¸­çš„ä¸€ä¸ªäº‹ä»¶ åˆ™ A = P(AB1) + P(AB2)... è´å¶æ–¯å…¬å¼ ç»“æœä¸ºAçš„äº‹ä»¶ï¼Œæ±‚Biå¯¼è‡´å…¶å‘ç”Ÿçš„æ¦‚ç‡ äº‹ä»¶çš„ç‹¬ç«‹æ€§ è‹¥P(A|B) = P(A) æˆ– P(B|A)=P(B) æˆ– P(AB)=P(A)P(B) åˆ™äº‹ä»¶Aä¸Bäº’ç›¸ç‹¬ç«‹ éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ éšæœºå˜é‡ï¼šå¯¹äºÎ©ä¸Šçš„æ¯ä¸€æ ·æœ¬ç‚¹wï¼Œéƒ½æœ‰ä¸€ä¸ªå®æ•°ä¸ä¹‹å¯¹åº”ï¼Œåˆ™ç§°X(w)çš„Xä¸ºéšæœºå˜é‡ åˆ†å¸ƒå‡½æ•°F(x)=P(X) ç¦»æ•£å‹éšæœºå˜é‡ æœ‰ä¸€ç±»éšæœºå˜é‡å¯èƒ½çš„å–å€¼æ˜¯æœ‰é™ä¸ªæˆ–å¯åˆ—æ— ç©·ä¸ªï¼Œç§°ä¹‹ä¸ºç¦»æ•£å‹éšæœºå˜é‡ å„ä¸ªå¯èƒ½çš„å–å€¼ç»„åˆèµ·æ¥ç§°ä¹‹ä¸ºéšæœºå˜é‡Xçš„åˆ†å¸ƒå¾‹ å¸¸ç”¨ç¦»æ•£å‹åˆ†å¸ƒ 0-1åˆ†å¸ƒ äºŒé¡¹åˆ†å¸ƒ å‡ ä½•åˆ†å¸ƒ æ³Šæ¾åˆ†å¸ƒ è¿ç»­å‹éšæœºå˜é‡ ä¸€äº›éšæœºå˜é‡çš„å¯èƒ½å–å€¼å¯å……æ»¡ä¸€ä¸ªåŒºé—´ï¼Œç§°ä¹‹ä¸ºè¿ç»­å‹éšæœºå˜é‡ å¸¸ç”¨è¿ç»­å‹åˆ†å¸ƒ å‡åŒ€åˆ†å¸ƒ æŒ‡æ•°åˆ†å¸ƒ æ­£æ€åˆ†å¸ƒ äºŒç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ å¯¹äºÎ©ä¸Šçš„æ¯ä¸€æ ·æœ¬ç‚¹wï¼Œæœ‰ä¸¤ä¸ªå®æ•°XYä¸ä¹‹å¯¹åº”ï¼Œåˆ™ï¼ˆX,Yï¼‰ä¸ºäºŒç»´éšæœºå˜é‡ è”åˆåˆ†å¸ƒå‡½æ•° äºŒç»´ç¦»æ•£å‹éšæœºå˜é‡ äºŒç»´è¿ç»­å‹éšæœºå˜é‡ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2020-06-19 01:02:22 "},"å‚è€ƒæ–‡çŒ®.html":{"url":"å‚è€ƒæ–‡çŒ®.html","title":"å‚è€ƒæ–‡çŒ®","keywords":"","body":"å‚è€ƒæ–‡çŒ®/æ–‡æ¡£/ä¹¦ç± [1] CS-Notes [2] advanced-java [3] Netty å®æˆ˜ [4] è¶£å­¦ç®—æ³• [5] ç¼–ç¨‹ç ç‘ [6] é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼šè½¯ä»¶æ ¸å¿ƒå¤æ‚æ€§åº”å¯¹ä¹‹é“ [7] JAVA EE 7 ç²¾ç²¹ [8] InternetArchitect [9] javaguide [10] æ•æ·è½¯ä»¶å¼€å‘ [11] Kafka æƒå¨æŒ‡å— [12] æ·±å…¥æµ…å‡º Docker [13] é«˜æ€§èƒ½ MySQL [14] MySQL æŠ€æœ¯å†…å¹• [15] Tomcat æ¶æ„è§£æ [16] ä»£ç æ•´æ´ä¹‹é“ ç¨‹åºå‘˜çš„èŒä¸šç´ å…» [17] Kubernetes.in.Action [18] ä»£ç æ•´æ´ä¹‹é“ [19] ç å‡ºé«˜æ•ˆ Javaå¼€å‘æ‰‹å†Œ [20] Java è§£æƒ‘ [21] Zookeeper åˆ†å¸ƒå¼è¿‡ç¨‹ååŒæŠ€æœ¯è¯¦è§£ [22] Redis å¼€å‘ä¸è¿ç»´ [23] Spring Cloud Alibaba å‚è€ƒæ–‡æ¡£ [24] Nacos æ–‡æ¡£ [25] æ·±å…¥åˆ†æ Java Web æŠ€æœ¯å†…å¹• [26] è½¯ä»¶æ¶æ„è®¾è®¡ å¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„ä¸ä¸šåŠ¡æ¶æ„èåˆä¹‹é“ [27] Sentinel æ–‡æ¡£ [28] ç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ ä»å°å·¥åˆ°ä¸“å®¶ [29] memcached Wiki [30] é›†ä½“æ™ºæ…§ç¼–ç¨‹ [31] æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº [32] ä»£ç ä¹‹é«“ ç¼–ç¨‹è¯­è¨€æ ¸å¿ƒæ¦‚å¿µ [33] Istio Handbookâ€”â€”Istio æœåŠ¡ç½‘æ ¼è¿›é˜¶å®æˆ˜ [34] è½¯ä»¶æ¶æ„æ¢ç´¢ï¼šThe Fenix Project [35] ä¸ƒå‘¨ä¸ƒè¯­è¨€ ç†è§£å¤šç§ç¼–ç¨‹èŒƒå‹ [36] ç°ä»£å‰ç«¯æŠ€æœ¯è§£æ [37] ä¼ä¸šITæ¶æ„è½¬å‹ä¹‹é“ é˜¿é‡Œå·´å·´ä¸­å°æˆ˜ç•¥æ€æƒ³ä¸æ¶æ„å®æˆ˜ [38] ç°ä»£æ“ä½œç³»ç»Ÿ [39] è®¾è®¡æ¨¡å¼æ²‰æ€å½• [40] ä»£ç çš„æœªæ¥ [41] ä¸ƒå‘¨ä¸ƒå¹¶å‘æ¨¡å‹ [42] MaxKey CASä»‹ç» [43] æ·±å…¥ç†è§£Nginx æ¨¡å—å¼€å‘ä¸æ¶æ„è§£æ [44] å¾®æœåŠ¡æ¶æ„è®¾è®¡æ¨¡å¼ [45] è®¡ç®—æœºç½‘ç»œ è‡ªé¡¶å‘ä¸‹æ–¹æ³• [46] SQL å¿…çŸ¥å¿…ä¼š [47] ddia [48] Kafka Documentation [49] å›¾è§£ Java å¤šçº¿ç¨‹è®¾è®¡æ¨¡å¼ [50] ä¸šåŠ¡é€»è¾‘æ‹†åˆ†æ¨¡å¼ [51] æ·±å…¥ç†è§£Javaå‡½æ•°å¼ç¼–ç¨‹å’ŒStreams API [52] è®¾è®¡æ¨¡å¼ å¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ [53] https://github.com/brickspert/blog [54] https://github.com/RedSpider1/concurrent [55] å‡½æ•°å¼ç¼–ç¨‹æ€ç»´ [56] SpringAll [57] Java ç¼–ç¨‹æ€æƒ³ MY all right reservedï¼Œpowered by Gitbookè¯¥é¡µé¢æœ€åä¿®æ”¹äºï¼š 2021-06-23 09:34:59 "}}